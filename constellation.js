(function(Lp,bk){function z(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function hs(a){return a instanceof Array?function(){return da.iter(a)}:"function"==typeof a.iterator?u(a,a.iterator):a.iterator}function u(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Mt++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Lp.lime=Lp.lime||{};var m={},U=function(){return y.__string_rec(this,"")},Pl=function(){};m["lime.app.IModule"]=Pl;Pl.__name__=["lime","app","IModule"];Pl.prototype={addRenderer:null,addWindow:null,registerModule:null,removeRenderer:null,removeWindow:null,setPreloader:null,unregisterModule:null,__class__:Pl};var yg=function(){this.onExit=new zi;this.__renderers=[];this.__windows=[]};m["lime.app.Module"]=yg;yg.__name__=["lime","app","Module"];
yg.__interfaces__=[Pl];yg.prototype={onExit:null,__application:null,__preloader:null,__renderers:null,__windows:null,addRenderer:function(a){var b=u(this,this.render);a.onRender.add(function(){b(a)});var c=u(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=u(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)});this.__renderers.push(a)},addWindow:function(a){var b=u(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=u(this,this.__onWindowClose);
a.onClose.add(function(){c(a)},!1,-1E4);var d=u(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=u(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=u(this,this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var k=u(this,this.onWindowEnter);a.onEnter.add(function(){k(a)});var p=u(this,this.onWindowFocusIn);a.onFocusIn.add(function(){p(a)});var w=u(this,this.onWindowFocusOut);a.onFocusOut.add(function(){w(a)});var h=u(this,this.onWindowFullscreen);a.onFullscreen.add(function(){h(a)});
var n=u(this,this.onKeyDown);a.onKeyDown.add(function(b,c){n(a,b,c)});var l=u(this,this.onKeyUp);a.onKeyUp.add(function(b,c){l(a,b,c)});var g=u(this,this.onWindowLeave);a.onLeave.add(function(){g(a)});var m=u(this,this.onWindowMinimize);a.onMinimize.add(function(){m(a)});var r=u(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){r(a,b,c,d)});var q=u(this,this.onMouseMove);a.onMouseMove.add(function(b,c){q(a,b,c)});var t=u(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){t(a,
b,c)});var v=u(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){v(a,b,c,d)});var x=u(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){x(a,b,c)});var y=u(this,this.onWindowMove);a.onMove.add(function(b,c){y(a,b,c)});var z=u(this,this.onWindowResize);a.onResize.add(function(b,c){z(a,b,c)});var B=u(this,this.onWindowRestore);a.onRestore.add(function(){B(a)});var A=u(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){A(a,b,c,d)});var D=u(this,this.onTextInput);a.onTextInput.add(function(b){D(a,
b)});if(-1<a.id)this.onWindowCreate(a);this.__windows.push(a)},registerModule:function(a){this.__application=a;a.onExit.add(u(this,this.onModuleExit),!1,0);a.onUpdate.add(u(this,this.update));for(a=Qc.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}Qc.onConnect.add(u(this,this.__onGamepadConnect));for(a=ic.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);ic.onConnect.add(u(this,this.__onJoystickConnect));wd.onStart.add(u(this,this.onTouchStart));wd.onMove.add(u(this,
this.onTouchMove));wd.onEnd.add(u(this,this.onTouchEnd))},removeRenderer:function(a){null!=a&&-1<this.__renderers.indexOf(a)&&da.remove(this.__renderers,a)},removeWindow:function(a){null!=a&&-1<this.__windows.indexOf(a)&&da.remove(this.__windows,a)},setPreloader:function(a){null!=this.__preloader&&(this.__preloader.onProgress.remove(u(this,this.onPreloadProgress)),this.__preloader.onComplete.remove(u(this,this.onPreloadComplete)));this.__preloader=a;if(null==a||a.complete)this.onPreloadComplete();
else a.onProgress.add(u(this,this.onPreloadProgress)),a.onComplete.add(u(this,this.onPreloadComplete))},unregisterModule:function(a){this.__application.onExit.remove(u(this,this.onModuleExit));this.__application.onUpdate.remove(u(this,this.update));Qc.onConnect.remove(u(this,this.__onGamepadConnect));ic.onConnect.remove(u(this,this.__onJoystickConnect));wd.onStart.remove(u(this,this.onTouchStart));wd.onMove.remove(u(this,this.onTouchMove));wd.onEnd.remove(u(this,this.onTouchEnd));this.onModuleExit(0)},
onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c,d){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},
onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},
onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=u(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,
d){b(a,c,d)});var c=u(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=u(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=u(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);var b=u(this,this.onJoystickAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=u(this,this.onJoystickButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=u(this,this.onJoystickButtonUp);
a.onButtonUp.add(function(b){d(a,b)});var e=u(this,this.onJoystickDisconnect);a.onDisconnect.add(function(){e(a)});var f=u(this,this.onJoystickHatMove);a.onHatMove.add(function(b,c){f(a,b,c)});var k=u(this,this.onJoystickTrackballMove);a.onTrackballMove.add(function(b,c,d){k(a,b,c,d)})},__onWindowClose:function(a){this.onWindowClose(a);da.remove(this.__windows,a)},__class__:yg};var Mp=function(a){this.gameDeviceCache=new fc;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=
-1;pe.init()};m["lime._backend.html5.HTML5Application"]=Mp;Mp.__name__=["lime","_backend","html5","HTML5Application"];Mp.prototype={gameDeviceCache:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;
case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073741923;
case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;
case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",u(this,this.handleKeyEvent),!1);window.addEventListener("keyup",u(this,this.handleKeyEvent),!1);window.addEventListener("focus",u(this,this.handleWindowEvent),!1);window.addEventListener("blur",u(this,this.handleWindowEvent),!1);window.addEventListener("resize",u(this,
this.handleWindowEvent),!1);window.addEventListener("beforeunload",u(this,this.handleWindowEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],
window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),k=Math.max(0,16-(f-a)),p=window.setTimeout(function(){b(f+k)},k);a=f+k;return p});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},
exit:function(){},getFrameRate:function(){return 0>this.framePeriod?60:1E3==this.framePeriod?0:1E3/this.framePeriod},handleApplicationEvent:function(a){null!=this.parent.__windows[0]&&this.parent.__windows[0].backend.updateSize();this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.__renderers[0]&&null!=this.parent.__renderers[0].context&&
(this.parent.__renderers[0].render(),this.parent.__renderers[0].onRender.dispatch(),this.parent.__renderers[0].onRender.canceled||this.parent.__renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(u(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c=(a.shiftKey?
3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__windows[0].onKeyDown.dispatch(b,c),this.parent.__windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.__windows[0].onKeyUp.dispatch(b,c),this.parent.__windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.__windows[0])switch(a.type){case "beforeunload":this.parent.__windows[0].onClose.dispatch();break;case "blur":this.parent.__windows[0].onFocusOut.dispatch();
this.parent.__windows[0].onDeactivate.dispatch();break;case "focus":this.parent.__windows[0].onFocusIn.dispatch();this.parent.__windows[0].onActivate.dispatch();break;case "resize":this.parent.__windows[0].backend.handleResizeEvent(a)}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=ic.__getDeviceData();if(null!=a)for(var b,c,d,e,f,k=0,p=a.length;k<p;)if(b=k++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new Np;f.id=
b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var w=c++;f.buttons.push(e.buttons[w].value)}c=0;for(d=e.axes.length;c<d;)w=c++,f.axes.push(e.axes[w]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(ic.__connect(b),f.isGamepad&&Qc.__connect(b))}f=this.gameDeviceCache.h[b];d=ic.devices.h[b];c=Qc.devices.h[b];if(e.connected){for(var h=0,n=e.buttons.length;h<n;){var l=h++,w=e.buttons[l].value;if(w!=f.buttons[l]){if(6==l)d.onAxisMove.dispatch(e.axes.length,
w),null!=c&&c.onAxisMove.dispatch(4,w);else if(7==l)d.onAxisMove.dispatch(e.axes.length+1,w),null!=c&&c.onAxisMove.dispatch(5,w);else if(0<w?d.onButtonDown.dispatch(l):d.onButtonUp.dispatch(l),null!=c){switch(l){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<w?c.onButtonDown.dispatch(b):
c.onButtonUp.dispatch(b)}f.buttons[l]=w}}b=0;for(w=e.axes.length;b<w;)h=b++,e.axes[h]!=f.axes[h]&&(d.onAxisMove.dispatch(h,e.axes[h]),null!=c&&c.onAxisMove.dispatch(h,e.axes[h]),f.axes[h]=e.axes[h])}else f.connected&&(f.connected=!1,ic.__disconnect(b),Qc.__disconnect(b))}},__class__:Mp};var Ce=function(){this.onUpdate=new zi;yg.call(this);null==Ce.current&&(Ce.current=this);this.modules=[];this.windowByID=new fc;this.backend=new Mp(this);this.registerModule(this)};m["lime.app.Application"]=Ce;Ce.__name__=
["lime","app","Application"];Ce.__super__=yg;Ce.prototype=z(yg.prototype,{config:null,modules:null,preloader:null,onUpdate:null,renderer:null,renderers:null,window:null,windows:null,backend:null,windowByID:null,addModule:function(a){a.registerModule(this);this.modules.push(a);if(0<this.__renderers.length)for(var b=0,c=this.__renderers;b<c.length;){var d=c[b];++b;a.addRenderer(d)}if(0<this.__windows.length)for(b=0,c=this.__windows;b<c.length;)d=c[b],++b,a.addWindow(d);a.setPreloader(this.__preloader)},
addRenderer:function(a){yg.prototype.addRenderer.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addRenderer(a)}},create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new Kh(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete){this.setPreloader(this.__preloader);a=0;
for(var b=this.modules;a<b.length;)++a,this.setPreloader(this.__preloader)}}},createWindow:function(a){yg.prototype.addWindow.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addWindow(a)}null==a.renderer&&(b=new Op(a),this.addRenderer(b));a.create(this);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){Ce.current=this;return this.backend.exec()},onModuleExit:function(a){this.backend.exit()},onWindowClose:function(a){this.removeWindow(a)},removeModule:function(a){null!=
a&&(a.unregisterModule(this),da.remove(this.modules,a))},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(da.remove(this.__windows,a),this.windowByID.remove(a.id),a.close(),null!=a.renderer&&this.removeRenderer(a.renderer),this.__windows[0]==a&&(this.window=null),0==this.__windows.length&&nb.exit(0))},setPreloader:function(a){yg.prototype.setPreloader.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setPreloader(a)}},get_frameRate:function(){return this.backend.getFrameRate()},
set_frameRate:function(a){return this.backend.setFrameRate(a)},get_preloader:function(){return this.__preloader},get_renderer:function(){return this.__renderers[0]},get_renderers:function(){return this.__renderers},get_window:function(){return this.__windows[0]},get_windows:function(){return this.__windows},__class__:Ce,__properties__:{get_windows:"get_windows",get_window:"get_window",get_renderers:"get_renderers",get_renderer:"get_renderer",get_preloader:"get_preloader",set_frameRate:"set_frameRate",
get_frameRate:"get_frameRate"}});var Ai=function(){};m.ApplicationMain=Ai;Ai.__name__=["ApplicationMain"];Ai.main=function(){nb.__registerEntryPoint("constellation",Ai.create,{build:"433",company:"Terry Cavanagh",file:"constellation",fps:60,name:"Constellation",orientation:"",packageName:"com.yournamehere.constellation",version:"1.0.0",windows:[{allowHighDPI:!1,alwaysOnTop:!1,antialiasing:0,background:0,borderless:!1,depthBuffer:!0,display:0,fullscreen:!1,hardware:!0,height:0,hidden:null,maximized:null,
minimized:null,parameters:{},resizable:!0,stencilBuffer:!0,title:"Constellation",vsync:!1,width:0,x:null,y:null}]})};Ai.create=function(a){var b=new Ql;b.create(a);ch.init(a);var c=new Rl(new Sl);b.setPreloader(c);c.create(a);var d=b.__windows[0].stage;c.onComplete.add(function(){Ai.start(d)});a=0;for(var e=ch.preloadLibraries;a<e.length;){var f=e[a];++a;c.addLibrary(f)}a=0;for(e=ch.preloadLibraryNames;a<e.length;)f=e[a],++a,c.addLibraryName(f);c.load();b.exec()};Ai.start=function(a){try{var b=a.getChildAt(0);
null!=b&&y.__instanceof(b,xd)||(b=new Pe,a.addChild(b));new Tl(b);a.dispatchEvent(new ca("resize",!1,!1));a.window.__fullscreen&&a.dispatchEvent(new zg("fullScreen",!1,!1,!0,!0))}catch(c){Qa.lastException=c,c instanceof H&&(c=c.val),a.__handleError(c)}};var ck=function(){};m["openfl.events.IEventDispatcher"]=ck;ck.__name__=["openfl","events","IEventDispatcher"];ck.prototype={addEventListener:null,dispatchEvent:null,hasEventListener:null,removeEventListener:null,willTrigger:null,__class__:ck};var za=
function(a){null!=a&&(this.__targetDispatcher=a)};m["openfl.events.EventDispatcher"]=za;za.__name__=["openfl","events","EventDispatcher"];za.__interfaces__=[ck];za.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);if(null!=b)if(null==this.__eventMap&&(this.__eventMap=new qa,this.__iterators=new qa),e=this.__eventMap,null!=t[a]?e.existsReserved(a):e.h.hasOwnProperty(a)){e=this.__eventMap;e=null!=t[a]?e.getReserved(a):
e.h[a];for(var f=0,k=e.length;f<k;){var p=f++;if(e[p].match(b,c))return}f=this.__iterators;a=null!=t[a]?f.getReserved(a):f.h[a];for(f=0;f<a.length;)k=a[f],++f,k.active&&k.copy();this.__addListenerByPriority(e,new Ul(b,c,d))}else e=[],e.push(new Ul(b,c,d)),b=new Vl(e),c=this.__eventMap,null!=t[a]?c.setReserved(a,e):c.h[a]=e,c=this.__iterators,b=[b],null!=t[a]?c.setReserved(a,b):c.h[a]=b},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},
hasEventListener:function(a){if(null==this.__eventMap)return!1;var b=this.__eventMap;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap&&null!=b){var d=this.__eventMap,d=null!=t[a]?d.getReserved(a):d.h[a];if(null!=d){for(var e=this.__iterators,e=null!=t[a]?e.getReserved(a):e.h[a],f=0,k=d.length;f<k;){var p=f++;if(d[p].match(b,c)){for(b=0;b<e.length;)c=e[b],++b,c.remove(d[p],p);d.splice(p,1);break}}0==d.length&&
(this.__eventMap.remove(a),this.__iterators.remove(a));a=this.__eventMap;(new Bi(a,a.arrayKeys())).hasNext()||(this.__iterators=this.__eventMap=null)}}},toString:function(){return"[object "+La.getClassName(y.getClass(this)).split(".").pop()+"]"},willTrigger:function(a){return this.hasEventListener(a)},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!0;var b=a.type,c=this.__eventMap,d=null!=t[b]?c.getReserved(b):c.h[b];if(null==d)return!0;null==a.target&&(a.target=null!=this.__targetDispatcher?
this.__targetDispatcher:this);a.currentTarget=this;var c=1==a.eventPhase,e=this.__iterators,b=null!=t[b]?e.getReserved(b):e.h[b],e=b[0];e.active&&(e=new Vl(d),b.push(e));e.reset(d);for(d=e;d.hasNext();){var f=d.next();if(null!=f&&f.useCapture==c&&(f.callback(a),a.__isCanceledNow))break}e!=b[0]&&da.remove(b,e);return!0},__removeAllListeners:function(){this.__iterators=this.__eventMap=null},__addListenerByPriority:function(a,b){for(var c=a.length,d=c,e=0;e<c;){var f=e++;if(a[f].priority<b.priority){d=
f;break}}a.splice(d,0,b)},__class__:za};var Wl=function(){};m["openfl.display.IBitmapDrawable"]=Wl;Wl.__name__=["openfl","display","IBitmapDrawable"];Wl.prototype={__blendMode:null,__transform:null,__worldTransform:null,__worldColorTransform:null,__getBounds:null,__renderCairo:null,__renderCairoMask:null,__renderCanvas:null,__renderCanvasMask:null,__renderGL:null,__updateChildren:null,__updateTransforms:null,__updateMask:null,__class__:Wl};var Eb=function(){za.call(this);this.__alpha=1;this.__blendMode=
10;this.__cacheAsBitmap=!1;this.__transform=new cb;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__worldAlpha=this.__scaleY=this.__scaleX=this.__rotationCosine=1;this.__worldBlendMode=10;this.__worldTransform=new cb;this.__worldColorTransform=new jc;this.__renderTransform=new cb;this.set_name("instance"+ ++Eb.__instanceCount)};m["openfl.display.DisplayObject"]=Eb;Eb.__name__=["openfl","display","DisplayObject"];Eb.__interfaces__=[Wl];Eb.__super__=za;Eb.prototype=z(za.prototype,{opaqueBackground:null,
parent:null,scale9Grid:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cacheAsBitmapMatrix:null,__cacheBitmap:null,__cacheBitmapBackground:null,__cacheBitmapColorTransform:null,__cacheBitmapData:null,__cacheBitmapRender:null,__cairo:null,__children:null,__filters:null,__graphics:null,__interactive:null,__isMask:null,__loaderInfo:null,__mask:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,__renderTransformCache:null,
__renderTransformChanged:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scaleX:null,__scaleY:null,__scrollRect:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,__worldBlendMode:null,__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldTransform:null,__worldVisible:null,__worldVisibleChanged:null,__worldZ:null,__canvas:null,__context:null,__style:null,addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==
d&&(d=0);null==c&&(c=!1);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":Eb.__broadcastEvents.exists(a)||Eb.__broadcastEvents.set(a,[]);var f=Eb.__broadcastEvents.get(a);-1==f.indexOf(this)&&f.push(this)}za.prototype.addEventListener.call(this,a,b,c,d,e)},dispatchEvent:function(a){if(y.__instanceof(a,zb)){var b=this.__getRenderTransform();a.stageX=a.localX*b.a+a.localY*b.c+b.tx;b=this.__getRenderTransform();a.stageY=a.localX*b.b+
a.localY*b.d+b.ty}else y.__instanceof(a,gd)&&(b=this.__getRenderTransform(),a.stageX=a.localX*b.a+a.localY*b.c+b.tx,b=this.__getRenderTransform(),a.stageY=a.localX*b.b+a.localY*b.d+b.ty);return za.prototype.dispatchEvent.call(this,a)},getBounds:function(a){var b,c=!1;null!=a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(c=!0,b=cb.__pool.get(),b.identity());a=new ya;this.__getBounds(a,b);c&&cb.__pool.release(b);return a},getRect:function(a){return this.getBounds(a)},
globalToLocal:function(a){return this.__globalToLocal(a,new Pa)},hitTestObject:function(a){if(null!=a&&null!=a.parent&&null!=this.parent){var b=this.getBounds(this);a=a.getBounds(this);return b.intersects(a)}return!1},hitTestPoint:function(a,b,c){null==c&&(c=!1);return null!=this.stage?this.__hitTest(a,b,c,null,!0,this):!1},localToGlobal:function(a){return this.__getRenderTransform().transformPoint(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);za.prototype.removeEventListener.call(this,
a,b,c);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":this.hasEventListener(a)||Eb.__broadcastEvents.exists(a)&&da.remove(Eb.__broadcastEvents.get(a),this)}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null;null!=this.__graphics&&this.__graphics.__cleanup()},__dispatch:function(a){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var b=za.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:
b}return!0},__dispatchChildren:function(a,b){a.target=this;if(null!=this.parent)if(a.eventPhase=1,this.parent==this.stage)this.parent.__dispatchEvent(a);else{for(var c=this.parent,d=0;null!=c;)b.set(d,c),c=c.parent,++d;for(var c=0,e=d;c<e;){var f=c++;b.get(d-f-1).__dispatchEvent(a)}}a.eventPhase=2;return this.__dispatchEvent(a)},__dispatchEvent:function(a){var b=za.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==
a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__dispatchStack:function(a,b){var c,d=b.length;if(0==d)a.eventPhase=2,c=a.target,c.__dispatch(a);else{a.eventPhase=1;a.target=b[b.length-1];c=0;for(var e=d-1;c<e;){var f=c++;b[f].__dispatch(a);if(a.__isCanceled)return}a.eventPhase=2;c=a.target;c.__dispatch(a);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,d-=2;0<=d;){b[d].__dispatch(a);if(a.__isCanceled)break;--d}}},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&
this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getFilterBounds:function(a,b){this.__getBounds(a,b);if(null!=this.__filters&&0<this.__filters.length){for(var c=ya.__pool.get(),d=0,e=this.__filters;d<e.length;){var f=e[d];++d;c.__expand(-f.__leftExtension,-f.__topExtension,f.__leftExtension+f.__rightExtension,f.__topExtension+f.__bottomExtension)}a.width+=c.width;a.height+=c.height;a.x+=c.x;a.y+=c.y;ya.__pool.release(c)}},__getInteractive:function(a){return!1},__getLocalBounds:function(a){this.__getBounds(a,
this.__transform);a.x-=this.__transform.tx;a.y-=this.__transform.ty},__getRenderBounds:function(a,b){if(null==this.__scrollRect)this.__getBounds(a,b);else{var c=ya.__pool.get();c.copyFrom(this.__scrollRect);c.__transform(c,b);a.__expand(b.tx,b.ty,c.width,c.height);ya.__pool.release(c)}},__getRenderTransform:function(){this.__getWorldTransform();return this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty){var a=[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,
!1);else for(;b!=this.stage;){a.push(b);b=b.parent;if(null==b)break;b!=this.stage&&b.__transformDirty&&(c=!0)}if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__globalToLocal:function(a,b){this.__getRenderTransform();if(a==b){var c=this.__renderTransform,d=c.a*c.d-c.b*c.c;if(0==d)a.x=-c.tx,a.y=-c.ty;else{var e=1/d*(c.c*(c.ty-a.y)+c.d*(a.x-c.tx));a.y=1/d*(c.a*(a.y-c.ty)+c.b*(c.tx-a.x));a.x=e}}else c=this.__renderTransform,d=c.a*c.d-c.b*c.c,b.x=0==d?-c.tx:1/d*(c.c*(c.ty-
a.y)+c.d*(a.x-c.tx)),c=this.__renderTransform,d=c.a*c.d-c.b*c.c,b.y=0==d?-c.ty:1/d*(c.a*(a.y-c.ty)+c.b*(c.tx-a.x));return b},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null==d||e||d.push(f),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?
!0:!1},__readGraphicsData:function(a,b){null!=this.__graphics&&this.__graphics.__readGraphicsData(a)},__renderCairo:function(a){},__renderCairoMask:function(a){},__renderCanvas:function(a){if(null==this.get_mask()||0<this.get_mask().get_width()&&0<this.get_mask().get_height())if(this.__updateCacheBitmap(a,!this.__worldColorTransform.__isDefault()),null!=this.__cacheBitmap&&!this.__cacheBitmapRender){var b=this.__cacheBitmap;if(b.__renderable&&!(0>=b.__worldAlpha)){var c=a.context;if(null!=b.bitmapData&&
b.bitmapData.__isValid){a.blendModeManager.setBlendMode(b.__worldBlendMode);a.maskManager.pushObject(b,!1);ta.convertToCanvas(b.bitmapData.image);c.globalAlpha=b.__worldAlpha;var d=b.__renderTransform,e=b.__scrollRect;a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.allowSmoothing&&b.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(b.bitmapData.image.get_src(),0,0):c.drawImage(b.bitmapData.image.get_src(),
e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);a.allowSmoothing&&b.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);a.maskManager.popObject(b,!1)}}}else if(!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha||(null!=this.opaqueBackground&&!this.__cacheBitmapRender&&0<this.get_width()&&0<this.get_height()&&(a.blendModeManager.setBlendMode(this.__worldBlendMode),a.maskManager.pushObject(this),b=a.context,
c=this.__renderTransform,a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),c=this.opaqueBackground,b.fillStyle="rgb("+(c>>>16&255)+","+(c>>>8&255)+","+(c&255)+")",b.fillRect(0,0,this.get_width(),this.get_height()),a.maskManager.popObject(this)),null==this.__graphics||!this.__renderable||0>=this.__worldAlpha||(b=this.__graphics,null==b||(G.render(b,a,this.__renderTransform),d=b.__width,e=b.__height,null==b.__canvas))))){var c=a.context,f=this.__scrollRect;
0<d&&0<e&&(null==f||0<f.width&&0<f.height)&&(a.blendModeManager.setBlendMode(this.__worldBlendMode),a.maskManager.pushObject(this),c.globalAlpha=this.__worldAlpha,d=b.__worldTransform,a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),c.drawImage(b.__canvas,0,0),a.maskManager.popObject(this))}},__renderCanvasMask:function(a){null!=this.__graphics&&G.renderMask(this.__graphics,a)},__renderDOM:function(a){},__renderDOMClear:function(a){},__renderGL:function(a){this.__updateCacheBitmap(a,
!1);if(null!=this.__cacheBitmap&&!this.__cacheBitmapRender)Pp.render(this.__cacheBitmap,a);else if(!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha)){if(null!=this.opaqueBackground&&!this.__cacheBitmapRender&&0<this.get_width()&&0<this.get_height()){a.blendModeManager.setBlendMode(this.__worldBlendMode);a.maskManager.pushObject(this);var b=a.gl,c=ya.__pool.get();c.setTo(0,0,this.get_width(),this.get_height());a.maskManager.pushRect(c,this.__renderTransform);
var d=this.opaqueBackground;b.__context.clearColor((d>>>16&255)/255,(d>>>8&255)/255,(d&255)/255,1);b.__context.clear(b.COLOR_BUFFER_BIT);a.maskManager.popRect();a.maskManager.popObject(this);ya.__pool.release(c)}if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)&&(d=this.__graphics,null!=d&&(G.render(d,a,this.__renderTransform),null!=d.__bitmap&&d.__visible))){var e=a.renderer,b=a.gl;a.blendModeManager.setBlendMode(this.__worldBlendMode);a.maskManager.pushObject(this);c=a.filterManager.pushObject(this);
a.shaderManager.setShader(c);c.get_data().uImage0.input=d.__bitmap;c.get_data().uImage0.smoothing=a.allowSmoothing;c.get_data().uMatrix.value=e.getMatrix(d.__worldTransform);e=!this.__worldColorTransform.__isDefault();null==c.get_data().uColorTransform.value&&(c.get_data().uColorTransform.value=[]);c.get_data().uColorTransform.value[0]=e;a.shaderManager.updateShader(c);e=b.ARRAY_BUFFER;d=d.__bitmap.getBuffer(b,this.__worldAlpha,this.__worldColorTransform);b.__context.bindBuffer(e,d);var d=c.get_data().aPosition.index,
e=b.FLOAT,f=E.fromInt(0);b.__context.vertexAttribPointer(d,3,e,!1,104,E.toValue(f));d=c.get_data().aTexCoord.index;e=b.FLOAT;f=E.fromInt(12);b.__context.vertexAttribPointer(d,2,e,!1,104,E.toValue(f));d=c.get_data().aAlpha.index;e=b.FLOAT;f=E.fromInt(20);b.__context.vertexAttribPointer(d,1,e,!1,104,E.toValue(f));d=c.get_data().aColorMultipliers.index;e=b.FLOAT;f=E.fromInt(24);b.__context.vertexAttribPointer(d,4,e,!1,104,E.toValue(f));d=c.get_data().aColorMultipliers.index+1;e=b.FLOAT;f=E.fromInt(40);
b.__context.vertexAttribPointer(d,4,e,!1,104,E.toValue(f));d=c.get_data().aColorMultipliers.index+2;e=b.FLOAT;f=E.fromInt(56);b.__context.vertexAttribPointer(d,4,e,!1,104,E.toValue(f));d=c.get_data().aColorMultipliers.index+3;e=b.FLOAT;f=E.fromInt(72);b.__context.vertexAttribPointer(d,4,e,!1,104,E.toValue(f));c=c.get_data().aColorOffsets.index;d=b.FLOAT;e=E.fromInt(88);b.__context.vertexAttribPointer(c,4,d,!1,104,E.toValue(e));b.__context.drawArrays(b.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);
a.maskManager.popObject(this)}}},__setParentRenderDirty:function(){var a=null!=this.__renderParent?this.__renderParent:this.parent;null==a||a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty())},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__setStageReference:function(a){this.stage=a},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__setParentRenderDirty())},__stopAllMovieClips:function(){},__update:function(a,
b,c){b=null!=this.__renderParent?this.__renderParent:this.parent;this.__renderable=this.get_visible()&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==b||!b.__isMask);this.__updateTransforms();this.__transformDirty=!1;null!=c&&this.__updateMask(c);a||(this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),null!=b?(this.__worldAlpha=this.get_alpha()*b.__worldAlpha,this.__worldColorTransform.__combine(b.__worldColorTransform),
this.__worldBlendMode=null==this.__blendMode||10==this.__blendMode?b.__blendMode:this.__blendMode):this.__worldAlpha=this.get_alpha())},__updateCacheBitmap:function(a,b){if(!this.__cacheBitmapRender)if(this.get_cacheAsBitmap()){var c=null,d=null;this.__getWorldTransform();this.__update(!1,!0);var e=null==this.__cacheBitmap||this.__renderDirty&&(b||null!=this.__children&&0<this.__children.length)||this.opaqueBackground!=this.__cacheBitmapBackground||!this.__cacheBitmapColorTransform.__equals(this.__worldColorTransform),
f=e||!this.__cacheBitmap.__worldTransform.equals(this.__worldTransform),k=null!=this.__filters&&0<this.__filters.length;if(f||k)c=cb.__pool.get(),d=ya.__pool.get(),c.identity(),this.__getFilterBounds(d,this.__renderTransform);if(k)if(null==this.__cacheBitmap||d.width==this.__cacheBitmap.get_width()&&d.height==this.__cacheBitmap.get_height())for(var p=0,w=this.__filters;p<w.length;){var h=w[p];++p;if(h.__renderDirty){e=!0;break}}else e=!0;if(e)if(this.__cacheBitmapBackground=this.opaqueBackground,
p=null!=this.opaqueBackground?-16777216|this.opaqueBackground:0,.5<=d.width&&.5<=d.height)null==this.__cacheBitmap||d.width!=this.__cacheBitmap.get_width()||d.height!=this.__cacheBitmap.get_height()?(this.__cacheBitmapData=new Ha(Math.ceil(d.width),Math.ceil(d.height),!0,p),null==this.__cacheBitmap&&(this.__cacheBitmap=new Id),this.__cacheBitmap.set_bitmapData(this.__cacheBitmapData)):this.__cacheBitmapData.fillRect(this.__cacheBitmapData.rect,p);else{this.__cacheBitmapData=this.__cacheBitmap=null;
return}if(f||e)this.__cacheBitmap.__worldTransform.copyFrom(this.__worldTransform),this.__cacheBitmap.__renderTransform.identity(),this.__cacheBitmap.__renderTransform.tx=d.x,this.__cacheBitmap.__renderTransform.ty=d.y,c.concat(this.__renderTransform),c.tx-=Math.round(d.x),c.ty-=Math.round(d.y);this.__cacheBitmap.smoothing=a.allowSmoothing;this.__cacheBitmap.__renderable=this.__renderable;this.__cacheBitmap.__worldAlpha=this.__worldAlpha;this.__cacheBitmap.__worldBlendMode=this.__worldBlendMode;this.__cacheBitmap.__scrollRect=
this.__scrollRect;if(e){this.__cacheBitmapRender=!0;this.__cacheBitmapData.__draw(this,c,null,null,null,a.allowSmoothing);if(k){h=e=!1;k=0;for(p=this.__filters;k<p.length;)w=p[k],++k,w.__needSecondBitmapData&&(e=!0),w.__preserveObject&&(h=!0);k=this.__cacheBitmapData;w=p=null;p=e?new Ha(k.width,k.height,!0,0):k;h&&(w=new Ha(k.width,k.height,!0,0));for(var h=k.rect,n=new Pa,l,g=0,m=this.__filters;g<m.length;){var r=m[g];++g;r.__preserveObject&&w.copyPixels(k,k.rect,n);l=r.__applyFilter(p,k,h,n);r.__preserveObject&&
l.draw(w);r.__renderDirty=!1;e&&l==p&&(l=k,k=p,p=l)}this.__cacheBitmap.set_bitmapData(k)}this.__cacheBitmapRender=!1;null==this.__cacheBitmapColorTransform&&(this.__cacheBitmapColorTransform=new jc);this.__cacheBitmapColorTransform.__copyFrom(this.__worldColorTransform);this.__cacheBitmapColorTransform.__isDefault()||this.__cacheBitmapData.colorTransform(this.__cacheBitmapData.rect,this.__cacheBitmapColorTransform)}f&&(this.__update(!1,!0),cb.__pool.release(c),ya.__pool.release(d))}else null!=this.__cacheBitmap&&
(this.__cacheBitmapColorTransform=this.__cacheBitmapData=this.__cacheBitmap=null)},__updateChildren:function(a){a=null!=this.__renderParent?this.__renderParent:this.parent;this.__renderable=this.get_visible()&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==a||!a.__isMask);this.__worldAlpha=this.get_alpha();this.__worldBlendMode=this.get_blendMode();this.__transformDirty&&(this.__transformDirty=!1)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),
a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new ya),this.__graphics.__getBounds(a.__bounds,cb.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new cb);null==this.__renderTransform&&(this.__renderTransform=new cb);var c=null!=this.__renderParent?this.__renderParent:this.parent,d;b||null==this.parent?this.__worldTransform.copyFrom(a):(d=this.parent.__worldTransform,
this.__worldTransform.a=a.a*d.a+a.b*d.c,this.__worldTransform.b=a.a*d.b+a.b*d.d,this.__worldTransform.c=a.c*d.a+a.d*d.c,this.__worldTransform.d=a.c*d.b+a.d*d.d,this.__worldTransform.tx=a.tx*d.a+a.ty*d.c+d.tx,this.__worldTransform.ty=a.tx*d.b+a.ty*d.d+d.ty);b||null==c?this.__renderTransform.copyFrom(a):(d=c.__renderTransform,this.__renderTransform.a=a.a*d.a+a.b*d.c,this.__renderTransform.b=a.a*d.b+a.b*d.d,this.__renderTransform.c=a.c*d.a+a.d*d.c,this.__renderTransform.d=a.c*d.b+a.d*d.d,this.__renderTransform.tx=
a.tx*d.a+a.ty*d.c+d.tx,this.__renderTransform.ty=a.tx*d.b+a.ty*d.d+d.ty);null!=this.__scrollRect&&(b=this.__renderTransform,a=-this.__scrollRect.x,c=-this.__scrollRect.y,b.tx=a*b.a+c*b.c+b.tx,b.ty=a*b.b+c*b.d+b.ty)},get_alpha:function(){return this.__alpha},set_alpha:function(a){1<a&&(a=1);a==this.__alpha||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__alpha=a},get_blendMode:function(){return this.__blendMode},set_blendMode:function(a){null==a&&(a=10);a==this.__blendMode||
this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__blendMode=a},get_cacheAsBitmap:function(){return null==this.__filters?this.__cacheAsBitmap:!0},set_cacheAsBitmap:function(a){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__cacheAsBitmap=a},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(a){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__cacheAsBitmapMatrix=
a.clone()},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){this.__filters=null!=a&&0<a.length?a:null;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return a},get_height:function(){var a=ya.__pool.get();this.__getLocalBounds(a);var b=a.height;ya.__pool.release(a);return b},set_height:function(a){var b=ya.__pool.get(),c=cb.__pool.get();c.identity();this.__getBounds(b,c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);
ya.__pool.release(b);cb.__pool.release(c);return a},get_loaderInfo:function(){return null!=this.stage?xa.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(a){a!=this.__mask&&(this.__setTransformDirty(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));if(null!=this.__mask){this.__mask.__isMask=!1;this.__mask.__setTransformDirty();var b=this.__mask;b.__renderDirty||(b.__renderDirty=!0,b.__setParentRenderDirty())}null!=a&&(a.__isMask=!0);return this.__mask=
a},get_mouseX:function(){var a=null!=this.stage?this.stage.__mouseX:xa.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:xa.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx))},get_mouseY:function(){var a=null!=this.stage?this.stage.__mouseX:xa.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:xa.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.ty:1/d*(c.a*(b-c.ty)+c.b*
(c.tx-a))},get_name:function(){return this.__name},set_name:function(a){return this.__name=a},get_root:function(){return null!=this.stage?xa.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(a){if(a!=this.__rotation){this.__rotation=a;var b=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(b);this.__rotationCosine=Math.cos(b);this.__transform.a=this.__rotationCosine*this.__scaleX;this.__transform.b=this.__rotationSine*this.__scaleX;this.__transform.c=-this.__rotationSine*
this.__scaleY;this.__transform.d=this.__rotationCosine*this.__scaleY;this.__setTransformDirty()}return a},get_scaleX:function(){return this.__scaleX},set_scaleX:function(a){if(a!=this.__scaleX)if(this.__scaleX=a,0==this.__transform.b)a!=this.__transform.a&&this.__setTransformDirty(),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__setTransformDirty();this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return this.__scaleY},
set_scaleY:function(a){if(a!=this.__scaleY)if(this.__scaleY=a,0==this.__transform.c)a!=this.__transform.d&&this.__setTransformDirty(),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__setTransformDirty();this.__transform.c=b;this.__transform.d=c}return a},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(a){a!=this.__scrollRect&&this.__setTransformDirty();
return this.__scrollRect=a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new Xl(this));return this.__objectTransform},set_transform:function(a){if(null==a)throw new H(new dk("Parameter transform must be non-null."));null==this.__objectTransform&&(this.__objectTransform=new Xl(this));this.__setTransformDirty();this.__objectTransform.set_matrix(a.get_matrix());this.__objectTransform.set_colorTransform(a.get_colorTransform().__clone());return this.__objectTransform},
get_visible:function(){return this.__visible},set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__visible=a},get_width:function(){var a=ya.__pool.get();this.__getLocalBounds(a);var b=a.width;ya.__pool.release(a);return b},set_width:function(a){var b=ya.__pool.get(),c=cb.__pool.get();c.identity();this.__getBounds(b,c);a!=b.width?this.set_scaleX(a/b.width):this.set_scaleX(1);ya.__pool.release(b);cb.__pool.release(c);return a},
get_x:function(){return this.__transform.tx},set_x:function(a){a!=this.__transform.tx&&this.__setTransformDirty();return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a!=this.__transform.ty&&this.__setTransformDirty();return this.__transform.ty=a},__class__:Eb,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",
set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",
get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var Ab=function(){Eb.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=-1};m["openfl.display.InteractiveObject"]=Ab;Ab.__name__=["openfl","display","InteractiveObject"];Ab.__super__=Eb;Ab.prototype=z(Eb.prototype,
{doubleClickEnabled:null,focusRect:null,mouseEnabled:null,needsSoftKeyboard:null,softKeyboardInputAreaOfInterest:null,tabIndex:null,__tabEnabled:null,requestSoftKeyboard:function(){xa.notImplemented({fileName:"InteractiveObject.hx",lineNumber:42,className:"openfl.display.InteractiveObject",methodName:"requestSoftKeyboard"});return!1},__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,e,f){return!f.get_visible()||
this.__isMask||e&&!this.mouseEnabled?!1:Eb.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},set_tabEnabled:function(a){return this.__tabEnabled=a},__class__:Ab,__properties__:z(Eb.prototype.__properties__,{set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var xd=function(){Ab.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=x.toObjectVector(null);this.__tempStack=x.toObjectVector(null)};m["openfl.display.DisplayObjectContainer"]=
xd;xd.__name__=["openfl","display","DisplayObjectContainer"];xd.__super__=Ab;xd.prototype=z(Ab.prototype,{mouseChildren:null,tabChildren:null,__removedChildren:null,__tempStack:null,addChild:function(a){return this.addChildAt(a,this.get_numChildren())},addChildAt:function(a,b){if(null==a){var c=new dk("Error #2007: Parameter child must be non-null.");c.errorID=2007;throw new H(c);}if(b>this.__children.length||0>b)throw new H("Invalid index position "+b);if(a.parent==this)this.__children[b]!=a&&(da.remove(this.__children,
a),this.__children.splice(b,0,a),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));else{null!=a.parent&&a.parent.removeChild(a);this.__children.splice(b,0,a);a.parent=this;(c=null!=this.stage&&null==a.stage)&&this.__setStageReference(this.stage);a.__setTransformDirty();a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty());this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var d=new ca("added",!0);d.target=a;a.__dispatchEvent(d);c&&(a.__dispatchChildren(new ca("addedToStage",
!1,!1),this.__tempStack),this.__tempStack.set_length(0))}return a},areInaccessibleObjectsUnderPoint:function(a){return!1},contains:function(a){for(;a!=this&&null!=a;)a=a.parent;return a==this},getChildAt:function(a){return 0<=a&&a<this.__children.length?this.__children[a]:null},getChildByName:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},getChildIndex:function(a){for(var b=0,c=this.__children.length;b<c;){var d=b++;if(this.__children[d]==
a)return d}return-1},getObjectsUnderPoint:function(a){var b=[];this.__hitTest(a.x,a.y,!1,b,!1,this);b.reverse();return b},removeChild:function(a){null!=a&&a.parent==this&&(a.__setTransformDirty(),a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),a.__dispatchEvent(new ca("removed",!0)),null!=this.stage&&(null!=a.stage&&this.stage.get_focus()==a&&this.stage.set_focus(null),a.__dispatchChildren(new ca("removedFromStage",
!1,!1),this.__tempStack),this.__tempStack.set_length(0),a.__setStageReference(null)),a.parent=null,da.remove(this.__children,a),this.__removedChildren.push(a),a.__setTransformDirty());return a},removeChildAt:function(a){return 0<=a&&a<this.__children.length?this.removeChild(this.__children[a]):null},removeChildren:function(a,b){null==b&&(b=2147483647);null==a&&(a=0);if(2147483647==b&&(b=this.__children.length-1,0>b))return;if(!(a>this.__children.length-1)){if(b<a||0>a||b>this.__children.length)throw new H(new Yl("The supplied index is out of bounds."));
for(var c=b-a;0<=c;)this.removeChildAt(a),--c}},resolve:function(a){if(null==this.__children)return null;for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},setChildIndex:function(a,b){0<=b&&b<=this.__children.length&&a.parent==this&&(da.remove(this.__children,a),this.__children.splice(b,0,a))},stopAllMovieClips:function(){this.__stopAllMovieClips()},swapChildren:function(a,b){if(a.parent==this&&b.parent==this){var c=this.__children.indexOf(a),d=this.__children.indexOf(b);
this.__children[c]=b;this.__children[d]=a;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},swapChildrenAt:function(a,b){var c=this.__children[a];this.__children[a]=this.__children[b];this.__children[b]=c;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__dispatchChildren:function(a,b){var c=Ab.prototype.__dispatchChildren.call(this,a,b);if(c&&null!=this.__children)for(var d=0,e=this.__children;d<e.length;){var f=e[d];++d;if(!f.__dispatchChildren(a,
b))return!1}return c},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){Ab.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.__scaleX&&0!=e.__scaleY&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getFilterBounds:function(a,
b){Ab.prototype.__getFilterBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.__scaleX||0==e.__scaleY||e.__isMask||e.__getFilterBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(a,b){if(null!=this.__scrollRect)Ab.prototype.__getRenderBounds.call(this,a,b);else if(Ab.prototype.__getBounds.call(this,a,b),
0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.__scaleX||0==e.__scaleY||e.__isMask||e.__getRenderBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var k=
Pa.__pool.get();k.setTo(a,b);var p=this.__getRenderTransform(),w=p.a*p.d-p.b*p.c;if(0==w)k.x=-p.tx,k.y=-p.ty;else{var h=1/w*(p.c*(p.ty-k.y)+p.d*(k.x-p.tx));k.y=1/w*(p.a*(k.y-p.ty)+p.b*(p.tx-k.x));k.x=h}if(!this.__scrollRect.containsPoint(k))return Pa.__pool.release(k),!1;Pa.__pool.release(k)}k=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--k;){if(this.__children[k].__hitTest(a,b,c,null,!0,this.__children[k]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(w=p=!1;0<=
--k&&!(((p=this.__children[k].__getInteractive(null))||this.mouseEnabled&&!w)&&this.__children[k].__hitTest(a,b,c,d,!0,this.__children[k])&&(w=!0,p)););if(w)return d.splice(e,0,f),!0}}else for(;0<=--k;)this.__children[k].__hitTest(a,b,c,d,!1,this.__children[k]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__readGraphicsData:function(a,b){Ab.prototype.__readGraphicsData.call(this,a,b);if(b)for(var c=0,d=this.__children;c<
d.length;){var e=d[c];++c;e.__readGraphicsData(a,b)}},__renderCairo:function(a){},__renderCairoMask:function(a){},__renderCanvas:function(a){if(!(!this.__renderable||0>=this.__worldAlpha||null!=this.get_mask()&&(0>=this.get_mask().get_width()||0>=this.get_mask().get_height()))&&(Ab.prototype.__renderCanvas.call(this,a),null==this.__cacheBitmap||this.__cacheBitmapRender)){a.maskManager.pushObject(this);if(a.clearRenderDirty){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a);
d.__renderDirty=!1}this.__renderDirty=!1}else for(b=0,c=this.__children;b<c.length;)d=c[b],++b,d.__renderCanvas(a);b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.maskManager.popObject(this)}},__renderCanvasMask:function(a){null!=this.__graphics&&G.renderMask(this.__graphics,a);var b=ya.__pool.get();this.__getLocalBounds(b);a.context.rect(0,0,b.width,b.height);ya.__pool.release(b)},__renderDOM:function(a){},__renderDOMClear:function(a){},
__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)&&(Ab.prototype.__renderGL.call(this,a),null==this.__cacheBitmap||this.__cacheBitmapRender)){a.maskManager.pushObject(this);a.filterManager.pushObject(this);if(a.clearRenderDirty){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a);d.__renderDirty=!1}this.__renderDirty=!1}else for(b=0,c=this.__children;b<c.length;)d=c[b],++b,d.__renderGL(a);b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==
d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__setStageReference:function(a){Ab.prototype.__setStageReference.call(this,a);if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__setTransformDirty:function(){if(!this.__transformDirty&&(Ab.prototype.__setTransformDirty.call(this),null!=this.__children))for(var a=0,b=this.__children;a<b.length;){var c=b[a];++a;c.__setTransformDirty()}},
__stopAllMovieClips:function(){for(var a=0,b=this.__children;a<b.length;){var c=b[a];++a;c.__stopAllMovieClips()}},__update:function(a,b,c){Ab.prototype.__update.call(this,a,b,c);if(b){b=0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){Ab.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:xd,__properties__:z(Ab.prototype.__properties__,
{get_numChildren:"get_numChildren"})});var Fb=function(){xd.call(this);this.buttonMode=!1;this.useHandCursor=!0};m["openfl.display.Sprite"]=Fb;Fb.__name__=["openfl","display","Sprite"];Fb.__super__=xd;Fb.prototype=z(xd.prototype,{buttonMode:null,dropTarget:null,hitArea:null,useHandCursor:null,startDrag:function(a,b){null==a&&(a=!1);null!=this.stage&&this.stage.__startDrag(this,a,b)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?
Ia.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=f),a}else{if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var k=Pa.__pool.get();k.setTo(a,b);var p=this.__getRenderTransform(),w=p.a*p.d-p.b*p.c;if(0==
w)k.x=-p.tx,k.y=-p.ty;else{var h=1/w*(p.c*(p.ty-k.y)+p.d*(k.x-p.tx));k.y=1/w*(p.a*(k.y-p.ty)+p.b*(p.tx-k.x));k.x=h}if(!this.__scrollRect.containsPoint(k))return Pa.__pool.release(k),!1;Pa.__pool.release(k)}if(xd.prototype.__hitTest.call(this,a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,b){return xd.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&
this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new Ci(this));return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled?!0:this.buttonMode},__class__:Fb,__properties__:z(xd.prototype.__properties__,{get_graphics:"get_graphics"})});var Lh=function(){this.TARGETFRAMERATE=30;Fb.call(this);this.init()};m["haxegon.Core"]=Lh;Lh.__name__=["haxegon","Core"];Lh.__super__=Fb;Lh.prototype=z(Fb.prototype,{init:function(){this.maxelapsed=
.0333;this.maxframeskip=5;this.tickrate=20;this._delta=0;this.addEventListener("addedToStage",u(this,this.addedtostage));xa.current.addChild(this)},addedtostage:function(a){this.removeEventListener("addedToStage",u(this,this.addedtostage));this.loaded()},onResize:function(a){a=xa.current.stage.stageWidth;var b=xa.current.stage.stageHeight;S.view.set_width(a);S.view.set_height(b);v.updatesizes(a,b)},loaded:function(){fa.setseed(233280*Math.random()|0);Gb.initassets();J.init(this.stage);aa.init(this.stage);
L.init();I.fontscale=1;S.init3d(this.stage);I.init();this.addEventListener("enterFrame",u(this,this._onEnterFrame));xa.current.stage.addEventListener("resize",u(this,this.onResize))},_onEnterFrame:function(a){this.doupdate()},ontimer:function(){this._skipedupdate=0;this._time=xa.getTimer();this._delta+=this._time-this._last;this._last=this._time;-1==this._framesthissecond_counter&&(this._framesthissecond_counter=this._time);if(!(this._delta<this._rate)){this._gametime=this._time|0;this._delta>this._skip&&
(this._delta=this._skip);for(;this._delta>=this._rate;)this._updatetime=this._time,this._delta-=this._rate,this._prev=this._time,this._skipedupdate++,1<this._skipedupdate&&this.doupdate(),this._time=xa.getTimer();this._rendertime=this._time;this.doupdate();1E3<this._rendertime-this._framesthissecond_counter&&(this._framesthissecond_counter=xa.getTimer());this._time=xa.getTimer()}},doupdate:function(){aa.update(xa.current.get_mouseX()|0,xa.current.get_mouseY()|0);J.update();I.update();S.view.render();
aa.mousewheel=0},maxelapsed:null,maxframeskip:null,tickrate:null,TARGETFRAMERATE:null,_delta:null,_time:null,_last:null,_timer:null,_rate:null,_skip:null,_prev:null,_skipedupdate:null,_updatetime:null,_rendertime:null,_gametime:null,_framesthissecond_counter:null,__class__:Lh});var ek=function(){Lh.call(this)};m["haxegon.Load"]=ek;ek.__name__=["haxegon","Load"];ek.__super__=Lh;ek.prototype=z(Lh.prototype,{__class__:ek});var Tl=function(a){a.addChild(this);Lh.call(this);this.dispatchEvent(new ca("addedToStage",
!1,!1))};m.DocumentClass=Tl;Tl.__name__=["DocumentClass"];Tl.__super__=ek;Tl.prototype=z(ek.prototype,{__class__:Tl});var A=function(){};m.Boundaries=A;A.__name__=["Boundaries"];A.init=function(){A.currentboundary="";A.boundarystate=0;A.boundaryon=!1;A.linecontainer=new Cc;A.wiresphere=null;A.colour=14540253;A.thickness=1};A.rebuilddodecahedron=function(){S.view.get_scene().contains(A.linecontainer)&&S.view.get_scene().removeChild(A.linecontainer);A.linecontainer=new Cc;var a=(1+Math.sqrt(5))/2,b=
T.boundsx,c=1/a*T.boundsx,a=T.boundsx*(2-a);A.points=[];A.points.push(new C(a,0,b));A.points.push(new C(-a,0,b));A.points.push(new C(-c,c,c));A.points.push(new C(0,b,a));A.points.push(new C(c,c,c));A.points.push(new C(c,-c,c));A.points.push(new C(0,-b,a));A.points.push(new C(-c,-c,c));A.points.push(new C(a,0,-b));A.points.push(new C(-a,0,-b));A.points.push(new C(-c,-c,-c));A.points.push(new C(0,-b,-a));A.points.push(new C(c,-c,-c));A.points.push(new C(c,c,-c));A.points.push(new C(0,b,-a));A.points.push(new C(-c,
c,-c));A.points.push(new C(b,a,0));A.points.push(new C(-b,a,0));A.points.push(new C(-b,-a,0));A.points.push(new C(b,-a,0));A.linecontainer.addSegment(new Ca(A.points[0],A.points[1],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[0],A.points[4],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[0],A.points[5],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[1],A.points[2],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[1],
A.points[7],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[2],A.points[3],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[2],A.points[17],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[3],A.points[4],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[3],A.points[14],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[4],A.points[16],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[5],
A.points[6],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[5],A.points[19],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[6],A.points[7],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[6],A.points[11],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[7],A.points[18],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[8],A.points[9],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[8],
A.points[12],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[8],A.points[13],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[9],A.points[10],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[9],A.points[15],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[10],A.points[11],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[10],A.points[18],A.colour,A.colour,A.thickness));
A.linecontainer.addSegment(new Ca(A.points[11],A.points[12],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[12],A.points[19],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[13],A.points[14],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[13],A.points[16],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[14],A.points[15],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[15],
A.points[17],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[16],A.points[19],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[17],A.points[18],A.colour,A.colour,A.thickness));S.view.get_scene().addChild(A.linecontainer)};A.rebuildbox=function(){S.view.get_scene().contains(A.linecontainer)&&S.view.get_scene().removeChild(A.linecontainer);A.linecontainer=new Cc;A.points=[];var a=T.boundsx;A.points.push(new C(a,a,a));A.points.push(new C(a,a,-a));
A.points.push(new C(-a,a,a));A.points.push(new C(a,-a,a));A.points.push(new C(a,-a,-a));A.points.push(new C(-a,a,-a));A.points.push(new C(-a,-a,a));A.points.push(new C(-a,-a,-a));A.linecontainer.addSegment(new Ca(A.points[0],A.points[1],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[0],A.points[2],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[0],A.points[3],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[3],A.points[4],
A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[1],A.points[4],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[2],A.points[6],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[2],A.points[5],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[6],A.points[7],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[5],A.points[7],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[4],
A.points[7],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[6],A.points[3],A.colour,A.colour,A.thickness));A.linecontainer.addSegment(new Ca(A.points[5],A.points[1],A.colour,A.colour,A.thickness));S.view.get_scene().addChild(A.linecontainer)};A.rebuildcage=function(){S.view.get_scene().contains(A.linecontainer)&&S.view.get_scene().removeChild(A.linecontainer);A.linecontainer=new Cc;A.points=[];for(var a=T.boundsx,b=0;5>b;){var c=b++;A.points.push(new C(-a,-a+2*c*T.boundsx/
4,-a));A.points.push(new C(a,-a+2*c*T.boundsx/4,-a));A.points.push(new C(a,-a+2*c*T.boundsx/4,a));A.points.push(new C(-a,-a+2*c*T.boundsx/4,a))}for(b=0;5>b;)c=b++,A.points.push(new C(-a,-a,-a+2*c*T.boundsx/4)),A.points.push(new C(a,-a,-a+2*c*T.boundsx/4)),A.points.push(new C(a,a,-a+2*c*T.boundsx/4)),A.points.push(new C(-a,a,-a+2*c*T.boundsx/4));for(b=0;5>b;)c=b++,A.points.push(new C(-a+2*c*T.boundsx/4,-a,-a)),A.points.push(new C(-a+2*c*T.boundsx/4,a,-a)),A.points.push(new C(-a+2*c*T.boundsx/4,a,a)),
A.points.push(new C(-a+2*c*T.boundsx/4,-a,a));for(a=0;15>a;)b=4*a++,A.linecontainer.addSegment(new Ca(A.points[b],A.points[b+1],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+1],A.points[b+2],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+2],A.points[b+3],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+3],A.points[b],A.colour,A.colour,A.thickness));S.view.get_scene().addChild(A.linecontainer)};A.rebuildbeam=function(){S.view.get_scene().contains(A.linecontainer)&&
S.view.get_scene().removeChild(A.linecontainer);A.linecontainer=new Cc;A.points=[];for(var a=T.boundsx,b=-20;30>b;){var c=b++;A.points.push(new C(-a,-a+2*c*T.boundsx/5,-a));A.points.push(new C(a,-a+2*c*T.boundsx/5,-a));A.points.push(new C(a,-a+2*c*T.boundsx/5,a));A.points.push(new C(-a,-a+2*c*T.boundsx/5,a))}for(a=0;50>a;)b=4*a++,A.linecontainer.addSegment(new Ca(A.points[b],A.points[b+1],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+1],A.points[b+2],A.colour,A.colour,
A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+2],A.points[b+3],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+3],A.points[b],A.colour,A.colour,A.thickness));S.view.get_scene().addChild(A.linecontainer)};A.rebuildlaser=function(){S.view.get_scene().contains(A.linecontainer)&&S.view.get_scene().removeChild(A.linecontainer);A.linecontainer=new Cc;A.points=[];for(var a=T.boundsx,b=2*Math.PI/6,c=-20;30>c;)for(var d=c++,e=0;6>e;){var f=e++;A.points.push(new C(Math.cos(b*
f)*a,Math.sin(b*f)*a,-a+2*d*T.boundsx/5))}for(a=0;50>a;)b=6*a++,A.linecontainer.addSegment(new Ca(A.points[b],A.points[b+1],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+1],A.points[b+2],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+2],A.points[b+3],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+3],A.points[b+4],A.colour,A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+4],A.points[b+5],A.colour,
A.colour,A.thickness)),A.linecontainer.addSegment(new Ca(A.points[b+5],A.points[b],A.colour,A.colour,A.thickness));S.view.get_scene().addChild(A.linecontainer)};A.rebuildsphere=function(){null!=A.wiresphere&&(S.view.get_scene().contains(A.wiresphere)&&S.view.get_scene().removeChild(A.wiresphere),A.wiresphere=null);var a=Math.sqrt(2*T.boundsx*T.boundsx)|0;A.wiresphere=new Di(a,8,8,A.colour,A.thickness);S.view.get_scene().addChild(A.wiresphere)};A.update=function(){if(A.boundaryon)if("box"==A.currentboundary)0==
A.boundarystate&&(A.rebuildbox(),A.boundarystate=1);else if("cage"==A.currentboundary)0==A.boundarystate&&(A.rebuildcage(),A.boundarystate=1);else if("beam"==A.currentboundary)if(0==A.boundarystate)A.rebuildbeam(),A.boundarystate=1;else{var a=A.linecontainer;for(a.set_y(a.get_y()+I.deltatime*qb.rate*250);A.linecontainer.get_y()>2*T.boundsx/5;)a=A.linecontainer,a.set_y(a.get_y()-2*T.boundsx/5)}else if("laser"==A.currentboundary)if(0==A.boundarystate)A.rebuildlaser(),A.boundarystate=1;else for(a=A.linecontainer,
a.set_z(a.get_z()+I.deltatime*qb.rate*250);A.linecontainer.get_z()>2*T.boundsx/5;)a=A.linecontainer,a.set_z(a.get_z()-2*T.boundsx/5);else"dodecahedron"==A.currentboundary?0==A.boundarystate?(A.rebuilddodecahedron(),A.boundarystate=1):(a=A.linecontainer,a.set_rotationX(a.get_rotationX()+I.deltatime*qb.rate),a=A.linecontainer,a.set_rotationY(a.get_rotationY()+I.deltatime*qb.rate*5),a=A.linecontainer,a.set_rotationZ(a.get_rotationZ()+I.deltatime*qb.rate*3)):"sphere"==A.currentboundary&&(0==A.boundarystate?
(A.rebuildsphere(),A.boundarystate=1):(a=A.wiresphere,a.set_rotationY(a.get_rotationY()+I.deltatime*qb.rate*5)))};A.enable=function(a){A.disable();A.currentboundary=a;A.boundarystate=0;A.boundaryon=!0};A.disable=function(){A.currentboundary="";A.boundarystate=0;A.boundaryon=!1;S.view.get_scene().contains(A.linecontainer)&&S.view.get_scene().removeChild(A.linecontainer);null!=A.wiresphere&&(S.view.get_scene().contains(A.wiresphere)&&S.view.get_scene().removeChild(A.wiresphere),A.wiresphere=null)};
var Qd=function(){};m.Buildconfig=Qd;Qd.__name__=["Buildconfig"];var N=function(){};m.CAssetloader=N;N.__name__=["CAssetloader"];N.loadassetlist=function(){N.readymodels=new qa;N.readysky=new qa;N.readysong=new qa;N.readysound=new qa;N.assetlist=[];N.asynchassetlist=[];N.loadingpara=0;N.assetprogress=new qa;N.assetlist.push("engine:loadcredits");N.assetlist.push("engine:loadsettings");N.assetlist.push("engine:force30fps");N.assetlist.push("engine:filters");N.assetlist.push("engine:boundaries");N.assetlist.push("engine:enableparsers");
N.assetlist.push("engine:loadbrain");N.assetlist.push("engine:loadatmospheresettings");N.assetlist.push("engine:away3dsettings");N.assetlist.push("engine:initpositionmanager");N.assetlist.push("engine:preparemodels");N.assetlist.push("loadsound:nope");N.assetlist.push("loadsound:key1");N.assetlist.push("loadsound:secret");for(var a=1;13>a;){var b=a++;N.assetlist.push("loadsound:key"+(b+1))}N.assetlist.push("loadsound:beep1");for(a=1;12>a;)b=a++,N.asynchassetlist.push("loadsoundasync:beep"+(b+1));
a=0;for(b=Dc.models.length;a<b;){var c=a++;N.asynchassetlist.push("loadmodelasync:"+Dc.models[c])}N.assetlist.push("engine:waitformodels");N.assetlist.push("loadimage:colourmaps/crossprocessing");N.assetlist.push("loadimage:colourmaps/gameboy");N.assetlist.push("loadimage:colourmaps/fire");N.assetlist.push("loadimage:colourmaps/hades");N.assetlist.push("loadimage:colourmaps/ice");N.assetlist.push("loadimage:colourmaps/cga");N.assetlist.push("loadimage:colourmaps/blackwhite");N.asynchassetlist.push("loadsongasync:freesound/122824__geodylabs__air-conditioning-hotel-room");
N.asynchassetlist.push("loadsongasync:freesound/371261__risto-alcinov__rooftop-city");N.asynchassetlist.push("loadsongasync:antigen/marblevoid");N.asynchassetlist.push("loadsongasync:projectpegasus/arpeggios/slowburn");a=N.readysky;null!=t.black?a.setReserved("black",1):a.h.black=1;a=N.readysky;null!=t.white?a.setReserved("white",1):a.h.white=1;a=N.readysky;null!=t.rainbow?a.setReserved("rainbow",1):a.h.rainbow=1;a=N.readysky;null!=t.gradient?a.setReserved("gradient",1):a.h.gradient=1;a=N.readysky;
null!=t.blackwhitegradient?a.setReserved("blackwhitegradient",1):a.h.blackwhitegradient=1;a=0;for(b=cc.skytexturelist.length;a<b;)c=a++,-1==["black","white","rainbow","gradient","blackwhitegradient"].indexOf(cc.skytexturelist[c])&&N.asynchassetlist.push("loadskybox:"+cc.skytexturelist[c]);N.asynchassetlist.push("loadsoundasync:models/cat");N.asynchassetlist.push("loadsongasync:amb/phone");N.asynchassetlist.push("loadsongasync:safehaven");a=0;for(b=I.atmospheresounds.length;a<b;)c=a++,N.asynchassetlist.push("loadsongasync:"+
I.atmospheresounds[c]);da.remove(N.asynchassetlist,"loadsongasync:freesound/122824__geodylabs__air-conditioning-hotel-room");da.remove(N.asynchassetlist,"loadsongasync:freesound/371261__risto-alcinov__rooftop-city");da.remove(N.asynchassetlist,"loadsongasync:antigen/marblevoid");da.remove(N.asynchassetlist,"loadsongasync:projectpegasus/arpeggios/slowburn")};N.loadasset=function(a,b){switch(a){case "engine":switch(b){case "away3dsettings":S.set_mipmaps(!0);break;case "boundaries":A.init();break;case "enableparsers":Zl.enableAllBundled();
break;case "filters":D.init();break;case "force30fps":I.changefps(30);break;case "hidemouse":aa.hide();break;case "initpositionmanager":F.init();break;case "loadatmospheresettings":I.loadatmosphere();break;case "loadbrain":K.loadbrain();break;case "loadcredits":var c=Gb.loadtext("creditsdata");I.creditsdata=new qa;for(var d=0,e=c.length;d<e;){var f=d++;if(ba.isinstring(c[f],":")){var k=ba.trimspaces(ba.getroot(c[f],":")),f=ba.trimspaces(ba.getbranch(c[f],":"));I.creditsdata.set(k,f)}}break;case "loadsettings":break;
case "preparemodels":Nb.init();break;case "waitformodels":1>Nb.ready()&&(N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1);break;default:throw new H("error: typo in preloader assetlist: what's "+b+"?");}break;case "loadimage":S.loadimage("data",b);break;case "loadimageasync":N.assetprogress.exists(a+":"+b)?1!=N.assetprogress.get(a+":"+b)&&(N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1):(N.assetprogress.set(a+":"+b,0),I.assetloaderhistory.push("requested image:"+b),ma.loadBitmapData("assets/graphics/"+
b+".png").onComplete(function(c){I.assetloaderhistory[I.assetloaderhistory.length-1]+=" - loaded";N.assetprogress.set(a+":"+b,1);S.loadimage("assets",b)}),N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1);break;case "loadmodelasync":N.assetprogress.exists(a+":"+b)?1!=N.assetprogress.get(a+":"+b)?(N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1):(Nb.load(b,Nb.tmpawddata),I.assetloaderhistory[I.assetloaderhistory.length-1]+=" - loaded"):(N.assetprogress.set(a+":"+b,0),I.assetloaderhistory.push("requested model:"+
b),ma.loadBytes("assets/models/"+b+".awd").onComplete(function(c){N.assetprogress.set(a+":"+b,1);Nb.tmpawddata=c}),N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1);break;case "loadskybox":if(N.assetprogress.exists(a+":"+b))6>N.assetprogress.get(a+":"+b)?(N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1):(I.assetloaderhistory[I.assetloaderhistory.length-1]+=" - loaded",N.readysky.set(b,1));else switch(N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1,N.assetprogress.set(a+
":"+b,0),I.assetloaderhistory.push("requested skybox:"+b),b){case "heikoirrgang/darkstormy":ma.loadBitmapData("assets/graphics/skybox/heikoirrgang/darkstormy/darkstormy_front.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/heikoirrgang/darkstormy/darkstormy_back.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/heikoirrgang/darkstormy/darkstormy_up.jpg").onComplete(function(c){c=
N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/heikoirrgang/darkstormy/darkstormy_down.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/heikoirrgang/darkstormy/darkstormy_right.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/heikoirrgang/darkstormy/darkstormy_left.jpg").onComplete(function(c){c=
N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});break;case "ame/ame_desert":case "ame/ame_emerald":case "ame/ame_greenhaze":case "ame/ame_greywash":case "ame/ame_iceflats":case "ame/ame_leather":case "ame/ame_lilac":case "ame/ame_limon":case "ame/ame_majesty":case "ame/ame_mudskip":case "ame/ame_oasis":case "ame/ame_powder":case "ame/ame_purple":case "ame/ame_rapture":case "ame/ame_redplanet":case "ame/ame_shadow":case "axon/misty":case "hipshot/interstellar":case "hipshot/stormydays":case "hipshot/violentdays":case "mightypete/awup":case "necros/hell":case "skiingpenguins/indigo":case "slowhandd/mnight":case "speedy/morose":case "wtfmrgibs/darkskies":c=
ba.getroot(b,"/");d=ba.getbranch(b,"/");ma.loadBitmapData("assets/graphics/skybox/"+c+"/"+d+"/"+d+"_ft.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/"+c+"/"+d+"/"+d+"_bk.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/"+c+"/"+d+"/"+d+"_up.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+
":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/"+c+"/"+d+"/"+d+"_dn.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/"+c+"/"+d+"/"+d+"_rt.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/"+c+"/"+d+"/"+d+"_lf.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+
b)+1;c.set(a+":"+b,d)});break;case "space":ma.loadBitmapData("assets/graphics/skybox/space/space_positive_x.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/space/space_negative_x.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/space/space_positive_y.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+
":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/space/space_negative_y.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/space/space_positive_z.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)});ma.loadBitmapData("assets/graphics/skybox/space/space_negative_z.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+
":"+b)+1;c.set(a+":"+b,d)});break;default:ma.loadBitmapData("assets/graphics/skybox/"+b+"/posx.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)}),ma.loadBitmapData("assets/graphics/skybox/"+b+"/negx.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)}),ma.loadBitmapData("assets/graphics/skybox/"+b+"/posy.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+
b,d)}),ma.loadBitmapData("assets/graphics/skybox/"+b+"/negy.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)}),ma.loadBitmapData("assets/graphics/skybox/"+b+"/posz.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)}),ma.loadBitmapData("assets/graphics/skybox/"+b+"/negz.jpg").onComplete(function(c){c=N.assetprogress;var d=N.assetprogress.get(a+":"+b)+1;c.set(a+":"+b,d)})}break;case "loadsong":c=I.songvol(b);
L.loadsong(b,c);N.readysong.set(b,1);break;case "loadsongasync":N.assetprogress.exists(a+":"+b)?1!=N.assetprogress.get(a+":"+b)&&(N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1):(N.assetprogress.set(a+":"+b,0),I.assetloaderhistory.push("requested music: assets/music/"+b+".ogg"),ma.loadSound("assets/music/"+b+".ogg").onComplete(function(c){I.assetloaderhistory[I.assetloaderhistory.length-1]+=" - loaded";N.assetprogress.set(a+":"+b,1);c=ma.getMusic("assets/music/"+b+".ogg");var d=I.songvol(b);
L.loadsongasync(c,b,d);N.readysong.set(b,1)}),N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1);break;case "loadsound":L.loadsound(b);N.readysound.set(b,1);break;case "loadsoundasync":N.assetprogress.exists(a+":"+b)?1!=N.assetprogress.get(a+":"+b)&&(N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1):(N.assetprogress.set(a+":"+b,0),I.assetloaderhistory.push("requested sound/"+b+".ogg"),ma.loadSound("assets/sounds/"+b+".ogg").onComplete(function(c){I.assetloaderhistory[I.assetloaderhistory.length-
1]+=" - loaded";N.assetprogress.set(a+":"+b,1);c=ma.getMusic("assets/sounds/"+b+".ogg");var d=I.songvol(b);L.loadsoundasync(c,b,d);N.readysound.set(b,1)}),N.loadingpara--,N.previoustime=xa.getTimer()-N.loadingdelay-1)}};var ga=function(){};m.Cameracontrol=ga;ga.__name__=["Cameracontrol"];ga.init=function(){ga.camerapoint=new Va;ga.controller=new $l(S.view.get_camera(),ga.camerapoint);ga.controller.set_wrapPanAngle(!0);ga.tilttoworldmap_v=[];ga.tilttoworldmap_vdist=[];ga.tilttoworldmap_p=[];for(var a=
[600,600,600,225,-20,300,600,600,206,-23,0,600,600,178,-25,-300,600,600,155,-23,-600,600,600,135,-18,600,300,600,223,-10,300,300,600,205,-12,0,300,600,178,-13,-300,300,600,153,-12,-600,300,600,133,-10,600,0,600,225,1,300,0,600,208,1,0,0,600,181,1,-300,0,600,153,1,-600,0,600,134,0,600,-300,600,225,9,300,-300,600,206,12,0,-300,600,179,14,-300,-300,600,151,12,-600,-300,600,135,10,600,-600,600,225,18,300,-600,600,206,23,0,-600,600,180,26,-300,-600,600,153,23,-600,-600,600,134,19,600,600,300,242,-23,300,
600,300,226,-35,0,600,300,180,-44,-300,600,300,135,-35,-600,600,300,116,-24,600,300,300,243,-12,300,300,300,225,-19,0,300,300,180,-26,-300,300,300,135,-18,-600,300,300,116,-12,600,0,300,244,0,300,0,300,224,0,0,0,300,180,0,-300,0,300,134,0,-600,0,300,116,0,600,-300,300,244,13,300,-300,300,224,20,0,-300,300,178,26,-300,-300,300,133,20,-600,-300,300,116,13,600,-600,300,243,24,300,-600,300,224,36,0,-600,300,181,43,-300,-600,300,135,36,-600,-600,300,116,25,600,600,0,270,-26,300,600,0,270,-45,0,600,0,165,
-45,-300,600,0,90,-45,-600,600,0,90,-25,600,300,0,270,-14,300,300,0,270,-28,0,300,0,174,-45,-300,300,0,92,-26,-600,300,0,90,-14,600,0,0,269,0,300,0,0,267,0,0,0,0,199,0,-300,0,0,90,0,-600,0,0,90,0,600,-300,0,272,15,300,-300,0,270,25,0,-300,0,185,45,-300,-300,0,90,28,-600,-300,0,90,16,600,-600,0,271,28,300,-600,0,265,44,0,-600,0,160,45,-300,-600,0,88,45,-600,-600,0,90,28,600,600,-300,298,-21,300,600,-300,318,-34,0,600,-300,0,-44,-300,600,-300,43,-36,-600,600,-300,65,-23,600,300,-300,297,-13,300,300,
-300,320,-19,0,300,-300,3,-26,-300,300,-300,45,-18,-600,300,-300,61,-13,600,0,-300,298,-1,300,0,-300,318,0,0,0,-300,356,0,-300,0,-300,45,0,-600,0,-300,63,0,600,-300,-300,296,12,300,-300,-300,316,21,0,-300,-300,4,26,-300,-300,-300,48,19,-600,-300,-300,63,11,600,-600,-300,296,24,300,-600,-300,313,36,0,-600,-300,356,45,-300,-600,-300,46,38,-600,-600,-300,63,24,600,600,-600,316,-20,300,600,-600,333,-25,0,600,-600,1,-28,-300,600,-600,26,-25,-600,600,-600,46,-20,600,300,-600,315,-10,300,300,-600,336,-12,
0,300,-600,3,-15,-300,300,-600,30,-11,-600,300,-600,48,-9,600,0,-600,317,0,300,0,-600,334,0,0,0,-600,0,0,-300,0,-600,26,0,-600,0,-600,49,0,600,-300,-600,313,9,300,-300,-600,333,12,0,-300,-600,0,15,-300,-300,-600,28,12,-600,-300,-600,46,10,600,-600,-600,315,19,300,-600,-600,335,24,0,-600,-600,5,28,-300,-600,-600,26,24,-600,-600,-600,48,19];0<a.length;)ga.tilttoworldmap_v.push(new C(a[0],a[1],a[2])),ga.tilttoworldmap_vdist.push(ga.tilttoworldmap_v[ga.tilttoworldmap_v.length-1].get_length()),ga.tilttoworldmap_p.push(new C(a[3],
a[4],0)),a.splice(0,5);ga.changecamera("orbit")};ga.declarenewobject=function(a){ga.lastposition=new C(a.x,a.y,a.z);ga.lastpositionlen=ga.lastposition.get_length();ga.closestpoint=-1;ga.closestdistance=1E7;a=0;for(var b=ga.tilttoworldmap_v.length;a<b;){var c=a++;ga.lastpositionlen=ga.tilttoworldmap_v[c].subtract(ga.lastposition).get_length();ga.lastpositionlen<ga.closestdistance&&(ga.closestdistance=ga.lastpositionlen,ga.closestpoint=c)}-1<ga.closestpoint&&(a=ga.controller.get_panAngle()*Math.PI/
180,b=ga.tilttoworldmap_p[ga.closestpoint].x*Math.PI/180,a=180*-Math.atan2(Math.sin(a-b),Math.cos(a-b))/Math.PI,b=ga.controller.get_tiltAngle()*Math.PI/180,c=ga.tilttoworldmap_p[ga.closestpoint].y*Math.PI/180,b=180*-Math.atan2(Math.sin(b-c),Math.cos(b-c))/Math.PI,c=!1,(.4==ga.panchangetime||.4==ga.tiltchangetime)&&Math.abs(a)>Math.abs(ga.panchange)&&(c=!0),c||(ga.panchange=a,ga.tiltchange=b,60<Math.abs(ga.panchange)?25<Math.abs(ga.tiltchange)?ga.panchangetime=ga.panmaxchangetime=ga.tiltchangetime=
ga.tiltmaxchangetime=.4:ga.panchangetime=ga.panmaxchangetime=.4:25<Math.abs(ga.tiltchange)&&(ga.tiltchangetime=ga.tiltmaxchangetime=.4)))};ga.resetfov=function(){60==y.__cast(S.view.get_camera().get_lens(),hd).get_fieldOfView()&&ha.notify("camera zoom was reset");y.__cast(S.view.get_camera().get_lens(),hd).set_fieldOfView(60)};ga.zoomin=function(){var a=y.__cast(S.view.get_camera().get_lens(),hd).get_fieldOfView(),a=60<a?60:Math.min(150,Math.max(a-10,30));if(30==y.__cast(S.view.get_camera().get_lens(),
hd).get_fieldOfView())Sa.tween(y.__cast(S.view.get_camera().get_lens(),hd),.4,{fieldOfView:20}).ease(wf.get_easeOut()).onComplete(ga.zoomin);else Sa.tween(y.__cast(S.view.get_camera().get_lens(),hd),.4,{fieldOfView:a}).ease(Ag.get_easeOut())};ga.zoomout=function(){var a=y.__cast(S.view.get_camera().get_lens(),hd).get_fieldOfView(),a=60>a?60:Math.min(150,Math.max(a+30,30));if(150==y.__cast(S.view.get_camera().get_lens(),hd).get_fieldOfView())Sa.tween(y.__cast(S.view.get_camera().get_lens(),hd),.4,
{fieldOfView:160}).ease(wf.get_easeOut()).onComplete(ga.zoomout);else Sa.tween(y.__cast(S.view.get_camera().get_lens(),hd),.4,{fieldOfView:a}).ease(Ag.get_easeOut())};ga.cameraismoving=function(){return.5<=Math.abs(ga.controller._tiltAngle-ga.controller._currentTiltAngle)||.5<=Math.abs(ga.controller._panAngle-ga.controller._currentPanAngle)?!0:!1};ga.changecamera=function(a,b){ga.cameramovedelay=0;ga.shakycam=!1;ga.cameraspin=0;ga.resetfov();ga.cameramode=a;"orbit"==a&&(ga.camerapoint.set_position(new C),
ga.controller.set_lookAtObject(ga.camerapoint),ga.controller.set_minTiltAngle(-45),ga.controller.set_maxTiltAngle(45),ga.controller.set_minPanAngle(-Infinity),ga.controller.set_maxPanAngle(Infinity),ga.controller.set_distance(500),ga.controller.set_tiltAngle(20))};ga.xoff=function(a){return 1==a?1:3==a?-1:0};ga.yoff=function(a){return 0==a?1:2==a?-1:0};ga.fixparticleposition=function(){td.moveparticlefield(ga.camerapoint.get_x(),ga.camerapoint.get_y(),ga.camerapoint.get_z())};ga.update=function(){ga.fixparticleposition();
if(0<ga.panchangetime)if(ga.panchangetime-=I.deltatime,0>=ga.panchangetime){ga.panchangetime+=I.deltatime;var a=ga.controller;a.set_panAngle(a.get_panAngle()+ga.panchangetime/ga.panmaxchangetime*ga.panchange);ga.panchangetime=0}else a=ga.controller,a.set_panAngle(a.get_panAngle()+I.deltatime/ga.panmaxchangetime*ga.panchange);0<ga.tiltchangetime&&(ga.tiltchangetime-=I.deltatime,0>=ga.tiltchangetime?(ga.tiltchangetime+=I.deltatime,a=ga.controller,a.set_tiltAngle(a.get_tiltAngle()+ga.tiltchangetime/
ga.tiltmaxchangetime*ga.tiltchange),ga.tiltchangetime=0):(a=ga.controller,a.set_tiltAngle(a.get_tiltAngle()+I.deltatime/ga.tiltmaxchangetime*ga.tiltchange)));a=1;J.pressed(B.SHIFT)&&(a=.5);if("orbit"==ga.cameramode){ga.controller.set_upAxis(new C(0,1,0));ga.shakycam?ga.camerapoint.set_position(new C(10*(Math.sin(xa.getTimer()/1200)+Math.cos(xa.getTimer()/900)),10*(Math.sin(xa.getTimer()/1050)+Math.cos(xa.getTimer()/750)),10*(Math.sin(xa.getTimer()/1350)+Math.cos(xa.getTimer()/600)))):ga.camerapoint.set_position(new C(0,
0,0));var b=ga.controller;b.set_panAngle(b.get_panAngle()+ga.cameraspin);aa.leftheld()&&aa.cursormoved()&&!qe.inbox(aa.x,aa.y,v.questionmark_tf.get_x(),v.questionmark_tf.get_y(),v.questionmark_width,v.questionmark_height)&&(I.showarrowkeyhint&&(I.showarrowkeyhintsetting=!1),0!=aa.deltay&&(b=ga.controller,b.set_tiltAngle(b.get_tiltAngle()+7.5*a*aa.deltay*I.deltatime)),0!=aa.deltax&&(b=ga.controller,b.set_panAngle(b.get_panAngle()+7.5*a*aa.deltax*I.deltatime)));J.pressed(B.LEFT)&&(b=ga.controller,b.set_panAngle(b.get_panAngle()-
50*a*I.deltatime*2));J.pressed(B.RIGHT)&&(b=ga.controller,b.set_panAngle(b.get_panAngle()+50*a*I.deltatime*2));J.pressed(B.UP)&&(b=ga.controller,b.set_tiltAngle(b.get_tiltAngle()-50*a*I.deltatime*2*(D.flipvon?-1:1)));J.pressed(B.DOWN)&&(b=ga.controller,b.set_tiltAngle(b.get_tiltAngle()+50*a*I.deltatime*2*(D.flipvon?-1:1)))}ga.controller.update()};var Za=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};m.EReg=Za;Za.__name__=["EReg"];Za.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=
0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new H("EReg::matched");},matchedRight:function(){if(null==this.r.m)throw new H("No string matched");var a=this.r.m.index+this.r.m[0].length;return da.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new H("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);
if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:da.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?da.substr(a,b,null):da.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=h.string(da.substr(a,c,null));break}var e=this.matchedPos(),d=d+h.string(da.substr(a,c,e.pos-c)),d=d+h.string(b(this));
0==e.len?(d+=h.string(da.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=h.string(da.substr(a,c,null)));return d},__class__:Za};var D=function(){};m.Filter=D;D.__name__=["Filter"];D.init=function(){D.bloomfilter=new Yb(new am);D.blurfilter=new bm(D.blurstrength,D.blurstrength);D.invertfilter=new cm;D.chromaticaberrationfilter=new Yb(new dm);D.vcrfilter=new Yb(new em);D.instagramfilter=new Yb(new fm);D.vignettefilter=new Yb(new gm(.5,1.2));D.scanlinefilter=
new Yb(new hm);D.mirrorfilter=new Yb(new im);D.reflectfilter=new Yb(new jm);D.mirrorreflectfilter=new Yb(new km);D.pixelfilter=new Yb(new fk(8));D.wobblefilter=new Yb(new lm(15,10));D.godraysfilter=new Yb(new mm);D.newsprintfilter=new Yb(new nm);null==D.kaleidoscopefilter&&(D.kaleidoscopefilter=new Yb(new gk));D.gammafilter=new Yb(new om);D.fliphfilter=new Yb(new pm);D.flipvfilter=new Yb(new qm);D.anselfilter=new Yb(new rm);D.lineglitchfilter=new Yb(new sm);D.escherfilter=new Yb(new tm);D.screenrepeatfilter=
new Yb(new um);D.vrfilter=new Yb(new vm);D.colortask=new yd;D.colortask.reset();D.hueshiftfilter=new Yb(D.colortask);D.saturationtask=new yd;D.saturationtask.reset();D.saturationfilter=new Yb(D.saturationtask);D.cinemafilter=new Yb(new wm);D.artfilter=new Yb(new xm)};D.kludgekaleidoscope=function(a){D.kaleidoscopefilter=new Yb(new gk(a))};D.clear=function(){S.view.set_filters3d([]);D.bloomon=!1;D.bluron=!1;D.inverton=!1;D.chromaticaberrationon=!1;D.vcron=!1;D.vron=!1;D.instagramon=!1;D.vignetteon=
!1;D.scanlineon=!1;D.pixelon=!1;D.wobbleon=!1;D.mirroredview=!1;D.reflectedview=!1;D.godrayson=!1;D.newsprinton=!1;D.kaleidoscopeon=!1;D.colourmapon=!1;D.gammaon=!1;D.fliphon=!1;D.flipvon=!1;D.anselon=!1;D.cinemabarson=!1;D.arton=!1;D.gameon=!1;D.lineglitchon=!1;D.escheron=!1;D.sepiaon=!1;D.screenrepeatvalue=0;D.hueshifton&&(D.colortask=new yd,D.colortask.reset(),D.hueshiftfilter=new Yb(D.colortask));D.hueshifton=!1;D.hueshiftval=0;D.saturationon&&(D.saturationtask=new yd,D.saturationtask.reset(),
D.saturationfilter=new Yb(D.saturationtask));D.saturationon=!1};D.resetfilter=function(){var a=[];D.gammaon&&a.push(D.gammafilter);D.bloomon&&a.push(D.bloomfilter);D.bluron&&a.push(D.blurfilter);D.inverton&&a.push(D.invertfilter);D.instagramon&&a.push(D.instagramfilter);D.chromaticaberrationon&&a.push(D.chromaticaberrationfilter);D.vcron&&a.push(D.vcrfilter);D.scanlineon&&a.push(D.scanlinefilter);D.pixelon&&a.push(D.pixelfilter);D.wobbleon&&a.push(D.wobblefilter);D.godrayson&&a.push(D.godraysfilter);
D.newsprinton&&a.push(D.newsprintfilter);D.lineglitchon&&a.push(D.lineglitchfilter);(D.vignetteon||D.sepiaon)&&a.push(D.vignettefilter);D.colourmapon&&(D.pixelon||a.push(new Yb(new fk(2))),a.push(new Yb(new ym(D.colourmapname))));D.anselon&&a.push(D.anselfilter);D.saturationon&&a.push(D.saturationfilter);D.hueshifton&&a.push(D.hueshiftfilter);D.kaleidoscopeon?a.push(D.kaleidoscopefilter):D.mirroredview&&D.reflectedview?a.push(D.mirrorreflectfilter):D.mirroredview?a.push(D.mirrorfilter):D.reflectedview&&
a.push(D.reflectfilter);D.escheron&&a.push(D.escherfilter);0<D.screenrepeatvalue&&a.push(D.screenrepeatfilter);D.fliphon&&a.push(D.fliphfilter);D.flipvon&&a.push(D.flipvfilter);D.vron&&a.push(D.vrfilter);D.cinemabarson&&a.push(D.cinemafilter);D.arton&&a.push(D.artfilter);S.view.set_filters3d(a)};D.updatecolourmatrixfilter=function(){D.hueshifton&&(D.hueshiftval+=I.deltatime/5*qb.rate,1<=D.hueshiftval&&(D.hueshiftval-=2),D.colortask.reset(),D.colortask.adjustHue(D.hueshiftval))};D.colourmap=function(a){null==
a&&(a="");D.colourmapon&&a==D.colourmapname||""==a?D.colourmapon=!1:(D.disableallcolourfilters(),D.colourmapon=!0,D.colourmapname=a,ha.notify(a+' filter: type "normal" to disable'),ha.disabletrigger="colourmap");D.resetfilter()};D.newsprint=function(){D.newsprinton||D.disableallcolourfilters();D.newsprinton=!D.newsprinton;D.resetfilter()};D.cinemabars=function(){D.cinemabarson=!D.cinemabarson;D.resetfilter()};D.art=function(){D.arton=!D.arton;D.resetfilter()};D.game=function(){D.gameon=!D.gameon};
D.ansel=function(){D.anselon||D.disableallcolourfilters();D.anselon=!D.anselon;D.resetfilter()};D.kaleidoscope=function(){D.kaleidoscopeon||!D.mirroredview&&!D.reflectedview||(D.mirroredview=!1,D.reflectedview=!1);D.kaleidoscopeon=!D.kaleidoscopeon;D.kaleidoscopeon&&(ha.notify('kaleidoscope filter: type "normal" to disable'),ha.disabletrigger="kaleidoscope");D.resetfilter()};D.sepia=function(){D.sepiaon?D.sepiaon=!1:(D.disableallcolourfilters(),D.sepiaon=!0);D.resetfilter()};D.hueshift=function(){D.hueshifton&&
(D.colortask=new yd,D.colortask.reset(),D.hueshiftfilter=new Yb(D.colortask));D.hueshifton=!D.hueshifton;D.hueshifton||(D.hueshiftval=0);D.resetfilter()};D.scanline=function(){D.scanlineon=!D.scanlineon;D.resetfilter()};D.escher=function(){D.escheron=!D.escheron;D.escheron&&(ha.notify('infinity filter: type "normal" to disable'),ha.disabletrigger="infinity");D.resetfilter()};D.saturation=function(){D.saturationon||D.disableallcolourfilters();D.saturationon=!D.saturationon;D.saturationon&&(D.saturationtask.reset(),
D.saturationtask.adjustSaturation(1));D.resetfilter()};D.lineglitch=function(){D.lineglitchon=!D.lineglitchon;D.resetfilter()};D.wobble=function(){D.wobbleon=!D.wobbleon;D.resetfilter()};D.godrays=function(){D.godrayson=!D.godrayson;D.resetfilter()};D.vr=function(){D.vron=!D.vron;D.resetfilter()};D.screenrepeat=function(a){D.screenrepeatvalue=a;D.resetfilter()};D.vignette=function(){D.vignetteon=!D.vignetteon;D.resetfilter()};D.fliph=function(){D.fliphon=!D.fliphon;D.resetfilter()};D.flipv=function(){D.flipvon=
!D.flipvon;D.resetfilter()};D.pixel=function(){D.vcron&&(D.vcron=!1);D.pixelon=!D.pixelon;D.resetfilter()};D.vcr=function(){D.pixelon&&(D.pixelon=!1);D.vcron=!D.vcron;D.resetfilter()};D.chromaticaberration=function(){I.mobilemode||(D.chromaticaberrationon=!D.chromaticaberrationon);D.resetfilter()};D.invert=function(){D.inverton=!D.inverton;D.resetfilter()};D.instagram=function(){D.instagramon?D.instagramon=!1:(D.disableallcolourfilters(),D.instagramon=!0);D.resetfilter()};D.bloom=function(){D.bloomon=
!D.bloomon;D.resetfilter()};D.blur=function(){D.bluron=!D.bluron;D.resetfilter()};D.disableallcolourfilters=function(){D.instagramon&&D.instagram();D.newsprinton&&D.newsprint();D.colourmapon&&D.colourmap();D.anselon&&D.ansel();D.sepiaon&&D.sepia();D.saturationon&&D.saturation()};var Fa=function(){};m.Futureload=Fa;Fa.__name__=["Futureload"];Fa.init=function(){Fa.queue=[];Fa.assettype=[];Fa.message=[]};Fa.update=function(){if(0<Fa.queue.length)if(ha.notify(Fa.message[0],"loading"),"model"==Fa.assettype[0]){var a=
Fa.queue[0],b=N.readymodels;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))Dc.run(Fa.queue[0]),Fa.queue.splice(0,1),Fa.assettype.splice(0,1),Fa.message.splice(0,1),0<Fa.queue.length&&"model"==Fa.assettype[0]&&Fa.update()}else if("sky"==Fa.assettype[0]){if(a=Fa.queue[0],b=N.readysky,null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))a=cc.getskybox().get_entities_EntitySkybox(Qe),a.changeskybox(Fa.queue[0]),cc.changeatmosphere(a.currentskybox),Fa.queue.splice(0,1),Fa.assettype.splice(0,1),
Fa.message.splice(0,1)}else if("music"==Fa.assettype[0]){if(a=Fa.queue[0],b=N.readysong,null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))"amb/phone"==Fa.queue[0]||"safehaven"==Fa.queue[0]?(L.play(Fa.queue[0],.8),"safehaven"==Fa.queue[0]&&(K.playingmusic=!0)):L.playbackground(Fa.queue[0]),Fa.queue.splice(0,1),Fa.assettype.splice(0,1),Fa.message.splice(0,1)}else"scene"==Fa.assettype[0]&&X.ready(Fa.queue[0])&&(K.run("reset"),X.change(Fa.queue[0]),I.playsound("secret"),Fa.queue.splice(0,1),Fa.assettype.splice(0,
1),Fa.message.splice(0,1))};Fa.loadmodel=function(a){Fa.queue.push(a);Fa.assettype.push("model");Fa.message.push("loading "+a);ha.shade=160;Fa.reorder("loadmodelasync:"+a,a)};Fa.loadsky=function(a){Fa.queue.push(a);Fa.assettype.push("sky");Fa.message.push("loading new location");ha.shade=160;Fa.reorder("loadskybox:"+a,a)};Fa.loadmusic=function(a){Fa.queue.push(a);Fa.assettype.push("music");Fa.message.push("loading music");ha.shade=160;Fa.reorder("loadsongasync:"+a,a)};Fa.changescene=function(a){if(-1==
Fa.assettype.indexOf("scene")){Fa.queue.push(a);Fa.assettype.push("scene");Fa.message.push("loading scene");var b=X.requirements;a=null!=t[a]?b.getReserved(a):b.h[a];for(var b=0,c=a.length;b<c;){var d=b++,e=ba.getroot(a[d],":"),d=ba.getbranch(a[d],":");"model"==e?Fa.reorder("loadmodelasync:"+d,d):"sky"==e&&Fa.reorder("loadskybox:"+d,d)}ha.shade=160}};Fa.reorder=function(a,b){if(N.loadingpara<N.assetlist.length-2&&N.assetlist[N.loadingpara|0]!=a){if(-1==N.assetlist.indexOf(a))throw new H("error: "+
a+" is not scheduled");da.remove(N.assetlist,a);N.assetlist.splice(N.loadingpara+1|0,0,a)}};var I=function(){};m.Game=I;I.__name__=["Game"];I.init=function(){I.ismobilebrowser(window.navigator.userAgent)?I.mobilemode=!0:I.mobilemode=!1;I.gamestate=0;v.init();Fa.init();I.typingspeed=Qd.typingspeed;N.loadingstate="prepareloading";N.loadingpara=0;N.loadingdelay=0;I.currenttime=xa.getTimer();N.previoustime=I.currenttime;I.deltatime=0;N.loadingbar=0;ha.notify("loading","wait")};I.showtitle=function(a,
b){"ready"==N.loadingstate?v.updatetitlescreen(!0,"press ENTER to start",a,b):v.updatetitlescreen(!0,"loading...",a,b)};I.startgame=function(){ga.init();K.reset();X.init();I.currenttime=xa.getTimer();I.showarrowkeytime=I.currenttime-Qd.showarrowkeytimedelay;N.previoustime=I.currenttime;I.deltatime=0;ha.init();I.gamestate=1};I.now=function(){return I.currenttime};I.timesincelastkeypress=function(){return I.currenttime-I.lastkeypresstime};I.autotype=function(){0==I.autotypestate?(I.autotypeword=v.inputtext,
I.autotypeword=ba.trimspaces(I.autotypeword),""!=I.autotypeword?I.autotypestate=3:(I.autotypeword=Bb.please(),I.autotypestate=1,I.autotypestatedelay=0)):1==I.autotypestate?0>=I.autotypestatedelay?I.autotypeword!=v.inputtext?(v.inputtext=ba.left(I.autotypeword,v.inputtext.length+1),I.autotypestatedelay=.1/I.typingspeed,K.keysounds()):I.autotype_dontpressenter?(I.autotypestate=0,v.input_response=I.autotypeword):(I.autotypestate=2,I.autotypestatedelay=1.25/I.typingspeed):I.autotypestatedelay-=I.deltatime:
2==I.autotypestate?0>=I.autotypestatedelay?(K.parse(v.getinput())?K.beep():K.nope(),I.autotypestate=0):I.autotypestatedelay-=I.deltatime:3==I.autotypestate&&(""!=I.autotypeword&&(0<I.autotypestatedelay?I.autotypestatedelay-=I.deltatime:""!=v.inputtext&&(v.inputtext=ba.left(v.inputtext,v.inputtext.length-1),I.autotypeword=v.inputtext,I.autotypeword=ba.trimspaces(I.autotypeword),I.playsound("key4"),I.autotypestatedelay=.03)),""==v.inputtext&&(I.autotypestate=0,I.autotype()))};I.songvol=function(a){return ba.isinstring(a,
"freesound/1054")?.7:ba.isinstring(a,"freesound/13793")||ba.isinstring(a,"freesound/28168")||ba.isinstring(a,"freesound/28171")?.15:ba.isinstring(a,"freesound/35480")||ba.isinstring(a,"freesound/56611")?.7:ba.isinstring(a,"freesound/97397")?.2:ba.isinstring(a,"sleepbox")||ba.isinstring(a,"projectpegasus")?.05:ba.isinstring(a,"magneticfield")?.25:ba.isinstring(a,"antigen")?.1:1};I.updateassetloader=function(){N.loadingpara<N.assetlist.length&&(N.loadasset(ba.getroot(N.assetlist[N.loadingpara|0],":"),
ba.getbranch(N.assetlist[N.loadingpara|0],":")),N.loadingpara++,N.loadingpara==N.assetlist.length&&I.assetloaderhistory.push("*** All assets loaded! ***"))};I.changefps=function(a){xa.current.stage.set_frameRate(a)};I.update=function(){I.currenttime=xa.getTimer();I.deltatime=(I.currenttime-N.previoustime)/1E3;N.previoustime=I.currenttime;if(0==I.gamestate){if("start"==N.loadingstate){var a=N.loadingdelay/N.loadingpara*255|0;255<a&&(a=255);I.showtitle(na.rgb(a,a,a),na.rgb(.75*a|0,.75*a|0,.75*a|0));
N.loadingdelay+=I.deltatime;N.loadingdelay>=N.loadingpara&&(N.loadingstate="prepareloading",N.loadingdelay=0,N.loadingpara=0)}else I.showtitle(16777215,13421772);"prepareloading"==N.loadingstate&&(N.loadassetlist(),N.loadingstate="loading",N.loadingpara=0,N.loadingdelay=8);for(;"loading"==N.loadingstate&&xa.getTimer()-N.previoustime<N.loadingdelay;){if(N.loadingpara>=N.assetlist.length){if(N.loadingstate="ready",0<N.asynchassetlist.length){N.assetlist=[];for(var a=0,b=N.asynchassetlist.length;a<b;){var c=
a++;N.assetlist.push(N.asynchassetlist[c])}N.loadingpara=0;N.asynchassetlist=[]}}else N.loadasset(ba.getroot(N.assetlist[N.loadingpara|0],":"),ba.getbranch(N.assetlist[N.loadingpara|0],":")),N.loadingpara++;N.loadingbar=N.loadingpara/N.assetlist.length}"ready"==N.loadingstate&&I.updateassetloader();if(Qd.showbackgroundloading){a=0;for(b=I.assetloaderhistory.length;a<b;)c=a++,v.slowprint(2*I.fontscale,5*I.fontscale,v.height-20*(c+2)*I.fontscale,I.assetloaderhistory[I.assetloaderhistory.length-1-c],
na.WHITE);v.slowprintcleanup()}"ready"==N.loadingstate&&(J.justpressed(B.ENTER),v.updatetitlescreen(!1,"",0,0),I.startgame())}else{I.updateassetloader();Fa.update();J.justpressed(B.ANY)&&(I.lastkeypresstime=I.currenttime);I.currenttime-I.showarrowkeytime>Qd.showarrowkeytimedelay&&2<K.entities.length?I.showarrowkeyhint=!0:(I.showarrowkeyhint&&2<K.entities.length&&(I.showarrowkeyhintsetting=!1),I.showarrowkeyhint=!1);if(J.pressed(B.LEFT)||J.pressed(B.RIGHT)||J.pressed(B.UP)||J.pressed(B.DOWN))I.showarrowkeytime=
I.currenttime;D.updatecolourmatrixfilter();A.update();F.update();I.updateautoshuffle();for(a=0;a<K.entities.length;)K.entities[a].update(),K.entities[a].deleteme?(K.entities[a].destroy(),K.entities.splice(a,1)):++a;if(I.autoplay)for(ga.update(),0>=I.autoplaydelay||0!=I.autotypestate?(I.autotype(),I.autoplaydelay=.5/I.typingspeed):I.autoplaydelay-=I.deltatime,a=0,b=B.__empty_constructs__;a<b.length;)c=b[a],++a,J.pressed(c)&&c!=B.LEFT&&c!=B.RIGHT&&c!=B.UP&&c!=B.DOWN&&c!=B.ANY&&(I.typingspeed=Qd.typingspeed,
I.autoplay=!1,I.autotypestate=0);else 0==I.autotypestate?(ga.update(),I.autotype_dontpressenter&&(I.autotype_dontpressenter=!1,v.inputtext=I.autotypeword,v.input_response=I.autotypeword,J.keybuffer=v.inputtext),v.input()&&(a=v.getinput(),a=ba.trimspaces(a),""!=a&&(K.parse(a)?(K.beep(),I.dudcount=0):(K.nope(),I.dudcount++))),I.mobilemode?aa.leftreleased()&&!aa.cursormoved()&&I.autotype():qe.inbox(aa.x,aa.y,v.questionmark_tf.get_x(),v.questionmark_tf.get_y(),v.questionmark_width,v.questionmark_height)?
(v.questionmark_tf.set_textColor(100<I.currenttime%200?16777215:14540253),aa.leftclick()&&I.autotype()):v.questionmark_tf.set_textColor(13421772)):0<I.autotypestate&&(ga.update(),I.autotype());v.centertext(v.inputtext,v.input_responsecol);D.gameon&&!I.hideosd?v.gametext(500*S.sharedscene.get_numChildren()):v.gametext(-1);0<I.autotypestate&&(2==I.autotypestate&&(v.input_responsecol=150<xa.getTimer()%300?na.WHITE:13421772),v.input_response=v.inputtext,I.hideosd?v.centertext("",v.input_responsecol):
v.centertext(v.inputtext,v.input_responsecol),v.input_responsecol=13421772);!I.showarrowkeyhint||J.pressed(B.SHIFT)||J.pressed(B.TAB)||I.hideosd||I.mobilemode||!I.showarrowkeyhintsetting?v.hidearrowkeyhint():v.showarrowkeyhint();I.showhelp&&!I.hideosd?(0>=I.helpdelay?(I.helpword=Bb.please(),I.helpdelay=.3):I.helpdelay-=I.deltatime,v.showhelptext('try "'+I.helpword+'"')):v.hidehelptext();I.autoplay&&!I.hideosd?v.autoplaytext(!0):v.autoplaytext(!1);I.showcredits?v.showcredits():v.hidecredits();ha.update();
if(Qd.showbackgroundloading){a=0;for(b=I.assetloaderhistory.length;a<b;)c=a++,v.slowprint(2*I.fontscale,5*I.fontscale,v.height-20*(c+2)*I.fontscale,I.assetloaderhistory[I.assetloaderhistory.length-1-c],na.WHITE);J.justpressed(B.TAB)&&(Qd.showbackgroundloading=!1);v.slowprintcleanup()}}};I.togglehelp=function(){I.showhelp=!I.showhelp;I.helpdelay=.3;I.helpword=Bb.please()};I.enableshuffle=function(){I.autoshuffle=!0;I.autoshuffletime=.1};I.updateautoshuffle=function(){I.autoshuffle&&0<qb.rate&&(I.autoshuffletime-=
I.deltatime,0>=I.autoshuffletime&&(F.singleswap(),I.autoshuffletime+=.25))};I.loadatmosphere=function(){I.atmospheremap=new qa;for(var a="white:nothing black:nothing rainbow:nothing gradient:nothing blackwhitegradient:nothing ame/ame_desert:antigen/transparenttunnel ame/ame_emerald:magneticfield/beige ame/ame_greenhaze:magneticfield/bronze ame/ame_leather:projectpegasus/arpeggios/kevlar ame/ame_mudskip:magneticfield/beige ame/ame_purple:magneticfield/bronze ame/ame_rapture:magneticfield/black ame/ame_shadow:freesound/35480__martypinso__dmp013016-heavy-snow-storm-ms axon/misty:antigen/transparenttunnel heikoirrgang/darkstormy:antigen/transmissionsroom hipshot/interstellar:projectpegasus/innermostjourney hipshot/violentdays:antigen/sleepbox hipshot/stormydays:antigen/sleepbox humus/arstabridge:magneticfield/copper humus/backyard:freesound/97397__jpnien__wind-strong-jpn humus/beach:freesound/163124__mmiron__ocean-waves-3 humus/bridge:freesound/156525__owl__lake-waves-hjalmaren humus/brudslojan:freesound/28168__herbertboland__beek1 humus/buddha:projectpegasus/innermostjourney humus/creek:freesound/35480__martypinso__dmp013016-heavy-snow-storm-ms humus/dallasw:freesound/122824__geodylabs__air-conditioning-hotel-room humus/fishermansbastion:freesound/138294__tdude9000__ambience-outdoor-wind-birds humus/fishpond:freesound/127596__juskiddink__wind-in-birch-trees-a-passing-sheep humus/fjaderholmarna:freesound/56611__inchadney__morning-in-the-country humus/footballfield:freesound/127596__juskiddink__wind-in-birch-trees-a-passing-sheep humus/iceriver:freesound/35480__martypinso__dmp013016-heavy-snow-storm-ms humus/lancellottichapel:freesound/122824__geodylabs__air-conditioning-hotel-room humus/langholmen:freesound/56611__inchadney__morning-in-the-country humus/lundagatan:antigen/transmissionsroom humus/meadow:freesound/1054__rhumphries__rbh-meadow-dc-crix-birds humus/nightpath:projectpegasus/arpeggios/kevlar humus/nissibeach2:projectpegasus/arpeggios/slowburn humus/palmtrees:freesound/138294__tdude9000__ambience-outdoor-wind-birds humus/park3:freesound/97397__jpnien__wind-strong-jpn humus/pereabeach1:freesound/163124__mmiron__ocean-waves-3 humus/pier:freesound/28171__herbertboland__beek5 humus/pond:freesound/156525__owl__lake-waves-hjalmaren humus/roundabout:magneticfield/orange humus/saintlazaruschurch:freesound/371261__risto-alcinov__rooftop-city humus/saintlazaruschurch2:freesound/371261__risto-alcinov__rooftop-city humus/skansen:freesound/138294__tdude9000__ambience-outdoor-wind-birds humus/skansen3:freesound/56611__inchadney__morning-in-the-country humus/stairs:freesound/138294__tdude9000__ambience-outdoor-wind-birds humus/storforsen4:freesound/28168__herbertboland__beek1 humus/street:freesound/56611__inchadney__morning-in-the-country humus/swedishroyalcastle:magneticfield/copper humus/teide:freesound/97397__jpnien__wind-strong-jpn humus/tenerife3:projectpegasus/arpeggios/80sarp humus/unionsquare:projectpegasus/arpeggios/80sarp humus/yokohama3:freesound/371261__risto-alcinov__rooftop-city mightypete/awup:freesound/163124__mmiron__ocean-waves-3 necros/hell:projectpegasus/arpeggios/slowburn skiingpenguins/indigo:magneticfield/emerald slowhandd/mnight:antigen/memoryarea space:antigen/marblevoid speedy/morose:antigen/memoryarea wtfmrgibs/darkskies:antigen/marblevoid".split(" "),
b=0,c=a.length;b<c;){var d=b++;if(ba.isinstring(a[d],":")){var e=I.atmospheremap,f=ba.trimspaces(ba.getroot(a[d],":")),d=ba.trimspaces(ba.getbranch(a[d],":"));null!=t[f]?e.setReserved(f,d):e.h[f]=d}}I.atmospherestarttime=new qa;a=0;for(b=I.atmospheresounds.length;a<b;)c=a++,ba.isinstring(I.atmospheresounds[c],"magneticfield")?(c=I.atmospheresounds[c],f=I.atmospherestarttime,null!=t[c]?f.setReserved(c,3):f.h[c]=3):ba.isinstring(I.atmospheresounds[c],"antigen")?(c=I.atmospheresounds[c],f=I.atmospherestarttime,
null!=t[c]?f.setReserved(c,3):f.h[c]=3):(c=I.atmospheresounds[c],f=I.atmospherestarttime,null!=t[c]?f.setReserved(c,0):f.h[c]=0)};I.randomsystemcol=function(){return fa.pickint(na.RED,na.YELLOW,na.BLUE,na.GREEN,na.ORANGE,na.PINK)};I.playsound=function(a,b){null==b&&(b=0);var c=N.readysound;(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?L.playsound(a,b):ba.isinstring(a,"key")?L.playsound("key1"):ba.isinstring(a,"beep")&&L.playsound("beep1")};I.ismobilebrowser=function(a){return ba.isinstring(a,
"Mobi")};var da=function(){};m.HxOverrides=da;da.__name__=["HxOverrides"];da.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new H("Invalid date format : "+a);}};da.cca=function(a,b){var c=a.charCodeAt(b);
return c!=c?void 0:c};da.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};da.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};da.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Qp=function(){};m.Lambda=Qp;Qp.__name__=["Lambda"];Qp.array=function(a){var b=[];for(a=hs(a)();a.hasNext();){var c=a.next();b.push(c)}return b};
var Bd=function(){this.length=0};m.List=Bd;Bd.__name__=["List"];Bd.prototype={h:null,q:null,length:null,add:function(a){a=new zm(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},push:function(a){this.h=a=new zm(a,this.h);null==this.q&&(this.q=a);this.length++},first:function(){return null==this.h?null:this.h.item},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},clear:function(){this.q=this.h=null;
this.length=0},remove:function(a){for(var b=null,c=this.h;null!=c;){if(c.item==a)return null==b?this.h=c.next:b.next=c.next,this.q==c&&(this.q=b),this.length--,!0;b=c;c=c.next}return!1},iterator:function(){return new Rp(this.h)},__class__:Bd};var zm=function(a,b){this.item=a;this.next=b};m["_List.ListNode"]=zm;zm.__name__=["_List","ListNode"];zm.prototype={item:null,next:null,__class__:zm};var Rp=function(a){this.head=a};m["_List.ListIterator"]=Rp;Rp.__name__=["_List","ListIterator"];Rp.prototype=
{head:null,hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:Rp};var ch=function(){};m.ManifestResources=ch;ch.__name__=["ManifestResources"];ch.init=function(a){ch.preloadLibraries=[];ch.preloadLibraryNames=[];var b=null;null!=a&&Object.prototype.hasOwnProperty.call(a,"rootPath")&&(b=Z.field(a,"rootPath"));null==b&&(b="");ra.defaultRootPath=b;id.registerFont(Am);a=sc.parse('{"name":null,"assets":"aoy4:sizei89024y4:typey5:MUSICy2:idy32:assets%2Fmusic%2Famb%2Fphone.mp3y9:pathGroupaR4y32:assets%2Fmusic%2Famb%2Fphone.ogghgoR0i73586R1y5:SOUNDR3R6R5aR4R6hgoR0i95711R1R2R3y41:assets%2Fmusic%2Fantigen%2Fmarblevoid.mp3R5aR8y41:assets%2Fmusic%2Fantigen%2Fmarblevoid.ogghgoR0i55116R1R7R3R9R5aR8R9hgoR0i144612R1R2R3y41:assets%2Fmusic%2Fantigen%2Fmemoryarea.mp3R5aR10y41:assets%2Fmusic%2Fantigen%2Fmemoryarea.ogghgoR0i97143R1R7R3R11R5aR10R11hgoR0i122879R1R2R3y39:assets%2Fmusic%2Fantigen%2Fsleepbox.mp3R5aR12y39:assets%2Fmusic%2Fantigen%2Fsleepbox.ogghgoR0i87334R1R7R3R13R5aR12R13hgoR0i150882R1R2R3y48:assets%2Fmusic%2Fantigen%2Ftransmissionsroom.mp3R5aR14y48:assets%2Fmusic%2Fantigen%2Ftransmissionsroom.ogghgoR0i101027R1R7R3R15R5aR14R15hgoR0i174706R1R2R3y48:assets%2Fmusic%2Fantigen%2Ftransparenttunnel.mp3R5aR16y48:assets%2Fmusic%2Fantigen%2Ftransparenttunnel.ogghgoR0i239182R1R7R3R17R5aR16R17hgoR0i135417R1R2R3y75:assets%2Fmusic%2Ffreesound%2F1054__rhumphries__rbh-meadow-dc-crix-birds.mp3R5aR18y75:assets%2Fmusic%2Ffreesound%2F1054__rhumphries__rbh-meadow-dc-crix-birds.ogghgoR0i116127R1R7R3R19R5aR18R19hgoR0i71888R1R2R3y79:assets%2Fmusic%2Ffreesound%2F122824__geodylabs__air-conditioning-hotel-room.mp3R5aR20y79:assets%2Fmusic%2Ffreesound%2F122824__geodylabs__air-conditioning-hotel-room.ogghgoR0i52073R1R7R3R21R5aR20R21hgoR0i135417R1R2R3y88:assets%2Fmusic%2Ffreesound%2F127596__juskiddink__wind-in-birch-trees-a-passing-sheep.mp3R5aR22y88:assets%2Fmusic%2Ffreesound%2F127596__juskiddink__wind-in-birch-trees-a-passing-sheep.ogghgoR0i100471R1R7R3R23R5aR22R23hgoR0i79829R1R2R3y79:assets%2Fmusic%2Ffreesound%2F138294__tdude9000__ambience-outdoor-wind-birds.mp3R5aR24y79:assets%2Fmusic%2Ffreesound%2F138294__tdude9000__ambience-outdoor-wind-birds.ogghgoR0i96919R1R7R3R25R5aR24R25hgoR0i104070R1R2R3y66:assets%2Fmusic%2Ffreesound%2F156525__owl__lake-waves-hjalmaren.mp3R5aR26y66:assets%2Fmusic%2Ffreesound%2F156525__owl__lake-waves-hjalmaren.ogghgoR0i93603R1R7R3R27R5aR26R27hgoR0i261641R1R2R3y62:assets%2Fmusic%2Ffreesound%2F163124__mmiron__ocean-waves-3.mp3R5aR28y62:assets%2Fmusic%2Ffreesound%2F163124__mmiron__ocean-waves-3.ogghgoR0i196226R1R7R3R29R5aR28R29hgoR0i112430R1R2R3y60:assets%2Fmusic%2Ffreesound%2F28168__herbertboland__beek1.mp3R5aR30y60:assets%2Fmusic%2Ffreesound%2F28168__herbertboland__beek1.ogghgoR0i91829R1R7R3R31R5aR30R31hgoR0i59349R1R2R3y60:assets%2Fmusic%2Ffreesound%2F28171__herbertboland__beek5.mp3R5aR32y60:assets%2Fmusic%2Ffreesound%2F28171__herbertboland__beek5.ogghgoR0i57263R1R7R3R33R5aR32R33hgoR0i81919R1R2R3y81:assets%2Fmusic%2Ffreesound%2F35480__martypinso__dmp013016-heavy-snow-storm-ms.mp3R5aR34y81:assets%2Fmusic%2Ffreesound%2F35480__martypinso__dmp013016-heavy-snow-storm-ms.ogghgoR0i73583R1R7R3R35R5aR34R35hgoR0i88606R1R2R3y68:assets%2Fmusic%2Ffreesound%2F371261__risto-alcinov__rooftop-city.mp3R5aR36y68:assets%2Fmusic%2Ffreesound%2F371261__risto-alcinov__rooftop-city.ogghgoR0i64973R1R7R3R37R5aR36R37hgoR0i205634R1R2R3y73:assets%2Fmusic%2Ffreesound%2F56611__inchadney__morning-in-the-country.mp3R5aR38y73:assets%2Fmusic%2Ffreesound%2F56611__inchadney__morning-in-the-country.ogghgoR0i160741R1R7R3R39R5aR38R39hgoR0i127894R1R2R3y63:assets%2Fmusic%2Ffreesound%2F97397__jpnien__wind-strong-jpn.mp3R5aR40y63:assets%2Fmusic%2Ffreesound%2F97397__jpnien__wind-strong-jpn.ogghgoR0i90825R1R7R3R41R5aR40R41hgoR0i37197R1R2R3y42:assets%2Fmusic%2Fmagneticfield%2Fbeige.mp3R5aR42y42:assets%2Fmusic%2Fmagneticfield%2Fbeige.ogghgoR0i23726R1R7R3R43R5aR42R43hgoR0i35525R1R2R3y42:assets%2Fmusic%2Fmagneticfield%2Fblack.mp3R5aR44y42:assets%2Fmusic%2Fmagneticfield%2Fblack.ogghgoR0i51468R1R7R3R45R5aR44R45hgoR0i127894R1R2R3y43:assets%2Fmusic%2Fmagneticfield%2Fbronze.mp3R5aR46y43:assets%2Fmusic%2Fmagneticfield%2Fbronze.ogghgoR0i175402R1R7R3R47R5aR46R47hgoR0i80665R1R2R3y43:assets%2Fmusic%2Fmagneticfield%2Fcopper.mp3R5aR48y43:assets%2Fmusic%2Fmagneticfield%2Fcopper.ogghgoR0i47844R1R7R3R49R5aR48R49hgoR0i123714R1R2R3y44:assets%2Fmusic%2Fmagneticfield%2Femerald.mp3R5aR50y44:assets%2Fmusic%2Fmagneticfield%2Femerald.ogghgoR0i83194R1R7R3R51R5aR50R51hgoR0i74813R1R2R3y43:assets%2Fmusic%2Fmagneticfield%2Forange.mp3R5aR52y43:assets%2Fmusic%2Fmagneticfield%2Forange.ogghgoR0i60448R1R7R3R53R5aR52R53hgoR0i135051R1R2R3y56:assets%2Fmusic%2Fprojectpegasus%2Farpeggios%2F80sarp.mp3R5aR54y56:assets%2Fmusic%2Fprojectpegasus%2Farpeggios%2F80sarp.ogghgoR0i109091R1R7R3R55R5aR54R55hgoR0i64782R1R2R3y56:assets%2Fmusic%2Fprojectpegasus%2Farpeggios%2Fkevlar.mp3R5aR56y56:assets%2Fmusic%2Fprojectpegasus%2Farpeggios%2Fkevlar.ogghgoR0i107846R1R7R3R57R5aR56R57hgoR0i154121R1R2R3y58:assets%2Fmusic%2Fprojectpegasus%2Farpeggios%2Fslowburn.mp3R5aR58y58:assets%2Fmusic%2Fprojectpegasus%2Farpeggios%2Fslowburn.ogghgoR0i93075R1R7R3R59R5aR58R59hgoR0i88196R1R2R3y54:assets%2Fmusic%2Fprojectpegasus%2Finnermostjourney.mp3R5aR60y54:assets%2Fmusic%2Fprojectpegasus%2Finnermostjourney.ogghgoR0i87890R1R7R3R61R5aR60R61hgoR0i3218075R1R2R3y30:assets%2Fmusic%2Fsafehaven.mp3R5aR62y30:assets%2Fmusic%2Fsafehaven.ogghgoR0i3121196R1R2R3R63R5aR62R63hgoR0i17553R1R2R3y28:assets%2Fsounds%2Fbeep10.mp3R5aR64y28:assets%2Fsounds%2Fbeep10.ogghgoR0i6395R1R7R3R65R5aR64R65hgoR0i16717R1R2R3y28:assets%2Fsounds%2Fbeep11.mp3R5aR66y28:assets%2Fsounds%2Fbeep11.ogghgoR0i8666R1R7R3R67R5aR66R67hgoR0i17971R1R2R3y28:assets%2Fsounds%2Fbeep12.mp3R5aR68y28:assets%2Fsounds%2Fbeep12.ogghgoR0i15361R1R7R3R69R5aR68R69hgoR0i17553R1R2R3y27:assets%2Fsounds%2Fbeep2.mp3R5aR70y27:assets%2Fsounds%2Fbeep2.ogghgoR0i16249R1R7R3R71R5aR70R71hgoR0i17971R1R2R3y27:assets%2Fsounds%2Fbeep3.mp3R5aR72y27:assets%2Fsounds%2Fbeep3.ogghgoR0i10872R1R7R3R73R5aR72R73hgoR0i17553R1R2R3y27:assets%2Fsounds%2Fbeep4.mp3R5aR74y27:assets%2Fsounds%2Fbeep4.ogghgoR0i17100R1R7R3R75R5aR74R75hgoR0i17971R1R2R3y27:assets%2Fsounds%2Fbeep5.mp3R5aR76y27:assets%2Fsounds%2Fbeep5.ogghgoR0i12793R1R7R3R77R5aR76R77hgoR0i17971R1R2R3y27:assets%2Fsounds%2Fbeep6.mp3R5aR78y27:assets%2Fsounds%2Fbeep6.ogghgoR0i15248R1R7R3R79R5aR78R79hgoR0i17553R1R2R3y27:assets%2Fsounds%2Fbeep7.mp3R5aR80y27:assets%2Fsounds%2Fbeep7.ogghgoR0i11192R1R7R3R81R5aR80R81hgoR0i17553R1R2R3y27:assets%2Fsounds%2Fbeep8.mp3R5aR82y27:assets%2Fsounds%2Fbeep8.ogghgoR0i8914R1R7R3R83R5aR82R83hgoR0i17553R1R2R3y27:assets%2Fsounds%2Fbeep9.mp3R5aR84y27:assets%2Fsounds%2Fbeep9.ogghgoR0i18121R1R7R3R85R5aR84R85hgoR0i12955R1R2R3y34:assets%2Fsounds%2Fmodels%2Fcat.mp3R5aR86y34:assets%2Fsounds%2Fmodels%2Fcat.ogghgoR0i20102R1R7R3R87R5aR86R87hgoR0i17553R1R2R3y25:data%2Fsounds%2Fbeep1.mp3R5aR88y25:data%2Fsounds%2Fbeep1.ogghy7:preloadtgoR0i14901R1R7R3R89R5aR88R89hgoR0i2506R1R2R3y24:data%2Fsounds%2Fkey1.mp3R5aR91y24:data%2Fsounds%2Fkey1.ogghR90tgoR0i6251R1R7R3R92R5aR91R92hgoR0i2924R1R2R3y25:data%2Fsounds%2Fkey10.mp3R5aR93y25:data%2Fsounds%2Fkey10.ogghR90tgoR0i6430R1R7R3R94R5aR93R94hgoR0i2506R1R2R3y25:data%2Fsounds%2Fkey11.mp3R5aR95y25:data%2Fsounds%2Fkey11.ogghR90tgoR0i5637R1R7R3R96R5aR95R96hgoR0i2506R1R2R3y25:data%2Fsounds%2Fkey12.mp3R5aR97y25:data%2Fsounds%2Fkey12.ogghR90tgoR0i5775R1R7R3R98R5aR97R98hgoR0i2924R1R2R3y25:data%2Fsounds%2Fkey13.mp3R5aR99y25:data%2Fsounds%2Fkey13.ogghR90tgoR0i6477R1R7R3R100R5aR99R100hgoR0i2506R1R2R3y24:data%2Fsounds%2Fkey2.mp3R5aR101y24:data%2Fsounds%2Fkey2.ogghR90tgoR0i5955R1R7R3R102R5aR101R102hgoR0i2924R1R2R3y24:data%2Fsounds%2Fkey3.mp3R5aR103y24:data%2Fsounds%2Fkey3.ogghR90tgoR0i6297R1R7R3R104R5aR103R104hgoR0i3342R1R2R3y24:data%2Fsounds%2Fkey4.mp3R5aR105y24:data%2Fsounds%2Fkey4.ogghR90tgoR0i6517R1R7R3R106R5aR105R106hgoR0i2924R1R2R3y24:data%2Fsounds%2Fkey5.mp3R5aR107y24:data%2Fsounds%2Fkey5.ogghR90tgoR0i6209R1R7R3R108R5aR107R108hgoR0i4178R1R2R3y24:data%2Fsounds%2Fkey6.mp3R5aR109y24:data%2Fsounds%2Fkey6.ogghR90tgoR0i7304R1R7R3R110R5aR109R110hgoR0i3342R1R2R3y24:data%2Fsounds%2Fkey7.mp3R5aR111y24:data%2Fsounds%2Fkey7.ogghR90tgoR0i7301R1R7R3R112R5aR111R112hgoR0i2924R1R2R3y24:data%2Fsounds%2Fkey8.mp3R5aR113y24:data%2Fsounds%2Fkey8.ogghR90tgoR0i6009R1R7R3R114R5aR113R114hgoR0i2924R1R2R3y24:data%2Fsounds%2Fkey9.mp3R5aR115y24:data%2Fsounds%2Fkey9.ogghR90tgoR0i6520R1R7R3R116R5aR115R116hgoR0i20061R1R2R3y24:data%2Fsounds%2Fnope.mp3R5aR117y24:data%2Fsounds%2Fnope.ogghR90tgoR0i28314R1R7R3R118R5aR117R118hgoR0i32599R1R2R3y26:data%2Fsounds%2Fsecret.mp3R5aR119y26:data%2Fsounds%2Fsecret.ogghR90tgoR0i47893R1R7R3R120R5aR119R120hgoy4:pathy36:data%2Ffonts%2Fdefault%2Fdefault.fntR0i11270R1y4:TEXTR3R122R90tgoR121y38:data%2Ffonts%2Fdefault%2Fdefault_0.pngR0i1178R1y5:IMAGER3R124R90tgoR121y46:data%2Ffonts%2Fdefaulthires%2Fdefaulthires.fntR0i11459R1R123R3R126R90tgoR121y48:data%2Ffonts%2Fdefaulthires%2Fdefaulthires_0.pngR0i9690R1R125R3R127R90tgoR121y37:data%2Ffonts%2FPCPaintNormalSmall.eotR0i8848R1y6:BINARYR3R128R90tgoR0i8628R1y4:FONTy9:classNamey42:__ASSET__data_fonts_pcpaintnormalsmall_ttfR3y37:data%2Ffonts%2FPCPaintNormalSmall.ttfR90tgoR121y38:data%2Ffonts%2FPCPaintNormalSmall.woffR0i3464R1R129R3R134R90tgoR121y39:data%2Ffonts%2FPCPaintNormalSmall.woff2R0i2212R1R129R3R135R90tgoR121y45:data%2Fgraphics%2Fcolourmaps%2Fblackwhite.pngR0i221R1R125R3R136R90tgoR121y38:data%2Fgraphics%2Fcolourmaps%2Fcga.pngR0i235R1R125R3R137R90tgoR121y50:data%2Fgraphics%2Fcolourmaps%2Fcrossprocessing.jpgR0i468R1R125R3R138R90tgoR121y39:data%2Fgraphics%2Fcolourmaps%2Ffire.pngR0i259R1R125R3R139R90tgoR121y42:data%2Fgraphics%2Fcolourmaps%2Fgameboy.pngR0i245R1R125R3R140R90tgoR121y40:data%2Fgraphics%2Fcolourmaps%2Fhades.pngR0i249R1R125R3R141R90tgoR121y38:data%2Fgraphics%2Fcolourmaps%2Fice.pngR0i250R1R125R3R142R90tgoR121y38:data%2Fgraphics%2Fparticles%2Ffire.pngR0i32787R1R125R3R143R90tgoR121y39:data%2Fgraphics%2Fparticles%2Fheart.pngR0i129178R1R125R3R144R90tgoR121y41:data%2Fgraphics%2Fparticles%2Flicence.txtR0i115R1R123R3R145R90tgoR121y39:data%2Fgraphics%2Fparticles%2Fpearl.pngR0i11876R1R125R3R146R90tgoR121y40:data%2Fgraphics%2Fparticles%2Fpollen.pngR0i21141R1R125R3R147R90tgoR121y42:data%2Fgraphics%2Fparticles%2Fsmoketex.pngR0i74543R1R125R3R148R90tgoR121y43:data%2Fgraphics%2Fparticles%2Fthickrain.pngR0i1577R1R125R3R149R90tgoR121y39:data%2Fgraphics%2Fparticles%2Ftunel.pngR0i9691R1R125R3R150R90tgoR121y36:data%2Fgraphics%2Fparticles%2Fx3.pngR0i8533R1R125R3R151R90tgoR121y23:data%2Ftext%2Fbrain.txtR0i17067R1R123R3R152R90tgoR121y25:data%2Ftext%2Fcredits.txtR0i17240R1R123R3R153R90tgoR121y29:data%2Ftext%2Fcreditsdata.txtR0i6937R1R123R3R154R90tgoR121y26:data%2Ftext%2Fsettings.txtR0i581R1R123R3R155R90tgoR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2Fame_desert.shaderR0i234R1R123R3R156goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2Fame_desert_bk.jpgR0i44083R1R125R3R157goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2Fame_desert_dn.jpgR0i65737R1R125R3R158goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2Fame_desert_ft.jpgR0i49103R1R125R3R159goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2Fame_desert_lf.jpgR0i45658R1R125R3R160goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2Fame_desert_rt.jpgR0i48545R1R125R3R161goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2Fame_desert_up.jpgR0i8829R1R125R3R162goR121y54:assets%2Fgraphics%2Fskybox%2Fame%2Fame_desert%2FreadmeR0i187R1R123R3R163goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2Fame_emerald.shaderR0i234R1R123R3R164goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2Fame_emerald_bk.jpgR0i13926R1R125R3R165goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2Fame_emerald_dn.jpgR0i7989R1R125R3R166goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2Fame_emerald_ft.jpgR0i6970R1R125R3R167goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2Fame_emerald_lf.jpgR0i16346R1R125R3R168goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2Fame_emerald_rt.jpgR0i8890R1R125R3R169goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2Fame_emerald_up.jpgR0i6604R1R125R3R170goR121y55:assets%2Fgraphics%2Fskybox%2Fame%2Fame_emerald%2FreadmeR0i187R1R123R3R171goR121y71:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2Fame_greenhaze.shaderR0i240R1R123R3R172goR121y71:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2Fame_greenhaze_bk.jpgR0i7358R1R125R3R173goR121y71:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2Fame_greenhaze_dn.jpgR0i5740R1R125R3R174goR121y71:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2Fame_greenhaze_ft.jpgR0i6397R1R125R3R175goR121y71:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2Fame_greenhaze_lf.jpgR0i6884R1R125R3R176goR121y71:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2Fame_greenhaze_rt.jpgR0i6593R1R125R3R177goR121y71:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2Fame_greenhaze_up.jpgR0i2696R1R125R3R178goR121y57:assets%2Fgraphics%2Fskybox%2Fame%2Fame_greenhaze%2FreadmeR0i187R1R123R3R179goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2Fame_leather.shaderR0i241R1R123R3R180goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2Fame_leather_bk.jpgR0i47903R1R125R3R181goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2Fame_leather_dn.jpgR0i45467R1R125R3R182goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2Fame_leather_ft.jpgR0i29208R1R125R3R183goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2Fame_leather_lf.jpgR0i34781R1R125R3R184goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2Fame_leather_rt.jpgR0i41613R1R125R3R185goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2Fame_leather_up.jpgR0i8109R1R125R3R186goR121y55:assets%2Fgraphics%2Fskybox%2Fame%2Fame_leather%2FreadmeR0i187R1R123R3R187goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2Fame_mudskip.shaderR0i235R1R123R3R188goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2Fame_mudskip_bk.jpgR0i29561R1R125R3R189goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2Fame_mudskip_dn.jpgR0i41430R1R125R3R190goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2Fame_mudskip_ft.jpgR0i28260R1R125R3R191goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2Fame_mudskip_lf.jpgR0i34210R1R125R3R192goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2Fame_mudskip_rt.jpgR0i27735R1R125R3R193goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2Fame_mudskip_up.jpgR0i9289R1R125R3R194goR121y55:assets%2Fgraphics%2Fskybox%2Fame%2Fame_mudskip%2FreadmeR0i187R1R123R3R195goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2Fame_purple.shaderR0i238R1R123R3R196goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2Fame_purple_bk.jpgR0i15274R1R125R3R197goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2Fame_purple_dn.jpgR0i20216R1R125R3R198goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2Fame_purple_ft.jpgR0i19741R1R125R3R199goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2Fame_purple_lf.jpgR0i20103R1R125R3R200goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2Fame_purple_rt.jpgR0i33682R1R125R3R201goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2Fame_purple_up.jpgR0i4859R1R125R3R202goR121y54:assets%2Fgraphics%2Fskybox%2Fame%2Fame_purple%2FreadmeR0i187R1R123R3R203goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2Fame_rapture.shaderR0i229R1R123R3R204goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2Fame_rapture_bk.jpgR0i37911R1R125R3R205goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2Fame_rapture_dn.jpgR0i58696R1R125R3R206goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2Fame_rapture_ft.jpgR0i33466R1R125R3R207goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2Fame_rapture_lf.jpgR0i34375R1R125R3R208goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2Fame_rapture_rt.jpgR0i34964R1R125R3R209goR121y67:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2Fame_rapture_up.jpgR0i4073R1R125R3R210goR121y55:assets%2Fgraphics%2Fskybox%2Fame%2Fame_rapture%2FreadmeR0i187R1R123R3R211goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2Fame_shadow.shaderR0i235R1R123R3R212goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2Fame_shadow_bk.jpgR0i38672R1R125R3R213goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2Fame_shadow_dn.jpgR0i47282R1R125R3R214goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2Fame_shadow_ft.jpgR0i59353R1R125R3R215goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2Fame_shadow_lf.jpgR0i67070R1R125R3R216goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2Fame_shadow_rt.jpgR0i32289R1R125R3R217goR121y65:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2Fame_shadow_up.jpgR0i14749R1R125R3R218goR121y54:assets%2Fgraphics%2Fskybox%2Fame%2Fame_shadow%2FreadmeR0i187R1R123R3R219goR121y56:assets%2Fgraphics%2Fskybox%2Faxon%2Fmisty%2Fmisty_bk.jpgR0i10802R1R125R3R220goR121y56:assets%2Fgraphics%2Fskybox%2Faxon%2Fmisty%2Fmisty_dn.jpgR0i10912R1R125R3R221goR121y56:assets%2Fgraphics%2Fskybox%2Faxon%2Fmisty%2Fmisty_ft.jpgR0i8867R1R125R3R222goR121y56:assets%2Fgraphics%2Fskybox%2Faxon%2Fmisty%2Fmisty_lf.jpgR0i10686R1R125R3R223goR121y56:assets%2Fgraphics%2Fskybox%2Faxon%2Fmisty%2Fmisty_rt.jpgR0i13467R1R125R3R224goR121y56:assets%2Fgraphics%2Fskybox%2Faxon%2Fmisty%2Fmisty_up.jpgR0i2045R1R125R3R225goR121y54:assets%2Fgraphics%2Fskybox%2Faxon%2Fmisty%2Freadme.txtR0i1252R1R123R3R226goR121y76:assets%2Fgraphics%2Fskybox%2Fheikoirrgang%2Fdarkstormy%2Fdarkstormy_back.jpgR0i18431R1R125R3R227goR121y76:assets%2Fgraphics%2Fskybox%2Fheikoirrgang%2Fdarkstormy%2Fdarkstormy_down.jpgR0i10381R1R125R3R228goR121y77:assets%2Fgraphics%2Fskybox%2Fheikoirrgang%2Fdarkstormy%2Fdarkstormy_front.jpgR0i18071R1R125R3R229goR121y76:assets%2Fgraphics%2Fskybox%2Fheikoirrgang%2Fdarkstormy%2Fdarkstormy_left.jpgR0i19575R1R125R3R230goR121y77:assets%2Fgraphics%2Fskybox%2Fheikoirrgang%2Fdarkstormy%2Fdarkstormy_right.jpgR0i21937R1R125R3R231goR121y74:assets%2Fgraphics%2Fskybox%2Fheikoirrgang%2Fdarkstormy%2Fdarkstormy_up.jpgR0i21509R1R125R3R232goR121y68:assets%2Fgraphics%2Fskybox%2Fheikoirrgang%2Fdarkstormy%2FLICENSE.txtR0i366R1R123R3R233goR121y73:assets%2Fgraphics%2Fskybox%2Fhipshot%2Finterstellar%2Finterstellar_bk.jpgR0i42309R1R125R3R234goR121y73:assets%2Fgraphics%2Fskybox%2Fhipshot%2Finterstellar%2Finterstellar_dn.jpgR0i8792R1R125R3R235goR121y73:assets%2Fgraphics%2Fskybox%2Fhipshot%2Finterstellar%2Finterstellar_ft.jpgR0i40906R1R125R3R236goR121y73:assets%2Fgraphics%2Fskybox%2Fhipshot%2Finterstellar%2Finterstellar_lf.jpgR0i41533R1R125R3R237goR121y73:assets%2Fgraphics%2Fskybox%2Fhipshot%2Finterstellar%2Finterstellar_rt.jpgR0i39945R1R125R3R238goR121y73:assets%2Fgraphics%2Fskybox%2Fhipshot%2Finterstellar%2Finterstellar_up.jpgR0i69144R1R125R3R239goR121y64:assets%2Fgraphics%2Fskybox%2Fhipshot%2Finterstellar%2FREADME.TXTR0i280R1R123R3R240goR121y62:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fstormydays%2FREADME.TXTR0i235R1R123R3R241goR121y69:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fstormydays%2Fstormydays_bk.jpgR0i34906R1R125R3R242goR121y69:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fstormydays%2Fstormydays_dn.jpgR0i31331R1R125R3R243goR121y69:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fstormydays%2Fstormydays_ft.jpgR0i36176R1R125R3R244goR121y69:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fstormydays%2Fstormydays_lf.jpgR0i33116R1R125R3R245goR121y69:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fstormydays%2Fstormydays_rt.jpgR0i36412R1R125R3R246goR121y69:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fstormydays%2Fstormydays_up.jpgR0i19157R1R125R3R247goR121y63:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fviolentdays%2FREADME.TXTR0i236R1R123R3R248goR121y71:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fviolentdays%2Fviolentdays_bk.jpgR0i40457R1R125R3R249goR121y71:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fviolentdays%2Fviolentdays_dn.jpgR0i43256R1R125R3R250goR121y71:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fviolentdays%2Fviolentdays_ft.jpgR0i45050R1R125R3R251goR121y71:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fviolentdays%2Fviolentdays_lf.jpgR0i39590R1R125R3R252goR121y71:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fviolentdays%2Fviolentdays_rt.jpgR0i44699R1R125R3R253goR121y71:assets%2Fgraphics%2Fskybox%2Fhipshot%2Fviolentdays%2Fviolentdays_up.jpgR0i27924R1R125R3R254goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Farstabridge%2Fnegx.jpgR0i20497R1R125R3R255goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Farstabridge%2Fnegy.jpgR0i10854R1R125R3R256goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Farstabridge%2Fnegz.jpgR0i27768R1R125R3R257goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Farstabridge%2Fposx.jpgR0i21955R1R125R3R258goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Farstabridge%2Fposy.jpgR0i13512R1R125R3R259goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Farstabridge%2Fposz.jpgR0i25256R1R125R3R260goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbackyard%2Fnegx.jpgR0i10965R1R125R3R261goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbackyard%2Fnegy.jpgR0i7633R1R125R3R262goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbackyard%2Fnegz.jpgR0i17176R1R125R3R263goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbackyard%2Fposx.jpgR0i19302R1R125R3R264goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbackyard%2Fposy.jpgR0i2539R1R125R3R265goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbackyard%2Fposz.jpgR0i13287R1R125R3R266goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbeach%2Fnegx.jpgR0i38747R1R125R3R267goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbeach%2Fnegy.jpgR0i52389R1R125R3R268goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbeach%2Fnegz.jpgR0i53029R1R125R3R269goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbeach%2Fposx.jpgR0i35799R1R125R3R270goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbeach%2Fposy.jpgR0i11685R1R125R3R271goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbeach%2Fposz.jpgR0i28295R1R125R3R272goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbeach%2Freadme.txtR0i240R1R123R3R273goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbridge%2Fnegx.jpgR0i22554R1R125R3R274goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbridge%2Fnegy.jpgR0i34810R1R125R3R275goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbridge%2Fnegz.jpgR0i30497R1R125R3R276goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbridge%2Fposx.jpgR0i20399R1R125R3R277goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbridge%2Fposy.jpgR0i8549R1R125R3R278goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbridge%2Fposz.jpgR0i21255R1R125R3R279goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbrudslojan%2Fnegx.jpgR0i53635R1R125R3R280goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbrudslojan%2Fnegy.jpgR0i54678R1R125R3R281goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbrudslojan%2Fnegz.jpgR0i47298R1R125R3R282goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbrudslojan%2Fposx.jpgR0i38795R1R125R3R283goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbrudslojan%2Fposy.jpgR0i34634R1R125R3R284goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbrudslojan%2Fposz.jpgR0i49346R1R125R3R285goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbuddha%2Fnegx.jpgR0i39663R1R125R3R286goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbuddha%2Fnegy.jpgR0i50815R1R125R3R287goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbuddha%2Fnegz.jpgR0i31028R1R125R3R288goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbuddha%2Fposx.jpgR0i46779R1R125R3R289goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbuddha%2Fposy.jpgR0i12997R1R125R3R290goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fbuddha%2Fposz.jpgR0i43720R1R125R3R291goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fcreek%2Fnegx.jpgR0i65086R1R125R3R292goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fcreek%2Fnegy.jpgR0i47978R1R125R3R293goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fcreek%2Fnegz.jpgR0i58747R1R125R3R294goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fcreek%2Fposx.jpgR0i70322R1R125R3R295goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fcreek%2Fposy.jpgR0i63657R1R125R3R296goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fcreek%2Fposz.jpgR0i57147R1R125R3R297goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fdallasw%2Fnegx.jpgR0i12223R1R125R3R298goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fdallasw%2Fnegy.jpgR0i9642R1R125R3R299goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fdallasw%2Fnegz.jpgR0i11352R1R125R3R300goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fdallasw%2Fposx.jpgR0i19640R1R125R3R301goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fdallasw%2Fposy.jpgR0i5324R1R125R3R302goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fdallasw%2Fposz.jpgR0i27946R1R125R3R303goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishermansbastion%2Fnegx.jpgR0i31801R1R125R3R304goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishermansbastion%2Fnegy.jpgR0i34024R1R125R3R305goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishermansbastion%2Fnegz.jpgR0i30430R1R125R3R306goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishermansbastion%2Fposx.jpgR0i27860R1R125R3R307goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishermansbastion%2Fposy.jpgR0i14042R1R125R3R308goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishermansbastion%2Fposz.jpgR0i27385R1R125R3R309goR121y67:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishermansbastion%2Freadme.txtR0i240R1R123R3R310goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishpond%2Fnegx.jpgR0i43107R1R125R3R311goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishpond%2Fnegy.jpgR0i65337R1R125R3R312goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishpond%2Fnegz.jpgR0i43686R1R125R3R313goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishpond%2Fposx.jpgR0i40489R1R125R3R314goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishpond%2Fposy.jpgR0i15360R1R125R3R315goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishpond%2Fposz.jpgR0i41987R1R125R3R316goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffishpond%2Freadme.txtR0i240R1R123R3R317goR121y62:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffjaderholmarna%2Fnegx.jpgR0i40591R1R125R3R318goR121y62:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffjaderholmarna%2Fnegy.jpgR0i62574R1R125R3R319goR121y62:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffjaderholmarna%2Fnegz.jpgR0i30103R1R125R3R320goR121y62:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffjaderholmarna%2Fposx.jpgR0i48356R1R125R3R321goR121y62:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffjaderholmarna%2Fposy.jpgR0i18716R1R125R3R322goR121y62:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffjaderholmarna%2Fposz.jpgR0i42055R1R125R3R323goR121y61:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffootballfield%2Fnegx.jpgR0i46972R1R125R3R324goR121y61:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffootballfield%2Fnegy.jpgR0i79105R1R125R3R325goR121y61:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffootballfield%2Fnegz.jpgR0i47492R1R125R3R326goR121y61:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffootballfield%2Fposx.jpgR0i46864R1R125R3R327goR121y61:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffootballfield%2Fposy.jpgR0i21955R1R125R3R328goR121y61:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffootballfield%2Fposz.jpgR0i51768R1R125R3R329goR121y63:assets%2Fgraphics%2Fskybox%2Fhumus%2Ffootballfield%2Freadme.txtR0i240R1R123R3R330goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ficeriver%2Fnegx.jpgR0i23720R1R125R3R331goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ficeriver%2Fnegy.jpgR0i26409R1R125R3R332goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ficeriver%2Fnegz.jpgR0i22971R1R125R3R333goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ficeriver%2Fposx.jpgR0i16614R1R125R3R334goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ficeriver%2Fposy.jpgR0i6213R1R125R3R335goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Ficeriver%2Fposz.jpgR0i17969R1R125R3R336goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Flancellottichapel%2Fnegx.jpgR0i32172R1R125R3R337goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Flancellottichapel%2Fnegy.jpgR0i28904R1R125R3R338goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Flancellottichapel%2Fnegz.jpgR0i30579R1R125R3R339goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Flancellottichapel%2Fposx.jpgR0i25385R1R125R3R340goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Flancellottichapel%2Fposy.jpgR0i41037R1R125R3R341goR121y65:assets%2Fgraphics%2Fskybox%2Fhumus%2Flancellottichapel%2Fposz.jpgR0i34976R1R125R3R342goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flangholmen%2Fnegx.jpgR0i36738R1R125R3R343goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flangholmen%2Fnegy.jpgR0i60645R1R125R3R344goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flangholmen%2Fnegz.jpgR0i42137R1R125R3R345goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flangholmen%2Fposx.jpgR0i35752R1R125R3R346goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flangholmen%2Fposy.jpgR0i6027R1R125R3R347goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flangholmen%2Fposz.jpgR0i39150R1R125R3R348goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flundagatan%2Fnegx.jpgR0i39540R1R125R3R349goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flundagatan%2Fnegy.jpgR0i34854R1R125R3R350goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flundagatan%2Fnegz.jpgR0i39490R1R125R3R351goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flundagatan%2Fposx.jpgR0i27616R1R125R3R352goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flundagatan%2Fposy.jpgR0i30669R1R125R3R353goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Flundagatan%2Fposz.jpgR0i40398R1R125R3R354goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fmeadow%2Fnegx.jpgR0i40685R1R125R3R355goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fmeadow%2Fnegy.jpgR0i60747R1R125R3R356goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fmeadow%2Fnegz.jpgR0i40551R1R125R3R357goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fmeadow%2Fposx.jpgR0i36000R1R125R3R358goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fmeadow%2Fposy.jpgR0i16097R1R125R3R359goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fmeadow%2Fposz.jpgR0i34379R1R125R3R360goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnightpath%2Fnegx.jpgR0i24219R1R125R3R361goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnightpath%2Fnegy.jpgR0i40964R1R125R3R362goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnightpath%2Fnegz.jpgR0i22359R1R125R3R363goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnightpath%2Fposx.jpgR0i23536R1R125R3R364goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnightpath%2Fposy.jpgR0i3550R1R125R3R365goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnightpath%2Fposz.jpgR0i24661R1R125R3R366goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnissibeach2%2Fnegx.jpgR0i43931R1R125R3R367goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnissibeach2%2Fnegy.jpgR0i56601R1R125R3R368goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnissibeach2%2Fnegz.jpgR0i40694R1R125R3R369goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnissibeach2%2Fposx.jpgR0i39347R1R125R3R370goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnissibeach2%2Fposy.jpgR0i24371R1R125R3R371goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fnissibeach2%2Fposz.jpgR0i41751R1R125R3R372goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpalmtrees%2Fnegx.jpgR0i51091R1R125R3R373goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpalmtrees%2Fnegy.jpgR0i63873R1R125R3R374goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpalmtrees%2Fnegz.jpgR0i55342R1R125R3R375goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpalmtrees%2Fposx.jpgR0i41751R1R125R3R376goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpalmtrees%2Fposy.jpgR0i53737R1R125R3R377goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpalmtrees%2Fposz.jpgR0i35414R1R125R3R378goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpark3%2Fnegx.jpgR0i41690R1R125R3R379goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpark3%2Fnegy.jpgR0i13982R1R125R3R380goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpark3%2Fnegz.jpgR0i47186R1R125R3R381goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpark3%2Fposx.jpgR0i38375R1R125R3R382goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpark3%2Fposy.jpgR0i32221R1R125R3R383goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpark3%2Fposz.jpgR0i37068R1R125R3R384goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpereabeach1%2Fnegx.jpgR0i24546R1R125R3R385goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpereabeach1%2Fnegy.jpgR0i46324R1R125R3R386goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpereabeach1%2Fnegz.jpgR0i27285R1R125R3R387goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpereabeach1%2Fposx.jpgR0i20730R1R125R3R388goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpereabeach1%2Fposy.jpgR0i4967R1R125R3R389goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpereabeach1%2Fposz.jpgR0i27715R1R125R3R390goR121y61:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpereabeach1%2Freadme.txtR0i240R1R123R3R391goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpier%2Fnegx.jpgR0i44183R1R125R3R392goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpier%2Fnegy.jpgR0i56891R1R125R3R393goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpier%2Fnegz.jpgR0i39793R1R125R3R394goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpier%2Fposx.jpgR0i34713R1R125R3R395goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpier%2Fposy.jpgR0i10977R1R125R3R396goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpier%2Fposz.jpgR0i44087R1R125R3R397goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpier%2Freadme.txtR0i240R1R123R3R398goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpond%2Fnegx.jpgR0i38863R1R125R3R399goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpond%2Fnegy.jpgR0i81739R1R125R3R400goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpond%2Fnegz.jpgR0i51149R1R125R3R401goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpond%2Fposx.jpgR0i33091R1R125R3R402goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpond%2Fposy.jpgR0i21879R1R125R3R403goR121y52:assets%2Fgraphics%2Fskybox%2Fhumus%2Fpond%2Fposz.jpgR0i43266R1R125R3R404goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Froundabout%2Fnegx.jpgR0i27756R1R125R3R405goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Froundabout%2Fnegy.jpgR0i47941R1R125R3R406goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Froundabout%2Fnegz.jpgR0i27451R1R125R3R407goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Froundabout%2Fposx.jpgR0i25238R1R125R3R408goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Froundabout%2Fposy.jpgR0i8592R1R125R3R409goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Froundabout%2Fposz.jpgR0i25889R1R125R3R410goR121y60:assets%2Fgraphics%2Fskybox%2Fhumus%2Froundabout%2Freadme.txtR0i240R1R123R3R411goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch%2Fnegx.jpgR0i34463R1R125R3R412goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch%2Fnegy.jpgR0i33372R1R125R3R413goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch%2Fnegz.jpgR0i40629R1R125R3R414goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch%2Fposx.jpgR0i39524R1R125R3R415goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch%2Fposy.jpgR0i16717R1R125R3R416goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch%2Fposz.jpgR0i37734R1R125R3R417goR121y67:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch2%2Fnegx.jpgR0i39353R1R125R3R418goR121y67:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch2%2Fnegy.jpgR0i30376R1R125R3R419goR121y67:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch2%2Fnegz.jpgR0i28037R1R125R3R420goR121y67:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch2%2Fposx.jpgR0i41035R1R125R3R421goR121y67:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch2%2Fposy.jpgR0i27244R1R125R3R422goR121y67:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch2%2Fposz.jpgR0i42385R1R125R3R423goR121y69:assets%2Fgraphics%2Fskybox%2Fhumus%2Fsaintlazaruschurch2%2Freadme.txtR0i240R1R123R3R424goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen%2Fnegx.jpgR0i49402R1R125R3R425goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen%2Fnegy.jpgR0i53409R1R125R3R426goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen%2Fnegz.jpgR0i59432R1R125R3R427goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen%2Fposx.jpgR0i51623R1R125R3R428goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen%2Fposy.jpgR0i36179R1R125R3R429goR121y55:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen%2Fposz.jpgR0i38689R1R125R3R430goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen%2Freadme.txtR0i240R1R123R3R431goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen3%2Fnegx.jpgR0i46931R1R125R3R432goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen3%2Fnegy.jpgR0i39245R1R125R3R433goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen3%2Fnegz.jpgR0i39156R1R125R3R434goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen3%2Fposx.jpgR0i54416R1R125R3R435goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen3%2Fposy.jpgR0i6627R1R125R3R436goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen3%2Fposz.jpgR0i48234R1R125R3R437goR121y58:assets%2Fgraphics%2Fskybox%2Fhumus%2Fskansen3%2Freadme.txtR0i240R1R123R3R438goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstairs%2Fnegx.jpgR0i45432R1R125R3R439goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstairs%2Fnegy.jpgR0i44416R1R125R3R440goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstairs%2Fnegz.jpgR0i67922R1R125R3R441goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstairs%2Fposx.jpgR0i60201R1R125R3R442goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstairs%2Fposy.jpgR0i83283R1R125R3R443goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstairs%2Fposz.jpgR0i47619R1R125R3R444goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstorforsen4%2Fnegx.jpgR0i32169R1R125R3R445goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstorforsen4%2Fnegy.jpgR0i42687R1R125R3R446goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstorforsen4%2Fnegz.jpgR0i28504R1R125R3R447goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstorforsen4%2Fposx.jpgR0i22578R1R125R3R448goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstorforsen4%2Fposy.jpgR0i2208R1R125R3R449goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstorforsen4%2Fposz.jpgR0i27530R1R125R3R450goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstreet%2Fnegx.jpgR0i44046R1R125R3R451goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstreet%2Fnegy.jpgR0i33758R1R125R3R452goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstreet%2Fnegz.jpgR0i53351R1R125R3R453goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstreet%2Fposx.jpgR0i56925R1R125R3R454goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstreet%2Fposy.jpgR0i42788R1R125R3R455goR121y54:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstreet%2Fposz.jpgR0i60101R1R125R3R456goR121y56:assets%2Fgraphics%2Fskybox%2Fhumus%2Fstreet%2Freadme.txtR0i240R1R123R3R457goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fswedishroyalcastle%2Fnegx.jpgR0i33597R1R125R3R458goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fswedishroyalcastle%2Fnegy.jpgR0i13323R1R125R3R459goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fswedishroyalcastle%2Fnegz.jpgR0i34402R1R125R3R460goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fswedishroyalcastle%2Fposx.jpgR0i26338R1R125R3R461goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fswedishroyalcastle%2Fposy.jpgR0i3019R1R125R3R462goR121y66:assets%2Fgraphics%2Fskybox%2Fhumus%2Fswedishroyalcastle%2Fposz.jpgR0i47564R1R125R3R463goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fteide%2Fnegx.jpgR0i36602R1R125R3R464goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fteide%2Fnegy.jpgR0i72632R1R125R3R465goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fteide%2Fnegz.jpgR0i36524R1R125R3R466goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fteide%2Fposx.jpgR0i45039R1R125R3R467goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fteide%2Fposy.jpgR0i7666R1R125R3R468goR121y53:assets%2Fgraphics%2Fskybox%2Fhumus%2Fteide%2Fposz.jpgR0i47067R1R125R3R469goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Ftenerife3%2Fnegx.jpgR0i42528R1R125R3R470goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Ftenerife3%2Fnegy.jpgR0i31906R1R125R3R471goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Ftenerife3%2Fnegz.jpgR0i34705R1R125R3R472goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Ftenerife3%2Fposx.jpgR0i40607R1R125R3R473goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Ftenerife3%2Fposy.jpgR0i22890R1R125R3R474goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Ftenerife3%2Fposz.jpgR0i33519R1R125R3R475goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Ftenerife3%2Freadme.txtR0i240R1R123R3R476goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Funionsquare%2Fnegx.jpgR0i33214R1R125R3R477goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Funionsquare%2Fnegy.jpgR0i39403R1R125R3R478goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Funionsquare%2Fnegz.jpgR0i37344R1R125R3R479goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Funionsquare%2Fposx.jpgR0i39181R1R125R3R480goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Funionsquare%2Fposy.jpgR0i13696R1R125R3R481goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Funionsquare%2Fposz.jpgR0i33674R1R125R3R482goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fyokohama3%2Fnegx.jpgR0i44814R1R125R3R483goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fyokohama3%2Fnegy.jpgR0i28375R1R125R3R484goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fyokohama3%2Fnegz.jpgR0i38157R1R125R3R485goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fyokohama3%2Fposx.jpgR0i45143R1R125R3R486goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fyokohama3%2Fposy.jpgR0i15832R1R125R3R487goR121y57:assets%2Fgraphics%2Fskybox%2Fhumus%2Fyokohama3%2Fposz.jpgR0i31652R1R125R3R488goR121y59:assets%2Fgraphics%2Fskybox%2Fhumus%2Fyokohama3%2Freadme.txtR0i240R1R123R3R489goR121y60:assets%2Fgraphics%2Fskybox%2Fmightypete%2Fawup%2Fawup_bk.jpgR0i13094R1R125R3R490goR121y60:assets%2Fgraphics%2Fskybox%2Fmightypete%2Fawup%2Fawup_dn.jpgR0i19882R1R125R3R491goR121y60:assets%2Fgraphics%2Fskybox%2Fmightypete%2Fawup%2Fawup_ft.jpgR0i14198R1R125R3R492goR121y60:assets%2Fgraphics%2Fskybox%2Fmightypete%2Fawup%2Fawup_lf.jpgR0i14040R1R125R3R493goR121y60:assets%2Fgraphics%2Fskybox%2Fmightypete%2Fawup%2Fawup_rt.jpgR0i18327R1R125R3R494goR121y60:assets%2Fgraphics%2Fskybox%2Fmightypete%2Fawup%2Fawup_up.jpgR0i15792R1R125R3R495goR121y60:assets%2Fgraphics%2Fskybox%2Fmightypete%2Fawup%2Flicense.txtR0i273R1R123R3R496goR121y56:assets%2Fgraphics%2Fskybox%2Fnecros%2Fhell%2Fhell_bk.jpgR0i49723R1R125R3R497goR121y56:assets%2Fgraphics%2Fskybox%2Fnecros%2Fhell%2Fhell_dn.jpgR0i64553R1R125R3R498goR121y56:assets%2Fgraphics%2Fskybox%2Fnecros%2Fhell%2Fhell_ft.jpgR0i49088R1R125R3R499goR121y56:assets%2Fgraphics%2Fskybox%2Fnecros%2Fhell%2Fhell_lf.jpgR0i48957R1R125R3R500goR121y56:assets%2Fgraphics%2Fskybox%2Fnecros%2Fhell%2Fhell_rt.jpgR0i50513R1R125R3R501goR121y56:assets%2Fgraphics%2Fskybox%2Fnecros%2Fhell%2Fhell_up.jpgR0i10816R1R125R3R502goR121y55:assets%2Fgraphics%2Fskybox%2Fnecros%2Fhell%2Freadme.txtR0i69R1R123R3R503goR121y68:assets%2Fgraphics%2Fskybox%2Fskiingpenguins%2Findigo%2Findigo_bk.jpgR0i32997R1R125R3R504goR121y68:assets%2Fgraphics%2Fskybox%2Fskiingpenguins%2Findigo%2Findigo_dn.jpgR0i34110R1R125R3R505goR121y68:assets%2Fgraphics%2Fskybox%2Fskiingpenguins%2Findigo%2Findigo_ft.jpgR0i28138R1R125R3R506goR121y68:assets%2Fgraphics%2Fskybox%2Fskiingpenguins%2Findigo%2Findigo_lf.jpgR0i31335R1R125R3R507goR121y68:assets%2Fgraphics%2Fskybox%2Fskiingpenguins%2Findigo%2Findigo_rt.jpgR0i28314R1R125R3R508goR121y68:assets%2Fgraphics%2Fskybox%2Fskiingpenguins%2Findigo%2Findigo_up.jpgR0i39529R1R125R3R509goR121y65:assets%2Fgraphics%2Fskybox%2Fskiingpenguins%2Findigo%2Freadme.txtR0i738R1R123R3R510goR121y63:assets%2Fgraphics%2Fskybox%2Fslowhandd%2Fmnight%2Fmnight_bk.jpgR0i12130R1R125R3R511goR121y63:assets%2Fgraphics%2Fskybox%2Fslowhandd%2Fmnight%2Fmnight_dn.jpgR0i13317R1R125R3R512goR121y63:assets%2Fgraphics%2Fskybox%2Fslowhandd%2Fmnight%2Fmnight_ft.jpgR0i11650R1R125R3R513goR121y63:assets%2Fgraphics%2Fskybox%2Fslowhandd%2Fmnight%2Fmnight_lf.jpgR0i11698R1R125R3R514goR121y63:assets%2Fgraphics%2Fskybox%2Fslowhandd%2Fmnight%2Fmnight_rt.jpgR0i8810R1R125R3R515goR121y63:assets%2Fgraphics%2Fskybox%2Fslowhandd%2Fmnight%2Fmnight_up.jpgR0i5476R1R125R3R516goR121y60:assets%2Fgraphics%2Fskybox%2Fslowhandd%2Fmnight%2Freadme.txtR0i1109R1R123R3R517goR121y57:assets%2Fgraphics%2Fskybox%2Fspace%2Fspace_negative_x.jpgR0i17759R1R125R3R518goR121y57:assets%2Fgraphics%2Fskybox%2Fspace%2Fspace_negative_y.jpgR0i22308R1R125R3R519goR121y57:assets%2Fgraphics%2Fskybox%2Fspace%2Fspace_negative_z.jpgR0i19166R1R125R3R520goR121y57:assets%2Fgraphics%2Fskybox%2Fspace%2Fspace_positive_x.jpgR0i23484R1R125R3R521goR121y57:assets%2Fgraphics%2Fskybox%2Fspace%2Fspace_positive_y.jpgR0i27756R1R125R3R522goR121y57:assets%2Fgraphics%2Fskybox%2Fspace%2Fspace_positive_z.jpgR0i23395R1R125R3R523goR121y60:assets%2Fgraphics%2Fskybox%2Fspeedy%2Fmorose%2Fmorose_bk.jpgR0i40495R1R125R3R524goR121y60:assets%2Fgraphics%2Fskybox%2Fspeedy%2Fmorose%2Fmorose_dn.jpgR0i56099R1R125R3R525goR121y60:assets%2Fgraphics%2Fskybox%2Fspeedy%2Fmorose%2Fmorose_ft.jpgR0i55531R1R125R3R526goR121y60:assets%2Fgraphics%2Fskybox%2Fspeedy%2Fmorose%2Fmorose_lf.jpgR0i51956R1R125R3R527goR121y60:assets%2Fgraphics%2Fskybox%2Fspeedy%2Fmorose%2Fmorose_rt.jpgR0i45872R1R125R3R528goR121y60:assets%2Fgraphics%2Fskybox%2Fspeedy%2Fmorose%2Fmorose_up.jpgR0i9942R1R125R3R529goR121y57:assets%2Fgraphics%2Fskybox%2Fspeedy%2Fmorose%2Freadme.txtR0i1912R1R123R3R530goR121y69:assets%2Fgraphics%2Fskybox%2Fwtfmrgibs%2Fdarkskies%2Fdarkskies_bk.jpgR0i41248R1R125R3R531goR121y69:assets%2Fgraphics%2Fskybox%2Fwtfmrgibs%2Fdarkskies%2Fdarkskies_dn.jpgR0i81637R1R125R3R532goR121y69:assets%2Fgraphics%2Fskybox%2Fwtfmrgibs%2Fdarkskies%2Fdarkskies_ft.jpgR0i40812R1R125R3R533goR121y69:assets%2Fgraphics%2Fskybox%2Fwtfmrgibs%2Fdarkskies%2Fdarkskies_lf.jpgR0i44404R1R125R3R534goR121y69:assets%2Fgraphics%2Fskybox%2Fwtfmrgibs%2Fdarkskies%2Fdarkskies_rt.jpgR0i42813R1R125R3R535goR121y69:assets%2Fgraphics%2Fskybox%2Fwtfmrgibs%2Fdarkskies%2Fdarkskies_up.jpgR0i33284R1R125R3R536goR121y63:assets%2Fgraphics%2Fskybox%2Fwtfmrgibs%2Fdarkskies%2Freadme.txtR0i683R1R123R3R537goR121y27:assets%2Fmodels%2Fapple.awdR0i13349R1R123R3R538goR121y28:assets%2Fmodels%2Fbanana.awdR0i74020R1R123R3R539goR121y31:assets%2Fmodels%2Fbeachball.awdR0i114211R1R123R3R540goR121y26:assets%2Fmodels%2Fbear.awdR0i56416R1R123R3R541goR121y26:assets%2Fmodels%2Fbell.awdR0i13262R1R123R3R542goR121y28:assets%2Fmodels%2Fbishop.awdR0i103969R1R123R3R543goR121y26:assets%2Fmodels%2Fbook.awdR0i44257R1R129R3R544goR121y29:assets%2Fmodels%2Fbrioche.awdR0i127798R1R123R3R545goR121y28:assets%2Fmodels%2Fbucket.awdR0i27190R1R129R3R546goR121y25:assets%2Fmodels%2Fcar.awdR0i38263R1R123R3R547goR121y25:assets%2Fmodels%2Fcat.awdR0i48159R1R123R3R548goR121y27:assets%2Fmodels%2Fchair.awdR0i28558R1R123R3R549goR121y31:assets%2Fmodels%2Fclipboard.awdR0i28902R1R123R3R550goR121y28:assets%2Fmodels%2Fcoffee.awdR0i49041R1R123R3R551goR121y25:assets%2Fmodels%2Fcow.awdR0i63130R1R123R3R552goR121y27:assets%2Fmodels%2Fcrate.awdR0i17559R1R123R3R553goR121y29:assets%2Fmodels%2Fcredits.txtR0i9233R1R123R3R554goR121y25:assets%2Fmodels%2Fcup.awdR0i63955R1R123R3R555goR121y26:assets%2Fmodels%2Fdeer.awdR0i56972R1R123R3R556goR121y26:assets%2Fmodels%2Fdice.awdR0i14841R1R129R3R557goR121y25:assets%2Fmodels%2Fdog.awdR0i56555R1R123R3R558goR121y26:assets%2Fmodels%2Fdoll.awdR0i53546R1R123R3R559goR121y26:assets%2Fmodels%2Fduck.awdR0i24558R1R123R3R560goR121y27:assets%2Fmodels%2Fearth.awdR0i169911R1R123R3R561goR121y25:assets%2Fmodels%2Fegg.awdR0i25396R1R123R3R562goR121y34:assets%2Fmodels%2Fextinguisher.awdR0i33312R1R123R3R563goR121y25:assets%2Fmodels%2Ffan.awdR0i11129R1R123R3R564goR121y28:assets%2Fmodels%2Ffloppy.awdR0i20953R1R123R3R565goR121y26:assets%2Fmodels%2Ffoot.awdR0i443754R1R123R3R566goR121y32:assets%2Fmodels%2Fgramophone.awdR0i46119R1R123R3R567goR121y28:assets%2Fmodels%2Fguitar.awdR0i83769R1R123R3R568goR121y26:assets%2Fmodels%2Fhand.awdR0i54767R1R123R3R569goR121y25:assets%2Fmodels%2Fhat.awdR0i41992R1R123R3R570goR121y27:assets%2Fmodels%2Fholly.awdR0i184537R1R123R3R571goR121y31:assets%2Fmodels%2Fhourglass.awdR0i231305R1R123R3R572goR121y30:assets%2Fmodels%2Ficecream.awdR0i22990R1R123R3R573goR121y26:assets%2Fmodels%2Fking.awdR0i56051R1R123R3R574goR121y28:assets%2Fmodels%2Fknight.awdR0i67324R1R123R3R575goR121y26:assets%2Fmodels%2Flamp.awdR0i61153R1R123R3R576goR121y28:assets%2Fmodels%2Flaptop.awdR0i138688R1R123R3R577goR121y32:assets%2Fmodels%2Flighthouse.awdR0i61202R1R123R3R578goR121y31:assets%2Fmodels%2Fmannequin.awdR0i130802R1R123R3R579goR121y26:assets%2Fmodels%2Fmars.awdR0i165531R1R123R3R580goR121y26:assets%2Fmodels%2Fmilk.awdR0i65229R1R123R3R581goR121y26:assets%2Fmodels%2Fmoon.awdR0i144286R1R123R3R582goR121y30:assets%2Fmodels%2Fnotebook.awdR0i47798R1R123R3R583goR121y26:assets%2Fmodels%2Fpawn.awdR0i82965R1R123R3R584goR121y26:assets%2Fmodels%2Fpear.awdR0i217770R1R123R3R585goR121y29:assets%2Fmodels%2Fpenguin.awdR0i70336R1R123R3R586goR121y27:assets%2Fmodels%2Fphone.awdR0i51025R1R123R3R587goR121y31:assets%2Fmodels%2Fpineapple.awdR0i85029R1R123R3R588goR121y27:assets%2Fmodels%2Fpizza.awdR0i66100R1R129R3R589goR121y27:assets%2Fmodels%2Fplane.awdR0i23901R1R123R3R590goR121y27:assets%2Fmodels%2Fplant.awdR0i157210R1R123R3R591goR121y29:assets%2Fmodels%2Fpresent.awdR0i29130R1R123R3R592goR121y29:assets%2Fmodels%2Fprinter.awdR0i44972R1R123R3R593goR121y27:assets%2Fmodels%2Fqueen.awdR0i40844R1R123R3R594goR121y34:assets%2Fmodels%2Frockinghorse.awdR0i85378R1R123R3R595goR121y26:assets%2Fmodels%2Frook.awdR0i53813R1R123R3R596goR121y30:assets%2Fmodels%2Fscissors.awdR0i29124R1R123R3R597goR121y27:assets%2Fmodels%2Fshark.awdR0i591591R1R123R3R598goR121y26:assets%2Fmodels%2Fshoe.awdR0i62848R1R123R3R599goR121y28:assets%2Fmodels%2Fskelly.awdR0i221024R1R123R3R600goR121y27:assets%2Fmodels%2Fskull.awdR0i58580R1R123R3R601goR121y32:assets%2Fmodels%2Fsoldierant.awdR0i308168R1R123R3R602goR121y30:assets%2Fmodels%2Fsuitcase.awdR0i67941R1R123R3R603goR121y25:assets%2Fmodels%2Fsun.awdR0i116153R1R123R3R604goR121y28:assets%2Fmodels%2Fteapot.awdR0i24204R1R123R3R605goR121y27:assets%2Fmodels%2Ftooth.awdR0i7007R1R123R3R606goR121y29:assets%2Fmodels%2Ftraffic.awdR0i18576R1R123R3R607goR121y28:assets%2Fmodels%2Fturtle.awdR0i118991R1R123R3R608goR121y32:assets%2Fmodels%2Fwatermelon.awdR0i9590R1R123R3R609goR121y28:assets%2Fmodels%2Fwindow.awdR0i3752R1R123R3R610goR121R538R0i13349R1R129R3R538goR121R539R0i74020R1R129R3R539goR121R540R0i114211R1R129R3R540goR121R541R0i56416R1R129R3R541goR121R542R0i13262R1R129R3R542goR121R543R0i103969R1R129R3R543goR121R544R0i44257R1R129R3R544goR121R545R0i127798R1R129R3R545goR121R546R0i27190R1R129R3R546goR121R547R0i38263R1R129R3R547goR121R548R0i48159R1R129R3R548goR121R549R0i28558R1R129R3R549goR121R550R0i28902R1R129R3R550goR121R551R0i49041R1R129R3R551goR121R552R0i63130R1R129R3R552goR121R553R0i17559R1R129R3R553goR121R555R0i63955R1R129R3R555goR121R556R0i56972R1R129R3R556goR121R557R0i14841R1R129R3R557goR121R558R0i56555R1R129R3R558goR121R559R0i53546R1R129R3R559goR121R560R0i24558R1R129R3R560goR121R561R0i169911R1R129R3R561goR121R562R0i25396R1R129R3R562goR121R563R0i33312R1R129R3R563goR121R564R0i11129R1R129R3R564goR121R565R0i20953R1R129R3R565goR121R566R0i443754R1R129R3R566goR121R567R0i46119R1R129R3R567goR121R568R0i83769R1R129R3R568goR121R569R0i54767R1R129R3R569goR121R570R0i41992R1R129R3R570goR121R571R0i184537R1R129R3R571goR121R572R0i231305R1R129R3R572goR121R573R0i22990R1R129R3R573goR121R574R0i56051R1R129R3R574goR121R575R0i67324R1R129R3R575goR121R576R0i61153R1R129R3R576goR121R577R0i138688R1R129R3R577goR121R578R0i61202R1R129R3R578goR121R579R0i130802R1R129R3R579goR121R580R0i165531R1R129R3R580goR121R581R0i65229R1R129R3R581goR121R582R0i144286R1R129R3R582goR121R583R0i47798R1R129R3R583goR121R584R0i82965R1R129R3R584goR121R585R0i217770R1R129R3R585goR121R586R0i70336R1R129R3R586goR121R587R0i51025R1R129R3R587goR121R588R0i85029R1R129R3R588goR121R589R0i66100R1R129R3R589goR121R590R0i23901R1R129R3R590goR121R591R0i157210R1R129R3R591goR121R592R0i29130R1R129R3R592goR121R593R0i44972R1R129R3R593goR121R594R0i40844R1R129R3R594goR121R595R0i85378R1R129R3R595goR121R596R0i53813R1R129R3R596goR121R597R0i29124R1R129R3R597goR121R598R0i591591R1R129R3R598goR121R599R0i62848R1R129R3R599goR121R600R0i221024R1R129R3R600goR121R601R0i58580R1R129R3R601goR121R602R0i308168R1R129R3R602goR121R603R0i67941R1R129R3R603goR121R604R0i116153R1R129R3R604goR121R605R0i24204R1R129R3R605goR121R606R0i7007R1R129R3R606goR121R607R0i18576R1R129R3R607goR121R608R0i118991R1R129R3R608goR121R609R0i9590R1R129R3R609goR121R610R0i3752R1R129R3R610gh","version":2,"libraryArgs":[],"libraryType":null}',
b);a=Rc.fromManifest(a);ra.registerLibrary("default",a);a=ra.getLibrary("default");null!=a?ch.preloadLibraries.push(a):ch.preloadLibraryNames.push("default")};var Ic=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};m["lime.text.Font"]=Ic;Ic.__name__=["lime","text","Font"];Ic.fromBytes=function(a){if(null==a)return null;var b=new Ic;b.__fromBytes(a);return b};Ic.fromFile=function(a){if(null==a)return null;var b=new Ic;b.__fromFile(a);return b};Ic.loadFromBytes=
function(a){return hb.withValue(Ic.fromBytes(a))};Ic.loadFromFile=function(a){return(new Bm).load(a).then(function(a){return null!=a?hb.withValue(a):hb.withError("")})};Ic.loadFromName=function(a){return(new Ic).__loadFromName(a)};Ic.__measureFontNode=function(a){var b=window.document.createElement("span");b.setAttribute("aria-hidden","true");var c=window.document.createTextNode("BESbswy");b.appendChild(c);c=b.style;c.display="block";c.position="absolute";c.top="-9999px";c.left="-9999px";c.fontSize=
"300px";c.width="auto";c.height="auto";c.lineHeight="normal";c.margin="0";c.padding="0";c.fontVariant="normal";c.whiteSpace="nowrap";c.fontFamily=a;window.document.body.appendChild(b);return b};Ic.prototype={ascender:null,descender:null,height:null,name:null,numGlyphs:null,src:null,underlinePosition:null,underlineThickness:null,unitsPerEM:null,__fontPath:null,decompose:function(){return null},getGlyph:function(a){return-1},getGlyphs:function(a){return null},getGlyphMetrics:function(a){return null},
renderGlyph:function(a,b){return null},renderGlyphs:function(a,b){return null},__fromBytes:function(a){this.__fontPath=null},__fromFile:function(a){this.__fontPath=a},__loadFromName:function(a){var b=this,c=new jd;this.name=a;var d=window.navigator.userAgent.toLowerCase();if(0<=d.indexOf(" safari/")&&0>d.indexOf(" chrome/")||!window.document.fonts||(Cb=window.document.fonts,!u(Cb,Cb.load)))var e=Ic.__measureFontNode("'"+a+"', sans-serif"),f=Ic.__measureFontNode("'"+a+"', serif"),k=e.offsetWidth,p=
f.offsetWidth,w=-1,h=0,w=window.setInterval(function(){h+=1;if(e.offsetWidth!=k||f.offsetWidth!=p||3E3<=50*h)window.clearInterval(w),e.parentNode.removeChild(e),f.parentNode.removeChild(f),f=e=null,c.complete(b)},50);else window.document.fonts.load("1em '"+a+"'").then(function(a){c.complete(b)});return c.future},__setSize:function(a){},get_ascender:function(){return 0},get_descender:function(){return 0},get_height:function(){return 0},get_numGlyphs:function(){return 0},get_underlinePosition:function(){return 0},
get_underlineThickness:function(){return 0},get_unitsPerEM:function(){return 0},__class__:Ic,__properties__:{get_unitsPerEM:"get_unitsPerEM",get_underlineThickness:"get_underlineThickness",get_underlinePosition:"get_underlinePosition",get_numGlyphs:"get_numGlyphs",get_height:"get_height",get_descender:"get_descender",get_ascender:"get_ascender"}};var Cm=Lp.__ASSET__data_fonts_pcpaintnormalsmall_ttf=function(){this.name="PCPaint Normal Small";Ic.call(this)};m.__ASSET__data_fonts_pcpaintnormalsmall_ttf=
Cm;Cm.__name__=["__ASSET__data_fonts_pcpaintnormalsmall_ttf"];Cm.__super__=Ic;Cm.prototype=z(Ic.prototype,{__class__:Cm});var id=function(a){Ic.call(this,a)};m["openfl.text.Font"]=id;id.__name__=["openfl","text","Font"];id.enumerateFonts=function(a){return id.__registeredFonts};id.fromBytes=function(a){var b=new id;b.__fromBytes(Na.toBytes(a));return b};id.fromFile=function(a){var b=new id;b.__fromFile(a);return b};id.registerFont=function(a){a=y.__cast(La.createInstance(a,[]),id);null!=a&&id.__registeredFonts.push(a)};
id.__fromLimeFont=function(a){var b=new id;b.name=a.name;b.src=a.src;return b};id.__super__=Ic;id.prototype=z(Ic.prototype,{fontStyle:null,fontType:null,get_fontName:function(){return this.name},set_fontName:function(a){return this.name=a},__class__:id,__properties__:z(Ic.prototype.__properties__,{set_fontName:"set_fontName",get_fontName:"get_fontName"})});var Am=Lp.__ASSET__OPENFL__data_fonts_pcpaintnormalsmall_ttf=function(){var a=new Cm;this.src=a.src;this.name=a.name;Ic.call(this,void 0)};m.__ASSET__OPENFL__data_fonts_pcpaintnormalsmall_ttf=
Am;Am.__name__=["__ASSET__OPENFL__data_fonts_pcpaintnormalsmall_ttf"];Am.__super__=id;Am.prototype=z(id.prototype,{__class__:Am});Math.__name__=["Math"];var Nb=function(){};m.ModelAssets=Nb;Nb.__name__=["ModelAssets"];Nb.init=function(){Nb.models=[];Nb.meshlist=[];Nb.loaded=[];Nb.modelscale=[];Nb.modelindex=new qa};Nb.preload=function(){for(var a=0,b=Dc.models.length;a<b;){var c=a++;Nb.load(Dc.models[c])}};Nb.ready=function(){if(0==Nb.models.length)return 1;for(var a=0,b=0,c=Nb.models.length;b<c;){var d=
b++;Nb.loaded[d]&&++a}return a==Nb.models.length?1:a/Nb.models.length};Nb.load=function(a,b){Nb.loaded.push(!1);var c=Nb.loaded.length-1,d=Nb.modelindex;null!=t[a]?d.setReserved(a,c):d.h[a]=c;d=new Ei;Nb._loader=new Fi;Nb.modelscale.push(1);Nb._loader.addEventListener("assetComplete",function(a){a=y.__cast(a,Wb);switch(a.get_asset().get_assetType()){case "material":a=y.__cast(a.get_asset(),Wa);a.set_ambientColor(16777215);a.set_ambient(1);break;case "mesh":null==Nb.meshlist[c]&&(Nb.meshlist[c]=new Pb(null)),
Nb.meshlist[c].addChild(y.__cast(a.get_asset(),Pb))}});Nb._loader.addEventListener("resourceComplete",function(b){Nb.loaded[c]=!0;b=N.readymodels;null!=t[a]?b.setReserved(a,1):b.h[a]=1});null!=b?Nb._loader.loadData(b,d):Nb._loader.loadData(ma.getBytes("data/models/"+a+".awd"),d);Nb.models.push(Nb._loader)};var Sp=function(){};m.Modifier=Sp;Sp.__name__=["Modifier"];Sp.parse=function(a){if(!ba.isinstring(a," ")&&!ba.isinstring(a,"-"))return!1;a=a.split("-");for(var b=0,c=a.length;b<c;){var d=b++;a[d]=
ba.trimspaces(a[d])}switch(a[0]){case "far":case "much":case "way":return a.splice(0,1),Sp.parse(a.join("-"))}a.splice(0,1);return K.parse(a.join(" "))};var ha=function(){};m.NotificationZone=ha;ha.__name__=["NotificationZone"];ha.init=function(){ha.state=1;ha.statepara=5;ha.shade=255;ha.message="";ha.asleep=!1;I.mobilemode&&ha.notify("mobile mode! tap tap tap!");ha.graygradient=[];for(var a=0;256>a;){var b=a++;ha.graygradient.push(na.rgb(b,b,b))}};ha.update=function(){v.notification(ha.message,ha.graygradient[ha.shade]);
255>ha.shade&&(ha.shade+=300*I.deltatime|0,255<ha.shade&&(ha.shade=255));0==ha.state?(ha.statepara-=I.deltatime,0>=ha.statepara&&ha.dismiss()):1==ha.state?(ha.statepara-=I.deltatime,0>=ha.statepara&&-100<ha.statepara?(ha.message="try typing something",ha.shade=196,ha.statepara=-100):""!=v.inputtext&&ha.dismiss(),J.justpressed(B.ENTER)&&ha.dismiss()):2==ha.state?0>=Fa.queue.length&&ha.dismiss():3==ha.state&&0!=I.gamestate&&ha.dismiss();""!=ha.disabletrigger&&("kaleidoscope"==ha.disabletrigger?D.kaleidoscopeon||
ha.dismiss():"infinity"==ha.disabletrigger?D.escheron||ha.dismiss():"colourmap"==ha.disabletrigger?D.colourmapon||ha.dismiss():"mirrorreflect"==ha.disabletrigger?D.reflectedview||D.mirroredview||ha.dismiss():"mirror"==ha.disabletrigger?D.mirroredview||ha.dismiss():"reflect"==ha.disabletrigger&&(D.reflectedview||ha.dismiss()))};ha.snooze=function(){ha.asleep=!0};ha.wakeup=function(){ha.asleep=!1};ha.dismiss=function(){ha.message="";ha.state=-1};ha.notify=function(a,b){null==b&&(b="timed");if(!(I.mobilemode&&
ba.isinstring(a,"type")||I.autoplay||ha.asleep))switch(ha.disabletrigger="",b){case "loading":ha.state=2;ha.statepara=100;ha.message=a+"...";break;case "pressenter":ha.state=1;ha.message=a;ha.shade=196;ha.statepara=5;break;case "slow":ha.state=0;ha.message=a;ha.shade=150;ha.statepara=10;break;case "timed":ha.state=0;ha.message=a;ha.shade=150;ha.statepara=5;break;case "wait":ha.state=3,ha.statepara=100}};var F=function(){};m.Positionmanager=F;F.__name__=["Positionmanager"];F.init=function(){F.movement=
[];F.movementtype=[];F.entitypos=[];F.sinewavetime=0;F.connectpositions=!1;F.linecontainer=new Cc;var a=5;F.latticeorder=[];for(var b=-a,c=a+1;b<c;)for(var d=b++,e=-a,f=a+1;e<f;)for(var k=e++,p=-a,w=a+1;p<w;){var h=p++,h=new C(h,k,d);-1==F.latticeorder.indexOf(h)&&F.latticeorder.push(h)}F.latticeorder.sort(function(a,b){return a.get_length()>b.get_length()?1:-1});a=8;F.gridorder=[];b=-a;for(c=a+1;b<c;)for(d=b++,e=-a,f=a+1;e<f;)k=e++,k=new C(k,0,d),-1==F.gridorder.indexOf(k)&&F.gridorder.push(k);F.gridorder.sort(function(a,
b){return a.get_length()>b.get_length()?1:-1});a=40;F.lineorder=[];b=-a;for(a+=1;b<a;)c=b++,c=new C(0,0,c),-1==F.lineorder.indexOf(c)&&F.lineorder.push(c);F.lineorder.sort(function(a,b){return a.get_length()>b.get_length()?1:-1});a=100;F.spiralorder=[];c=b=Math.PI/6;d=1.5/(2*Math.PI);e=c/d;for(k=f=0;0<a;)0==k%2&&F.spiralorder.push(new C(0,c*Math.cos(e)*f,c*Math.sin(e)*f)),e+=b/c,c=d*e,--a,95<a&&(f+=(a-95)/5*.4),k=(k+1)%2};F.getspherepoints=function(a,b){null==b&&(b=!0);null==a&&(a=1);var c=1;b&&(c=
fa["float"](0,a));F.sphereorder=[];for(var d=2/a,e=Math.PI*(3-Math.sqrt(5)),f=0,k=a;f<k;){var p=f++,w=p*d-1+d/2,h=Math.sqrt(1-Math.pow(w,2)),n=(p+c)%a*e,p=Math.cos(n)*h,h=Math.sin(n)*h;F.sphereorder.push(new C(p,w,h))}};F.getinteralspherepoints=function(a,b){null==a&&(a=1);F.sphereorder=[];for(var c=0,d=a;c<d;){c++;var e=fa["float"](0,2*Math.PI),f=fa["float"](-1,1),k=fa["float"](0,1),f=Math.acos(f),p=b*Math.pow(k,.3333333333333333),k=p*Math.sin(f)*Math.cos(e),e=p*Math.sin(f)*Math.sin(e),f=p*Math.cos(f);
F.sphereorder.push(new C(k,e,f))}};F.shift=function(a){null==a&&(a=!0);if(2<=F.entitypos.length)for(a&&F.entitypos[F.entitypos.length-1].movetoposition(F.entitypos[0].position,!0),a=F.entitypos.length-2;0<=a;)F.entitypos[a].movetoposition(F.entitypos[a+1].position,!0),--a};F.swap=function(){var a=F.singleswap();-1!=a&&ga.declarenewobject(F.entitypos[a].position)};F.singleswap=function(){var a=-1;if(4<=F.entitypos.length){var a=fa["int"](1,F.entitypos.length-1),b=fa["int"](1,F.entitypos.length-1);
if(b==a)return-1;var c=F.entitypos[a].position.clone(),d=F.entitypos[b].position.clone();F.entitypos[a].movetoposition(d,!0,null,1);F.entitypos[b].movetoposition(c,!0,null,1)}return a};F.throwentity=function(a){if(a<F.entitypos.length){ga.declarenewobject(F.entitypos[a].position);var b=F.entitypos[a].position.clone();b.scaleBy(5);F.entitypos[a].moveanddestroy(b,!0,1)}};F.explode=function(){for(var a=0,b=F.entitypos.length;a<b;){var c=a++;F.throwentity(c)}};F.update=function(){F.sinewavetime+=1E3*
I.deltatime*qb.rate;for(var a=0,b=F.entitypos.length;a<b;){var c=a++;if(!F.entitypos[c].intween){5==F.movementtype[c]&&(F.movement[c].y-=20);var d=F.movement[c].clone();d.scaleBy(I.deltatime*qb.rate);if(1==F.movementtype[c]){F.entitypos[c].position=F.entitypos[c].position.add(d);if(F.entitypos[c].position.x<-T.boundsx||F.entitypos[c].position.x>T.boundsx)F.movement[c].x=-F.movement[c].x;if(F.entitypos[c].position.y<-T.boundsy||F.entitypos[c].position.y>T.boundsy)F.movement[c].y=-F.movement[c].y;if(F.entitypos[c].position.z<
-T.boundsz||F.entitypos[c].position.z>T.boundsz)F.movement[c].z=-F.movement[c].z}else 3==F.movementtype[c]||5==F.movementtype[c]?(F.entitypos[c].position=F.entitypos[c].position.add(d),(F.entitypos[c].position.x<-T.boundsx||F.entitypos[c].position.x>T.boundsx)&&F.entitypos[c].tidy(),(F.entitypos[c].position.y<-T.boundsy||F.entitypos[c].position.y>T.boundsy)&&F.entitypos[c].tidy(),(F.entitypos[c].position.z<-T.boundsz||F.entitypos[c].position.z>T.boundsz)&&F.entitypos[c].tidy()):2==F.movementtype[c]?
(F.entitypos[c].polarposition.x+=d.x%(2*Math.PI),F.entitypos[c].polarposition.y+=d.y%(2*Math.PI),F.entitypos[c].polarposition.z+=d.z,F.entitypos[c].position.x=F.entitypos[c].polarposition.z*Math.cos(F.entitypos[c].polarposition.x)*Math.sin(F.entitypos[c].polarposition.y),F.entitypos[c].position.y=F.entitypos[c].polarposition.z*Math.sin(F.entitypos[c].polarposition.x)*Math.sin(F.entitypos[c].polarposition.y),F.entitypos[c].position.z=F.entitypos[c].polarposition.z*Math.cos(F.entitypos[c].polarposition.y),
F.entitypos[c].polarposition.z>T.boundsx&&F.entitypos[c].tidy()):(4==F.movementtype[c]&&(d=Math.sin(F.sinewavetime/1E3+(F.entitypos[c].position.x+F.entitypos[c].position.z)/600)*T.boundsy*.3,25>Math.abs(d-F.entitypos[c].position.y)?F.entitypos[c].position.y=d:F.entitypos[c].position.y=0<d-F.entitypos[c].position.y?F.entitypos[c].position.y+25:F.entitypos[c].position.y-25),(F.entitypos[c].position.x<-T.boundsx||F.entitypos[c].position.x>T.boundsx)&&F.entitypos[c].tidy(),(F.entitypos[c].position.y<
-T.boundsy||F.entitypos[c].position.y>T.boundsy)&&F.entitypos[c].tidy(),(F.entitypos[c].position.z<-T.boundsz||F.entitypos[c].position.z>T.boundsz)&&F.entitypos[c].tidy())}}F.connectpositions?F.rebuildlines():S.view.get_scene().contains(F.linecontainer)&&S.view.get_scene().removeChild(F.linecontainer)};F.rebuildlines=function(){S.view.get_scene().contains(F.linecontainer)&&S.view.get_scene().removeChild(F.linecontainer);F.linecontainer=new Cc;for(var a=0,b=F.entitypos.length;a<b;){var c=a++;if(1==
c&&2>=F.entitypos.length)break;var d=F.entitypos[c].position,c=F.entitypos[(c+1)%F.entitypos.length].position.subtract(d),e=c.get_length();c.normalize();var f=c.clone();c.scaleBy(50);f.scaleBy(25);for(var k=0;50<e;)0==k&&F.linecontainer.addSegment(new Ca(d,d.add(c),na.WHITE,na.WHITE,1)),0==k?(d=d.add(c),e-=50):(d=d.add(f),e-=25),k=(k+1)%2;0==k&&(c.normalize(),c.scaleBy(e),F.linecontainer.addSegment(new Ca(d,d.add(c),na.WHITE,na.WHITE,1)))}S.view.get_scene().addChild(F.linecontainer)};F.scalespeeds=
function(a){null==a&&(a=1);for(var b=0,c=F.entitypos.length;b<c;){var d=b++;F.movement[d].scaleBy(a)}};F.changeallpositions=function(a,b){null==b&&(b=!1);T.position="random";switch(a){case "column":for(var c=0,d=F.entitypos.length;c<d;){var e=c++;if(e<F.lineorder.length){var f=F.lineorder[e].clone();f.scaleBy(T.linespacing);var k=f.y;f.y=f.z;f.z=k;F.entitypos[e].movetoposition(f,!b,new C(0,0,0),1);F.entitypos[e].rotation(0,0,0);F.entitypos[e].polarposition=F.converttopolar(f);F.movementtype[e]=0;
F.movement[e]=new C(0,0,0)}else F.entitypos[e].tidy()}break;case "cross":c=fa["float"](0,2*Math.PI);c=50*T.defaultmovespeed*Math.cos(c)/250;for(d=0;d<F.entitypos.length;)d<F.lineorder.length&&0!=d?(0==d%2?(e=F.lineorder[d/2|0].clone(),e.scaleBy(T.linespacing)):(e=F.lineorder[(d-1)/2|0].clone(),e.scaleBy(T.linespacing),f=e.y,e.y=e.z,e.z=f),F.entitypos[d].movetoposition(e,!b,new C(0,0,0),1),F.entitypos[d].rotation(0,0,0),F.entitypos[d].polarposition=F.converttopolar(e),F.movementtype[d]=2,F.movement[d]=
new C(c,0,0)):F.entitypos[d].tidy(),++d;break;case "fabric":c=50*T.defaultmovespeed;d=0;for(e=F.entitypos.length;d<e;)if(f=d++,f<F.gridorder.length){k=F.gridorder[f].clone();k.scaleBy(T.linespacing);var p=new C(k.x,Math.sin((F.sinewavetime+1E3)/1E3+(k.x+k.z)/600)*T.boundsy*.3,k.z);F.entitypos[f].movetoposition(p,!b,new C(0,0,0),1);F.entitypos[f].rotation(0,0,0);F.entitypos[f].polarposition=F.converttopolar(k);F.movementtype[f]=4;F.movement[f]=new C(0,c,0)}else F.entitypos[f].tidy();break;case "grid":c=
fa["float"](0,2*Math.PI);Math.cos(c);Math.sin(c);c=0;for(d=F.entitypos.length;c<d;)e=c++,e<F.gridorder.length?(f=F.gridorder[e].clone(),f.scaleBy(T.linespacing),F.entitypos[e].movetoposition(f,!b,new C(0,0,0),1),F.entitypos[e].rotation(0,0,0),F.movementtype[e]=0,F.movement[e]=new C(0,0,0)):F.entitypos[e].tidy();break;case "lattice":c=0;for(d=F.entitypos.length;c<d;)e=c++,e<F.latticeorder.length?(f=F.latticeorder[e].clone(),f.scaleBy(T.gridspacing),F.entitypos[e].movetoposition(f,!b,new C(0,0,0),1),
F.entitypos[e].rotation(0,0,0),F.movementtype[e]=0,F.movement[e]=new C(0,0,0)):F.entitypos[e].tidy();break;case "line":d=fa["float"](0,2*Math.PI);c=50*T.defaultmovespeed*Math.cos(d)/250;d=50*T.defaultmovespeed*Math.sin(d)/250;e=0;for(f=F.entitypos.length;e<f;)k=e++,k<F.lineorder.length?(p=F.lineorder[k].clone(),p.scaleBy(T.linespacing),F.entitypos[k].movetoposition(p,!b,new C(0,0,0),1),F.entitypos[k].rotation(0,0,0),F.entitypos[k].polarposition=F.converttopolar(p),F.movementtype[k]=2,F.movement[k]=
new C(c,d,0)):F.entitypos[k].tidy();break;case "randomgrid":fa["float"](0,2*Math.PI);F.getinteralspherepoints(F.entitypos.length,1100);c=0;for(d=F.entitypos.length;c<d;)e=c++,f=F.sphereorder[e],F.entitypos[e].movetoposition(f,!0,null,1.5),F.entitypos[e].polarposition=F.converttopolar(f),F.movementtype[e]=1,F.movement[e]=F.getmovementvector(1);break;case "rings":d=c=0;k=Math.PI/6;k=50*T.defaultmovespeed*Math.cos(k)/250;e=0;for(f=F.entitypos.length;e<f;)if(p=e++,4<=c)F.entitypos[p].tidy();else if(0==
c)F.entitypos[p].movetoposition(new C(0,0,0),!b,new C(0,0,0),1),F.entitypos[p].rotation(0,0,0),F.entitypos[p].polarposition=new C(0,0,0),F.movementtype[p]=0,F.movement[p]=new C(0,0,0),++c;else if(0<c){var w=d/(6+6*c)*Math.PI*2,w=new C(400*Math.cos(w)*c,0,400*Math.sin(w)*c);F.entitypos[p].movetoposition(w,!b,new C(0,0,0),1);F.entitypos[p].rotation(0,0,0);F.entitypos[p].polarposition=F.converttocoordinates(w);F.movementtype[p]=2;F.movement[p]=new C(k,0,0);++d;d==6+6*c&&(++c,d=0,k=Math.PI/6,k=2==c?0-
50*T.defaultmovespeed*Math.cos(k)/250:50*T.defaultmovespeed*Math.cos(k)/250)}break;case "row":c=0;for(d=F.entitypos.length;c<d;)e=c++,e<F.lineorder.length?(f=F.lineorder[e].clone(),f.scaleBy(T.linespacing),F.entitypos[e].movetoposition(f,!b,new C(0,0,0),1),F.entitypos[e].rotation(0,0,0),F.entitypos[e].polarposition=F.converttopolar(f),F.movementtype[e]=0,F.movement[e]=new C(0,0,0)):F.entitypos[e].tidy();break;case "sinewave":c=50*T.defaultmovespeed;d=0;for(e=F.entitypos.length;d<e;)f=d++,f<F.lineorder.length?
(k=F.lineorder[f].clone(),k.scaleBy(T.linespacing),p=new C(k.x,Math.sin((F.sinewavetime+1E3)/1E3+(k.x+k.z)/600)*T.boundsy*.3,k.z),F.entitypos[f].movetoposition(p,!b,new C(0,0,0),1),F.entitypos[f].rotation(0,0,0),F.entitypos[f].polarposition=F.converttopolar(k),F.movementtype[f]=4,F.movement[f]=new C(0,c,0)):F.entitypos[f].tidy();break;case "spiral":d=fa["float"](0,2*Math.PI);c=50*T.defaultmovespeed*Math.cos(d)/250;Math.sin(d);d=0;for(e=F.entitypos.length;d<e;)f=d++,f<F.spiralorder.length?(k=F.spiralorder[f].clone(),
k.scaleBy(T.linespacing),F.entitypos[f].movetoposition(k,!b,new C(0,0,0),1),F.entitypos[f].rotation(0,0,0),F.movementtype[f]=2,F.movement[f]=new C(c,0,0)):F.entitypos[f].tidy();break;case "tunnel":e=d=c=0;for(f=F.entitypos.length;e<f;)k=e++,c<F.lineorder.length?(p=F.lineorder[c].clone(),p.scaleBy(T.linespacing),w=p.y,p.y=p.z,p.z=w,w=d/14*Math.PI*2,p=new C(700*Math.cos(w),p.y,700*Math.sin(w)),F.entitypos[k].movetoposition(p,!b,new C(0,0,0),1),F.entitypos[k].rotation(0,0,0),F.movementtype[k]=0,F.movement[k]=
new C(0,0,0),++d,14==d&&(++c,d=0)):F.entitypos[k].tidy();break;case "wall":for(c=fa["float"](0,2*Math.PI),Math.cos(c),Math.sin(c),c=0,d=F.entitypos.length;c<d;)e=c++,e<F.gridorder.length?(f=F.gridorder[e].clone(),f.scaleBy(T.linespacing),k=f.y,f.y=f.z,f.z=k,F.entitypos[e].movetoposition(f,!b,new C(0,0,0),1),F.entitypos[e].rotation(0,0,0),F.movementtype[e]=0,F.movement[e]=new C(0,0,0)):F.entitypos[e].tidy()}};F.changeallmotion=function(a){T.movement=1;switch(a){case 1:case 3:case 5:for(var b=0,c=F.entitypos.length;b<
c;){var d=b++;F.movementtype[d]=a;F.movement[d]=F.getmovementvector(a)}break;case 2:for(fa["float"](0,2*Math.PI),a=16.5*T.defaultmovespeed/250,F.getspherepoints(F.entitypos.length),b=0,c=F.entitypos.length;b<c;){var d=b++,e=F.sphereorder[d];e.scaleBy(1100);F.entitypos[d].movetoposition(e,!0,null,1.5);F.entitypos[d].polarposition=F.converttopolar(e);F.movementtype[d]=2;F.movement[d]=new C(a,0)}}};F.expand=function(a){null==a&&(a=!1);for(var b=0,c=F.entitypos.length;b<c;){var d=b++,e=F.entitypos[d].position.clone();
e.scaleBy(2);F.entitypos[d].movetoposition(e,!a,null,.75)}};F.contract=function(a){null==a&&(a=!1);for(var b=0,c=F.entitypos.length;b<c;){var d=b++,e=F.entitypos[d].position.clone();e.scaleBy(.5);F.entitypos[d].movetoposition(e,!a,null,.75)}};F.converttopolar=function(a){var b=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2)+Math.pow(a.z,2));return 0==b?new C(0,0,0):new C(Math.atan2(a.y,a.x),Math.acos(a.z/b),b)};F.converttocoordinates=function(a){return new C(a.z*Math.cos(a.x)*Math.sin(a.y),a.z*Math.sin(a.x)*
Math.sin(a.y),a.z*Math.cos(a.y))};F.getmovementvector=function(a){var b=0,c=0,d=0;1==a?(a=50*T.defaultmovespeed,c=fa["float"](0,2*Math.PI),d=fa["float"](0,2*Math.PI),b=a*Math.cos(c)*Math.sin(d),c=a*Math.sin(c)*Math.sin(d),d=a*Math.cos(d)):5==a?(b=T.gravitydirection.x*T.defaultmovespeed*50,c=T.gravitydirection.y*T.defaultmovespeed*50,d=T.gravitydirection.z*T.defaultmovespeed*50):3==a?(b=T.gravitydirection.x*T.defaultmovespeed*50,c=T.gravitydirection.y*T.defaultmovespeed*50,d=T.gravitydirection.z*T.defaultmovespeed*
50):5==a?(b=fa["float"](-5,5)*T.defaultmovespeed*50,c=T.gravitydirection.y*T.defaultmovespeed*50,d=fa["float"](-5,5)*T.defaultmovespeed*50):2==a&&(c=fa["float"](0,2*Math.PI),b=50*T.defaultmovespeed*Math.cos(c)/250,c=50*T.defaultmovespeed*Math.sin(c)/250,d=0);return new C(b,c,d,0)};F.newposition=function(a){var b=new C(0,0,0),c=new C(0,0,0),d=1;if("center"==T.position)b=new C(0,0,0),c=new C(0,0,0),d=0,T.position="random";else if("line"==T.position){b=[];c=0;for(d=F.entitypos.length+1;c<d;){var e=c++;
b.push(new C(0,0,e*T.linespacing-(F.entitypos.length+1)*T.linespacing/2))}for(var d=fa["float"](0,2*Math.PI),c=50*T.defaultmovespeed*Math.cos(d)/250,d=50*T.defaultmovespeed*Math.sin(d)/250,e=0,f=F.entitypos.length;e<f;){var k=e++;F.entitypos[k].movetoposition(b[k],!0);F.entitypos[k].polarposition=b[k].clone();F.movement[k].setTo(c,d,0);F.movementtype[k]=2}b=b.pop();a.polarposition=b.clone();c=new C(c,d,0);d=2}else 2==T.movement?(c=fa["float"](0,2*Math.PI),d=fa["float"](0,2*Math.PI),a.polarposition=
new C(c,d,900),b.x=900*Math.cos(c)*Math.sin(d),b.y=900*Math.sin(c)*Math.sin(d),b.z=900*Math.cos(d),c=F.getmovementvector(2),d=2):"random"==T.position&&(b=new C(fa["int"](-600,600),fa["int"](-600,600),fa["int"](-600,600)),c=F.getmovementvector(T.movement),d=T.movement);a.ent.isparticles?F.particleposition=b:(a.position=b,F.entitypos.push(a),F.movement.push(c),F.movementtype.push(d));ga.declarenewobject(b);return b};F.freeupposition=function(a){var b=0;for(a=a.components;b<a.length;){var c=a[b];++b;
c=F.entitypos.indexOf(c);-1!=c&&(F.entitypos.splice(c,1),F.movement.splice(c,1),F.movementtype.splice(c,1))}};var K=function(){};m.Process=K;K.__name__=["Process"];K.loadbrain=function(){K.brainfile=Gb.loadtext("brain");K.braincommand=new qa;K.brainparameters=new qa;K.braincommand_flow=new qa;K.braincommand_inhelp=new qa;K.braincommand_tag=new qa;K.currenttag="none";var a="",b,c,d=!1,e=!1,f=!1;K.wordlist=[];for(var k=0,p=K.brainfile.length;k<p;)if(b=k++,a=K.brainfile[b],"#"==ba.left(a,1))a=ba.trimspaces(a),
"#kaleidoscopekludge"==ba.left(a,19)?D.kludgekaleidoscope(parseFloat(ba.getbranch(a," "))):"#clear"==a?(d=!1,e=!0):"#flow"==a?d=!0:"#notinhelp"==a?e=!1:"#plurals"==a?f=!0:"#endplurals"==a?f=!1:K.currenttag=ba.right(a,a.length-1);else if("//"!=ba.left(a,2)&&""!=ba.trimspaces(a)){b=ba.getroot(a,":").split(",");a=ba.trimspaces(ba.getbranch(a,":"));ba.isinstring(a,"(")?(c=ba.getbranch(a,"("),c=ba.trimspaces(c),")"==ba.right(c,1)&&(c=ba.left(c,c.length-1)),c=ba.trimspaces(c),a=ba.trimspaces(ba.getroot(a,
"("))):c="";for(var w=0,h=b.length;w<h;){var n=w++,n=ba.trimspaces(b[n]);if(""!=n){var l=K.braincommand;if(null!=t[n]?l.existsReserved(n):l.h.hasOwnProperty(n))throw new H('Error: "'+n+'" is assigned twice in brain.txt.');l=K.braincommand;null!=t[n]?l.setReserved(n,a):l.h[n]=a;l=K.brainparameters;null!=t[n]?l.setReserved(n,c):l.h[n]=c;l=K.braincommand_flow;null!=t[n]?l.setReserved(n,d):l.h[n]=d;l=K.braincommand_inhelp;null!=t[n]?l.setReserved(n,e):l.h[n]=e;"addmodel"!=a&&e&&K.wordlist.push(n);var l=
K.currenttag,g=K.braincommand_tag;null!=t[n]?g.setReserved(n,l):g.h[n]=l;if(f){n="s"==ba.right(n,1)?n+"es":n+"s";l=K.braincommand;if(null!=t[n]?l.existsReserved(n):l.h.hasOwnProperty(n))throw new H('Error: "'+n+'" is assigned twice in brain.txt.');l=K.braincommand;null!=t[n]?l.setReserved(n,a):l.h[n]=a;"addmodel"==a?(l=K.brainparameters,g=c+", 4",null!=t[n]?l.setReserved(n,g):l.h[n]=g):(l=K.brainparameters,null!=t[n]?l.setReserved(n,c):l.h[n]=c);l=K.braincommand_flow;null!=t[n]?l.setReserved(n,d):
l.h[n]=d;l=K.braincommand_inhelp;null!=t[n]?l.setReserved(n,e):l.h[n]=e;e&&K.wordlist.push(n);l=K.currenttag;g=K.braincommand_tag;null!=t[n]?g.setReserved(n,l):g.h[n]=l}}}}Bb.init()};K.parse=function(a){"?"==a&&(a="random");I.showhelp&&I.togglehelp();I.showcredits&&(I.showcredits=!1);a=ba.trimspaces(a.toLowerCase());a=ba.replacechar(a,"!","");a=ba.replacechar(a,"?","");a=ba.replacechar(a,"'","");a=ba.replacechar(a,",","");a=ba.replacechar(a,".","");a=ba.replacechar(a,'"',"");a=ba.replacechar(a,"#",
"");a=ba.replacechar(a," ","-");K.removetextents(a);K.para="";var b=K.braincommand;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))if(b=K.brainparameters,K.para=null!=t[a]?b.getReserved(a):b.h[a],ba.isinstring(K.para,"&")){b=K.para.split("&");K.para=ba.trimspaces(b[0]);if(")"==ba.right(K.para,1)){var c=K.para;K.para=ba.left(c,c.length-1)}c=K.braincommand;K.run(null!=t[a]?c.getReserved(a):c.h[a],a);a=1;for(c=b.length;a<c;){var d=a++;K.para=ba.getbranch(b[d],"(");K.para=ba.trimspaces(K.para);
if(")"==ba.right(K.para,1)){var e=K.para;K.para=ba.left(e,e.length-1)}K.para=ba.trimspaces(K.para);K.run(ba.trimspaces(ba.getroot(b[d],"(")),K.para)}}else if(ba.isinstring(K.para,"|")){b=[];c=[];d=K.para.split("|");K.para=ba.trimspaces(d[0]);")"==ba.right(K.para,1)&&(e=K.para,K.para=ba.left(e,e.length-1));e=K.braincommand;b.push(null!=t[a]?e.getReserved(a):e.h[a]);c.push(a);a=1;for(e=d.length;a<e;){var f=a++;K.para=ba.getbranch(d[f],"(");K.para=ba.trimspaces(K.para);if(")"==ba.right(K.para,1)){var k=
K.para;K.para=ba.left(k,k.length-1)}K.para=ba.trimspaces(K.para);b.push(ba.trimspaces(ba.getroot(d[f],"(")));c.push(K.para)}a=fa["int"](0,b.length-1);K.run(b[a],c[a])}else b=K.braincommand,K.run(null!=t[a]?b.getReserved(a):b.h[a],a),b=K.braincommand,"changescene"==(null!=t[a]?b.getReserved(a):b.h[a])&&(K.supresstone=!0);else return Sp.parse(a)?!0:!1;return!0};K.reset=function(){td.removeparticlefield();K.entities=[];D.clear();T.resetrules();K.playingmusic=!1;L.stop();L.stopbackground();F.connectpositions=
!1;qb.reset();A.disable();I.autoshuffle=!1;K.lastcommand="reset";K.lastpara="";X.change("blackscreen");y.__cast(S.view.get_camera().get_lens(),hd).set_fieldOfView(60);Bb.resetcounter=0};K.removetextents=function(a){if("word"!=a&&"words"!=a&&"text"!=a&&"hello"!=a)for(var b=0,c=K.entities;b<c.length;){var d=c[b];++b;d.isobject&&"text"==d.type&&d.get_entities_EntityText(Mh).get_text()==a&&d.get_entities_EntityText(Mh).tidy()}};K.addobject=function(a){if("add"==T.newobjects)K.entities.push(a);else if("push"==
T.newobjects)K.entities.push(a);else if("replace"==T.newobjects){K.entities.push(a);for(var b=[],c=0,d=K.entities;c<d.length;){var e=d[c];++c;e.isobject&&e.subtype!=a.subtype&&b.push(e)}a=0;for(c=b.length;a<c;)d=a++,b[d].getfirstcomponent_entities_EntityComponent().tidy()}};K.run=function(a,b){switch(a){case "addmodel":Dc.run(K.para);break;case "addmodelgroup":for(var c=K.para.split(","),d=0,e=c.length;d<e;){var f=d++;Dc.run(ba.trimspaces(c[f]))}break;case "addmodelgroupsingle":c=K.para.split(",");
c=fa.pick(c);c=ba.trimspaces(c);Dc.run(c);break;case "begin":K.run("reset");K.para="";K.run("changesky");break;case "boundary":""==K.para?A.disable():K.para==A.currentboundary?A.disable():A.enable(K.para);break;case "changeparticlefield":td.run(K.para);ga.tiltchangetime=0;ga.panchangetime=0;break;case "changescene":X.ready(K.para)?(K.run("reset"),X.change(K.para),I.playsound("secret")):Fa.changescene(K.para);break;case "changesky":cc.run(K.para);break;case "clearfilter":K.blankscene()&&ha.notify("removed all filters");
D.clear();break;case "colourful":K.blankscene()&&ha.notify("toggled vivid filter");D.saturation();break;case "disableobjectconnect":F.connectpositions?F.connectpositions=!1:ha.notify("objects are not connected");break;case "enableobjectconnect":2>F.entitypos.length?ha.notify("need at least two objects to connect"):(F.connectpositions&&ha.notify("objects already connected"),F.connectpositions=!0);break;case "gammaminus":K.blankscene()&&ha.notify("decreased brightness");D.gammaon?D.gamma*=.75:(D.gammaon=
!0,D.gamma=.75);D.resetfilter();break;case "gammaplus":K.blankscene()&&ha.notify("increased brightness");D.gammaon?D.gamma*=1.25:(D.gammaon=!0,D.gamma=1.25);D.resetfilter();break;case "grayscale":K.blankscene()&&ha.notify("toggled monochrome filter");D.ansel();break;case "makecone":is.run(K.para);break;case "makecube":Tp.run(K.para);break;case "makecylinder":js.run(K.para);break;case "makeline":ks.run(K.para);break;case "makepolyhedra":c=K.para.split(",");ls.run(c[0],h.parseInt(c[1]));break;case "makeshinycube":Tp.run(K.para,
!0);break;case "makeshinysphere":Up.run(K.para,!0);break;case "makesphere":Up.run(K.para);break;case "makespotlight":Vp.run(K.para,na.YELLOW);break;case "makesquare":ms.run(K.para);break;case "makestripe":Vp.run(K.para,-1);break;case "makethings":c=0;for(d=h.parseInt(K.para);c<d;)c++,Dc.run(fa.pick(Dc.models));break;case "maketorus":ns.run(K.para);break;case "movement":0==qb.rate&&qb.reset();I.autoshuffle=!1;c=K.para.split(",");d=0;for(e=c.length;d<e;)f=d++,c[f]=ba.trimspaces(c[f]);0==F.entitypos.length?
ha.notify("no objects to move"):"random"==c[0]?(F.changeallmotion(1),F.scalespeeds(4),T.movement=1):"gravity"==c[0]?(T.gravitydirection.setTo(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])),F.changeallmotion(3)):"jump"==c[0]?(T.gravitydirection.setTo(0,30,0),F.changeallmotion(5)):"orbit"==c[0]&&(F.changeallmotion(2),T.movement=2);break;case "position":0==qb.rate&&qb.reset();I.autoshuffle=!1;"tunnel"==K.para?F.changeallpositions("tunnel"):"fabric"==K.para?F.changeallpositions("fabric"):"sinewave"==
K.para?F.changeallpositions("sinewave"):"rings"==K.para?F.changeallpositions("rings"):"spiral"==K.para?F.changeallpositions("spiral"):"randomgrid"==K.para?F.changeallpositions("randomgrid"):"cross"==K.para?F.changeallpositions("cross"):"wall"==K.para?F.changeallpositions("wall"):"column"==K.para?F.changeallpositions("column"):"row"==K.para?F.changeallpositions("row"):"line"==K.para?F.changeallpositions("line"):"grid"==K.para?F.changeallpositions("grid"):"lattice"==K.para?F.changeallpositions("lattice"):
"shuffle"==K.para?F.shift():"swap"==K.para?F.swap():"expand"==K.para?F.expand():"contract"==K.para&&F.contract();break;case "positionexplode":0==qb.rate&&qb.reset();""==K.para?F.explode():F.throwentity(fa["int"](0,F.entitypos.length-1));break;case "quiet":case "quietspecial":if("quietspecial"==a)if("amb/phone"==L.currentsong)ha.notify(fa.pick(["they hung up","nobody's there","it's for someone else"]));else{c=!1;d=0;for(e=K.entities;d<e.length;)f=e[d],++d,f.has(Nf)&&"phone"==f.get_entities_EntityModel(Nf).modelname&&
(c=!0);c?ha.notify("the phone isn't ringing"):ha.notify("there's no phone ringing")}K.playingmusic=!1;L.stop();L.stopbackground();c=0;for(d=K.entities;c<d.length;)e=d[c],++c,e.isobject&&e.getfirstcomponent_entities_EntityComponent().noisy&&(e.getfirstcomponent_entities_EntityComponent().noisy=!1,e.getfirstcomponent_entities_EntityComponent().makingnoise=!1);break;case "random":if(2>=K.entities.length)Dc.run(fa.pick(Dc.models)),Dc.run(fa.pick(Dc.models)),Dc.run(fa.pick(Dc.models)),Dc.run(fa.pick(Dc.models)),
Dc.run(fa.pick(Dc.models));else{c=[];for(d=K.braincommand.keys();d.hasNext();)e=d.next(),c.push(e);for(d=fa.pick(c);K.braincommand_flow.get(d);)d=fa.pick(c);K.parse(d)}break;case "randomaction":I.autotype();break;case "repeat":if("changescene"!=K.lastcommand)for(f=h.parseInt(K.para),c=K.lastcommand,d=K.lastpara,"makethings"==c&&(f=1),"changesky"==c&&(f=1),e=0;e<f;)e++,K.para=d,K.run(c);break;case "reset":c=0;for(d=K.entities;c<d.length;)e=d[c],++c,e.destroy();K.reset();break;case "resetfov":ga.resetfov();
break;case "say":Dm.run(K.para);break;case "sayhint":if(""!=K.para&&ba.isnumber(K.para))for(c=0,d=h.parseInt(K.para);c<d;)c++,Dm.run(Bb.please(),!0,20);else Dm.run(Bb.please(),!0,20);break;case "scale":d=K.para.split(",");c=parseFloat(d[0]);d=parseFloat(d[1]);c=0>c?-.75/c:1.25*c;d=0>d?-.75/d:1.25*d;e=0;for(f=K.entities;e<f.length;){var k=f[e];++e;k.isobject&&k.getfirstcomponent_entities_EntityComponent().changescale(c,d)}break;case "speedfaster":K.blankscene()&&ha.notify("speeding up");qb.faster();
break;case "speedslower":K.blankscene()&&ha.notify("slowing down");qb.slower();break;case "speedstop":K.blankscene()&&ha.notify("everything is stopped");I.autoshuffle=!1;qb.stop();break;case "tidy":c=0;for(d=K.entities;c<d.length;)e=d[c],++c,e.isobject&&e.getfirstcomponent_entities_EntityComponent().tidy();break;case "toggleart":K.blankscene()&&ha.notify("this is art now");D.art();break;case "toggleautoplay":I.autoplay=!0;I.autoplaydelay=0;I.typingspeed=h.parseInt(K.para)*Qd.typingspeed;J.forcerelease(B.ENTER);
break;case "togglebloom":K.blankscene()&&ha.notify("toggled bloom filter");D.bloom();break;case "toggleblur":K.blankscene()&&ha.notify("toggled blur filter");D.blur();break;case "togglechromaticaberration":K.blankscene()&&ha.notify("toggled 3d filter");D.chromaticaberration();break;case "togglecinemabars":K.blankscene()&&ha.notify("toggled cinema bars");D.cinemabars();break;case "togglecolourmap":D.colourmap(K.para);break;case "togglecredits":I.showcredits=!0;break;case "toggledance":I.autoshuffle?
I.autoshuffle=!1:I.enableshuffle();break;case "togglediamond":D.kaleidoscopeon&&(D.kaleidoscopeon=!1);D.reflectedview&&D.mirroredview?(D.reflectedview=!1,D.mirroredview=!1):(D.reflectedview=!0,D.mirroredview=!0,ha.notify('mirror and reflect filters: type "normal" to disable'),ha.disabletrigger="mirrorreflect");D.resetfilter();break;case "toggleescher":D.escher();break;case "togglefliph":K.blankscene()&&ha.notify("flipped horizontally");D.fliph();break;case "toggleflipv":K.blankscene()&&ha.notify("flipped vertically");
D.flipv();break;case "togglegame":D.game();break;case "togglegodrays":K.blankscene()&&ha.notify("toggled sunshine filter");D.godrays();break;case "togglehelp":I.togglehelp();break;case "togglehueshift":K.blankscene()&&ha.notify("toggled hue shift filter");D.hueshift();break;case "toggleinstagram":K.blankscene()&&ha.notify("toggled instagram filter");D.instagram();break;case "toggleinvert":D.invert();break;case "togglekaleidoscope":D.kaleidoscope();break;case "togglelineglitch":K.blankscene()&&ha.notify("toggled glitch filter");
D.lineglitch();break;case "togglemirror":D.kaleidoscopeon&&(D.kaleidoscopeon=!1);D.mirroredview=!D.mirroredview;D.resetfilter();D.mirroredview&&(ha.notify('mirror filter: type "normal" to disable'),ha.disabletrigger="mirror");break;case "togglemusic":os.run(K.para);break;case "togglenewsprint":K.blankscene()&&ha.notify("toggled newspaper filter");D.newsprint();break;case "togglepixel":K.blankscene()&&ha.notify("toggled pixelation filter");D.pixel();break;case "togglereflect":D.kaleidoscopeon&&(D.kaleidoscopeon=
!1);D.reflectedview=!D.reflectedview;D.resetfilter();D.reflectedview&&(ha.notify('reflect filter: type "normal" to disable'),ha.disabletrigger="reflect");break;case "togglescanline":K.blankscene()&&ha.notify("toggled scanline filter");D.scanline();break;case "togglescreenrepeat":K.blankscene()&&ha.notify("toggled warhol filter");3!=D.screenrepeatvalue?D.screenrepeat(3):D.screenrepeat(0);break;case "togglesepia":D.sepia();break;case "togglevcr":D.vcr();break;case "togglevignette":K.blankscene()&&ha.notify("toggled vignette filter");
D.vignette();break;case "togglevr":K.blankscene()&&ha.notify("toggled vr filter");D.vron?(D.vignetteon&&D.vignette(),D.chromaticaberrationon&&D.chromaticaberration()):(D.vignetteon||D.vignette(),D.chromaticaberrationon||D.chromaticaberration());D.vr();break;case "togglewobble":K.blankscene()&&ha.notify("toggled wobble filter");D.wobble();break;case "undo":if(3>=K.entities.length)K.parse("reset");else for(d=K.entities.length,d=K.entities.length/2|0,c=0;c<d;)e=c++,fa["int"](0,K.entities.length),K.entities[e].has(Qe)||
K.entities.splice(e,1)[0].destroy();break;case "zoomin":ga.zoomin();break;case "zoomout":ga.zoomout();break;default:Aa.trace('Error! Command "'+a+"\" doesn't exist",{fileName:"Process.hx",lineNumber:787,className:"Process",methodName:"run"})}c=K.braincommand_flow;(null!=t[b]?c.getReserved(b):c.h[b])||(K.lastcommand=a,K.lastpara=K.para)};K.blankscene=function(){return A.boundaryon||0!=F.entitypos.length||"black"!=cc.currentskyboxname()?!1:!0};K.keysounds=function(){I.playsound("key"+fa["int"](1,13))};
K.beep=function(){K.supresstone?K.supresstone=!1:I.playsound("beep"+fa["int"](1,11))};K.nope=function(){I.playsound("nope")};var Z=function(){};m.Reflect=Z;Z.__name__=["Reflect"];Z.field=function(a,b){try{return a[b]}catch(c){return Qa.lastException=c,null}};Z.getProperty=function(a,b){var c;if(null==a)return null;var d;d=a.__properties__?c=a.__properties__["get_"+b]:!1;return d?a[c]():a[b]};Z.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+b]:!1;if(e)a[d](c);else a[b]=
c};Z.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};Z.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};Z.compare=function(a,b){return a==b?0:a>b?1:-1};Z.compareMethods=function(a,b){return a==b?!0:Z.isFunction(a)&&Z.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:!1:!1};Z.isEnumValue=function(a){return null!=a?null!=a.__enum__:!1};Z.deleteField=
function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};Z.makeVarArgs=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a(b)}};var T=function(){};m.Rules=T;T.__name__=["Rules"];T.resetrules=function(){T.position="random";T.rotation="random";T.movement=1;T.newobjects="add";T.gravitydirection=new C(0,0,0);T.defaultmovespeed=1};var X=function(){};m.SceneControl=X;X.__name__=["SceneControl"];X.run=function(a,b){K.para=b;K.run(a)};X.parse=
function(a){K.parse(a)};X.init=function(){X.requirements=new qa;var a=X.requirements,b=["model:banana","model:pineapple","model:pear","model:watermelon","model:apple"];null!=t.life?a.setReserved("life",b):a.h.life=b;a=X.requirements;b=[];null!=t.demoscene?a.setReserved("demoscene",b):a.h.demoscene=b;a=X.requirements;b=[];null!=t.platonic?a.setReserved("platonic",b):a.h.platonic=b;a=X.requirements;b=["sky:space","model:sun","model:earth","model:mars","model:moon"];null!=t.solarsystem?a.setReserved("solarsystem",
b):a.h.solarsystem=b;a=X.requirements;b=["model:cat","sky:humus/yokohama3"];null!=t.nowplaythis?a.setReserved("nowplaythis",b):a.h.nowplaythis=b;a=X.requirements;b=["model:cup","sky:heikoirrgang/darkstormy"];null!=t.cup?a.setReserved("cup",b):a.h.cup=b;a=X.requirements;b=["model:printer"];null!=t.printer?a.setReserved("printer",b):a.h.printer=b;a=X.requirements;b=["model:phone","sky:humus/park3"];null!=t.phone?a.setReserved("phone",b):a.h.phone=b;a=X.requirements;b=["model:milk","sky:humus/meadow"];
null!=t.milk?a.setReserved("milk",b):a.h.milk=b;a=X.requirements;b=["model:rockinghorse","sky:hipshot/violentdays"];null!=t.rockinghorse?a.setReserved("rockinghorse",b):a.h.rockinghorse=b;a=X.requirements;b=["model:book","sky:necros/hell"];null!=t.book?a.setReserved("book",b):a.h.book=b;a=X.requirements;b=[];null!=t.purgatory?a.setReserved("purgatory",b):a.h.purgatory=b;a=X.requirements;b=[];null!=t.polka?a.setReserved("polka",b):a.h.polka=b;a=X.requirements;b=["model:teapot","sky:hipshot/stormydays"];
null!=t.teapot?a.setReserved("teapot",b):a.h.teapot=b;a=X.requirements;b=["model:crate","sky:ame/ame_leather"];null!=t.crate?a.setReserved("crate",b):a.h.crate=b;a=X.requirements;b=[];null!=t.oldending?a.setReserved("oldending",b):a.h.oldending=b;a=X.requirements;b=["model:skull","sky:humus/nightpath"];null!=t.skelly?a.setReserved("skelly",b):a.h.skelly=b;a=X.requirements;b=[];null!=t.vapourwave?a.setReserved("vapourwave",b):a.h.vapourwave=b;a=X.requirements;b=[];null!=t.victory?a.setReserved("victory",
b):a.h.victory=b;a=X.requirements;b=[];null!=t.order?a.setReserved("order",b):a.h.order=b;a=X.requirements;b=[];null!=t.chaos?a.setReserved("chaos",b):a.h.chaos=b;a=X.requirements;b=["model:present","model:holly"];null!=t.christmas?a.setReserved("christmas",b):a.h.christmas=b};X.ready=function(a){var b=X.requirements;a=null!=t[a]?b.getReserved(a):b.h[a];for(var b=0,c=a.length;b<c;){var d=b++,e=ba.getroot(a[d],":"),d=ba.getbranch(a[d],":");if("model"==e){if(e=N.readymodels,null!=t[d]?!e.existsReserved(d):
!e.h.hasOwnProperty(d))return!1}else if("sky"==e&&(e=N.readysky,null!=t[d]?!e.existsReserved(d):!e.h.hasOwnProperty(d)))return!1}return!0};X.change=function(a){T.gridspacing=500;ha.snooze();switch(a){case "book":X.currentscene=a;T.newobjects="add";T.rotation="spin";X.run("changesky","necros/hell");X.parse("3d");X.parse("fire");T.position="center";for(var b=0;15>b;)b++,X.run("addmodel","book");break;case "chaos":X.currentscene=a;T.position="random";T.rotation="spin";X.topcol=7352139;X.bottomcol=na.BLACK;
X.run("changesky","blackwhitegradient");for(b=0;12>b;)b++,X.parse("wireframes"),X.parse("lines"),X.parse("lines"),X.parse("lines"),X.parse("lines");F.changeallpositions("rings",!0);ga.cameraspin=0;X.parse("vivid");X.parse("diamond");X.parse("bloom");X.parse("rays");X.parse("scan");X.parse("bright");break;case "christmas":X.currentscene=a;T.newobjects="add";T.rotation="spin";X.run("changesky","rainbow");for(b=0;30>b;)b++,X.parse("circle"),X.parse("holly"),X.parse("circle"),X.parse("present");for(var b=
0,c=K.entities.length;b<c;){var d=b++;K.entities[d].has(Bg)&&K.entities[d].get_entities_EntitySphere(Bg).set_colour(na.RED)}F.changeallpositions("lattice",!0);F.contract(!0);ga.cameraspin=0;X.parse("bloom");X.parse("photo");X.parse("snow");X.parse("3d");X.parse("diamond");break;case "crate":X.currentscene=a;X.run("changesky","ame/ame_leather");T.newobjects="add";T.position="center";T.rotation="none";X.parse("bloom");X.parse("gray");X.parse("border");for(b=0;125>b;)b++,X.run("addmodel","crate");F.changeallpositions("lattice",
!0);ga.cameraspin=0;break;case "cup":X.currentscene=a;T.rotation="spinslow";X.run("changesky","heikoirrgang/darkstormy");X.parse("rain");X.parse("border");T.position="center";X.run("addmodel","cup");y.__cast(S.view.get_camera().get_lens(),hd).set_fieldOfView(40);break;case "demoscene":X.currentscene=a;T.position="random";T.rotation="spin";X.topcol=na.WHITE;X.bottomcol=na.BLACK;X.run("changesky","blackwhitegradient");for(b=0;8>b;)b++,X.parse("spheres");X.run("changesky","black");X.parse("teleport");
F.changeallpositions("fabric",!0);F.contract(!0);X.parse("scanline");X.parse("mono");X.parse("mirror");X.parse("border");X.parse("out");X.parse("out");X.parse("out");break;case "life":X.currentscene=a;T.position="random";T.rotation="spin";X.run("changesky","white");X.parse("banana");for(b=0;6>b;)b++,X.parse("pineapple"),X.parse("pear");for(b=0;9>b;)b++,X.parse("watermelon"),X.parse("apple");F.changeallpositions("rings",!0);X.parse("vivid");break;case "milk":X.currentscene=a;T.position="grid";T.rotation=
"none";X.run("changesky","humus/meadow");X.parse("pollen");X.parse("colourful");X.parse("bloom");for(b=0;125>b;)b++,X.run("addmodel","milk");F.changeallpositions("grid",!0);break;case "nowplaythis":X.currentscene=a;T.position="random";T.rotation="spin";X.parse("city");X.parse("bloom");X.parse("reflect");X.parse("border");for(b=0;60>b;)b++,X.run("addmodel","cat");F.changeallpositions("lattice",!0);X.parse("scatter");if(N.readysound.exists("models/cat"))Sa.timer(1).onComplete(I.playsound,["models/cat"]);
break;case "oldending":X.currentscene=a;X.run("changesky","rainbow");T.newobjects="add";T.position="center";T.rotation="none";X.parse("3d");X.parse("box");X.parse("mono");X.parse("bright");X.parse("diamond");X.parse("border");for(b=0;125>b;)b++,X.parse("wireframe");F.changeallpositions("lattice",!0);ga.cameraspin=0;F.contract(!0);break;case "order":X.currentscene=a;T.position="random";T.rotation="spin";X.run("changesky","black");for(b=0;5>b;)b++,X.parse("wireframe");F.changeallpositions("grid",!0);
ga.cameraspin=0;X.parse("dust");X.parse("mono");X.parse("out");X.parse("bloom");break;case "phone":X.currentscene=a;T.rotation="spin";X.run("changesky","humus/park3");X.parse("border");X.parse("brighter");X.parse("camera");X.parse("rays");T.position="center";X.run("addmodel","phone");Dc.lastmodel.rotateTo(325,0,0);ga.controller.set_panAngle(150);N.readysong.exists("amb/phone")?L.play("amb/phone"):Fa.loadmusic("amb/phone");X.parse("snow");break;case "platonic":X.currentscene=a;T.position="random";
T.rotation="spin";X.run("changesky","white");for(b=0;125>b;)c=b++,-2==F.latticeorder[c].y?X.parse("icosahedron"):-1==F.latticeorder[c].y?X.parse("dodecahedron"):0==F.latticeorder[c].y?X.parse("octahedron"):1==F.latticeorder[c].y?X.parse("wireframe"):2==F.latticeorder[c].y&&X.parse("pyramid");X.parse("scanline");X.parse("sepia");X.parse("border");X.parse("cycle");F.changeallpositions("lattice",!0);break;case "polka":X.currentscene=a;T.newobjects="add";T.rotation="spin";X.run("changesky","white");for(b=
0;125>b;)b++,X.parse("circle");b=0;for(c=K.entities.length;b<c;)d=b++,K.entities[d].has(Bg)&&K.entities[d].get_entities_EntitySphere(Bg).set_colour(na.RED);F.changeallpositions("lattice",!0);F.contract(!0);ga.cameraspin=0;break;case "printer":X.currentscene=a;T.rotation="none";X.parse("smoke");X.parse("terry");T.gridspacing=1250;for(b=0;16>b;)b++,X.run("addmodel","printer");F.changeallpositions("lattice",!0);ga.controller.set_panAngle(150);break;case "purgatory":X.currentscene=a;T.newobjects="add";
T.rotation="spin";X.run("changesky","white");X.parse("bloom");X.parse("circles");X.parse("circles");X.parse("circles");X.parse("circles");break;case "rockinghorse":X.currentscene=a;T.rotation="spinslow";X.run("changesky","hipshot/violentdays");X.parse("snow");X.parse("camera");X.parse("scanline");X.parse("mirror");T.position="center";X.run("addmodel","rockinghorse");break;case "skelly":X.currentscene=a;X.run("changesky","humus/nightpath");T.newobjects="add";T.position="center";T.rotation="spinslow";
X.parse("rays");X.parse("vcr");X.parse("3d");X.parse("border");X.run("addmodel","skull");ga.cameraspin=0;break;case "solarsystem":X.currentscene=a;T.position="random";T.rotation="spin";X.run("changesky","space");X.parse("sun");X.parse("moon");X.parse("earth");X.parse("mars");X.parse("sun");X.parse("bloom");X.parse("rays");F.changeallpositions("line",!0);break;case "teapot":X.currentscene=a;T.newobjects="add";T.rotation="spin";X.run("changesky","hipshot/stormydays");X.parse("3d");X.parse("border");
T.position="center";X.run("addmodel","teapot");break;case "vapourwave":X.currentscene=a;T.position="random";T.rotation="spin";X.run("changesky","rainbow");for(b=0;12>b;)b++,X.parse("cubes");F.changeallpositions("wall",!0);X.run("changesky","ame/ame_purple");X.parse("photo");X.parse("3d");X.parse("static");X.parse("mirror");X.parse("scan");break;case "victory":X.currentscene=a;T.position="random";T.rotation="spin";X.run("changesky","black");X.run("say","you win!, 100");F.changeallpositions("tunnel",
!0);F.contract(!0);ga.cameraspin=0;X.parse("hexagon");X.parse("fire");X.parse("bloom");X.parse("vivid");break;default:X.currentscene="blackscreen",T.newobjects="add",T.position="random",T.rotation="random",L.stop()}ha.wakeup();K.lastcommand="changescene";K.lastpara=a};var h=function(){};m.Std=h;h.__name__=["Std"];h.string=function(a){return y.__string_rec(a,"")};h.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=da.cca(a,1)&&88!=da.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var $e=function(){this.b=
""};m.StringBuf=$e;$e.__name__=["StringBuf"];$e.prototype={b:null,__class__:$e};var Da=function(){};m.StringTools=Da;Da.__name__=["StringTools"];Da.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};Da.startsWith=function(a,b){return a.length>=b.length?da.substr(a,0,b.length)==b:!1};Da.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?da.substr(a,d-c,c)==b:!1};Da.isSpace=
function(a,b){var c=da.cca(a,b);return 8<c&&14>c?!0:32==c};Da.ltrim=function(a){for(var b=a.length,c=0;c<b&&Da.isSpace(a,c);)++c;return 0<c?da.substr(a,c,b-c):a};Da.rtrim=function(a){for(var b=a.length,c=0;c<b&&Da.isSpace(a,b-c-1);)++c;return 0<c?da.substr(a,0,b-c):a};Da.trim=function(a){return Da.ltrim(Da.rtrim(a))};Da.replace=function(a,b,c){return a.split(b).join(c)};Da.hex=function(a,b){for(var c="";c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4,0<a;);if(null!=b)for(;c.length<b;)c="0"+c;return c};
var Bb=function(){};m.Suggestion=Bb;Bb.__name__=["Suggestion"];Bb.init=function(){Bb.secretwords="football scissorses makeup gray grayscale color colorful chromaticaberration auto automatic thin thinner thiner skinny narrow narrower wide wider fat fatter short shorter tall taller long longer vvvvvv".split(" ");Bb.fullsuggestionlist=[];for(var a=0,b=K.wordlist.length;a<b;){var c=a++;Bb.fullsuggestionlist.push(K.wordlist[c])}Bb.taggedsuggestions=new qa;for(a=0;a<Bb.fullsuggestionlist.length;)Bb.badsuggestion(Bb.fullsuggestionlist[a])?
Bb.fullsuggestionlist.splice(a,1):Bb.duplicatesuggestion(a,Bb.fullsuggestionlist[a])?Bb.fullsuggestionlist.splice(a,1):++a;a=0;for(b=Bb.fullsuggestionlist.length;a<b;){var c=a++,d=Bb.taggedsuggestions,e=Bb.fullsuggestionlist[c],f=K.braincommand_tag,e=null!=t[e]?f.getReserved(e):f.h[e];if(null!=t[e]?d.existsReserved(e):d.h.hasOwnProperty(e))d=Bb.taggedsuggestions,e=Bb.fullsuggestionlist[c],f=K.braincommand_tag,e=null!=t[e]?f.getReserved(e):f.h[e],(null!=t[e]?d.getReserved(e):d.h[e]).push(Bb.fullsuggestionlist[c]);
else{var d=[],e=Bb.taggedsuggestions,f=Bb.fullsuggestionlist[c],k=K.braincommand_tag,f=null!=t[f]?k.getReserved(f):k.h[f];null!=t[f]?e.setReserved(f,d):e.h[f]=d;d.push(Bb.fullsuggestionlist[c])}}};Bb.duplicatesuggestion=function(a,b){for(var c=0;c<a;){var d=c++,e=Bb.fullsuggestionlist[d],f=K.braincommand,e=null!=t[e]?f.getReserved(e):f.h[e],f=K.braincommand;if(e==(null!=t[b]?f.getReserved(b):f.h[b])&&(d=Bb.fullsuggestionlist[d],e=K.brainparameters,d=null!=t[d]?e.getReserved(d):e.h[d],e=K.brainparameters,
d==(null!=t[b]?e.getReserved(b):e.h[b])))return!0}return!1};Bb.badsuggestion=function(a){return ba.isinstring(a,"-")||ba.isinstring(a,"bright")||ba.isinstring(a,"light")||ba.isinstring(a,"dark")||-1!=Bb.secretwords.indexOf(a)?!0:!1};Bb.weightedrand=function(a,b){for(var c=0,d=0,e=b.length;d<e;)var f=d++,c=c+b[f];c=fa["int"](0,c);d=0;for(e=a.length;d<e;){f=d++;if(c<b[f])return a[f];c-=b[f]}return a[a.length-1]};Bb.please=function(a){a=2>=K.entities.length?Bb.weightedrand(["secretscenes","places","models",
"shapes"],[10,100,100,100]):Bb.weightedrand("secretscenes clean actions places weather filters models shapes".split(" "),[10,20+Bb.resetcounter+(Math.min(K.entities.length/2,50)|0),100,100,30,100,100,100]);if("clean"==a)a=fa.pick(["tidy","reset"]);else{var b=Bb.taggedsuggestions;a=fa.pick(null!=t[a]?b.getReserved(a):b.h[a])}2>=K.entities.length&&("tidy"==a||"reset"==a)&&(a="stuff");Bb.resetcounter+=4;return a};var v=function(){};m.Textlayer=v;v.__name__=["Textlayer"];v.init=function(){v.font=ma.getFont("data/fonts/PCPaintNormalSmall.ttf");
v.width=S.gfxstage.stageWidth;v.height=S.gfxstage.stageHeight;I.fontscale=v.height/720;v.input_cursorglow=0;v.inputmaxlength=40;v.credits_attached=!1;v.creditsheadertext_tf=new Tb;v.creditsheadertext_tf.set_embedFonts(!0);v.creditsheadertext_format=new Ec(v.font.name,56*I.fontscale|0,na.WHITE);v.creditsheadertext_format.align=3;v.creditsheadertext_tf.set_defaultTextFormat(v.creditsheadertext_format);v.creditsheadertext_tf.set_selectable(!1);v.creditsheadertext_tf.set_autoSize(1);v.creditsheadertext_tf.set_text("constellation");
v.credits_textformat=new Ec(v.font.name,16*I.fontscale|0,13421772);v.credits_textfields=[];for(var a=0;32>a;){a++;var b=new Tb;b.set_embedFonts(!0);b.set_defaultTextFormat(v.credits_textformat);b.set_selectable(!1);b.set_autoSize(1);b.set_text("testing credits beep boop");v.credits_textfields.push(b)}v.creditsheadertext_format=new Ec(v.font.name,56*I.fontscale|0,na.WHITE);v.credits_textformat=new Ec(v.font.name,16*I.fontscale|0,13421772);v.creditsheadertext_tf.set_defaultTextFormat(v.creditsheadertext_format);
v.creditsheadertext_tf.set_x(v.width/2-v.creditsheadertext_tf.get_textWidth()/2);v.creditsheadertext_tf.set_y(.1*v.height);for(var a=v.creditsheadertext_tf.get_y()+1.25*v.creditsheadertext_tf.get_textHeight(),b=0,c=v.credits_textfields.length;b<c;){var d=b++;v.credits_textfields[d].set_defaultTextFormat(v.credits_textformat);v.credits_textfields[d].set_x(v.width/2-v.credits_textfields[d].get_textWidth()/2);v.credits_textfields[d].set_y(a);a+=1.25*v.credits_textfields[d].get_textHeight()}v.slowprint_textfields=
[];v.slowprint_textfields_inuse=[];v.slowprint_textfields_label=[];v.slowprint_textformats=[];v.slowprintlookup=new qa;v.questionmark_tf=new Tb;v.questionmark_tf.set_embedFonts(!0);v.questionmark_format=new Ec(v.font.name,32*I.fontscale|0,13421772);v.questionmark_format.align=3;v.questionmark_tf.set_defaultTextFormat(v.questionmark_format);v.questionmark_tf.set_selectable(!1);v.questionmark_tf.set_autoSize(1);v.questionmark_tf.set_text("?");v.questionmark_width=v.questionmark_tf.get_textWidth()|0;
v.questionmark_height=v.questionmark_tf.get_textHeight()|0;v.questionmark_tf.set_x(.98*v.width-v.questionmark_tf.get_textWidth());v.questionmark_tf.set_y(.03*v.height);I.mobilemode||S.gfxstage.addChild(v.questionmark_tf);v.centertext_tf=new Tb;v.centertext_tf.set_embedFonts(!0);v.centertext_format=I.mobilemode?v.height>v.width?new Ec(v.font.name,56*I.fontscale*.7|0,na.WHITE):new Ec(v.font.name,72.8*I.fontscale|0,na.WHITE):new Ec(v.font.name,56*I.fontscale|0,na.WHITE);v.centertext_format.align=3;v.centertext_tf.set_defaultTextFormat(v.centertext_format);
v.centertext_tf.set_selectable(!1);v.centertext_tf.set_autoSize(1);v.centertext_tf.set_text("");v.centertext_tf.set_x(v.width/2);v.centertext_tf.set_y(v.height/2);a=v.centertext_tf.get_text();v.centertext_tf.set_text("_");v.underscorewidth=v.centertext_tf.get_textWidth()/2;v.centertext_tf.set_text("X");v.centertext_height=v.centertext_tf.get_textHeight();v.centertext_tf.set_text(a);a=v.centertext_tf;a.set_y(a.get_y()-v.centertext_height/2);S.gfxstage.addChild(v.centertext_tf);v.notification_attached=
!1;v.notification_tf=new Tb;v.notification_format=new Ec(v.font.name,16*I.fontscale|0,13421772);v.notification_format.align=3;v.notification_tf.set_embedFonts(!0);v.notification_tf.set_defaultTextFormat(v.notification_format);v.notification_tf.set_selectable(!1);v.notification_tf.set_autoSize(1);v.notification_tf.set_text("");v.notification_tf.set_x(v.width/2-v.notification_tf.get_textWidth()/2);v.notification_tf.set_y(.02*v.height);v.autoplaytext_attached=!1;v.autoplaytext_tf=new Tb;v.autoplaytext_format=
new Ec(v.font.name,16*I.fontscale|0,13421772);v.autoplaytext_format.align=3;v.autoplaytext_tf.set_embedFonts(!0);v.autoplaytext_tf.set_defaultTextFormat(v.autoplaytext_format);v.autoplaytext_tf.set_selectable(!1);v.autoplaytext_tf.set_autoSize(1);v.autoplaytext_tf.set_text("autoplay mode - type anything to cancel");v.autoplaytext_tf.set_x(v.width/2-v.autoplaytext_tf.get_textWidth()/2);v.autoplaytext_tf.set_y(.96*v.height-v.autoplaytext_tf.get_textHeight());v.gametext_attached=!1;v.gametext_tf=new Tb;
v.gametext_format=new Ec(v.font.name,16*I.fontscale|0,16777215);v.gametext_format.align=3;v.gametext_tf.set_embedFonts(!0);v.gametext_tf.set_defaultTextFormat(v.autoplaytext_format);v.gametext_tf.set_selectable(!1);v.gametext_tf.set_autoSize(1);v.gametext_tf.set_text("X");v.textsize=v.gametext_tf.get_textWidth();v.gametext_tf.set_text("");v.gametext_tf.set_x(.02*v.width);v.gametext_tf.set_y(.02*v.height);v.helptext_attached=!1;v.helptext_tf=new Tb;v.helptext_format=new Ec(v.font.name,16*I.fontscale|
0,13421772);v.helptext_format.align=3;v.helptext_tf.set_embedFonts(!0);v.helptext_tf.set_defaultTextFormat(v.autoplaytext_format);v.helptext_tf.set_selectable(!1);v.helptext_tf.set_autoSize(1);v.helptext_tf.set_text("");v.helptext_tf.set_x(.95*v.width-v.helptext_tf.get_textWidth());v.helptext_tf.set_y(.02*v.height);v.arrowkeyhinttext_attached=!1;v.arrowkeyhinttext_tf=[];v.arrowkeyhinttext_tf.push(new Tb);v.arrowkeyhinttext_tf.push(new Tb);v.arrowkeyhinttext_format=new Ec(v.font.name,16*I.fontscale|
0,13421772);v.arrowkeyhinttext_format.align=3;v.arrowkeyhinttext_tf[0].set_embedFonts(!0);v.arrowkeyhinttext_tf[0].set_defaultTextFormat(v.arrowkeyhinttext_format);v.arrowkeyhinttext_tf[0].set_selectable(!1);v.arrowkeyhinttext_tf[0].set_autoSize(1);v.arrowkeyhinttext_tf[0].set_text("arrows keys or drag");a=v.width-4*I.fontscale*v.textsize*2.5;v.arrowkeyhinttext_tf[0].set_x(a-v.arrowkeyhinttext_tf[0].get_textWidth()/2);v.arrowkeyhinttext_tf[0].set_y(v.height-5-2.25*v.arrowkeyhinttext_tf[0].get_textHeight()-
.5*v.arrowkeyhinttext_tf[0].get_textHeight());v.arrowkeyhinttext_tf[1].set_embedFonts(!0);v.arrowkeyhinttext_tf[1].set_defaultTextFormat(v.arrowkeyhinttext_format);v.arrowkeyhinttext_tf[1].set_selectable(!1);v.arrowkeyhinttext_tf[1].set_autoSize(1);v.arrowkeyhinttext_tf[1].set_text("mouse to look");v.arrowkeyhinttext_tf[1].set_x(a-v.arrowkeyhinttext_tf[1].get_textWidth()/2);v.arrowkeyhinttext_tf[1].set_y(v.height-5-v.arrowkeyhinttext_tf[1].get_textHeight()-.5*v.arrowkeyhinttext_tf[0].get_textHeight());
v.createarrowkeysicons(v.arrowkeyhinttext_tf[0].get_y()-.75*v.arrowkeyhinttext_tf[0].get_textHeight());v.updatesizes(v.width,v.height);v.loadingbarstillattached=!0};v.createarrowkeysicons=function(a){v.arrowkeys=[];v.arrowkeys.push(v.makearrowkey("up"));v.arrowkeys.push(v.makearrowkey("down"));v.arrowkeys.push(v.makearrowkey("left"));v.arrowkeys.push(v.makearrowkey("right"));var b=4*I.fontscale*v.textsize,c=4*I.fontscale*v.textsize;v.arrowkeys[0].set_x(v.width-2*b-2*b/2);v.arrowkeys[0].set_y(a-3*
c+c/2);v.arrowkeys[1].set_x(v.width-2*b-2*b/2);v.arrowkeys[1].set_y(a-c);v.arrowkeys[2].set_x(v.width-3*b-3*b/2);v.arrowkeys[2].set_y(a-c);v.arrowkeys[3].set_x(v.width-b-b/2);v.arrowkeys[3].set_y(a-c)};v.fillrect=function(a,b,c,d,e,f){a.fillRect(new ya(b,c,d,e),-16777216+f)};v.drawrect=function(a,b,c,d,e,f,k){v.fillrect(a,c,d,b,f,k);v.fillrect(a,c+e-b,d,b,f,k);v.fillrect(a,c,d,e,b,k);v.fillrect(a,c,d+f-b,e,b,k)};v.filltri=function(a,b,c,d,e,f,k,p){var w=new re,h=new cb;w.get_graphics().clear();w.get_graphics().beginFill(-16777216+
p,1);w.get_graphics().lineTo(0,0);w.get_graphics().lineTo(d-b,e-c);w.get_graphics().lineTo(f-b,k-c);w.get_graphics().lineTo(0,0);w.get_graphics().endFill();h.identity();h.translate(b,c);a.draw(w,h)};v.makearrowkey=function(a){var b=4*I.fontscale*v.textsize|0,c=4*I.fontscale*v.textsize|0,d=new Ha(b,c,!0,0);v.drawrect(d,2,0,0,b,c,13421772);var e=b/2|0,f=c/2|0;"up"==a?(v.filltri(d,e-.3*b,f,e,f-.3*c,e+.3*b,f,na.WHITE),v.fillrect(d,e-.1*b|0,f-.1*c|0,.2*b|0,.4*c|0,na.WHITE)):"down"==a?(v.filltri(d,e-.3*
b,f,e,f+.3*c,e+.3*b,f,na.WHITE),v.fillrect(d,e-.1*b|0,f-.3*c|0,.2*b|0,.4*c|0,na.WHITE)):"left"==a?(v.filltri(d,e,f-.3*c,e-.3*b,f,e,f+.3*b,na.WHITE),v.fillrect(d,e-.1*b|0,f-.1*c|0,.4*b|0,.2*c|0,na.WHITE)):"right"==a&&(v.filltri(d,e,f-.3*c,e+.3*b,f,e,f+.3*b,na.WHITE),v.fillrect(d,e-.3*b|0,f-.1*c|0,.4*b|0,.2*c|0,na.WHITE));a=new Id(d);a.set_cacheAsBitmap(!0);return a};v.updatesizes=function(a,b){if(a!=v.width||b!=v.height){v.width=a;v.height=b;I.fontscale=v.height/720;v.questionmark_format.size=32*I.fontscale|
0;v.questionmark_tf.set_defaultTextFormat(v.questionmark_format);v.questionmark_width=v.questionmark_tf.get_textWidth()|0;v.questionmark_height=v.questionmark_tf.get_textHeight()|0;v.questionmark_tf.set_x(.98*v.width-v.questionmark_tf.get_textWidth());v.questionmark_tf.set_y(.03*v.height);v.centertext_format.size=I.mobilemode?v.height>v.width?56*I.fontscale*.7|0:72.8*I.fontscale|0:56*I.fontscale|0;v.centertext_tf.set_defaultTextFormat(v.centertext_format);v.centertext_tf.set_x(v.width/2);v.centertext_tf.set_y(v.height/
2);var c=v.centertext_tf.get_text();v.centertext_tf.set_text("_");v.underscorewidth=v.centertext_tf.get_textWidth()/2;v.centertext_tf.set_text("X");v.centertext_height=v.centertext_tf.get_textHeight();v.centertext_tf.set_text(c);c=v.centertext_tf;c.set_y(c.get_y()-v.centertext_height/2);v.notification_format.size=16*I.fontscale|0;v.notification_tf.set_defaultTextFormat(v.notification_format);v.notification_tf.set_x(v.width/2-v.notification_tf.get_textWidth()/2);v.notification_tf.set_y(.02*v.height);
v.autoplaytext_format.size=16*I.fontscale|0;v.autoplaytext_tf.set_defaultTextFormat(v.autoplaytext_format);v.autoplaytext_tf.set_x(v.width/2-v.autoplaytext_tf.get_textWidth()/2);v.autoplaytext_tf.set_y(.96*v.height-v.autoplaytext_tf.get_textHeight());v.gametext_format.size=16*I.fontscale|0;v.gametext_tf.set_defaultTextFormat(v.gametext_format);c=v.gametext_tf.get_text();v.gametext_tf.set_text("X");v.textsize=v.gametext_tf.get_textWidth();v.gametext_tf.set_text(c);v.gametext_tf.set_x(.02*v.width);
v.gametext_tf.set_y(.02*v.height);v.helptext_format.size=16*I.fontscale|0;v.helptext_tf.set_defaultTextFormat(v.helptext_format);v.helptext_tf.set_x(.95*v.width-v.helptext_tf.get_textWidth());v.helptext_tf.set_y(.02*v.height);v.creditsheadertext_format=new Ec(v.font.name,56*I.fontscale|0,na.WHITE);v.credits_textformat=new Ec(v.font.name,16*I.fontscale|0,13421772);v.creditsheadertext_tf.set_defaultTextFormat(v.creditsheadertext_format);v.creditsheadertext_tf.set_x(v.width/2-v.creditsheadertext_tf.get_textWidth()/
2);v.creditsheadertext_tf.set_y(.1*v.height);for(var c=v.creditsheadertext_tf.get_y()+1.25*v.creditsheadertext_tf.get_textHeight(),d=0;16>d;){var e=d++;v.credits_textfields[e].set_defaultTextFormat(v.credits_textformat);v.credits_textfields[e].set_x(v.width/2-v.credits_textfields[e].get_textWidth()/2);v.credits_textfields[e].set_y(c);c+=1.25*v.credits_textfields[e].get_textHeight()}c=v.width-4*I.fontscale*v.textsize*2.5;v.arrowkeyhinttext_format=new Ec(v.font.name,16*I.fontscale|0,13421772);v.arrowkeyhinttext_tf[0].set_defaultTextFormat(v.arrowkeyhinttext_format);
v.arrowkeyhinttext_tf[1].set_defaultTextFormat(v.arrowkeyhinttext_format);v.arrowkeyhinttext_tf[0].set_x(c-v.arrowkeyhinttext_tf[0].get_textWidth()/2);v.arrowkeyhinttext_tf[0].set_y(v.height-5-2.25*v.arrowkeyhinttext_tf[0].get_textHeight()-.5*v.arrowkeyhinttext_tf[0].get_textHeight());v.arrowkeyhinttext_tf[1].set_x(c-v.arrowkeyhinttext_tf[1].get_textWidth()/2);v.arrowkeyhinttext_tf[1].set_y(v.height-5-v.arrowkeyhinttext_tf[1].get_textHeight()-.5*v.arrowkeyhinttext_tf[0].get_textHeight());c=!1;v.arrowkeyhinttext_attached&&
(v.hidearrowkeyhint(),c=!0);v.createarrowkeysicons(v.arrowkeyhinttext_tf[0].get_y()-.75*v.arrowkeyhinttext_tf[0].get_textHeight());c&&v.showarrowkeyhint();v.titlescreen_attached&&(v.titlescreentext_format[0]=new Ec(v.font.name,56*I.fontscale|0,16777215),v.titlescreentext_tf[0].set_defaultTextFormat(v.titlescreentext_format[0]),v.titlescreentext_tf[0].set_x(v.width/2-v.titlescreentext_tf[0].get_textWidth()/2),v.titlescreentext_tf[0].set_y(v.height/2-v.titlescreentext_tf[0].get_textHeight()/2),v.titlescreentext_format[1]=
new Ec(v.font.name,16*I.fontscale|0,13421772),v.titlescreentext_tf[1].set_defaultTextFormat(v.titlescreentext_format[1]),v.titlescreentext_tf[1].set_x(v.width/2-v.titlescreentext_tf[1].get_textWidth()/2),v.titlescreentext_tf[1].set_y(v.height/2-v.titlescreentext_tf[1].get_textHeight()/2+.75*v.titlescreentext_tf[0].get_textHeight()),v.titlescreentext_format[2]=new Ec(v.font.name,16*I.fontscale|0,13421772),v.titlescreentext_tf[2].set_defaultTextFormat(v.titlescreentext_format[2]),v.titlescreentext_tf[2].set_x(v.width/
2-v.titlescreentext_tf[2].get_textWidth()/2),v.titlescreentext_tf[2].set_y(v.height-2*v.titlescreentext_tf[2].get_textHeight()),v.titlescreenbox[0].set_x(v.width/2-v.width/6),v.titlescreenbox[0].set_y(v.height-3*v.titlescreentext_tf[2].get_textHeight()),v.titlescreenbox[0].set_width(v.width/6*2),v.titlescreenbox[0].set_height(v.titlescreentext_tf[2].get_textHeight()/2),v.titlescreenbox[1].set_x(v.width/2-v.width/6),v.titlescreenbox[1].set_y(v.height-3*v.titlescreentext_tf[2].get_textHeight()),v.titlescreenbox[1].set_width(v.width/
6*2*N.loadingbar|0),v.titlescreenbox[1].set_height(v.titlescreentext_tf[2].get_textHeight()/2))}};v.autoplaytext=function(a){a?v.autoplaytext_attached||(S.gfxstage.addChild(v.autoplaytext_tf),v.autoplaytext_attached=!0):v.autoplaytext_attached&&(S.gfxstage.removeChild(v.autoplaytext_tf),v.autoplaytext_attached=!1)};v.notification=function(a,b){""==a?v.notification_attached&&(S.gfxstage.removeChild(v.notification_tf),v.notification_attached=!1,v.notification_tf.set_text("")):(v.notification_attached||
(S.gfxstage.addChild(v.notification_tf),v.notification_attached=!0),v.notification_tf.set_text(a),v.notification_tf.set_x(v.width/2-v.notification_tf.get_textWidth()/2),v.notification_tf.set_textColor(b))};v.gametext=function(a){-1==a?v.gametext_attached&&(S.gfxstage.removeChild(v.gametext_tf),v.gametext_attached=!1):(v.gametext_tf.set_text("Score: "+a),v.gametext_attached||(S.gfxstage.addChild(v.gametext_tf),v.gametext_attached=!0))};v.showhelptext=function(a){v.helptext_tf.set_text(a);v.helptext_tf.set_x(v.width-
5-v.helptext_tf.get_textWidth());v.helptext_attached||(S.gfxstage.addChild(v.helptext_tf),v.helptext_attached=!0)};v.hidehelptext=function(){v.helptext_tf.set_text("");v.helptext_attached&&(S.gfxstage.removeChild(v.helptext_tf),v.helptext_attached=!1)};v.showarrowkeyhint=function(){v.arrowkeyhinttext_attached||(S.gfxstage.addChild(v.arrowkeys[0]),S.gfxstage.addChild(v.arrowkeys[1]),S.gfxstage.addChild(v.arrowkeys[2]),S.gfxstage.addChild(v.arrowkeys[3]),S.gfxstage.addChild(v.arrowkeyhinttext_tf[0]),
S.gfxstage.addChild(v.arrowkeyhinttext_tf[1]),v.arrowkeyhinttext_attached=!0)};v.hidearrowkeyhint=function(){v.arrowkeyhinttext_attached&&(S.gfxstage.removeChild(v.arrowkeys[0]),S.gfxstage.removeChild(v.arrowkeys[1]),S.gfxstage.removeChild(v.arrowkeys[2]),S.gfxstage.removeChild(v.arrowkeys[3]),S.gfxstage.removeChild(v.arrowkeyhinttext_tf[0]),S.gfxstage.removeChild(v.arrowkeyhinttext_tf[1]),v.arrowkeyhinttext_attached=!1)};v.showcredits=function(){if(!v.credits_attached){var a=[];a.push("by terry cavanagh / made for now play this 2017");
a.push("");a.push("constellation was pieced together from lots of royalty free and creative commons assets!");a.push("to prevent spoilers, this page only lists things in the current scene");a.push("to see a list of everything, go to justtypestuff.com/credits/");a.push("");"safehaven"==L.currentsong&&a.push('music is "safehaven" by stian stark - http://stianstark.com/');"amb/phone"==L.currentsong&&a.push("telephone sound effect by justine angus, soundsnap.com/user-name/justine_angus");a.push("typing sounds are by sofa sound, soundsnap.com/user/30");
a.push("");var b=L.currentbackgroundsong,c=I.creditsdata;if(null!=t[b]?c.existsReserved(b):c.h.hasOwnProperty(b))b=L.currentbackgroundsong,c=I.creditsdata,a.push("background ambience is "+(null!=t[b]?c.getReserved(b):c.h[b]).toLowerCase()),a.push("");for(var b=[],c=0,d=K.entities;c<d.length;){var e=d[c];++c;e.has(Nf)&&(e=e.get_entities_EntityModel(Nf).modelname,-1==b.indexOf(e)&&b.push(e))}c=cc.currentskyboxname();d=I.creditsdata;if(null!=t[c]?d.existsReserved(c):d.h.hasOwnProperty(c))d=I.creditsdata,
a.push("the current skybox is "+(null!=t[c]?d.getReserved(c):d.h[c]).toLowerCase()),ba.isinstring(c,"humus")?a.push("licensed under a Creative Commons Attribution 3.0 Unported License"):ba.isinstring(c,"ame_")||ba.isinstring(c,"awup")?a.push("licensed under GNU General Public License version 2"):(ba.isinstring(c,"darkstormy")||ba.isinstring(c,"skiingpenguins"))&&a.push("licensed under a Creative Commons Attribution-ShareAlike 3.0 Unported License"),a.push("");c=0;for(d=b.length;c<d;){var e=c++,f=
I.creditsdata,k=b[e];a.push('"'+b[e]+'" model is by '+(null!=t[k]?f.getReserved(k):f.h[k]).toLowerCase())}0<b.length&&a.push("");b=0;for(c=v.credits_textfields.length;b<c;)d=b++,d>=a.length?v.credits_textfields[d].set_text(""):v.credits_textfields[d].set_text(a[d].toLowerCase());S.gfxstage.addChild(v.creditsheadertext_tf);a=0;for(b=v.credits_textfields.length;a<b;)c=a++,v.credits_textfields[c].set_x(v.width/2-v.credits_textfields[c].get_textWidth()/2),S.gfxstage.addChild(v.credits_textfields[c]);
v.credits_attached=!0}};v.hidecredits=function(){if(v.credits_attached){S.gfxstage.removeChild(v.creditsheadertext_tf);for(var a=0,b=v.credits_textfields.length;a<b;){var c=a++;S.gfxstage.removeChild(v.credits_textfields[c])}v.credits_attached=!1}};v.resetinput=function(a){v.inputtext=a};v.input_checkfortext=function(){v.inputtext=J.keybuffer.toLowerCase()};v.input=function(){v.input_responsecol=13421772;v.input_response=v.inputtext.toLowerCase();v.input_checkfortext();return J.justpressed(B.ENTER)?
!0:!1};v.getinput=function(){var a=v.inputtext;v.lastentry=v.inputtext;v.inputtext="";J.keybuffer="";return a};v.centertext=function(a,b){v.centertext_tf.set_text("");v.centertext_tf.set_x(v.width/2);v.centertext_tf.set_text("_");var c=v.centertext_tf;c.set_x(c.get_x()-v.centertext_tf.get_textWidth()/4);v.centertext_tf.set_text(a);c=v.centertext_tf;c.set_x(c.get_x()-v.centertext_tf.get_textWidth()/2);v.centertext_tf.set_textColor(b);c=!0;if(J.pressed(B.TAB)||J.pressed(B.SHIFT))c=!1;400<I.currenttime%
800&&(c=!1);c&&(c=v.centertext_tf,c.set_text(ka.plus(c.get_text(),"_")))};v.slowprint=function(a,b,c,d,e){if(!(-5>c)){var f=v.slowprintlookup,k=(c|0)+"_"+d;(null!=t[k]?f.existsReserved(k):f.h.hasOwnProperty(k))?(b=v.slowprintlookup,c=(c|0)+"_"+d,v.slowprint_textfields_inuse[null!=t[c]?b.getReserved(c):b.h[c]]=1):(f=new Tb,a=new Ec(v.font.name,8*a|0,e),a.align=3,f.set_embedFonts(!0),f.set_defaultTextFormat(a),f.set_selectable(!1),f.set_autoSize(1),f.set_text(d),f.set_x(b),f.set_y(c),S.gfxstage.addChild(f),
v.slowprint_textfields.push(f),v.slowprint_textformats.push(a),v.slowprint_textfields_inuse.push(1),v.slowprint_textfields_label.push((c|0)+"_"+d),c=v.slowprint_textfields_label[v.slowprint_textfields_label.length-1],d=v.slowprint_textfields.length-1,b=v.slowprintlookup,null!=t[c]?b.setReserved(c,d):b.h[c]=d)}};v.slowprintcleanup=function(){for(var a=0,b=v.slowprint_textfields_inuse.length;a<b;){var c=a++;0==v.slowprint_textfields_inuse[c]&&(S.gfxstage.removeChild(v.slowprint_textfields[c]),v.slowprint_textfields_inuse[c]=
-1,v.slowprintlookup.remove(v.slowprint_textfields_label[c]))}a=v.slowprint_textfields_inuse.length-1;if(0<a)for(;0<a&&-1==v.slowprint_textfields_inuse[a];)v.slowprint_textfields.pop(),v.slowprint_textfields_inuse.pop(),v.slowprint_textfields_label.pop(),v.slowprint_textformats.pop(),--a;a=0;for(b=v.slowprint_textfields_inuse.length;a<b;)c=a++,1==v.slowprint_textfields_inuse[c]&&(v.slowprint_textfields_inuse[c]=0)};v.updatetitlescreen=function(a,b,c,d){};var kb=m.ValueType={__ename__:["ValueType"],
__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};kb.TNull=["TNull",0];kb.TNull.toString=U;kb.TNull.__enum__=kb;kb.TInt=["TInt",1];kb.TInt.toString=U;kb.TInt.__enum__=kb;kb.TFloat=["TFloat",2];kb.TFloat.toString=U;kb.TFloat.__enum__=kb;kb.TBool=["TBool",3];kb.TBool.toString=U;kb.TBool.__enum__=kb;kb.TObject=["TObject",4];kb.TObject.toString=U;kb.TObject.__enum__=kb;kb.TFunction=["TFunction",5];kb.TFunction.toString=U;kb.TFunction.__enum__=kb;kb.TClass=function(a){a=
["TClass",6,a];a.__enum__=kb;a.toString=U;return a};kb.TEnum=function(a){a=["TEnum",7,a];a.__enum__=kb;a.toString=U;return a};kb.TUnknown=["TUnknown",8];kb.TUnknown.toString=U;kb.TUnknown.__enum__=kb;kb.__empty_constructs__=[kb.TNull,kb.TInt,kb.TFloat,kb.TBool,kb.TObject,kb.TFunction,kb.TUnknown];var La=function(){};m.Type=La;La.__name__=["Type"];La.getSuperClass=function(a){return a.__super__};La.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};La.getEnumName=function(a){return a.__ename__.join(".")};
La.resolveClass=function(a){a=m[a];return null!=a&&a.__name__?a:null};La.resolveEnum=function(a){a=m[a];return null!=a&&a.__ename__?a:null};La.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],
b[11],b[12],b[13]);default:throw new H("Too many arguments");}};La.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};La.createEnum=function(a,b,c){var d=Z.field(a,b);if(null==d)throw new H("No such constructor "+b);if(Z.isFunction(d)){if(null==c)throw new H("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new H("Constructor "+b+" does not need parameters");return d};La.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);
da.remove(b,"__class__");da.remove(b,"__properties__");return b};La["typeof"]=function(a){switch(typeof a){case "boolean":return kb.TBool;case "function":return a.__name__||a.__ename__?kb.TObject:kb.TFunction;case "number":return Math.ceil(a)==a%2147483648?kb.TInt:kb.TFloat;case "object":if(null==a)return kb.TNull;var b=a.__enum__;if(null!=b)return kb.TEnum(b);a=y.getClass(a);return null!=a?kb.TClass(a):kb.TObject;case "string":return kb.TClass(String);case "undefined":return kb.TNull;default:return kb.TUnknown}};
var Q={};m["_UInt.UInt_Impl_"]=Q;Q.__name__=["_UInt","UInt_Impl_"];Q.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};Q.gte=function(a,b){var c=0>a;return c!=0>b?c:a>=b};Q.toFloat=function(a){return 0>a?4294967296+a:a+0};var ua=function(a){this.nodeType=a;this.children=[];this.attributeMap=new qa};m.Xml=ua;ua.__name__=["Xml"];ua.parse=function(a){return dh.parse(a)};ua.createElement=function(a){var b=new ua(ua.Element);if(b.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+
b.nodeType);b.nodeName=a;return b};ua.createPCData=function(a){var b=new ua(ua.PCData);if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};ua.createCData=function(a){var b=new ua(ua.CData);if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};ua.createComment=function(a){var b=new ua(ua.Comment);if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};ua.createDocType=function(a){var b=new ua(ua.DocType);if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};ua.createProcessingInstruction=function(a){var b=new ua(ua.ProcessingInstruction);if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};ua.createDocument=function(){return new ua(ua.Document)};ua.prototype={nodeType:null,
nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(a){if(this.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=t[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=t[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+
this.nodeType);var b=this.attributeMap;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},elements:function(){if(this.nodeType!=ua.Document&&this.nodeType!=ua.Element)throw new H("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=[],b=0,c=this.children;b<c.length;){var d=c[b];++b;d.nodeType==ua.Element&&a.push(d)}return da.iter(a)},elementsNamed:function(a){if(this.nodeType!=ua.Document&&this.nodeType!=ua.Element)throw new H("Bad node type, expected Element or Document but found "+
this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var e=d[c];++c;var f;if(e.nodeType==ua.Element){if(e.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+e.nodeType);f=e.nodeName==a}else f=!1;f&&b.push(e)}return da.iter(b)},firstElement:function(){if(this.nodeType!=ua.Document&&this.nodeType!=ua.Element)throw new H("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==ua.Element)return c}return null},
addChild:function(a){if(this.nodeType!=ua.Document&&this.nodeType!=ua.Element)throw new H("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=ua.Document&&this.nodeType!=ua.Element)throw new H("Bad node type, expected Element or Document but found "+this.nodeType);return da.remove(this.children,a)?(a.parent=null,!0):!1},__class__:ua};var Em=function(){};m["away3d.Away3D"]=
Em;Em.__name__=["away3d","Away3D"];var Ka=function(a){null==a&&(a="null");this._originalName=this._name=a;this.updateFullPath();za.call(this)};m["away3d.library.assets.NamedAssetBase"]=Ka;Ka.__name__=["away3d","library","assets","NamedAssetBase"];Ka.__super__=za;Ka.prototype=z(za.prototype,{_originalName:null,_namespace:null,_name:null,_id:null,_full_path:null,get_originalName:function(){return this._originalName},get_id:function(){return this._id},set_id:function(a){return this._id=a},get_name:function(){return this._name},
set_name:function(a){var b=this._name;this._name=a;null==this._name&&(this._name="null");this.updateFullPath();this.hasEventListener("assetRename")&&this.dispatchEvent(new Wb("assetRename",y.__cast(this,bd),b));return a},get_assetNamespace:function(){return this._namespace},get_assetFullPath:function(){return this._full_path},assetPathEquals:function(a,b){return this._name==a?null!=b?this._namespace==b:!0:!1},resetAssetPath:function(a,b,c){null==c&&(c=!0);this._name=null!=a?a:"null";this._namespace=
null!=b?b:"default";c&&(this._originalName=this._name);this.updateFullPath()},updateFullPath:function(){this._full_path=[this._namespace,this._name]},__class__:Ka,__properties__:{get_assetFullPath:"get_assetFullPath",get_assetNamespace:"get_assetNamespace",set_name:"set_name",get_name:"get_name",set_id:"set_id",get_id:"get_id",get_originalName:"get_originalName"}});var bd=function(){};m["away3d.library.assets.IAsset"]=bd;bd.__name__=["away3d","library","assets","IAsset"];bd.__interfaces__=[ck];bd.prototype=
{get_name:null,set_name:null,get_id:null,set_id:null,get_assetNamespace:null,get_assetType:null,get_assetFullPath:null,assetPathEquals:null,resetAssetPath:null,dispose:null,__class__:bd,__properties__:{get_assetFullPath:"get_assetFullPath",get_assetType:"get_assetType",get_assetNamespace:"get_assetNamespace",set_id:"set_id",get_id:"get_id",set_name:"set_name",get_name:"get_name"}};var Jd=function(){this._animationDictionary=new qa;this._animationNames=x.toObjectVector(null);this._animations=x.toObjectVector(null);
Ka.call(this)};m["away3d.animators.AnimationSetBase"]=Jd;Jd.__name__=["away3d","animators","AnimationSetBase"];Jd.__interfaces__=[bd];Jd.__super__=Ka;Jd.prototype=z(Ka.prototype,{_usesCPU:null,_animations:null,_animationNames:null,_animationDictionary:null,findTempReg:function(a,b){for(var c=0,d;;){d="vt"+c;if(-1==a.indexOf(d,0)&&b!=d)return d;++c}},get_usesCPU:function(){return this._usesCPU},resetGPUCompatibility:function(){this._usesCPU=!1},cancelGPUCompatibility:function(){this._usesCPU=!0},get_assetType:function(){return"animationSet"},
get_animations:function(){return this._animations},get_animationNames:function(){return this._animationNames},hasAnimation:function(a){var b=this._animationDictionary;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},getAnimation:function(a){var b=this._animationDictionary;return null!=t[a]?b.getReserved(a):b.h[a]},addAnimation:function(a){var b=this._animationDictionary,c=a.get_name();if(null!=t[c]?b.existsReserved(c):b.h.hasOwnProperty(c))throw new H(new Fm("root node name '"+a.get_name()+
"' already exists in the set"));b=this._animationDictionary;c=a.get_name();null!=t[c]?b.setReserved(c,a):b.h[c]=a;this._animations.push(a);this._animationNames.push(a.get_name())},dispose:function(){},__class__:Jd,__properties__:z(Ka.prototype.__properties__,{get_animationNames:"get_animationNames",get_animations:"get_animations",get_assetType:"get_assetType",get_usesCPU:"get_usesCPU"})});var he=function(a){this.updatePosition=!0;this._animationStates=new Hb;this._absoluteTime=0;this._owners=x.toObjectVector(null);
this._playbackSpeed=1;this._time=0;this._autoUpdate=!0;this._broadcaster=new Fb;this._animationSet=a;Ka.call(this)};m["away3d.animators.AnimatorBase"]=he;he.__name__=["away3d","animators","AnimatorBase"];he.__interfaces__=[bd];he.__super__=Ka;he.prototype=z(Ka.prototype,{_broadcaster:null,_isPlaying:null,_autoUpdate:null,_startEvent:null,_stopEvent:null,_cycleEvent:null,_time:null,_playbackSpeed:null,_animationSet:null,_owners:null,_activeNode:null,_activeState:null,_activeAnimationName:null,_absoluteTime:null,
_animationStates:null,updatePosition:null,getAnimationState:function(a){var b=a.get_stateClass();null==this._animationStates.h.__keys__[a.__id__]&&this._animationStates.set(a,y.__cast(La.createInstance(b,[this,a]),af));return this._animationStates.h[a.__id__]},getAnimationStateByName:function(a){return this.getAnimationState(this._animationSet.getAnimation(a))},get_absoluteTime:function(){return this._absoluteTime},get_animationSet:function(){return this._animationSet},get_activeState:function(){return this._activeState},
get_activeAnimation:function(){return this._animationSet.getAnimation(this._activeAnimationName)},get_activeAnimationName:function(){return this._activeAnimationName},get_autoUpdate:function(){return this._autoUpdate},set_autoUpdate:function(a){if(this._autoUpdate==a)return a;(this._autoUpdate=a)?this.start():this.stop();return a},get_time:function(){return this._time},set_time:function(a){if(this._time==a)return a;this.update(a);return a},phase:function(a){this._activeState.phase(a)},get_playbackSpeed:function(){return this._playbackSpeed},
set_playbackSpeed:function(a){return this._playbackSpeed=a},start:function(){!this._isPlaying&&this._autoUpdate&&(this._time=this._absoluteTime=xa.getTimer(),this._isPlaying=!0,this._broadcaster.hasEventListener("enterFrame")||this._broadcaster.addEventListener("enterFrame",u(this,this.onEnterFrame)),this.hasEventListener("start")&&(null==this._startEvent&&(this._startEvent=new Of("start",this)),this.dispatchEvent(this._startEvent)))},stop:function(){this._isPlaying&&(this._isPlaying=!1,this._broadcaster.hasEventListener("enterFrame")&&
this._broadcaster.removeEventListener("enterFrame",u(this,this.onEnterFrame)),this.hasEventListener("stop")&&(null==this._stopEvent&&(this._startEvent=this._stopEvent=new Of("stop",this)),this.dispatchEvent(this._stopEvent)))},update:function(a){var b=(a-this._time)*this.get_playbackSpeed()|0;this.updateDeltaTime(b);this._time=a},reset:function(a,b){null==b&&(b=0);this.getAnimationState(this._animationSet.getAnimation(a)).offset(b+this._absoluteTime)},addOwner:function(a){this._owners.push(a)},removeOwner:function(a){this._owners.splice(this._owners.indexOf(a,
0),1)},updateDeltaTime:function(a){this._absoluteTime+=a;this._activeState.update(this._absoluteTime);this.updatePosition&&this.applyPositionDelta()},onEnterFrame:function(a){this.update(xa.getTimer())},applyPositionDelta:function(){var a=this._activeState.get_positionDelta(),b=a.get_length(),c;if(0<b){c=this._owners.get_length();for(var d=0;d<c;){var e=d++;this._owners.get(e).translateLocal(a,b)}}},dispatchCycleEvent:function(){this.hasEventListener("cycle_complete")&&(null==this._cycleEvent&&(this._cycleEvent=
new Of("cycle_complete",this)),this.dispatchEvent(this._cycleEvent))},dispose:function(){},get_assetType:function(){return"animator"},__class__:he,__properties__:z(Ka.prototype.__properties__,{get_assetType:"get_assetType",set_playbackSpeed:"set_playbackSpeed",get_playbackSpeed:"get_playbackSpeed",set_time:"set_time",get_time:"get_time",set_autoUpdate:"set_autoUpdate",get_autoUpdate:"get_autoUpdate",get_activeAnimationName:"get_activeAnimationName",get_activeAnimation:"get_activeAnimation",get_activeState:"get_activeState",
get_animationSet:"get_animationSet",get_absoluteTime:"get_absoluteTime"})});var hk=function(){};m["away3d.animators.IAnimationSet"]=hk;hk.__name__=["away3d","animators","IAnimationSet"];hk.prototype={get_usesCPU:null,hasAnimation:null,getAnimation:null,resetGPUCompatibility:null,cancelGPUCompatibility:null,getAGALVertexCode:null,getAGALFragmentCode:null,getAGALUVCode:null,doneAGALCode:null,activate:null,deactivate:null,__class__:hk,__properties__:{get_usesCPU:"get_usesCPU"}};var ik=function(){};m["away3d.animators.IAnimator"]=
ik;ik.__name__=["away3d","animators","IAnimator"];ik.prototype={get_animationSet:null,setRenderState:null,testGPUCompatibility:null,addOwner:null,removeOwner:null,getAnimationState:null,getAnimationStateByName:null,clone:null,dispose:null,__class__:ik,__properties__:{get_animationSet:"get_animationSet"}};var nf=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);null==a&&(a=!1);this._totalLenOfOneVertex=0;this._localStaticNodes=x.toObjectVector(null);this._localDynamicNodes=x.toObjectVector(null);this._particleNodes=
x.toObjectVector(null);this._animationSubGeometries=new Hb;Jd.call(this);this.addAnimation(this._timeNode=new Gi(a,b,c))};m["away3d.animators.ParticleAnimationSet"]=nf;nf.__name__=["away3d","animators","ParticleAnimationSet"];nf.__interfaces__=[hk];nf.__super__=Jd;nf.prototype=z(Jd.prototype,{_animationRegisterCache:null,_timeNode:null,_animationSubGeometries:null,_particleNodes:null,_localDynamicNodes:null,_localStaticNodes:null,_totalLenOfOneVertex:null,hasUVNode:null,needVelocity:null,hasBillboard:null,
hasColorMulNode:null,hasColorAddNode:null,initParticleFunc:null,get_particleNodes:function(){return this._particleNodes},addAnimation:function(a){var b,c=y.__cast(a,ec);c.processAnimationSetting(this);1==c.get_mode()?(c.dataOffset=this._totalLenOfOneVertex,this._totalLenOfOneVertex+=c.get_dataLength(),this._localStaticNodes.push(c)):2==c.get_mode()&&this._localDynamicNodes.push(c);for(b=this._particleNodes.get_length()-1;0<=b&&!(this._particleNodes.get(b).get_priority()<=c.get_priority());)--b;this._particleNodes.insertAt(b+
1,c);Jd.prototype.addAnimation.call(this,a)},activate:function(a,b){this._animationRegisterCache=b.animationRegisterCache},deactivate:function(a,b){if(null!=this._animationRegisterCache)for(var c=a.get_context3D(),d=this._animationRegisterCache.get_vertexAttributesOffset(),e=this._animationRegisterCache.get_numUsedStreams();d<e;){var f=d++;c.setVertexBufferAt(f,null)}},getAGALVertexCode:function(a,b,c,d){this._animationRegisterCache=null!=a.animationRegisterCache?a.animationRegisterCache:a.animationRegisterCache=
new Gm(d);this._animationRegisterCache.set_vertexConstantOffset(a.get_numUsedVertexConstants());this._animationRegisterCache.set_vertexAttributesOffset(a.get_numUsedStreams());this._animationRegisterCache.set_varyingsOffset(a.get_numUsedVaryings());this._animationRegisterCache.set_fragmentConstantOffset(a.get_numUsedFragmentConstants());this._animationRegisterCache.hasUVNode=this.hasUVNode;this._animationRegisterCache.needVelocity=this.needVelocity;this._animationRegisterCache.hasBillboard=this.hasBillboard;
this._animationRegisterCache.sourceRegisters=b;this._animationRegisterCache.targetRegisters=c;this._animationRegisterCache.needFragmentAnimation=a.get_needFragmentAnimation();this._animationRegisterCache.needUVAnimation=a.get_needUVAnimation();this._animationRegisterCache.hasColorAddNode=this.hasColorAddNode;this._animationRegisterCache.hasColorMulNode=this.hasColorMulNode;this._animationRegisterCache.reset();b=""+this._animationRegisterCache.getInitCode();c=0;for(d=this._particleNodes;c<d.get_length();){var e=
d.get(c);++c;e.get_priority()<nf.POST_PRIORITY&&(b+=e.getAGALVertexCode(a,this._animationRegisterCache))}b+=this._animationRegisterCache.getCombinationCode();c=0;for(d=this._particleNodes;c<d.get_length();)e=d.get(c),++c,e.get_priority()>=nf.POST_PRIORITY&&e.get_priority()<nf.COLOR_PRIORITY&&(b+=e.getAGALVertexCode(a,this._animationRegisterCache));b+=this._animationRegisterCache.initColorRegisters();c=0;for(d=this._particleNodes;c<d.get_length();)e=d.get(c),++c,e.get_priority()>=nf.COLOR_PRIORITY&&
(b+=e.getAGALVertexCode(a,this._animationRegisterCache));return b+=this._animationRegisterCache.getColorPassCode()},getAGALUVCode:function(a,b,c){var d="";if(this.hasUVNode){this._animationRegisterCache.setUVSourceAndTarget(b,c);d+="mov "+h.string(this._animationRegisterCache.uvTarget)+".xy,"+this._animationRegisterCache.uvAttribute.toString()+"\n";b=0;for(c=this._particleNodes;b<c.get_length();){var e=c.get(b);++b;d+=e.getAGALUVCode(a,this._animationRegisterCache)}d+="mov "+this._animationRegisterCache.uvVar.toString()+
","+h.string(this._animationRegisterCache.uvTarget)+".xy\n"}else d+="mov "+c+","+b+"\n";return d},getAGALFragmentCode:function(a,b,c){return this._animationRegisterCache.getColorCombinationCode(b)},doneAGALCode:function(a){this._animationRegisterCache.setDataLength();this._animationRegisterCache.setVertexConst(this._animationRegisterCache.vertexZeroConst.get_index(),0,1,2,0)},get_usesCPU:function(){return!1},cancelGPUCompatibility:function(){},dispose:function(){for(var a=this._animationSubGeometries.iterator();a.hasNext();)a.next().dispose();
Jd.prototype.dispose.call(this)},generateAnimationSubGeometries:function(a){if(null==this.initParticleFunc)throw new H(new sa("no initParticleFunc set"));var b=y.__instanceof(a.get_geometry(),jk)?a.get_geometry():null;if(null==b)throw new H(new sa("Particle animation can only be performed on a ParticleGeometry object"));var c,d=null,e=!1,f,k,p=0;for(c=a.get_subMeshes().get_length();p<c;){d=p++;k=a.get_subMeshes().get(d);f=k.get_subGeometry();if(a.get_shareAnimationGeometry()&&(d=this._animationSubGeometries.h[f.__id__],
null!=d)){k.animationSubGeometry=d;continue}d=k.animationSubGeometry=new Hm;a.get_shareAnimationGeometry()&&this._animationSubGeometries.set(f,d);e=!0;d.createVertexData(f.get_numVertices(),this._totalLenOfOneVertex)}if(0!=e){e=b.particles;p=e.get_length();f=b.numParticles;k=new Wp;var w=null,h,n,l,g,m,r,q,t,u;k.total=f;k.startTime=0;k.duration=1E3;k.delay=.1;for(c=b=0;b<f;){k.index=b;this.initParticleFunc(k);h=0;for(g=this._localStaticNodes;h<g.get_length();)m=g.get(h),++h,m.generatePropertyOfOneParticle(k);
for(;;){c<p?(w=e.get(c),h=w.particleIndex==b):h=!1;if(!h)break;h=0;for(g=a.get_subMeshes();h<g.get_length();)if(m=g.get(h),++h,m.get_subGeometry()==w.subGeometry){d=m.animationSubGeometry;break}m=w.numVertices;r=d.get_vertexData();q=m*this._totalLenOfOneVertex;t=d.numProcessedVertices*this._totalLenOfOneVertex;for(var v=0,x=this._localStaticNodes;v<x.get_length();)for(n=x.get(v),++v,g=n.get_oneData(),h=n.get_dataLength(),n=t+n.dataOffset,l=0;l<q;){u=n+l;for(var z=0,B=h;z<B;){var A=z++;r.set(u+A,g.get(A))}l+=
this._totalLenOfOneVertex}0<this._localDynamicNodes.get_length()&&d.animationParticles.push(new Xp(b,k.startTime,k.duration,k.delay,w));d.numProcessedVertices+=m;++c}++b}}},__class__:nf,__properties__:z(Jd.prototype.__properties__,{get_particleNodes:"get_particleNodes"})});var Hi=function(a){this._animatorSubGeometries=new Hb;this._totalLenOfOneVertex=0;this._timeParticleStates=x.toObjectVector(null);this._animatorParticleStates=x.toObjectVector(null);this._animationParticleStates=x.toObjectVector(null);
he.call(this,a);this._particleAnimationSet=a;for(var b=0,c=this._particleAnimationSet.get_particleNodes();b<c.get_length();){var d=c.get(b);++b;a=y.__cast(this.getAnimationState(d),tc);2==d.get_mode()?(this._animatorParticleStates.push(a),d.dataOffset=this._totalLenOfOneVertex,this._totalLenOfOneVertex+=d.get_dataLength()):this._animationParticleStates.push(a);a.get_needUpdateTime()&&this._timeParticleStates.push(a)}};m["away3d.animators.ParticleAnimator"]=Hi;Hi.__name__=["away3d","animators","ParticleAnimator"];
Hi.__interfaces__=[ik];Hi.__super__=he;Hi.prototype=z(he.prototype,{_particleAnimationSet:null,_animationParticleStates:null,_animatorParticleStates:null,_timeParticleStates:null,_totalLenOfOneVertex:null,_animatorSubGeometries:null,clone:function(){return new Hi(this._particleAnimationSet)},setRenderState:function(a,b,c,d,e){c=this._particleAnimationSet._animationRegisterCache;d=y.__instanceof(b,Pf)?b:null;if(null==d)throw new H(new sa("Must be subMesh"));null==d.animationSubGeometry&&this._particleAnimationSet.generateAnimationSubGeometries(d.get_parentMesh());
for(var f=d.animationSubGeometry,k=0,p=this._animationParticleStates;k<p.get_length();){var w=p.get(k);++k;w.setRenderState(a,b,f,c,e)}null==d.animatorSubGeometry&&0<this._animatorParticleStates.get_length()&&this.generateAnimatorSubGeometry(d);d=d.animatorSubGeometry;f=0;for(k=this._animatorParticleStates;f<k.get_length();)p=k.get(f),++f,p.setRenderState(a,b,d,c,e);a.get_context3D().setProgramConstantsFromVector(1,c.get_vertexConstantOffset(),c.vertexConstantData,c.get_numVertexConstant());0<c.get_numFragmentConstant()&&
a.get_context3D().setProgramConstantsFromVector(0,c.get_fragmentConstantOffset(),c.fragmentConstantData,c.get_numFragmentConstant())},testGPUCompatibility:function(a){},start:function(){he.prototype.start.call(this);for(var a=0,b=this._timeParticleStates;a<b.get_length();){var c=b.get(a);++a;c.offset(this._absoluteTime)}},updateDeltaTime:function(a){this._absoluteTime+=a;a=0;for(var b=this._timeParticleStates;a<b.get_length();){var c=b.get(a);++a;c.update(this._absoluteTime)}},resetTime:function(a){null==
a&&(a=0);for(var b=0,c=this._timeParticleStates;b<c.get_length();){var d=c.get(b);++b;d.offset(this._absoluteTime+a)}this.update(this.get_time())},dispose:function(){for(var a=this._animatorSubGeometries.iterator();a.hasNext();)a.next().dispose()},generateAnimatorSubGeometry:function(a){var b=a.get_subGeometry(),c=this._animatorSubGeometries,d=new Hm;c.set(b,d);c=a.animatorSubGeometry=d;c.createVertexData(b.get_numVertices(),this._totalLenOfOneVertex);c.animationParticles=a.animationSubGeometry.animationParticles},
__class__:Hi});var Cg=function(a){null==a&&(a=4);this._jointsPerVertex=a;Jd.call(this)};m["away3d.animators.SkeletonAnimationSet"]=Cg;Cg.__name__=["away3d","animators","SkeletonAnimationSet"];Cg.__interfaces__=[hk];Cg.__super__=Jd;Cg.prototype=z(Jd.prototype,{_jointsPerVertex:null,get_jointsPerVertex:function(){return this._jointsPerVertex},getAGALVertexCode:function(a,b,c,d){d=b.get_length();var e=a.get_numUsedVertexConstants(),f=e+1,k=e+2,p="va"+a.get_numUsedStreams(),w="va"+(a.get_numUsedStreams()+
1);a=[p+".x",p+".y",p+".z",p+".w"];for(var p=[w+".x",w+".y",w+".z",w+".w"],w=this.findTempReg(c),h=this.findTempReg(c,w),n="dp4",l="",g=0;g<d;){for(var m=g++,r=b.get(m),q=0,t=this._jointsPerVertex;q<t;)var u=q++,l=l+(n+" "+w+".x, "+r+", vc["+a[u]+"+"+e+"]\t\t\n"+n+" "+w+".y, "+r+", vc["+a[u]+"+"+f+"]    \t\n"+n+" "+w+".z, "+r+", vc["+a[u]+"+"+k+"]\t\t\nmov "+w+".w, "+r+".w\t\t\nmul "+w+", "+w+", "+p[u]+"\n"),l=0==u?l+("mov "+h+", "+w+"\n"):l+("add "+h+", "+h+", "+w+"\n");n="dp3";l+="mov "+c.get(m)+
", "+h+"\n"}return l},activate:function(a,b){},deactivate:function(a,b){var c=b.get_numUsedStreams(),d=a._context3D;d.setVertexBufferAt(c,null);d.setVertexBufferAt(c+1,null)},getAGALFragmentCode:function(a,b,c){return""},getAGALUVCode:function(a,b,c){return"mov "+c+","+b+"\n"},doneAGALCode:function(a){},__class__:Cg,__properties__:z(Jd.prototype.__properties__,{get_jointsPerVertex:"get_jointsPerVertex"})});var eh=function(a,b,c){null==c&&(c=!1);this._skeletonAnimationStates=new Hb;this._globalPose=
new xf;he.call(this,a);this._skeleton=b;this._forceCPU=c;this._jointsPerVertex=a.get_jointsPerVertex();this._numJoints=this._skeleton.get_numJoints();this._globalMatrices=x.toFloatVector(null,12*this._numJoints,!0);b=a=0;for(c=this._numJoints;b<c;)b++,this._globalMatrices.set(a++,1),this._globalMatrices.set(a++,0),this._globalMatrices.set(a++,0),this._globalMatrices.set(a++,0),this._globalMatrices.set(a++,0),this._globalMatrices.set(a++,1),this._globalMatrices.set(a++,0),this._globalMatrices.set(a++,
0),this._globalMatrices.set(a++,0),this._globalMatrices.set(a++,0),this._globalMatrices.set(a++,1),this._globalMatrices.set(a++,0)};m["away3d.animators.SkeletonAnimator"]=eh;eh.__name__=["away3d","animators","SkeletonAnimator"];eh.__interfaces__=[ik];eh.__super__=he;eh.prototype=z(he.prototype,{_globalMatrices:null,_globalPose:null,_globalPropertiesDirty:null,_numJoints:null,_skeletonAnimationStates:null,_condensedMatrices:null,_skeleton:null,_forceCPU:null,_useCondensedIndices:null,_jointsPerVertex:null,
_activeSkeletonState:null,get_globalMatrices:function(){this._globalPropertiesDirty&&this.updateGlobalProperties();return this._globalMatrices},get_globalPose:function(){this._globalPropertiesDirty&&this.updateGlobalProperties();return this._globalPose},get_skeleton:function(){return this._skeleton},get_forceCPU:function(){return this._forceCPU},get_useCondensedIndices:function(){return this._useCondensedIndices},set_useCondensedIndices:function(a){return this._useCondensedIndices=a},clone:function(){return new eh(y.__cast(this._animationSet,
Cg),this._skeleton,this._forceCPU)},play:function(a,b,c){if(this._activeAnimationName!=a){this._activeAnimationName=a;if(!this._animationSet.hasAnimation(a))throw new H(new sa("Animation root node "+a+" not found!"));null!=b&&null!=this._activeNode?(this._activeNode=b.getAnimationNode(this,this._activeNode,this._animationSet.getAnimation(a),this._absoluteTime),this._activeNode.addEventListener("transitionComplete",u(this,this.onTransitionComplete))):this._activeNode=this._animationSet.getAnimation(a);
this._activeState=this.getAnimationState(this._activeNode);this.updatePosition&&(this._activeState.update(this._absoluteTime),this._activeState.get_positionDelta());this._activeSkeletonState=y.__cast(this._activeState,Ii)}this.start();null==c||isNaN(c)||this.reset(a,c|0)},setRenderState:function(a,b,c,d,e){this._globalPropertiesDirty&&this.updateGlobalProperties();b=y.__cast(y.__cast(b,Pf).get_subGeometry(),yf);e=b.get_numCondensedJoints();if(this._useCondensedIndices)0==b.get_numCondensedJoints()&&
(b.condenseIndexData(),e=b.get_numCondensedJoints()),this.updateCondensedMatrices(b.get_condensedIndexLookUp(),e),a._context3D.setProgramConstantsFromVector(1,c,this._condensedMatrices,3*e);else{if(this._animationSet.get_usesCPU()){null==this._skeletonAnimationStates.h.__keys__[b.__id__]&&this._skeletonAnimationStates.set(b,new Yp(b));a=this._skeletonAnimationStates.h[b.__id__];a.dirty&&(this.morphGeometry(a,b),a.dirty=!1);b.updateAnimatedData(a.animatedVertexData);return}a._context3D.setProgramConstantsFromVector(1,
c,this._globalMatrices,3*this._numJoints)}b.activateJointIndexBuffer(d,a);b.activateJointWeightsBuffer(d+1,a)},testGPUCompatibility:function(a){!this._useCondensedIndices&&(this._forceCPU||4<this._jointsPerVertex||128<a.get_numUsedVertexConstants()+3*this._numJoints)&&this._animationSet.cancelGPUCompatibility()},updateDeltaTime:function(a){he.prototype.updateDeltaTime.call(this,a);this._globalPropertiesDirty=!0;for(a=this._skeletonAnimationStates.iterator();a.hasNext();)a.next().dirty=!0},updateCondensedMatrices:function(a,
b){var c=0,d=0,e,f;for(this._condensedMatrices=x.toFloatVector(null);;){f=4*a.get(3*c);for(e=f+12;f<e;)this._condensedMatrices.set(d++,this._globalMatrices.get(f++));if(!(++c<b))break}},updateGlobalProperties:function(){this._globalPropertiesDirty=!1;this.localToGlobalPose(this._activeSkeletonState.getSkeletonPose(this._skeleton),this._globalPose,this._skeleton);for(var a=0,b=this._globalPose.jointPoses,c,d,e,f,k,p,w,h,n,l,g,m,r,q,t,u,v,x,y,z,B,A=this._skeleton.joints,D,E=0,F=this._numJoints;E<F;)u=
E++,D=b.get(u),m=D.orientation,D=D.translation,d=m.x,e=m.y,f=m.z,k=m.w,t=2*d,p=t*e,w=t*f,h=t*k,n=2*e*f,l=2*e*k,g=2*f*k,d*=d,e*=e,f*=f,k*=k,t=d-e,m=t-f+k,r=p-g,q=w+l,p+=g,t=-t-f+k,g=n-h,w-=l,h=n+h,d=-d-e+f+k,c=A.get(u).inverseBindPose,u=c.get(0),e=c.get(4),f=c.get(8),k=c.get(12),n=c.get(1),l=c.get(5),v=c.get(9),x=c.get(13),y=c.get(2),z=c.get(6),B=c.get(10),c=c.get(14),this._globalMatrices.set(a,m*u+r*n+q*y),this._globalMatrices.set(a+1,m*e+r*l+q*z),this._globalMatrices.set(a+2,m*f+r*v+q*B),this._globalMatrices.set(a+
3,m*k+r*x+q*c+D.x),this._globalMatrices.set(a+4,p*u+t*n+g*y),this._globalMatrices.set(a+5,p*e+t*l+g*z),this._globalMatrices.set(a+6,p*f+t*v+g*B),this._globalMatrices.set(a+7,p*k+t*x+g*c+D.y),this._globalMatrices.set(a+8,w*u+h*n+d*y),this._globalMatrices.set(a+9,w*e+h*l+d*z),this._globalMatrices.set(a+10,w*f+h*v+d*B),this._globalMatrices.set(a+11,w*k+h*x+d*c+D.z),a=a+12|0},morphGeometry:function(a,b){for(var c=b.get_vertexData(),d=a.animatedVertexData,e=b.get_jointIndexData(),f=b.get_jointWeightsData(),
k=0,p=0,w=0,h,n,l,g,m,r,q,t,u,v=c.get_length(),x,y,z,B,A,D,E,F,I,H,G,J,C,K,M,O,N,Q,P,L,S,R;k<v;){y=c.get(k);z=c.get(k+1);B=c.get(k+2);A=c.get(k+3);D=c.get(k+4);E=c.get(k+5);F=c.get(k+6);I=c.get(k+7);H=c.get(k+8);for(w=u=t=q=r=m=g=l=n=h=0;w<this._jointsPerVertex;)x=f.get(p),0<x?(R=(e.get(p++)|0)<<2,G=this._globalMatrices.get(R),J=this._globalMatrices.get(R+1),C=this._globalMatrices.get(R+2),K=this._globalMatrices.get(R+3),M=this._globalMatrices.get(R+4),O=this._globalMatrices.get(R+5),N=this._globalMatrices.get(R+
6),Q=this._globalMatrices.get(R+7),P=this._globalMatrices.get(R+8),L=this._globalMatrices.get(R+9),S=this._globalMatrices.get(R+10),R=this._globalMatrices.get(R+11),h+=x*(G*y+J*z+C*B+K),n+=x*(M*y+O*z+N*B+Q),l+=x*(P*y+L*z+S*B+R),g+=x*(G*A+J*D+C*E),m+=x*(M*A+O*D+N*E),r+=x*(P*A+L*D+S*E),q+=x*(G*F+J*I+C*H),t+=x*(M*F+O*I+N*H),u+=x*(P*F+L*I+S*H),++w):(p+=this._jointsPerVertex-w,w=this._jointsPerVertex);d.set(k,h);d.set(k+1,n);d.set(k+2,l);d.set(k+3,g);d.set(k+4,m);d.set(k+5,r);d.set(k+6,q);d.set(k+7,t);
d.set(k+8,u);k+=13}},localToGlobalPose:function(a,b,c){b=b.jointPoses;var d;c=c.joints;var e=a.get_numJointPoses();a=a.jointPoses;var f,k,p,w,h,n,l,g,m,r,q,t,u,v;b.get_length()!=e&&b.set_length(e);for(var x=0;x<e;)p=x++,null==b.get(p)&&b.set(p,new fh),d=b.get(p),k=c.get(p),f=k.parentIndex,p=a.get(p),k=d.orientation,d=d.translation,0>f?(h=p.translation,w=p.orientation,k.x=w.x,k.y=w.y,k.z=w.z,k.w=w.w,d.x=h.x,d.y=h.y,d.z=h.z):(f=b.get(f),w=f.orientation,h=p.translation,r=w.x,q=w.y,t=w.z,u=w.w,g=h.x,
v=h.y,h=h.z,m=-r*g-q*v-t*h,n=u*g+q*h-t*v,l=u*v-r*h+t*g,g=u*h+r*v-q*g,h=f.translation,d.x=-m*r+n*u-l*t+g*q+h.x,d.y=-m*q+n*t+l*u-g*r+h.y,d.z=-m*t-n*q+l*r+g*u+h.z,n=w.x,l=w.y,g=w.z,m=w.w,w=p.orientation,r=w.x,q=w.y,t=w.z,u=w.w,k.w=m*u-n*r-l*q-g*t,k.x=m*r+n*u+l*t-g*q,k.y=m*q-n*t+l*u+g*r,k.z=m*t+n*q-l*r+g*u)},onTransitionComplete:function(a){"transitionComplete"==a.type&&(a.get_animationNode().removeEventListener("transitionComplete",u(this,this.onTransitionComplete)),this._activeState==a.get_animationState()&&
(this._activeNode=this._animationSet.getAnimation(this._activeAnimationName),this._activeState=this.getAnimationState(this._activeNode),this._activeSkeletonState=y.__cast(this._activeState,Ii)))},__class__:eh,__properties__:z(he.prototype.__properties__,{set_useCondensedIndices:"set_useCondensedIndices",get_useCondensedIndices:"get_useCondensedIndices",get_forceCPU:"get_forceCPU",get_skeleton:"get_skeleton",get_globalPose:"get_globalPose",get_globalMatrices:"get_globalMatrices"})});var Yp=function(a){this.dirty=
!0;this.animatedVertexData=a.get_vertexData().concat(null)};m["away3d.animators.SubGeomAnimationState"]=Yp;Yp.__name__=["away3d","animators","SubGeomAnimationState"];Yp.prototype={animatedVertexData:null,dirty:null,__class__:Yp};var Nh=function(a,b){null==b&&(b="absolute");null==a&&(a=2);this._useTangents=new Hb;this._useNormals=new Hb;this._streamIndices=new Hb;Jd.call(this);this._numPoses=a;this._blendMode=b};m["away3d.animators.VertexAnimationSet"]=Nh;Nh.__name__=["away3d","animators","VertexAnimationSet"];
Nh.__interfaces__=[hk];Nh.__super__=Jd;Nh.prototype=z(Jd.prototype,{_numPoses:null,_blendMode:null,_streamIndices:null,_useNormals:null,_useTangents:null,_uploadNormals:null,_uploadTangents:null,get_numPoses:function(){return this._numPoses},get_blendMode:function(){return this._blendMode},get_useNormals:function(){return this._uploadNormals},getAGALVertexCode:function(a,b,c,d){return this._blendMode==kk.ABSOLUTE?this.getAbsoluteAGALCode(a,b,c):this.getAdditiveAGALCode(a,b,c)},activate:function(a,
b){this._uploadNormals=this._useNormals.h[b.__id__];this._uploadTangents=this._useTangents.h[b.__id__]},deactivate:function(a,b){var c=this._streamIndices.h[b.__id__],d=a._context3D;d.setVertexBufferAt(c,null);this._uploadNormals&&d.setVertexBufferAt(c+1,null);this._uploadTangents&&d.setVertexBufferAt(c+2,null)},getAGALFragmentCode:function(a,b,c){return""},getAGALUVCode:function(a,b,c){return"mov "+c+","+b+"\n"},doneAGALCode:function(a){},getAbsoluteAGALCode:function(a,b,c){var d="",e=this.findTempReg(c),
f=this.findTempReg(c,e),k=["x","y","z","w"],p=b.get_length(),w="vc"+a.get_numUsedVertexConstants(),h=2<p;this._useTangents.set(a,h);this._useNormals.set(a,1<p);2<p&&(p=2);var n=this._streamIndices,l=a.get_numUsedStreams();n.set(a,l);a=l;for(n=0;n<p;){for(var l=n++,d=d+("mul "+e+", "+b.get(l)+", "+w+"."+k[0]+"\n"),g=1,m=this._numPoses;g<m;){var r=g++,d=d+("mul "+f+", va"+a+", "+w+"."+k[r]+"\n");r<this._numPoses-1&&(d+="add "+e+", "+e+", "+f+"\n");++a}d+="add "+c.get(l)+", "+e+", "+f+"\n"}h&&(d+="dp3 "+
e+".x, "+b.get(2)+", "+c.get(1)+"\nmul "+e+", "+c.get(1)+", "+e+".x\t\t\t \nsub "+c.get(2)+", "+b.get(2)+", "+e+"\n");return d},getAdditiveAGALCode:function(a,b,c){var d="",e=b.get_length(),f=["x","y","z","w"],k=this.findTempReg(c),p=0,w=2<e;this._useTangents.set(a,w);var h=1<e;this._useNormals.set(a,h);var n=this._streamIndices,l=a.get_numUsedStreams();n.set(a,l);2<e&&(e=2);d+="mov  "+c.get(0)+", "+b.get(0)+"\n";h&&(d+="mov "+c.get(1)+", "+b.get(1)+"\n");for(h=0;h<e;)for(var n=h++,g=0,m=this._numPoses;g<
m;){var r=g++,d=d+("mul "+k+", va"+(l+p)+", vc"+a.get_numUsedVertexConstants()+"."+f[r]+"\nadd "+c.get(n)+", "+c.get(n)+", "+k+"\n");++p}w&&(d+="dp3 "+k+".x, "+b.get(2)+", "+c.get(1)+"\nmul "+k+", "+c.get(1)+", "+k+".x\t\t\t \nsub "+c.get(2)+", "+b.get(2)+", "+k+"\n");return d},__class__:Nh,__properties__:z(Jd.prototype.__properties__,{get_useNormals:"get_useNormals",get_blendMode:"get_blendMode",get_numPoses:"get_numPoses"})});var gh=function(a){for(var b=[1,0,0,0],c=x.toFloatVector(null),d=0,e=
b.length;d<e;){var f=d++;c.set(f,b[f])}this._weights=c;this._poses=x.toObjectVector(null);he.call(this,a);this._vertexAnimationSet=a;this._numPoses=a.get_numPoses();this._blendMode=a.get_blendMode()};m["away3d.animators.VertexAnimator"]=gh;gh.__name__=["away3d","animators","VertexAnimator"];gh.__interfaces__=[ik];gh.__super__=he;gh.prototype=z(he.prototype,{_vertexAnimationSet:null,_poses:null,_weights:null,_numPoses:null,_blendMode:null,_activeVertexState:null,clone:function(){return new gh(this._vertexAnimationSet)},
play:function(a,b,c){if(this._activeAnimationName!=a){this._activeAnimationName=a;if(!this._animationSet.hasAnimation(a))throw new H(new sa("Animation root node "+a+" not found!"));this._activeNode=this._animationSet.getAnimation(a);this._activeState=this.getAnimationState(this._activeNode);this.updatePosition&&(this._activeState.update(this._absoluteTime),this._activeState.get_positionDelta());this._activeVertexState=y.__cast(this._activeState,lk)}this.start();isNaN(c)||this.reset(a,c)},updateDeltaTime:function(a){he.prototype.updateDeltaTime.call(this,
a);this._poses.set(0,this._activeVertexState.get_currentGeometry());this._poses.set(1,this._activeVertexState.get_nextGeometry());this._weights.set(0,1-this._weights.set(1,this._activeVertexState.get_blendWeight()))},setRenderState:function(a,b,c,d,e){if(0==this._poses.get_length())this.setNullPose(a,b,c,d);else{b=y.__cast(b,Pf);var f;e=this._numPoses;a.get_context3D().setProgramConstantsFromVector(1,c,this._weights,1);this._blendMode==kk.ABSOLUTE?(f=1,c=this._poses.get(0).get_subGeometries().get(b._index),
null!=c&&b.set_subGeometry(c)):f=0;for(;f<e;)c=this._poses.get(f).get_subGeometries().get(b._index),null==c&&(c=b.get_subGeometry()),c.activateVertexBuffer(d++,a),this._vertexAnimationSet.get_useNormals()&&c.activateVertexNormalBuffer(d++,a),++f}},setNullPose:function(a,b,c,d){a._context3D.setProgramConstantsFromVector(1,c,this._weights,1);if(this._blendMode==kk.ABSOLUTE){c=0;for(var e=this._numPoses;c<e;)c++,b.activateVertexBuffer(d++,a),this._vertexAnimationSet.get_useNormals()&&b.activateVertexNormalBuffer(d++,
a)}},testGPUCompatibility:function(a){},__class__:gh});var Oh=function(a){this._profile=a};m["away3d.materials.compilation.ShaderRegisterCache"]=Oh;Oh.__name__=["away3d","materials","compilation","ShaderRegisterCache"];Oh.prototype={_fragmentTempCache:null,_vertexTempCache:null,_varyingCache:null,_fragmentConstantsCache:null,_vertexConstantsCache:null,_textureCache:null,_vertexAttributesCache:null,_vertexConstantOffset:null,_vertexAttributesOffset:null,_varyingsOffset:null,_fragmentConstantOffset:null,
_fragmentOutputRegister:null,_vertexOutputRegister:null,_numUsedVertexConstants:null,_numUsedFragmentConstants:null,_numUsedStreams:null,_numUsedTextures:null,_numUsedVaryings:null,_profile:null,reset:function(){this._fragmentTempCache=new Rd("ft",8,!1);this._vertexTempCache=new Rd("vt",8,!1);this._varyingCache=new Rd("v",8);this._textureCache=new Rd("fs",8);this._vertexAttributesCache=new Rd("va",8);this._fragmentConstantsCache=new Rd("fc",28);this._vertexConstantsCache=new Rd("vc",128);this._fragmentOutputRegister=
new ud("oc",-1);this._vertexOutputRegister=new ud("op",-1);for(var a=this._numUsedFragmentConstants=this._numUsedVaryings=this._numUsedTextures=this._numUsedStreams=this._numUsedVertexConstants=0,b=this._vertexAttributesOffset;a<b;)a++,this.getFreeVertexAttribute();a=0;for(b=this._vertexConstantOffset;a<b;)a++,this.getFreeVertexConstant();a=0;for(b=this._varyingsOffset;a<b;)a++,this.getFreeVarying();a=0;for(b=this._fragmentConstantOffset;a<b;)a++,this.getFreeFragmentConstant()},dispose:function(){this._fragmentTempCache.dispose();
this._vertexTempCache.dispose();this._varyingCache.dispose();this._fragmentConstantsCache.dispose();this._vertexAttributesCache.dispose();this._vertexOutputRegister=this._fragmentOutputRegister=this._vertexAttributesCache=this._fragmentConstantsCache=this._varyingCache=this._vertexTempCache=this._fragmentTempCache=null},addFragmentTempUsages:function(a,b){this._fragmentTempCache.addUsage(a,b)},removeFragmentTempUsage:function(a){this._fragmentTempCache.removeUsage(a)},addVertexTempUsages:function(a,
b){this._vertexTempCache.addUsage(a,b)},removeVertexTempUsage:function(a){this._vertexTempCache.removeUsage(a)},getFreeFragmentVectorTemp:function(){return this._fragmentTempCache.requestFreeVectorReg()},getFreeFragmentSingleTemp:function(){return this._fragmentTempCache.requestFreeRegComponent()},getFreeVarying:function(){var a=this._varyingCache.requestFreeVectorReg();++this._numUsedVaryings;return a},getFreeFragmentConstant:function(){var a=this._fragmentConstantsCache.requestFreeVectorReg();++this._numUsedFragmentConstants;
return a},getFreeVertexConstant:function(){var a=this._vertexConstantsCache.requestFreeVectorReg();++this._numUsedVertexConstants;return a},getFreeVertexVectorTemp:function(){return this._vertexTempCache.requestFreeVectorReg()},getFreeVertexSingleTemp:function(){return this._vertexTempCache.requestFreeRegComponent()},getFreeVertexAttribute:function(){var a=this._vertexAttributesCache.requestFreeVectorReg();++this._numUsedStreams;return a},getFreeTextureReg:function(){var a=this._textureCache.requestFreeVectorReg();
++this._numUsedTextures;return a},get_vertexConstantOffset:function(){return this._vertexConstantOffset},set_vertexConstantOffset:function(a){return this._vertexConstantOffset=a},get_vertexAttributesOffset:function(){return this._vertexAttributesOffset},set_vertexAttributesOffset:function(a){return this._vertexAttributesOffset=a},get_varyingsOffset:function(){return this._varyingsOffset},set_varyingsOffset:function(a){return this._varyingsOffset=a},get_fragmentConstantOffset:function(){return this._fragmentConstantOffset},
set_fragmentConstantOffset:function(a){return this._fragmentConstantOffset=a},get_fragmentOutputRegister:function(){return this._fragmentOutputRegister},get_numUsedVertexConstants:function(){return this._numUsedVertexConstants},get_numUsedFragmentConstants:function(){return this._numUsedFragmentConstants},get_numUsedStreams:function(){return this._numUsedStreams},get_numUsedTextures:function(){return this._numUsedTextures},get_numUsedVaryings:function(){return this._numUsedVaryings},__class__:Oh,
__properties__:{get_numUsedVaryings:"get_numUsedVaryings",get_numUsedTextures:"get_numUsedTextures",get_numUsedStreams:"get_numUsedStreams",get_numUsedFragmentConstants:"get_numUsedFragmentConstants",get_numUsedVertexConstants:"get_numUsedVertexConstants",get_fragmentOutputRegister:"get_fragmentOutputRegister",set_fragmentConstantOffset:"set_fragmentConstantOffset",get_fragmentConstantOffset:"get_fragmentConstantOffset",set_varyingsOffset:"set_varyingsOffset",get_varyingsOffset:"get_varyingsOffset",
set_vertexAttributesOffset:"set_vertexAttributesOffset",get_vertexAttributesOffset:"get_vertexAttributesOffset",set_vertexConstantOffset:"set_vertexConstantOffset",get_vertexConstantOffset:"get_vertexConstantOffset"}};var Gm=function(a){this.fragmentConstantData=x.toFloatVector(null);this.vertexConstantData=x.toFloatVector(null);this.indexDictionary=new Hb;this._profile=a};m["away3d.animators.data.AnimationRegisterCache"]=Gm;Gm.__name__=["away3d","animators","data","AnimationRegisterCache"];Gm.__super__=
Oh;Gm.prototype=z(Oh.prototype,{positionAttribute:null,uvAttribute:null,positionTarget:null,scaleAndRotateTarget:null,velocityTarget:null,vertexTime:null,vertexLife:null,vertexZeroConst:null,vertexOneConst:null,vertexTwoConst:null,uvTarget:null,colorAddTarget:null,colorMulTarget:null,colorAddVary:null,colorMulVary:null,uvVar:null,rotationRegisters:null,needFragmentAnimation:null,needUVAnimation:null,sourceRegisters:null,targetRegisters:null,indexDictionary:null,hasUVNode:null,needVelocity:null,hasBillboard:null,
hasColorMulNode:null,hasColorAddNode:null,reset:function(){Oh.prototype.reset.call(this);this.rotationRegisters=x.toObjectVector(null);this.positionAttribute=this.getRegisterFromString(this.sourceRegisters.get(0));this.scaleAndRotateTarget=this.getRegisterFromString(this.targetRegisters.get(0));this.addVertexTempUsages(this.scaleAndRotateTarget,1);for(var a=1,b=this.targetRegisters.get_length();a<b;){var c=a++;this.rotationRegisters.push(this.getRegisterFromString(this.targetRegisters.get(c)));this.addVertexTempUsages(this.rotationRegisters.get(c-
1),1)}this.scaleAndRotateTarget=new ud(this.scaleAndRotateTarget.get_regName(),this.scaleAndRotateTarget.get_index());this.vertexZeroConst=this.getFreeVertexConstant();this.vertexZeroConst=new ud(this.vertexZeroConst.get_regName(),this.vertexZeroConst.get_index(),0);this.vertexOneConst=new ud(this.vertexZeroConst.get_regName(),this.vertexZeroConst.get_index(),1);this.vertexTwoConst=new ud(this.vertexZeroConst.get_regName(),this.vertexZeroConst.get_index(),2);this.positionTarget=this.getFreeVertexVectorTemp();
this.addVertexTempUsages(this.positionTarget,1);this.positionTarget=new ud(this.positionTarget.get_regName(),this.positionTarget.get_index());this.needVelocity?(this.velocityTarget=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(this.velocityTarget,1),this.velocityTarget=new ud(this.velocityTarget.get_regName(),this.velocityTarget.get_index()),this.vertexTime=new ud(this.velocityTarget.get_regName(),this.velocityTarget.get_index(),3),this.vertexLife=new ud(this.positionTarget.get_regName(),
this.positionTarget.get_index(),3)):(a=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(a,1),this.vertexTime=new ud(a.get_regName(),a.get_index(),0),this.vertexLife=new ud(a.get_regName(),a.get_index(),1))},setUVSourceAndTarget:function(a,b){this.uvVar=this.getRegisterFromString(b);this.uvAttribute=this.getRegisterFromString(a);this.uvTarget=new ud(this.positionTarget.get_regName(),this.positionTarget.get_index())},setRegisterIndex:function(a,b,c){var d=null!=this.indexDictionary.h.__keys__[a.__id__]?
this.indexDictionary.h[a.__id__]:x.toIntVector(null,8,!0);d.set(b,c);this.indexDictionary.set(a,d)},getRegisterIndex:function(a,b){return this.indexDictionary.h[a.__id__].get(b)},getInitCode:function(){for(var a="",b=0,c=this.sourceRegisters.get_length();b<c;)var d=b++,a=a+("mov "+this.targetRegisters.get(d)+","+this.sourceRegisters.get(d)+"\n");a+="mov "+h.string(this.positionTarget)+".xyz,"+this.vertexZeroConst.toString()+"\n";this.needVelocity&&(a+="mov "+h.string(this.velocityTarget)+".xyz,"+
this.vertexZeroConst.toString()+"\n");return a},getCombinationCode:function(){return"add "+h.string(this.scaleAndRotateTarget)+".xyz,"+h.string(this.scaleAndRotateTarget)+".xyz,"+h.string(this.positionTarget)+".xyz\n"},initColorRegisters:function(){var a="";this.hasColorMulNode&&(this.colorMulTarget=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(this.colorMulTarget,1),this.colorMulVary=this.getFreeVarying(),a+="mov "+h.string(this.colorMulTarget)+","+h.string(this.vertexOneConst)+"\n");this.hasColorAddNode&&
(this.colorAddTarget=this.getFreeVertexVectorTemp(),this.addVertexTempUsages(this.colorAddTarget,1),this.colorAddVary=this.getFreeVarying(),a+="mov "+h.string(this.colorAddTarget)+","+h.string(this.vertexZeroConst)+"\n");return a},getColorPassCode:function(){var a="";this.needFragmentAnimation&&(this.hasColorAddNode||this.hasColorMulNode)&&(this.hasColorMulNode&&(a+="mov "+h.string(this.colorMulVary)+","+h.string(this.colorMulTarget)+"\n"),this.hasColorAddNode&&(a+="mov "+h.string(this.colorAddVary)+
","+h.string(this.colorAddTarget)+"\n"));return a},getColorCombinationCode:function(a){var b="";this.needFragmentAnimation&&(this.hasColorAddNode||this.hasColorMulNode)&&(a=this.getRegisterFromString(a),this.addFragmentTempUsages(a,1),this.hasColorMulNode&&(b+="mul "+h.string(a)+","+h.string(a)+","+h.string(this.colorMulVary)+"\n"),this.hasColorAddNode&&(b+="add "+h.string(a)+","+h.string(a)+","+h.string(this.colorAddVary)+"\n"));return b},getRegisterFromString:function(a){var b=new Za("([a-z]+)([\\d]+)",
"");b.match(a);return new ud(b.matched(1),h.parseInt(b.matched(2)))},vertexConstantData:null,fragmentConstantData:null,_numVertexConstant:null,_numFragmentConstant:null,get_numVertexConstant:function(){return this._numVertexConstant},get_numFragmentConstant:function(){return this._numFragmentConstant},setDataLength:function(){this._numVertexConstant=this._numUsedVertexConstants-this._vertexConstantOffset;this._numFragmentConstant=this._numUsedFragmentConstants-this._fragmentConstantOffset;this.vertexConstantData.set_length(4*
this._numVertexConstant);this.fragmentConstantData.set_length(4*this._numFragmentConstant)},setVertexConst:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);a=4*(a-this._vertexConstantOffset);this.vertexConstantData.set(a++,b);this.vertexConstantData.set(a++,c);this.vertexConstantData.set(a++,d);this.vertexConstantData.set(a,e)},setVertexConstFromVector:function(a,b){for(var c=4*(a-this._vertexConstantOffset),d=0,e=b.get_length();d<e;){var f=d++;this.vertexConstantData.set(c++,
b.get(f))}},setVertexConstFromMatrix:function(a,b){var c=Ja.RAW_DATA_CONTAINER;b.copyRawDataTo(c);var d=4*(a-this._vertexConstantOffset);this.vertexConstantData.set(d++,c.get(0));this.vertexConstantData.set(d++,c.get(4));this.vertexConstantData.set(d++,c.get(8));this.vertexConstantData.set(d++,c.get(12));this.vertexConstantData.set(d++,c.get(1));this.vertexConstantData.set(d++,c.get(5));this.vertexConstantData.set(d++,c.get(9));this.vertexConstantData.set(d++,c.get(13));this.vertexConstantData.set(d++,
c.get(2));this.vertexConstantData.set(d++,c.get(6));this.vertexConstantData.set(d++,c.get(10));this.vertexConstantData.set(d++,c.get(14));this.vertexConstantData.set(d++,c.get(3));this.vertexConstantData.set(d++,c.get(7));this.vertexConstantData.set(d++,c.get(11));this.vertexConstantData.set(d,c.get(15))},setFragmentConst:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);a=4*(a-this._fragmentConstantOffset);this.fragmentConstantData.set(a++,b);this.fragmentConstantData.set(a++,
c);this.fragmentConstantData.set(a++,d);this.fragmentConstantData.set(a,e)},__class__:Gm,__properties__:z(Oh.prototype.__properties__,{get_numFragmentConstant:"get_numFragmentConstant",get_numVertexConstant:"get_numVertexConstant"})});var Hm=function(){this.animationParticles=x.toObjectVector(null);this.previousTime=-Infinity;this.numProcessedVertices=0;this._bufferDirty=x.toBoolVector(null,8);this._bufferContext=x.toObjectVector(null,8);this._vertexBuffer=x.toObjectVector(null,8);for(var a=0;8>a;){var b=
a++;this._bufferDirty.set(b,!0)}};m["away3d.animators.data.AnimationSubGeometry"]=Hm;Hm.__name__=["away3d","animators","data","AnimationSubGeometry"];Hm.prototype={_vertexData:null,_vertexBuffer:null,_bufferContext:null,_bufferDirty:null,_numVertices:null,_totalLenOfOneVertex:null,numProcessedVertices:null,previousTime:null,animationParticles:null,createVertexData:function(a,b){this._numVertices=a;this._totalLenOfOneVertex=b;this._vertexData=x.toFloatVector(null,a*b)},activateVertexBuffer:function(a,
b,c,d){var e=c.get_stage3DIndex();c=c.get_context3D();var f=this._vertexBuffer.get(e);if(null==f||this._bufferContext.get(e)!=c)f=this._vertexBuffer.set(e,c.createVertexBuffer(this._numVertices,this._totalLenOfOneVertex)),this._bufferContext.set(e,c),this._bufferDirty.set(e,!0);this._bufferDirty.get(e)&&(f.uploadFromVector(this._vertexData,0,this._numVertices),this._bufferDirty.set(e,!1));c.setVertexBufferAt(a,f,b,d)},dispose:function(){for(;0<this._vertexBuffer.get_length();){var a=this._vertexBuffer.pop();
null!=a&&a.dispose()}},invalidateBuffer:function(){for(var a=0;8>a;){var b=a++;this._bufferDirty.set(b,!0)}},get_vertexData:function(){return this._vertexData},get_numVertices:function(){return this._numVertices},get_totalLenOfOneVertex:function(){return this._totalLenOfOneVertex},__class__:Hm,__properties__:{get_totalLenOfOneVertex:"get_totalLenOfOneVertex",get_numVertices:"get_numVertices",get_vertexData:"get_vertexData"}};var fh=function(){this.translation=new C;this.orientation=new Re};m["away3d.animators.data.JointPose"]=
fh;fh.__name__=["away3d","animators","data","JointPose"];fh.prototype={name:null,orientation:null,translation:null,toMatrix3D:function(a){null==a&&(a=new Xa);this.orientation.toMatrix3D(a);a.appendTranslation(this.translation.x,this.translation.y,this.translation.z);return a},copyFrom:function(a){var b=a.orientation;a=a.translation;this.orientation.x=b.x;this.orientation.y=b.y;this.orientation.z=b.z;this.orientation.w=b.w;this.translation.x=a.x;this.translation.y=a.y;this.translation.z=a.z},__class__:fh};
var Xp=function(a,b,c,d,e){this.index=a;this.startTime=b;this.totalTime=c+d;this.duration=c;this.delay=d;this.startVertexIndex=e.startVertexIndex;this.numVertices=e.numVertices};m["away3d.animators.data.ParticleAnimationData"]=Xp;Xp.__name__=["away3d","animators","data","ParticleAnimationData"];Xp.prototype={index:null,startTime:null,totalTime:null,duration:null,delay:null,startVertexIndex:null,numVertices:null,__class__:Xp};var Wp=function(){this.nodes=new qa};m["away3d.animators.data.ParticleProperties"]=
Wp;Wp.__name__=["away3d","animators","data","ParticleProperties"];Wp.prototype={index:null,total:null,startTime:null,duration:null,delay:null,nodes:null,__class__:Wp};var Zp=function(){};m["away3d.animators.data.ParticlePropertiesMode"]=Zp;Zp.__name__=["away3d","animators","data","ParticlePropertiesMode"];var Qf=function(){this.joints=x.toObjectVector(null);Ka.call(this)};m["away3d.animators.data.Skeleton"]=Qf;Qf.__name__=["away3d","animators","data","Skeleton"];Qf.__interfaces__=[bd];Qf.__super__=
Ka;Qf.prototype=z(Ka.prototype,{joints:null,get_numJoints:function(){return this.joints.get_length()},jointFromName:function(a){a=this.jointIndexFromName(a);return-1!=a?this.joints.get(a):null},jointIndexFromName:function(a){for(var b=0,c=0,d=this.joints;c<d.get_length();){var e=d.get(c);++c;if(e.name==a)return b;++b}return-1},dispose:function(){this.joints.set_length(0)},get_assetType:function(){return"skeleton"},__class__:Qf,__properties__:z(Ka.prototype.__properties__,{get_assetType:"get_assetType",
get_numJoints:"get_numJoints"})});var mk=function(){this.parentIndex=-1};m["away3d.animators.data.SkeletonJoint"]=mk;mk.__name__=["away3d","animators","data","SkeletonJoint"];mk.prototype={parentIndex:null,name:null,inverseBindPose:null,__class__:mk};var xf=function(){this.jointPoses=x.toObjectVector(null);Ka.call(this)};m["away3d.animators.data.SkeletonPose"]=xf;xf.__name__=["away3d","animators","data","SkeletonPose"];xf.__interfaces__=[bd];xf.__super__=Ka;xf.prototype=z(Ka.prototype,{jointPoses:null,
get_numJointPoses:function(){return this.jointPoses.get_length()},get_assetType:function(){return"skeletonPose"},jointPoseFromName:function(a){a=this.jointPoseIndexFromName(a);return-1!=a?this.jointPoses.get(a):null},jointPoseIndexFromName:function(a){for(var b=0,c=0,d=this.jointPoses;c<d.get_length();){var e=d.get(c);++c;if(e.name==a)return b;++b}return-1},clone:function(){for(var a=new xf,b=0,c=this.jointPoses.get_length();b<c;){var d=b++,e=new fh,f=this.jointPoses.get(d);e.name=f.name;e.copyFrom(f);
a.jointPoses.set(d,e)}return a},dispose:function(){this.jointPoses.set_length(0)},__class__:xf,__properties__:z(Ka.prototype.__properties__,{get_assetType:"get_assetType",get_numJointPoses:"get_numJointPoses"})});var $p=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);this.offsetU=a;this.offsetV=b;this.scaleU=c;this.scaleV=d;this.rotation=e};m["away3d.animators.data.UVAnimationFrame"]=$p;$p.__name__=["away3d","animators","data","UVAnimationFrame"];$p.prototype=
{offsetU:null,offsetV:null,scaleU:null,scaleV:null,rotation:null,__class__:$p};var kk=function(){};m["away3d.animators.data.VertexAnimationMode"]=kk;kk.__name__=["away3d","animators","data","VertexAnimationMode"];var Rf=function(){Ka.call(this)};m["away3d.animators.nodes.AnimationNodeBase"]=Rf;Rf.__name__=["away3d","animators","nodes","AnimationNodeBase"];Rf.__interfaces__=[bd];Rf.__super__=Ka;Rf.prototype=z(Ka.prototype,{_stateClass:null,get_stateClass:function(){return this._stateClass},dispose:function(){},
get_assetType:function(){return"animationNode"},__class__:Rf,__properties__:z(Ka.prototype.__properties__,{get_assetType:"get_assetType",get_stateClass:"get_stateClass"})});var Sd=function(){this.fixedFrameRate=!0;this._totalDelta=new C;this._durations=x.toIntVector(null);this._numFrames=0;this._stitchFinalFrame=!1;this._stitchDirty=!0;this._totalDuration=0;this._looping=!0;Ka.call(this)};m["away3d.animators.nodes.AnimationClipNodeBase"]=Sd;Sd.__name__=["away3d","animators","nodes","AnimationClipNodeBase"];
Sd.__super__=Rf;Sd.prototype=z(Rf.prototype,{_looping:null,_totalDuration:null,_lastFrame:null,_stitchDirty:null,_stitchFinalFrame:null,_numFrames:null,_durations:null,_totalDelta:null,fixedFrameRate:null,get_looping:function(){return this._looping},set_looping:function(a){if(this._looping==a)return a;this._looping=a;this._stitchDirty=!0;return a},get_stitchFinalFrame:function(){return this._stitchFinalFrame},set_stitchFinalFrame:function(a){if(this._stitchFinalFrame==a)return a;this._stitchFinalFrame=
a;this._stitchDirty=!0;return a},get_totalDuration:function(){this._stitchDirty&&this.updateStitch();return this._totalDuration},get_totalDelta:function(){this._stitchDirty&&this.updateStitch();return this._totalDelta},get_lastFrame:function(){this._stitchDirty&&this.updateStitch();return this._lastFrame},get_durations:function(){return this._durations},updateStitch:function(){this._stitchDirty=!1;this._lastFrame=this._looping&&this._stitchFinalFrame?this._numFrames:this._numFrames-1;this._totalDuration=
0;this._totalDelta.x=0;this._totalDelta.y=0;this._totalDelta.z=0},__class__:Sd,__properties__:z(Rf.prototype.__properties__,{get_durations:"get_durations",get_lastFrame:"get_lastFrame",get_totalDelta:"get_totalDelta",get_totalDuration:"get_totalDuration",set_stitchFinalFrame:"set_stitchFinalFrame",get_stitchFinalFrame:"get_stitchFinalFrame",set_looping:"set_looping",get_looping:"get_looping"})});var ec=function(a,b,c,d){null==d&&(d=1);this._dataLength=3;Ka.call(this);a+=ec.MODES[b];this.set_name(a);
this._mode=b;this._priority=d;this._dataLength=c;this._oneData=x.toFloatVector(null,this._dataLength,!0)};m["away3d.animators.nodes.ParticleNodeBase"]=ec;ec.__name__=["away3d","animators","nodes","ParticleNodeBase"];ec.getParticleNodeName=function(a,b){var c=a.node.get("ANIMATION_NODE_NAME");null==c&&(c=ec.getNodeNameFromClass(a));return c+ec.MODES[b]};ec.getNodeNameFromClass=function(a){return Da.replace(La.getClassName(a),"Node","").split("::")[1]};ec.__super__=Rf;ec.prototype=z(Rf.prototype,{_mode:null,
_priority:null,_dataLength:null,_oneData:null,dataOffset:null,get_mode:function(){return this._mode},get_priority:function(){return this._priority},get_dataLength:function(){return this._dataLength},get_oneData:function(){return this._oneData},getAGALVertexCode:function(a,b){return""},getAGALFragmentCode:function(a,b){return""},getAGALUVCode:function(a,b){return""},generatePropertyOfOneParticle:function(a){},processAnimationSetting:function(a){},__class__:ec,__properties__:z(Rf.prototype.__properties__,
{get_oneData:"get_oneData",get_dataLength:"get_dataLength",get_priority:"get_priority",get_mode:"get_mode"})});var ok=function(a){ec.call(this,"ParticleBillboard",0,0,4);this._stateClass=nk;this._billboardAxis=a};m["away3d.animators.nodes.ParticleBillboardNode"]=ok;ok.__name__=["away3d","animators","nodes","ParticleBillboardNode"];ok.__super__=ec;ok.prototype=z(ec.prototype,{_billboardAxis:null,getAGALVertexCode:function(a,b){var c=b.getFreeVertexConstant();b.setRegisterIndex(this,0,c.get_index());
b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();for(var d="m33 "+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(c)+"\n",e=0,f=b.rotationRegisters;e<f.get_length();){var k=f.get(e);++e;d+="m33 "+k.get_regName()+k.get_index()+".xyz,"+h.string(k)+","+h.string(c)+"\n"}return d},getAnimationState:function(a){return y.__cast(a.getAnimationState(this),nk)},processAnimationSetting:function(a){a.hasBillboard=!0},__class__:ok});var zf=
function(a,b,c,d,e,f,k,p,w){null==w&&(w=0);null==p&&(p=1);null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!0);null==b&&(b=!0);this._stateClass=pk;this._usesMultiplier=b;this._usesOffset=c;this._usesCycle=d;this._usesPhase=e;this._startColor=f;null==this._startColor&&(this._startColor=new jc);this._endColor=k;null==this._endColor&&(this._endColor=new jc);this._cycleDuration=p;this._cyclePhase=w;ec.call(this,"ParticleColor",a,this._usesMultiplier&&this._usesOffset?16:8,nf.COLOR_PRIORITY)};m["away3d.animators.nodes.ParticleColorNode"]=
zf;zf.__name__=["away3d","animators","nodes","ParticleColorNode"];zf.__super__=ec;zf.prototype=z(ec.prototype,{_usesMultiplier:null,_usesOffset:null,_usesCycle:null,_usesPhase:null,_startColor:null,_endColor:null,_cycleDuration:null,_cyclePhase:null,getAGALVertexCode:function(a,b){var c="";if(b.needFragmentAnimation){var d=b.getFreeVertexVectorTemp(),e=null;if(this._usesCycle){var f=b.getFreeVertexConstant();b.setRegisterIndex(this,4,f.get_index());b.addVertexTempUsages(d,1);e=b.getFreeVertexSingleTemp();
b.removeVertexTempUsage(d);c+="mul "+h.string(e)+","+h.string(b.vertexTime)+","+h.string(f)+".x\n";this._usesPhase&&(c+="add "+h.string(e)+","+h.string(e)+","+h.string(f)+".y\n");c+="sin "+h.string(e)+","+h.string(e)+"\n"}if(this._usesMultiplier){var f=0==this._mode?b.getFreeVertexConstant():b.getFreeVertexAttribute(),k=0==this._mode?b.getFreeVertexConstant():b.getFreeVertexAttribute();b.setRegisterIndex(this,0,f.get_index());b.setRegisterIndex(this,1,k.get_index());c+="mul "+h.string(d)+","+h.string(k)+
","+(this._usesCycle?e.toString():b.vertexLife.toString())+"\n";c+="add "+h.string(d)+","+h.string(d)+","+h.string(f)+"\n";c+="mul "+h.string(b.colorMulTarget)+","+h.string(d)+","+h.string(b.colorMulTarget)+"\n"}this._usesOffset&&(f=1==this._mode?b.getFreeVertexAttribute():b.getFreeVertexConstant(),k=1==this._mode?b.getFreeVertexAttribute():b.getFreeVertexConstant(),b.setRegisterIndex(this,2,f.get_index()),b.setRegisterIndex(this,3,k.get_index()),c+="mul "+h.string(d)+","+h.string(k)+","+(this._usesCycle?
e.toString():b.vertexLife.toString())+"\n",c+="add "+h.string(d)+","+h.string(d)+","+h.string(f)+"\n",c+="add "+h.string(b.colorAddTarget)+","+h.string(d)+","+h.string(b.colorAddTarget)+"\n")}return c},getAnimationState:function(a){return y.__cast(a.getAnimationState(this),pk)},processAnimationSetting:function(a){this._usesMultiplier&&(a.hasColorMulNode=!0);this._usesOffset&&(a.hasColorAddNode=!0)},generatePropertyOfOneParticle:function(a){var b=a.nodes,b=null!=t.ColorStartColorTransform?b.getReserved("ColorStartColorTransform"):
b.h.ColorStartColorTransform;if(null==b)throw new H(new sa("there is no ColorStartColorTransform in param!"));a=a.nodes;a=null!=t.ColorEndColorTransform?a.getReserved("ColorEndColorTransform"):a.h.ColorEndColorTransform;if(null==a)throw new H(new sa("there is no ColorEndColorTransform in param!"));var c=0;this._usesCycle?(this._usesMultiplier&&(this._oneData.set(c++,(b.redMultiplier+a.redMultiplier)/2),this._oneData.set(c++,(b.greenMultiplier+a.greenMultiplier)/2),this._oneData.set(c++,(b.blueMultiplier+
a.blueMultiplier)/2),this._oneData.set(c++,(b.alphaMultiplier+a.alphaMultiplier)/2),this._oneData.set(c++,(b.redMultiplier-a.redMultiplier)/2),this._oneData.set(c++,(b.greenMultiplier-a.greenMultiplier)/2),this._oneData.set(c++,(b.blueMultiplier-a.blueMultiplier)/2),this._oneData.set(c++,(b.alphaMultiplier-a.alphaMultiplier)/2)),this._usesOffset&&(this._oneData.set(c++,(b.redOffset+a.redOffset)/510),this._oneData.set(c++,(b.greenOffset+a.greenOffset)/510),this._oneData.set(c++,(b.blueOffset+a.blueOffset)/
510),this._oneData.set(c++,(b.alphaOffset+a.alphaOffset)/510),this._oneData.set(c++,(b.redOffset-a.redOffset)/510),this._oneData.set(c++,(b.greenOffset-a.greenOffset)/510),this._oneData.set(c++,(b.blueOffset-a.blueOffset)/510),this._oneData.set(c++,(b.alphaOffset-a.alphaOffset)/510))):(this._usesMultiplier&&(this._oneData.set(c++,b.redMultiplier),this._oneData.set(c++,b.greenMultiplier),this._oneData.set(c++,b.blueMultiplier),this._oneData.set(c++,b.alphaMultiplier),this._oneData.set(c++,a.redMultiplier-
b.redMultiplier),this._oneData.set(c++,a.greenMultiplier-b.greenMultiplier),this._oneData.set(c++,a.blueMultiplier-b.blueMultiplier),this._oneData.set(c++,a.alphaMultiplier-b.alphaMultiplier)),this._usesOffset&&(this._oneData.set(c++,b.redOffset/255),this._oneData.set(c++,b.greenOffset/255),this._oneData.set(c++,b.blueOffset/255),this._oneData.set(c++,b.alphaOffset/255),this._oneData.set(c++,(a.redOffset-b.redOffset)/255),this._oneData.set(c++,(a.greenOffset-b.greenOffset)/255),this._oneData.set(c++,
(a.blueOffset-b.blueOffset)/255),this._oneData.set(c++,(a.alphaOffset-b.alphaOffset)/255)))},__class__:zf});var Ji=function(a,b){ec.call(this,"ParticlePosition",a,3);this._stateClass=qk;this._position=b;null==this._position&&(this._position=new C)};m["away3d.animators.nodes.ParticlePositionNode"]=Ji;Ji.__name__=["away3d","animators","nodes","ParticlePositionNode"];Ji.__super__=ec;Ji.prototype=z(ec.prototype,{_position:null,getAGALVertexCode:function(a,b){var c=0==this._mode?b.getFreeVertexConstant():
b.getFreeVertexAttribute();b.setRegisterIndex(this,0,c.get_index());return"add "+h.string(b.positionTarget)+".xyz,"+h.string(c)+".xyz,"+h.string(b.positionTarget)+".xyz\n"},getAnimationState:function(a){return y.__cast(a.getAnimationState(this),qk)},generatePropertyOfOneParticle:function(a){a=a.nodes;a=null!=t.PositionVector3D?a.getReserved("PositionVector3D"):a.h.PositionVector3D;if(null==a)throw new H(new sa("there is no PositionVector3D in param!"));this._oneData.set(0,a.x);this._oneData.set(1,
a.y);this._oneData.set(2,a.z)},__class__:Ji});var Ki=function(a,b,c,d,e,f,k){null==k&&(k=0);null==f&&(f=1);null==e&&(e=1);null==d&&(d=1);var p=2;b&&++p;c&&++p;ec.call(this,"ParticleScale",a,p,3);this._stateClass=rk;this._usesCycle=b;this._usesPhase=c;this._minScale=d;this._maxScale=e;this._cycleDuration=f;this._cyclePhase=k};m["away3d.animators.nodes.ParticleScaleNode"]=Ki;Ki.__name__=["away3d","animators","nodes","ParticleScaleNode"];Ki.__super__=ec;Ki.prototype=z(ec.prototype,{_usesCycle:null,_usesPhase:null,
_minScale:null,_maxScale:null,_cycleDuration:null,_cyclePhase:null,getAGALVertexCode:function(a,b){var c="",d=b.getFreeVertexSingleTemp(),e=0==this._mode?b.getFreeVertexConstant():b.getFreeVertexAttribute();b.setRegisterIndex(this,0,e.get_index());this._usesCycle&&(c+="mul "+h.string(d)+","+h.string(b.vertexTime)+","+h.string(e)+".z\n",this._usesPhase&&(c+="add "+h.string(d)+","+h.string(d)+","+h.string(e)+".w\n"),c+="sin "+h.string(d)+","+h.string(d)+"\n");c+="mul "+h.string(d)+","+h.string(e)+".y,"+
h.string(this._usesCycle?d:b.vertexLife)+"\n";c+="add "+h.string(d)+","+h.string(e)+".x,"+h.string(d)+"\n";return c+="mul "+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(d)+"\n"},getAnimationState:function(a){return y.__cast(a.getAnimationState(this),rk)},generatePropertyOfOneParticle:function(a){a=a.nodes;a=null!=t.ScaleVector3D?a.getReserved("ScaleVector3D"):a.h.ScaleVector3D;if(null==a)throw new H(new sa("there is no ScaleVector3D in param!"));if(this._usesCycle){this._oneData.set(0,
(a.x+a.y)/2);this._oneData.set(1,Math.abs(a.x-a.y)/2);if(0>=a.z)throw new H(new sa("the cycle duration must be greater than zero"));this._oneData.set(2,2*Math.PI/a.z);this._usesPhase&&this._oneData.set(3,a.w*Math.PI/180)}else this._oneData.set(0,a.x),this._oneData.set(1,a.y-a.x)},__class__:Ki});var Gi=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);null==a&&(a=!1);this._stateClass=sk;this._usesDuration=a;this._usesLooping=b;this._usesDelay=c;ec.call(this,"ParticleTime",1,4,0)};m["away3d.animators.nodes.ParticleTimeNode"]=
Gi;Gi.__name__=["away3d","animators","nodes","ParticleTimeNode"];Gi.__super__=ec;Gi.prototype=z(ec.prototype,{_usesDuration:null,_usesDelay:null,_usesLooping:null,getAGALVertexCode:function(a,b){var c=b.getFreeVertexAttribute();b.setRegisterIndex(this,0,c.get_index());var d=b.getFreeVertexConstant();b.setRegisterIndex(this,1,d.get_index());var d=""+("sub "+h.string(b.vertexTime)+","+h.string(d)+","+h.string(c)+".x\n"),e=b.getFreeVertexSingleTemp(),d=d+("sge "+h.string(e)+","+h.string(b.vertexTime)+
","+h.string(b.vertexZeroConst)+"\n"),d=d+("mul "+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(e)+"\n");this._usesDuration&&(this._usesLooping?(e=b.getFreeVertexSingleTemp(),this._usesDelay?(d+="div "+h.string(e)+","+h.string(b.vertexTime)+","+h.string(c)+".z\n",d+="frc "+h.string(e)+","+h.string(e)+"\n",d+="mul "+h.string(b.vertexTime)+","+h.string(e)+","+h.string(c)+".z\n",d+="slt "+h.string(e)+","+h.string(b.vertexTime)+","+h.string(c)+".y\n",d+="mul "+
h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(e)+"\n"):(d+="mul "+h.string(e)+","+h.string(b.vertexTime)+","+h.string(c)+".w\n",d+="frc "+h.string(e)+","+h.string(e)+"\n",d+="mul "+h.string(b.vertexTime)+","+h.string(e)+","+h.string(c)+".y\n")):(e=b.getFreeVertexSingleTemp(),d+="sge "+h.string(e)+","+h.string(c)+".y,"+h.string(b.vertexTime)+"\n",d+="mul "+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(b.scaleAndRotateTarget)+".xyz,"+h.string(e)+"\n"));
return d+="mul "+h.string(b.vertexLife)+","+h.string(b.vertexTime)+","+h.string(c)+".w\n"},getAnimationState:function(a){return y.__cast(a.getAnimationState(this),sk)},generatePropertyOfOneParticle:function(a){this._oneData.set(0,a.startTime);this._oneData.set(1,a.duration);this._oneData.set(2,a.delay+a.duration);this._oneData.set(3,1/a.duration)},__class__:Gi});var Li=function(a,b){ec.call(this,"ParticleVelocity",a,3);this._stateClass=tk;this._velocity=b;null==this._velocity&&(this._velocity=new C)};
m["away3d.animators.nodes.ParticleVelocityNode"]=Li;Li.__name__=["away3d","animators","nodes","ParticleVelocityNode"];Li.__super__=ec;Li.prototype=z(ec.prototype,{_velocity:null,getAGALVertexCode:function(a,b){var c=0==this._mode?b.getFreeVertexConstant():b.getFreeVertexAttribute();b.setRegisterIndex(this,0,c.get_index());var d=b.getFreeVertexVectorTemp(),e;e=""+("mul "+h.string(d)+","+h.string(b.vertexTime)+","+h.string(c)+"\n");e+="add "+h.string(b.positionTarget)+".xyz,"+h.string(d)+","+h.string(b.positionTarget)+
".xyz\n";b.needVelocity&&(e+="add "+h.string(b.velocityTarget)+".xyz,"+h.string(c)+".xyz,"+h.string(b.velocityTarget)+".xyz\n");return e},getAnimationState:function(a){return y.__cast(a.getAnimationState(this),tk)},generatePropertyOfOneParticle:function(a){a=a.nodes;a=null!=t.VelocityVector3D?a.getReserved("VelocityVector3D"):a.h.VelocityVector3D;if(null==a)throw new H(new sa("there is no VelocityVector3D in param!"));this._oneData.set(0,a.x);this._oneData.set(1,a.y);this._oneData.set(2,a.z)},__class__:Li});
var Ph=function(){this.highQuality=!1;this._frames=x.toObjectVector(null);this._stateClass=Mi;Sd.call(this)};m["away3d.animators.nodes.SkeletonClipNode"]=Ph;Ph.__name__=["away3d","animators","nodes","SkeletonClipNode"];Ph.__super__=Sd;Ph.prototype=z(Sd.prototype,{_frames:null,highQuality:null,get_frames:function(){return this._frames},addFrame:function(a,b){this._frames.push(a);this._durations.push(b);this._numFrames=this._durations.get_length();this._stitchDirty=!0},getAnimationState:function(a){return y.__cast(a.getAnimationState(this),
Mi)},updateStitch:function(){Sd.prototype.updateStitch.call(this);for(var a=this._numFrames-1,b,c;0<a--;)this._totalDuration+=this._durations.get(a),b=this._frames.get(a).jointPoses.get(0).translation,c=this._frames.get(a+1).jointPoses.get(0).translation,b=c.subtract(b),this._totalDelta.x+=b.x,this._totalDelta.y+=b.y,this._totalDelta.z+=b.z;this._stitchFinalFrame&&this._looping&&(this._totalDuration+=this._durations.get(this._numFrames-1),1<this._numFrames&&(b=this._frames.get(0).jointPoses.get(0).translation,
c=this._frames.get(1).jointPoses.get(0).translation,b=c.subtract(b),this._totalDelta.x+=b.x,this._totalDelta.y+=b.y,this._totalDelta.z+=b.z))},__class__:Ph,__properties__:z(Sd.prototype.__properties__,{get_frames:"get_frames"})});var Im=function(){this._frames=x.toObjectVector(null);this._stateClass=uk;Sd.call(this)};m["away3d.animators.nodes.UVClipNode"]=Im;Im.__name__=["away3d","animators","nodes","UVClipNode"];Im.__super__=Sd;Im.prototype=z(Sd.prototype,{_frames:null,get_frames:function(){return this._frames},
addFrame:function(a,b){this._frames.push(a);this._durations.push(b);this._numFrames=this._durations.get_length();this._stitchDirty=!0},updateStitch:function(){Sd.prototype.updateStitch.call(this);var a;if(0<this._durations.get_length()){for(a=this._numFrames-1;0<a--;)this._totalDuration+=this._durations.get(a);if(this._stitchFinalFrame||!this._looping)this._totalDuration+=this._durations.get(this._numFrames-1)}},__class__:Im,__properties__:z(Sd.prototype.__properties__,{get_frames:"get_frames"})});
var Ni=function(){this._translations=x.toObjectVector(null);this._frames=x.toObjectVector(null);this._stateClass=vk;Sd.call(this)};m["away3d.animators.nodes.VertexClipNode"]=Ni;Ni.__name__=["away3d","animators","nodes","VertexClipNode"];Ni.__super__=Sd;Ni.prototype=z(Sd.prototype,{_frames:null,_translations:null,get_frames:function(){return this._frames},addFrame:function(a,b,c){this._frames.push(a);this._durations.push(b);null!=c?this._translations.push(c):this._translations.push(new C);this._numFrames=
this._durations.get_length();this._stitchDirty=!0},updateStitch:function(){Sd.prototype.updateStitch.call(this);for(var a=this._numFrames-1,b,c;0<a--;)this._totalDuration+=this._durations.get(a),b=this._translations.get(a),c=this._translations.get(a+1),b=c.subtract(b),this._totalDelta.x+=b.x,this._totalDelta.y+=b.y,this._totalDelta.z+=b.z;this._stitchFinalFrame&&this._looping&&(this._totalDuration+=this._durations.get(this._numFrames-1),1<this._numFrames&&(b=this._translations.get(0),c=this._translations.get(1),
b=c.subtract(b),this._totalDelta.x+=b.x,this._totalDelta.y+=b.y,this._totalDelta.z+=b.z))},__class__:Ni,__properties__:z(Sd.prototype.__properties__,{get_frames:"get_frames"})});var Oi=function(){};m["away3d.animators.states.IAnimationState"]=Oi;Oi.__name__=["away3d","animators","states","IAnimationState"];Oi.prototype={get_positionDelta:null,offset:null,update:null,phase:null,__class__:Oi,__properties__:{get_positionDelta:"get_positionDelta"}};var af=function(a,b){this._time=this._startTime=0;this._positionDeltaDirty=
!0;this._rootDelta=new C;this._animator=a;this._animationNode=b};m["away3d.animators.states.AnimationStateBase"]=af;af.__name__=["away3d","animators","states","AnimationStateBase"];af.__interfaces__=[Oi];af.prototype={_animationNode:null,_rootDelta:null,_positionDeltaDirty:null,_time:null,_startTime:null,_animator:null,get_positionDelta:function(){this._positionDeltaDirty&&this.updatePositionDelta();return this._rootDelta},offset:function(a){this._startTime=a;this._positionDeltaDirty=!0},update:function(a){this._time!=
a-this._startTime&&this.updateTime(a)},phase:function(a){},updateTime:function(a){this._time=a-this._startTime;this._positionDeltaDirty=!0},updatePositionDelta:function(){},__class__:af,__properties__:{get_positionDelta:"get_positionDelta"}};var Kd=function(a,b){this._framesDirty=!0;this._blendWeight=0;af.call(this,a,b);this._animationClipNode=b};m["away3d.animators.states.AnimationClipState"]=Kd;Kd.__name__=["away3d","animators","states","AnimationClipState"];Kd.__super__=af;Kd.prototype=z(af.prototype,
{_animationClipNode:null,_animationStatePlaybackComplete:null,_blendWeight:null,_currentFrame:null,_nextFrame:null,_oldFrame:null,_timeDir:null,_framesDirty:null,get_blendWeight:function(){this._framesDirty&&this.updateFrames();return this._blendWeight},get_currentFrame:function(){this._framesDirty&&this.updateFrames();return this._currentFrame},get_nextFrame:function(){this._framesDirty&&this.updateFrames();return this._nextFrame},update:function(a){this._animationClipNode.get_looping()||(a>this._startTime+
this._animationClipNode.get_totalDuration()?a=this._startTime+this._animationClipNode.get_totalDuration():a<this._startTime&&(a=this._startTime));this._time!=a-this._startTime&&this.updateTime(a)},phase:function(a){a=a*this._animationClipNode.get_totalDuration()+this._startTime|0;this._time!=a-this._startTime&&this.updateTime(a)},updateTime:function(a){this._framesDirty=!0;this._timeDir=a-this._startTime>this._time?1:-1;af.prototype.updateTime.call(this,a)},updateFrames:function(){this._framesDirty=
!1;var a=this._animationClipNode.get_looping(),b=this._animationClipNode.get_totalDuration(),c=this._animationClipNode.get_lastFrame(),d=this._time;a&&(d>=b||0>d)&&0<b&&(d%=b,0>d&&(d+=b));if(!a&&d>=b)this.notifyPlaybackComplete(),this._nextFrame=this._currentFrame=c,this._blendWeight=0;else if(!a&&0>=d)this._blendWeight=this._nextFrame=this._currentFrame=0;else if(this._animationClipNode.fixedFrameRate)d=0<b?d/b*c:0,this._currentFrame=d|0,this._blendWeight=d-this._currentFrame,this._nextFrame=this._currentFrame+
1;else{for(var b=this._nextFrame=this._currentFrame=0,e=this._animationClipNode.get_durations();a=b,b+=e.get(this.get_nextFrame()),this._currentFrame=this._nextFrame++,d>b;);this._currentFrame==c&&(this._currentFrame=0,this._nextFrame=1);c=e.get(this._currentFrame);this._blendWeight=Q.toFloat(d-a)/Q.toFloat(c)}},notifyPlaybackComplete:function(){null==this._animationStatePlaybackComplete&&(this._animationStatePlaybackComplete=new Qh("playbackComplete",this._animator,this,this._animationClipNode));
this._animationClipNode.dispatchEvent(this._animationStatePlaybackComplete)},__class__:Kd,__properties__:z(af.prototype.__properties__,{get_nextFrame:"get_nextFrame",get_currentFrame:"get_currentFrame",get_blendWeight:"get_blendWeight"})});var Ii=function(){};m["away3d.animators.states.ISkeletonAnimationState"]=Ii;Ii.__name__=["away3d","animators","states","ISkeletonAnimationState"];Ii.__interfaces__=[Oi];Ii.prototype={getSkeletonPose:null,__class__:Ii};var Jm=function(){};m["away3d.animators.states.IUVAnimationState"]=
Jm;Jm.__name__=["away3d","animators","states","IUVAnimationState"];Jm.__interfaces__=[Oi];Jm.prototype={get_currentUVFrame:null,get_nextUVFrame:null,get_blendWeight:null,__class__:Jm,__properties__:{get_blendWeight:"get_blendWeight",get_nextUVFrame:"get_nextUVFrame",get_currentUVFrame:"get_currentUVFrame"}};var lk=function(){};m["away3d.animators.states.IVertexAnimationState"]=lk;lk.__name__=["away3d","animators","states","IVertexAnimationState"];lk.__interfaces__=[Oi];lk.prototype={get_currentGeometry:null,
get_nextGeometry:null,get_blendWeight:null,__class__:lk,__properties__:{get_blendWeight:"get_blendWeight",get_nextGeometry:"get_nextGeometry",get_currentGeometry:"get_currentGeometry"}};var tc=function(a,b,c){null==c&&(c=!1);this._dynamicPropertiesDirty=new Hb;this._dynamicProperties=x.toObjectVector(null);af.call(this,a,b);this._particleNode=b;this._needUpdateTime=c};m["away3d.animators.states.ParticleStateBase"]=tc;tc.__name__=["away3d","animators","states","ParticleStateBase"];tc.__super__=af;
tc.prototype=z(af.prototype,{_particleNode:null,_dynamicProperties:null,_dynamicPropertiesDirty:null,_needUpdateTime:null,get_needUpdateTime:function(){return this._needUpdateTime},setRenderState:function(a,b,c,d,e){},updateDynamicProperties:function(a){this._dynamicPropertiesDirty.set(a,!0);for(var b=a.animationParticles,c=a.get_vertexData(),d=a.get_totalLenOfOneVertex(),e=this._particleNode.get_dataLength(),f=this._particleNode.dataOffset,k,p,w,h,n=null,l=this._dynamicProperties.get_length(),g=
0,m=0,r=0;g<l;){for(;;){m<l?(n=b.get(m),k=n.index==g):k=!1;if(!k)break;h=this._dynamicProperties.get(g);k=n.numVertices*d;p=n.startVertexIndex*d+f;for(r=0;r<k;){for(r=0;r<k;)w=p+r,c.set(w++,h.x),c.set(w++,h.y),c.set(w++,h.z),4==e&&c.set(w++,h.w),r+=d;r+=d}++m}++g}a.invalidateBuffer()},__class__:tc,__properties__:z(af.prototype.__properties__,{get_needUpdateTime:"get_needUpdateTime"})});var nk=function(a,b){this._matrix=new Xa;tc.call(this,a,b);this.set_billboardAxis(b._billboardAxis)};m["away3d.animators.states.ParticleBillboardState"]=
nk;nk.__name__=["away3d","animators","states","ParticleBillboardState"];nk.__super__=tc;nk.prototype=z(tc.prototype,{_matrix:null,_billboardAxis:null,setRenderState:function(a,b,c,d,e){if(null!=this._billboardAxis){a=b.getRenderSceneTransform(e).get_position();c=e.get_sceneTransform().get_position().subtract(a);var f=c.crossProduct(this._billboardAxis);f.normalize();c=this._billboardAxis.crossProduct(f);c.normalize();this._matrix.copyFrom(b.getRenderSceneTransform(e));b=Ja.decompose(this._matrix,
0);this._matrix.copyColumnFrom(0,f);this._matrix.copyColumnFrom(1,this._billboardAxis);this._matrix.copyColumnFrom(2,c);this._matrix.copyColumnFrom(3,a)}else this._matrix.copyFrom(b.getRenderSceneTransform(e)),this._matrix.append(e.get_inverseSceneTransform()),b=Ja.decompose(this._matrix,0),this._matrix.identity();this._matrix.appendRotation(-b.get(1).w*cd.RADIANS_TO_DEGREES,b.get(1));d.setVertexConstFromMatrix(d.getRegisterIndex(this._animationNode,0),this._matrix)},get_billboardAxis:function(){return this._billboardAxis},
set_billboardAxis:function(a){this._billboardAxis=null!=a?a.clone():null;null!=this._billboardAxis&&this._billboardAxis.normalize();return a},__class__:nk,__properties__:z(tc.prototype.__properties__,{set_billboardAxis:"set_billboardAxis",get_billboardAxis:"get_billboardAxis"})});var pk=function(a,b){tc.call(this,a,b);this._particleColorNode=b;this._usesMultiplier=this._particleColorNode._usesMultiplier;this._usesOffset=this._particleColorNode._usesOffset;this._usesCycle=this._particleColorNode._usesCycle;
this._usesPhase=this._particleColorNode._usesPhase;this._startColor=this._particleColorNode._startColor;this._endColor=this._particleColorNode._endColor;this._cycleDuration=this._particleColorNode._cycleDuration;this._cyclePhase=this._particleColorNode._cyclePhase;this.updateColorData()};m["away3d.animators.states.ParticleColorState"]=pk;pk.__name__=["away3d","animators","states","ParticleColorState"];pk.__super__=tc;pk.prototype=z(tc.prototype,{_particleColorNode:null,_usesMultiplier:null,_usesOffset:null,
_usesCycle:null,_usesPhase:null,_startColor:null,_endColor:null,_cycleDuration:null,_cyclePhase:null,_cycleData:null,_startMultiplierData:null,_deltaMultiplierData:null,_startOffsetData:null,_deltaOffsetData:null,get_startColor:function(){return this._startColor},set_startColor:function(a){this._startColor=a;this.updateColorData();return a},get_endColor:function(){return this._endColor},set_endColor:function(a){this._endColor=a;this.updateColorData();return a},get_cycleDuration:function(){return this._cycleDuration},
set_cycleDuration:function(a){this._cycleDuration=a;this.updateColorData();return a},get_cyclePhase:function(){return this._cyclePhase},set_cyclePhase:function(a){this._cyclePhase=a;this.updateColorData();return a},setRenderState:function(a,b,c,d,e){d.needFragmentAnimation&&(b=this._particleColorNode.dataOffset,this._usesCycle&&d.setVertexConst(d.getRegisterIndex(this._animationNode,4),this._cycleData.x,this._cycleData.y,this._cycleData.z,this._cycleData.w),this._usesMultiplier&&(1==this._particleColorNode.get_mode()?
(c.activateVertexBuffer(d.getRegisterIndex(this._animationNode,0),b,a,4),b+=4,c.activateVertexBuffer(d.getRegisterIndex(this._animationNode,1),b,a,4),b+=4):(d.setVertexConst(d.getRegisterIndex(this._animationNode,0),this._startMultiplierData.x,this._startMultiplierData.y,this._startMultiplierData.z,this._startMultiplierData.w),d.setVertexConst(d.getRegisterIndex(this._animationNode,1),this._deltaMultiplierData.x,this._deltaMultiplierData.y,this._deltaMultiplierData.z,this._deltaMultiplierData.w))),
this._usesOffset&&(1==this._particleColorNode.get_mode()?(c.activateVertexBuffer(d.getRegisterIndex(this._animationNode,2),b,a,4),b+=4,c.activateVertexBuffer(d.getRegisterIndex(this._animationNode,3),b,a,4)):(d.setVertexConst(d.getRegisterIndex(this._animationNode,2),this._startOffsetData.x,this._startOffsetData.y,this._startOffsetData.z,this._startOffsetData.w),d.setVertexConst(d.getRegisterIndex(this._animationNode,3),this._deltaOffsetData.x,this._deltaOffsetData.y,this._deltaOffsetData.z,this._deltaOffsetData.w))))},
updateColorData:function(){if(this._usesCycle){if(0>=this._cycleDuration)throw new H(new sa("the cycle duration must be greater than zero"));this._cycleData=new C(2*Math.PI/this._cycleDuration,this._cyclePhase*Math.PI/180,0,0)}0==this._particleColorNode.get_mode()&&(this._usesCycle?(this._usesMultiplier&&(this._startMultiplierData=new C((this._startColor.redMultiplier+this._endColor.redMultiplier)/2,(this._startColor.greenMultiplier+this._endColor.greenMultiplier)/2,(this._startColor.blueMultiplier+
this._endColor.blueMultiplier)/2,(this._startColor.alphaMultiplier+this._endColor.alphaMultiplier)/2),this._deltaMultiplierData=new C((this._endColor.redMultiplier-this._startColor.redMultiplier)/2,(this._endColor.greenMultiplier-this._startColor.greenMultiplier)/2,(this._endColor.blueMultiplier-this._startColor.blueMultiplier)/2,(this._endColor.alphaMultiplier-this._startColor.alphaMultiplier)/2)),this._usesOffset&&(this._startOffsetData=new C((this._startColor.redOffset+this._endColor.redOffset)/
510,(this._startColor.greenOffset+this._endColor.greenOffset)/510,(this._startColor.blueOffset+this._endColor.blueOffset)/510,(this._startColor.alphaOffset+this._endColor.alphaOffset)/510),this._deltaOffsetData=new C((this._endColor.redOffset-this._startColor.redOffset)/510,(this._endColor.greenOffset-this._startColor.greenOffset)/510,(this._endColor.blueOffset-this._startColor.blueOffset)/510,(this._endColor.alphaOffset-this._startColor.alphaOffset)/510))):(this._usesMultiplier&&(this._startMultiplierData=
new C(this._startColor.redMultiplier,this._startColor.greenMultiplier,this._startColor.blueMultiplier,this._startColor.alphaMultiplier),this._deltaMultiplierData=new C(this._endColor.redMultiplier-this._startColor.redMultiplier,this._endColor.greenMultiplier-this._startColor.greenMultiplier,this._endColor.blueMultiplier-this._startColor.blueMultiplier,this._endColor.alphaMultiplier-this._startColor.alphaMultiplier)),this._usesOffset&&(this._startOffsetData=new C(this._startColor.redOffset/255,this._startColor.greenOffset/
255,this._startColor.blueOffset/255,this._startColor.alphaOffset/255),this._deltaOffsetData=new C((this._endColor.redOffset-this._startColor.redOffset)/255,(this._endColor.greenOffset-this._startColor.greenOffset)/255,(this._endColor.blueOffset-this._startColor.blueOffset)/255,(this._endColor.alphaOffset-this._startColor.alphaOffset)/255))))},__class__:pk,__properties__:z(tc.prototype.__properties__,{set_cyclePhase:"set_cyclePhase",get_cyclePhase:"get_cyclePhase",set_cycleDuration:"set_cycleDuration",
get_cycleDuration:"get_cycleDuration",set_endColor:"set_endColor",get_endColor:"get_endColor",set_startColor:"set_startColor",get_startColor:"get_startColor"})});var qk=function(a,b){tc.call(this,a,b);this._particlePositionNode=b;this._position=this._particlePositionNode._position};m["away3d.animators.states.ParticlePositionState"]=qk;qk.__name__=["away3d","animators","states","ParticlePositionState"];qk.__super__=tc;qk.prototype=z(tc.prototype,{_particlePositionNode:null,_position:null,get_position:function(){return this._position},
set_position:function(a){return this._position=a},getPositions:function(){return this._dynamicProperties},setPositions:function(a){this._dynamicProperties=a;this._dynamicPropertiesDirty=new Hb},setRenderState:function(a,b,c,d,e){2==this._particlePositionNode.get_mode()&&null==this._dynamicPropertiesDirty.h.__keys__[c.__id__]&&this.updateDynamicProperties(c);b=d.getRegisterIndex(this._animationNode,0);0==this._particlePositionNode.get_mode()?d.setVertexConst(b,this._position.x,this._position.y,this._position.z):
c.activateVertexBuffer(b,this._particlePositionNode.dataOffset,a,3)},__class__:qk,__properties__:z(tc.prototype.__properties__,{set_position:"set_position",get_position:"get_position"})});var rk=function(a,b){tc.call(this,a,b);this._particleScaleNode=b;this._usesCycle=this._particleScaleNode._usesCycle;this._usesPhase=this._particleScaleNode._usesPhase;this._minScale=this._particleScaleNode._minScale;this._maxScale=this._particleScaleNode._maxScale;this._cycleDuration=this._particleScaleNode._cycleDuration;
this._cyclePhase=this._particleScaleNode._cyclePhase;this.updateScaleData()};m["away3d.animators.states.ParticleScaleState"]=rk;rk.__name__=["away3d","animators","states","ParticleScaleState"];rk.__super__=tc;rk.prototype=z(tc.prototype,{_particleScaleNode:null,_usesCycle:null,_usesPhase:null,_minScale:null,_maxScale:null,_cycleDuration:null,_cyclePhase:null,_scaleData:null,get_minScale:function(){return this._minScale},set_minScale:function(a){this._minScale=a;this.updateScaleData();return a},get_maxScale:function(){return this._maxScale},
set_maxScale:function(a){this._maxScale=a;this.updateScaleData();return a},get_cycleDuration:function(){return this._cycleDuration},set_cycleDuration:function(a){this._cycleDuration=a;this.updateScaleData();return a},get_cyclePhase:function(){return this._cyclePhase},set_cyclePhase:function(a){this._cyclePhase=a;this.updateScaleData();return a},setRenderState:function(a,b,c,d,e){b=d.getRegisterIndex(this._animationNode,0);1==this._particleScaleNode.get_mode()?this._usesCycle?this._usesPhase?c.activateVertexBuffer(b,
this._particleScaleNode.dataOffset,a,4):c.activateVertexBuffer(b,this._particleScaleNode.dataOffset,a,3):c.activateVertexBuffer(b,this._particleScaleNode.dataOffset,a,2):d.setVertexConst(b,this._scaleData.x,this._scaleData.y,this._scaleData.z,this._scaleData.w)},updateScaleData:function(){if(0==this._particleScaleNode.get_mode())if(this._usesCycle){if(0>=this._cycleDuration)throw new H(new sa("the cycle duration must be greater than zero"));this._scaleData=new C((this._minScale+this._maxScale)/2,
Math.abs(this._minScale-this._maxScale)/2,2*Math.PI/this._cycleDuration,this._cyclePhase*Math.PI/180)}else this._scaleData=new C(this._minScale,this._maxScale-this._minScale,0,0)},__class__:rk,__properties__:z(tc.prototype.__properties__,{set_cyclePhase:"set_cyclePhase",get_cyclePhase:"get_cyclePhase",set_cycleDuration:"set_cycleDuration",get_cycleDuration:"get_cycleDuration",set_maxScale:"set_maxScale",get_maxScale:"get_maxScale",set_minScale:"set_minScale",get_minScale:"get_minScale"})});var sk=
function(a,b){tc.call(this,a,b,!0);this._particleTimeNode=b};m["away3d.animators.states.ParticleTimeState"]=sk;sk.__name__=["away3d","animators","states","ParticleTimeState"];sk.__super__=tc;sk.prototype=z(tc.prototype,{_particleTimeNode:null,setRenderState:function(a,b,c,d,e){c.activateVertexBuffer(d.getRegisterIndex(this._animationNode,0),this._particleTimeNode.dataOffset,a,4);a=this._time/1E3;d.setVertexConst(d.getRegisterIndex(this._animationNode,1),a,a,a,a)},__class__:sk});var tk=function(a,
b){tc.call(this,a,b);this._particleVelocityNode=b;this._velocity=this._particleVelocityNode._velocity};m["away3d.animators.states.ParticleVelocityState"]=tk;tk.__name__=["away3d","animators","states","ParticleVelocityState"];tk.__super__=tc;tk.prototype=z(tc.prototype,{_particleVelocityNode:null,_velocity:null,get_velocity:function(){return this._velocity},set_velocity:function(a){return this._velocity=a},getVelocities:function(){return this._dynamicProperties},setVelocities:function(a){this._dynamicProperties=
a;this._dynamicPropertiesDirty=new Hb},setRenderState:function(a,b,c,d,e){2==this._particleVelocityNode.get_mode()&&null==this._dynamicPropertiesDirty.h.__keys__[c.__id__]&&this.updateDynamicProperties(c);b=d.getRegisterIndex(this._animationNode,0);0==this._particleVelocityNode.get_mode()?d.setVertexConst(b,this._velocity.x,this._velocity.y,this._velocity.z):c.activateVertexBuffer(b,this._particleVelocityNode.dataOffset,a,3)},__class__:tk,__properties__:z(tc.prototype.__properties__,{set_velocity:"set_velocity",
get_velocity:"get_velocity"})});var Mi=function(a,b){this._skeletonPoseDirty=!0;this._skeletonPose=new xf;this._rootPos=new C;Kd.call(this,a,b);this._skeletonClipNode=b;this._frames=this._skeletonClipNode.get_frames()};m["away3d.animators.states.SkeletonClipState"]=Mi;Mi.__name__=["away3d","animators","states","SkeletonClipState"];Mi.__interfaces__=[Ii];Mi.__super__=Kd;Mi.prototype=z(Kd.prototype,{_rootPos:null,_frames:null,_skeletonClipNode:null,_skeletonPose:null,_skeletonPoseDirty:null,_currentPose:null,
_nextPose:null,get_currentPose:function(){this._framesDirty&&this.updateFrames();return this._currentPose},get_nextPose:function(){this._framesDirty&&this.updateFrames();return this._nextPose},getSkeletonPose:function(a){this._skeletonPoseDirty&&this.updateSkeletonPose(a);return this._skeletonPose},updateTime:function(a){this._skeletonPoseDirty=!0;Kd.prototype.updateTime.call(this,a)},updateFrames:function(){Kd.prototype.updateFrames.call(this);this._currentPose=this._frames.get(this._currentFrame);
this._skeletonClipNode.get_looping()&&this._nextFrame>=this._skeletonClipNode.get_lastFrame()?(this._nextPose=this._frames.get(0),y.__cast(this._animator,eh).dispatchCycleEvent()):this._nextPose=this._frames.get(this._nextFrame)},updateSkeletonPose:function(a){this._skeletonPoseDirty=!1;if(0!=this._skeletonClipNode.get_totalDuration()){this._framesDirty&&this.updateFrames();var b=this._currentPose.jointPoses,c=this._nextPose.jointPoses;a=a.get_numJoints();var d,e,f,k,p=this._skeletonPose.jointPoses,
w;p.get_length()!=a&&p.set_length(a);if(a!=b.get_length()||a!=c.get_length())throw new H(new sa("joint counts don't match!"));for(var h=0;h<a;){var n=h++;null==p.get(n)&&p.set(n,new fh);w=p.get(n);f=b.get(n);k=c.get(n);d=f.translation;e=k.translation;this._skeletonClipNode.highQuality?w.orientation.slerp(f.orientation,k.orientation,this._blendWeight):w.orientation.lerp(f.orientation,k.orientation,this._blendWeight);0<n&&(f=w.translation,f.x=d.x+this._blendWeight*(e.x-d.x),f.y=d.y+this._blendWeight*
(e.y-d.y),f.z=d.z+this._blendWeight*(e.z-d.z))}}},updatePositionDelta:function(){this._positionDeltaDirty=!1;this._framesDirty&&this.updateFrames();var a,b,c;a=this._skeletonClipNode.get_totalDelta();if(0<this._timeDir&&this._nextFrame<this._oldFrame||0>this._timeDir&&this._nextFrame>this._oldFrame)this._rootPos.x-=a.x*this._timeDir,this._rootPos.y-=a.y*this._timeDir,this._rootPos.z-=a.z*this._timeDir;var d=this._rootPos.x,e=this._rootPos.y,f=this._rootPos.z;this._skeletonClipNode.get_stitchFinalFrame()&&
this._nextFrame==this._skeletonClipNode.get_lastFrame()?(a=this._frames.get(0).jointPoses.get(0).translation,b=this._frames.get(1).jointPoses.get(0).translation,c=this._currentPose.jointPoses.get(0).translation,this._rootPos.x=c.x+a.x+this._blendWeight*(b.x-a.x),this._rootPos.y=c.y+a.y+this._blendWeight*(b.y-a.y),this._rootPos.z=c.z+a.z+this._blendWeight*(b.z-a.z)):(a=this._currentPose.jointPoses.get(0).translation,b=this._frames.get(this._nextFrame).jointPoses.get(0).translation,this._rootPos.x=
a.x+this._blendWeight*(b.x-a.x),this._rootPos.y=a.y+this._blendWeight*(b.y-a.y),this._rootPos.z=a.z+this._blendWeight*(b.z-a.z));this._rootDelta.x=this._rootPos.x-d;this._rootDelta.y=this._rootPos.y-e;this._rootDelta.z=this._rootPos.z-f;this._oldFrame=this._nextFrame},__class__:Mi,__properties__:z(Kd.prototype.__properties__,{get_nextPose:"get_nextPose",get_currentPose:"get_currentPose"})});var uk=function(a,b){Kd.call(this,a,b);this._uvClipNode=b;this._frames=this._uvClipNode.get_frames()};m["away3d.animators.states.UVClipState"]=
uk;uk.__name__=["away3d","animators","states","UVClipState"];uk.__interfaces__=[Jm];uk.__super__=Kd;uk.prototype=z(Kd.prototype,{_frames:null,_uvClipNode:null,_currentUVFrame:null,_nextUVFrame:null,get_currentUVFrame:function(){this._framesDirty&&this.updateFrames();return this._currentUVFrame},get_nextUVFrame:function(){this._framesDirty&&this.updateFrames();return this._nextUVFrame},updateFrames:function(){Kd.prototype.updateFrames.call(this);0<this._frames.get_length()&&(2==this._frames.get_length()&&
0==this._currentFrame?(this._currentUVFrame=this._frames.get(1),this._nextUVFrame=this._frames.get(0)):(this._currentUVFrame=this._frames.get(this._currentFrame),this._uvClipNode.get_looping()&&this._nextFrame>=this._uvClipNode.get_lastFrame()?this._nextUVFrame=this._frames.get(0):this._nextUVFrame=this._frames.get(this._nextFrame)))},__class__:uk,__properties__:z(Kd.prototype.__properties__,{get_nextUVFrame:"get_nextUVFrame",get_currentUVFrame:"get_currentUVFrame"})});var vk=function(a,b){Kd.call(this,
a,b);this._vertexClipNode=b;this._frames=this._vertexClipNode.get_frames()};m["away3d.animators.states.VertexClipState"]=vk;vk.__name__=["away3d","animators","states","VertexClipState"];vk.__interfaces__=[lk];vk.__super__=Kd;vk.prototype=z(Kd.prototype,{_frames:null,_vertexClipNode:null,_currentGeometry:null,_nextGeometry:null,get_currentGeometry:function(){this._framesDirty&&this.updateFrames();return this._currentGeometry},get_nextGeometry:function(){this._framesDirty&&this.updateFrames();return this._nextGeometry},
updateFrames:function(){Kd.prototype.updateFrames.call(this);this._currentGeometry=this._frames.get(this._currentFrame);this._vertexClipNode.get_looping()&&this._nextFrame>=this._vertexClipNode.get_lastFrame()?(this._nextGeometry=this._frames.get(0),y.__cast(this._animator,gh).dispatchCycleEvent()):this._nextGeometry=this._frames.get(this._nextFrame)},updatePositionDelta:function(){},__class__:vk,__properties__:z(Kd.prototype.__properties__,{get_nextGeometry:"get_nextGeometry",get_currentGeometry:"get_currentGeometry"})});
var ps=function(){};m["away3d.animators.transitions.IAnimationTransition"]=ps;ps.__name__=["away3d","animators","transitions","IAnimationTransition"];ps.prototype={getAnimationNode:null,__class__:ps};var ie=function(){this._aabbPointsDirty=!0;this._aabbPoints=x.toFloatVector(null);this._min=new C;this._max=new C};m["away3d.bounds.BoundingVolumeBase"]=ie;ie.__name__=["away3d","bounds","BoundingVolumeBase"];ie.prototype={_min:null,_max:null,_aabbPoints:null,_aabbPointsDirty:null,_boundingRenderable:null,
get_max:function(){return this._max},get_min:function(){return this._min},get_aabbPoints:function(){this._aabbPointsDirty&&this.updateAABBPoints();return this._aabbPoints},get_boundingRenderable:function(){null==this._boundingRenderable&&(this._boundingRenderable=this.createBoundingRenderable(),this.updateBoundingRenderable());return this._boundingRenderable},nullify:function(){this._min.x=this._min.y=this._min.z=0;this._max.x=this._max.y=this._max.z=0;this._aabbPointsDirty=!0;null!=this._boundingRenderable&&
this.updateBoundingRenderable()},disposeRenderable:function(){null!=this._boundingRenderable&&this._boundingRenderable.dispose();this._boundingRenderable=null},fromVertices:function(a){var b=0,c=a.get_length(),d,e,f,k,p,w;if(0==c)this.nullify();else{var h;d=k=a.get(b++);e=p=a.get(b++);for(f=w=a.get(b++);b<c;)h=a.get(b++),h<d?d=h:h>k&&(k=h),h=a.get(b++),h<e?e=h:h>p&&(p=h),h=a.get(b++),h<f?f=h:h>w&&(w=h);this.fromExtremes(d,e,f,k,p,w)}},fromGeometry:function(a){a=a.get_subGeometries();var b=a.get_length(),
c,d,e,f,k,p;if(0<b){var w=a.get(0),h=w.get_vertexData(),n=w.get_vertexOffset();c=f=h.get(n);d=k=h.get(n+1);e=p=h.get(n+2);for(var l=0;l<b;)for(var w=a.get(l++),h=w.get_vertexData(),g=h.get_length(),n=w.get_vertexOffset(),w=w.get_vertexStride();n<g;){var m=h.get(n);m<c?c=m:m>f&&(f=m);m=h.get(n+1);m<d?d=m:m>k&&(k=m);m=h.get(n+2);m<e?e=m:m>p&&(p=m);n+=w}this.fromExtremes(c,d,e,f,k,p)}else this.fromExtremes(0,0,0,0,0,0)},fromSphere:function(a,b){this.fromExtremes(a.x-b,a.y-b,a.z-b,a.x+b,a.y+b,a.z+b)},
fromExtremes:function(a,b,c,d,e,f){this._min.x=a;this._min.y=b;this._min.z=c;this._max.x=d;this._max.y=e;this._max.z=f;this._aabbPointsDirty=!0;null!=this._boundingRenderable&&this.updateBoundingRenderable()},isInFrustum:function(a,b){throw new H(new bb);},overlaps:function(a){var b=a._min;a=a._max;return this._max.x>b.x&&this._min.x<a.x&&this._max.y>b.y&&this._min.y<a.y&&this._max.z>b.z?this._min.z<a.z:!1},clone:function(){throw new H(new bb);},rayIntersection:function(a,b,c){return-1},containsPoint:function(a){return!1},
updateAABBPoints:function(){var a=this._max.x,b=this._max.y,c=this._max.z,d=this._min.x,e=this._min.y,f=this._min.z;this._aabbPoints.set(0,d);this._aabbPoints.set(1,e);this._aabbPoints.set(2,f);this._aabbPoints.set(3,a);this._aabbPoints.set(4,e);this._aabbPoints.set(5,f);this._aabbPoints.set(6,d);this._aabbPoints.set(7,b);this._aabbPoints.set(8,f);this._aabbPoints.set(9,a);this._aabbPoints.set(10,b);this._aabbPoints.set(11,f);this._aabbPoints.set(12,d);this._aabbPoints.set(13,e);this._aabbPoints.set(14,
c);this._aabbPoints.set(15,a);this._aabbPoints.set(16,e);this._aabbPoints.set(17,c);this._aabbPoints.set(18,d);this._aabbPoints.set(19,b);this._aabbPoints.set(20,c);this._aabbPoints.set(21,a);this._aabbPoints.set(22,b);this._aabbPoints.set(23,c);this._aabbPointsDirty=!1},updateBoundingRenderable:function(){throw new H(new bb);},createBoundingRenderable:function(){throw new H(new bb);},classifyToPlane:function(a){throw new H(new bb);},transformFrom:function(a,b){throw new H(new bb);},__class__:ie,
__properties__:{get_boundingRenderable:"get_boundingRenderable",get_aabbPoints:"get_aabbPoints",get_min:"get_min",get_max:"get_max"}};var Pi=function(){this._centerX=this._centerY=this._centerZ=this._halfExtentsX=this._halfExtentsY=this._halfExtentsZ=0;ie.call(this)};m["away3d.bounds.AxisAlignedBoundingBox"]=Pi;Pi.__name__=["away3d","bounds","AxisAlignedBoundingBox"];Pi.__super__=ie;Pi.prototype=z(ie.prototype,{_centerX:null,_centerY:null,_centerZ:null,_halfExtentsX:null,_halfExtentsY:null,_halfExtentsZ:null,
nullify:function(){ie.prototype.nullify.call(this);this._halfExtentsX=this._halfExtentsY=this._halfExtentsZ=this._centerX=this._centerY=this._centerZ=0},isInFrustum:function(a,b){for(var c=0;c<b;){var d=c++,d=a.get(d),e=d.a,f=d.b,k=d.c;if(0>e*(this._centerX+(0>e?-this._halfExtentsX:this._halfExtentsX))+f*(this._centerY+(0>f?-this._halfExtentsY:this._halfExtentsY))+k*(this._centerZ+(0>k?-this._halfExtentsZ:this._halfExtentsZ))-d.d)return!1}return!0},rayIntersection:function(a,b,c){if(this.containsPoint(a))return 0;
var d=a.x-this._centerX,e=a.y-this._centerY;a=a.z-this._centerZ;var f=b.x,k=b.y;b=b.z;var p,w,h,n=0,l=!1;0>f&&(n=(this._halfExtentsX-d)/f,0<n&&(w=e+n*k,h=a+n*b,w>-this._halfExtentsY&&w<this._halfExtentsY&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=1,c.y=0,c.z=0,l=!0)));!l&&0<f&&(n=(-this._halfExtentsX-d)/f,0<n&&(w=e+n*k,h=a+n*b,w>-this._halfExtentsY&&w<this._halfExtentsY&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=-1,c.y=0,c.z=0,l=!0)));!l&&0>k&&(n=(this._halfExtentsY-e)/k,0<n&&(p=d+
n*f,h=a+n*b,p>-this._halfExtentsX&&p<this._halfExtentsX&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=0,c.y=1,c.z=0,l=!0)));!l&&0<k&&(n=(-this._halfExtentsY-e)/k,0<n&&(p=d+n*f,h=a+n*b,p>-this._halfExtentsX&&p<this._halfExtentsX&&h>-this._halfExtentsZ&&h<this._halfExtentsZ&&(c.x=0,c.y=-1,c.z=0,l=!0)));!l&&0>b&&(n=(this._halfExtentsZ-a)/b,0<n&&(p=d+n*f,w=e+n*k,w>-this._halfExtentsY&&w<this._halfExtentsY&&p>-this._halfExtentsX&&p<this._halfExtentsX&&(c.x=0,c.y=0,c.z=1,l=!0)));!l&&0<b&&(n=(-this._halfExtentsZ-
a)/b,0<n&&(p=d+n*f,w=e+n*k,w>-this._halfExtentsY&&w<this._halfExtentsY&&p>-this._halfExtentsX&&p<this._halfExtentsX&&(c.x=0,c.y=0,c.z=-1,l=!0)));return l?n:-1},containsPoint:function(a){var b=a.x-this._centerX,c=a.y-this._centerY;a=a.z-this._centerZ;return b<=this._halfExtentsX&&b>=-this._halfExtentsX&&c<=this._halfExtentsY&&c>=-this._halfExtentsY&&a<=this._halfExtentsZ?a>=-this._halfExtentsZ:!1},fromExtremes:function(a,b,c,d,e,f){this._centerX=.5*(d+a);this._centerY=.5*(e+b);this._centerZ=.5*(f+
c);this._halfExtentsX=.5*(d-a);this._halfExtentsY=.5*(e-b);this._halfExtentsZ=.5*(f-c);ie.prototype.fromExtremes.call(this,a,b,c,d,e,f)},clone:function(){var a=new Pi;a.fromExtremes(this._min.x,this._min.y,this._min.z,this._max.x,this._max.y,this._max.z);return a},get_halfExtentsX:function(){return this._halfExtentsX},get_halfExtentsY:function(){return this._halfExtentsY},get_halfExtentsZ:function(){return this._halfExtentsZ},closestPointToPoint:function(a,b){var c;null==b&&(b=new C);c=a.x;c<this._min.x&&
(c=this._min.x);c>this._max.x&&(c=this._max.x);b.x=c;c=a.y;c<this._min.y&&(c=this._min.y);c>this._max.y&&(c=this._max.y);b.y=c;c=a.z;c<this._min.z&&(c=this._min.z);c>this._max.z&&(c=this._max.z);b.z=c;return b},updateBoundingRenderable:function(){this._boundingRenderable.set_scaleX(Math.max(2*this._halfExtentsX,.001));this._boundingRenderable.set_scaleY(Math.max(2*this._halfExtentsY,.001));this._boundingRenderable.set_scaleZ(Math.max(2*this._halfExtentsZ,.001));this._boundingRenderable.set_x(this._centerX);
this._boundingRenderable.set_y(this._centerY);this._boundingRenderable.set_z(this._centerZ)},createBoundingRenderable:function(){return new Km(1,1,1,16777215,.5)},classifyToPlane:function(a){var b=a.a,c=a.b,d=a.c;a=b*this._centerX+c*this._centerY+d*this._centerZ-a.d;0>b&&(b=-b);0>c&&(c=-c);0>d&&(d=-d);b=b*this._halfExtentsX+c*this._halfExtentsY+d*this._halfExtentsZ;return a>b?1:a<-b?0:2},transformFrom:function(a,b){var c=y.__cast(a,Pi),d=c._centerX,e=c._centerY,f=c._centerZ,k=Ja.RAW_DATA_CONTAINER;
b.copyRawDataTo(k);var p=k.get(0),w=k.get(4),h=k.get(8),n=k.get(12),l=k.get(1),g=k.get(5),m=k.get(9),r=k.get(13),q=k.get(2),t=k.get(6),u=k.get(10),k=k.get(14);this._centerX=d*p+e*w+f*h+n;this._centerY=d*l+e*g+f*m+r;this._centerZ=d*q+e*t+f*u+k;0>p&&(p=-p);0>w&&(w=-w);0>h&&(h=-h);0>l&&(l=-l);0>g&&(g=-g);0>m&&(m=-m);0>q&&(q=-q);0>t&&(t=-t);0>u&&(u=-u);d=c._halfExtentsX;e=c._halfExtentsY;c=c._halfExtentsZ;this._halfExtentsX=d*p+e*w+c*h;this._halfExtentsY=d*l+e*g+c*m;this._halfExtentsZ=d*q+e*t+c*u;this._min.x=
this._centerX-this._halfExtentsX;this._min.y=this._centerY-this._halfExtentsY;this._min.z=this._centerZ-this._halfExtentsZ;this._max.x=this._centerX+this._halfExtentsX;this._max.y=this._centerY+this._halfExtentsY;this._max.z=this._centerZ+this._halfExtentsZ;this._aabbPointsDirty=!0},__class__:Pi,__properties__:z(ie.prototype.__properties__,{get_halfExtentsZ:"get_halfExtentsZ",get_halfExtentsY:"get_halfExtentsY",get_halfExtentsX:"get_halfExtentsX"})});var Rh=function(){this._radius=this._centerX=this._centerY=
this._centerZ=0;ie.call(this)};m["away3d.bounds.BoundingSphere"]=Rh;Rh.__name__=["away3d","bounds","BoundingSphere"];Rh.__super__=ie;Rh.prototype=z(ie.prototype,{_radius:null,_centerX:null,_centerY:null,_centerZ:null,get_radius:function(){return this._radius},nullify:function(){ie.prototype.nullify.call(this);this._radius=this._centerX=this._centerY=this._centerZ=0},isInFrustum:function(a,b){for(var c=0;c<b;){var d=c++,d=a.get(d);if(0>d.a*(this._centerX+(0>d.a?-this._radius:this._radius))+d.b*(this._centerY+
(0>d.b?-this._radius:this._radius))+d.c*(this._centerZ+(0>d.c?-this._radius:this._radius))-d.d)return!1}return!0},fromSphere:function(a,b){this._centerX=a.x;this._centerY=a.y;this._centerZ=a.z;this._radius=b;this._max.x=this._centerX+b;this._max.y=this._centerY+b;this._max.z=this._centerZ+b;this._min.x=this._centerX-b;this._min.y=this._centerY-b;this._min.z=this._centerZ-b;this._aabbPointsDirty=!0;null!=this._boundingRenderable&&this.updateBoundingRenderable()},fromExtremes:function(a,b,c,d,e,f){this._centerX=
.5*(d+a);this._centerY=.5*(e+b);this._centerZ=.5*(f+c);var k=d-a,p=e-b,w=f-c;p>k&&(k=p);w>k&&(k=w);this._radius=k*Math.sqrt(.5);ie.prototype.fromExtremes.call(this,a,b,c,d,e,f)},clone:function(){var a=new Rh;a.fromSphere(new C(this._centerX,this._centerY,this._centerZ),this._radius);return a},rayIntersection:function(a,b,c){if(this.containsPoint(a))return 0;var d=a.x-this._centerX,e=a.y-this._centerY;a=a.z-this._centerZ;var f=b.x,k=b.y;b=b.z;var p;p=f*f+k*k+b*b;var w=2*(d*f+e*k+a*b),h=w*w-4*p*(d*
d+e*e+a*a-this._radius*this._radius);return 0<=h&&(h=Math.sqrt(h),p=(-w-h)/(2*p),0<=p)?(c.x=d+p*f,c.y=e+p*k,c.z=a+p*b,c.normalize(),p):-1},containsPoint:function(a){var b=a.x-this._centerX,c=a.y-this._centerY;a=a.z-this._centerZ;return Math.sqrt(b*b+c*c+a*a)<=this._radius},updateBoundingRenderable:function(){var a=this._radius;0==a&&(a=.001);this._boundingRenderable.set_scaleX(a);this._boundingRenderable.set_scaleY(a);this._boundingRenderable.set_scaleZ(a);this._boundingRenderable.set_x(this._centerX);
this._boundingRenderable.set_y(this._centerY);this._boundingRenderable.set_z(this._centerZ)},createBoundingRenderable:function(){return new Di(1,16,12,16777215,.5)},classifyToPlane:function(a){var b=a.a,c=a.b,d=a.c;a=b*this._centerX+c*this._centerY+d*this._centerZ-a.d;0>b&&(b=-b);0>c&&(c=-c);0>d&&(d=-d);b=(b+c+d)*this._radius;return a>b?1:a<-b?0:2},transformFrom:function(a,b){var c=y.__cast(a,Rh),d=c._centerX,e=c._centerY,f=c._centerZ,k=Ja.RAW_DATA_CONTAINER;b.copyRawDataTo(k);var p=k.get(0),w=k.get(4),
h=k.get(8),n=k.get(12),l=k.get(1),g=k.get(5),m=k.get(9),r=k.get(13),q=k.get(2),t=k.get(6),u=k.get(10),k=k.get(14);this._centerX=d*p+e*w+f*h+n;this._centerY=d*l+e*g+f*m+r;this._centerZ=d*q+e*t+f*u+k;0>p&&(p=-p);0>w&&(w=-w);0>h&&(h=-h);0>l&&(l=-l);0>g&&(g=-g);0>m&&(m=-m);0>q&&(q=-q);0>t&&(t=-t);0>u&&(u=-u);d=p+w+h;l=l+g+m;q=q+t+u;this._radius=c._radius*Math.sqrt(d*d+l*l+q*q);this._min.x=this._centerX-this._radius;this._min.y=this._centerY-this._radius;this._min.z=this._centerZ-this._radius;this._max.x=
this._centerX+this._radius;this._max.y=this._centerY+this._radius;this._max.z=this._centerZ+this._radius},__class__:Rh,__properties__:z(ie.prototype.__properties__,{get_radius:"get_radius"})});var Dg=function(a,b){null==a&&(a=!0);ie.call(this);this._alwaysIn=a;this._renderable=b;this._max.x=this._max.y=this._max.z=Infinity;this._min.x=this._min.y=this._min.z=this._alwaysIn?-Infinity:Infinity};m["away3d.bounds.NullBounds"]=Dg;Dg.__name__=["away3d","bounds","NullBounds"];Dg.__super__=ie;Dg.prototype=
z(ie.prototype,{_alwaysIn:null,_renderable:null,clone:function(){return new Dg(this._alwaysIn)},createBoundingRenderable:function(){return null!=this._renderable?this._renderable:new Di(100,16,12,16777215,.5)},isInFrustum:function(a,b){return this._alwaysIn},fromGeometry:function(a){},fromSphere:function(a,b){},fromExtremes:function(a,b,c,d,e,f){},classifyToPlane:function(a){return 2},transformFrom:function(a,b){this._alwaysIn=y.__cast(a,Dg)._alwaysIn},__class__:Dg});var dd=function(){this._sca=new C;
this._rot=new C;this._pos=new C;this._pivotZero=!0;this._pivotPoint=new C;this._x=this._y=this._z=0;this._scaleX=this._scaleY=this._scaleZ=1;this._transform=new Xa;this._zOffset=0;this._flipY=new Xa;this._eulers=new C;this._rotationX=this._rotationY=this._rotationZ=0;this._transformDirty=!0;this._smallestNumber=1E-22;this._transformComponents=x.toObjectVector(null,3,!0);this._transformComponents.set(0,this._pos);this._transformComponents.set(1,this._rot);this._transformComponents.set(2,this._sca);
this._transform.identity();this._flipY.appendScale(1,-1,1);Ka.call(this)};m["away3d.core.base.Object3D"]=dd;dd.__name__=["away3d","core","base","Object3D"];dd.__super__=Ka;dd.prototype=z(Ka.prototype,{_controller:null,_smallestNumber:null,_transformDirty:null,_positionDirty:null,_rotationDirty:null,_scaleDirty:null,_positionChanged:null,_rotationChanged:null,_scaleChanged:null,_rotationX:null,_rotationY:null,_rotationZ:null,_eulers:null,_flipY:null,_listenToPositionChanged:null,_listenToRotationChanged:null,
_listenToScaleChanged:null,_zOffset:null,invalidatePivot:function(){this._pivotZero=0==this._pivotPoint.x&&0==this._pivotPoint.y&&0==this._pivotPoint.z;this.invalidateTransform()},invalidatePosition:function(){this._positionDirty||(this._positionDirty=!0,this.invalidateTransform(),this._listenToPositionChanged&&this.notifyPositionChanged())},notifyPositionChanged:function(){null==this._positionChanged&&(this._positionChanged=new De("positionChanged",this));this.dispatchEvent(this._positionChanged)},
addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);Ka.prototype.addEventListener.call(this,a,b,c,d,e);switch(a){case "positionChanged":this._listenToPositionChanged=!0;break;case "rotationChanged":this._listenToRotationChanged=!0;break;case "scaleChanged":this._listenToScaleChanged=!0}},removeEventListener:function(a,b,c){null==c&&(c=!1);Ka.prototype.removeEventListener.call(this,a,b,c);if(!this.hasEventListener(a))switch(a){case "positionChanged":this._listenToPositionChanged=
!1;break;case "rotationChanged":this._listenToRotationChanged=!1;break;case "scaleChanged":this._listenToScaleChanged=!1}},invalidateRotation:function(){this._rotationDirty||(this._rotationDirty=!0,this.invalidateTransform(),this._listenToRotationChanged&&this.notifyRotationChanged())},notifyRotationChanged:function(){null==this._rotationChanged&&(this._rotationChanged=new De("rotationChanged",this));this.dispatchEvent(this._rotationChanged)},invalidateScale:function(){this._scaleDirty||(this._scaleDirty=
!0,this.invalidateTransform(),this._listenToScaleChanged&&this.notifyScaleChanged())},notifyScaleChanged:function(){null==this._scaleChanged&&(this._scaleChanged=new De("scaleChanged",this));this.dispatchEvent(this._scaleChanged)},_transform:null,_scaleX:null,_scaleY:null,_scaleZ:null,_x:null,_y:null,_z:null,_pivotPoint:null,_pivotZero:null,_pos:null,_rot:null,_sca:null,_transformComponents:null,extra:null,get_x:function(){return this._x},set_x:function(a){if(this._x==a)return a;this._x=a;this.invalidatePosition();
return a},get_y:function(){return this._y},set_y:function(a){if(this._y==a)return a;this._y=a;this.invalidatePosition();return a},get_z:function(){return this._z},set_z:function(a){if(this._z==a)return a;this._z=a;this.invalidatePosition();return a},get_rotationX:function(){return this._rotationX*cd.RADIANS_TO_DEGREES},set_rotationX:function(a){if(this.get_rotationX()==a)return a;this._rotationX=a*cd.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_rotationY:function(){return this._rotationY*
cd.RADIANS_TO_DEGREES},set_rotationY:function(a){if(this.get_rotationY()==a)return a;this._rotationY=a*cd.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_rotationZ:function(){return this._rotationZ*cd.RADIANS_TO_DEGREES},set_rotationZ:function(a){if(this.get_rotationZ()==a)return a;this._rotationZ=a*cd.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_scaleX:function(){return this._scaleX},set_scaleX:function(a){if(this._scaleX==a)return a;this._scaleX=a;this.invalidateScale();
return a},get_scaleY:function(){return this._scaleY},set_scaleY:function(a){if(this._scaleY==a)return a;this._scaleY=a;this.invalidateScale();return a},get_scaleZ:function(){return this._scaleZ},set_scaleZ:function(a){if(this._scaleZ==a)return a;this._scaleZ=a;this.invalidateScale();return a},get_eulers:function(){this._eulers.x=this._rotationX*cd.RADIANS_TO_DEGREES;this._eulers.y=this._rotationY*cd.RADIANS_TO_DEGREES;this._eulers.z=this._rotationZ*cd.RADIANS_TO_DEGREES;return this._eulers},set_eulers:function(a){this._rotationX=
a.x*cd.DEGREES_TO_RADIANS;this._rotationY=a.y*cd.DEGREES_TO_RADIANS;this._rotationZ=a.z*cd.DEGREES_TO_RADIANS;this.invalidateRotation();return a},get_transform:function(){this._transformDirty&&this.updateTransform();return this._transform},set_transform:function(a){if(0==a.rawData.get(0)){var b=Ja.RAW_DATA_CONTAINER;a.copyRawDataTo(b);b.set(0,this._smallestNumber);a.copyRawDataFrom(b)}var b=Ja.decompose(a),c=b.get(0);if(this._x!=c.x||this._y!=c.y||this._z!=c.z)this._x=c.x,this._y=c.y,this._z=c.z,
this.invalidatePosition();c=b.get(1);if(this._rotationX!=c.x||this._rotationY!=c.y||this._rotationZ!=c.z)this._rotationX=c.x,this._rotationY=c.y,this._rotationZ=c.z,this.invalidateRotation();c=b.get(2);if(this._scaleX!=c.x||this._scaleY!=c.y||this._scaleZ!=c.z)this._scaleX=c.x,this._scaleY=c.y,this._scaleZ=c.z,this.invalidateScale();return a},get_pivotPoint:function(){return this._pivotPoint},set_pivotPoint:function(a){null==this._pivotPoint&&(this._pivotPoint=new C);this._pivotPoint.x=a.x;this._pivotPoint.y=
a.y;this._pivotPoint.z=a.z;this.invalidatePivot();return a},get_position:function(){this.get_transform().copyColumnTo(3,this._pos);return this._pos.clone()},set_position:function(a){this._x=a.x;this._y=a.y;this._z=a.z;this.invalidatePosition();return a},getPosition:function(a){null==a&&(a=new C);this.get_transform().copyColumnTo(3,a);return a},get_forwardVector:function(){return Ja.getForward(this.get_transform())},get_rightVector:function(){return Ja.getRight(this.get_transform())},get_upVector:function(){return Ja.getUp(this.get_transform())},
get_backVector:function(){var a=Ja.getForward(this.get_transform());a.negate();return a},get_leftVector:function(){var a=Ja.getRight(this.get_transform());a.negate();return a},get_downVector:function(){var a=Ja.getUp(this.get_transform());a.negate();return a},scale:function(a){this._scaleX*=a;this._scaleY*=a;this._scaleZ*=a;this.invalidateScale()},moveForward:function(a){this.translateLocal(new C(0,0,1),a)},moveBackward:function(a){this.translateLocal(new C(0,0,1),-a)},moveLeft:function(a){this.translateLocal(new C(1,
0,0),-a)},moveRight:function(a){this.translateLocal(new C(1,0,0),a)},moveUp:function(a){this.translateLocal(new C(0,1,0),a)},moveDown:function(a){this.translateLocal(new C(0,1,0),-a)},moveTo:function(a,b,c){if(this._x!=a||this._y!=b||this._z!=c)this._x=a,this._y=b,this._z=c,this.invalidatePosition()},movePivot:function(a,b,c){null==this._pivotPoint&&(this._pivotPoint=new C);this._pivotPoint.x+=a;this._pivotPoint.y+=b;this._pivotPoint.z+=c;this.invalidatePivot()},translate:function(a,b){var c=a.x,
d=a.y,e=a.z,f=b/Math.sqrt(c*c+d*d+e*e);this._x+=c*f;this._y+=d*f;this._z+=e*f;this.invalidatePosition()},translateLocal:function(a,b){var c=a.x,d=a.y,e=a.z,f=b/Math.sqrt(c*c+d*d+e*e);this.get_transform().prependTranslation(c*f,d*f,e*f);this._transform.copyColumnTo(3,this._pos);this._x=this._pos.x;this._y=this._pos.y;this._z=this._pos.z;this.invalidatePosition()},pitch:function(a){this.rotate(new C(1,0,0),a)},yaw:function(a){this.rotate(new C(0,1,0),a)},roll:function(a){this.rotate(new C(0,0,1),a)},
clone:function(){var a=new dd;a.set_pivotPoint(this.get_pivotPoint());a.set_transform(this.get_transform());a.set_name(this.get_name());return a},rotateTo:function(a,b,c){this._rotationX=a*cd.DEGREES_TO_RADIANS;this._rotationY=b*cd.DEGREES_TO_RADIANS;this._rotationZ=c*cd.DEGREES_TO_RADIANS;this.invalidateRotation()},rotate:function(a,b){var c=new Xa;c.prependRotation(b,a);c=c.decompose().get(1);this._rotationX+=c.x;this._rotationY+=c.y;this._rotationZ+=c.z;this.invalidateRotation()},lookAt:function(a,
b){null==dd.tempAxeX&&(dd.tempAxeX=new C);null==dd.tempAxeY&&(dd.tempAxeY=new C);null==dd.tempAxeZ&&(dd.tempAxeZ=new C);var c=dd.tempAxeX,d=dd.tempAxeY,e=dd.tempAxeZ,f;null==b&&(b=new C(0,1,0));this._transformDirty&&this.updateTransform();e.x=a.x-this._x;e.y=a.y-this._y;e.z=a.z-this._z;e.normalize();c.x=b.y*e.z-b.z*e.y;c.y=b.z*e.x-b.x*e.z;c.z=b.x*e.y-b.y*e.x;c.normalize();.05>c.get_length()&&(c.x=b.y,c.y=b.x,c.z=0,c.normalize());d.x=e.y*c.z-e.z*c.y;d.y=e.z*c.x-e.x*c.z;d.z=e.x*c.y-e.y*c.x;f=Ja.RAW_DATA_CONTAINER;
f.set(0,this._scaleX*c.x);f.set(1,this._scaleX*c.y);f.set(2,this._scaleX*c.z);f.set(3,0);f.set(4,this._scaleY*d.x);f.set(5,this._scaleY*d.y);f.set(6,this._scaleY*d.z);f.set(7,0);f.set(8,this._scaleZ*e.x);f.set(9,this._scaleZ*e.y);f.set(10,this._scaleZ*e.z);f.set(11,0);f.set(12,this._x);f.set(13,this._y);f.set(14,this._z);f.set(15,1);this._transform.copyRawDataFrom(f);this.set_transform(this.get_transform());0>e.z&&(this.set_rotationY(180-this.get_rotationY()),this.set_rotationX(this.get_rotationX()-
180),this.set_rotationZ(this.get_rotationZ()-180))},dispose:function(){},disposeAsset:function(){this.dispose()},invalidateTransform:function(){this._transformDirty=!0},updateTransform:function(){this._pos.x=this._x;this._pos.y=this._y;this._pos.z=this._z;this._rot.x=this._rotationX;this._rot.y=this._rotationY;this._rot.z=this._rotationZ;this._pivotZero?(this._sca.x=this._scaleX,this._sca.y=this._scaleY,this._sca.z=this._scaleZ,this._transform.recompose(this._transformComponents)):(this._sca.x=1,
this._sca.y=1,this._sca.z=1,this._transform.recompose(this._transformComponents),this._transform.appendTranslation(this._pivotPoint.x,this._pivotPoint.y,this._pivotPoint.z),this._transform.prependTranslation(-this._pivotPoint.x,-this._pivotPoint.y,-this._pivotPoint.z),this._transform.prependScale(this._scaleX,this._scaleY,this._scaleZ),this._sca.x=this._scaleX,this._sca.y=this._scaleY,this._sca.z=this._scaleZ);this._scaleDirty=this._rotationDirty=this._positionDirty=this._transformDirty=!1},get_zOffset:function(){return this._zOffset},
set_zOffset:function(a){return this._zOffset=a},__class__:dd,__properties__:z(Ka.prototype.__properties__,{set_zOffset:"set_zOffset",get_zOffset:"get_zOffset",get_downVector:"get_downVector",get_leftVector:"get_leftVector",get_backVector:"get_backVector",get_upVector:"get_upVector",get_rightVector:"get_rightVector",get_forwardVector:"get_forwardVector",set_position:"set_position",get_position:"get_position",set_pivotPoint:"set_pivotPoint",get_pivotPoint:"get_pivotPoint",set_transform:"set_transform",
get_transform:"get_transform",set_eulers:"set_eulers",get_eulers:"get_eulers",set_scaleZ:"set_scaleZ",get_scaleZ:"get_scaleZ",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotationZ:"set_rotationZ",get_rotationZ:"get_rotationZ",set_rotationY:"set_rotationY",get_rotationY:"get_rotationY",set_rotationX:"set_rotationX",get_rotationX:"get_rotationX",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var Va=function(){this._ignoreTransform=
!1;this._scenePositionDirty=this._explicitVisibility=this._implicitVisibility=!0;this._scenePosition=new C;this._inverseSceneTransformDirty=!0;this._inverseSceneTransform=new Xa;this._mouseChildren=!0;this._children=x.toObjectVector(null);this._sceneTransformDirty=!0;this._sceneTransform=new Xa;dd.call(this)};m["away3d.containers.ObjectContainer3D"]=Va;Va.__name__=["away3d","containers","ObjectContainer3D"];Va.__interfaces__=[bd];Va.__super__=dd;Va.prototype=z(dd.prototype,{_ancestorsAllowMouseEnabled:null,
_isRoot:null,_scene:null,_parent:null,_sceneTransform:null,_sceneTransformDirty:null,_explicitPartition:null,_implicitPartition:null,_mouseEnabled:null,_sceneTransformChanged:null,_scenechanged:null,_children:null,_mouseChildren:null,_oldScene:null,_inverseSceneTransform:null,_inverseSceneTransformDirty:null,_scenePosition:null,_scenePositionDirty:null,_explicitVisibility:null,_implicitVisibility:null,_listenToSceneTransformChanged:null,_listenToSceneChanged:null,_ignoreTransform:null,get_ignoreTransform:function(){return this._ignoreTransform},
set_ignoreTransform:function(a){this._ignoreTransform=a;this._sceneTransformDirty=!a;this._inverseSceneTransformDirty=!a;this._scenePositionDirty=!a;a||(this._sceneTransform.identity(),this._scenePosition.setTo(0,0,0));return a},get_implicitPartition:function(){return this._implicitPartition},set_implicitPartition:function(a){if(a==this._implicitPartition)return a;var b=0,c=this._children.get_length(),d;for(this._implicitPartition=a;b<c;)d=this._children.get(b++),null==d._explicitPartition&&d.set_implicitPartition(a);
return a},get_isVisible:function(){return this._implicitVisibility?this._explicitVisibility:!1},setParent:function(a){this._parent=a;this.updateMouseChildren();null==a?this.set_scene(null):(this.notifySceneTransformChange(),this.notifySceneChange())},notifySceneTransformChange:function(){if(!this._sceneTransformDirty&&!this._ignoreTransform){this.invalidateSceneTransform();for(var a=0,b=this._children.get_length();a<b;)this._children.get(a++).notifySceneTransformChange();this._listenToSceneTransformChanged&&
(null==this._sceneTransformChanged&&(this._sceneTransformChanged=new De("scenetransformChanged",this)),this.dispatchEvent(this._sceneTransformChanged))}},notifySceneChange:function(){this.notifySceneTransformChange();for(var a=0,b=this._children.get_length();a<b;)this._children.get(a++).notifySceneChange();this._listenToSceneChanged&&(null==this._scenechanged&&(this._scenechanged=new De("sceneChanged",this)),this.dispatchEvent(this._scenechanged))},updateMouseChildren:function(){this._ancestorsAllowMouseEnabled=
null==this._parent||this._parent._isRoot?this.get_mouseChildren():this.get_parent()._ancestorsAllowMouseEnabled&&this._parent.get_mouseChildren();for(var a=0,b=this._children.get_length();a<b;){var c=a++;this._children.get(c).updateMouseChildren()}},get_mouseEnabled:function(){return this._mouseEnabled},set_mouseEnabled:function(a){this._mouseEnabled=a;this.updateMouseChildren();return a},invalidateTransform:function(){dd.prototype.invalidateTransform.call(this);this.notifySceneTransformChange()},
invalidateSceneTransform:function(){this._sceneTransformDirty=!this._ignoreTransform;this._inverseSceneTransformDirty=!this._ignoreTransform;this._scenePositionDirty=!this._ignoreTransform},updateSceneTransform:function(){null==this._parent||this._parent._isRoot?this._sceneTransform.copyFrom(this.get_transform()):(this._sceneTransform.copyFrom(this._parent.get_sceneTransform()),this._sceneTransform.prepend(this.get_transform()));this._sceneTransformDirty=!1},get_mouseChildren:function(){return this._mouseChildren},
set_mouseChildren:function(a){this._mouseChildren=a;this.updateMouseChildren();return a},get_visible:function(){return this._explicitVisibility},set_visible:function(a){var b=this._children.get_length();this._explicitVisibility=a;for(var c=0;c<b;){var d=c++;this._children.get(d).updateImplicitVisibility()}return a},get_assetType:function(){return"container"},get_scenePosition:function(){this._scenePositionDirty&&(this.get_sceneTransform().copyColumnTo(3,this._scenePosition),this._scenePositionDirty=
!1);return this._scenePosition},get_minX:function(){for(var a=0,b=this._children.get_length(),c=Infinity,d;a<b;)d=this._children.get(a++),d=d.get_minX()+d.get_x(),d<c&&(c=d);return c},get_minY:function(){for(var a=0,b=this._children.get_length(),c=Infinity,d;a<b;)d=this._children.get(a++),d=d.get_minY()+d.get_y(),d<c&&(c=d);return c},get_minZ:function(){for(var a=0,b=this._children.get_length(),c=Infinity,d;a<b;)d=this._children.get(a++),d=d.get_minZ()+d.get_z(),d<c&&(c=d);return c},get_maxX:function(){for(var a=
0,b=this._children.get_length(),c=-Infinity,d;a<b;)d=this._children.get(a++),d=d.get_maxX()+d.get_x(),d>c&&(c=d);return c},get_maxY:function(){for(var a=0,b=this._children.get_length(),c=-Infinity,d;a<b;)d=this._children.get(a++),d=d.get_maxY()+d.get_y(),d>c&&(c=d);return c},get_maxZ:function(){for(var a=0,b=this._children.get_length(),c=-Infinity,d;a<b;)d=this._children.get(a++),d=d.get_maxZ()+d.get_z(),d>c&&(c=d);return c},get_partition:function(){return this._explicitPartition},set_partition:function(a){this._explicitPartition=
a;this.set_implicitPartition(null!=a?a:null!=this._parent?this._parent.get_implicitPartition():null);return a},get_sceneTransform:function(){this._sceneTransformDirty&&this.updateSceneTransform();return this._sceneTransform},get_scene:function(){return this._scene},set_scene:function(a){for(var b=0,c=this._children.get_length();b<c;)this._children.get(b++).set_scene(a);if(this._scene==a)return a;null==a&&(this._oldScene=this._scene);null!=this._explicitPartition&&null!=this._oldScene&&this._oldScene!=
this._scene&&this.set_partition(null);null!=a&&(this._oldScene=null);this._scene=a;null!=this._scene?this._scene.dispatchEvent(new Sf("addedToScene",this)):null!=this._oldScene&&this._oldScene.dispatchEvent(new Sf("removedFromScene",this));return a},get_inverseSceneTransform:function(){this._inverseSceneTransformDirty&&(this._inverseSceneTransform.copyFrom(this.get_sceneTransform()),this._inverseSceneTransform.invert(),this._inverseSceneTransformDirty=!1);return this._inverseSceneTransform},get_parent:function(){return this._parent},
contains:function(a){return 0<=this._children.indexOf(a,0)},addChild:function(a){if(null==a)throw new H(new sa("Parameter child cannot be null."));null!=a._parent&&a._parent.removeChild(a);null==a._explicitPartition&&a.set_implicitPartition(this._implicitPartition);a.setParent(this);a.set_scene(this._scene);a.notifySceneTransformChange();a.updateMouseChildren();a.updateImplicitVisibility();this._children.push(a);return a},addChildren:function(a){for(var b=0;b<a.get_length();){var c=a.get(b);++b;this.addChild(c)}},
removeChild:function(a){if(null==a)throw new H(new sa("Parameter child cannot be null"));var b=this._children.indexOf(a,0);if(-1==b)throw new H(new sa("Parameter is not a child of the caller"));this.removeChildInternal(b,a)},removeChildAt:function(a){var b=this._children.get(a);this.removeChildInternal(a,b)},removeChildInternal:function(a,b){this._children.splice(a,1);b.setParent(null);null==b._explicitPartition&&b.set_implicitPartition(null)},getChildAt:function(a){return this._children.get(a)},
get_numChildren:function(){return this._children.get_length()},lookAt:function(a,b){dd.prototype.lookAt.call(this,a,b);this.notifySceneTransformChange()},translateLocal:function(a,b){dd.prototype.translateLocal.call(this,a,b);this.notifySceneTransformChange()},dispose:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},disposeWithChildren:function(){for(this.dispose();0<this.get_numChildren();)this.getChildAt(0).dispose()},clone:function(){var a=new Va;a.set_pivotPoint(this.get_pivotPoint());
a.set_transform(this.get_transform());a.set_partition(this.get_partition());a.set_name(this.get_name());for(var b=0,c=this._children.get_length();b<c;){var d=b++;a.addChild(y.__cast(this._children.get(d).clone(),Va))}return a},rotate:function(a,b){dd.prototype.rotate.call(this,a,b);this.notifySceneTransformChange()},dispatchEvent:function(a){var b=dd.prototype.dispatchEvent.call(this,a);a.bubbles&&(null!=this._parent?this._parent.dispatchEvent(a):null!=this._scene&&this._scene.dispatchEvent(a));return b},
updateImplicitVisibility:function(){var a=this._children.get_length();this._implicitVisibility=this._parent._explicitVisibility&&this._parent._implicitVisibility;for(var b=0;b<a;){var c=b++;this._children.get(c).updateImplicitVisibility()}},addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);dd.prototype.addEventListener.call(this,a,b,c,d,e);switch(a){case "sceneChanged":this._listenToSceneChanged=!0;break;case "scenetransformChanged":this._listenToSceneTransformChanged=
!0}},removeEventListener:function(a,b,c){null==c&&(c=!1);dd.prototype.removeEventListener.call(this,a,b,c);if(!this.hasEventListener(a))switch(a){case "sceneChanged":this._listenToSceneChanged=!1;break;case "scenetransformChanged":this._listenToSceneTransformChanged=!1}},__class__:Va,__properties__:z(dd.prototype.__properties__,{get_numChildren:"get_numChildren",get_parent:"get_parent",get_inverseSceneTransform:"get_inverseSceneTransform",set_scene:"set_scene",get_scene:"get_scene",get_sceneTransform:"get_sceneTransform",
set_partition:"set_partition",get_partition:"get_partition",get_maxZ:"get_maxZ",get_maxY:"get_maxY",get_maxX:"get_maxX",get_minZ:"get_minZ",get_minY:"get_minY",get_minX:"get_minX",get_scenePosition:"get_scenePosition",get_assetType:"get_assetType",set_visible:"set_visible",get_visible:"get_visible",set_mouseChildren:"set_mouseChildren",get_mouseChildren:"get_mouseChildren",set_mouseEnabled:"set_mouseEnabled",get_mouseEnabled:"get_mouseEnabled",get_isVisible:"get_isVisible",set_implicitPartition:"set_implicitPartition",
get_implicitPartition:"get_implicitPartition",set_ignoreTransform:"set_ignoreTransform",get_ignoreTransform:"get_ignoreTransform"})});var zc=function(){this._boundsInvalid=this._worldBoundsInvalid=!0;this._boundsIsShown=!1;Va.call(this);this._bounds=this.getDefaultBoundingVolume();this._worldBounds=this.getDefaultBoundingVolume()};m["away3d.entities.Entity"]=zc;zc.__name__=["away3d","entities","Entity"];zc.__super__=Va;zc.prototype=z(Va.prototype,{_showBounds:null,_partitionNode:null,_boundsIsShown:null,
_shaderPickingDetails:null,_pickingCollisionVO:null,_pickingCollider:null,_staticNode:null,_bounds:null,_boundsInvalid:null,_worldBounds:null,_worldBoundsInvalid:null,set_ignoreTransform:function(a){null!=this._scene&&this._scene.invalidateEntityBounds(this);Va.prototype.set_ignoreTransform.call(this,a);return a},get_shaderPickingDetails:function(){return this._shaderPickingDetails},set_shaderPickingDetails:function(a){return this._shaderPickingDetails=a},get_staticNode:function(){return this._staticNode},
set_staticNode:function(a){return this._staticNode=a},get_pickingCollisionVO:function(){null==this._pickingCollisionVO&&(this._pickingCollisionVO=new aq(this));return this._pickingCollisionVO},collidesBefore:function(a,b){return!0},get_showBounds:function(){return this._showBounds},set_showBounds:function(a){if(a==this._showBounds)return a;(this._showBounds=a)?this.addBounds():this.removeBounds();return a},get_minX:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_min().x},
get_minY:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_min().y},get_minZ:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_min().z},get_maxX:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_max().x},get_maxY:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_max().y},get_maxZ:function(){this._boundsInvalid&&this.updateBounds();return this._bounds.get_max().z},get_bounds:function(){this._boundsInvalid&&
this.updateBounds();return this._bounds},set_bounds:function(a){this.removeBounds();this._bounds=a;this._worldBounds=a.clone();this.invalidateBounds();this._showBounds&&this.addBounds();return a},get_worldBounds:function(){this._worldBoundsInvalid&&this.updateWorldBounds();return this._worldBounds},updateWorldBounds:function(){this._worldBounds.transformFrom(this.get_bounds(),this.get_sceneTransform());this._worldBoundsInvalid=!1},set_implicitPartition:function(a){if(a==this._implicitPartition)return a;
null!=this._implicitPartition&&this.notifyPartitionUnassigned();Va.prototype.set_implicitPartition.call(this,a);this.notifyPartitionAssigned();return a},set_scene:function(a){if(a==this._scene)return a;null!=this._scene&&this._scene.unregisterEntity(this);null!=a&&a.registerEntity(this);Va.prototype.set_scene.call(this,a);return a},get_assetType:function(){return"entity"},get_pickingCollider:function(){return this._pickingCollider},set_pickingCollider:function(a){return this._pickingCollider=a},getEntityPartitionNode:function(){null==
this._partitionNode&&(this._partitionNode=this.createEntityPartitionNode());return this._partitionNode},isIntersectingRay:function(a,b){null==this.get_pickingCollisionVO().localRayPosition&&(this.get_pickingCollisionVO().localRayPosition=new C);null==this.get_pickingCollisionVO().localRayDirection&&(this.get_pickingCollisionVO().localRayDirection=new C);null==this.get_pickingCollisionVO().localNormal&&(this.get_pickingCollisionVO().localNormal=new C);var c=this.get_pickingCollisionVO().localRayPosition,
d=this.get_pickingCollisionVO().localRayDirection;Ja.transformVector(this.get_inverseSceneTransform(),a,c);Ja.deltaTransformVector(this.get_inverseSceneTransform(),b,d);c=this.get_bounds().rayIntersection(c,d,this.get_pickingCollisionVO().localNormal);if(0>c)return!1;this.get_pickingCollisionVO().rayEntryDistance=c;this.get_pickingCollisionVO().rayPosition=a;this.get_pickingCollisionVO().rayDirection=b;this.get_pickingCollisionVO().rayOriginIsInsideBounds=0==c;return!0},createEntityPartitionNode:function(){throw new H(new bb);
},getDefaultBoundingVolume:function(){return new Pi},updateBounds:function(){throw new H(new bb);},invalidateSceneTransform:function(){this._ignoreTransform||(Va.prototype.invalidateSceneTransform.call(this),this._worldBoundsInvalid=!0,this.notifySceneBoundsInvalid())},invalidateBounds:function(){this._worldBoundsInvalid=this._boundsInvalid=!0;this.notifySceneBoundsInvalid()},updateMouseChildren:function(){if(null==this._parent&&null!=this.get_pickingCollider()&&y.__instanceof(this._parent,zc)){var a=
y.__cast(this._parent,zc).get_pickingCollider();null!=a&&this.set_pickingCollider(a)}Va.prototype.updateMouseChildren.call(this)},notifySceneBoundsInvalid:function(){null!=this._scene&&this._scene.invalidateEntityBounds(this)},notifyPartitionAssigned:function(){null!=this._scene&&this._scene.registerPartition(this)},notifyPartitionUnassigned:function(){null!=this._scene&&this._scene.unregisterPartition(this)},addBounds:function(){this._boundsIsShown||(this._boundsIsShown=!0,this.addChild(this._bounds.get_boundingRenderable()))},
removeBounds:function(){this._boundsIsShown&&(this._boundsIsShown=!1,this.removeChild(this._bounds.get_boundingRenderable()),this._bounds.disposeRenderable())},internalUpdate:function(){null!=this._controller&&this._controller.update()},__class__:zc,__properties__:z(Va.prototype.__properties__,{set_pickingCollider:"set_pickingCollider",get_pickingCollider:"get_pickingCollider",get_worldBounds:"get_worldBounds",set_bounds:"set_bounds",get_bounds:"get_bounds",set_showBounds:"set_showBounds",get_showBounds:"get_showBounds",
get_pickingCollisionVO:"get_pickingCollisionVO",set_staticNode:"set_staticNode",get_staticNode:"get_staticNode",set_shaderPickingDetails:"set_shaderPickingDetails",get_shaderPickingDetails:"get_shaderPickingDetails"})});var Eg=function(a){this._viewProjectionDirty=this._frustumPlanesDirty=!0;this._viewProjection=new Xa;zc.call(this);this._lens=a;null==this._lens&&(this._lens=new hd);this._lens.addEventListener("matrixChanged",u(this,this.onLensMatrixChanged));this._frustumPlanes=x.toObjectVector(null,
6,!0);for(a=0;6>a;){var b=a++;this._frustumPlanes.set(b,new Sh)}this.set_z(-1E3)};m["away3d.cameras.Camera3D"]=Eg;Eg.__name__=["away3d","cameras","Camera3D"];Eg.__super__=zc;Eg.prototype=z(zc.prototype,{_viewProjection:null,_viewProjectionDirty:null,_lens:null,_frustumPlanes:null,_frustumPlanesDirty:null,getDefaultBoundingVolume:function(){return new Dg},get_assetType:function(){return"camera"},onLensMatrixChanged:function(a){this._frustumPlanesDirty=this._viewProjectionDirty=!0;this.dispatchEvent(a)},
get_frustumPlanes:function(){this._frustumPlanesDirty&&this.updateFrustum();return this._frustumPlanes},updateFrustum:function(){var a,b,c,d,e,f,k,p,w,h,n,l,g,m,r,q,t,u,v,x;a=Ja.RAW_DATA_CONTAINER;var y;this.get_viewProjection().copyRawDataTo(a);d=a.get(0);e=a.get(4);f=a.get(8);k=a.get(12);p=a.get(1);w=a.get(5);h=a.get(9);n=a.get(13);l=a.get(2);g=a.get(6);m=a.get(10);r=a.get(14);q=a.get(3);t=a.get(7);u=a.get(11);v=a.get(15);x=this._frustumPlanes.get(0);a=q+d;b=t+e;c=u+f;y=1/Math.sqrt(a*a+b*b+c*c);
x.a=a*y;x.b=b*y;x.c=c*y;x.d=-(v+k)*y;x=this._frustumPlanes.get(1);a=q-d;b=t-e;c=u-f;y=1/Math.sqrt(a*a+b*b+c*c);x.a=a*y;x.b=b*y;x.c=c*y;x.d=(k-v)*y;x=this._frustumPlanes.get(2);a=q+p;b=t+w;c=u+h;y=1/Math.sqrt(a*a+b*b+c*c);x.a=a*y;x.b=b*y;x.c=c*y;x.d=-(v+n)*y;x=this._frustumPlanes.get(3);a=q-p;b=t-w;c=u-h;y=1/Math.sqrt(a*a+b*b+c*c);x.a=a*y;x.b=b*y;x.c=c*y;x.d=(n-v)*y;x=this._frustumPlanes.get(4);a=l;b=g;c=m;y=1/Math.sqrt(a*a+b*b+c*c);x.a=a*y;x.b=b*y;x.c=c*y;x.d=-r*y;x=this._frustumPlanes.get(5);a=q-
l;b=t-g;c=u-m;y=1/Math.sqrt(a*a+b*b+c*c);x.a=a*y;x.b=b*y;x.c=c*y;x.d=(r-v)*y;this._frustumPlanesDirty=!1},invalidateSceneTransform:function(){zc.prototype.invalidateSceneTransform.call(this);this._frustumPlanesDirty=this._viewProjectionDirty=!0},updateBounds:function(){this._bounds.nullify();this._boundsInvalid=!1},createEntityPartitionNode:function(){return new Lm(this)},get_lens:function(){return this._lens},set_lens:function(a){if(this._lens==a)return a;if(null==a)throw new H(new sa("Lens cannot be null!"));
this._lens.removeEventListener("matrixChanged",u(this,this.onLensMatrixChanged));this._lens=a;this._lens.addEventListener("matrixChanged",u(this,this.onLensMatrixChanged));this.dispatchEvent(new Qi("lensChanged",this));return a},get_viewProjection:function(){this._viewProjectionDirty&&(this._viewProjection.copyFrom(this.get_inverseSceneTransform()),this._viewProjection.append(this._lens.get_matrix()),this._viewProjectionDirty=!1);return this._viewProjection},unproject:function(a,b,c,d){return Ja.transformVector(this.get_sceneTransform(),
this.get_lens().unproject(a,b,c,d),d)},getRay:function(a,b,c,d){return Ja.deltaTransformVector(this.get_sceneTransform(),this.get_lens().unproject(a,b,c,d),d)},project:function(a,b){return this.get_lens().project(Ja.transformVector(this.get_inverseSceneTransform(),a,b),b)},__class__:Eg,__properties__:z(zc.prototype.__properties__,{get_viewProjection:"get_viewProjection",set_lens:"set_lens",get_lens:"get_lens",get_frustumPlanes:"get_frustumPlanes"})});var qs=function(){};m["away3d.cameras.lenses.CoordinateSystem"]=
qs;qs.__name__=["away3d","cameras","lenses","CoordinateSystem"];var Td=function(){this._unprojectionInvalid=!0;this._frustumCorners=x.toFloatVector(null,24,!0);this._matrixInvalid=!0;this._aspectRatio=1;this._far=3E3;this._near=20;this._viewPort=new ya;this._scissorRect=new ya;za.call(this);this._matrix=new Xa};m["away3d.cameras.lenses.LensBase"]=Td;Td.__name__=["away3d","cameras","lenses","LensBase"];Td.__super__=za;Td.prototype=z(za.prototype,{_matrix:null,_scissorRect:null,_viewPort:null,_near:null,
_far:null,_aspectRatio:null,_matrixInvalid:null,_frustumCorners:null,_unprojection:null,_unprojectionInvalid:null,get_frustumCorners:function(){return this._frustumCorners},set_frustumCorners:function(a){return this._frustumCorners=a},get_matrix:function(){this._matrixInvalid&&(this.updateMatrix(),this._matrixInvalid=!1);return this._matrix},set_matrix:function(a){this._matrix=a;this.invalidateMatrix();return a},get_near:function(){return this._near},set_near:function(a){if(a==this._near)return a;
this._near=a;this.invalidateMatrix();return a},get_far:function(){return this._far},set_far:function(a){if(a==this._far)return a;this._far=a;this.invalidateMatrix();return a},project:function(a,b){null==b&&(b=new C);Ja.transformVector(this.get_matrix(),a,b);b.x/=b.w;b.y=-b.y/b.w;b.z=a.z;return b},get_unprojectionMatrix:function(){this._unprojectionInvalid&&(null==this._unprojection&&(this._unprojection=new Xa),this._unprojection.copyFrom(this.get_matrix()),this._unprojection.invert(),this._unprojectionInvalid=
!1);return this._unprojection},unproject:function(a,b,c,d){throw new H(new bb);},clone:function(){throw new H(new bb);},get_aspectRatio:function(){return this._aspectRatio},set_aspectRatio:function(a){if(this._aspectRatio==a||0!=0*a)return a;this._aspectRatio=a;this.invalidateMatrix();return a},invalidateMatrix:function(){this._unprojectionInvalid=this._matrixInvalid=!0;this.dispatchEvent(new Ri("matrixChanged",this))},updateMatrix:function(){throw new H(new bb);},updateScissorRect:function(a,b,c,
d){this._scissorRect.x=a;this._scissorRect.y=b;this._scissorRect.width=c;this._scissorRect.height=d;this.invalidateMatrix()},updateViewport:function(a,b,c,d){this._viewPort.x=a;this._viewPort.y=b;this._viewPort.width=c;this._viewPort.height=d;this.invalidateMatrix()},__class__:Td,__properties__:{set_aspectRatio:"set_aspectRatio",get_aspectRatio:"get_aspectRatio",get_unprojectionMatrix:"get_unprojectionMatrix",set_far:"set_far",get_far:"get_far",set_near:"set_near",get_near:"get_near",set_matrix:"set_matrix",
get_matrix:"get_matrix",set_frustumCorners:"set_frustumCorners",get_frustumCorners:"get_frustumCorners"}});var Si=function(){Td.call(this);this._matrix.copyFrom((new hd).get_matrix())};m["away3d.cameras.lenses.FreeMatrixLens"]=Si;Si.__name__=["away3d","cameras","lenses","FreeMatrixLens"];Si.__super__=Td;Si.prototype=z(Td.prototype,{set_near:function(a){return this._near=a},set_far:function(a){return this._far=a},set_aspectRatio:function(a){return this._aspectRatio=a},clone:function(){var a=new Si;
a._matrix.copyFrom(this._matrix);a._near=this._near;a._far=this._far;a._aspectRatio=this._aspectRatio;a.invalidateMatrix();return a},updateMatrix:function(){this._matrixInvalid=!1},__class__:Si});var wk=function(a){null==a&&(a=500);Td.call(this);this._projectionHeight=a};m["away3d.cameras.lenses.OrthographicLens"]=wk;wk.__name__=["away3d","cameras","lenses","OrthographicLens"];wk.__super__=Td;wk.prototype=z(Td.prototype,{_projectionHeight:null,_xMax:null,_yMax:null,get_projectionHeight:function(){return this._projectionHeight},
set_projectionHeight:function(a){if(a==this._projectionHeight)return a;this._projectionHeight=a;this.invalidateMatrix();return a},unproject:function(a,b,c,d){null==d&&(d=new C);b=Ja.CALCULATION_VECTOR3D;this.get_matrix().copyColumnTo(3,b);d.x=a+b.x;d.y=a+b.y;d.z=c;d.w=1;Ja.transformVector(this.get_unprojectionMatrix(),d,d);d.z=c;return d},clone:function(){var a=new wk;a._near=this._near;a._far=this._far;a._aspectRatio=this._aspectRatio;a.set_projectionHeight(this._projectionHeight);return a},updateMatrix:function(){var a=
Ja.RAW_DATA_CONTAINER;this._yMax=.5*this._projectionHeight;this._xMax=this._yMax*this._aspectRatio;var b,c,d,e;if(0==this._scissorRect.x&&0==this._scissorRect.y&&this._scissorRect.width==this._viewPort.width&&this._scissorRect.height==this._viewPort.height)b=-this._xMax,c=this._xMax,d=-this._yMax,e=this._yMax,a.set(0,2/(this._projectionHeight*this._aspectRatio)),a.set(5,2/this._projectionHeight),a.set(10,1/(this._far-this._near)),a.set(14,this._near/(this._near-this._far)),a.set(1,a.set(2,a.set(3,
a.set(4,a.set(6,a.set(7,a.set(8,a.set(9,a.set(11,a.set(12,a.set(13,0)))))))))));else{c=this._viewPort.width/this._scissorRect.width*this._xMax;e=this._viewPort.height/this._scissorRect.height*this._yMax;d=this._xMax*(2*this._scissorRect.x-this._viewPort.width)/this._scissorRect.width+this._xMax;var f=-this._yMax*(2*this._scissorRect.y-this._viewPort.height)/this._scissorRect.height-this._yMax;b=d-c;c=d+c;d=f-e;e=f+e;a.set(0,2/(c-b));a.set(5,-2/(d-e));a.set(10,1/(this._far-this._near));a.set(12,(c+
b)/(c-b));a.set(13,(e+d)/(e-d));a.set(14,this._near/(this.get_near()-this.get_far()));a.set(1,a.set(2,a.set(3,a.set(4,a.set(6,a.set(7,a.set(8,a.set(9,a.set(11,0)))))))))}a.set(15,1);this._frustumCorners.set(0,this._frustumCorners.set(9,this._frustumCorners.set(12,this._frustumCorners.set(21,b))));this._frustumCorners.set(3,this._frustumCorners.set(6,this._frustumCorners.set(15,this._frustumCorners.set(18,c))));this._frustumCorners.set(1,this._frustumCorners.set(4,this._frustumCorners.set(13,this._frustumCorners.set(16,
d))));this._frustumCorners.set(7,this._frustumCorners.set(10,this._frustumCorners.set(19,this._frustumCorners.set(22,e))));this._frustumCorners.set(2,this._frustumCorners.set(5,this._frustumCorners.set(8,this._frustumCorners.set(11,this._near))));this._frustumCorners.set(14,this._frustumCorners.set(17,this._frustumCorners.set(20,this._frustumCorners.set(23,this._far))));this._matrix.copyRawDataFrom(a);this._matrixInvalid=!1},__class__:wk,__properties__:z(Td.prototype.__properties__,{set_projectionHeight:"set_projectionHeight",
get_projectionHeight:"get_projectionHeight"})});var xk=function(a,b,c,d){Td.call(this);this._minX=a;this._maxX=b;this._minY=c;this._maxY=d};m["away3d.cameras.lenses.OrthographicOffCenterLens"]=xk;xk.__name__=["away3d","cameras","lenses","OrthographicOffCenterLens"];xk.__super__=Td;xk.prototype=z(Td.prototype,{_minX:null,_maxX:null,_minY:null,_maxY:null,get_minX:function(){return this._minX},set_minX:function(a){this._minX=a;this.invalidateMatrix();return a},get_maxX:function(){return this._maxX},
set_maxX:function(a){this._maxX=a;this.invalidateMatrix();return a},get_minY:function(){return this._minY},set_minY:function(a){this._minY=a;this.invalidateMatrix();return a},get_maxY:function(){return this._maxY},set_maxY:function(a){this._maxY=a;this.invalidateMatrix();return a},unproject:function(a,b,c,d){null==d&&(d=new C);d.x=a;d.y=-b;d.z=c;d.w=1;Ja.transformVector(this.get_unprojectionMatrix(),d,d);d.z=c;return d},clone:function(){var a=new xk(this._minX,this._maxX,this._minY,this._maxY);a._near=
this._near;a._far=this._far;a._aspectRatio=this._aspectRatio;return a},updateMatrix:function(){var a=Ja.RAW_DATA_CONTAINER,b=1/(this._maxX-this._minX),c=1/(this._maxY-this._minY),d=1/(this._far-this._near);a.set(0,2*b);a.set(5,2*c);a.set(10,d);a.set(12,-(this._maxX+this._minX)*b);a.set(13,-(this._maxY+this._minY)*c);a.set(14,-this._near*d);a.set(15,1);a.set(1,a.set(2,a.set(3,a.set(4,a.set(6,a.set(7,a.set(8,a.set(9,a.set(11,0)))))))));this._matrix.copyRawDataFrom(a);this._frustumCorners.set(0,this._frustumCorners.set(9,
this._frustumCorners.set(12,this._frustumCorners.set(21,this._minX))));this._frustumCorners.set(3,this._frustumCorners.set(6,this._frustumCorners.set(15,this._frustumCorners.set(18,this._maxX))));this._frustumCorners.set(1,this._frustumCorners.set(4,this._frustumCorners.set(13,this._frustumCorners.set(16,this._minY))));this._frustumCorners.set(7,this._frustumCorners.set(10,this._frustumCorners.set(19,this._frustumCorners.set(22,this._maxY))));this._frustumCorners.set(2,this._frustumCorners.set(5,
this._frustumCorners.set(8,this._frustumCorners.set(11,this._near))));this._frustumCorners.set(14,this._frustumCorners.set(17,this._frustumCorners.set(20,this._frustumCorners.set(23,this._far))));this._matrixInvalid=!1},__class__:xk,__properties__:z(Td.prototype.__properties__,{set_maxY:"set_maxY",get_maxY:"get_maxY",set_minY:"set_minY",get_minY:"get_minY",set_maxX:"set_maxX",get_maxX:"get_maxX",set_minX:"set_minX",get_minX:"get_minX"})});var hd=function(a,b){null==b&&(b=0);null==a&&(a=60);Td.call(this);
this.set_fieldOfView(a);this.set_coordinateSystem(b)};m["away3d.cameras.lenses.PerspectiveLens"]=hd;hd.__name__=["away3d","cameras","lenses","PerspectiveLens"];hd.__super__=Td;hd.prototype=z(Td.prototype,{_fieldOfView:null,_focalLength:null,_focalLengthInv:null,_yMax:null,_xMax:null,_coordinateSystem:null,get_fieldOfView:function(){return this._fieldOfView},set_fieldOfView:function(a){if(a==this._fieldOfView)return a;this._fieldOfView=a;this._focalLengthInv=Math.tan(this._fieldOfView*Math.PI/360);
this._focalLength=1/this._focalLengthInv;this.invalidateMatrix();return a},get_focalLength:function(){return this._focalLength},set_focalLength:function(a){if(a==this._focalLength)return a;this._focalLength=a;this._focalLengthInv=1/this._focalLength;this._fieldOfView=360*Math.atan(this._focalLengthInv)/Math.PI;this.invalidateMatrix();return a},unproject:function(a,b,c,d){null==d&&(d=new C);d.x=a;d.y=-b;d.z=c;d.w=1;d.x*=c;d.y*=c;Ja.transformVector(this.get_unprojectionMatrix(),d,d);d.z=c;return d},
clone:function(){var a=new hd(this._fieldOfView);a._near=this._near;a._far=this._far;a._aspectRatio=this._aspectRatio;a._coordinateSystem=this._coordinateSystem;return a},get_coordinateSystem:function(){return this._coordinateSystem},set_coordinateSystem:function(a){if(a==this._coordinateSystem)return a;this._coordinateSystem=a;this.invalidateMatrix();return a},updateMatrix:function(){var a=Ja.RAW_DATA_CONTAINER;this._yMax=this._near*this._focalLengthInv;this._xMax=this._yMax*this._aspectRatio;var b,
c,d,e;if(0==this._scissorRect.x&&0==this._scissorRect.y&&this._scissorRect.width==this._viewPort.width&&this._scissorRect.height==this._viewPort.height)b=-this._xMax,c=this._xMax,d=-this._yMax,e=this._yMax,a.set(0,this._near/this._xMax),a.set(5,this._near/this._yMax),a.set(10,this._far/(this._far-this._near)),a.set(11,1),a.set(1,a.set(2,a.set(3,a.set(4,a.set(6,a.set(7,a.set(8,a.set(9,a.set(12,a.set(13,a.set(15,0))))))))))),a.set(14,-this._near*a.get(10));else{c=this._viewPort.width/this._scissorRect.width*
this._xMax;e=this._viewPort.height/this._scissorRect.height*this._yMax;d=this._xMax*(2*this._scissorRect.x-this._viewPort.width)/this._scissorRect.width+this._xMax;var f=-this._yMax*(2*this._scissorRect.y-this._viewPort.height)/this._scissorRect.height-this._yMax;b=d-c;c=d+c;d=f-e;e=f+e;a.set(0,2*this._near/(c-b));a.set(5,2*this._near/(e-d));a.set(8,(c+b)/(c-b));a.set(9,(e+d)/(e-d));a.set(10,(this._far+this._near)/(this._far-this._near));a.set(11,1);a.set(1,a.set(2,a.set(3,a.set(4,a.set(6,a.set(7,
a.set(12,a.set(13,a.set(15,0)))))))));a.set(14,-2*this._far*this._near/(this._far-this._near))}1==this._coordinateSystem&&a.set(5,-a.get(5));this._matrix.copyRawDataFrom(a);a=this._far*this._focalLengthInv;f=a*this._aspectRatio;this._frustumCorners.set(0,this._frustumCorners.set(9,b));this._frustumCorners.set(3,this._frustumCorners.set(6,c));this._frustumCorners.set(1,this._frustumCorners.set(4,d));this._frustumCorners.set(7,this._frustumCorners.set(10,e));this._frustumCorners.set(12,this._frustumCorners.set(21,
-f));this._frustumCorners.set(15,this._frustumCorners.set(18,f));this._frustumCorners.set(13,this._frustumCorners.set(16,-a));this._frustumCorners.set(19,this._frustumCorners.set(22,a));this._frustumCorners.set(2,this._frustumCorners.set(5,this._frustumCorners.set(8,this._frustumCorners.set(11,this._near))));this._frustumCorners.set(14,this._frustumCorners.set(17,this._frustumCorners.set(20,this._frustumCorners.set(23,this._far))));this._matrixInvalid=!1},__class__:hd,__properties__:z(Td.prototype.__properties__,
{set_focalLength:"set_focalLength",get_focalLength:"get_focalLength",set_fieldOfView:"set_fieldOfView",get_fieldOfView:"get_fieldOfView",set_coordinateSystem:"set_coordinateSystem",get_coordinateSystem:"get_coordinateSystem"})});var yk=function(){this._partitions=x.toObjectVector(null);this._sceneGraphRoot=new Va;this._sceneGraphRoot.set_scene(this);this._sceneGraphRoot._isRoot=!0;this._sceneGraphRoot.set_partition(new bq(new Tf));za.call(this)};m["away3d.containers.Scene3D"]=yk;yk.__name__=["away3d",
"containers","Scene3D"];yk.__super__=za;yk.prototype=z(za.prototype,{_sceneGraphRoot:null,_partitions:null,traversePartitions:function(a){var b=0,c=this._partitions.get_length();for(a.scene=this;b<c;)this._partitions.get(b++).traverse(a)},get_partition:function(){return this._sceneGraphRoot.get_partition()},set_partition:function(a){this._sceneGraphRoot.set_partition(a);this.dispatchEvent(new Sf("partitionChanged",this._sceneGraphRoot));return a},contains:function(a){return this._sceneGraphRoot.contains(a)},
addChild:function(a){return this._sceneGraphRoot.addChild(a)},removeChild:function(a){this._sceneGraphRoot.removeChild(a)},removeChildAt:function(a){this._sceneGraphRoot.removeChildAt(a)},getChildAt:function(a){return this._sceneGraphRoot.getChildAt(a)},get_numChildren:function(){return this._sceneGraphRoot.get_numChildren()},registerEntity:function(a){var b=a.get_implicitPartition();this.addPartitionUnique(b);b.markForUpdate(a)},unregisterEntity:function(a){a.get_implicitPartition().removeEntity(a)},
invalidateEntityBounds:function(a){a.get_implicitPartition().markForUpdate(a)},registerPartition:function(a){this.addPartitionUnique(a.get_implicitPartition())},unregisterPartition:function(a){a.get_implicitPartition().removeEntity(a)},addPartitionUnique:function(a){-1==this._partitions.indexOf(a,0)&&this._partitions.push(a)},__class__:yk,__properties__:{get_numChildren:"get_numChildren",set_partition:"set_partition",get_partition:"get_partition"}});var Th=function(a,b,c,d,e,f){null==f&&(f=-1);null==
e&&(e="baseline");null==d&&(d=!1);this._contextIndex=-1;this._layeredView=!1;this._scissorRectDirty=this._viewportDirty=!0;this._shareContext=!1;this._depthTextureInvalid=this._backBufferInvalid=this._rightClickMenuEnabled=!0;this._backgroundAlpha=1;this._time=this._backgroundColor=0;this._globalPos=new Pa;this._localPos=new Pa;this._width=this._height=0;Fb.call(this);this._profile=e;this._scene=null!=a?a:new yk;this._scene.addEventListener("partitionChanged",u(this,this.onScenePartitionChanged));
this._camera=null!=b?b:new Eg;this._renderer=null!=c?c:new Af;this._depthRenderer=new Ti;this._forceSoftware=d;this._contextIndex=f;this._entityCollector=this._renderer.createEntityCollector();this._entityCollector.set_camera(this._camera);this._scissorRect=new ya;this.initHitField();this._mouse3DManager=new Ea;this._mouse3DManager.enableMouseListeners(this);this._touch3DManager=new zd;this._touch3DManager.set_view(this);this._touch3DManager.enableTouchListeners(this);this.addEventListener("addedToStage",
u(this,this.onAddedToStage),!1,0,!0);this.addEventListener("added",u(this,this.onAdded),!1,0,!0);this._camera.addEventListener("lensChanged",u(this,this.onLensChanged));this._camera.set_partition(this._scene.get_partition())};m["away3d.containers.View3D"]=Th;Th.__name__=["away3d","containers","View3D"];Th.__super__=Fb;Th.prototype=z(Fb.prototype,{_width:null,_height:null,_localPos:null,_globalPos:null,_globalPosDirty:null,_scene:null,_camera:null,_entityCollector:null,_aspectRatio:null,_time:null,
_deltaTime:null,_backgroundColor:null,_backgroundAlpha:null,_mouse3DManager:null,_touch3DManager:null,_renderer:null,_depthRenderer:null,_addedToStage:null,_forceSoftware:null,_filter3DRenderer:null,_requireDepthRender:null,_depthRender:null,_depthTextureInvalid:null,_hitField:null,_parentIsStage:null,_background:null,_stage3DProxy:null,_backBufferInvalid:null,_antiAlias:null,_rttBufferManager:null,_rightClickMenuEnabled:null,_sourceURL:null,_shareContext:null,_scissorRect:null,_scissorRectDirty:null,
_viewportDirty:null,_depthPrepass:null,_profile:null,_layeredView:null,_contextIndex:null,get_depthPrepass:function(){return this._depthPrepass},set_depthPrepass:function(a){return this._depthPrepass=a},onScenePartitionChanged:function(a){null!=this._camera&&this._camera.set_partition(this.get_scene().get_partition())},get_stage3DProxy:function(){return this._stage3DProxy},set_stage3DProxy:function(a){null!=this._stage3DProxy&&(this._stage3DProxy.removeEventListener("ViewportUpdated",u(this,this.onViewportUpdated)),
this._stage3DProxy.removeEventListener("Context3DRecreated",u(this,this.onContext3DRecreated)));this._stage3DProxy=a;this._stage3DProxy.addEventListener("ViewportUpdated",u(this,this.onViewportUpdated));this._stage3DProxy.addEventListener("Context3DRecreated",u(this,this.onContext3DRecreated));this._renderer.set_stage3DProxy(this._depthRenderer.set_stage3DProxy(this._stage3DProxy));this._backBufferInvalid=this._globalPosDirty=!0;return this._stage3DProxy},onContext3DRecreated:function(a){this._depthTextureInvalid=
!0},get_forceMouseMove:function(){return this._mouse3DManager.get_forceMouseMove()},set_forceMouseMove:function(a){this._mouse3DManager.set_forceMouseMove(a);this._touch3DManager.set_forceTouchMove(a);return a},get_background:function(){return this._background},set_background:function(a){this._background=a;this._renderer.set_background(this._background);return this._background},get_layeredView:function(){return this._layeredView},set_layeredView:function(a){return this._layeredView=a},initHitField:function(){this._hitField=
new Fb;this._hitField.set_alpha(0);this._hitField.doubleClickEnabled=!0;this._hitField.get_graphics().beginFill(0);this._hitField.get_graphics().drawRect(0,0,100,100);this.addChild(this._hitField)},get_filters3d:function(){return null!=this._filter3DRenderer?this._filter3DRenderer.get_filters():null},set_filters3d:function(a){null!=a&&0==a.length&&(a=null);null!=this._filter3DRenderer&&null==a?(this._filter3DRenderer.dispose(),this._filter3DRenderer=null):null==this._filter3DRenderer&&null!=a&&(this._filter3DRenderer=
new cq(this.get_stage3DProxy()),this._filter3DRenderer.set_filters(a));null!=this._filter3DRenderer?(this._filter3DRenderer.set_filters(a),this._requireDepthRender=this._filter3DRenderer.get_requireDepthRender()):(this._requireDepthRender=!1,null!=this._depthRender&&(this._depthRender.dispose(),this._depthRender=null));return a},get_renderer:function(){return this._renderer},set_renderer:function(a){this._renderer.dispose();this._renderer=a;this._entityCollector=this._renderer.createEntityCollector();
this._entityCollector.set_camera(this._camera);this._renderer.set_stage3DProxy(this._stage3DProxy);this._renderer.set_antiAlias(this._antiAlias);this._renderer.set_backgroundR(Q.toFloat(this._backgroundColor>>>16&255)/Q.toFloat(255));this._renderer.set_backgroundG(Q.toFloat(this._backgroundColor>>>8&255)/Q.toFloat(255));this._renderer.set_backgroundB(Q.toFloat(this._backgroundColor&255)/Q.toFloat(255));this._renderer.set_backgroundAlpha(this._backgroundAlpha);this._renderer.set_viewWidth(this._width);
this._renderer.set_viewHeight(this._height);this._backBufferInvalid=!0;return this._renderer},get_backgroundColor:function(){return this._backgroundColor},set_backgroundColor:function(a){this._backgroundColor=a;this._renderer.set_backgroundR(Q.toFloat(a>>>16&255)/Q.toFloat(255));this._renderer.set_backgroundG(Q.toFloat(a>>>8&255)/Q.toFloat(255));this._renderer.set_backgroundB(Q.toFloat(a&255)/Q.toFloat(255));return a},get_backgroundAlpha:function(){return this._backgroundAlpha},set_backgroundAlpha:function(a){1<
a?a=1:0>a&&(a=0);this._renderer.set_backgroundAlpha(a);return this._backgroundAlpha=a},get_camera:function(){return this._camera},set_camera:function(a){this._camera.removeEventListener("lensChanged",u(this,this.onLensChanged));this._camera=a;this._entityCollector.set_camera(this._camera);null!=this._scene&&this._camera.set_partition(this._scene.get_partition());this._camera.addEventListener("lensChanged",u(this,this.onLensChanged));this._viewportDirty=this._scissorRectDirty=!0;return a},get_scene:function(){return this._scene},
set_scene:function(a){this._scene.removeEventListener("partitionChanged",u(this,this.onScenePartitionChanged));this._scene=a;this._scene.addEventListener("partitionChanged",u(this,this.onScenePartitionChanged));null!=this._camera&&this._camera.set_partition(this._scene.get_partition());return this._scene},deltaTime:null,get_deltaTime:function(){return this._deltaTime},get_filters:function(){throw new H(new sa("filters is not supported in View3D. Use filters3d instead."));},set_filters:function(a){throw new H(new sa("filters is not supported in View3D. Use filters3d instead."));
},get_width:function(){return this._width},set_width:function(a){null!=this._stage3DProxy&&this._stage3DProxy.get_usesSoftwareRendering()&&2048<a&&(a=2048);if(this._width==a)return a;null!=this._rttBufferManager&&this._rttBufferManager.set_viewWidth(a|0);this._hitField.set_width(a);this._width=a;this._aspectRatio=this._width/this._height;this._camera.get_lens().set_aspectRatio(this._aspectRatio);this._depthTextureInvalid=!0;this._renderer.set_viewWidth(a);this._scissorRect.width=a;this._scissorRectDirty=
this._backBufferInvalid=!0;return a},get_height:function(){return this._height},set_height:function(a){null!=this._stage3DProxy&&this._stage3DProxy.get_usesSoftwareRendering()&&2048<a&&(a=2048);if(this._height==a)return a;null!=this._rttBufferManager&&this._rttBufferManager.set_viewHeight(a|0);this._hitField.set_height(a);this._height=a;this._aspectRatio=this._width/this._height;this._camera.get_lens().set_aspectRatio(this._aspectRatio);this._depthTextureInvalid=!0;this._renderer.set_viewHeight(a);
this._scissorRect.height=a;this._scissorRectDirty=this._backBufferInvalid=!0;return a},set_x:function(a){if(this.get_x()==a)return a;Fb.prototype.set_x.call(this,a);this._localPos.x=a;var b=null!=this.parent?this.parent.localToGlobal(this._localPos).x:a;this._globalPos.x=b;this._globalPosDirty=!0;return a},set_y:function(a){if(this.get_y()==a)return a;Fb.prototype.set_y.call(this,a);this._localPos.y=a;var b=null!=this.parent?this.parent.localToGlobal(this._localPos).y:a;this._globalPos.y=b;this._globalPosDirty=
!0;return a},set_visible:function(a){Fb.prototype.set_visible.call(this,a);null==this._stage3DProxy||this._shareContext||this._stage3DProxy.set_visible(a);return a},get_antiAlias:function(){return this._antiAlias},set_antiAlias:function(a){this._antiAlias=a;this._renderer.set_antiAlias(a);this._backBufferInvalid=!0;return this._antiAlias},renderedFacesCount:null,get_renderedFacesCount:function(){return this._entityCollector.get_numTriangles()},get_shareContext:function(){return this._shareContext},
set_shareContext:function(a){if(this._shareContext==a)return a;this._shareContext=a;this._globalPosDirty=!0;return a},updateBackBuffer:function(){null==this._stage3DProxy.get_context3D()||this._shareContext||(0<this._width&&0<this._height?(this._stage3DProxy.get_usesSoftwareRendering()&&(2048<this._width&&(this._width=2048),2048<this._height&&(this._height=2048)),this._stage3DProxy.configureBackBuffer(this._width|0,this._height|0,this._antiAlias,!0),this._backBufferInvalid=!1):(this.set_width(this.stage.stageWidth),
this.set_height(this.stage.stageHeight)))},render:function(){sb.drawTriangleCount=0;if(null!=this.get_stage3DProxy().get_context3D()&&this.get_stage3DProxy().recoverFromDisposal()){this._backBufferInvalid&&this.updateBackBuffer();this._shareContext&&this._layeredView&&this.get_stage3DProxy().clearDepthBuffer();if(!this._parentIsStage){var a=this.parent.localToGlobal(this._localPos);if(this._globalPos.x!=a.x||this._globalPos.y!=a.y)this._globalPos=a,this._globalPosDirty=!0}this._globalPosDirty&&this.updateGlobalPos();
this.updateTime();this.updateViewSizeData();this._entityCollector.clear();this._scene.traversePartitions(this._entityCollector);this._mouse3DManager.updateCollider(this);this._touch3DManager.updateCollider();this._requireDepthRender&&this.renderSceneDepthToTexture(this._entityCollector);this._depthPrepass&&this.renderDepthPrepass(this._entityCollector);this._renderer.set_clearOnRender(!this._depthPrepass);null!=this._filter3DRenderer&&null!=this._stage3DProxy.get_context3D()?(this._renderer.render(this._entityCollector,
this._filter3DRenderer.getMainInputTexture(this._stage3DProxy),this._rttBufferManager.get_renderToTextureRect()),this._filter3DRenderer.render(this._stage3DProxy,this.get_camera(),this._depthRender)):(this._renderer.set_shareContext(this._shareContext),this._shareContext?this._renderer.render(this._entityCollector,null,this._scissorRect):this._renderer.render(this._entityCollector));this._shareContext||(this.get_stage3DProxy().present(),this._mouse3DManager.fireMouseEvents(),this._touch3DManager.fireTouchEvents());
this._entityCollector.cleanUp();this.get_stage3DProxy().set_bufferClear(!1)}else this._backBufferInvalid=!0},updateGlobalPos:function(){this._globalPosDirty=!1;if(null!=this._stage3DProxy){if(this._shareContext){var a=this._globalPos.x,b=this._stage3DProxy.get_x();this._scissorRect.x=a-b;a=this._globalPos.y;b=this._stage3DProxy.get_y();this._scissorRect.y=a-b}else this._scissorRect.x=0,this._scissorRect.y=0,this._stage3DProxy.set_x(this._globalPos.x),this._stage3DProxy.set_y(this._globalPos.y);this._scissorRectDirty=
!0}},updateTime:function(){var a=xa.getTimer();0==this._time&&(this._time=a);this._deltaTime=a-this._time;this._time=a},updateViewSizeData:function(){this._camera.get_lens().set_aspectRatio(this._aspectRatio);this._scissorRectDirty&&(this._scissorRectDirty=!1,this._camera.get_lens().updateScissorRect(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height));this._viewportDirty&&(this._viewportDirty=!1,this._camera.get_lens().updateViewport(this._stage3DProxy.get_viewPort().x,
this._stage3DProxy.get_viewPort().y,this._stage3DProxy.get_viewPort().width,this._stage3DProxy.get_viewPort().height));null!=this._filter3DRenderer||this._renderer.get_renderToTexture()?(this._renderer.set_textureRatioX(this._rttBufferManager.get_textureRatioX()),this._renderer.set_textureRatioY(this._rttBufferManager.get_textureRatioY())):(this._renderer.set_textureRatioX(1),this._renderer.set_textureRatioY(1))},renderDepthPrepass:function(a){this._depthRenderer.set_disableColor(!0);null!=this._filter3DRenderer||
this._renderer.get_renderToTexture()?(this._depthRenderer.set_textureRatioX(this._rttBufferManager.get_textureRatioX()),this._depthRenderer.set_textureRatioY(this._rttBufferManager.get_textureRatioY()),this._depthRenderer.render(a,this._filter3DRenderer.getMainInputTexture(this._stage3DProxy),this._rttBufferManager.get_renderToTextureRect())):(this._depthRenderer.set_textureRatioX(1),this._depthRenderer.set_textureRatioY(1),this._depthRenderer.render(a));this._depthRenderer.set_disableColor(!1)},
renderSceneDepthToTexture:function(a){(this._depthTextureInvalid||null==this._depthRender)&&this.initDepthTexture(this._stage3DProxy.get_context3D());this._depthRenderer.set_textureRatioX(this._rttBufferManager.get_textureRatioX());this._depthRenderer.set_textureRatioY(this._rttBufferManager.get_textureRatioY());this._depthRenderer.render(a,this._depthRender)},initDepthTexture:function(a){this._depthTextureInvalid=!1;null!=this._depthRender&&this._depthRender.dispose();this._depthRender=a.createTexture(this._rttBufferManager.get_textureWidth(),
this._rttBufferManager.get_textureHeight(),1,!0)},dispose:function(){this._stage3DProxy.removeEventListener("ViewportUpdated",u(this,this.onViewportUpdated));this._stage3DProxy.removeEventListener("Context3DRecreated",u(this,this.onContext3DRecreated));this.get_shareContext()||this._stage3DProxy.dispose();this._renderer.dispose();null!=this._depthRender&&this._depthRender.dispose();null!=this._rttBufferManager&&this._rttBufferManager.dispose();this._mouse3DManager.disableMouseListeners(this);this._mouse3DManager.dispose();
this._touch3DManager.disableTouchListeners(this);this._touch3DManager.dispose();this._entityCollector=this._renderer=this._stage3DProxy=this._depthRenderer=this._touch3DManager=this._mouse3DManager=this._depthRender=this._rttBufferManager=null},project:function(a){a=this._camera.project(a);a.x=(a.x+1)*this._width/2;a.y=(a.y+1)*this._height/2;return a},unproject:function(a,b,c,d){return this._camera.unproject((2*a-this._width)/this._stage3DProxy.get_width(),(2*b-this._height)/this._stage3DProxy.get_height(),
c,d)},getRay:function(a,b,c){return this._camera.getRay((2*a-this._width)/this._width,(2*b-this._height)/this._height,c)},get_mousePicker:function(){return this._mouse3DManager.get_mousePicker()},set_mousePicker:function(a){this._mouse3DManager.set_mousePicker(a);return a},get_touchPicker:function(){return this._touch3DManager.get_touchPicker()},set_touchPicker:function(a){this._touch3DManager.set_touchPicker(a);return a},entityCollector:null,get_entityCollector:function(){return this._entityCollector},
onLensChanged:function(a){this._viewportDirty=this._scissorRectDirty=!0},onAddedToStage:function(a){this._addedToStage||(this._addedToStage=!0,null==this._stage3DProxy&&(this._stage3DProxy=-1==this._contextIndex?kc.getInstance(this.stage).getFreeStage3DProxy(this._forceSoftware,this._profile):kc.getInstance(this.stage).getStage3DProxy(this._contextIndex,this._forceSoftware,this._profile),this._stage3DProxy.addEventListener("ViewportUpdated",u(this,this.onViewportUpdated)),this._stage3DProxy.addEventListener("Context3DRecreated",
u(this,this.onContext3DRecreated))),this._globalPosDirty=!0,this._rttBufferManager=bf.getInstance(this._stage3DProxy),this._renderer.set_stage3DProxy(this._depthRenderer.set_stage3DProxy(this._stage3DProxy)),0==this._width?this.set_width(this.stage.stageWidth):this._rttBufferManager.set_viewWidth(this._width|0),0==this._height?this.set_height(this.stage.stageHeight):this._rttBufferManager.set_viewHeight(this._height|0),this._shareContext&&this._mouse3DManager.addViewLayer(this))},onAdded:function(a){this._parentIsStage=
this.parent==this.stage;this._globalPos=this.parent.localToGlobal(this._localPos);this._globalPosDirty=!0},onViewportUpdated:function(a){if(this._shareContext){a=this._globalPos.x;var b=this._stage3DProxy.get_x();this._scissorRect.x=a-b;a=this._globalPos.y;b=this._stage3DProxy.get_y();this._scissorRect.y=a-b;this._scissorRectDirty=!0}this._viewportDirty=!0},__class__:Th,__properties__:z(Fb.prototype.__properties__,{get_entityCollector:"get_entityCollector",set_touchPicker:"set_touchPicker",get_touchPicker:"get_touchPicker",
set_mousePicker:"set_mousePicker",get_mousePicker:"get_mousePicker",set_shareContext:"set_shareContext",get_shareContext:"get_shareContext",get_renderedFacesCount:"get_renderedFacesCount",set_antiAlias:"set_antiAlias",get_antiAlias:"get_antiAlias",get_deltaTime:"get_deltaTime",set_scene:"set_scene",get_scene:"get_scene",set_camera:"set_camera",get_camera:"get_camera",set_backgroundAlpha:"set_backgroundAlpha",get_backgroundAlpha:"get_backgroundAlpha",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",
set_renderer:"set_renderer",get_renderer:"get_renderer",set_filters3d:"set_filters3d",get_filters3d:"get_filters3d",set_layeredView:"set_layeredView",get_layeredView:"get_layeredView",set_background:"set_background",get_background:"get_background",set_forceMouseMove:"set_forceMouseMove",get_forceMouseMove:"get_forceMouseMove",set_stage3DProxy:"set_stage3DProxy",get_stage3DProxy:"get_stage3DProxy",set_depthPrepass:"set_depthPrepass",get_depthPrepass:"get_depthPrepass"})});var Ui=function(a){this._autoUpdate=
!0;this.set_targetObject(a)};m["away3d.controllers.ControllerBase"]=Ui;Ui.__name__=["away3d","controllers","ControllerBase"];Ui.prototype={_autoUpdate:null,_targetObject:null,notifyUpdate:function(){null!=this._targetObject&&null!=this._targetObject.get_implicitPartition()&&this._autoUpdate&&this._targetObject.get_implicitPartition().markForUpdate(this._targetObject)},get_targetObject:function(){return this._targetObject},set_targetObject:function(a){if(this._targetObject==a)return a;null!=this._targetObject&&
this._autoUpdate&&(this._targetObject._controller=null);this._targetObject=a;null!=this._targetObject&&this._autoUpdate&&(this._targetObject._controller=this);this.notifyUpdate();return a},get_autoUpdate:function(){return this._autoUpdate},set_autoUpdate:function(a){if(this._autoUpdate==a)return a;this._autoUpdate=a;null!=this._targetObject&&(this._targetObject._controller=this._autoUpdate?this:null);return a},update:function(a){throw new H(new bb);},__class__:Ui,__properties__:{set_autoUpdate:"set_autoUpdate",
get_autoUpdate:"get_autoUpdate",set_targetObject:"set_targetObject",get_targetObject:"get_targetObject"}};var hh=function(a,b){this._pos=new C;this._upAxis=new C(0,1,0);this._origin=new C(0,0,0);Ui.call(this,a);null!=b?this.set_lookAtObject(b):this.set_lookAtPosition(new C)};m["away3d.controllers.LookAtController"]=hh;hh.__name__=["away3d","controllers","LookAtController"];hh.__super__=Ui;hh.prototype=z(Ui.prototype,{_lookAtPosition:null,_lookAtObject:null,_origin:null,_upAxis:null,_pos:null,get_upAxis:function(){return this._upAxis},
set_upAxis:function(a){this._upAxis=a;this.notifyUpdate();return a},get_lookAtPosition:function(){return this._lookAtPosition},set_lookAtPosition:function(a){null!=this._lookAtObject&&(this._lookAtObject.removeEventListener("scenetransformChanged",u(this,this.onLookAtObjectChanged)),this._lookAtObject=null);this._lookAtPosition=a;this.notifyUpdate();return a},get_lookAtObject:function(){return this._lookAtObject},set_lookAtObject:function(a){null!=this._lookAtPosition&&(this._lookAtPosition=null);
if(this._lookAtObject==a)return a;null!=this._lookAtObject&&this._lookAtObject.removeEventListener("scenetransformChanged",u(this,this.onLookAtObjectChanged));this._lookAtObject=a;null!=this._lookAtObject&&this._lookAtObject.addEventListener("scenetransformChanged",u(this,this.onLookAtObjectChanged));this.notifyUpdate();return a},update:function(a){null!=this._targetObject&&(null!=this._lookAtPosition?this._targetObject.lookAt(this._lookAtPosition,this._upAxis):null!=this._lookAtObject&&(null!=this._targetObject.get_parent()&&
null!=this._lookAtObject.get_parent()?this._targetObject.get_parent()!=this._lookAtObject.get_parent()?(this._pos.x=this._lookAtObject.get_scenePosition().x,this._pos.y=this._lookAtObject.get_scenePosition().y,this._pos.z=this._lookAtObject.get_scenePosition().z,Ja.transformVector(this._targetObject.get_parent().get_inverseSceneTransform(),this._pos,this._pos)):Ja.getTranslation(this._lookAtObject.get_transform(),this._pos):null!=this._lookAtObject.get_scene()?(this._pos.x=this._lookAtObject.get_scenePosition().x,
this._pos.y=this._lookAtObject.get_scenePosition().y,this._pos.z=this._lookAtObject.get_scenePosition().z):Ja.getTranslation(this._lookAtObject.get_transform(),this._pos),this._targetObject.lookAt(this._pos,this._upAxis)))},onLookAtObjectChanged:function(a){this.notifyUpdate()},__class__:hh,__properties__:z(Ui.prototype.__properties__,{set_lookAtObject:"set_lookAtObject",get_lookAtObject:"get_lookAtObject",set_lookAtPosition:"set_lookAtPosition",get_lookAtPosition:"get_lookAtPosition",set_upAxis:"set_upAxis",
get_upAxis:"get_upAxis"})});var $l=function(a,b,c,d,e,f,k,p,w,h,n,l){null==l&&(l=!1);null==n&&(n=2);null==h&&(h=8);null==k&&(k=90);null==f&&(f=-90);null==e&&(e=1E3);null==d&&(d=90);null==c&&(c=0);this._wrapPanAngle=!1;this._yFactor=2;this._steps=8;this._maxTiltAngle=90;this._minTiltAngle=-90;this._maxPanAngle=Infinity;this._minPanAngle=-Infinity;this._distance=1E3;this._tiltAngle=90;this._panAngle=0;this._currentTiltAngle=90;this._currentPanAngle=0;hh.call(this,a,b);this.set_distance(e);this.set_panAngle(c);
this.set_tiltAngle(d);this.set_minPanAngle(null!=p?p:-Infinity);this.set_maxPanAngle(null!=w?w:Infinity);this.set_minTiltAngle(f);this.set_maxTiltAngle(k);this.set_steps(h);this.set_yFactor(n);this.set_wrapPanAngle(l);this._currentPanAngle=this._panAngle;this._currentTiltAngle=this._tiltAngle};m["away3d.controllers.HoverController"]=$l;$l.__name__=["away3d","controllers","HoverController"];$l.__super__=hh;$l.prototype=z(hh.prototype,{_currentPanAngle:null,_currentTiltAngle:null,_panAngle:null,_tiltAngle:null,
_distance:null,_minPanAngle:null,_maxPanAngle:null,_minTiltAngle:null,_maxTiltAngle:null,_steps:null,_yFactor:null,_wrapPanAngle:null,get_steps:function(){return this._steps},set_steps:function(a){1>a&&(a=1);if(this._steps==a)return a;this._steps=a;this.notifyUpdate();return a},get_panAngle:function(){return this._panAngle},set_panAngle:function(a){isNaN(a)&&(a=0);a=Math.max(this._minPanAngle,Math.min(this._maxPanAngle,a));if(this._panAngle==a)return a;this._panAngle=a;this.notifyUpdate();return a},
get_tiltAngle:function(){return this._tiltAngle},set_tiltAngle:function(a){isNaN(a)&&(a=0);a=Math.max(this._minTiltAngle,Math.min(this._maxTiltAngle,a));if(this._tiltAngle==a)return a;this._tiltAngle=a;this.notifyUpdate();return a},get_distance:function(){return this._distance},set_distance:function(a){if(this._distance==a)return a;this._distance=a;this.notifyUpdate();return a},get_minPanAngle:function(){return this._minPanAngle},set_minPanAngle:function(a){if(this._minPanAngle==a)return a;this._minPanAngle=
a;this.set_panAngle(Math.max(this._minPanAngle,Math.min(this._maxPanAngle,this._panAngle)));return a},get_maxPanAngle:function(){return this._maxPanAngle},set_maxPanAngle:function(a){if(this._maxPanAngle==a)return a;this._maxPanAngle=a;this.set_panAngle(Math.max(this._minPanAngle,Math.min(this._maxPanAngle,this._panAngle)));return a},get_minTiltAngle:function(){return this._minTiltAngle},set_minTiltAngle:function(a){if(this._minTiltAngle==a)return a;this._minTiltAngle=a;this.set_tiltAngle(Math.max(this._minTiltAngle,
Math.min(this._maxTiltAngle,this._tiltAngle)));return a},get_maxTiltAngle:function(){return this._maxTiltAngle},set_maxTiltAngle:function(a){if(this._maxTiltAngle==a)return a;this._maxTiltAngle=a;this.set_tiltAngle(Math.max(this._minTiltAngle,Math.min(this._maxTiltAngle,this._tiltAngle)));return a},get_yFactor:function(){return this._yFactor},set_yFactor:function(a){if(this._yFactor==a)return a;this._yFactor=a;this.notifyUpdate();return a},get_wrapPanAngle:function(){return this._wrapPanAngle},set_wrapPanAngle:function(a){if(this._wrapPanAngle==
a)return a;this._wrapPanAngle=a;this.notifyUpdate();return a},update:function(a){null==a&&(a=!0);if(this._tiltAngle!=this._currentTiltAngle||this._panAngle!=this._currentPanAngle){this.notifyUpdate();if(this._wrapPanAngle){0>this._panAngle?(this._currentPanAngle+=this._panAngle%360+360-this._panAngle,this._panAngle=this._panAngle%360+360):(this._currentPanAngle+=this._panAngle%360-this._panAngle,this._panAngle%=360);for(;-180>this._panAngle-this._currentPanAngle;)this._currentPanAngle-=360;for(;180<
this._panAngle-this._currentPanAngle;)this._currentPanAngle+=360}a?(this._currentTiltAngle+=(this._tiltAngle-this._currentTiltAngle)/(this.get_steps()+1),this._currentPanAngle+=(this._panAngle-this._currentPanAngle)/(this.get_steps()+1)):(this._currentPanAngle=this._panAngle,this._currentTiltAngle=this._tiltAngle);.01>Math.abs(this.get_tiltAngle()-this._currentTiltAngle)&&.01>Math.abs(this._panAngle-this._currentPanAngle)&&(this._currentTiltAngle=this._tiltAngle,this._currentPanAngle=this._panAngle)}null!=
this.get_targetObject()&&(null!=this._lookAtPosition?(this._pos.x=this._lookAtPosition.x,this._pos.y=this._lookAtPosition.y,this._pos.z=this._lookAtPosition.z):null!=this._lookAtObject?null!=this._targetObject.get_parent()&&null!=this._lookAtObject.get_parent()?this._targetObject.get_parent()!=this._lookAtObject.get_parent()?(this._pos.x=this._lookAtObject.get_scenePosition().x,this._pos.y=this._lookAtObject.get_scenePosition().y,this._pos.z=this._lookAtObject.get_scenePosition().z,Ja.transformVector(this._targetObject.get_parent().get_inverseSceneTransform(),
this._pos,this._pos)):Ja.getTranslation(this._lookAtObject.get_transform(),this._pos):null!=this._lookAtObject.get_scene()?(this._pos.x=this._lookAtObject.get_scenePosition().x,this._pos.y=this._lookAtObject.get_scenePosition().y,this._pos.z=this._lookAtObject.get_scenePosition().z):Ja.getTranslation(this._lookAtObject.get_transform(),this._pos):(this._pos.x=this._origin.x,this._pos.y=this._origin.y,this._pos.z=this._origin.z),this._targetObject.set_x(this._pos.x+this._distance*Math.sin(this._currentPanAngle*
cd.DEGREES_TO_RADIANS)*Math.cos(this._currentTiltAngle*cd.DEGREES_TO_RADIANS)),this._targetObject.set_z(this._pos.z+this._distance*Math.cos(this._currentPanAngle*cd.DEGREES_TO_RADIANS)*Math.cos(this._currentTiltAngle*cd.DEGREES_TO_RADIANS)),this._targetObject.set_y(this._pos.y+this._distance*Math.sin(this._currentTiltAngle*cd.DEGREES_TO_RADIANS)*this._yFactor),hh.prototype.update.call(this))},__class__:$l,__properties__:z(hh.prototype.__properties__,{set_wrapPanAngle:"set_wrapPanAngle",get_wrapPanAngle:"get_wrapPanAngle",
set_yFactor:"set_yFactor",get_yFactor:"get_yFactor",set_maxTiltAngle:"set_maxTiltAngle",get_maxTiltAngle:"get_maxTiltAngle",set_minTiltAngle:"set_minTiltAngle",get_minTiltAngle:"get_minTiltAngle",set_maxPanAngle:"set_maxPanAngle",get_maxPanAngle:"get_maxPanAngle",set_minPanAngle:"set_minPanAngle",get_minPanAngle:"get_minPanAngle",set_distance:"set_distance",get_distance:"get_distance",set_tiltAngle:"set_tiltAngle",get_tiltAngle:"get_tiltAngle",set_panAngle:"set_panAngle",get_panAngle:"get_panAngle",
set_steps:"set_steps",get_steps:"get_steps"})});var Fc=function(){this._uvsDirty=!0;this._scaleU=this._scaleV=1;this._vertexNormalsDirty=this._vertexTangentsDirty=!0;this._autoGenerateUVs=this._useFaceWeights=!1;this._autoDeriveVertexNormals=this._autoDeriveVertexTangents=!0;this._indicesInvalid=x.toBoolVector(null,8,!0);this._indexBufferContext=x.toObjectVector(null,8);this._indexBuffer=x.toObjectVector(null,8);this._faceNormalsDirty=this._faceTangentsDirty=!0};m["away3d.core.base.SubGeometryBase"]=
Fc;Fc.__name__=["away3d","core","base","SubGeometryBase"];Fc.prototype={_parentGeometry:null,_vertexData:null,_faceNormalsDirty:null,_faceTangentsDirty:null,_faceTangents:null,_indices:null,_indexBuffer:null,_numIndices:null,_indexBufferContext:null,_indicesInvalid:null,_numTriangles:null,_autoDeriveVertexNormals:null,_autoDeriveVertexTangents:null,_autoGenerateUVs:null,_useFaceWeights:null,_vertexNormalsDirty:null,_vertexTangentsDirty:null,_faceNormals:null,_faceWeights:null,_scaleU:null,_scaleV:null,
_uvsDirty:null,get_autoGenerateDummyUVs:function(){return this._autoGenerateUVs},set_autoGenerateDummyUVs:function(a){return this._uvsDirty=this._autoGenerateUVs=a},get_autoDeriveVertexNormals:function(){return this._autoDeriveVertexNormals},set_autoDeriveVertexNormals:function(a){return this._vertexNormalsDirty=this._autoDeriveVertexNormals=a},get_useFaceWeights:function(){return this._useFaceWeights},set_useFaceWeights:function(a){this._useFaceWeights=a;this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=
!0);this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=!0);this._faceNormalsDirty=!0;return a},get_numTriangles:function(){return this._numTriangles},getIndexBuffer:function(a){var b=a._stage3DIndex,c=a._context3D;if(null==this._indexBuffer.get(b)||this._indexBufferContext.get(b)!=c)this._indexBuffer.set(b,a.createIndexBuffer(this._numIndices)),this._indexBufferContext.set(b,c),this._indicesInvalid.set(b,!0);this._indicesInvalid.get(b)&&(this._indexBuffer.get(b).uploadFromVector(this._indices,
0,this._numIndices),this._indicesInvalid.set(b,!1));return this._indexBuffer.get(b)},updateFaceTangents:function(){var a=0,b,c,d,e=this._indices.get_length(),f,k,p,w,h,n,l,g=this._vertexData,m=this.get_UVData(),r=this.get_vertexStride(),q=this.get_vertexOffset(),t=this.get_UVStride(),u=this.get_UVOffset();null==this._faceTangents&&(this._faceTangents=x.toFloatVector(null,this._indices.get_length(),!0));for(;a<e;)b=this._indices.get(a),c=this._indices.get(a+1),d=this._indices.get(a+2),f=u+b*t+1,k=
m.get(f),f=u+c*t+1,p=m.get(f)-k,f=u+d*t+1,f=m.get(f)-k,k=q+b*r,w=g.get(k),h=g.get(k+1),n=g.get(k+2),k=q+c*r,l=g.get(k)-w,b=g.get(k+1)-h,c=g.get(k+2)-n,k=q+d*r,d=g.get(k)-w,h=g.get(k+1)-h,k=g.get(k+2)-n,d=f*l-p*d,b=f*b-p*h,f=f*c-p*k,p=1/Math.sqrt(d*d+b*b+f*f),this._faceTangents.set(a++,p*d),this._faceTangents.set(a++,p*b),this._faceTangents.set(a++,p*f);this._faceTangentsDirty=!1},updateFaceNormals:function(){var a=0,b=0,c=0,d,e=this._indices.get_length(),f,k,p,w,h,n,l,g,m=this._vertexData,r=this.get_vertexStride(),
q=this.get_vertexOffset();null==this._faceNormals&&(this._faceNormals=x.toFloatVector(null,e,!0));null==this._faceWeights&&(this._faceWeights=x.toFloatVector(null,e/3|0,!0));for(;a<e;)d=q+this._indices.get(a++)*r,f=m.get(d),w=m.get(d+1),l=m.get(d+2),d=q+this._indices.get(a++)*r,k=m.get(d),h=m.get(d+1),g=m.get(d+2),d=q+this._indices.get(a++)*r,p=m.get(d),n=m.get(d+1),d=m.get(d+2),p-=f,n-=w,d-=l,f=k-f,w=h-w,g-=l,l=d*w-n*g,g=p*g-d*f,p=n*f-p*w,n=Math.sqrt(l*l+g*g+p*p),this._useFaceWeights&&(w=1E4*n,1>
w&&(w=1),this._faceWeights.set(c++,w)),n=1/n,this._faceNormals.set(b++,l*n),this._faceNormals.set(b++,g*n),this._faceNormals.set(b++,p*n);this._faceNormalsDirty=!1},updateVertexNormals:function(a){this._faceNormalsDirty&&this.updateFaceNormals();var b,c=0,d=1,e=2,f=this._vertexData.get_length(),k=this.get_vertexNormalStride(),p=this.get_vertexNormalOffset();null==a&&(a=x.toFloatVector(null,f,!0));for(b=p;b<f;)a.set(b,0),a.set(b+1,0),a.set(b+2,0),b+=k;for(var w=b=0,h=this._indices.get_length(),n,l;b<
h;){l=this._useFaceWeights?this._faceWeights.get(w++):1;n=p+this._indices.get(b++)*k;var g=n++,m=a;m.set(g,m.get(g)+this._faceNormals.get(c)*l);g=n++;m=a;m.set(g,m.get(g)+this._faceNormals.get(d)*l);g=a;g.set(n,g.get(n)+this._faceNormals.get(e)*l);n=p+this._indices.get(b++)*k;g=n++;m=a;m.set(g,m.get(g)+this._faceNormals.get(c)*l);g=n++;m=a;m.set(g,m.get(g)+this._faceNormals.get(d)*l);g=a;g.set(n,g.get(n)+this._faceNormals.get(e)*l);n=p+this._indices.get(b++)*k;g=n++;m=a;m.set(g,m.get(g)+this._faceNormals.get(c)*
l);g=n++;m=a;m.set(g,m.get(g)+this._faceNormals.get(d)*l);g=a;g.set(n,g.get(n)+this._faceNormals.get(e)*l);c+=3;d+=3;e+=3}for(b=p;b<f;)c=a.get(b),d=a.get(b+1),e=a.get(b+2),p=1/Math.sqrt(c*c+d*d+e*e),a.set(b,c*p),a.set(b+1,d*p),a.set(b+2,e*p),b+=k;this._vertexNormalsDirty=!1;return a},updateVertexTangents:function(a){this._faceTangentsDirty&&this.updateFaceTangents();var b=0,c=this._vertexData.get_length(),d=this.get_vertexTangentStride(),e=this.get_vertexTangentOffset();null==a&&(a=x.toFloatVector(null,
c,!0));for(b=e;b<c;)a.set(b,0),a.set(b+1,0),a.set(b+2,0),b+=d;for(var f=0,k=this._indices.get_length(),p,w,h=0,n=1,l=2,b=0;b<k;){w=this._useFaceWeights?this._faceWeights.get(f++):1;p=e+this._indices.get(b++)*d;var g=p++,m=a;m.set(g,m.get(g)+this._faceTangents.get(h)*w);g=p++;m=a;m.set(g,m.get(g)+this._faceTangents.get(n)*w);g=a;g.set(p,g.get(p)+this._faceTangents.get(l)*w);p=e+this._indices.get(b++)*d;g=p++;m=a;m.set(g,m.get(g)+this._faceTangents.get(h)*w);g=p++;m=a;m.set(g,m.get(g)+this._faceTangents.get(n)*
w);g=a;g.set(p,g.get(p)+this._faceTangents.get(l)*w);p=e+this._indices.get(b++)*d;g=p++;m=a;m.set(g,m.get(g)+this._faceTangents.get(h)*w);g=p++;m=a;m.set(g,m.get(g)+this._faceTangents.get(n)*w);g=a;g.set(p,g.get(p)+this._faceTangents.get(l)*w);h+=3;n+=3;l+=3}for(b=e;b<c;)e=a.get(b),f=a.get(b+1),k=a.get(b+2),w=1/Math.sqrt(e*e+f*f+k*k),a.set(b,e*w),a.set(b+1,f*w),a.set(b+2,k*w),b+=d;this._vertexTangentsDirty=!1;return a},dispose:function(){this.disposeIndexBuffers(this._indexBuffer);this._vertexData=
this._faceTangents=this._faceWeights=this._faceNormals=this._indexBufferContext=this._indices=null},get_indexData:function(){return this._indices},updateIndexData:function(a){this._indices=a;this._numIndices=a.get_length();a=this._numIndices/3|0;this._numTriangles!=a&&this.disposeIndexBuffers(this._indexBuffer);this._numTriangles=a;this.invalidateBuffers(this._indicesInvalid);this._faceNormalsDirty=!0;this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=!0);this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=
!0)},disposeIndexBuffers:function(a){for(var b=0;8>b;){var c=b++;null!=a.get(c)&&(sb.disposeIndexBuffer(a.get(c)),a.set(c,null))}},disposeVertexBuffers:function(a){for(var b=0;8>b;){var c=b++;null!=a.get(c)&&(sb.disposeVertexBuffer(a.get(c)),a.set(c,null))}},get_autoDeriveVertexTangents:function(){return this._autoDeriveVertexTangents},set_autoDeriveVertexTangents:function(a){return this._vertexTangentsDirty=this._autoDeriveVertexTangents=a},get_faceNormals:function(){this._faceNormalsDirty&&this.updateFaceNormals();
return this._faceNormals},invalidateBuffers:function(a){for(var b=0;8>b;){var c=b++;a.set(c,!0)}},get_UVStride:function(){throw new H(new bb);},get_vertexData:function(){throw new H(new bb);},get_vertexPositionData:function(){throw new H(new bb);},get_vertexNormalData:function(){throw new H(new bb);},get_vertexTangentData:function(){throw new H(new bb);},get_UVData:function(){throw new H(new bb);},get_vertexStride:function(){throw new H(new bb);},get_vertexNormalStride:function(){throw new H(new bb);
},get_vertexTangentStride:function(){throw new H(new bb);},get_vertexOffset:function(){throw new H(new bb);},get_vertexNormalOffset:function(){throw new H(new bb);},get_vertexTangentOffset:function(){throw new H(new bb);},get_UVOffset:function(){throw new H(new bb);},invalidateBounds:function(){null!=this._parentGeometry&&this._parentGeometry.invalidateBounds(y.__cast(this,zk))},get_parentGeometry:function(){return this._parentGeometry},set_parentGeometry:function(a){return this._parentGeometry=a},
get_scaleU:function(){return this._scaleU},get_scaleV:function(){return this._scaleV},scaleUV:function(a,b){null==b&&(b=1);null==a&&(a=1);for(var c=this.get_UVOffset(),d=this.get_UVStride(),e=this.get_UVData(),f=e.get_length(),k=a/this._scaleU,p=b/this._scaleV;c<f;){var w=c,h=e;h.set(w,h.get(w)*k);w=c+1;h=e;h.set(w,h.get(w)*p);c+=d}this._scaleU=a;this._scaleV=b},scale:function(a){for(var b=this.get_UVData(),c=b.get_length(),d=this.get_vertexOffset(),e=this.get_vertexStride();d<c;){var f=d,k=b;k.set(f,
k.get(f)*a);f=d+1;k=b;k.set(f,k.get(f)*a);f=d+2;k=b;k.set(f,k.get(f)*a);d+=e}},applyTransformation:function(a){var b=this._vertexData,c=this.get_vertexNormalData(),d=this.get_vertexTangentData(),e=this.get_vertexStride(),f=this.get_vertexNormalStride(),k=this.get_vertexTangentStride(),p=this.get_vertexOffset(),w=this.get_vertexNormalOffset(),h=this.get_vertexTangentOffset(),n=b.get_length()/e|0,l,g=new C,m=null!=c,r=null!=d,q=null;if(m||r)q=a.clone(),q.invert(),q.transpose();for(var t=h,u=0;u<n;)u++,
h=p+1,l=p+2,g.x=b.get(p),g.y=b.get(h),g.z=b.get(l),g=a.transformVector(g),b.set(p,g.x),b.set(h,g.y),b.set(l,g.z),p+=e,m&&(h=w+1,l=w+2,g.x=c.get(w),g.y=c.get(h),g.z=c.get(l),g=q.deltaTransformVector(g),g.normalize(),c.set(w,g.x),c.set(h,g.y),c.set(l,g.z),w+=f),r&&(h=t+1,l=t+2,g.x=d.get(t),g.y=d.get(h),g.z=d.get(l),g=q.deltaTransformVector(g),g.normalize(),d.set(t,g.x),d.set(h,g.y),d.set(l,g.z),t+=k)},updateDummyUVs:function(a){this._uvsDirty=!1;var b,c;b=this.get_UVStride();var d=b-2,e=this._vertexData.get_length()/
this.get_vertexStride()*b|0;null==a&&(a=x.toFloatVector(null));a.fixed=!1;a.set_length(e);a.fixed=!0;b=this.get_UVOffset();for(c=0;b<e;)a.set(b++,.5*c),a.set(b++,1-(c&1)),b+=d,3==++c&&(c=0);return a},__class__:Fc,__properties__:{get_scaleV:"get_scaleV",get_scaleU:"get_scaleU",set_parentGeometry:"set_parentGeometry",get_parentGeometry:"get_parentGeometry",get_UVOffset:"get_UVOffset",get_vertexTangentOffset:"get_vertexTangentOffset",get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",
get_vertexTangentStride:"get_vertexTangentStride",get_vertexNormalStride:"get_vertexNormalStride",get_vertexStride:"get_vertexStride",get_UVData:"get_UVData",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexPositionData:"get_vertexPositionData",get_vertexData:"get_vertexData",get_UVStride:"get_UVStride",get_faceNormals:"get_faceNormals",set_autoDeriveVertexTangents:"set_autoDeriveVertexTangents",get_autoDeriveVertexTangents:"get_autoDeriveVertexTangents",
get_indexData:"get_indexData",get_numTriangles:"get_numTriangles",set_useFaceWeights:"set_useFaceWeights",get_useFaceWeights:"get_useFaceWeights",set_autoDeriveVertexNormals:"set_autoDeriveVertexNormals",get_autoDeriveVertexNormals:"get_autoDeriveVertexNormals",set_autoGenerateDummyUVs:"set_autoGenerateDummyUVs",get_autoGenerateDummyUVs:"get_autoGenerateDummyUVs"}};var zk=function(){};m["away3d.core.base.ISubGeometry"]=zk;zk.__name__=["away3d","core","base","ISubGeometry"];zk.prototype={get_numVertices:null,
get_numTriangles:null,get_vertexStride:null,get_vertexNormalStride:null,get_vertexTangentStride:null,get_UVStride:null,get_secondaryUVStride:null,get_vertexData:null,get_vertexNormalData:null,get_vertexTangentData:null,get_vertexOffset:null,get_vertexNormalOffset:null,get_vertexTangentOffset:null,get_UVOffset:null,get_secondaryUVOffset:null,get_indexData:null,get_UVData:null,get_scaleU:null,get_scaleV:null,get_parentGeometry:null,set_parentGeometry:null,get_faceNormals:null,get_autoDeriveVertexNormals:null,
set_autoDeriveVertexNormals:null,get_autoDeriveVertexTangents:null,set_autoDeriveVertexTangents:null,get_vertexPositionData:null,activateVertexBuffer:null,activateUVBuffer:null,activateSecondaryUVBuffer:null,activateVertexNormalBuffer:null,activateVertexTangentBuffer:null,getIndexBuffer:null,applyTransformation:null,scale:null,dispose:null,clone:null,scaleUV:null,cloneWithSeperateBuffers:null,fromVectors:null,__class__:zk,__properties__:{get_vertexPositionData:"get_vertexPositionData",set_autoDeriveVertexTangents:"set_autoDeriveVertexTangents",
get_autoDeriveVertexTangents:"get_autoDeriveVertexTangents",set_autoDeriveVertexNormals:"set_autoDeriveVertexNormals",get_autoDeriveVertexNormals:"get_autoDeriveVertexNormals",get_faceNormals:"get_faceNormals",set_parentGeometry:"set_parentGeometry",get_parentGeometry:"get_parentGeometry",get_scaleV:"get_scaleV",get_scaleU:"get_scaleU",get_UVData:"get_UVData",get_indexData:"get_indexData",get_secondaryUVOffset:"get_secondaryUVOffset",get_UVOffset:"get_UVOffset",get_vertexTangentOffset:"get_vertexTangentOffset",
get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexData:"get_vertexData",get_secondaryUVStride:"get_secondaryUVStride",get_UVStride:"get_UVStride",get_vertexTangentStride:"get_vertexTangentStride",get_vertexNormalStride:"get_vertexNormalStride",get_vertexStride:"get_vertexStride",get_numTriangles:"get_numTriangles",get_numVertices:"get_numVertices"}};var Ac=function(){this._bufferContext=
x.toObjectVector(null,8);this._vertexBuffer=x.toObjectVector(null,8);this._vertexDataInvalid=x.toBoolVector(null,8,!0);Fc.call(this);this._autoDeriveVertexTangents=this._autoDeriveVertexNormals=!1};m["away3d.core.base.CompactSubGeometry"]=Ac;Ac.__name__=["away3d","core","base","CompactSubGeometry"];Ac.__interfaces__=[zk];Ac.__super__=Fc;Ac.prototype=z(Fc.prototype,{_vertexDataInvalid:null,_vertexBuffer:null,_bufferContext:null,_numVertices:null,_contextIndex:null,_activeBuffer:null,_activeContext:null,
_activeDataInvalid:null,_isolatedVertexPositionData:null,_isolatedVertexPositionDataDirty:null,get_numVertices:function(){return this._numVertices},updateData:function(a){this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=!0);this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=!0);this._isolatedVertexPositionDataDirty=this._faceTangentsDirty=this._faceNormalsDirty=!0;this._vertexData=a;a=this._vertexData.get_length()/13|0;a!=this._numVertices&&this.disposeVertexBuffers(this._vertexBuffer);
this._numVertices=a;if(0==this._numVertices)throw new H(new sa("Bad data: geometry can't have zero triangles"));this.invalidateBuffers(this._vertexDataInvalid);this.invalidateBounds()},activateVertexBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,0,3)},activateUVBuffer:function(a,
b){var c=b._stage3DIndex,d=b._context3D;this._uvsDirty&&this._autoGenerateUVs&&(this._vertexData=this.updateDummyUVs(this._vertexData),this.invalidateBuffers(this._vertexDataInvalid));c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,9,2)},activateSecondaryUVBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);
null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,11,2)},uploadData:function(a){this._activeBuffer.uploadFromVector(this._vertexData,0,this._numVertices);this._vertexDataInvalid.set(a,this._activeDataInvalid=!1)},activateVertexNormalBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||
this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,3,3)},activateVertexTangentBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;c!=this._contextIndex&&this.updateActiveBuffer(c);null!=this._activeBuffer&&this._activeContext==d||this.createBuffer(c,d,b);this._activeDataInvalid&&this.uploadData(c);d.setVertexBufferAt(a,this._activeBuffer,6,3)},createBuffer:function(a,b,c){this._vertexBuffer.set(a,this._activeBuffer=c.createVertexBuffer(this._numVertices,
13));this._bufferContext.set(a,this._activeContext=b);this._vertexDataInvalid.set(a,this._activeDataInvalid=!0)},updateActiveBuffer:function(a){this._contextIndex=a;this._activeDataInvalid=this._vertexDataInvalid.get(a);this._activeBuffer=this._vertexBuffer.get(a);this._activeContext=this._bufferContext.get(a)},get_vertexData:function(){this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexData=this.updateVertexNormals(this._vertexData));this._autoDeriveVertexTangents&&this._vertexTangentsDirty&&
(this._vertexData=this.updateVertexTangents(this._vertexData));this._uvsDirty&&this._autoGenerateUVs&&(this._vertexData=this.updateDummyUVs(this._vertexData));return this._vertexData},updateVertexNormals:function(a){this.invalidateBuffers(this._vertexDataInvalid);return Fc.prototype.updateVertexNormals.call(this,a)},updateVertexTangents:function(a){this._vertexNormalsDirty&&(this._vertexData=this.updateVertexNormals(this._vertexData));this.invalidateBuffers(this._vertexDataInvalid);return Fc.prototype.updateVertexTangents.call(this,
a)},get_vertexNormalData:function(){this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexData=this.updateVertexNormals(this._vertexData));return this._vertexData},get_vertexTangentData:function(){this._autoDeriveVertexTangents&&this._vertexTangentsDirty&&(this._vertexData=this.updateVertexTangents(this._vertexData));return this._vertexData},get_UVData:function(){this._uvsDirty&&this._autoGenerateUVs&&(this._vertexData=this.updateDummyUVs(this._vertexData),this.invalidateBuffers(this._vertexDataInvalid));
return this._vertexData},applyTransformation:function(a){Fc.prototype.applyTransformation.call(this,a);this.invalidateBuffers(this._vertexDataInvalid)},scale:function(a){Fc.prototype.scale.call(this,a);this.invalidateBuffers(this._vertexDataInvalid)},clone:function(){var a=new Ac;a._autoDeriveVertexNormals=this._autoDeriveVertexNormals;a._autoDeriveVertexTangents=this._autoDeriveVertexTangents;a.updateData(this._vertexData.concat(null));a.updateIndexData(this._indices.concat(null));return a},scaleUV:function(a,
b){null==b&&(b=1);null==a&&(a=1);Fc.prototype.scaleUV.call(this,a,b);this.invalidateBuffers(this._vertexDataInvalid)},get_vertexStride:function(){return 13},get_vertexNormalStride:function(){return 13},get_vertexTangentStride:function(){return 13},get_UVStride:function(){return 13},get_secondaryUVStride:function(){return 13},get_vertexOffset:function(){return 0},get_vertexNormalOffset:function(){return 3},get_vertexTangentOffset:function(){return 6},get_UVOffset:function(){return 9},get_secondaryUVOffset:function(){return 11},
dispose:function(){Fc.prototype.dispose.call(this);this.disposeVertexBuffers(this._vertexBuffer);this._vertexBuffer=null},disposeVertexBuffers:function(a){Fc.prototype.disposeVertexBuffers.call(this,a);this._activeBuffer=null},invalidateBuffers:function(a){Fc.prototype.invalidateBuffers.call(this,a);this._activeDataInvalid=!0},cloneWithSeperateBuffers:function(){var a=new Uf;a.updateVertexData(null!=this._isolatedVertexPositionData?this._isolatedVertexPositionData:this._isolatedVertexPositionData=
this.stripBuffer(0,3));a.set_autoDeriveVertexNormals(this._autoDeriveVertexNormals);a.set_autoDeriveVertexTangents(this._autoDeriveVertexTangents);this._autoDeriveVertexNormals||a.updateVertexNormalData(this.stripBuffer(3,3));this._autoDeriveVertexTangents||a.updateVertexTangentData(this.stripBuffer(6,3));a.updateUVData(this.stripBuffer(9,2));a.updateSecondaryUVData(this.stripBuffer(11,2));a.updateIndexData(this.get_indexData().concat(null));return a},get_vertexPositionData:function(){if(this._isolatedVertexPositionDataDirty||
null==this._isolatedVertexPositionData)this._isolatedVertexPositionData=this.stripBuffer(0,3),this._isolatedVertexPositionDataDirty=!1;return this._isolatedVertexPositionData},stripBuffer:function(a,b){for(var c=x.toFloatVector(null,this._numVertices*b),d=0,e=a,f=13-b,k=0,p=this._numVertices;k<p;){k++;for(var w=0,h=b;w<h;)w++,c.set(d++,this._vertexData.get(e++));e+=f}return c},fromVectors:function(a,b,c,d){for(var e=a.get_length()/3*13|0,f=0,k=0,p=0,w=0,h=0,n=x.toFloatVector(null,e,!0);f<e;)n.set(f++,
a.get(k++)),n.set(f++,a.get(k++)),n.set(f++,a.get(k++)),null!=c&&0<c.get_length()?(n.set(f++,c.get(p++)),n.set(f++,c.get(p++)),n.set(f++,c.get(p++))):(n.set(f++,0),n.set(f++,0),n.set(f++,0)),null!=d&&0<d.get_length()?(n.set(f++,d.get(w++)),n.set(f++,d.get(w++)),n.set(f++,d.get(w++))):(n.set(f++,0),n.set(f++,0),n.set(f++,0)),null!=b&&0<b.get_length()?(n.set(f++,b.get(h)),n.set(f++,b.get(h+1)),n.set(f++,b.get(h++)),n.set(f++,b.get(h++))):(n.set(f++,0),n.set(f++,0),n.set(f++,0),n.set(f++,0));this.set_autoDeriveVertexNormals(!(null!=
c&&0<c.get_length()));this.set_autoDeriveVertexTangents(!(null!=d&&0<d.get_length()));this.set_autoGenerateDummyUVs(!(null!=b&&0<b.get_length()));this.updateData(n)},__class__:Ac,__properties__:z(Fc.prototype.__properties__,{get_secondaryUVOffset:"get_secondaryUVOffset",get_secondaryUVStride:"get_secondaryUVStride",get_numVertices:"get_numVertices"})});var Zb=function(){Ka.call(this);this._subGeometries=x.toObjectVector(null)};m["away3d.core.base.Geometry"]=Zb;Zb.__name__=["away3d","core","base",
"Geometry"];Zb.__interfaces__=[bd];Zb.__super__=Ka;Zb.prototype=z(Ka.prototype,{_subGeometries:null,get_assetType:function(){return"geometry"},get_subGeometries:function(){return this._subGeometries},applyTransformation:function(a){for(var b=0,c=this._subGeometries.get_length();b<c;){var d=b++;this._subGeometries.get(d).applyTransformation(a)}},addSubGeometry:function(a){this._subGeometries.push(a);a.set_parentGeometry(this);this.hasEventListener("SubGeometryAdded")&&this.dispatchEvent(new Vf("SubGeometryAdded",
a));this.invalidateBounds(a)},removeSubGeometry:function(a){this._subGeometries.splice(this._subGeometries.indexOf(a,0),1);a.set_parentGeometry(null);this.hasEventListener("SubGeometryRemoved")&&this.dispatchEvent(new Vf("SubGeometryRemoved",a));this.invalidateBounds(a)},clone:function(){for(var a=new Zb,b=0,c=this._subGeometries.get_length();b<c;){var d=b++;a.addSubGeometry(this._subGeometries.get(d).clone())}return a},scale:function(a){for(var b=0,c=this._subGeometries.get_length();b<c;){var d=
b++;this._subGeometries.get(d).scale(a)}},dispose:function(){for(var a=0,b=this._subGeometries.get_length();a<b;){a++;var c=this._subGeometries.get(0);this.removeSubGeometry(c);c.dispose()}},scaleUV:function(a,b){null==b&&(b=1);null==a&&(a=1);for(var c=0,d=this._subGeometries.get_length();c<d;){var e=c++;this._subGeometries.get(e).scaleUV(a,b)}},convertToSeparateBuffers:function(){for(var a,b=this._subGeometries.get_length(),c=x.toObjectVector(null),d=0;d<b;)a=d++,a=this._subGeometries.get(a),y.__instanceof(a,
Uf)||(c.push(a),this.addSubGeometry(a.cloneWithSeperateBuffers()));for(b=0;b<c.get_length();)d=c.get(b),++b,this.removeSubGeometry(d),d.dispose()},validate:function(){},invalidateBounds:function(a){this.hasEventListener("BoundsInvalid")&&this.dispatchEvent(new Vf("BoundsInvalid",a))},__class__:Zb,__properties__:z(Ka.prototype.__properties__,{get_subGeometries:"get_subGeometries",get_assetType:"get_assetType"})});var Mm=function(){};m["away3d.core.base.IMaterialOwner"]=Mm;Mm.__name__=["away3d","core",
"base","IMaterialOwner"];Mm.prototype={get_material:null,set_material:null,get_animator:null,__class__:Mm,__properties__:{get_animator:"get_animator",set_material:"set_material",get_material:"get_material"}};var Vi=function(){};m["away3d.core.base.IRenderable"]=Vi;Vi.__name__=["away3d","core","base","IRenderable"];Vi.__interfaces__=[Mm];Vi.prototype={get_sceneTransform:null,get_inverseSceneTransform:null,get_mouseEnabled:null,get_sourceEntity:null,get_castsShadows:null,get_uvTransform:null,get_uvTransform2:null,
get_shaderPickingDetails:null,get_numVertices:null,get_numTriangles:null,get_vertexStride:null,get_vertexData:null,get_vertexNormalData:null,get_vertexTangentData:null,get_indexData:null,get_UVData:null,getRenderSceneTransform:null,activateVertexBuffer:null,activateUVBuffer:null,activateSecondaryUVBuffer:null,activateVertexNormalBuffer:null,activateVertexTangentBuffer:null,getIndexBuffer:null,__class__:Vi,__properties__:{get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexTangentData:"get_vertexTangentData",
get_vertexNormalData:"get_vertexNormalData",get_vertexData:"get_vertexData",get_vertexStride:"get_vertexStride",get_numTriangles:"get_numTriangles",get_numVertices:"get_numVertices",get_shaderPickingDetails:"get_shaderPickingDetails",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",get_castsShadows:"get_castsShadows",get_sourceEntity:"get_sourceEntity",get_mouseEnabled:"get_mouseEnabled",get_inverseSceneTransform:"get_inverseSceneTransform",get_sceneTransform:"get_sceneTransform"}};
var jk=function(){Zb.call(this)};m["away3d.core.base.ParticleGeometry"]=jk;jk.__name__=["away3d","core","base","ParticleGeometry"];jk.__super__=Zb;jk.prototype=z(Zb.prototype,{particles:null,numParticles:null,__class__:jk});var yf=function(a){this._jointIndexContext=x.toObjectVector(null,8);this._jointWeightContext=x.toObjectVector(null,8);this._jointIndicesInvalid=x.toBoolVector(null,8,!0);this._jointWeightsInvalid=x.toBoolVector(null,8,!0);this._jointIndexBuffer=x.toObjectVector(null,8);this._jointWeightsBuffer=
x.toObjectVector(null,8);Ac.call(this);this._jointsPerVertex=a;this._bufferFormat=this.getVertexBufferFormat(this._jointsPerVertex)};m["away3d.core.base.SkinnedSubGeometry"]=yf;yf.__name__=["away3d","core","base","SkinnedSubGeometry"];yf.__super__=Ac;yf.prototype=z(Ac.prototype,{_bufferFormat:null,_jointWeightsData:null,_jointIndexData:null,_animatedData:null,_jointWeightsBuffer:null,_jointIndexBuffer:null,_jointWeightsInvalid:null,_jointIndicesInvalid:null,_jointWeightContext:null,_jointIndexContext:null,
_jointsPerVertex:null,_condensedJointIndexData:null,_condensedIndexLookUp:null,_numCondensedJoints:null,getVertexBufferFormat:function(a){switch(a){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 3;default:return null}},get_condensedIndexLookUp:function(){return this._condensedIndexLookUp},get_numCondensedJoints:function(){return this._numCondensedJoints},get_animatedData:function(){return null!=this._animatedData?this._animatedData:this._vertexData.concat(null)},updateAnimatedData:function(a){this._animatedData=
a;this.invalidateBuffers(this._vertexDataInvalid)},activateJointWeightsBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;if(this._jointWeightContext.get(c)!=d||null==this._jointWeightsBuffer.get(c))this._jointWeightsBuffer.set(c,b.createVertexBuffer(this._numVertices,this._jointsPerVertex)),this._jointWeightContext.set(c,d),this._jointWeightsInvalid.set(c,!0);this._jointWeightsInvalid.get(c)&&(this._jointWeightsBuffer.get(c).uploadFromVector(this._jointWeightsData,0,this._jointWeightsData.get_length()/
this._jointsPerVertex|0),this._jointWeightsInvalid.set(c,!1));d.setVertexBufferAt(a,this._jointWeightsBuffer.get(c),0,this._bufferFormat)},activateJointIndexBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;if(this._jointIndexContext.get(c)!=d||null==this._jointIndexBuffer.get(c))this._jointIndexBuffer.set(c,b.createVertexBuffer(this._numVertices,this._jointsPerVertex)),this._jointIndexContext.set(c,d),this._jointIndicesInvalid.set(c,!0);this._jointIndicesInvalid.get(c)&&(this._jointIndexBuffer.get(c).uploadFromVector(0<
this._numCondensedJoints?this._condensedJointIndexData:this._jointIndexData,0,this._jointIndexData.get_length()/this._jointsPerVertex|0),this._jointIndicesInvalid.set(c,!1));d.setVertexBufferAt(a,this._jointIndexBuffer.get(c),0,this._bufferFormat)},uploadData:function(a){null!=this._animatedData?(this._activeBuffer.uploadFromVector(this._animatedData,0,this._numVertices),this._vertexDataInvalid.set(a,this._activeDataInvalid=!1)):Ac.prototype.uploadData.call(this,a)},clone:function(){var a=new yf(this._jointsPerVertex);
a.updateData(this._vertexData.concat(null));a.updateIndexData(this._indices.concat(null));a.updateJointIndexData(this._jointIndexData.concat(null));a.updateJointWeightsData(this._jointWeightsData.concat(null));a._autoDeriveVertexNormals=this._autoDeriveVertexNormals;a._autoDeriveVertexTangents=this._autoDeriveVertexTangents;a._numCondensedJoints=this._numCondensedJoints;a._condensedIndexLookUp=this._condensedIndexLookUp;a._condensedJointIndexData=this._condensedJointIndexData;return a},dispose:function(){Ac.prototype.dispose.call(this);
this.disposeVertexBuffers(this._jointWeightsBuffer);this.disposeVertexBuffers(this._jointIndexBuffer)},condenseIndexData:function(){var a=this._jointIndexData.get_length(),b,c=0,d=new fc;this._condensedJointIndexData=x.toFloatVector(null,a,!0);this._condensedIndexLookUp=x.toIntVector(null);for(var e=0;e<a;){var f=e++;b=this._jointIndexData.get(f)|0;d.h.hasOwnProperty(b)||(d.h[b]=c,this._condensedIndexLookUp.set(c++,b),this._condensedIndexLookUp.set(c++,b+1),this._condensedIndexLookUp.set(c++,b+2));
this._condensedJointIndexData.set(f,d.h[b])}this._numCondensedJoints=c/3|0;this.invalidateBuffers(this._jointIndicesInvalid)},get_jointWeightsData:function(){return this._jointWeightsData},updateJointWeightsData:function(a){this._numCondensedJoints=0;this._condensedJointIndexData=this._condensedIndexLookUp=null;this._jointWeightsData=a;this.invalidateBuffers(this._jointWeightsInvalid)},get_jointIndexData:function(){return this._jointIndexData},updateJointIndexData:function(a){this._jointIndexData=
a;this.invalidateBuffers(this._jointIndicesInvalid)},__class__:yf,__properties__:z(Ac.prototype.__properties__,{get_jointIndexData:"get_jointIndexData",get_jointWeightsData:"get_jointWeightsData",get_animatedData:"get_animatedData",get_numCondensedJoints:"get_numCondensedJoints",get_condensedIndexLookUp:"get_condensedIndexLookUp"})});var Uf=function(){this._vertexTangentBufferContext=x.toObjectVector(null,8);this._vertexNormalBufferContext=x.toObjectVector(null,8);this._secondaryUvBufferContext=x.toObjectVector(null,
8);this._uvBufferContext=x.toObjectVector(null,8);this._vertexBufferContext=x.toObjectVector(null,8);this._vertexTangentBuffer=x.toObjectVector(null,8);this._vertexNormalBuffer=x.toObjectVector(null,8);this._secondaryUvBuffer=x.toObjectVector(null,8);this._uvBuffer=x.toObjectVector(null,8);this._vertexBuffer=x.toObjectVector(null,8);this._tangentsInvalid=x.toBoolVector(null,8,!0);this._normalsInvalid=x.toBoolVector(null,8,!0);this._secondaryUvsInvalid=x.toBoolVector(null,8,!0);this._uvsInvalid=x.toBoolVector(null,
8,!0);this._verticesInvalid=x.toBoolVector(null,8,!0);Fc.call(this)};m["away3d.core.base.SubGeometry"]=Uf;Uf.__name__=["away3d","core","base","SubGeometry"];Uf.__interfaces__=[zk];Uf.__super__=Fc;Uf.prototype=z(Fc.prototype,{_uvs:null,_secondaryUvs:null,_vertexNormals:null,_vertexTangents:null,_verticesInvalid:null,_uvsInvalid:null,_secondaryUvsInvalid:null,_normalsInvalid:null,_tangentsInvalid:null,_vertexBuffer:null,_uvBuffer:null,_secondaryUvBuffer:null,_vertexNormalBuffer:null,_vertexTangentBuffer:null,
_vertexBufferContext:null,_uvBufferContext:null,_secondaryUvBufferContext:null,_vertexNormalBufferContext:null,_vertexTangentBufferContext:null,_numVertices:null,get_numVertices:function(){return this._numVertices},activateVertexBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;if(null==this._vertexBuffer.get(c)||this._vertexBufferContext.get(c)!=d)this._vertexBuffer.set(c,b.createVertexBuffer(this._numVertices,3)),this._vertexBufferContext.set(c,d),this._verticesInvalid.set(c,!0);this._verticesInvalid.get(c)&&
(this._vertexBuffer.get(c).uploadFromVector(this._vertexData,0,this._numVertices),this._verticesInvalid.set(c,!1));d.setVertexBufferAt(a,this._vertexBuffer.get(c),0,3)},activateUVBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;this._autoGenerateUVs&&this._uvsDirty&&(this._uvs=this.updateDummyUVs(this._uvs));if(null==this._uvBuffer.get(c)||this._uvBufferContext.get(c)!=d)this._uvBuffer.set(c,b.createVertexBuffer(this._numVertices,2)),this._uvBufferContext.set(c,d),this._uvsInvalid.set(c,
!0);this._uvsInvalid.get(c)&&(this._uvBuffer.get(c).uploadFromVector(this._uvs,0,this._numVertices),this._uvsInvalid.set(c,!1));d.setVertexBufferAt(a,this._uvBuffer.get(c),0,2)},activateSecondaryUVBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;if(null==this._secondaryUvBuffer.get(c)||this._secondaryUvBufferContext.get(c)!=d)this._secondaryUvBuffer.set(c,b.createVertexBuffer(this._numVertices,2)),this._secondaryUvBufferContext.set(c,d),this._secondaryUvsInvalid.set(c,!0);this._secondaryUvsInvalid.get(c)&&
(this._secondaryUvBuffer.get(c).uploadFromVector(this._secondaryUvs,0,this._numVertices),this._secondaryUvsInvalid.set(c,!1));d.setVertexBufferAt(a,this._secondaryUvBuffer.get(c),0,2)},activateVertexNormalBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexNormals=this.updateVertexNormals(this._vertexNormals));if(null==this._vertexNormalBuffer.get(c)||this._vertexNormalBufferContext.get(c)!=d)this._vertexNormalBuffer.set(c,
b.createVertexBuffer(this._numVertices,3)),this._vertexNormalBufferContext.set(c,d),this._normalsInvalid.set(c,!0);this._normalsInvalid.get(c)&&(this._vertexNormalBuffer.get(c).uploadFromVector(this._vertexNormals,0,this._numVertices),this._normalsInvalid.set(c,!1));d.setVertexBufferAt(a,this._vertexNormalBuffer.get(c),0,3)},activateVertexTangentBuffer:function(a,b){var c=b._stage3DIndex,d=b._context3D;this._vertexTangentsDirty&&(this._vertexTangents=this.updateVertexTangents(this._vertexTangents));
if(null==this._vertexTangentBuffer.get(c)||this._vertexTangentBufferContext.get(c)!=d)this._vertexTangentBuffer.set(c,b.createVertexBuffer(this._numVertices,3)),this._vertexTangentBufferContext.set(c,d),this._tangentsInvalid.set(c,!0);this._tangentsInvalid.get(c)&&(this._vertexTangentBuffer.get(c).uploadFromVector(this._vertexTangents,0,this._numVertices),this._tangentsInvalid.set(c,!1));d.setVertexBufferAt(a,this._vertexTangentBuffer.get(c),0,3)},applyTransformation:function(a){Fc.prototype.applyTransformation.call(this,
a);this.invalidateBuffers(this._verticesInvalid);this.invalidateBuffers(this._normalsInvalid);this.invalidateBuffers(this._tangentsInvalid)},clone:function(){var a=new Uf;a.updateVertexData(this._vertexData.concat(null));a.updateUVData(this._uvs.concat(null));a.updateIndexData(this._indices.concat(null));null!=this._secondaryUvs&&a.updateSecondaryUVData(this._secondaryUvs.concat(null));this._autoDeriveVertexNormals||a.updateVertexNormalData(this._vertexNormals.concat(null));this._autoDeriveVertexTangents||
a.updateVertexTangentData(this._vertexTangents.concat(null));return a},scale:function(a){Fc.prototype.scale.call(this,a);this.invalidateBuffers(this._verticesInvalid)},scaleUV:function(a,b){null==b&&(b=1);null==a&&(a=1);Fc.prototype.scaleUV.call(this,a,b);this.invalidateBuffers(this._uvsInvalid)},dispose:function(){Fc.prototype.dispose.call(this);this.disposeAllVertexBuffers();this._vertexTangentBufferContext=this._vertexNormalBufferContext=this._secondaryUvBufferContext=this._uvBufferContext=this._vertexBufferContext=
this._vertexTangents=this._vertexNormals=this._secondaryUvs=this._uvs=this._indexBuffer=this._vertexTangentBuffer=this._secondaryUvBuffer=this._uvBuffer=this._vertexNormalBuffer=this._vertexBuffer=null},disposeAllVertexBuffers:function(){this.disposeVertexBuffers(this._vertexBuffer);this.disposeVertexBuffers(this._vertexNormalBuffer);this.disposeVertexBuffers(this._uvBuffer);this.disposeVertexBuffers(this._secondaryUvBuffer);this.disposeVertexBuffers(this._vertexTangentBuffer)},get_vertexData:function(){return this._vertexData},
get_vertexPositionData:function(){return this._vertexData},updateVertexData:function(a){this._autoDeriveVertexNormals&&(this._vertexNormalsDirty=!0);this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=!0);this._faceNormalsDirty=!0;this._vertexData=a;a=a.get_length()/3|0;a!=this._numVertices&&this.disposeAllVertexBuffers();this._numVertices=a;this.invalidateBuffers(this._verticesInvalid);this.invalidateBounds()},get_UVData:function(){this._uvsDirty&&this._autoGenerateUVs&&(this._uvs=this.updateDummyUVs(this._uvs));
return this._uvs},get_secondaryUVData:function(){return this._secondaryUvs},updateUVData:function(a){this._autoDeriveVertexTangents&&(this._vertexTangentsDirty=!0);this._faceTangentsDirty=!0;this._uvs=a;this.invalidateBuffers(this._uvsInvalid)},updateSecondaryUVData:function(a){this._secondaryUvs=a;this.invalidateBuffers(this._secondaryUvsInvalid)},get_vertexNormalData:function(){this._autoDeriveVertexNormals&&this._vertexNormalsDirty&&(this._vertexNormals=this.updateVertexNormals(this._vertexNormals));
return this._vertexNormals},updateVertexNormalData:function(a){this._vertexNormalsDirty=!1;this._autoDeriveVertexNormals=null==a;this._vertexNormals=a;this.invalidateBuffers(this._normalsInvalid)},get_vertexTangentData:function(){this._autoDeriveVertexTangents&&this._vertexTangentsDirty&&(this._vertexTangents=this.updateVertexTangents(this._vertexTangents));return this._vertexTangents},updateVertexTangentData:function(a){this._vertexTangentsDirty=!1;this._autoDeriveVertexTangents=null==a;this._vertexTangents=
a;this.invalidateBuffers(this._tangentsInvalid)},fromVectors:function(a,b,c,d){this.updateVertexData(a);this.updateUVData(b);this.updateVertexNormalData(c);this.updateVertexTangentData(d)},updateVertexNormals:function(a){this.invalidateBuffers(this._normalsInvalid);return Fc.prototype.updateVertexNormals.call(this,a)},updateVertexTangents:function(a){this._vertexNormalsDirty&&(this._vertexNormals=this.updateVertexNormals(this._vertexNormals));this.invalidateBuffers(this._tangentsInvalid);return Fc.prototype.updateVertexTangents.call(this,
a)},updateDummyUVs:function(a){this.invalidateBuffers(this._uvsInvalid);return Fc.prototype.updateDummyUVs.call(this,a)},disposeForStage3D:function(a){a=a._stage3DIndex;null!=this._vertexBuffer.get(a)&&(sb.disposeVertexBuffer(this._vertexBuffer.get(a)),this._vertexBuffer.set(a,null));null!=this._uvBuffer.get(a)&&(sb.disposeVertexBuffer(this._uvBuffer.get(a)),this._uvBuffer.set(a,null));null!=this._secondaryUvBuffer.get(a)&&(sb.disposeVertexBuffer(this._secondaryUvBuffer.get(a)),this._secondaryUvBuffer.set(a,
null));null!=this._vertexNormalBuffer.get(a)&&(sb.disposeVertexBuffer(this._vertexNormalBuffer.get(a)),this._vertexNormalBuffer.set(a,null));null!=this._vertexTangentBuffer.get(a)&&(sb.disposeVertexBuffer(this._vertexTangentBuffer.get(a)),this._vertexTangentBuffer.set(a,null));null!=this._indexBuffer.get(a)&&(sb.disposeIndexBuffer(this._indexBuffer.get(a)),this._indexBuffer.set(a,null))},get_vertexStride:function(){return 3},get_vertexTangentStride:function(){return 3},get_vertexNormalStride:function(){return 3},
get_UVStride:function(){return 2},get_secondaryUVStride:function(){return 2},get_vertexOffset:function(){return 0},get_vertexNormalOffset:function(){return 0},get_vertexTangentOffset:function(){return 0},get_UVOffset:function(){return 0},get_secondaryUVOffset:function(){return 0},cloneWithSeperateBuffers:function(){return y.__cast(this.clone(),Uf)},__class__:Uf,__properties__:z(Fc.prototype.__properties__,{get_secondaryUVOffset:"get_secondaryUVOffset",get_secondaryUVStride:"get_secondaryUVStride",
get_secondaryUVData:"get_secondaryUVData",get_numVertices:"get_numVertices"})});var Pf=function(a,b,c){this._offsetU2=this._offsetV2=0;this._scaleU2=this._scaleV2=1;this._offsetU=this._offsetV=this._uvRotation2=0;this._scaleU=this._scaleV=1;this._uvRotation=0;this._parentMesh=b;this._subGeometry=a;this.set_material(c)};m["away3d.core.base.SubMesh"]=Pf;Pf.__name__=["away3d","core","base","SubMesh"];Pf.__interfaces__=[Vi];Pf.prototype={_material:null,_parentMesh:null,_subGeometry:null,_index:null,_uvTransform:null,
_uvTransformDirty:null,_uvRotation:null,_scaleU:null,_scaleV:null,_offsetU:null,_offsetV:null,_uvTransform2:null,_uvTransformDirty2:null,_uvRotation2:null,_scaleU2:null,_scaleV2:null,_offsetU2:null,_offsetV2:null,animationSubGeometry:null,animatorSubGeometry:null,get_shaderPickingDetails:function(){return this.get_sourceEntity().get_shaderPickingDetails()},get_offsetU:function(){return this._offsetU},set_offsetU:function(a){if(a==this._offsetU)return a;this._offsetU=a;this._uvTransformDirty=!0;return a},
get_offsetV:function(){return this._offsetV},set_offsetV:function(a){if(a==this._offsetV)return a;this._offsetV=a;this._uvTransformDirty=!0;return a},get_scaleU:function(){return this._scaleU},set_scaleU:function(a){if(a==this._scaleU)return a;this._scaleU=a;this._uvTransformDirty=!0;return a},get_scaleV:function(){return this._scaleV},set_scaleV:function(a){if(a==this._scaleV)return a;this._scaleV=a;this._uvTransformDirty=!0;return a},get_uvRotation:function(){return this._uvRotation},set_uvRotation:function(a){if(a==
this._uvRotation)return a;this._uvRotation=a;this._uvTransformDirty=!0;return a},get_offsetU2:function(){return this._offsetU2},set_offsetU2:function(a){if(a==this._offsetU2)return a;this._offsetU2=a;this._uvTransformDirty2=!0;return a},get_offsetV2:function(){return this._offsetV2},set_offsetV2:function(a){if(a==this._offsetV2)return a;this._offsetV2=a;this._uvTransformDirty2=!0;return a},get_scaleU2:function(){return this._scaleU2},set_scaleU2:function(a){if(a==this._scaleU2)return a;this._scaleU2=
a;this._uvTransformDirty2=!0;return a},get_scaleV2:function(){return this._scaleV2},set_scaleV2:function(a){if(a==this._scaleV2)return a;this._scaleV2=a;this._uvTransformDirty2=!0;return a},get_uvRotation2:function(){return this._uvRotation2},set_uvRotation2:function(a){if(a==this._uvRotation2)return a;this._uvRotation2=a;this._uvTransformDirty2=!0;return a},get_sourceEntity:function(){return this._parentMesh},get_subGeometry:function(){return this._subGeometry},set_subGeometry:function(a){return this._subGeometry=
a},get_material:function(){return null!=this._material?this._material:this._parentMesh.get_material()},set_material:function(a){null!=this._material&&this._material.removeOwner(this);this._material=a;null!=this._material&&this._material.addOwner(this);return a},get_sceneTransform:function(){return this._parentMesh.get_sceneTransform()},get_inverseSceneTransform:function(){return this._parentMesh.get_inverseSceneTransform()},activateVertexBuffer:function(a,b){this._subGeometry.activateVertexBuffer(a,
b)},activateVertexNormalBuffer:function(a,b){this._subGeometry.activateVertexNormalBuffer(a,b)},activateVertexTangentBuffer:function(a,b){this._subGeometry.activateVertexTangentBuffer(a,b)},activateUVBuffer:function(a,b){this._subGeometry.activateUVBuffer(a,b)},activateSecondaryUVBuffer:function(a,b){this._subGeometry.activateSecondaryUVBuffer(a,b)},getIndexBuffer:function(a){return this._subGeometry.getIndexBuffer(a)},get_numTriangles:function(){return this._subGeometry.get_numTriangles()},get_animator:function(){return this._parentMesh.get_animator()},
get_mouseEnabled:function(){return this._parentMesh.get_mouseEnabled()?!0:this._parentMesh._ancestorsAllowMouseEnabled},get_castsShadows:function(){return this._parentMesh.get_castsShadows()},get_parentMesh:function(){return this._parentMesh},set_parentMesh:function(a){return this._parentMesh=a},get_uvTransform:function(){this._uvTransformDirty&&this.updateUVTransform();return this._uvTransform},get_uvTransform2:function(){this._uvTransformDirty2&&this.updateUVTransform2();return this._uvTransform2},
updateUVTransform:function(){null==this._uvTransform&&(this._uvTransform=new cb);this._uvTransform.identity();0!=this._uvRotation&&this._uvTransform.rotate(this._uvRotation);1==this._scaleU&&1==this._scaleV||this._uvTransform.scale(this._scaleU,this._scaleV);this._uvTransform.translate(this._offsetU,this._offsetV);this._uvTransformDirty=!1},updateUVTransform2:function(){null==this._uvTransform2&&(this._uvTransform2=new cb);this._uvTransform2.identity();0!=this._uvRotation2&&this._uvTransform2.rotate(this._uvRotation2);
1==this._scaleU2&&1==this._scaleV2||this._uvTransform2.scale(this._scaleU2,this._scaleV2);this._uvTransform2.translate(this._offsetU2,this._offsetV2);this._uvTransformDirty2=!1},dispose:function(){this.set_material(null)},get_vertexData:function(){return this._subGeometry.get_vertexData()},get_indexData:function(){return this._subGeometry.get_indexData()},get_UVData:function(){return this._subGeometry.get_UVData()},get_bounds:function(){return this._parentMesh.get_bounds()},get_visible:function(){return this._parentMesh.get_visible()},
get_numVertices:function(){return this._subGeometry.get_numVertices()},get_vertexStride:function(){return this._subGeometry.get_vertexStride()},get_UVStride:function(){return this._subGeometry.get_UVStride()},get_vertexNormalData:function(){return this._subGeometry.get_vertexNormalData()},get_vertexTangentData:function(){return this._subGeometry.get_vertexTangentData()},get_UVOffset:function(){return this._subGeometry.get_UVOffset()},get_vertexOffset:function(){return this._subGeometry.get_vertexOffset()},
get_vertexNormalOffset:function(){return this._subGeometry.get_vertexNormalOffset()},get_vertexTangentOffset:function(){return this._subGeometry.get_vertexTangentOffset()},getRenderSceneTransform:function(a){return this._parentMesh.get_sceneTransform()},__class__:Pf,__properties__:{get_vertexTangentOffset:"get_vertexTangentOffset",get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_UVOffset:"get_UVOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",
get_UVStride:"get_UVStride",get_vertexStride:"get_vertexStride",get_numVertices:"get_numVertices",get_visible:"get_visible",get_bounds:"get_bounds",get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexData:"get_vertexData",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",set_parentMesh:"set_parentMesh",get_parentMesh:"get_parentMesh",get_castsShadows:"get_castsShadows",get_mouseEnabled:"get_mouseEnabled",get_animator:"get_animator",get_numTriangles:"get_numTriangles",
get_inverseSceneTransform:"get_inverseSceneTransform",get_sceneTransform:"get_sceneTransform",set_material:"set_material",get_material:"get_material",set_subGeometry:"set_subGeometry",get_subGeometry:"get_subGeometry",get_sourceEntity:"get_sourceEntity",set_uvRotation2:"set_uvRotation2",get_uvRotation2:"get_uvRotation2",set_scaleV2:"set_scaleV2",get_scaleV2:"get_scaleV2",set_scaleU2:"set_scaleU2",get_scaleU2:"get_scaleU2",set_offsetV2:"set_offsetV2",get_offsetV2:"get_offsetV2",set_offsetU2:"set_offsetU2",
get_offsetU2:"get_offsetU2",set_uvRotation:"set_uvRotation",get_uvRotation:"get_uvRotation",set_scaleV:"set_scaleV",get_scaleV:"get_scaleV",set_scaleU:"set_scaleU",get_scaleU:"get_scaleU",set_offsetV:"set_offsetV",get_offsetV:"get_offsetV",set_offsetU:"set_offsetU",get_offsetU:"get_offsetU",get_shaderPickingDetails:"get_shaderPickingDetails"}};var dq=function(){};m["away3d.core.base.data.ParticleData"]=dq;dq.__name__=["away3d","core","base","data","ParticleData"];dq.prototype={particleIndex:null,
numVertices:null,startVertexIndex:null,subGeometry:null,__class__:dq};var ih=function(a,b){null==b&&(b=0);null==a&&(a=0);this._u=a;this._v=b};m["away3d.core.base.data.UV"]=ih;ih.__name__=["away3d","core","base","data","UV"];ih.prototype={_u:null,_v:null,get_v:function(){return this._v},set_v:function(a){return this._v=a},get_u:function(){return this._u},set_u:function(a){return this._u=a},clone:function(){return new ih(this._u,this._v)},toString:function(){return this._u+","+this._v},__class__:ih,
__properties__:{set_u:"set_u",get_u:"get_u",set_v:"set_v",get_v:"get_v"}};var jh=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._x=a;this._y=b;this._z=c;this._index=d};m["away3d.core.base.data.Vertex"]=jh;jh.__name__=["away3d","core","base","data","Vertex"];jh.prototype={_x:null,_y:null,_z:null,_index:null,set_index:function(a){return this._index=a},get_index:function(){return this._index},get_x:function(){return this._x},set_x:function(a){return this._x=a},get_y:function(){return this._y},
set_y:function(a){return this._y=a},get_z:function(){return this._z},set_z:function(a){return this._z=a},clone:function(){return new jh(this._x,this._y,this._z)},toString:function(){return this._x+","+this._y+","+this._z},__class__:jh,__properties__:{set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_index:"set_index",get_index:"get_index"}};var eq=function(){};m["away3d.core.data.EntityListItem"]=eq;eq.__name__=["away3d","core","data","EntityListItem"];eq.prototype=
{entity:null,next:null,__class__:eq};var fq=function(){this._poolSize=this._index=0;this._pool=x.toObjectVector(null)};m["away3d.core.data.EntityListItemPool"]=fq;fq.__name__=["away3d","core","data","EntityListItemPool"];fq.prototype={_pool:null,_index:null,_poolSize:null,getItem:function(){var a;this._index==this._poolSize?(a=new eq,this._pool.set(this._index++,a),++this._poolSize):a=this._pool.get(this._index++);return a},freeAll:function(){this._index=0},dispose:function(){this._pool.set_length(0)},
__class__:fq};var gq=function(){};m["away3d.core.data.RenderableListItem"]=gq;gq.__name__=["away3d","core","data","RenderableListItem"];gq.prototype={next:null,renderable:null,materialId:null,renderOrderId:null,zIndex:null,renderSceneTransform:null,cascaded:null,__class__:gq};var hq=function(){this._poolSize=this._index=0;this._pool=x.toObjectVector(null)};m["away3d.core.data.RenderableListItemPool"]=hq;hq.__name__=["away3d","core","data","RenderableListItemPool"];hq.prototype={_pool:null,_index:null,
_poolSize:null,getItem:function(){if(this._index==this._poolSize){var a=new gq;this._pool.set(this._index++,a);++this._poolSize;return a}return this._pool.get(this._index++)},freeAll:function(){this._index=0},dispose:function(){this._pool.set_length(0)},__class__:hq};var uc=function(a){this._stage3DProxy=a;this._program3Ds=new qa;this._ids=new qa;this._usages=[];this._keys=[]};m["away3d.core.managers.AGALProgram3DCache"]=uc;uc.__name__=["away3d","core","managers","AGALProgram3DCache"];uc.getInstance=
function(a){var b=a.get_stage3DIndex();null==uc._instances&&(uc._instances=x.toObjectVector(null,8,!0));null==uc._instances.get(b)&&(uc._instances.set(b,new uc(a)),a.addEventListener("Context3DDisposed",uc.onContext3DDisposed,!1,0,!0),a.addEventListener("Context3DCreated",uc.onContext3DDisposed,!1,0,!0),a.addEventListener("Context3DRecreated",uc.onContext3DDisposed,!1,0,!0));return uc._instances.get(b)};uc.getInstanceFromIndex=function(a){if(null==uc._instances.get(a))throw new H(new sa("Instance not created yet!"));
return uc._instances.get(a)};uc.onContext3DDisposed=function(a){a=y.__cast(a.target,sb);var b=a._stage3DIndex;uc._instances.get(b).dispose();uc._instances.set(b,null);a.removeEventListener("Context3DDisposed",uc.onContext3DDisposed);a.removeEventListener("Context3DCreated",uc.onContext3DDisposed);a.removeEventListener("Context3DRecreated",uc.onContext3DDisposed)};uc.prototype={_stage3DProxy:null,_program3Ds:null,_ids:null,_usages:null,_keys:null,dispose:function(){for(var a=this._program3Ds.keys();a.hasNext();){var b=
a.next();this.destroyProgram(b)}this._usages=this._program3Ds=this._keys=null},setProgram3D:function(a,b,c){var d=this._stage3DProxy._stage3DIndex,e,f=b+"---"+c;e=this._program3Ds;if(null!=t[f]?!e.existsReserved(f):!e.h.hasOwnProperty(f)){this._keys[uc._currentId]=f;this._usages[uc._currentId]=0;e=uc._currentId;var k=this._ids;null!=t[f]?k.setReserved(f,e):k.h[f]=e;++uc._currentId;e=this._stage3DProxy._context3D.createProgram();b=(new W(tb.active)).assemble(Se.toString(1),b);c=(new W(tb.active)).assemble(Se.toString(0),
c);e.upload(b,c);c=this._program3Ds;null!=t[f]?c.setReserved(f,e):c.h[f]=e}c=a._program3Dids.get(d);b=this._ids;b=null!=t[f]?b.getReserved(f):b.h[f];c!=b&&(0<=c&&this.freeProgram3D(c),this._usages[b]++);a._program3Dids.set(d,b);c=this._program3Ds;a._program3Ds.set(d,null!=t[f]?c.getReserved(f):c.h[f])},freeProgram3D:function(a){this._usages[a]--;0==this._usages[a]&&this.destroyProgram(this._keys[a])},destroyProgram:function(a){var b=this._program3Ds;(null!=t[a]?b.getReserved(a):b.h[a]).dispose();
this._program3Ds.remove(a);b=this._ids;null!=t[a]?b.setReserved(a,-1):b.h[a]=-1},getKey:function(a,b){return a+"---"+b},__class__:uc};var ca=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};m["openfl.events.Event"]=ca;ca.__name__=["openfl","events","Event"];ca.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,clone:function(){var a=
new ca(this.type,this.bubbles,this.cancelable);a.eventPhase=this.eventPhase;a.target=this.target;a.currentTarget=this.currentTarget;return a},formatToString:function(a,b,c,d,e,f){var k=[];null!=b&&k.push(b);null!=c&&k.push(c);null!=d&&k.push(d);null!=e&&k.push(e);null!=f&&k.push(f);return u(this,this.__formatToString).apply(this,[a,k])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceledNow=
this.__isCanceled=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(a,b){for(var c="["+a,d=null,e=0;e<b.length;){var f=b[e];++e;d=Z.field(this,f);c="string"==typeof d?c+(" "+f+'="'+h.string(d)+'"'):c+(" "+f+"="+h.string(d))}return c+"]"},__class__:ca};var kd=function(a){this._allowedToPropagate=!0;ca.call(this,a,!0,!0)};m["away3d.events.MouseEvent3D"]=kd;kd.__name__=["away3d","events",
"MouseEvent3D"];kd.__super__=ca;kd.prototype=z(ca.prototype,{_allowedToPropagate:null,_parentEvent:null,screenX:null,screenY:null,view:null,object:null,renderable:null,material:null,uv:null,index:null,subGeometryIndex:null,localPosition:null,localNormal:null,ctrlKey:null,altKey:null,shiftKey:null,delta:null,stopPropagation:function(){ca.prototype.stopPropagation.call(this);this._allowedToPropagate=!1;null!=this._parentEvent&&this._parentEvent.stopPropagation()},stopImmediatePropagation:function(){ca.prototype.stopImmediatePropagation.call(this);
this._allowedToPropagate=!1;null!=this._parentEvent&&this._parentEvent.stopImmediatePropagation()},clone:function(){var a=new kd(this.type);a.screenX=this.screenX;a.screenY=this.screenY;a.view=this.view;a.object=this.object;a.renderable=this.renderable;a.material=this.material;a.uv=this.uv;a.localPosition=this.localPosition;a.localNormal=this.localNormal;a.index=this.index;a.subGeometryIndex=this.subGeometryIndex;a.delta=this.delta;a.ctrlKey=this.ctrlKey;a.shiftKey=this.shiftKey;a._parentEvent=this;
a._allowedToPropagate=this._allowedToPropagate;return a},get_scenePosition:function(){return y.__instanceof(this.object,Va)?Ja.transformVector(y.__cast(this.object,Va).get_sceneTransform(),this.localPosition):this.localPosition},getScenePosition:function(a){null==a&&(a=new C);y.__instanceof(this.object,Va)?Ja.transformVector(y.__cast(this.object,Va).get_sceneTransform(),this.localPosition,a):(a.x=this.localPosition.x,a.y=this.localPosition.y,a.z=this.localPosition.z);return a},get_sceneNormal:function(){if(y.__instanceof(this.object,
Va)){var a=Ja.deltaTransformVector(y.__cast(this.object,Va).get_sceneTransform(),this.localNormal);a.normalize();return a}return this.localNormal},getSceneNormal:function(a){null==a&&(a=new C);y.__instanceof(this.object,Va)?(Ja.deltaTransformVector(y.__cast(this.object,Va).get_sceneTransform(),this.localNormal,a),a.normalize()):(a.x=this.localNormal.x,a.y=this.localNormal.y,a.z=this.localNormal.z);return a},__class__:kd,__properties__:{get_sceneNormal:"get_sceneNormal",get_scenePosition:"get_scenePosition"}});
var x={};m["openfl._Vector.Vector_Impl_"]=x;x.__name__=["openfl","_Vector","Vector_Impl_"];x.__properties__={set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"};x.concat=function(a,b){return a.concat(b)};x.copy=function(a){return a.copy()};x.get=function(a,b){return a.get(b)};x.indexOf=function(a,b,c){null==c&&(c=0);return a.indexOf(b,c)};x.insertAt=function(a,b,c){a.insertAt(b,c)};x.iterator=function(a){return a.iterator()};x.join=function(a,b){return a.join(b)};
x.lastIndexOf=function(a,b,c){null==c&&(c=0);return a.lastIndexOf(b,c)};x.pop=function(a){return a.pop()};x.push=function(a,b){return a.push(b)};x.reverse=function(a){return a.reverse()};x.set=function(a,b,c){return a.set(b,c)};x.shift=function(a){return a.shift()};x.slice=function(a,b,c){return a.slice(b,c)};x.sort=function(a,b){a.sort(b)};x.splice=function(a,b,c){return a.splice(b,c)};x.toString=function(a){return null!=a?a.toString():null};x.unshift=function(a,b){a.unshift(b)};x.ofArray=function(a){for(var b=
x.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b};x.convert=function(a){return a};x.toBoolVector=function(a,b,c){return new Wf(b,c)};x.toIntVector=function(a,b,c){return new Xf(b,c)};x.toFloatVector=function(a,b,c){return new Yf(b,c)};x.toFunctionVector=function(a,b,c){return new Zf(b,c)};x.toObjectVector=function(a,b,c){return new $f(b,c)};x.fromBoolVector=function(a){return a};x.fromIntVector=function(a){return a};x.fromFloatVector=function(a){return a};x.fromFunctionVector=
function(a){return a};x.fromObjectVector=function(a){return a};x.get_fixed=function(a){return a.fixed};x.set_fixed=function(a,b){return a.fixed=b};x.get_length=function(a){return a.get_length()};x.set_length=function(a,b){return a.set_length(b)};var Ea=function(){this._childDepth=0;this._mousePicker=Ak.RAYCAST_FIRST_ENCOUNTERED;this._mouseMoveEvent=new zb("mouseMove");this._nullVector=new C;this._updateDirty=!0;null==Ea._view3Ds&&(Ea._view3Ds=new Hb,Ea._view3DLookup=x.toObjectVector(null))};m["away3d.core.managers.Mouse3DManager"]=
Ea;Ea.__name__=["away3d","core","managers","Mouse3DManager"];Ea.prototype={_activeView:null,_updateDirty:null,_nullVector:null,_mouseMoveEvent:null,_forceMouseMove:null,_mousePicker:null,_childDepth:null,_collidingDownObject:null,_collidingUpObject:null,updateCollider:function(a){Ea._previousCollidingView=Ea._collidingView;null!=a&&((a.get_stage3DProxy().get_bufferClear()&&(Ea._collidingViewObjects=x.toObjectVector(null,Ea._viewCount)),a.get_shareContext())?a.getBounds(a.parent).contains(a.get_mouseX()+
a.get_x(),a.get_mouseY()+a.get_y())&&(null==Ea._collidingViewObjects&&(Ea._collidingViewObjects=x.toObjectVector(null,Ea._viewCount)),Ea._collidingObject=Ea._collidingViewObjects.set(Ea._view3Ds.h[a.__id__],this._mousePicker.getViewCollision(a.get_mouseX(),a.get_mouseY(),a))):a==this._activeView&&(this._forceMouseMove||this._updateDirty)&&(Ea._collidingObject=this._mousePicker.getViewCollision(a.get_mouseX(),a.get_mouseY(),a)))},fireMouseEvents:function(){var a,b;if(null!=Ea._collidingViewObjects){Ea._collidingObject=
null;var c=Infinity,d;for(a=Ea._viewCount-1;0<=a;){d=Ea._view3DLookup.get(a);if(null!=Ea._collidingViewObjects.get(a)&&(d.get_layeredView()||Ea._collidingViewObjects.get(a).rayEntryDistance<c)&&(c=Ea._collidingViewObjects.get(a).rayEntryDistance,Ea._collidingObject=Ea._collidingViewObjects.get(a),d.get_layeredView()))break;--a}}Ea._collidingObject!=Ea._previousCollidingObject&&(null!=Ea._previousCollidingObject&&this.queueDispatch(Ea._mouseOut,this._mouseMoveEvent,Ea._previousCollidingObject),null!=
Ea._collidingObject&&this.queueDispatch(Ea._mouseOver,this._mouseMoveEvent,Ea._collidingObject));this._forceMouseMove&&null!=Ea._collidingObject&&this.queueDispatch(Ea._mouseMove,this._mouseMoveEvent,Ea._collidingObject);c=0;for(d=Ea._queuedEvents.get_length();c<d;){a=c++;a=Ea._queuedEvents.get(a);for(b=a.object;null!=b&&!b._ancestorsAllowMouseEnabled;)b=b.get_parent();null!=b&&b.dispatchEvent(a)}Ea._queuedEvents.set_length(0);this._updateDirty=!1;Ea._previousCollidingObject=Ea._collidingObject},
addViewLayer:function(a){var b=a.stage;null==a.get_stage3DProxy().get_mouse3DManager()&&a.get_stage3DProxy().set_mouse3DManager(this);this.hasKey(a)||Ea._view3Ds.set(a,0);this._childDepth=0;this.traverseDisplayObjects(b);Ea._viewCount=this._childDepth},enableMouseListeners:function(a){a.addEventListener("click",u(this,this.onClick));a.addEventListener("doubleClick",u(this,this.onDoubleClick));a.addEventListener("mouseDown",u(this,this.onMouseDown));a.addEventListener("mouseMove",u(this,this.onMouseMove));
a.addEventListener("mouseUp",u(this,this.onMouseUp));a.addEventListener("mouseWheel",u(this,this.onMouseWheel));a.addEventListener("mouseOver",u(this,this.onMouseOver));a.addEventListener("mouseOut",u(this,this.onMouseOut))},disableMouseListeners:function(a){a.removeEventListener("click",u(this,this.onClick));a.removeEventListener("doubleClick",u(this,this.onDoubleClick));a.removeEventListener("mouseDown",u(this,this.onMouseDown));a.removeEventListener("mouseMove",u(this,this.onMouseMove));a.removeEventListener("mouseUp",
u(this,this.onMouseUp));a.removeEventListener("mouseWheel",u(this,this.onMouseWheel));a.removeEventListener("mouseOver",u(this,this.onMouseOver));a.removeEventListener("mouseOut",u(this,this.onMouseOut))},dispose:function(){this._mousePicker.dispose()},queueDispatch:function(a,b,c){a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.delta=b.delta;a.screenX=b.localX;a.screenY=b.localY;null==c&&(c=Ea._collidingObject);null!=c?(a.object=c.entity,a.renderable=c.renderable,a.uv=c.uv,a.localPosition=
null!=c.localPosition?c.localPosition.clone():null,a.localNormal=null!=c.localNormal?c.localNormal.clone():null,a.index=c.index,a.subGeometryIndex=c.subGeometryIndex):(a.uv=null,a.object=null,a.localPosition=this._nullVector,a.localNormal=this._nullVector,a.index=0,a.subGeometryIndex=0);Ea._queuedEvents.push(a)},reThrowEvent:function(a){if(null!=this._activeView&&(null==this._activeView||this._activeView.get_shareContext()))for(var b=Ea._view3Ds.keys();b.hasNext();){var c=b.next();c!=this._activeView&&
Ea._view3Ds.h[c.__id__]<Ea._view3Ds.h[this._activeView.__id__]&&c.dispatchEvent(a)}},hasKey:function(a){return null!=Ea._view3Ds.h.__keys__[a.__id__]},traverseDisplayObjects:function(a){for(var b,c=0,d=a.get_numChildren();c<d;)b=c++,b=a.getChildAt(b),y.__instanceof(b,Th)&&null!=Ea._view3Ds.h.__keys__[b.__id__]&&(Ea._view3Ds.set(b,this._childDepth),Ea._view3DLookup.set(this._childDepth,b),this._childDepth++),y.__instanceof(b,xd)&&this.traverseDisplayObjects(y.__cast(b,xd))},onMouseMove:function(a){null!=
Ea._collidingObject?this.queueDispatch(Ea._mouseMove,this._mouseMoveEvent=a):this.reThrowEvent(a);this._updateDirty=!0},onMouseOut:function(a){this._activeView=null;null!=Ea._collidingObject&&this.queueDispatch(Ea._mouseOut,a,Ea._collidingObject);this._updateDirty=!0},onMouseOver:function(a){this._activeView=y.__cast(a.currentTarget,Th);null!=Ea._collidingObject&&Ea._previousCollidingObject!=Ea._collidingObject?this.queueDispatch(Ea._mouseOver,a,Ea._collidingObject):this.reThrowEvent(a);this._updateDirty=
!0},onClick:function(a){null!=Ea._collidingObject?this.queueDispatch(Ea._mouseClick,a):this.reThrowEvent(a);this._updateDirty=!0},onDoubleClick:function(a){null!=Ea._collidingObject?this.queueDispatch(Ea._mouseDoubleClick,a):this.reThrowEvent(a);this._updateDirty=!0},onMouseDown:function(a){this._activeView=y.__cast(a.currentTarget,Th);this.updateCollider(this._activeView);null!=Ea._collidingObject?(this.queueDispatch(Ea._mouseDown,a),Ea._previousCollidingObject=Ea._collidingObject):this.reThrowEvent(a);
this._updateDirty=!0},onMouseUp:function(a){null!=Ea._collidingObject?(this.queueDispatch(Ea._mouseUp,a),Ea._previousCollidingObject=Ea._collidingObject):this.reThrowEvent(a);this._updateDirty=!0},onMouseWheel:function(a){null!=Ea._collidingObject?this.queueDispatch(Ea._mouseWheel,a):this.reThrowEvent(a);this._updateDirty=!0},get_forceMouseMove:function(){return this._forceMouseMove},set_forceMouseMove:function(a){return this._forceMouseMove=a},get_mousePicker:function(){return this._mousePicker},
set_mousePicker:function(a){return this._mousePicker=a},__class__:Ea,__properties__:{set_mousePicker:"set_mousePicker",get_mousePicker:"get_mousePicker",set_forceMouseMove:"set_forceMouseMove",get_forceMouseMove:"get_forceMouseMove"}};var bf=function(a){this._buffersInvalid=!0;this._viewWidth=this._viewHeight=this._textureWidth=this._textureHeight=-1;this._renderToTextureRect=new ya;this._stage3DProxy=a;this._stage3DProxy.addEventListener("Context3DRecreated",u(this,this.onContextRecreated));za.call(this)};
m["away3d.core.managers.RTTBufferManager"]=bf;bf.__name__=["away3d","core","managers","RTTBufferManager"];bf.getInstance=function(a){if(null==a)throw new H(new sa("stage3DProxy key cannot be null!"));null==bf._instances&&(bf._instances=new Hb);var b=bf._instances.h[a.__id__];null==b&&(b=new bf(a),bf._instances.set(a,b));return b};bf.__super__=za;bf.prototype=z(za.prototype,{_renderToTextureVertexBuffer:null,_renderToScreenVertexBuffer:null,_indexBuffer:null,_stage3DProxy:null,_viewWidth:null,_viewHeight:null,
_textureWidth:null,_textureHeight:null,_renderToTextureRect:null,_buffersInvalid:null,_textureRatioX:null,_textureRatioY:null,get_textureRatioX:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._textureRatioX},get_textureRatioY:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._textureRatioY},get_viewWidth:function(){return this._viewWidth},set_viewWidth:function(a){if(a==this._viewWidth)return a;this._viewWidth=a;this._buffersInvalid=!0;this._textureWidth=Ld.getBestPowerOf2(this._viewWidth);
this._textureWidth>this._viewWidth?(this._renderToTextureRect.x=.5*(this._textureWidth-this._viewWidth)|0,this._renderToTextureRect.width=this._viewWidth):(this._renderToTextureRect.x=0,this._renderToTextureRect.width=this._textureWidth);this.dispatchEvent(new ca("resize"));return a},get_viewHeight:function(){return this._viewHeight},set_viewHeight:function(a){if(a==this._viewHeight)return a;this._viewHeight=a;this._buffersInvalid=!0;this._textureHeight=Ld.getBestPowerOf2(this._viewHeight);this._textureHeight>
this._viewHeight?(this._renderToTextureRect.y=.5*(this._textureHeight-this._viewHeight)|0,this._renderToTextureRect.height=this._viewHeight):(this._renderToTextureRect.y=0,this._renderToTextureRect.height=this._textureHeight);this.dispatchEvent(new ca("resize"));return a},get_renderToTextureVertexBuffer:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._renderToTextureVertexBuffer},get_renderToScreenVertexBuffer:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._renderToScreenVertexBuffer},
get_indexBuffer:function(){return this._indexBuffer},get_renderToTextureRect:function(){this._buffersInvalid&&this.updateRTTBuffers();return this._renderToTextureRect},get_textureWidth:function(){return this._textureWidth},get_textureHeight:function(){return this._textureHeight},dispose:function(){bf._instances.remove(this._stage3DProxy);this._stage3DProxy.removeEventListener("Context3DRecreated",u(this,this.onContextRecreated));null!=this._indexBuffer&&(sb.disposeIndexBuffer(this._indexBuffer),sb.disposeVertexBuffer(this._renderToScreenVertexBuffer),
sb.disposeVertexBuffer(this._renderToTextureVertexBuffer),this._indexBuffer=this._renderToTextureVertexBuffer=this._renderToScreenVertexBuffer=null)},onContextRecreated:function(a){this._renderToScreenVertexBuffer=this._renderToTextureVertexBuffer=this._indexBuffer=null;this.updateRTTBuffers()},updateRTTBuffers:function(){this._stage3DProxy.get_context3D();var a,b;null==this._renderToTextureVertexBuffer&&(this._renderToTextureVertexBuffer=this._stage3DProxy.createVertexBuffer(4,5));null==this._renderToScreenVertexBuffer&&
(this._renderToScreenVertexBuffer=this._stage3DProxy.createVertexBuffer(4,5));if(null==this._indexBuffer){this._indexBuffer=this._stage3DProxy.createIndexBuffer(6);a=[2,1,0,3,2,0];for(var c=x.toIntVector(null),d=0,e=a.length;d<e;){var f=d++;c.set(f,a[f])}this._indexBuffer.uploadFromVector(c,0,6)}this._textureRatioX=a=Math.min(this._viewWidth/this._textureWidth,1);this._textureRatioY=b=Math.min(this._viewHeight/this._textureHeight,1);c=.5*(1-a);d=.5*(a+1);e=.5*(b+1);f=.5*(1-b);b=[-a,-b,c,e,0,a,-b,
d,e,1,a,b,d,f,2,-a,b,c,f,3];a=x.toFloatVector(null);for(var k=0,p=b.length;k<p;){var w=k++;a.set(w,b[w])}c=[-1,-1,c,e,0,1,-1,d,e,1,1,1,d,f,2,-1,1,c,f,3];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)b=e++,d.set(b,c[b]);this._renderToTextureVertexBuffer.uploadFromVector(a,0,4);this._renderToScreenVertexBuffer.uploadFromVector(d,0,4);this._buffersInvalid=!1},__class__:bf,__properties__:{get_textureHeight:"get_textureHeight",get_textureWidth:"get_textureWidth",get_renderToTextureRect:"get_renderToTextureRect",
get_indexBuffer:"get_indexBuffer",get_renderToScreenVertexBuffer:"get_renderToScreenVertexBuffer",get_renderToTextureVertexBuffer:"get_renderToTextureVertexBuffer",set_viewHeight:"set_viewHeight",get_viewHeight:"get_viewHeight",set_viewWidth:"set_viewWidth",get_viewWidth:"get_viewWidth",get_textureRatioY:"get_textureRatioY",get_textureRatioX:"get_textureRatioX"}});var kc=function(a){this._stage=a;null==kc._stageProxies&&(kc._stageProxies=x.toObjectVector(null,this._stage.stage3Ds.get_length(),!0))};
m["away3d.core.managers.Stage3DManager"]=kc;kc.__name__=["away3d","core","managers","Stage3DManager"];kc.getInstance=function(a){null==kc._instances&&(kc._instances=new Hb);var b=kc._instances.h[a.__id__];null==b&&(b=new kc(a),kc._instances.set(a,b));return b};kc.prototype={_stage:null,getStage3DProxy:function(a,b,c){null==c&&(c="baseline");null==b&&(b=!1);null==kc._stageProxies.get(a)&&(kc._numStageProxies++,kc._stageProxies.set(a,new sb(a,this._stage.stage3Ds.get(a),this,b,c)));return kc._stageProxies.get(a)},
removeStage3DProxy:function(a){kc._numStageProxies--;kc._stageProxies.set(a.get_stage3DIndex(),null)},getFreeStage3DProxy:function(a,b){null==b&&(b="baseline");null==a&&(a=!1);for(var c=0,d=kc._stageProxies.get_length();c<d;){if(null==kc._stageProxies.get(c))return this.getStage3DProxy(c,a,b),kc._stageProxies.get(c).set_width(this._stage.stageWidth),kc._stageProxies.get(c).set_height(this._stage.stageHeight),kc._stageProxies.get(c);++c}throw new H(new sa("Too many Stage3D instances used!"));},get_hasFreeStage3DProxy:function(){return kc._numStageProxies<
kc._stageProxies.get_length()?!0:!1},get_numProxySlotsFree:function(){return kc._stageProxies.get_length()-kc._numStageProxies},get_numProxySlotsUsed:function(){return kc._numStageProxies},get_numProxySlotsTotal:function(){return kc._stageProxies.get_length()},__class__:kc,__properties__:{get_numProxySlotsTotal:"get_numProxySlotsTotal",get_numProxySlotsUsed:"get_numProxySlotsUsed",get_numProxySlotsFree:"get_numProxySlotsFree",get_hasFreeStage3DProxy:"get_hasFreeStage3DProxy"}};var Wi=function(){};
m["openfl.display.IShaderDrawable"]=Wi;Wi.__name__=["openfl","display","IShaderDrawable"];Wi.prototype={shader:null,__class__:Wi};var re=function(){Eb.call(this)};m["openfl.display.Shape"]=re;re.__name__=["openfl","display","Shape"];re.__interfaces__=[Wi];re.__super__=Eb;re.prototype=z(Eb.prototype,{shader:null,get_graphics:function(){null==this.__graphics&&(this.__graphics=new Ci(this));return this.__graphics},__class__:re,__properties__:z(Eb.prototype.__properties__,{get_graphics:"get_graphics"})});
var kh=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};m["lime.math.Matrix3"]=kh;kh.__name__=["lime","math","Matrix3"];kh.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new kh(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+
this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyColumnFrom:function(a,b){if(2<a)throw new H("Column "+a+" out of bounds (2)");0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyColumnTo:function(a,b){if(2<a)throw new H("Column "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.c,b.z=0):1==a?(b.x=this.b,b.y=this.d,b.z=0):(b.x=this.tx,b.y=this.ty,b.z=1)},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;
this.d=a.d;this.tx=a.tx;this.ty=a.ty},copyRowFrom:function(a,b){if(2<a)throw new H("Row "+a+" out of bounds (2)");0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyRowTo:function(a,b){if(2<a)throw new H("Row "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.b,b.z=this.tx):1==a?(b.x=this.c,b.y=this.d,b.z=this.ty):(b.x=0,b.y=0,b.z=1)},createBox:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);this.a=a;this.d=b;this.b=c;this.tx=d;this.ty=e},createGradientBox:function(a,
b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);this.a=a/1638.4;this.d=b/1638.4;if(0!=c){var f=Math.cos(c);c=Math.sin(c);this.b=c*this.d;this.c=-c*this.a;this.a*=f;this.d*=f}else this.c=this.b=0;this.tx=d+a/2;this.ty=e+b/2},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c?this.d==a.d:!1},deltaTransformVector2:function(a){return new Oc(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=
this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},mult:function(a){var b=new kh(this.a,this.b,this.c,this.d,this.tx,this.ty);b.concat(a);return b},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=
c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=c},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},setRotation:function(a,b){null==b&&(b=1);this.a=Math.cos(a)*b;this.c=Math.sin(a)*b;this.b=-this.c;this.d=this.a},setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},to3DString:function(a){null==a&&(a=!1);return a?"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+
this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformVector2:function(a){return new Oc(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*
this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__cleanValues:function(){this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.tx=Math.round(10*this.tx)/10;this.ty=Math.round(10*this.ty)/10},__transformX:function(a){return a.x*this.a+a.y*this.c+this.tx},__transformY:function(a){return a.x*this.b+a.y*this.d+this.ty},__translateTransformed:function(a){this.tx=a.x*this.a+a.y*this.c+this.tx;this.ty=
a.x*this.b+a.y*this.d+this.ty},__class__:kh};var iq=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=new Bd};m["lime.utils.ObjectPool_openfl_geom_Matrix"]=iq;iq.__name__=["lime","utils","ObjectPool_openfl_geom_Matrix"];iq.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,
__pool:null,__size:null,add:function(a){this.__pool.exists(a)||(this.__pool.set(a,!1),this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++)},clean:function(a){},clear:function(){this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var a=
null;if(0<this.inactiveObjects)a=null,null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<
this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__addInactive:function(a){null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?
this.__inactiveObject1=a:this.__inactiveObjectList.add(a);this.inactiveObjects++},__getInactive:function(){var a=null;null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop()));
this.inactiveObjects--;this.activeObjects++;return a},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item,
b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:iq,
__properties__:{set_size:"set_size",get_size:"get_size"}};var cb=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};m["openfl.geom.Matrix"]=cb;cb.__name__=["openfl","geom","Matrix"];cb.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,__array:null,clone:function(){return new cb(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=
this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyColumnFrom:function(a,b){if(2<a)throw new H("Column "+a+" out of bounds (2)");0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyColumnTo:function(a,b){if(2<a)throw new H("Column "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.c,b.z=0):1==a?(b.x=this.b,b.y=this.d,b.z=0):(b.x=this.tx,
b.y=this.ty,b.z=1)},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},copyRowFrom:function(a,b){if(2<a)throw new H("Row "+a+" out of bounds (2)");0==a?(this.a=b.x,this.c=b.y):1==a?(this.b=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyRowTo:function(a,b){if(2<a)throw new H("Row "+a+" out of bounds (2)");0==a?(b.x=this.a,b.y=this.b,b.z=this.tx):1==a?(b.x=this.c,b.y=this.d,b.z=this.ty):b.setTo(0,0,1)},createBox:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=
0);null==c&&(c=0);if(0!=c){var f=Math.cos(c);c=Math.sin(c);this.a=f*a;this.b=c*b;this.c=-c*a;this.d=f*b}else this.a=a,this.c=this.b=0,this.d=b;this.tx=d;this.ty=e},createGradientBox:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);this.a=a/1638.4;this.d=b/1638.4;if(0!=c){var f=Math.cos(c);c=Math.sin(c);this.b=c*this.d;this.c=-c*this.a;this.a*=f;this.d*=f}else this.c=this.b=0;this.tx=d+a/2;this.ty=e+b/2},deltaTransformPoint:function(a){return new Pa(a.x*this.a+a.y*this.c,a.x*this.b+
a.y*this.d)},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c?this.d==a.d:!1},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},rotate:function(a){var b=
Math.cos(a);a=Math.sin(a);var c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=c},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},setRotation:function(a,b){null==b&&(b=1);this.a=Math.cos(a)*b;this.c=Math.sin(a)*b;this.b=-this.c;this.d=this.a},setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},to3DString:function(a){null==
a&&(a=!1);return a?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(a){return new Pa(a.x*
this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},toArray:function(a){null==a&&(a=!1);null==this.__array&&(this.__array=new pc(9));a?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,
this.__array[6]=0,this.__array[7]=0);this.__array[8]=1;return this.__array},__cleanValues:function(){this.a=Math.round(1E3*this.a)/1E3;this.b=Math.round(1E3*this.b)/1E3;this.c=Math.round(1E3*this.c)/1E3;this.d=Math.round(1E3*this.d)/1E3;this.tx=Math.round(10*this.tx)/10;this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){cb.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty);return cb.__matrix3},__transformInversePoint:function(a){var b=this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,
a.y=-this.ty;else{var c=1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+this.b*(this.tx-a))},__transformPoint:function(a){var b=a.x,c=a.y;a.x=b*this.a+c*this.c+this.tx;a.y=b*this.b+c*this.d+this.ty},
__transformX:function(a,b){return a*this.a+b*this.c+this.tx},__transformY:function(a,b){return a*this.b+b*this.d+this.ty},__translateTransformed:function(a,b){this.tx=a*this.a+b*this.c+this.tx;this.ty=a*this.b+b*this.d+this.ty},__class__:cb};var jc=function(a,b,c,d,e,f,k,p){null==p&&(p=0);null==k&&(k=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;
this.greenOffset=f;this.blueOffset=k;this.alphaOffset=p};m["openfl.geom.ColorTransform"]=jc;jc.__name__=["openfl","geom","ColorTransform"];jc.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,concat:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset=a.redMultiplier*
this.redOffset+a.redOffset;this.greenOffset=a.greenMultiplier*this.greenOffset+a.greenOffset;this.blueOffset=a.blueMultiplier*this.blueOffset+a.blueOffset;this.alphaOffset=a.alphaMultiplier*this.alphaOffset+a.alphaOffset},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+
", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new jc(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__copyFrom:function(a){this.redMultiplier=a.redMultiplier;this.greenMultiplier=a.greenMultiplier;this.blueMultiplier=a.blueMultiplier;this.alphaMultiplier=a.alphaMultiplier;this.redOffset=a.redOffset;this.greenOffset=a.greenOffset;this.blueOffset=a.blueOffset;this.alphaOffset=a.alphaOffset},
__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__identity:function(){this.alphaMultiplier=this.blueMultiplier=this.greenMultiplier=this.redMultiplier=1;this.alphaOffset=this.blueOffset=this.greenOffset=this.redOffset=0},__equals:function(a,b){null==
b&&(b=!1);return null==a||this.redMultiplier!=a.redMultiplier||this.greenMultiplier!=a.greenMultiplier||this.blueMultiplier!=a.blueMultiplier||!b&&this.alphaMultiplier!=a.alphaMultiplier||this.redOffset!=a.redOffset||this.greenOffset!=a.greenOffset||this.blueOffset!=a.blueOffset?!1:this.alphaOffset==a.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset?
0==this.alphaOffset:!1},get_color:function(){return(this.redOffset|0)<<16|(this.greenOffset|0)<<8|this.blueOffset|0},set_color:function(a){this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255;this.blueMultiplier=this.greenMultiplier=this.redMultiplier=0;return this.get_color()},__toLimeColorMatrix:function(){if(null==jc.__limeColorMatrix){var a=new pc(20);jc.__limeColorMatrix=a}jc.__limeColorMatrix[0]=this.redMultiplier;jc.__limeColorMatrix[4]=this.redOffset/255;jc.__limeColorMatrix[6]=
this.greenMultiplier;jc.__limeColorMatrix[9]=this.greenOffset/255;jc.__limeColorMatrix[12]=this.blueMultiplier;jc.__limeColorMatrix[14]=this.blueOffset/255;jc.__limeColorMatrix[18]=this.alphaMultiplier;jc.__limeColorMatrix[19]=this.alphaOffset/255;return jc.__limeColorMatrix},__class__:jc,__properties__:{set_color:"set_color",get_color:"get_color"}};var sb=function(a,b,c,d,e){null==e&&(e="baseline");null==d&&(d=!1);this._backBufferEnableDepthAndStencil=!0;this._stage3DIndex=-1;sb.vertexBufferCount=
sb.indexBufferCount=sb.drawTriangleCount=0;this._stage3DIndex=a;this._stage3D=b;this._stage3D.set_x(0);this._stage3D.set_y(0);this._stage3D.visible=!0;this._stage3DManager=c;this._viewPort=new ya;this._enableDepthAndStencil=!0;za.call(this);this._stage3D.addEventListener("context3DCreate",u(this,this.onContext3DUpdate),!1,1E3,!1);this.forceSoftware=d;this._profile=e;if(null!=this._stage3D.context3D)this.onContext3DUpdate(null);else this.requestContext(d,this._profile)};m["away3d.core.managers.Stage3DProxy"]=
sb;sb.__name__=["away3d","core","managers","Stage3DProxy"];sb.disposeVertexBuffer=function(a){a.dispose();sb.vertexBufferCount--};sb.disposeIndexBuffer=function(a){a.dispose();sb.indexBufferCount--};sb.uploadVertexBufferFromVector=function(a,b,c,d){a.uploadFromVector(b,c,d);sb._vbUploadCount++};sb.uploadIndexBufferFromVector=function(a,b,c,d){a.uploadFromVector(b,c,d);sb._ibUploadCount++};sb.__super__=za;sb.prototype=z(za.prototype,{_context3D:null,_stage3DIndex:null,_usesSoftwareRendering:null,_profile:null,
_stage3D:null,_activeProgram3D:null,_stage3DManager:null,_backBufferWidth:null,_backBufferHeight:null,_antiAlias:null,_enableDepthAndStencil:null,_backBufferEnableDepthAndStencil:null,_contextRequested:null,_renderTarget:null,_renderSurfaceSelector:null,_scissorRect:null,_color:null,_backBufferDirty:null,_viewPort:null,_enterFrame:null,_exitFrame:null,_viewportUpdated:null,_viewportDirty:null,_bufferClear:null,_mouse3DManager:null,_touch3DManager:null,notifyViewportUpdated:function(){this._viewportDirty||
(this._viewportDirty=!0,this.hasEventListener("ViewportUpdated")&&(this._viewportUpdated=new Bf("ViewportUpdated"),this.dispatchEvent(this._viewportUpdated)))},notifyEnterFrame:function(){this.hasEventListener("enterFrame")&&(null==this._enterFrame&&(this._enterFrame=new ca("enterFrame")),this.dispatchEvent(this._enterFrame))},notifyExitFrame:function(){this.hasEventListener("exitFrame")&&(null==this._exitFrame&&(this._exitFrame=new ca("exitFrame")),this.dispatchEvent(this._exitFrame))},forceSoftware:null,
get_profile:function(){return this._profile},dispose:function(){this._stage3DManager.removeStage3DProxy(this);this._stage3D.removeEventListener("context3DCreate",u(this,this.onContext3DUpdate));this.freeContext3D();this._stage3DManager=this._stage3D=null;this._stage3DIndex=-1},configureBackBuffer:function(a,b,c,d){50>a&&(a=50);50>b&&(b=50);var e=this._backBufferWidth,f=this._backBufferHeight;this._backBufferWidth=a;this._backBufferHeight=b;this._viewPort.width=a;this._viewPort.height=b;e==this._backBufferWidth&&
f==this._backBufferHeight||this.notifyViewportUpdated();this._antiAlias=c;this._enableDepthAndStencil=d;null!=this._context3D&&this._context3D.configureBackBuffer(a,b,c,d)},get_enableDepthAndStencil:function(){return this._enableDepthAndStencil},set_enableDepthAndStencil:function(a){this._enableDepthAndStencil=a;this._backBufferDirty=!0;return a},get_renderTarget:function(){return this._renderTarget},get_renderSurfaceSelector:function(){return this._renderSurfaceSelector},setRenderTarget:function(a,
b,c){null==c&&(c=0);null==b&&(b=!1);if(this._renderTarget!=a||c!=this._renderSurfaceSelector||this._enableDepthAndStencil!=b)this._renderTarget=a,this._renderSurfaceSelector=c,this._enableDepthAndStencil=b,null!=a?this._context3D.setRenderToTexture(a,b,this._antiAlias,c):this._context3D.setRenderToBackBuffer()},clear:function(){null!=this._context3D&&(this._backBufferDirty&&(this.configureBackBuffer(this._backBufferWidth,this._backBufferHeight,this._antiAlias,this._enableDepthAndStencil),this._backBufferDirty=
!1),this._context3D.clear((this._color>>16&255)/255,(this._color>>8&255)/255,(this._color&255)/255,(this._color>>24&255)/255),this._bufferClear=!0)},present:function(){null!=this._context3D&&(this._context3D.present(),this._activeProgram3D=null,null!=this._mouse3DManager&&this._mouse3DManager.fireMouseEvents())},addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);za.prototype.addEventListener.call(this,a,b,c,d,e);"enterFrame"!=a&&"exitFrame"!=a||sb._frameEventDriver.hasEventListener("enterFrame")||
sb._frameEventDriver.addEventListener("enterFrame",u(this,this.onEnterFrame),c,d,e)},removeEventListener:function(a,b,c){null==c&&(c=!1);za.prototype.removeEventListener.call(this,a,b,c);this.hasEventListener("enterFrame")||this.hasEventListener("exitFrame")||!sb._frameEventDriver.hasEventListener("enterFrame")||sb._frameEventDriver.removeEventListener("enterFrame",u(this,this.onEnterFrame),c)},get_scissorRect:function(){return this._scissorRect},set_scissorRect:function(a){this._scissorRect=a;this._context3D.setScissorRectangle(this._scissorRect);
return a},get_stage3DIndex:function(){return this._stage3DIndex},get_stage3D:function(){return this._stage3D},get_context3D:function(){return this._context3D},get_driverInfo:function(){return null!=this._context3D?this._context3D.driverInfo:null},get_usesSoftwareRendering:function(){return this._usesSoftwareRendering},get_x:function(){return this._stage3D.x},set_x:function(a){if(this._viewPort.x==a)return a;this._stage3D.set_x(this._viewPort.x=a);this.notifyViewportUpdated();return a},get_y:function(){return this._stage3D.y},
set_y:function(a){if(this._viewPort.y==a)return a;this._stage3D.set_y(this._viewPort.y=a);this.notifyViewportUpdated();return a},get_width:function(){return this._backBufferWidth},set_width:function(a){if(this._viewPort.width==a)return a;50>a&&(a=50);this._viewPort.width=this._backBufferWidth=a;this._backBufferDirty=!0;this.notifyViewportUpdated();return a},get_height:function(){return this._backBufferHeight},set_height:function(a){if(this._viewPort.height==a)return a;50>a&&(a=50);this._viewPort.height=
this._backBufferHeight=a;this._backBufferDirty=!0;this.notifyViewportUpdated();return a},get_antiAlias:function(){return this._antiAlias},set_antiAlias:function(a){this._antiAlias=a;this._backBufferDirty=!0;return a},get_viewPort:function(){this._viewportDirty=!1;return this._viewPort},get_color:function(){return this._color},set_color:function(a){return this._color=a},get_visible:function(){return this._stage3D.visible},set_visible:function(a){return this._stage3D.visible=a},get_bufferClear:function(){return this._bufferClear},
set_bufferClear:function(a){return this._bufferClear=a},get_mouse3DManager:function(){return this._mouse3DManager},set_mouse3DManager:function(a){return this._mouse3DManager=a},get_touch3DManager:function(){return this._touch3DManager},set_touch3DManager:function(a){return this._touch3DManager=a},freeContext3D:function(){null!=this._context3D&&(this._context3D.dispose(),this.dispatchEvent(new Bf("Context3DDisposed")));this._context3D=null},onContext3DUpdate:function(a){if(null!=this._stage3D.context3D)a=
null!=this._context3D,this._context3D=this._stage3D.context3D,this._context3D.set_enableErrorChecking(tb.active),this._usesSoftwareRendering=0==this._context3D.driverInfo.indexOf("Software"),0<this._backBufferWidth&&0<this._backBufferHeight&&this._context3D.configureBackBuffer(this._backBufferWidth,this._backBufferHeight,this._antiAlias,this._enableDepthAndStencil),this.dispatchEvent(new Bf(a?"Context3DRecreated":"Context3DCreated"));else throw new H(new sa("Rendering context lost!"));},requestContext:function(a,
b){null==b&&(b="baseline");null==a&&(a=!1);this._usesSoftwareRendering||(this._usesSoftwareRendering=a);this._profile=b;var c=a?1:0;if("baseline"==b)this._stage3D.requestContext3D(c);else try{this._stage3D.requestContext3D(c,lh.fromString(b))}catch(d){throw Qa.lastException=d,new H("An error occurred creating a context using the given profile. Profiles are not supported for the SDK this was compiled with.");}this._contextRequested=!0},onEnterFrame:function(a){null!=this._context3D&&(this.clear(),
this.notifyEnterFrame(),this.present(),this.notifyExitFrame())},recoverFromDisposal:function(){return null==this._context3D?!1:"Disposed"==this._context3D.driverInfo?(this._context3D=null,this.dispatchEvent(new Bf("Context3DDisposed")),!1):!0},clearDepthBuffer:function(){null!=this._context3D&&this._context3D.clear(0,0,0,1,1,0,2)},createVertexBuffer:function(a,b){sb.vertexBufferCount++;return this._context3D.createVertexBuffer(a,b)},createIndexBuffer:function(a){sb.indexBufferCount++;return this._context3D.createIndexBuffer(a)},
drawTriangles:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);sb.drawTriangleCount++;this._context3D.drawTriangles(a,b,c)},__class__:sb,__properties__:{set_touch3DManager:"set_touch3DManager",get_touch3DManager:"get_touch3DManager",set_mouse3DManager:"set_mouse3DManager",get_mouse3DManager:"get_mouse3DManager",set_bufferClear:"set_bufferClear",get_bufferClear:"get_bufferClear",set_visible:"set_visible",get_visible:"get_visible",set_color:"set_color",get_color:"get_color",get_viewPort:"get_viewPort",
set_antiAlias:"set_antiAlias",get_antiAlias:"get_antiAlias",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_usesSoftwareRendering:"get_usesSoftwareRendering",get_driverInfo:"get_driverInfo",get_context3D:"get_context3D",get_stage3D:"get_stage3D",get_stage3DIndex:"get_stage3DIndex",set_scissorRect:"set_scissorRect",get_scissorRect:"get_scissorRect",get_renderSurfaceSelector:"get_renderSurfaceSelector",
get_renderTarget:"get_renderTarget",set_enableDepthAndStencil:"set_enableDepthAndStencil",get_enableDepthAndStencil:"get_enableDepthAndStencil",get_profile:"get_profile"}});var zd=function(){this._touchPicker=Ak.RAYCAST_FIRST_ENCOUNTERED;this._touchMoveEvent=new gd("touchMove");this._nullVector=new C;this._updateDirty=!0;this._touchPoints=x.toObjectVector(null);this._touchPointFromId=new fc;zd._collidingObjectFromTouchId=new fc;zd._previousCollidingObjectFromTouchId=new fc};m["away3d.core.managers.Touch3DManager"]=
zd;zd.__name__=["away3d","core","managers","Touch3DManager"];zd.prototype={_updateDirty:null,_nullVector:null,_numTouchPoints:null,_touchPoint:null,_collidingObject:null,_previousCollidingObject:null,_touchPoints:null,_touchPointFromId:null,_touchMoveEvent:null,_forceTouchMove:null,_touchPicker:null,_view:null,updateCollider:function(){if(this._forceTouchMove||this._updateDirty)for(var a=0,b=this._numTouchPoints;a<b;){var c=a++;this._touchPoint=this._touchPoints.get(c);this._collidingObject=this._touchPicker.getViewCollision(this._touchPoint.x,
this._touchPoint.y,this._view);zd._collidingObjectFromTouchId.h[this._touchPoint.id]=this._collidingObject}},fireTouchEvents:function(){for(var a,b,c=0,d=this._numTouchPoints;c<d;)a=c++,this._touchPoint=this._touchPoints.get(a),this._collidingObject=zd._collidingObjectFromTouchId.h[this._touchPoint.id],this._previousCollidingObject=zd._previousCollidingObjectFromTouchId.h[this._touchPoint.id],this._collidingObject!=this._previousCollidingObject&&(null!=this._previousCollidingObject&&this.queueDispatch("touchOut3d",
this._touchMoveEvent,this._previousCollidingObject,this._touchPoint),null!=this._collidingObject&&this.queueDispatch("touchOver3d",this._touchMoveEvent,this._collidingObject,this._touchPoint)),this._forceTouchMove&&null!=this._collidingObject&&this.queueDispatch("touchMove3d",this._touchMoveEvent,this._collidingObject,this._touchPoint);c=0;for(d=zd._queuedEvents.get_length();c<d;){a=c++;a=zd._queuedEvents.get(a);for(b=a.object;null!=b&&!b._ancestorsAllowMouseEnabled;)b=b.get_parent();null!=b&&b.dispatchEvent(a)}zd._queuedEvents.set_length(0);
this._updateDirty=!1;c=0;for(d=this._numTouchPoints;c<d;)a=c++,this._touchPoint=this._touchPoints.get(a),zd._previousCollidingObjectFromTouchId.h[this._touchPoint.id]=zd._collidingObjectFromTouchId.h[this._touchPoint.id]},enableTouchListeners:function(a){a.addEventListener("touchBegin",u(this,this.onTouchBegin));a.addEventListener("touchMove",u(this,this.onTouchMove));a.addEventListener("touchEnd",u(this,this.onTouchEnd))},disableTouchListeners:function(a){a.removeEventListener("touchBegin",u(this,
this.onTouchBegin));a.removeEventListener("touchMove",u(this,this.onTouchMove));a.removeEventListener("touchEnd",u(this,this.onTouchEnd))},dispose:function(){this._touchPicker.dispose();this._touchPointFromId=this._touchPoints=null;zd._collidingObjectFromTouchId=null;zd._previousCollidingObjectFromTouchId=null},queueDispatch:function(a,b,c,d){a=new ag(a);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.screenX=d.x;a.screenY=d.y;a.touchPointID=d.id;null!=c?(a.object=c.entity,a.renderable=
c.renderable,a.uv=c.uv,a.localPosition=null!=c.localPosition?c.localPosition.clone():null,a.localNormal=null!=c.localNormal?c.localNormal.clone():null,a.index=c.index,a.subGeometryIndex=c.subGeometryIndex):(a.uv=null,a.object=null,a.localPosition=this._nullVector,a.localNormal=this._nullVector,a.index=0,a.subGeometryIndex=0);zd._queuedEvents.push(a)},onTouchBegin:function(a){var b=new jq;b.id=a.touchPointID;b.x=a.stageX;b.y=a.stageY;this._numTouchPoints++;this._touchPoints.push(b);this._touchPointFromId.h[b.id]=
b;this.updateCollider();this._collidingObject=zd._collidingObjectFromTouchId.h[b.id];null!=this._collidingObject&&this.queueDispatch("touchBegin3d",a,this._collidingObject,b);this._updateDirty=!0},onTouchMove:function(a){var b=this._touchPointFromId.h[a.touchPointID];null!=b&&(b.x=a.stageX,b.y=a.stageY,this._collidingObject=zd._collidingObjectFromTouchId.h[b.id],null!=this._collidingObject&&this.queueDispatch("touchMove3d",this._touchMoveEvent=a,this._collidingObject,b),this._updateDirty=!0)},onTouchEnd:function(a){var b=
this._touchPointFromId.h[a.touchPointID];null!=b&&(this._collidingObject=zd._collidingObjectFromTouchId.h[b.id],null!=this._collidingObject&&this.queueDispatch("touchEnd3d",a,this._collidingObject,b),this._touchPointFromId.remove(b.id),this._numTouchPoints--,this._touchPoints.splice(this._touchPoints.indexOf(b,0),1),this._updateDirty=!0)},get_forceTouchMove:function(){return this._forceTouchMove},set_forceTouchMove:function(a){return this._forceTouchMove=a},get_touchPicker:function(){return this._touchPicker},
set_touchPicker:function(a){return this._touchPicker=a},set_view:function(a){return this._view=a},__class__:zd,__properties__:{set_view:"set_view",set_touchPicker:"set_touchPicker",get_touchPicker:"get_touchPicker",set_forceTouchMove:"set_forceTouchMove",get_forceTouchMove:"get_forceTouchMove"}};var jq=function(){};m["away3d.core.managers.TouchPoint"]=jq;jq.__name__=["away3d","core","managers","TouchPoint"];jq.prototype={id:null,x:null,y:null,__class__:jq};var cd=function(){};m["away3d.core.math.MathConsts"]=
cd;cd.__name__=["away3d","core","math","MathConsts"];var C=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};m["openfl.geom.Vector3D"]=C;C.__name__=["openfl","geom","Vector3D"];C.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"};C.angleBetween=function(a,b){var c=a.get_length(),d=b.get_length(),e=a.dotProduct(b);0!=c&&(e/=c);0!=d&&(e/=d);return Math.acos(e)};C.distance=function(a,b){var c=b.x-a.x,
d=b.y-a.y,e=b.z-a.z;return Math.sqrt(c*c+d*d+e*e)};C.get_X_AXIS=function(){return new C(1,0,0)};C.get_Y_AXIS=function(){return new C(0,1,0)};C.get_Z_AXIS=function(){return new C(0,0,1)};C.prototype={w:null,x:null,y:null,z:null,add:function(a){return new C(this.x+a.x,this.y+a.y,this.z+a.z)},clone:function(){return new C(this.x,this.y,this.z,this.w)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z},crossProduct:function(a){return new C(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*
a.x,1)},decrementBy:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},dotProduct:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},equals:function(a,b){null==b&&(b=!1);return this.x==a.x&&this.y==a.y&&this.z==a.z?b?this.w==a.w:!0:!1},incrementBy:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},nearEquals:function(a,b,c){null==c&&(c=!1);return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.z-a.z)<b?c?Math.abs(this.w-a.w)<b:!0:!1},negate:function(){this.x*=-1;this.y*=-1;this.z*=-1},
normalize:function(){var a=this.get_length();0!=a&&(this.x/=a,this.y/=a,this.z/=a);return a},project:function(){this.x/=this.w;this.y/=this.w;this.z/=this.w},scaleBy:function(a){this.x*=a;this.y*=a;this.z*=a},setTo:function(a,b,c){this.x=a;this.y=b;this.z=c},subtract:function(a){return new C(this.x-a.x,this.y-a.y,this.z-a.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*
this.x+this.y*this.y+this.z*this.z},__class__:C,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var Xa=function(a){if(null!=a&&16==a.get_length())this.rawData=a.concat(null);else{a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(var b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b}};m["openfl.geom.Matrix3D"]=Xa;Xa.__name__=["openfl","geom","Matrix3D"];Xa.create2D=function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);var e=d*Math.PI/180;d=Math.cos(e);
e=Math.sin(e);a=[d*c,-e*c,0,0,e*c,d*c,0,0,0,0,1,0,a,b,0,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);return new Xa(b)};Xa.createABCD=function(a,b,c,d,e,f){a=[a,b,0,0,c,d,0,0,0,0,1,0,e,f,0,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);return new Xa(b)};Xa.createOrtho=function(a,b,c,d,e,f){var k=1/(b-a),p=1/(d-c),w=1/(f-e);a=[2*k,0,0,0,0,2*p,0,0,0,0,-2*w,0,-(a+b)*k,-(c+d)*p,-(e+f)*w,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);
return new Xa(b)};Xa.interpolate=function(a,b,c){for(var d=new Xa,e=0;16>e;){var f=e++;d.rawData.set(f,a.rawData.get(f)+(b.rawData.get(f)-a.rawData.get(f))*c)}return d};Xa.__getAxisRotation=function(a,b,c,d){var e=new Xa;a=new C(a,b,c);d=Math.PI/180*-d;c=Math.cos(d);d=Math.sin(d);b=1-c;e.rawData.set(0,c+a.x*a.x*b);e.rawData.set(5,c+a.y*a.y*b);e.rawData.set(10,c+a.z*a.z*b);c=a.x*a.y*b;var f=a.z*d;e.rawData.set(4,c+f);e.rawData.set(1,c-f);c=a.x*a.z*b;f=a.y*d;e.rawData.set(8,c-f);e.rawData.set(2,c+f);
c=a.y*a.z*b;f=a.x*d;e.rawData.set(9,c+f);e.rawData.set(6,c-f);return e};Xa.prototype={rawData:null,append:function(a){var b=this.rawData.get(0),c=this.rawData.get(4),d=this.rawData.get(8),e=this.rawData.get(12),f=this.rawData.get(1),k=this.rawData.get(5),p=this.rawData.get(9),w=this.rawData.get(13),h=this.rawData.get(2),n=this.rawData.get(6),l=this.rawData.get(10),g=this.rawData.get(14),m=this.rawData.get(3),r=this.rawData.get(7),q=this.rawData.get(11),t=this.rawData.get(15),u=a.rawData.get(0),x=
a.rawData.get(4),v=a.rawData.get(8),y=a.rawData.get(12),z=a.rawData.get(1),B=a.rawData.get(5),A=a.rawData.get(9),D=a.rawData.get(13),E=a.rawData.get(2),F=a.rawData.get(6),I=a.rawData.get(10),H=a.rawData.get(14),G=a.rawData.get(3),J=a.rawData.get(7),C=a.rawData.get(11);a=a.rawData.get(15);this.rawData.set(0,b*u+f*x+h*v+m*y);this.rawData.set(1,b*z+f*B+h*A+m*D);this.rawData.set(2,b*E+f*F+h*I+m*H);this.rawData.set(3,b*G+f*J+h*C+m*a);this.rawData.set(4,c*u+k*x+n*v+r*y);this.rawData.set(5,c*z+k*B+n*A+r*
D);this.rawData.set(6,c*E+k*F+n*I+r*H);this.rawData.set(7,c*G+k*J+n*C+r*a);this.rawData.set(8,d*u+p*x+l*v+q*y);this.rawData.set(9,d*z+p*B+l*A+q*D);this.rawData.set(10,d*E+p*F+l*I+q*H);this.rawData.set(11,d*G+p*J+l*C+q*a);this.rawData.set(12,e*u+w*x+g*v+t*y);this.rawData.set(13,e*z+w*B+g*A+t*D);this.rawData.set(14,e*E+w*F+g*I+t*H);this.rawData.set(15,e*G+w*J+g*C+t*a)},appendRotation:function(a,b,c){var d,e,f=0;d=e=f;null!=c&&(d=c.x,e=c.y,f=c.z);c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);var k=b.x,
p=b.y;b=b.z;var w=k*k,h=p*p,n=b*b,l=w+h+n;if(0!=l){var g=Math.sqrt(l),k=k/g,p=p/g;b/=g;w/=l;h/=l;n/=l}var l=1-a,g=new Xa,m=g.rawData;m.set(0,w+(h+n)*a);m.set(1,k*p*l+b*c);m.set(2,k*b*l-p*c);m.set(4,k*p*l-b*c);m.set(5,h+(w+n)*a);m.set(6,p*b*l+k*c);m.set(8,k*b*l+p*c);m.set(9,p*b*l-k*c);m.set(10,n+(w+h)*a);m.set(12,(d*(h+n)-k*(e*p+f*b))*l+(e*b-f*p)*c);m.set(13,(e*(w+n)-p*(d*k+f*b))*l+(f*k-d*b)*c);m.set(14,(f*(w+h)-b*(d*k+e*p))*l+(d*p-e*k)*c);this.append(g)},appendScale:function(a,b,c){a=[a,0,0,0,0,b,
0,0,0,0,c,0,0,0,0,1];b=x.toFloatVector(null);c=0;for(var d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.append(new Xa(b))},appendTranslation:function(a,b,c){var d=this.rawData;d.set(12,d.get(12)+a);a=this.rawData;a.set(13,a.get(13)+b);b=this.rawData;b.set(14,b.get(14)+c)},clone:function(){return new Xa(this.rawData.copy())},copyColumnFrom:function(a,b){switch(a){case 0:this.rawData.set(0,b.x);this.rawData.set(1,b.y);this.rawData.set(2,b.z);this.rawData.set(3,b.w);break;case 1:this.rawData.set(4,b.x);
this.rawData.set(5,b.y);this.rawData.set(6,b.z);this.rawData.set(7,b.w);break;case 2:this.rawData.set(8,b.x);this.rawData.set(9,b.y);this.rawData.set(10,b.z);this.rawData.set(11,b.w);break;case 3:this.rawData.set(12,b.x),this.rawData.set(13,b.y),this.rawData.set(14,b.z),this.rawData.set(15,b.w)}},copyColumnTo:function(a,b){switch(a){case 0:b.x=this.rawData.get(0);b.y=this.rawData.get(1);b.z=this.rawData.get(2);b.w=this.rawData.get(3);break;case 1:b.x=this.rawData.get(4);b.y=this.rawData.get(5);b.z=
this.rawData.get(6);b.w=this.rawData.get(7);break;case 2:b.x=this.rawData.get(8);b.y=this.rawData.get(9);b.z=this.rawData.get(10);b.w=this.rawData.get(11);break;case 3:b.x=this.rawData.get(12),b.y=this.rawData.get(13),b.z=this.rawData.get(14),b.w=this.rawData.get(15)}},copyFrom:function(a){this.rawData=a.rawData.copy()},copyRawDataFrom:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();for(var d=0,e=a.get_length()-b;d<e;){var f=d++;this.rawData.set(f,a.get(f+b))}c&&this.transpose()},
copyRawDataTo:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();for(var d=0,e=this.rawData.get_length();d<e;){var f=d++;a.set(f+b,this.rawData.get(f))}c&&this.transpose()},copyRowFrom:function(a,b){switch(a){case 0:this.rawData.set(0,b.x);this.rawData.set(4,b.y);this.rawData.set(8,b.z);this.rawData.set(12,b.w);break;case 1:this.rawData.set(1,b.x);this.rawData.set(5,b.y);this.rawData.set(9,b.z);this.rawData.set(13,b.w);break;case 2:this.rawData.set(2,b.x);this.rawData.set(6,b.y);this.rawData.set(10,
b.z);this.rawData.set(14,b.w);break;case 3:this.rawData.set(3,b.x),this.rawData.set(7,b.y),this.rawData.set(11,b.z),this.rawData.set(15,b.w)}},copyRowTo:function(a,b){switch(a){case 0:b.x=this.rawData.get(0);b.y=this.rawData.get(4);b.z=this.rawData.get(8);b.w=this.rawData.get(12);break;case 1:b.x=this.rawData.get(1);b.y=this.rawData.get(5);b.z=this.rawData.get(9);b.w=this.rawData.get(13);break;case 2:b.x=this.rawData.get(2);b.y=this.rawData.get(6);b.z=this.rawData.get(10);b.w=this.rawData.get(14);
break;case 3:b.x=this.rawData.get(3),b.y=this.rawData.get(7),b.z=this.rawData.get(11),b.w=this.rawData.get(15)}},copyToMatrix3D:function(a){a.rawData=this.rawData.copy()},decompose:function(a){null==a&&(a=1);var b=x.toObjectVector(null),c=this.clone().rawData.copy(),d=new C(c.get(12),c.get(13),c.get(14));c.set(12,0);c.set(13,0);c.set(14,0);var e=new C;e.x=Math.sqrt(c.get(0)*c.get(0)+c.get(1)*c.get(1)+c.get(2)*c.get(2));e.y=Math.sqrt(c.get(4)*c.get(4)+c.get(5)*c.get(5)+c.get(6)*c.get(6));e.z=Math.sqrt(c.get(8)*
c.get(8)+c.get(9)*c.get(9)+c.get(10)*c.get(10));0>c.get(0)*(c.get(5)*c.get(10)-c.get(6)*c.get(9))-c.get(1)*(c.get(4)*c.get(10)-c.get(6)*c.get(8))+c.get(2)*(c.get(4)*c.get(9)-c.get(5)*c.get(8))&&(e.z=-e.z);c.set(0,c.get(0)/e.x);c.set(1,c.get(1)/e.x);c.set(2,c.get(2)/e.x);c.set(4,c.get(4)/e.y);c.set(5,c.get(5)/e.y);c.set(6,c.get(6)/e.y);c.set(8,c.get(8)/e.z);c.set(9,c.get(9)/e.z);c.set(10,c.get(10)/e.z);var f=new C;switch(a){case 0:f.w=Math.acos((c.get(0)+c.get(5)+c.get(10)-1)/2);a=Math.sqrt((c.get(6)-
c.get(9))*(c.get(6)-c.get(9))+(c.get(8)-c.get(2))*(c.get(8)-c.get(2))+(c.get(1)-c.get(4))*(c.get(1)-c.get(4)));0!=a?(f.x=(c.get(6)-c.get(9))/a,f.y=(c.get(8)-c.get(2))/a,f.z=(c.get(1)-c.get(4))/a):f.x=f.y=f.z=0;break;case 1:f.y=Math.asin(-c.get(2));1!=c.get(2)&&-1!=c.get(2)?(f.x=Math.atan2(c.get(6),c.get(10)),f.z=Math.atan2(c.get(1),c.get(0))):(f.z=0,f.x=Math.atan2(c.get(4),c.get(5)));break;case 2:a=c.get(0)+c.get(5)+c.get(10),0<a?(f.w=Math.sqrt(1+a)/2,f.x=(c.get(6)-c.get(9))/(4*f.w),f.y=(c.get(8)-
c.get(2))/(4*f.w),f.z=(c.get(1)-c.get(4))/(4*f.w)):c.get(0)>c.get(5)&&c.get(0)>c.get(10)?(f.x=Math.sqrt(1+c.get(0)-c.get(5)-c.get(10))/2,f.w=(c.get(6)-c.get(9))/(4*f.x),f.y=(c.get(1)+c.get(4))/(4*f.x),f.z=(c.get(8)+c.get(2))/(4*f.x)):c.get(5)>c.get(10)?(f.y=Math.sqrt(1+c.get(5)-c.get(0)-c.get(10))/2,f.x=(c.get(1)+c.get(4))/(4*f.y),f.w=(c.get(8)-c.get(2))/(4*f.y),f.z=(c.get(6)+c.get(9))/(4*f.y)):(f.z=Math.sqrt(1+c.get(10)-c.get(0)-c.get(5))/2,f.x=(c.get(8)+c.get(2))/(4*f.z),f.y=(c.get(6)+c.get(9))/
(4*f.z),f.w=(c.get(1)-c.get(4))/(4*f.z))}b.push(d);b.push(f);b.push(e);return b},deltaTransformVector:function(a){var b=a.x,c=a.y;a=a.z;return new C(b*this.rawData.get(0)+c*this.rawData.get(4)+a*this.rawData.get(8)+this.rawData.get(3),b*this.rawData.get(1)+c*this.rawData.get(5)+a*this.rawData.get(9)+this.rawData.get(7),b*this.rawData.get(2)+c*this.rawData.get(6)+a*this.rawData.get(10)+this.rawData.get(11),0)},identity:function(){for(var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],b=x.toFloatVector(null),
c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b},interpolateTo:function(a,b){for(var c=0;16>c;){var d=c++;this.rawData.set(d,this.rawData.get(d)+(a.rawData.get(d)-this.rawData.get(d))*b)}},invert:function(){var a=this.get_determinant(),b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData.get(0),d=this.rawData.get(4),e=this.rawData.get(8),f=this.rawData.get(12),k=this.rawData.get(1),p=this.rawData.get(5),w=this.rawData.get(9),h=this.rawData.get(13),n=this.rawData.get(2),l=this.rawData.get(6),
g=this.rawData.get(10),m=this.rawData.get(14),r=this.rawData.get(3),q=this.rawData.get(7),t=this.rawData.get(11),u=this.rawData.get(15);this.rawData.set(0,a*(p*(g*u-m*t)-w*(l*u-m*q)+h*(l*t-g*q)));this.rawData.set(1,-a*(k*(g*u-m*t)-w*(n*u-m*r)+h*(n*t-g*r)));this.rawData.set(2,a*(k*(l*u-m*q)-p*(n*u-m*r)+h*(n*q-l*r)));this.rawData.set(3,-a*(k*(l*t-g*q)-p*(n*t-g*r)+w*(n*q-l*r)));this.rawData.set(4,-a*(d*(g*u-m*t)-e*(l*u-m*q)+f*(l*t-g*q)));this.rawData.set(5,a*(c*(g*u-m*t)-e*(n*u-m*r)+f*(n*t-g*r)));this.rawData.set(6,
-a*(c*(l*u-m*q)-d*(n*u-m*r)+f*(n*q-l*r)));this.rawData.set(7,a*(c*(l*t-g*q)-d*(n*t-g*r)+e*(n*q-l*r)));this.rawData.set(8,a*(d*(w*u-h*t)-e*(p*u-h*q)+f*(p*t-w*q)));this.rawData.set(9,-a*(c*(w*u-h*t)-e*(k*u-h*r)+f*(k*t-w*r)));this.rawData.set(10,a*(c*(p*u-h*q)-d*(k*u-h*r)+f*(k*q-p*r)));this.rawData.set(11,-a*(c*(p*t-w*q)-d*(k*t-w*r)+e*(k*q-p*r)));this.rawData.set(12,-a*(d*(w*m-h*g)-e*(p*m-h*l)+f*(p*g-w*l)));this.rawData.set(13,a*(c*(w*m-h*g)-e*(k*m-h*n)+f*(k*g-w*n)));this.rawData.set(14,-a*(c*(p*m-h*
l)-d*(k*m-h*n)+f*(k*l-p*n)));this.rawData.set(15,a*(c*(p*g-w*l)-d*(k*g-w*n)+e*(k*l-p*n)))}return b},pointAt:function(a,b,c){null==b&&(b=new C(0,0,-1));null==c&&(c=new C(0,-1,0));b=b.subtract(a);c=c.clone();var d;b.normalize();c.normalize();d=b.clone();d.scaleBy(c.dotProduct(b));c=c.subtract(d);0<c.get_length()?c.normalize():c=0!=b.x?new C(-b.y,b.x,0):new C(1,0,0);d=c.crossProduct(b);d.normalize();this.rawData.set(0,d.x);this.rawData.set(4,d.y);this.rawData.set(8,d.z);this.rawData.set(12,0);this.rawData.set(1,
c.x);this.rawData.set(5,c.y);this.rawData.set(9,c.z);this.rawData.set(13,0);this.rawData.set(2,b.x);this.rawData.set(6,b.y);this.rawData.set(10,b.z);this.rawData.set(14,0);this.rawData.set(3,a.x);this.rawData.set(7,a.y);this.rawData.set(11,a.z);this.rawData.set(15,1)},prepend:function(a){var b=a.rawData.get(0),c=a.rawData.get(4),d=a.rawData.get(8),e=a.rawData.get(12),f=a.rawData.get(1),k=a.rawData.get(5),p=a.rawData.get(9),w=a.rawData.get(13),h=a.rawData.get(2),n=a.rawData.get(6),l=a.rawData.get(10),
g=a.rawData.get(14),m=a.rawData.get(3),r=a.rawData.get(7),q=a.rawData.get(11);a=a.rawData.get(15);var t=this.rawData.get(0),u=this.rawData.get(4),x=this.rawData.get(8),v=this.rawData.get(12),y=this.rawData.get(1),z=this.rawData.get(5),B=this.rawData.get(9),A=this.rawData.get(13),D=this.rawData.get(2),E=this.rawData.get(6),F=this.rawData.get(10),I=this.rawData.get(14),H=this.rawData.get(3),G=this.rawData.get(7),J=this.rawData.get(11),C=this.rawData.get(15);this.rawData.set(0,b*t+f*u+h*x+m*v);this.rawData.set(1,
b*y+f*z+h*B+m*A);this.rawData.set(2,b*D+f*E+h*F+m*I);this.rawData.set(3,b*H+f*G+h*J+m*C);this.rawData.set(4,c*t+k*u+n*x+r*v);this.rawData.set(5,c*y+k*z+n*B+r*A);this.rawData.set(6,c*D+k*E+n*F+r*I);this.rawData.set(7,c*H+k*G+n*J+r*C);this.rawData.set(8,d*t+p*u+l*x+q*v);this.rawData.set(9,d*y+p*z+l*B+q*A);this.rawData.set(10,d*D+p*E+l*F+q*I);this.rawData.set(11,d*H+p*G+l*J+q*C);this.rawData.set(12,e*t+w*u+g*x+a*v);this.rawData.set(13,e*y+w*z+g*B+a*A);this.rawData.set(14,e*D+w*E+g*F+a*I);this.rawData.set(15,
e*H+w*G+g*J+a*C)},prependRotation:function(a,b,c){var d,e,f=0;d=e=f;null!=c&&(d=c.x,e=c.y,f=c.z);c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);var k=b.x,p=b.y;b=b.z;var w=k*k,h=p*p,n=b*b,l=w+h+n;if(0!=l){var g=Math.sqrt(l),k=k/g,p=p/g;b/=g;w/=l;h/=l;n/=l}var l=1-a,g=new Xa,m=g.rawData;m.set(0,w+(h+n)*a);m.set(1,k*p*l+b*c);m.set(2,k*b*l-p*c);m.set(4,k*p*l-b*c);m.set(5,h+(w+n)*a);m.set(6,p*b*l+k*c);m.set(8,k*b*l+p*c);m.set(9,p*b*l-k*c);m.set(10,n+(w+h)*a);m.set(12,(d*(h+n)-k*(e*p+f*b))*l+(e*b-f*p)*c);
m.set(13,(e*(w+n)-p*(d*k+f*b))*l+(f*k-d*b)*c);m.set(14,(f*(w+h)-b*(d*k+e*p))*l+(d*p-e*k)*c);this.prepend(g)},prependScale:function(a,b,c){a=[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1];b=x.toFloatVector(null);c=0;for(var d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.prepend(new Xa(b))},prependTranslation:function(a,b,c){var d=new Xa;d.set_position(new C(a,b,c));this.prepend(d)},recompose:function(a,b){if(3>a.get_length()||0==a.get(2).x||0==a.get(2).y||0==a.get(2).z)return!1;null==b&&(b=1);this.identity();var c=
[];c[0]=c[1]=c[2]=a.get(2).x;c[4]=c[5]=c[6]=a.get(2).y;c[8]=c[9]=c[10]=a.get(2).z;if(null==b){var d=a.get(1).x,e=a.get(1).y,f=a.get(1).z,k=a.get(1).w;0==b&&(d*=Math.sin(k/2),e*=Math.sin(k/2),f*=Math.sin(k/2),k=Math.cos(k/2));this.rawData.set(0,(1-2*e*e-2*f*f)*c[0]);this.rawData.set(1,(2*d*e+2*k*f)*c[1]);this.rawData.set(2,(2*d*f-2*k*e)*c[2]);this.rawData.set(3,0);this.rawData.set(4,(2*d*e-2*k*f)*c[4]);this.rawData.set(5,(1-2*d*d-2*f*f)*c[5]);this.rawData.set(6,(2*e*f+2*k*d)*c[6]);this.rawData.set(7,
0);this.rawData.set(8,(2*d*f+2*k*e)*c[8]);this.rawData.set(9,(2*e*f-2*k*d)*c[9]);this.rawData.set(10,(1-2*d*d-2*e*e)*c[10])}else if(1==b){var d=Math.cos(a.get(1).x),e=Math.cos(a.get(1).y),f=Math.cos(a.get(1).z),k=Math.sin(a.get(1).x),p=Math.sin(a.get(1).y),w=Math.sin(a.get(1).z);this.rawData.set(0,e*f*c[0]);this.rawData.set(1,e*w*c[1]);this.rawData.set(2,-p*c[2]);this.rawData.set(3,0);this.rawData.set(4,(k*p*f-d*w)*c[4]);this.rawData.set(5,(k*p*w+d*f)*c[5]);this.rawData.set(6,k*e*c[6]);this.rawData.set(7,
0);this.rawData.set(8,(d*p*f+k*w)*c[8]);this.rawData.set(9,(d*p*w-k*f)*c[9]);this.rawData.set(10,d*e*c[10])}else d=a.get(1).x,e=a.get(1).y,f=a.get(1).z,k=a.get(1).w,0==b&&(d*=Math.sin(k/2),e*=Math.sin(k/2),f*=Math.sin(k/2),k=Math.cos(k/2)),this.rawData.set(0,(1-2*e*e-2*f*f)*c[0]),this.rawData.set(1,(2*d*e+2*k*f)*c[1]),this.rawData.set(2,(2*d*f-2*k*e)*c[2]),this.rawData.set(3,0),this.rawData.set(4,(2*d*e-2*k*f)*c[4]),this.rawData.set(5,(1-2*d*d-2*f*f)*c[5]),this.rawData.set(6,(2*e*f+2*k*d)*c[6]),this.rawData.set(7,
0),this.rawData.set(8,(2*d*f+2*k*e)*c[8]),this.rawData.set(9,(2*e*f-2*k*d)*c[9]),this.rawData.set(10,(1-2*d*d-2*e*e)*c[10]);this.rawData.set(11,0);this.rawData.set(12,a.get(0).x);this.rawData.set(13,a.get(0).y);this.rawData.set(14,a.get(0).z);this.rawData.set(15,1);0==a.get(2).x&&this.rawData.set(0,1E-15);0==a.get(2).y&&this.rawData.set(5,1E-15);0==a.get(2).z&&this.rawData.set(10,1E-15);return!(0==a.get(2).x||0==a.get(2).y||0==a.get(2).y)},transformVector:function(a){var b=a.x,c=a.y;a=a.z;return new C(b*
this.rawData.get(0)+c*this.rawData.get(4)+a*this.rawData.get(8)+this.rawData.get(12),b*this.rawData.get(1)+c*this.rawData.get(5)+a*this.rawData.get(9)+this.rawData.get(13),b*this.rawData.get(2)+c*this.rawData.get(6)+a*this.rawData.get(10)+this.rawData.get(14),b*this.rawData.get(3)+c*this.rawData.get(7)+a*this.rawData.get(11)+this.rawData.get(15))},transformVectors:function(a,b){for(var c=0,d,e,f;c+3<=a.get_length();)d=a.get(c),e=a.get(c+1),f=a.get(c+2),b.set(c,d*this.rawData.get(0)+e*this.rawData.get(4)+
f*this.rawData.get(8)+this.rawData.get(12)),b.set(c+1,d*this.rawData.get(1)+e*this.rawData.get(5)+f*this.rawData.get(9)+this.rawData.get(13)),b.set(c+2,d*this.rawData.get(2)+e*this.rawData.get(6)+f*this.rawData.get(10)+this.rawData.get(14)),c+=3},transpose:function(){var a=this.rawData.copy();this.rawData.set(1,a.get(4));this.rawData.set(2,a.get(8));this.rawData.set(3,a.get(12));this.rawData.set(4,a.get(1));this.rawData.set(6,a.get(9));this.rawData.set(7,a.get(13));this.rawData.set(8,a.get(2));this.rawData.set(9,
a.get(6));this.rawData.set(11,a.get(14));this.rawData.set(12,a.get(3));this.rawData.set(13,a.get(7));this.rawData.set(14,a.get(11))},get_determinant:function(){return(this.rawData.get(0)*this.rawData.get(5)-this.rawData.get(4)*this.rawData.get(1))*(this.rawData.get(10)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(11))-(this.rawData.get(0)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(7))+(this.rawData.get(0)*
this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(7))+(this.rawData.get(4)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(3))-(this.rawData.get(4)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(3))+(this.rawData.get(8)*
this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(9))*(this.rawData.get(2)*this.rawData.get(7)-this.rawData.get(6)*this.rawData.get(3))},get_position:function(){return new C(this.rawData.get(12),this.rawData.get(13),this.rawData.get(14))},set_position:function(a){this.rawData.set(12,a.x);this.rawData.set(13,a.y);this.rawData.set(14,a.z);return a},__class__:Xa,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var Ja=function(){};m["away3d.core.math.Matrix3DUtils"]=
Ja;Ja.__name__=["away3d","core","math","Matrix3DUtils"];Ja.quaternion2matrix=function(a,b){var c=a.x,d=a.y,e=a.z,f=a.w,k=c*c,p=c*d,w=c*e,c=c*f,h=d*d,n=d*e,d=d*f,l=e*e,e=e*f,f=Ja.RAW_DATA_CONTAINER;f.set(0,1-2*(h+l));f.set(1,2*(p+e));f.set(2,2*(w-d));f.set(4,2*(p-e));f.set(5,1-2*(k+l));f.set(6,2*(n+c));f.set(8,2*(w+d));f.set(9,2*(n-c));f.set(10,1-2*(k+h));f.set(3,f.set(7,f.set(11,f.set(12,f.set(13,f.set(14,0))))));f.set(15,1);return null!=b?(b.copyRawDataFrom(f),b):new Xa(f)};Ja.getForward=function(a,
b){null==b&&(b=new C(0,0,0));a.copyColumnTo(2,b);b.normalize();return b};Ja.getUp=function(a,b){null==b&&(b=new C(0,0,0));a.copyColumnTo(1,b);b.normalize();return b};Ja.getRight=function(a,b){null==b&&(b=new C(0,0,0));a.copyColumnTo(0,b);b.normalize();return b};Ja.compare=function(a,b){var c=Ja.RAW_DATA_CONTAINER,d=b.rawData;a.copyRawDataTo(c);for(var e=0;16>e;){var f=e++;if(c.get(f)!=d.get(f))return!1}return!0};Ja.lookAt=function(a,b,c,d){var e,f=Ja.RAW_DATA_CONTAINER;e=c.crossProduct(d);e.normalize();
d=e.crossProduct(c);d.normalize();c=c.clone();c.normalize();f.set(0,e.x);f.set(1,d.x);f.set(2,-c.x);f.set(3,0);f.set(4,e.y);f.set(5,d.y);f.set(6,-c.y);f.set(7,0);f.set(8,e.z);f.set(9,d.z);f.set(10,-c.z);f.set(11,0);f.set(12,-e.dotProduct(b));f.set(13,-d.dotProduct(b));f.set(14,c.dotProduct(b));f.set(15,1);a.copyRawDataFrom(f)};Ja.reflection=function(a,b){null==b&&(b=new Xa);var c=a.a,d=a.b,e=a.c,f=a.d,k=Ja.RAW_DATA_CONTAINER,p=-2*c*d,w=-2*c*e,h=-2*d*e;k.set(0,1-2*c*c);k.set(4,p);k.set(8,w);k.set(12,
-2*c*f);k.set(1,p);k.set(5,1-2*d*d);k.set(9,h);k.set(13,-2*d*f);k.set(2,w);k.set(6,h);k.set(10,1-2*e*e);k.set(14,-2*e*f);k.set(3,0);k.set(7,0);k.set(11,0);k.set(15,1);b.copyRawDataFrom(k);return b};Ja.decompose=function(a,b){null==b&&(b=1);var c=Ja.RAW_DATA_CONTAINER;a.copyRawDataTo(c);var d=c.get(0),e=c.get(1),f=c.get(2),k=c.get(4),p=c.get(5),w=c.get(6),h=c.get(8),n=c.get(9),l=c.get(10),g=c.get(12),m=c.get(13),c=c.get(14),r=Math.sqrt(d*d+e*e+f*f),q=Math.sqrt(k*k+p*p+w*w),t=Math.sqrt(h*h+n*n+l*l),
u=0,x=r,v=q,y=t;0>d*(p*l-w*n)-e*(k*l-w*h)+f*(k*n-p*h)&&(y=-y);d/=x;e/=x;f/=x;k/=v;p/=v;w/=v;h/=y;n/=y;l/=y;1==b?(r=Math.atan2(w,l),q=Math.atan2(-f,Math.sqrt(d*d+e*e)),e=Math.sin(r),f=Math.cos(r),t=Math.atan2(e*h-f*k,f*p-e*n)):0==b?(u=Math.acos((d+p+l-1)/2),p=Math.sqrt((w-n)*(w-n)+(h-f)*(h-f)+(e-k)*(e-k)),r=(w-n)/p,q=(h-f)/p,t=(e-k)/p):(r=d+p+l,0<r?(u=Math.sqrt(1+r)/2,r=(w-n)/(4*u),q=(h-f)/(4*u),t=(e-k)/(4*u)):d>p&&d>l?(r=Math.sqrt(1+d-p-l)/2,u=(w-n)/(4*r),q=(e+k)/(4*r),t=(h+f)/(4*r)):p>l?(q=Math.sqrt(1+
p-d-l)/2,r=(e+k)/(4*q),u=(h-f)/(4*q),t=(w+n)/(4*q)):(t=Math.sqrt(1+l-d-p)/2,r=(h+f)/(4*t),q=(w+n)/(4*t),u=(e-k)/(4*t)));k=Ja.CALCULATION_DECOMPOSE;k.get(0).x=g;k.get(0).y=m;k.get(0).z=c;k.get(1).x=r;k.get(1).y=q;k.get(1).z=t;k.get(1).w=u;k.get(2).x=x;k.get(2).y=v;k.get(2).z=y;return k};Ja.transformVector=function(a,b,c){null==c&&(c=new C);var d=Ja.RAW_DATA_CONTAINER;a.copyRawDataTo(d);a=d.get(0);var e=d.get(1),f=d.get(2),k=d.get(3),p=d.get(4),w=d.get(5),h=d.get(6),n=d.get(7),l=d.get(8),g=d.get(9),
m=d.get(10),r=d.get(11),q=d.get(12),t=d.get(13),u=d.get(14),d=d.get(15),x=b.x,v=b.y;b=b.z;c.x=a*x+p*v+l*b+q;c.y=e*x+w*v+g*b+t;c.z=f*x+h*v+m*b+u;c.w=k*x+n*v+r*b+d;return c};Ja.deltaTransformVector=function(a,b,c){null==c&&(c=new C);var d=Ja.RAW_DATA_CONTAINER;a.copyRawDataTo(d);a=d.get(0);var e=d.get(1),f=d.get(2),k=d.get(3),p=d.get(4),w=d.get(5),h=d.get(6),n=d.get(7),l=d.get(8),g=d.get(9),m=d.get(10),d=d.get(11),r=b.x,q=b.y;b=b.z;c.x=a*r+p*q+l*b;c.y=e*r+w*q+g*b;c.z=f*r+h*q+m*b;c.w=k*r+n*q+d*b;return c};
Ja.getTranslation=function(a,b){null==b&&(b=new C);a.copyColumnTo(3,b);return b};Ja.deltaTransformVectors=function(a,b,c){var d=Ja.RAW_DATA_CONTAINER;a.copyRawDataTo(d);a=d.get(0);var e=d.get(1),f=d.get(2);d.get(3);var k=d.get(4),p=d.get(5),w=d.get(6);d.get(7);var h=d.get(8),n=d.get(9),l=d.get(10);d.get(11);for(var d=0,g=b.get_length(),m=0;m<g;){var r=b.get(m),q=b.get(m+1),t=b.get(m+2);c.set(d++,a*r+k*q+h*t);c.set(d++,e*r+p*q+n*t);c.set(d++,f*r+w*q+l*t);m+=3}};var Sh=function(a,b,c,d){null==d&&(d=
0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.a=a;this.b=b;this.c=c;this.d=d;this._alignment=0==a&&0==b?1:0==b&&0==c?2:0==a&&0==c?3:0};m["away3d.core.math.Plane3D"]=Sh;Sh.__name__=["away3d","core","math","Plane3D"];Sh.prototype={a:null,b:null,c:null,d:null,_alignment:null,fromPoints:function(a,b,c){var d=b.x-a.x,e=b.y-a.y;b=b.z-a.z;var f=c.x-a.x,k=c.y-a.y;c=c.z-a.z;this.a=e*c-b*k;this.b=b*f-d*c;this.c=d*k-e*f;this.d=this.a*a.x+this.b*a.y+this.c*a.z;this._alignment=0==this.a&&0==this.b?1:0==
this.b&&0==this.c?2:0==this.a&&0==this.c?3:0},fromNormalAndPoint:function(a,b){this.a=a.x;this.b=a.y;this.c=a.z;this.d=this.a*b.x+this.b*b.y+this.c*b.z;this._alignment=0==this.a&&0==this.b?1:0==this.b&&0==this.c?2:0==this.a&&0==this.c?3:0},normalize:function(){var a=1/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);this.a*=a;this.b*=a;this.c*=a;this.d*=a;return this},distance:function(a){return 2==this._alignment?this.a*a.x-this.d:3==this._alignment?this.b*a.y-this.d:1==this._alignment?this.c*
a.z-this.d:this.a*a.x+this.b*a.y+this.c*a.z-this.d},classifyPoint:function(a,b){null==b&&(b=.01);if(this.d!=this.d)return 1;var c;c=2==this._alignment?this.a*a.x-this.d:3==this._alignment?this.b*a.y-this.d:1==this._alignment?this.c*a.z-this.d:this.a*a.x+this.b*a.y+this.c*a.z-this.d;return c<-b?0:c>b?1:2},toString:function(){return"Plane3D [a:"+this.a+", b:"+this.b+", c:"+this.c+", d:"+this.d+"]."},__class__:Sh};var Bk=function(){};m["away3d.core.math.PlaneClassification"]=Bk;Bk.__name__=["away3d",
"core","math","PlaneClassification"];var Ub=function(){};m["away3d.core.math.PoissonLookup"]=Ub;Ub.__name__=["away3d","core","math","PoissonLookup"];Ub.initDistributions=function(){Ub._distributions=x.toObjectVector(null);for(var a=Ub._distributions,b=[.3082841,.4320919],c=x.toFloatVector(null),d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.set(0,c);for(var k=Ub._distributions,p=[.3082841,.4320919,-.2274942,-.6640266],w=x.toFloatVector(null),h=0,n=p.length;h<n;){var l=h++;w.set(l,p[l])}k.set(1,w);
for(var g=Ub._distributions,m=[.8742689,9.265686E-4,-.6864116,-.5536607,-.2325206,.7678371],r=x.toFloatVector(null),q=0,t=m.length;q<t;){var u=q++;r.set(u,m[u])}g.set(2,r);for(var v=Ub._distributions,y=[.3913446,-.7084417,-.7511101,-.5935929,-.2323436,.5320091,.8435315,.5035911],z=x.toFloatVector(null),B=0,A=y.length;B<A;){var D=B++;z.set(D,y[D])}v.set(3,z);for(var E=Ub._distributions,F=[.2122471,-.5771395,-.8543506,-.1763534,.5189021,.8323698,-.3616908,.5865368,.9523004,-.04948437],I=x.toFloatVector(null),
H=0,G=F.length;H<G;){var J=H++;I.set(J,F[J])}E.set(4,I);for(var C=Ub._distributions,K=[.5791035,.3496495,.2959551,-.6006749,-.2419119,-.06879545,-.7403072,.6110353,-.04555973,.8059174,-.5275017,-.737129],M=x.toFloatVector(null),O=0,N=K.length;O<N;){var Q=O++;M.set(Q,K[Q])}C.set(5,M);for(var P=Ub._distributions,R=[.06941478,.8519508,-.7441907,.2426432,.6439992,-.2405252,-.1007523,-.2327587,-.6427067,-.7248485,.8050759,.5492936,.3573822,-.8824506],L=x.toFloatVector(null),S=0,U=R.length;S<U;){var V=
S++;L.set(V,R[V])}P.set(6,L);for(var T=Ub._distributions,W=[.8509863,.4452587,-.09507271,.2073005,.1706571,-.6434793,.8029777,-.2718274,-.4401725,.8196304,.2715359,.8598521,-.8121575,-.006447683,-.6486837,-.7237598],X=x.toFloatVector(null),Y=0,Z=W.length;Y<Z;){var aa=Y++;X.set(aa,W[aa])}T.set(7,X);for(var ba=Ub._distributions,ca=[.6951686,-.2680728,-.04933243,.3710589,.6592212,.3661054,-.01579228,-.6909603,-.3275101,-.1756866,.3811549,.9218544,-.216032,.9755028,-.7065172,.3355389,-.6579109,-.6798355],
ea=x.toFloatVector(null),da=0,fa=ca.length;da<fa;){var ga=da++;ea.set(ga,ca[ga])}ba.set(8,ea);for(var ka=Ub._distributions,la=[.6181276,-.09790418,-.2537868,-.5570995,-.1964931,.3459414,.3474613,-.8885581,.5135743,.5753114,-.9549091,.1480672,-.8711916,-.4293123,-.6928071,.6190156,-.13369,.8892705,.0548224,-.1246777],ha=x.toFloatVector(null),ia=0,ja=la.length;ia<ja;){var ma=ia++;ha.set(ma,la[ma])}ka.set(9,ha);for(var na=Ub._distributions,oa=[.4853027,-.5080479,-.1331675,-.506597,.139575,.01316885,
.803486,-.07568797,.5240274,.4883182,-.4334005,.1207938,-.7794577,-.3985141,.1576432,-.9861221,-.3712867,.6959021,.1517378,.9847429,-.9762396,.1661073],pa=x.toFloatVector(null),sa=0,qa=oa.length;sa<qa;){var ra=sa++;pa.set(ra,oa[ra])}na.set(10,pa);for(var ua=Ub._distributions,ta=[-.2790166,-.01252619,.3389016,.3921154,.2408341,-.313211,-.8151779,-.3898362,-.6347761,.3486495,.09471484,-.7722448,-.1385674,.6364574,.2456331,.9295807,-.3864306,-.8247881,.6111673,-.7164014,.8287669,.05466961,.837706,.5415626],
va=x.toFloatVector(null),wa=0,xa=ta.length;wa<xa;){var ya=wa++;va.set(ya,ta[ya])}ua.set(11,va);for(var Ca=Ub._distributions,Aa=[.056417,.3185693,-.8245888,.1882799,.8575996,.1136829,.1070375,.875332,.4076743,-.06000621,-.4311306,.7239349,.2677574,-.538472,-.08486642,-.2083647,-.888989,-.3906443,-.4768958,-.6664082,.09334993,-.9861541,.808736,-.455949,.5889823,.7660807],za=x.toFloatVector(null),Ba=0,Da=Aa.length;Ba<Da;){var Ea=Ba++;za.set(Ea,Aa[Ea])}Ca.set(12,za);for(var Ga=Ub._distributions,Ha=[-.2681346,
-.3955857,-.1315102,-.8852947,-.5143692,.09551838,.4344836,-.546945,-.8620899,-.3813288,.1650431,.02034803,-.1543657,.3842218,-.828457,.5376903,-.6145,-.7818927,-.2639062,.8784655,.1912684,.9720125,.3135219,.5224229,.7850655,.4592297,.7465045,-.1368916],Ia=x.toFloatVector(null),Ja=0,Ma=Ha.length;Ja<Ma;){var Ka=Ja++;Ia.set(Ka,Ha[Ka])}Ga.set(13,Ia);for(var La=Ub._distributions,Fa=[.4241029,.695281,.150511,-.02304107,-.2482675,.9120338,.8057325,.2622084,-.2445909,.2765962,.8588713,-.1772072,.3117845,
-.4385471,-.3923851,-.3298936,-.1751254,-.7405846,.6926506,-.684163,-.9304563,-.3254691,-.8533293,.1523024,.2510415,-.917345,-.6239773,-.7105472,-.6104624,.6041355],Na=x.toFloatVector(null),Oa=0,Qa=Fa.length;Oa<Qa;){var Pa=Oa++;Na.set(Pa,Fa[Pa])}La.set(14,Na);for(var Za=Ub._distributions,Sa=[.5844554,.06651045,.1343258,.6756578,.3799674,-.6301104,.5590436,.7940555,.09574714,.02262517,.8697868,.393301,.003945862,-.421735,.9043913,-.2432393,-.4844007,.7190998,-.3201078,.2972371,-.3852352,-.6341155,
-.5413069,-.09223081,-.8468984,-.5126905,.004156174,-.8633173,-.9681889,-.03305046,-.846509,.4414353],Wa=x.toFloatVector(null),Xa=0,ab=Sa.length;Xa<ab;){var Ta=Xa++;Wa.set(Ta,Sa[Ta])}Za.set(15,Wa);for(var bb=Ub._distributions,Ra=[.4506488,.657668,.4621297,.07441051,-.2782125,.6201044,.9750003,.09110117,.1019436,.2986514,.03457398,.9631706,.542098,-.5505635,.8675668,.4938077,-.5414361,.2655292,-.7941836,.6003053,-.09847672,-.1001604,-.9316511,-.08572888,.07286467,-.611899,-.5232627,-.4082253,-.5481608,
-.827938,-.1551939,-.9621193,.9220031,-.3315949],Ua=x.toFloatVector(null),Ya=0,cb=Ra.length;Ya<cb;){var $a=Ya++;Ua.set($a,Ra[$a])}bb.set(16,Ua);for(var Va=Ub._distributions,db=[.197908,-.4697656,-.4474689,-.3428435,.8529873,-.2228634,.6022478,-.5469642,.2545276,-.931133,-.1507547,-.7855865,-.07606658,.1011628,.3046715,.2785755,.4698432,-.1064076,.6831254,.4152522,.1374381,.8363233,-.2166121,.6682042,.5511393,.7996449,-.4278994,.28836,-.8875198,.2181732,-.8772842,-.2818254,-.7000262,.5762185,-.6062385,
-.7439126],gb=x.toFloatVector(null),fb=0,ib=db.length;fb<ib;){var eb=fb++;gb.set(eb,db[eb])}Va.set(17,gb);for(var jb=Ub._distributions,kb=[.6645703,-.05678739,.5720971,.4533803,-.07660709,.08802763,.5163431,-.4426552,.1163455,-.3404382,-.4004807,-.5046007,.2932099,-.8201418,-.5322125,.03834766,-.1490209,-.8817304,-.8000439,-.3509448,.5260983,.8421043,.1197811,.6963812,.9498612,.3122156,-.9285746,.02120355,-.6670724,.7217396,.9155889,-.3510147,-.271941,.4727852,.318879,.1634057,-.2686755,.9253026],
nb=x.toFloatVector(null),mb=0,pb=kb.length;mb<pb;){var qb=mb++;nb.set(qb,kb[qb])}jb.set(18,nb);for(var tb=Ub._distributions,rb=[.5064292,.422527,.8935515,-.06610427,.1199719,.175568,.403388,-.2003276,.1657927,.8154403,.9301245,.2929218,-.1644068,.6201534,.7113559,-.6589743,-.3364046,-.1799502,.02109996,-.392765,-.382213,.3219992,-.9201946,.1207967,-.726185,.4291916,-.7443482,-.2480059,-.5147594,.7418784,.1935272,-.7406143,-.3643523,-.5559214,-.7147766,-.6326278,-.2524151,-.9096627,.5161405,.7908453],
lb=x.toFloatVector(null),hb=0,sb=rb.length;hb<sb;){var ob=hb++;lb.set(ob,rb[ob])}tb.set(19,lb);for(var ub=Ub._distributions,vb=[.7921003,-.3032096,.5992879,-.009052323,.2538549,-.1872749,.7053444,.3677175,.5417761,-.8170255,.9749611,.1210478,.1969143,-.6117041,-.1824499,-.4634196,-.1181338,-.8668742,-.3050112,-.1352596,-.4409327,-.7082354,-.03225285,.1171548,.3113096,.3250439,-.8166144,-.463995,-.01014475,.4715334,-.6868284,.05091889,-.4011163,.2717285,-.06756835,.8307694,-.7938535,.4352129,-.4663842,
.7165329,.559729,.8093995],xb=x.toFloatVector(null),wb=0,Db=vb.length;wb<Db;){var zb=wb++;xb.set(zb,vb[zb])}ub.set(20,xb);for(var yb=Ub._distributions,Ob=[.07832243,.426151,-.3856795,.5799953,.01970797,.06706189,.4822682,.3014512,-.1532982,.87485,-.4959527,.07888043,.260601,-.2304784,.4996209,.7167382,.585986,-.04265174,-.7679967,.5509416,-.9041753,.1802134,-.8407655,-.4442826,-.2058258,-.2636995,-.4984115,-.5928579,.2926032,-.7886473,-.06933882,-.621177,.578115,-.4813387,.8981777,-.3291056,.1942733,
.9255584,.8084362,.5066984,.9920095,.03103104,-.2403206,-.9389018],Ab=x.toFloatVector(null),Hb=0,Eb=Ob.length;Hb<Eb;){var Bb=Hb++;Ab.set(Bb,Ob[Bb])}yb.set(21,Ab);for(var Ib=Ub._distributions,Lb=[-.5691095,.1014316,-.7788262,.384012,-.8253665,-.1645582,-.1830993,.002997211,-.2555013,-.4177977,-.6640869,-.4794711,-.2351242,.5850121,.02436554,.2825883,.006061143,-.8200245,.1618791,-.3063331,-.3765897,-.7249815,.6092919,-.6769328,-.5956934,.6957655,.5383642,.4522677,-.1489165,.9125596,.4167473,.1335986,
.1898309,.5874342,.2288171,.9624356,.7540846,-.07672304,.8986252,.2788797,.3555991,-.9262139,.8454325,-.4027667,.4945236,-.2935512],Jb=x.toFloatVector(null),Fb=0,Gb=Lb.length;Fb<Gb;){var Nb=Fb++;Jb.set(Nb,Lb[Nb])}Ib.set(22,Jb);for(var Cb=Ub._distributions,Mb=[-.4481403,-.3758374,-.8877251,.08739938,.05015831,-.1339983,-.4070427,-.8534173,.1019274,-.5503222,-.445998,.1997541,-.8686263,-.2788867,-.7695944,-.6033704,-.05515742,-.885711,-.7714347,.5790485,.3466263,-.8799297,.4487582,-.5321087,-.2461368,
.6053771,-.05568117,.2457351,-.4668669,.8523816,.8103387,-.4255538,.4054182,-.175663,-.2802011,-.08920153,.2665959,.382935,.555679,.1621837,.105246,.8420411,.6921161,.6902903,.880946,.2483067,.9699264,-.1021767],Tb=x.toFloatVector(null),Kb=0,Pb=Mb.length;Kb<Pb;){var Qb=Kb++;Tb.set(Qb,Mb[Qb])}Cb.set(23,Tb);for(var Vb=Ub._distributions,Sb=[-.1703323,-.3119385,.2916039,-.2988263,-.008472982,-.9277695,-.7730271,-.3277904,.3440474,-.6815342,-.2910278,.03461745,-.6764899,-.657078,-.3505501,-.7311988,-.03478927,
.3258755,-.6048835,.159423,.2035525,.02212214,.5116573,.2226856,.6664805,-.2500189,.7147882,-.6609634,.03030632,-.5763278,-.2516585,.6116219,-.9434413,-.0116792,.9061816,.2491155,.182867,.6076167,.286593,.9485695,-.5992439,.6970096,-.2082874,.9416641,.9880044,-.1541709,-.9122881,.331555,.7324886,.6725098],Xb=x.toFloatVector(null),cc=0,Yb=Sb.length;cc<Yb;){var Wb=cc++;Xb.set(Wb,Sb[Wb])}Vb.set(24,Xb);for(var Zb=Ub._distributions,ec=[.3869598,-.04974834,.7168844,-.0693711,-.07166742,.1725325,.4599592,
.3232779,.5872094,-.4198674,.2442266,-.625667,.1254557,.4500048,-.2290154,-.1803567,.890583,.3373493,.1256081,.7853789,-.2676466,.5305805,-.7063224,.252168,-.3989835,.1189921,.09617215,-.2451447,.6302541,.6085876,.9380925,-.3234899,.5086241,-.8573482,.03576187,-.9876697,-.0876712,-.6365195,-.5276513,.823456,-.6935764,-.2240411,-.5212318,-.5383121,-.2116208,.9639363,-.9840096,.02743555,-.3991577,-.8994547,-.7830126,.614068],$b=x.toFloatVector(null),fc=0,mc=ec.length;fc<mc;){var hc=fc++;$b.set(hc,ec[hc])}Zb.set(25,
$b);for(var oc=Ub._distributions,bc=[-.8366601,.4464895,-.5917366,-.02073906,-.9845258,.1635625,-.3097973,.4379579,-.5478154,.7173221,-.1685888,.9261969,.01503595,.6046097,.4452421,.5449086,.0315687,.1944619,.3753404,.8688548,.4143643,.1396648,.8711032,.4304703,.7328773,.1461501,.6374492,-.3521495,.145613,-.1341466,.9040975,-.135123,-.7839059,-.5450199,-.516019,-.3320859,-.206158,-.4431106,-.9703014,-.2368356,-.2473119,-.0864351,.2130725,-.4604077,-.003726701,-.7122303,-.4072131,-.6833169,.1632999,
-.9776646,.4686888,-.680495,-.2293511,-.9509777],ac=x.toFloatVector(null),Rb=0,nc=bc.length;Rb<nc;){var jc=Rb++;ac.set(jc,bc[jc])}oc.set(26,ac);for(var pc=Ub._distributions,dc=[.107311,-.1311369,-.4194764,-.3148777,.6171439,-.2745973,.2796618,.1937153,-.09106886,.4180236,.6044006,.05577846,.02927299,-.6738263,-.2580845,.1179939,-.09023564,-.3830024,.3570953,-.5000587,.81591,-.5518309,.9300217,-.1257987,.4904627,-.8381903,-.3163182,-.8632009,.1137595,-.9875998,.8390043,.3538185,.2149114,.4993694,.5191584,
.3833552,.5002763,.7061465,-.2567276,.9068756,-.5197366,.3467845,.03668867,.9734009,-.5347553,.66747,-.9028882,.1023768,-.8967977,.412834,-.5821944,.0426479,-.8032165,-.2397038,-.5597343,-.6358021],lc=x.toFloatVector(null),gc=0,xc=dc.length;gc<xc;){var ic=gc++;lc.set(ic,dc[ic])}pc.set(27,lc);for(var kc=Ub._distributions,wc=[-.6562496,-.1781036,-.9301494,.1185208,-.3861143,-.4153562,-.1560799,-.1099607,-.5587025,.395218,-.5322112,-.699701,-.5008639,.08726846,-.970524,-.1963461,-.813577,-.5185111,-.1644458,
.298,-.3216791,.639982,.3315373,.3339162,.2383235,-.00105722,.1137828,.5450742,-.01899921,.8798413,.2849685,.8255596,.6974412,.2123175,.7588523,.5470437,.5102502,-.1687844,.5853448,.8033476,.2590716,-.5262504,.5607718,-.6342825,.8666443,-.1491841,.8341052,-.4935003,-.1568441,-.6634066,.2512113,-.8769391,-.2559827,-.9572457,-.01928852,-.3966542,-.750667,.6409678],sc=x.toFloatVector(null),zc=0,Ac=wc.length;zc<Ac;){var rc=zc++;sc.set(rc,wc[rc])}kc.set(28,sc);for(var yc=Ub._distributions,Dc=[.3454786,
-.04837726,.2649553,.2406852,.5599093,-.3839145,-.1111814,-.05502108,.7586042,-.05818377,.2519488,-.4665135,-.1264972,.2602723,-.08766216,-.3671907,.6428129,.3999204,-.6105871,-.1246869,-.4589451,-.7646643,-.03021116,-.7899352,-.6036922,-.4293956,-.2481938,.6534185,.102798,.6784465,-.6392644,.4821358,-.6789002,.1779133,-.9140783,-.1989647,-.9262617,.3381507,.4794891,-.8093274,.3959447,.668478,.9602883,.2272305,-.123672,.9210883,.2375148,.9523395,-.52898,.7973378,-.382433,.1228794,.695015,.6948439,
.7530277,-.6458191,.8777987,-.3272956,.2318525,-.962768],uc=x.toFloatVector(null),vc=0,qc=Dc.length;vc<qc;){var Hc=vc++;uc.set(Hc,Dc[Hc])}yc.set(29,uc);for(var Ic=Ub._distributions,Ec=[.4518921,-.1146195,.4720805,-.4238748,.3655423,.1806341,.1589939,-.23568,.7673324,-.5149941,.01163658,.09045836,.7010971,.1245747,.7518286,-.1855433,.4960719,.4601022,.2566979,-.6308268,-.0654714,-.5126389,-.1823319,-.1343282,-.1464312,.4883236,-.3858738,.203523,.1484799,.4432284,-.477109,-.116241,.2719092,.7208626,
.9104174,.3578536,-.5956199,.7662588,-.6996251,.3678654,-.2514512,.9251933,.1275825,-.9478135,-.204608,-.8611552,.4264838,-.877443,.9854161,.05521112,.5912951,.7997434,.1140349,.982093,-.9324368,-.2094094,-.42436,-.6441524,-.6722705,-.3554261,-.7844236,.08587621],tc=x.toFloatVector(null),Bc=0,Jc=Ec.length;Bc<Jc;){var Gc=Bc++;tc.set(Gc,Ec[Gc])}Ic.set(30,tc);for(var Nc=Ub._distributions,Cc=[-.4206714,-.5613642,-.8733016,-.3373051,-.1046226,-.2902999,-.1318562,-.8434365,.1145093,-.5962623,-.4965627,
-.1873259,-.5011808,-.8546229,-.7165636,-.5743566,.1090901,.2017643,.3404809,-.220455,-.1989015,.2372122,-.4538706,.0979171,.4514146,-.572846,.2314168,-.8514503,-.4247236,.5650803,-.943347,.04514639,-.1309718,.5221877,-.7004157,.4561877,.6306441,.04448673,.4301621,.5766876,.1078042,.7245752,.3875354,.2794483,.702876,-.2924213,.7360667,-.6210318,.7486517,.6531103,.4898235,.8591025,.6549174,.3854057,-.2596106,.7916998,.9251194,-.05296265,-.5620695,.820877,-.01228026,.9937211,.9612103,.2628758],Lc=x.toFloatVector(null),
Mc=0,Kc=Cc.length;Mc<Kc;){var Fc=Mc++;Lc.set(Fc,Cc[Fc])}Nc.set(31,Lc)};Ub.getDistribution=function(a){null==Ub._distributions&&Ub.initDistributions();return 2>a||32<a?null:Ub._distributions.get(a-1)};var Re=function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;this.w=d};m["away3d.core.math.Quaternion"]=Re;Re.__name__=["away3d","core","math","Quaternion"];Re.prototype={x:null,y:null,z:null,w:null,get_magnitude:function(){return Math.sqrt(this.w*this.w+
this.x*this.x+this.y*this.y+this.z*this.z)},multiply:function(a,b){var c=a.w,d=a.x,e=a.y,f=a.z,k=b.w,p=b.x,w=b.y,h=b.z;this.w=c*k-d*p-e*w-f*h;this.x=c*p+d*k+e*h-f*w;this.y=c*w-d*h+e*k+f*p;this.z=c*h+d*w-e*p+f*k},multiplyVector:function(a,b){null==b&&(b=new Re);var c=a.x,d=a.y,e=a.z;b.w=-this.x*c-this.y*d-this.z*e;b.x=this.w*c+this.y*e-this.z*d;b.y=this.w*d-this.x*e+this.z*c;b.z=this.w*e+this.x*d-this.y*c;return b},fromAxisAngle:function(a,b){var c=Math.sin(b/2),d=Math.cos(b/2);this.x=a.x*c;this.y=
a.y*c;this.z=a.z*c;this.w=d;this.normalize()},slerp:function(a,b,c){var d=a.w,e=a.x,f=a.y;a=a.z;var k=b.w,p=b.x,w=b.y;b=b.z;var h=d*k+e*p+f*w+a*b;0>h&&(h=-h,k=-k,p=-p,w=-w,b=-b);if(.95>h){var n=Math.acos(h),l=1/Math.sin(n),h=Math.sin(n*(1-c))*l;c=Math.sin(n*c)*l;this.w=d*h+k*c;this.x=e*h+p*c;this.y=f*h+w*c;this.z=a*h+b*c}else this.w=d+c*(k-d),this.x=e+c*(p-e),this.y=f+c*(w-f),this.z=a+c*(b-a),d=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z),this.w*=d,this.x*=d,this.y*=d,this.z*=
d},lerp:function(a,b,c){var d=a.w,e=a.x,f=a.y;a=a.z;var k=b.w,p=b.x,w=b.y;b=b.z;0>d*k+e*p+f*w+a*b&&(k=-k,p=-p,w=-w,b=-b);this.w=d+c*(k-d);this.x=e+c*(p-e);this.y=f+c*(w-f);this.z=a+c*(b-a);c=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);this.w*=c;this.x*=c;this.y*=c;this.z*=c},fromEulerAngles:function(a,b,c){a*=.5;var d=.5*b;b=.5*c;c=Math.cos(a);a=Math.sin(a);var e=Math.cos(d),d=Math.sin(d),f=Math.cos(b);b=Math.sin(b);this.w=c*e*f+a*d*b;this.x=a*e*f-c*d*b;this.y=c*d*f+a*e*b;
this.z=c*e*b-a*d*f},toEulerAngles:function(a){null==a&&(a=new C);a.x=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y));a.y=Math.asin(2*(this.w*this.y-this.z*this.x));a.z=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return a},normalize:function(a){null==a&&(a=1);a/=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);this.x*=a;this.y*=a;this.z*=a;this.w*=a},toString:function(){return"{x:"+this.x+" y:"+this.y+" z:"+this.z+" w:"+
this.w+"}"},toMatrix3D:function(a){var b=Ja.RAW_DATA_CONTAINER,c=2*this.x*this.y,d=2*this.x*this.z,e=2*this.x*this.w,f=2*this.y*this.z,k=2*this.y*this.w,p=2*this.z*this.w,w=this.x*this.x,h=this.y*this.y,n=this.z*this.z,l=this.w*this.w;b.set(0,w-h-n+l);b.set(4,c-p);b.set(8,d+k);b.set(12,0);b.set(1,c+p);b.set(5,-w+h-n+l);b.set(9,f-e);b.set(13,0);b.set(2,d-k);b.set(6,f+e);b.set(10,-w-h+n+l);b.set(14,0);b.set(3,0);b.set(7,0);b.set(11,0);b.set(15,1);if(null==a)return new Xa(b);a.copyRawDataFrom(b);return a},
fromMatrix:function(a){a=a.decompose(2).get(1);this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w},toRawData:function(a,b){null==b&&(b=!1);var c=2*this.x*this.y,d=2*this.x*this.z,e=2*this.x*this.w,f=2*this.y*this.z,k=2*this.y*this.w,p=2*this.z*this.w,w=this.x*this.x,h=this.y*this.y,n=this.z*this.z,l=this.w*this.w;a.set(0,w-h-n+l);a.set(1,c-p);a.set(2,d+k);a.set(4,c+p);a.set(5,-w+h-n+l);a.set(6,f-e);a.set(8,d-k);a.set(9,f+e);a.set(10,-w-h+n+l);a.set(3,a.set(7,a.set(11,0)));b||(a.set(12,a.set(13,a.set(14,
0))),a.set(15,1))},clone:function(){return new Re(this.x,this.y,this.z,this.w)},rotatePoint:function(a,b){var c,d,e,f;e=a.x;var k=a.y,p=a.z;null==b&&(b=new C);f=-this.x*e-this.y*k-this.z*p;c=this.w*e+this.y*p-this.z*k;d=this.w*k-this.x*p+this.z*e;e=this.w*p+this.x*k-this.y*e;b.x=-f*this.x+c*this.w-d*this.z+e*this.y;b.y=-f*this.y+c*this.z+d*this.w-e*this.x;b.z=-f*this.z-c*this.y+d*this.x+e*this.w;return b},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w},__class__:Re,__properties__:{get_magnitude:"get_magnitude"}};
var Tf=function(){this._childNodes=x.toObjectVector(null);this._numChildNodes=this._collectionMark=this._numEntities=0};m["away3d.core.partition.NodeBase"]=Tf;Tf.__name__=["away3d","core","partition","NodeBase"];Tf.prototype={_parent:null,_childNodes:null,_numChildNodes:null,_debugPrimitive:null,_numEntities:null,_collectionMark:null,get_showDebugBounds:function(){return null!=this._debugPrimitive},set_showDebugBounds:function(a){if(null!=this._debugPrimitive==a)return a;a?this._debugPrimitive=this.createDebugBounds():
(this._debugPrimitive.dispose(),this._debugPrimitive=null);for(var b=0,c=this._numChildNodes;b<c;){var d=b++;this._childNodes.get(d).set_showDebugBounds(a)}return a},get_parent:function(){return this._parent},addNode:function(a){a._parent=this;this._numEntities+=a._numEntities;this._childNodes.set(this._numChildNodes++,a);a.set_showDebugBounds(null!=this._debugPrimitive);var b=a._numEntities;for(a=this;a._numEntities+=b,a=a._parent,null!=a;);},removeNode:function(a){var b=this._childNodes.indexOf(a,
0);this._childNodes.set(b,this._childNodes.get(--this._numChildNodes));this._childNodes.pop();b=a._numEntities;for(a=this;a._numEntities-=b,a=a._parent,null!=a;);},isInFrustum:function(a,b){return!0},isIntersectingRay:function(a,b){return!0},findPartitionForEntity:function(a){return this},acceptTraverser:function(a){if((0!=this._numEntities||null!=this._debugPrimitive)&&a.enterNode(this)){for(var b=0;b<this._numChildNodes;)this._childNodes.get(b++).acceptTraverser(a);null!=this._debugPrimitive&&a.applyRenderable(this._debugPrimitive)}},
createDebugBounds:function(){return null},get_numEntities:function(){return this._numEntities},updateNumEntities:function(a){a-=this._numEntities;for(var b=this;b._numEntities+=a,b=b._parent,null!=b;);},__class__:Tf,__properties__:{get_numEntities:"get_numEntities",get_parent:"get_parent",set_showDebugBounds:"set_showDebugBounds",get_showDebugBounds:"get_showDebugBounds"}};var Kb=function(a){Tf.call(this);this._entity=a;this._numEntities=1};m["away3d.core.partition.EntityNode"]=Kb;Kb.__name__=["away3d",
"core","partition","EntityNode"];Kb.__super__=Tf;Kb.prototype=z(Tf.prototype,{_entity:null,_updateQueueNext:null,get_entity:function(){return this._entity},acceptTraverser:function(a){a.applyEntity(this._entity)},removeFromParent:function(){null!=this._parent&&this._parent.removeNode(this);this._parent=null},isInFrustum:function(a,b){return this._entity.get_isVisible()?this._entity.get_worldBounds().isInFrustum(a,b):!1},isIntersectingRay:function(a,b){return this._entity.get_isVisible()?this._entity.isIntersectingRay(a,
b):!1},__class__:Kb,__properties__:z(Tf.prototype.__properties__,{get_entity:"get_entity"})});var Lm=function(a){Kb.call(this,a)};m["away3d.core.partition.CameraNode"]=Lm;Lm.__name__=["away3d","core","partition","CameraNode"];Lm.__super__=Kb;Lm.prototype=z(Kb.prototype,{acceptTraverser:function(a){},__class__:Lm});var Nm=function(a){Kb.call(this,a);this._light=a};m["away3d.core.partition.DirectionalLightNode"]=Nm;Nm.__name__=["away3d","core","partition","DirectionalLightNode"];Nm.__super__=Kb;Nm.prototype=
z(Kb.prototype,{_light:null,get_light:function(){return this._light},acceptTraverser:function(a){a.enterNode(this)&&(Kb.prototype.acceptTraverser.call(this,a),a.applyDirectionalLight(this._light))},__class__:Nm,__properties__:z(Kb.prototype.__properties__,{get_light:"get_light"})});var Om=function(a){Kb.call(this,a);this._light=a};m["away3d.core.partition.LightNode"]=Om;Om.__name__=["away3d","core","partition","LightNode"];Om.__super__=Kb;Om.prototype=z(Kb.prototype,{_light:null,get_light:function(){return this._light},
acceptTraverser:function(a){a.enterNode(this)&&(Kb.prototype.acceptTraverser.call(this,a),a.applyUnknownLight(this._light))},__class__:Om,__properties__:z(Kb.prototype.__properties__,{get_light:"get_light"})});var Pm=function(a){Kb.call(this,a);this._light=a};m["away3d.core.partition.LightProbeNode"]=Pm;Pm.__name__=["away3d","core","partition","LightProbeNode"];Pm.__super__=Kb;Pm.prototype=z(Kb.prototype,{_light:null,get_light:function(){return this._light},acceptTraverser:function(a){a.enterNode(this)&&
(Kb.prototype.acceptTraverser.call(this,a),a.applyLightProbe(this._light))},__class__:Pm,__properties__:z(Kb.prototype.__properties__,{get_light:"get_light"})});var Qm=function(a){Kb.call(this,a);this._mesh=a};m["away3d.core.partition.MeshNode"]=Qm;Qm.__name__=["away3d","core","partition","MeshNode"];Qm.__super__=Kb;Qm.prototype=z(Kb.prototype,{_mesh:null,get_mesh:function(){return this._mesh},acceptTraverser:function(a){if(a.enterNode(this)){Kb.prototype.acceptTraverser.call(this,a);for(var b=this._mesh.get_subMeshes(),
c=0,d=b.get_length();c<d;)a.applyRenderable(b.get(c++))}},__class__:Qm,__properties__:z(Kb.prototype.__properties__,{get_mesh:"get_mesh"})});var Rm=function(){Tf.call(this)};m["away3d.core.partition.NullNode"]=Rm;Rm.__name__=["away3d","core","partition","NullNode"];Rm.__super__=Tf;Rm.prototype=z(Tf.prototype,{__class__:Rm});var bq=function(a){this._rootNode=a;null==a&&(this._rootNode=new Rm)};m["away3d.core.partition.Partition3D"]=bq;bq.__name__=["away3d","core","partition","Partition3D"];bq.prototype=
{_rootNode:null,_updatesMade:null,_updateQueue:null,get_showDebugBounds:function(){return this._rootNode.get_showDebugBounds()},set_showDebugBounds:function(a){this._rootNode.set_showDebugBounds(a);return a},traverse:function(a){this._updatesMade&&this.updateEntities();++Fg._collectionMark;this._rootNode.acceptTraverser(a)},markForUpdate:function(a){a=a.getEntityPartitionNode();for(var b=this._updateQueue;null!=b;){if(a==b)return;b=b._updateQueueNext}a._updateQueueNext=this._updateQueue;this._updateQueue=
a;this._updatesMade=!0},removeEntity:function(a){a=a.getEntityPartitionNode();var b;a.removeFromParent();if(a==this._updateQueue)this._updateQueue=a._updateQueueNext;else{for(b=this._updateQueue;null!=b&&b._updateQueueNext!=a;)b=b._updateQueueNext;null!=b&&(b._updateQueueNext=a._updateQueueNext)}a._updateQueueNext=null;null==this._updateQueue&&(this._updatesMade=!1)},updateEntities:function(){var a=this._updateQueue,b;this._updateQueue=null;for(this._updatesMade=!1;b=this._rootNode.findPartitionForEntity(a.get_entity()),
a.get_parent()!=b&&(null!=a&&a.removeFromParent(),b.addNode(a)),b=a._updateQueueNext,a._updateQueueNext=null,a.get_entity().internalUpdate(),a=b,null!=a;);},__class__:bq,__properties__:{set_showDebugBounds:"set_showDebugBounds",get_showDebugBounds:"get_showDebugBounds"}};var Sm=function(a){Kb.call(this,a);this._light=a};m["away3d.core.partition.PointLightNode"]=Sm;Sm.__name__=["away3d","core","partition","PointLightNode"];Sm.__super__=Kb;Sm.prototype=z(Kb.prototype,{_light:null,get_light:function(){return this._light},
acceptTraverser:function(a){a.enterNode(this)&&(Kb.prototype.acceptTraverser.call(this,a),a.applyPointLight(this._light))},__class__:Sm,__properties__:z(Kb.prototype.__properties__,{get_light:"get_light"})});var Tm=function(a){Kb.call(this,y.__cast(a,zc));this._renderable=a};m["away3d.core.partition.RenderableNode"]=Tm;Tm.__name__=["away3d","core","partition","RenderableNode"];Tm.__super__=Kb;Tm.prototype=z(Kb.prototype,{_renderable:null,acceptTraverser:function(a){a.enterNode(this)&&(Kb.prototype.acceptTraverser.call(this,
a),a.applyRenderable(this._renderable))},__class__:Tm});var Um=function(a){Kb.call(this,a);this._skyBox=a};m["away3d.core.partition.SkyBoxNode"]=Um;Um.__name__=["away3d","core","partition","SkyBoxNode"];Um.__super__=Kb;Um.prototype=z(Kb.prototype,{_skyBox:null,acceptTraverser:function(a){a.enterNode(this)&&(Kb.prototype.acceptTraverser.call(this,a),a.applySkyBox(this._skyBox))},isInFrustum:function(a,b){return!0},__class__:Um});var Vm=function(){};m["away3d.core.pick.IPicker"]=Vm;Vm.__name__=["away3d",
"core","pick","IPicker"];Vm.prototype={get_onlyMouseEnabled:null,set_onlyMouseEnabled:null,getViewCollision:null,getSceneCollision:null,dispose:null,__class__:Vm,__properties__:{set_onlyMouseEnabled:"set_onlyMouseEnabled",get_onlyMouseEnabled:"get_onlyMouseEnabled"}};var rs=function(){};m["away3d.core.pick.IPickingCollider"]=rs;rs.__name__=["away3d","core","pick","IPickingCollider"];rs.prototype={setLocalRay:null,testSubMeshCollision:null,__class__:rs};var aq=function(a){this.entity=a};m["away3d.core.pick.PickingCollisionVO"]=
aq;aq.__name__=["away3d","core","pick","PickingCollisionVO"];aq.prototype={entity:null,localPosition:null,localNormal:null,uv:null,index:null,subGeometryIndex:null,localRayPosition:null,localRayDirection:null,rayPosition:null,rayDirection:null,rayOriginIsInsideBounds:null,rayEntryDistance:null,renderable:null,__class__:aq};var Gg=function(a){this._onlyMouseEnabled=!0;this._ignoredEntities=[];this._raycastCollector=new Wm;this._findClosestCollision=a;this._entities=x.toObjectVector(null)};m["away3d.core.pick.RaycastPicker"]=
Gg;Gg.__name__=["away3d","core","pick","RaycastPicker"];Gg.__interfaces__=[Vm];Gg.prototype={_findClosestCollision:null,_raycastCollector:null,_ignoredEntities:null,_onlyMouseEnabled:null,_entities:null,_numEntities:null,_hasCollisions:null,get_onlyMouseEnabled:function(){return this._onlyMouseEnabled},set_onlyMouseEnabled:function(a){return this._onlyMouseEnabled=a},getViewCollision:function(a,b,c){var d=c.get_entityCollector();if(0==d.get_numMouseEnableds())return null;var e=c.unproject(a,b,0,Gg.tempRayPosition);
a=c.unproject(a,b,1,Gg.tempRayDirection);a.x-=e.x;a.y-=e.y;a.z-=e.z;this._numEntities=0;for(d=d.get_entityHead();null!=d;)b=d.entity,this.isIgnored(b)||b.get_isVisible()&&b.isIntersectingRay(e,a)&&this._entities.set(this._numEntities++,b),d=d.next;return 0==this._numEntities?null:this.getPickingCollisionVO()},getSceneCollision:function(a,b,c){this._raycastCollector.clear();this._raycastCollector.set_rayPosition(a);this._raycastCollector.set_rayDirection(b);c.traversePartitions(this._raycastCollector);
this._numEntities=0;for(a=this._raycastCollector.get_entityHead();null!=a;)b=a.entity,this.isIgnored(b)||this._entities.set(this._numEntities++,b),a=a.next;return 0==this._numEntities?null:this.getPickingCollisionVO()},getEntityCollision:function(a,b,c){for(var d=this._numEntities=0;d<c.length;){var e=c[d];++d;e.isIntersectingRay(a,b)&&this._entities.set(this._numEntities++,e)}return this.getPickingCollisionVO()},setIgnoreList:function(a){this._ignoredEntities=a},isIgnored:function(a){if(this._onlyMouseEnabled&&
(!a._ancestorsAllowMouseEnabled||!a.get_mouseEnabled()))return!0;for(var b=0,c=this._ignoredEntities;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},sortOnNearT:function(a,b){return a.get_pickingCollisionVO().rayEntryDistance>b.get_pickingCollisionVO().rayEntryDistance?1:-1},getPickingCollisionVO:function(){this._entities.set_length(this._numEntities);this._entities.sort(u(this,this.sortOnNearT));for(var a=Infinity,b=null,c,d,e=0,f=this._numEntities;e<f;)if(c=e++,d=this._entities.get(c),c=
d._pickingCollisionVO,null!=d.get_pickingCollider()){if((null==b||c.rayEntryDistance<b.rayEntryDistance)&&d.collidesBefore(a,this._findClosestCollision)&&(a=c.rayEntryDistance,b=c,!this._findClosestCollision))return this.updateLocalPosition(c),c}else if((null==b||c.rayEntryDistance<b.rayEntryDistance)&&!c.rayOriginIsInsideBounds)return this.updateLocalPosition(c),c;return b},updateLocalPosition:function(a){null==a.localPosition&&(a.localPosition=new C);var b=a.localPosition,c=a.localRayDirection,
d=a.localRayPosition;a=a.rayEntryDistance;b.x=d.x+a*c.x;b.y=d.y+a*c.y;b.z=d.z+a*c.z},dispose:function(){},__class__:Gg,__properties__:{set_onlyMouseEnabled:"set_onlyMouseEnabled",get_onlyMouseEnabled:"get_onlyMouseEnabled"}};var kq=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=new Bd};m["lime.utils.ObjectPool_openfl_geom_Rectangle"]=
kq;kq.__name__=["lime","utils","ObjectPool_openfl_geom_Rectangle"];kq.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,add:function(a){this.__pool.exists(a)||(this.__pool.set(a,!1),this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++)},clean:function(a){},clear:function(){this.__pool=
new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)a=null,null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),
0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=
a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__addInactive:function(a){null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a);this.inactiveObjects++},__getInactive:function(){var a=null;null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),
0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop()));this.inactiveObjects--;this.activeObjects++;return a},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),
this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item,b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<
d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:kq,__properties__:{set_size:"set_size",get_size:"get_size"}};var ya=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};m["openfl.geom.Rectangle"]=ya;ya.__name__=["openfl","geom","Rectangle"];ya.prototype={height:null,width:null,x:null,y:null,clone:function(){return new ya(this.x,this.y,
this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()?b<this.get_bottom():!1},containsPoint:function(a){return this.contains(a.x,a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()?a.get_bottom()<this.get_bottom():!1:a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()?a.get_bottom()<=this.get_bottom():!1},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},
equals:function(a){return a==this?!0:null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},inflate:function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b},inflatePoint:function(a){this.inflate(a.x,a.y)},intersection:function(a){var b=this.x<a.x?a.x:this.x,c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new ya;var d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new ya:new ya(b,
d,c-b,a-d)},intersects:function(a){var b=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=b)return!1;b=this.y<a.y?a.y:this.y;return(this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom())>b},isEmpty:function(){return 0>=this.width?!0:0>=this.height},offset:function(a,b){this.x+=a;this.y+=b},offsetPoint:function(a){this.x+=a.x;this.y+=a.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=
c;this.height=d},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(a){if(0==this.width||0==this.height)return a.clone();if(0==a.width||0==a.height)return this.clone();var b=this.x>a.x?a.x:this.x,c=this.get_right()<a.get_right()?a.get_right():this.get_right(),d=this.y>a.y?a.y:this.y;a=this.get_bottom()<a.get_bottom()?a.get_bottom():this.get_bottom();return new ya(b,d,c-b,a-d)},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height){var e=
0,f=0,k=0,p=0;this.x<a&&(e=a-this.x);this.y<b&&(f=b-this.y);this.get_right()>a+c&&(k=a+c-this.get_right());this.get_bottom()>b+d&&(p=b+d-this.get_bottom());this.x+=e;this.y+=f;this.width+=k-e;this.height+=p-f}},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},
__toLimeRectangle:function(){null==ya.__limeRectangle&&(ya.__limeRectangle=new ld);ya.__limeRectangle.setTo(this.x,this.y,this.width,this.height);return ya.__limeRectangle},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,k=b.a*(this.x+this.width)+b.c*this.y,p=b.b*(this.x+this.width)+b.d*this.y;k<c&&(c=k);p<e&&(e=p);k>d&&(d=k);p>f&&(f=p);k=b.a*(this.x+this.width)+b.c*(this.y+this.height);p=b.b*(this.x+this.width)+b.d*(this.y+this.height);k<c&&(c=k);p<e&&(e=p);
k>d&&(d=k);p>f&&(f=p);k=b.a*this.x+b.c*(this.y+this.height);p=b.b*this.x+b.d*(this.y+this.height);k<c&&(c=k);p<e&&(e=p);k>d&&(d=k);p>f&&(f=p);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_bottomRight:function(){return new Pa(this.x+this.width,this.y+this.height)},set_bottomRight:function(a){this.width=a.x-this.x;this.height=a.y-this.y;return a.clone()},get_left:function(){return this.x},set_left:function(a){this.width-=
a-this.x;return this.x=a},get_right:function(){return this.x+this.width},set_right:function(a){this.width=a-this.x;return a},get_size:function(){return new Pa(this.width,this.height)},set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},get_topLeft:function(){return new Pa(this.x,this.y)},set_topLeft:function(a){this.x=a.x;this.y=a.y;return a.clone()},__class__:ya,__properties__:{set_topLeft:"set_topLeft",
get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Uh=function(){this._rayDir=new C;this._rayPos=new C;this._localHitNormal=new C;this._hitUV=new Pa;this._localHitPosition=new C;this._interactives=x.toObjectVector(null);this._onlyMouseEnabled=!0;
this._id=x.toFloatVector(null,4,!0);this._viewportData=x.toFloatVector(null,4,!0);this._boundOffsetScale=x.toFloatVector(null,8,!0);this._boundOffsetScale.set(3,0);this._boundOffsetScale.set(7,1)};m["away3d.core.pick.ShaderPicker"]=Uh;Uh.__name__=["away3d","core","pick","ShaderPicker"];Uh.__interfaces__=[Vm];Uh.prototype={_stage3DProxy:null,_context:null,_onlyMouseEnabled:null,_objectProgram3D:null,_triangleProgram3D:null,_bitmapData:null,_viewportData:null,_boundOffsetScale:null,_id:null,_interactives:null,
_interactiveId:null,_hitColor:null,_projX:null,_projY:null,_hitRenderable:null,_hitEntity:null,_localHitPosition:null,_hitUV:null,_faceIndex:null,_subGeometryIndex:null,_localHitNormal:null,_rayPos:null,_rayDir:null,_potentialFound:null,get_onlyMouseEnabled:function(){return this._onlyMouseEnabled},set_onlyMouseEnabled:function(a){return this._onlyMouseEnabled=a},getViewCollision:function(a,b,c){var d=c.get_entityCollector();this._stage3DProxy=c.get_stage3DProxy();if(null==this._stage3DProxy)return null;
this._context=this._stage3DProxy._context3D;this._viewportData.set(0,c.get_width());this._viewportData.set(1,c.get_height());this._viewportData.set(2,-(this._projX=2*a/c.get_width()-1));this._viewportData.set(3,this._projY=2*b/c.get_height()-1);this._potentialFound=!1;this.draw(d,null);this._context.setVertexBufferAt(0,null);if(null==this._context||!this._potentialFound)return null;null==this._bitmapData&&(this._bitmapData=new Ha(1,1,!1,0));this._context.drawToBitmapData(this._bitmapData);this._hitColor=
this._bitmapData.getPixel(0,0);if(0==this._hitColor)return this._context.present(),null;this._hitRenderable=this._interactives.get(this._hitColor-1);this._hitEntity=this._hitRenderable.get_sourceEntity();if(this._onlyMouseEnabled&&(!this._hitEntity._ancestorsAllowMouseEnabled||!this._hitEntity.get_mouseEnabled()))return null;a=this._hitEntity.get_pickingCollisionVO();this._hitRenderable.get_shaderPickingDetails()?(this.getHitDetails(c.get_camera()),a.localPosition=this._localHitPosition,a.localNormal=
this._localHitNormal,a.uv=this._hitUV,a.index=this._faceIndex,a.subGeometryIndex=this._subGeometryIndex):(a.localPosition=null,a.localNormal=null,a.uv=null,a.index=0,a.subGeometryIndex=0);return a},getSceneCollision:function(a,b,c){return null},draw:function(a,b){var c=a.get_camera();this._context.clear(0,0,0,1);this._stage3DProxy.set_scissorRect(Uh.MOUSE_SCISSOR_RECT);this._interactives.set_length(this._interactiveId=0);null==this._objectProgram3D&&this.initObjectProgram3D();this._context.setBlendFactors(2,
9);this._context.setDepthTest(!0,4);this._context.setProgram(this._objectProgram3D);this._context.setProgramConstantsFromVector(1,4,this._viewportData,1);this.drawRenderables(a.get_opaqueRenderableHead(),c);this.drawRenderables(a.get_blendedRenderableHead(),c)},drawRenderables:function(a,b){for(var c=Ja.CALCULATION_MATRIX,d,e=b.get_viewProjection();null!=a;)d=a.renderable,null==d.get_sourceEntity().get_scene()||!d.get_mouseEnabled()&&this._onlyMouseEnabled||(this._potentialFound=!0,this._context.setCulling(null!=
d.get_material()&&d.get_material().get_bothSides()?3:0),this._interactives.set(this._interactiveId++,d),this._id.set(1,(this._interactiveId>>8)/255),this._id.set(2,(this._interactiveId&255)/255),c.copyFrom(d.getRenderSceneTransform(b)),c.append(e),this._context.setProgramConstantsFromMatrix(1,0,c,!0),this._context.setProgramConstantsFromVector(0,0,this._id,1),d.activateVertexBuffer(0,this._stage3DProxy),this._stage3DProxy.drawTriangles(d.getIndexBuffer(this._stage3DProxy),0,d.get_numTriangles())),
a=a.next},updateRay:function(a){this._rayPos=a.get_scenePosition();this._rayDir=a.getRay(this._projX,this._projY,1);this._rayDir.normalize()},initObjectProgram3D:function(){this._objectProgram3D=this._context.createProgram();this._objectProgram3D.upload((new W).assemble(Se.toString(1),"m44 vt0, va0, vc0\t\t\t\nmul vt1.xy, vt0.w, vc4.zw\t\nadd vt0.xy, vt0.xy, vt1.xy\t\nmul vt0.xy, vt0.xy, vc4.xy\t\nmov op, vt0\t\n"),(new W).assemble(Se.toString(0),"mov oc, fc0"))},initTriangleProgram3D:function(){this._triangleProgram3D=
this._context.createProgram();this._triangleProgram3D.upload((new W).assemble(Se.toString(1),"add vt0, va0, vc5 \t\t\t\nmul vt0, vt0, vc6 \t\t\t\nmov v0, vt0\t\t\t\t\nm44 vt0, va0, vc0\t\t\t\nmul vt1.xy, vt0.w, vc4.zw\t\nadd vt0.xy, vt0.xy, vt1.xy\t\nmul vt0.xy, vt0.xy, vc4.xy\t\nmov op, vt0\t\n"),(new W).assemble(Se.toString(0),"mov oc, v0"))},getHitDetails:function(a){this.getApproximatePosition(a);this.getPreciseDetails(a)},getApproximatePosition:function(a){var b=this._hitRenderable.get_sourceEntity(),
c,d,e,f,k;c=Ja.CALCULATION_MATRIX;c.copyFrom(this._hitRenderable.getRenderSceneTransform(a));c.append(a.get_viewProjection());null==this._triangleProgram3D&&this.initTriangleProgram3D();d=this._boundOffsetScale;a=b.get_maxX()-b.get_minX();d.set(4,1/a);e=this._boundOffsetScale;d=b.get_maxY()-b.get_minY();e.set(5,1/d);f=this._boundOffsetScale;e=b.get_maxZ()-b.get_minZ();f.set(6,1/e);k=this._boundOffsetScale;f=-b.get_minX();k.set(0,f);var p=this._boundOffsetScale;k=-b.get_minY();p.set(1,k);p=this._boundOffsetScale;
b=-b.get_minZ();p.set(2,b);this._context.setProgram(this._triangleProgram3D);this._context.clear(0,0,0,0,1,0,2);this._context.setScissorRectangle(Uh.MOUSE_SCISSOR_RECT);this._context.setProgramConstantsFromMatrix(1,0,c,!0);this._context.setProgramConstantsFromVector(1,5,this._boundOffsetScale,2);this._hitRenderable.activateVertexBuffer(0,this._stage3DProxy);this._stage3DProxy.drawTriangles(this._hitRenderable.getIndexBuffer(this._stage3DProxy),0,this._hitRenderable.get_numTriangles());this._context.drawToBitmapData(this._bitmapData);
c=this._bitmapData.getPixel(0,0);this._localHitPosition.x=(c>>16&255)*a/255-f;this._localHitPosition.y=(c>>8&255)*d/255-k;this._localHitPosition.z=(c&255)*e/255-b},getPreciseDetails:function(a){var b=y.__cast(this._hitRenderable,Pf).get_subGeometry(),c=b.get_indexData(),d=b.get_vertexData(),e=c.get_length(),f,k,p,w,h,n,l,g=0,m=1,r=2,q,t,u,x,v,z,B,A,D,E,F,I,H,G,J=b.get_UVData(),C=b.get_faceNormals(),K=this._localHitPosition.x,M=this._localHitPosition.y,O=this._localHitPosition.z,N=b.get_vertexStride(),
Q=b.get_vertexOffset();for(this.updateRay(a);g<e;){b=Q+c.get(g)*N;q=Q+c.get(m)*N;t=Q+c.get(r)*N;f=d.get(b);a=d.get(b+1);b=d.get(b+2);k=d.get(q);p=d.get(q+1);w=d.get(q+2);h=d.get(t);n=d.get(t+1);l=d.get(t+2);if(!(K<f&&K<k&&K<h||M<a&&M<p&&M<n||O<b&&O<w&&O<l||K>f&&K>k&&K>h||M>a&&M>p&&M>n||O>b&&O>w&&O>l)&&(t=h-f,q=n-a,u=l-b,x=k-f,v=p-a,z=w-b,B=K-f,A=M-a,D=O-b,E=t*t+q*q+u*u,F=t*x+q*v+u*z,I=t*B+q*A+u*D,H=x*x+v*v+z*z,A=x*B+v*A+z*D,G=1/(E*H-F*F),B=(H*I-F*A)*G,A=(E*A-F*I)*G,0<=B&&0<=A&&1>=B+A)){this.getPrecisePosition(this._hitRenderable.get_inverseSceneTransform(),
C.get(g),C.get(g+1),C.get(g+2),f,a,b);B=this._localHitPosition.x-f;A=this._localHitPosition.y-a;D=this._localHitPosition.z-b;d=k-f;e=p-a;C=w-b;f=h-f;a=n-a;b=l-b;this._localHitNormal.x=e*b-C*a;this._localHitNormal.y=C*f-d*b;this._localHitNormal.z=d*a-e*f;a=1/Math.sqrt(this._localHitNormal.x*this._localHitNormal.x+this._localHitNormal.y*this._localHitNormal.y+this._localHitNormal.z*this._localHitNormal.z);this._localHitNormal.x*=a;this._localHitNormal.y*=a;this._localHitNormal.z*=a;I=t*B+q*A+u*D;A=
x*B+v*A+z*D;B=(H*I-F*A)*G;A=(E*A-F*I)*G;a=c.get(g)<<1;m=c.get(m)<<1;c=c.get(r)<<1;b=J.get(a);r=J.get(a+1);a=b+A*(J.get(m)-b);b=B*(J.get(c)-b);this._hitUV.x=a+b;m=r+A*(J.get(m+1)-r);J=B*(J.get(c+1)-r);this._hitUV.y=m+J;this._faceIndex=g;this._subGeometryIndex=Te.getMeshSubMeshIndex(y.__cast(this._hitRenderable,Pf));break}g+=3;m+=3;r+=3}},getPrecisePosition:function(a,b,c,d,e,f,k){var p,w,h,n,l,g=Ja.RAW_DATA_CONTAINER,m=this._rayPos.x,r=this._rayPos.y,q=this._rayPos.z;h=this._rayDir.x;n=this._rayDir.y;
l=this._rayDir.z;a.copyRawDataTo(g);a=g.get(0)*h+g.get(4)*n+g.get(8)*l;p=g.get(1)*h+g.get(5)*n+g.get(9)*l;w=g.get(2)*h+g.get(6)*n+g.get(10)*l;h=g.get(0)*m+g.get(4)*r+g.get(8)*q+g.get(12);n=g.get(1)*m+g.get(5)*r+g.get(9)*q+g.get(13);l=g.get(2)*m+g.get(6)*r+g.get(10)*q+g.get(14);b=((e-h)*b+(f-n)*c+(k-l)*d)/(a*b+p*c+w*d);this._localHitPosition.x=h+a*b;this._localHitPosition.y=n+p*b;this._localHitPosition.z=l+w*b},dispose:function(){this._bitmapData.dispose();null!=this._triangleProgram3D&&this._triangleProgram3D.dispose();
null!=this._objectProgram3D&&this._objectProgram3D.dispose();this._hitEntity=this._hitRenderable=this._bitmapData=this._objectProgram3D=this._triangleProgram3D=null},__class__:Uh,__properties__:{set_onlyMouseEnabled:"set_onlyMouseEnabled",get_onlyMouseEnabled:"get_onlyMouseEnabled"}};var Ak=function(){};m["away3d.core.pick.PickingType"]=Ak;Ak.__name__=["away3d","core","pick","PickingType"];var lq=function(a){this.set_stage3DProxy(a)};m["away3d.core.render.BackgroundImageRenderer"]=lq;lq.__name__=
["away3d","core","render","BackgroundImageRenderer"];lq.prototype={_program3d:null,_texture:null,_indexBuffer:null,_vertexBuffer:null,_stage3DProxy:null,_context:null,get_stage3DProxy:function(){return this._stage3DProxy},set_stage3DProxy:function(a){if(a==this._stage3DProxy)return a;this._stage3DProxy=a;this.removeBuffers();return a},removeBuffers:function(){null!=this._vertexBuffer&&(sb.disposeVertexBuffer(this._vertexBuffer),this._vertexBuffer=null,this._program3d.dispose(),this._program3d=null,
sb.disposeIndexBuffer(this._indexBuffer),this._indexBuffer=null)},getVertexCode:function(){return"mov op, va0\nmov v0, va1"},getFragmentCode:function(){var a;switch(this._texture.get_format()){case 3:a="dxt1,";break;case 4:a="dxt5,";break;default:a=""}return"tex ft0, v0, fs0 <2d, "+a+"linear>\t\nmov oc, ft0"},dispose:function(){this.removeBuffers()},render:function(){var a=this._stage3DProxy.get_context3D();a!=this._context&&(this.removeBuffers(),this._context=a);null!=a&&(null==this._vertexBuffer&&
this.initBuffers(a),a.setBlendFactors(2,9),a.setProgram(this._program3d),a.setTextureAt(0,this._texture.getTextureForStage3D(this._stage3DProxy)),a.setVertexBufferAt(0,this._vertexBuffer,0,2),a.setVertexBufferAt(1,this._vertexBuffer,2,2),a.drawTriangles(this._indexBuffer,0,2),a.setVertexBufferAt(0,null),a.setVertexBufferAt(1,null),a.setTextureAt(0,null))},initBuffers:function(a){this._vertexBuffer=this._stage3DProxy.createVertexBuffer(4,4);this._program3d=a.createProgram();this._indexBuffer=this._stage3DProxy.createIndexBuffer(6);
a=[2,1,0,3,2,0];for(var b=x.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._indexBuffer.uploadFromVector(b,0,6);this._program3d.upload((new W(tb.active)).assemble(Se.toString(1),this.getVertexCode()),(new W(tb.active)).assemble(Se.toString(0),this.getFragmentCode()));c=b=2;d=-1;e=1;null!=this._stage3DProxy.get_scissorRect()&&(d=(2*this._stage3DProxy.get_scissorRect().x-this._stage3DProxy.get_viewPort().width)/this._stage3DProxy.get_viewPort().width,e=(2*this._stage3DProxy.get_scissorRect().y-
this._stage3DProxy.get_viewPort().height)/this._stage3DProxy.get_viewPort().height*-1,b=2/(this._stage3DProxy.get_viewPort().width/this._stage3DProxy.get_scissorRect().width),c=2/(this._stage3DProxy.get_viewPort().height/this._stage3DProxy.get_scissorRect().height));a=this._vertexBuffer;b=[d,e-c,0,1,d+b,e-c,1,1,d+b,e,1,0,d,e,0,0];c=x.toFloatVector(null);d=0;for(e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.uploadFromVector(c,0,4)},get_texture:function(){return this._texture},set_texture:function(a){return this._texture=
a},__class__:lq,__properties__:{set_texture:"set_texture",get_texture:"get_texture",set_stage3DProxy:"set_stage3DProxy",get_stage3DProxy:"get_stage3DProxy"}};var of=function(a){null==a&&(a=!1);this._rttViewProjectionMatrix=new Xa;this._clearOnRender=!0;this._textureRatioX=this._textureRatioY=1;this._shareContext=!1;this._backgroundAlpha=1;this._backgroundR=this._backgroundG=this._backgroundB=0;this._renderableSorter=new Xm;this._renderToTexture=a};m["away3d.core.render.RendererBase"]=of;of.__name__=
["away3d","core","render","RendererBase"];of.prototype={_context:null,_stage3DProxy:null,_backgroundR:null,_backgroundG:null,_backgroundB:null,_backgroundAlpha:null,_shareContext:null,_renderTarget:null,_renderTargetSurface:null,_viewWidth:null,_viewHeight:null,_renderableSorter:null,_backgroundImageRenderer:null,_background:null,_renderToTexture:null,_antiAlias:null,_textureRatioX:null,_textureRatioY:null,_snapshotBitmapData:null,_snapshotRequired:null,_clearOnRender:null,_rttViewProjectionMatrix:null,
createEntityCollector:function(){return new Hg},get_viewWidth:function(){return this._viewWidth},set_viewWidth:function(a){return this._viewWidth=a},get_viewHeight:function(){return this._viewHeight},set_viewHeight:function(a){return this._viewHeight=a},get_renderToTexture:function(){return this._renderToTexture},get_renderableSorter:function(){return this._renderableSorter},set_renderableSorter:function(a){return this._renderableSorter=a},get_clearOnRender:function(){return this._clearOnRender},
set_clearOnRender:function(a){return this._clearOnRender=a},get_backgroundR:function(){return this._backgroundR},set_backgroundR:function(a){return this._backgroundR=a},get_backgroundG:function(){return this._backgroundG},set_backgroundG:function(a){return this._backgroundG=a},get_backgroundB:function(){return this._backgroundB},set_backgroundB:function(a){return this._backgroundB=a},get_stage3DProxy:function(){return this._stage3DProxy},set_stage3DProxy:function(a){if(a==this._stage3DProxy)return a;
if(null==a)return null!=this._stage3DProxy&&(this._stage3DProxy.removeEventListener("Context3DCreated",u(this,this.onContextUpdate)),this._stage3DProxy.removeEventListener("Context3DRecreated",u(this,this.onContextUpdate))),this._context=this._stage3DProxy=null;this._stage3DProxy=a;this._stage3DProxy.addEventListener("Context3DCreated",u(this,this.onContextUpdate));this._stage3DProxy.addEventListener("Context3DRecreated",u(this,this.onContextUpdate));null!=this._backgroundImageRenderer&&this._backgroundImageRenderer.set_stage3DProxy(a);
null!=a.get_context3D()&&(this._context=a.get_context3D());return a},get_shareContext:function(){return this._shareContext},set_shareContext:function(a){return this._shareContext=a},dispose:function(){this.set_stage3DProxy(null);null!=this._backgroundImageRenderer&&(this._backgroundImageRenderer.dispose(),this._backgroundImageRenderer=null)},render:function(a,b,c,d){null==d&&(d=0);if(null!=this._stage3DProxy&&null!=this._context)for(this._rttViewProjectionMatrix.copyFrom(a.get_camera().get_viewProjection()),
this._rttViewProjectionMatrix.appendScale(this._textureRatioX,this._textureRatioY,1),this.executeRender(a,b,c,d),a=0;8>a;)b=a++,this._context.setVertexBufferAt(b,null),this._context.setTextureAt(b,null)},executeRender:function(a,b,c,d){null==d&&(d=0);this._renderTarget=b;this._renderTargetSurface=d;null!=this._renderableSorter&&this._renderableSorter.sort(a);this._renderToTexture&&this.executeRenderToTexturePass(a);this._stage3DProxy.setRenderTarget(b,!0,d);null==b&&this._shareContext||!this._clearOnRender||
this._context.clear(this._backgroundR,this._backgroundG,this._backgroundB,this._backgroundAlpha,1,0);this._context.setDepthTest(!1,0);this._stage3DProxy.set_scissorRect(c);null!=this._backgroundImageRenderer&&this._backgroundImageRenderer.render();this.draw(a,b);this._context.setDepthTest(!1,5);!this._shareContext&&this._snapshotRequired&&null!=this._snapshotBitmapData&&(this._context.drawToBitmapData(this._snapshotBitmapData),this._snapshotRequired=!1);this._stage3DProxy.set_scissorRect(null)},queueSnapshot:function(a){this._snapshotRequired=
!0;this._snapshotBitmapData=a},executeRenderToTexturePass:function(a){throw new H(new bb);},draw:function(a,b){throw new H(new bb);},onContextUpdate:function(a){this._context=this._stage3DProxy.get_context3D()},get_backgroundAlpha:function(){return this._backgroundAlpha},set_backgroundAlpha:function(a){return this._backgroundAlpha=a},get_background:function(){return this._background},set_background:function(a){null!=this._backgroundImageRenderer&&null==a&&(this._backgroundImageRenderer.dispose(),
this._backgroundImageRenderer=null);null==this._backgroundImageRenderer&&null!=a&&(this._backgroundImageRenderer=new lq(this._stage3DProxy));this._background=a;null!=this._backgroundImageRenderer&&this._backgroundImageRenderer.set_texture(a);return a},get_backgroundImageRenderer:function(){return this._backgroundImageRenderer},get_antiAlias:function(){return this._antiAlias},set_antiAlias:function(a){return this._antiAlias=a},get_textureRatioX:function(){return this._textureRatioX},set_textureRatioX:function(a){return this._textureRatioX=
a},get_textureRatioY:function(){return this._textureRatioY},set_textureRatioY:function(a){return this._textureRatioY=a},__class__:of,__properties__:{set_textureRatioY:"set_textureRatioY",get_textureRatioY:"get_textureRatioY",set_textureRatioX:"set_textureRatioX",get_textureRatioX:"get_textureRatioX",set_antiAlias:"set_antiAlias",get_antiAlias:"get_antiAlias",get_backgroundImageRenderer:"get_backgroundImageRenderer",set_background:"set_background",get_background:"get_background",set_backgroundAlpha:"set_backgroundAlpha",
get_backgroundAlpha:"get_backgroundAlpha",set_shareContext:"set_shareContext",get_shareContext:"get_shareContext",set_stage3DProxy:"set_stage3DProxy",get_stage3DProxy:"get_stage3DProxy",set_backgroundB:"set_backgroundB",get_backgroundB:"get_backgroundB",set_backgroundG:"set_backgroundG",get_backgroundG:"get_backgroundG",set_backgroundR:"set_backgroundR",get_backgroundR:"get_backgroundR",set_clearOnRender:"set_clearOnRender",get_clearOnRender:"get_clearOnRender",set_renderableSorter:"set_renderableSorter",
get_renderableSorter:"get_renderableSorter",get_renderToTexture:"get_renderToTexture",set_viewHeight:"set_viewHeight",get_viewHeight:"get_viewHeight",set_viewWidth:"set_viewWidth",get_viewWidth:"get_viewWidth"}};var Af=function(){this._skyboxTempVector=new C;this._tempSkyboxMatrix=new Xa;this._skyboxProjection=new Xa;of.call(this);this._depthRenderer=new Ti;this._distanceRenderer=new Ti(!1,!0)};m["away3d.core.render.DefaultRenderer"]=Af;Af.__name__=["away3d","core","render","DefaultRenderer"];Af.__super__=
of;Af.prototype=z(of.prototype,{_activeMaterial:null,_distanceRenderer:null,_depthRenderer:null,_skyboxProjection:null,_tempSkyboxMatrix:null,_skyboxTempVector:null,set_stage3DProxy:function(a){of.prototype.set_stage3DProxy.call(this,a);this._distanceRenderer.set_stage3DProxy(this._depthRenderer.set_stage3DProxy(a));return a},executeRender:function(a,b,c,d){null==d&&(d=0);this.updateLights(a);null!=b&&(this.drawRenderables(a.get_opaqueRenderableHead(),a,Af.RTT_PASSES),this.drawRenderables(a.get_blendedRenderableHead(),
a,Af.RTT_PASSES));of.prototype.executeRender.call(this,a,b,c,d)},updateLights:function(a){var b=a.get_directionalLights(),c=a.get_pointLights(),d,e;d=b.get_length();for(var f=0,k=d;f<k;)d=f++,d=b.get(d),e=d.get_shadowMapper(),d.get_castsShadows()&&(e.get_autoUpdateShadows()||e._shadowsInvalid)&&e.renderDepthMap(this._stage3DProxy,a,this._depthRenderer);d=c.get_length();b=0;for(f=d;b<f;)d=b++,d=c.get(d),e=d.get_shadowMapper(),d.get_castsShadows()&&(e.get_autoUpdateShadows()||e._shadowsInvalid)&&e.renderDepthMap(this._stage3DProxy,
a,this._distanceRenderer)},draw:function(a,b){this._context.setBlendFactors(2,9);null!=a.get_skyBox()&&(null!=this._activeMaterial&&this._activeMaterial.deactivate(this._stage3DProxy),this._activeMaterial=null,this._context.setDepthTest(!1,0),this.drawSkyBox(a));this._context.setDepthTest(!0,5);var c=null!=b?Af.SCREEN_PASSES:Af.ALL_PASSES;this.drawRenderables(a.get_opaqueRenderableHead(),a,c);this.drawRenderables(a.get_blendedRenderableHead(),a,c);this._context.setDepthTest(!1,5);null!=this._activeMaterial&&
this._activeMaterial.deactivate(this._stage3DProxy);this._activeMaterial=null},drawSkyBox:function(a){var b=a.get_skyBox(),c=b.get_material(),d=a.get_camera();this.updateSkyBoxProjection(d);c.activatePass(0,this._stage3DProxy,d);c.renderPass(0,b,this._stage3DProxy,a,this._skyboxProjection);c.deactivatePass(0,this._stage3DProxy)},updateSkyBoxProjection:function(a){this._skyboxProjection.copyFrom(this._rttViewProjectionMatrix);this._skyboxProjection.copyRowTo(2,this._skyboxTempVector);var b=a.get_scenePosition(),
c=this._skyboxTempVector.x,d=this._skyboxTempVector.y,e=this._skyboxTempVector.z,f=Math.sqrt(c*c+d*d+e*e);this._skyboxTempVector.x=0;this._skyboxTempVector.y=0;this._skyboxTempVector.z=0;this._skyboxTempVector.w=1;this._tempSkyboxMatrix.copyFrom(a.get_sceneTransform());this._tempSkyboxMatrix.copyColumnFrom(3,this._skyboxTempVector);this._skyboxTempVector.x=0;this._skyboxTempVector.y=0;this._skyboxTempVector.z=1;this._skyboxTempVector.w=0;Ja.transformVector(this._tempSkyboxMatrix,this._skyboxTempVector,
this._skyboxTempVector);this._skyboxTempVector.normalize();a=Math.acos(c/f*this._skyboxTempVector.x+d/f*this._skyboxTempVector.y+e/f*this._skyboxTempVector.z);1E-6<Math.abs(a)||(b=-(c*b.x+d*b.y+e*b.z+f),f=this._skyboxTempVector,f.x=0<=c?1:-1,f.y=0<=d?1:-1,f.z=1,f.w=1,this._tempSkyboxMatrix.copyFrom(this._skyboxProjection),this._tempSkyboxMatrix.invert(),a=Ja.transformVector(this._tempSkyboxMatrix,f,Ja.CALCULATION_VECTOR3D),this._skyboxProjection.copyRowTo(3,f),f=(a.x*f.x+a.y*f.y+a.z*f.z+a.w*f.w)/
(c*a.x+d*a.y+e*a.z+b*a.w),this._skyboxTempVector.x=c*f,this._skyboxTempVector.y=d*f,this._skyboxTempVector.z=e*f,this._skyboxTempVector.w=b*f,this._skyboxProjection.copyRowFrom(2,this._skyboxTempVector))},drawRenderables:function(a,b,c){for(var d,e,f=b.get_camera(),k;null!=a;){this._activeMaterial=a.renderable.get_material();this._activeMaterial.updateMaterial(this._context);d=this._activeMaterial.get_numPasses();for(e=0;;){k=a;if(0!=((this._activeMaterial.passRendersToTexture(e)?1:2)&c)){for(this._activeMaterial.activatePass(e,
this._stage3DProxy,f);this._activeMaterial.renderPass(e,k.renderable,this._stage3DProxy,b,this._rttViewProjectionMatrix),k=k.next,null!=k&&k.renderable.get_material()==this._activeMaterial;);this._activeMaterial.deactivatePass(e,this._stage3DProxy)}else for(;k=k.next,null!=k&&k.renderable.get_material()==this._activeMaterial;);if(!(++e<d))break}a=k}},dispose:function(){of.prototype.dispose.call(this);this._depthRenderer.dispose();this._distanceRenderer.dispose();this._distanceRenderer=this._depthRenderer=
null},__class__:Af});var Ti=function(a,b){null==b&&(b=!1);null==a&&(a=!1);of.call(this);this._renderBlended=a;this._distanceBased=b;this._backgroundB=this._backgroundG=this._backgroundR=1};m["away3d.core.render.DepthRenderer"]=Ti;Ti.__name__=["away3d","core","render","DepthRenderer"];Ti.__super__=of;Ti.prototype=z(of.prototype,{_activeMaterial:null,_renderBlended:null,_distanceBased:null,_disableColor:null,get_disableColor:function(){return this._disableColor},set_disableColor:function(a){return this._disableColor=
a},set_backgroundR:function(a){return a},set_backgroundG:function(a){return a},set_backgroundB:function(a){return a},renderCascades:function(a,b,c,d,e){this._renderTarget=b;this._renderTargetSurface=0;this._renderableSorter.sort(a);this._stage3DProxy.setRenderTarget(b,!0,0);this._context.clear(1,1,1,1,1,0);this._context.setBlendFactors(2,9);this._context.setDepthTest(!0,4);a=a.get_opaqueRenderableHead();b=!0;for(--c;0<=c;)this._stage3DProxy.set_scissorRect(d.get(c)),this.drawCascadeRenderables(a,
e.get(c),b?null:e.get(c).get_frustumPlanes()),b=!1,--c;null!=this._activeMaterial&&this._activeMaterial.deactivateForDepth(this._stage3DProxy);this._activeMaterial=null;this._context.setDepthTest(!1,5);this._stage3DProxy.set_scissorRect(null)},drawCascadeRenderables:function(a,b,c){for(var d;null!=a;){if(!a.cascaded){var e=a.renderable;d=e.get_sourceEntity();null==c||d.get_worldBounds().isInFrustum(c,4)?(d=e.get_material(),this._activeMaterial!=d&&(null!=this._activeMaterial&&this._activeMaterial.deactivateForDepth(this._stage3DProxy),
this._activeMaterial=d,this._activeMaterial.activateForDepth(this._stage3DProxy,b,!1)),this._activeMaterial.renderDepth(e,this._stage3DProxy,b,b.get_viewProjection())):a.cascaded=!0}a=a.next}},draw:function(a,b){this._context.setBlendFactors(2,9);this._context.setDepthTest(!0,4);this.drawRenderables(a.get_opaqueRenderableHead(),a);this._disableColor&&this._context.setColorMask(!1,!1,!1,!1);this._renderBlended&&this.drawRenderables(a.get_blendedRenderableHead(),a);null!=this._activeMaterial&&this._activeMaterial.deactivateForDepth(this._stage3DProxy);
this._disableColor&&this._context.setColorMask(!0,!0,!0,!0);this._activeMaterial=null},drawRenderables:function(a,b){for(var c=b.get_camera(),d;null!=a;){this._activeMaterial=a.renderable.get_material();if(this._disableColor&&this._activeMaterial.hasDepthAlphaThreshold())for(d=a;d=d.next,null!=d&&d.renderable.get_material()==this._activeMaterial;);else{this._activeMaterial.activateForDepth(this._stage3DProxy,c,this._distanceBased);for(d=a;this._activeMaterial.renderDepth(d.renderable,this._stage3DProxy,
c,this._rttViewProjectionMatrix),d=d.next,null!=d&&d.renderable.get_material()==this._activeMaterial;);this._activeMaterial.deactivateForDepth(this._stage3DProxy)}a=d}},__class__:Ti,__properties__:z(of.prototype.__properties__,{set_disableColor:"set_disableColor",get_disableColor:"get_disableColor"})});var cq=function(a){this._filterSizesInvalid=!0;this._stage3DProxy=a;this._stage3DProxy.addEventListener("Context3DRecreated",u(this,this.onContext3DRecreated));this._rttManager=bf.getInstance(a);this._rttManager.addEventListener("resize",
u(this,this.onRTTResize))};m["away3d.core.render.Filter3DRenderer"]=cq;cq.__name__=["away3d","core","render","Filter3DRenderer"];cq.prototype={_filters:null,_tasks:null,_filterTasksInvalid:null,_mainInputTexture:null,_requireDepthRender:null,_rttManager:null,_stage3DProxy:null,_filterSizesInvalid:null,onContext3DRecreated:function(a){this._filterSizesInvalid=!0},onRTTResize:function(a){this._filterSizesInvalid=!0},get_requireDepthRender:function(){return this._requireDepthRender},getMainInputTexture:function(a){this._filterTasksInvalid&&
this.updateFilterTasks(a);return this._mainInputTexture},get_filters:function(){return this._filters},set_filters:function(a){this._filters=a;this._filterTasksInvalid=!0;this._requireDepthRender=!1;if(null==this._filters)return null;for(var b=0,c=this.get_filters().length;b<c;){var d=b++;this._requireDepthRender||(this._requireDepthRender=this._filters[d].get_requireDepthRender())}this._filterSizesInvalid=!0;return a},updateFilterTasks:function(a){var b;this._filterSizesInvalid&&this.updateFilterSizes();
if(null==this._filters)this._tasks=null;else{this._tasks=x.toObjectVector(null);b=this._filters.length-1;for(var c,d=0,e=b+1;d<e;){var f=d++;c=this._filters[f];c.setRenderTargets(f==b?null:this._filters[f+1].getMainInputTexture(a),a);this._tasks=this._tasks.concat(c.get_tasks())}this._mainInputTexture=this._filters[0].getMainInputTexture(a)}},render:function(a,b,c){var d,e,f=a.get_context3D(),k=this._rttManager.get_indexBuffer(),p=this._rttManager.get_renderToTextureVertexBuffer();if(null!=this._filters){this._filterSizesInvalid&&
this.updateFilterSizes();this._filterTasksInvalid&&this.updateFilterTasks(a);d=this._filters.length;for(var w=0;w<d;)e=w++,this._filters[e].update(a,b);d=this._tasks.get_length();1<d&&(f.setVertexBufferAt(0,p,0,2),f.setVertexBufferAt(1,p,2,2));for(w=0;w<d;)p=w++,e=this._tasks.get(p),a.setRenderTarget(e.get_target()),null==e.get_target()&&(a.set_scissorRect(null),p=this._rttManager.get_renderToScreenVertexBuffer(),f.setVertexBufferAt(0,p,0,2),f.setVertexBufferAt(1,p,2,2)),f.setTextureAt(0,e.getMainInputTexture(a)),
f.setProgram(e.getProgram3D(a)),f.clear(0,0,0,0),e.activate(a,b,c),f.setBlendFactors(2,9),a.drawTriangles(k,0,2),e.deactivate(a);f.setTextureAt(0,null);f.setVertexBufferAt(0,null);f.setVertexBufferAt(1,null)}},updateFilterSizes:function(){for(var a=0,b=this._filters.length;a<b;){var c=a++;this._filters[c].set_textureWidth(this._rttManager.get_textureWidth());this._filters[c].set_textureHeight(this._rttManager.get_textureHeight())}this._filterSizesInvalid=!0},dispose:function(){this._rttManager.removeEventListener("resize",
u(this,this.onRTTResize));this._rttManager=null;this._stage3DProxy.removeEventListener("Context3DRecreated",u(this,this.onContext3DRecreated));this._stage3DProxy=null},__class__:cq,__properties__:{set_filters:"set_filters",get_filters:"get_filters",get_requireDepthRender:"get_requireDepthRender"}};var mq=function(){};m["away3d.core.sort.IEntitySorter"]=mq;mq.__name__=["away3d","core","sort","IEntitySorter"];mq.prototype={sort:null,__class__:mq};var Xm=function(){};m["away3d.core.sort.RenderableMergeSort"]=
Xm;Xm.__name__=["away3d","core","sort","RenderableMergeSort"];Xm.__interfaces__=[mq];Xm.prototype={sort:function(a){a.set_opaqueRenderableHead(this.mergeSortByMaterial(a.get_opaqueRenderableHead()));a.set_blendedRenderableHead(this.mergeSortByDepth(a.get_blendedRenderableHead()))},mergeSortByDepth:function(a){var b,c;if(null==a||null==a.next)return a;c=a;for(b=a.next;null!=b;)b=b.next,null!=b&&(c=c.next,b=b.next);b=c.next;c.next=null;a=this.mergeSortByDepth(a);b=this.mergeSortByDepth(b);var d=c=null,
e=null;if(null==a)return b;if(null==b)return a;for(;null!=a&&null!=b;)a.zIndex<b.zIndex?(e=a,a=a.next):(e=b,b=b.next),null==c?c=e:d.next=e,d=e;null!=a?d.next=a:null!=b&&(d.next=b);return c},mergeSortByMaterial:function(a){var b,c;if(null==a||null==a.next)return a;c=a;for(b=a.next;null!=b;)b=b.next,null!=b&&(c=c.next,b=b.next);b=c.next;c.next=null;a=this.mergeSortByMaterial(a);b=this.mergeSortByMaterial(b);var d=c=null,e=null;if(null==a)return b;if(null==b)return a;for(;null!=a&&null!=b&&null!=a&&
null!=b;){var e=a.renderOrderId,f=b.renderOrderId;e==f?(e=a.materialId,f=b.materialId,e=e==f?a.zIndex<b.zIndex?1:-1:e>f?1:-1):e=e>f?1:-1;0>e?(e=a,a=a.next):(e=b,b=b.next);null==c?c=e:d.next=e;d=e}null!=a?d.next=a:null!=b&&(d.next=b);return c},__class__:Xm};var Fg=function(){};m["away3d.core.traverse.PartitionTraverser"]=Fg;Fg.__name__=["away3d","core","traverse","PartitionTraverser"];Fg.prototype={scene:null,_entryPoint:null,enterNode:function(a){return!0},applySkyBox:function(a){throw new H(new bb);
},applyRenderable:function(a){throw new H(new bb);},applyUnknownLight:function(a){throw new H(new bb);},applyDirectionalLight:function(a){throw new H(new bb);},applyPointLight:function(a){throw new H(new bb);},applyLightProbe:function(a){throw new H(new bb);},applyEntity:function(a){throw new H(new bb);},get_entryPoint:function(){return this._entryPoint},__class__:Fg,__properties__:{get_entryPoint:"get_entryPoint"}};var Hg=function(){this.init()};m["away3d.core.traverse.EntityCollector"]=Hg;Hg.__name__=
["away3d","core","traverse","EntityCollector"];Hg.__super__=Fg;Hg.prototype=z(Fg.prototype,{_skyBox:null,_opaqueRenderableHead:null,_blendedRenderableHead:null,_entityHead:null,_renderableListItemPool:null,_entityListItemPool:null,_lights:null,_directionalLights:null,_pointLights:null,_lightProbes:null,_numEntities:null,_numLights:null,_numTriangles:null,_numMouseEnableds:null,_camera:null,_numDirectionalLights:null,_numPointLights:null,_numLightProbes:null,_cameraForward:null,_customCullPlanes:null,
_cullPlanes:null,_numCullPlanes:null,init:function(){this._lights=x.toObjectVector(null);this._directionalLights=x.toObjectVector(null);this._pointLights=x.toObjectVector(null);this._lightProbes=x.toObjectVector(null);this._renderableListItemPool=new hq;this._entityListItemPool=new fq;this._numCullPlanes=this._numLightProbes=this._numPointLights=this._numDirectionalLights=this._numMouseEnableds=this._numTriangles=this._numLights=this._numEntities=0},get_camera:function(){return this._camera},set_camera:function(a){this._camera=
a;this._entryPoint=this._camera.get_scenePosition();this._cameraForward=Ja.getForward(this._camera.get_transform(),this._cameraForward);this._cullPlanes=this._camera.get_frustumPlanes();return a},get_cullPlanes:function(){return this._customCullPlanes},set_cullPlanes:function(a){return this._customCullPlanes=a},get_numMouseEnableds:function(){return this._numMouseEnableds},get_skyBox:function(){return this._skyBox},get_opaqueRenderableHead:function(){return this._opaqueRenderableHead},set_opaqueRenderableHead:function(a){return this._opaqueRenderableHead=
a},get_blendedRenderableHead:function(){return this._blendedRenderableHead},set_blendedRenderableHead:function(a){return this._blendedRenderableHead=a},get_entityHead:function(){return this._entityHead},get_lights:function(){return this._lights},get_directionalLights:function(){return this._directionalLights},get_pointLights:function(){return this._pointLights},get_lightProbes:function(){return this._lightProbes},clear:function(){null!=this._camera&&(this._entryPoint=this._camera.get_scenePosition(),
this._cameraForward=Ja.getForward(this._camera.get_transform(),this._cameraForward));this._cullPlanes=null!=this._customCullPlanes?this._customCullPlanes:null!=this._camera?this._camera.get_frustumPlanes():null;this._numCullPlanes=null!=this._cullPlanes?this._cullPlanes.get_length():0;this._numTriangles=this._numMouseEnableds=0;this._entityHead=this._opaqueRenderableHead=this._blendedRenderableHead=null;this._renderableListItemPool.freeAll();this._entityListItemPool.freeAll();this._skyBox=null;0<
this._numLights&&this._lights.set_length(this._numLights=0);0<this._numDirectionalLights&&this._directionalLights.set_length(this._numDirectionalLights=0);0<this._numPointLights&&this._pointLights.set_length(this._numPointLights=0);0<this._numLightProbes&&this._lightProbes.set_length(this._numLightProbes=0)},enterNode:function(a){var b=Fg._collectionMark!=a._collectionMark&&a.isInFrustum(this._cullPlanes,this._numCullPlanes);a._collectionMark=Fg._collectionMark;return b},applySkyBox:function(a){this._skyBox=
a},applyRenderable:function(a){var b,c=a.get_sourceEntity();a.get_mouseEnabled()&&++this._numMouseEnableds;this._numTriangles+=a.get_numTriangles();b=a.get_material();if(null!=b){var d=this._renderableListItemPool.getItem();d.renderable=a;d.materialId=b._uniqueId;d.renderOrderId=b._renderOrderId;d.cascaded=!1;var e=c.get_scenePosition();d.zIndex=(this._entryPoint.x-e.x)*this._cameraForward.x+(this._entryPoint.y-e.y)*this._cameraForward.y+(this._entryPoint.z-e.z)*this._cameraForward.z+c.get_zOffset();
d.renderSceneTransform=a.getRenderSceneTransform(this._camera);b.get_requiresBlending()?(d.next=this._blendedRenderableHead,this._blendedRenderableHead=d):(d.next=this._opaqueRenderableHead,this._opaqueRenderableHead=d)}},applyEntity:function(a){++this._numEntities;var b=this._entityListItemPool.getItem();b.entity=a;b.next=this._entityHead;this._entityHead=b},applyUnknownLight:function(a){this._lights.set(this._numLights++,a)},applyDirectionalLight:function(a){this._lights.set(this._numLights++,a);
this._directionalLights.set(this._numDirectionalLights++,a)},applyPointLight:function(a){this._lights.set(this._numLights++,a);this._pointLights.set(this._numPointLights++,a)},applyLightProbe:function(a){this._lights.set(this._numLights++,a);this._lightProbes.set(this._numLightProbes++,a)},get_numTriangles:function(){return this._numTriangles},cleanUp:function(){},__class__:Hg,__properties__:z(Fg.prototype.__properties__,{get_numTriangles:"get_numTriangles",get_lightProbes:"get_lightProbes",get_pointLights:"get_pointLights",
get_directionalLights:"get_directionalLights",get_lights:"get_lights",get_entityHead:"get_entityHead",set_blendedRenderableHead:"set_blendedRenderableHead",get_blendedRenderableHead:"get_blendedRenderableHead",set_opaqueRenderableHead:"set_opaqueRenderableHead",get_opaqueRenderableHead:"get_opaqueRenderableHead",get_skyBox:"get_skyBox",get_numMouseEnableds:"get_numMouseEnableds",set_cullPlanes:"set_cullPlanes",get_cullPlanes:"get_cullPlanes",set_camera:"set_camera",get_camera:"get_camera"})});var Wm=
function(){this._rayDirection=new C;this._rayPosition=new C;this.init()};m["away3d.core.traverse.RaycastCollector"]=Wm;Wm.__name__=["away3d","core","traverse","RaycastCollector"];Wm.__super__=Hg;Wm.prototype=z(Hg.prototype,{_rayPosition:null,_rayDirection:null,get_rayPosition:function(){return this._rayPosition},set_rayPosition:function(a){return this._rayPosition=a},get_rayDirection:function(){return this._rayDirection},set_rayDirection:function(a){return this._rayDirection=a},enterNode:function(a){return a.isIntersectingRay(this._rayPosition,
this._rayDirection)},applySkyBox:function(a){},applyRenderable:function(a){},applyUnknownLight:function(a){},__class__:Wm,__properties__:z(Hg.prototype.__properties__,{set_rayDirection:"set_rayDirection",get_rayDirection:"get_rayDirection",set_rayPosition:"set_rayPosition",get_rayPosition:"get_rayPosition"})});var Ym=function(){this.init()};m["away3d.core.traverse.ShadowCasterCollector"]=Ym;Ym.__name__=["away3d","core","traverse","ShadowCasterCollector"];Ym.__super__=Hg;Ym.prototype=z(Hg.prototype,
{applyRenderable:function(a){var b=a.get_material(),c=a.get_sourceEntity();if(a.get_castsShadows()&&null!=b){var d=this._renderableListItemPool.getItem();d.renderable=a;d.next=this._opaqueRenderableHead;d.cascaded=!1;c=c.get_scenePosition();d.zIndex=(this._entryPoint.x-c.x)*this._cameraForward.x+(this._entryPoint.y-c.y)*this._cameraForward.y+(this._entryPoint.z-c.z)*this._cameraForward.z;d.renderSceneTransform=a.getRenderSceneTransform(this._camera);d.renderOrderId=b._depthPassId;this._opaqueRenderableHead=
d}},applyUnknownLight:function(a){},applyDirectionalLight:function(a){},applyPointLight:function(a){},applyLightProbe:function(a){},applySkyBox:function(a){},__class__:Ym});var ed=function(a,b,c,d,e,f){null==f&&(f=!0);null==e&&(e=!0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);Fb.call(this);this._minimized=b;this._transparent=c;this._enable_reset=e;this._enable_mod_fr=f;this._mean_data_length=d;this._views=x.toObjectVector(null);null!=a&&this._views.push(a);null!=ed._INSTANCE&&Aa.trace("Creating several statistics windows in one project. Is this intentional?",
{fileName:"AwayStats.hx",lineNumber:187,className:"away3d.debug.AwayStats",methodName:"new"});ed._INSTANCE=this;this._last_frame_timestamp=this._rfaces=this._tfaces=this._max_ram=this._ram=this._avg_fps=this._num_frames=this._fps=0;this._init()};m["away3d.debug.AwayStats"]=ed;ed.__name__=["away3d","debug","AwayStats"];ed.__properties__={get_instance:"get_instance"};ed.get_instance=function(){return null!=ed._INSTANCE?ed._INSTANCE:ed._INSTANCE=new ed};ed.__super__=Fb;ed.prototype=z(Fb.prototype,{_views:null,
_timer:null,_last_frame_timestamp:null,_fps:null,_ram:null,_max_ram:null,_min_fps:null,_avg_fps:null,_max_fps:null,_tfaces:null,_rfaces:null,_num_frames:null,_fps_sum:null,_top_bar:null,_btm_bar:null,_btm_bar_hit:null,_data_format:null,_label_format:null,_fps_bar:null,_afps_bar:null,_lfps_bar:null,_hfps_bar:null,_diagram:null,_dia_bmp:null,_mem_points:null,_mem_graph:null,_updates:null,_min_max_btn:null,_fps_tf:null,_afps_tf:null,_ram_tf:null,_poly_tf:null,_swhw_tf:null,_drag_dx:null,_drag_dy:null,
_dragging:null,_mean_data:null,_mean_data_length:null,_enable_reset:null,_enable_mod_fr:null,_transparent:null,_minimized:null,_showing_driv_info:null,get_max_ram:function(){return this._max_ram},get_ram:function(){return this._ram},get_avg_fps:function(){return this._avg_fps},get_max_fps:function(){return this._max_fps},get_fps:function(){return this._fps},_init:function(){this._initMisc();this._initTopBar();this._initBottomBar();this._initDiagrams();this._initInteraction();this.reset();this._redrawWindow();
this.addEventListener("addedToStage",u(this,this._onAddedToStage));this.addEventListener("removedFromStage",u(this,this._onRemovedFromStage))},registerView:function(a){null!=a&&0>this._views.indexOf(a,0)&&this._views.push(a)},unregisterView:function(a){null!=a&&(a=this._views.indexOf(a,0),0<=a&&this._views.splice(a,1))},_initMisc:function(){this._timer=new Ck(200,0);this._timer.addEventListener("timer",u(this,this._onTimer));this._label_format=new Ec("_sans",9,16777215,!0);this._data_format=new Ec("_sans",
9,16777215,!1);if(0<this._mean_data_length){this._mean_data=[];for(var a=0,b=this._mean_data_length;a<b;){var c=a++;this._mean_data[c]=0}}},_initTopBar:function(){var a;this._top_bar=new Fb;this._top_bar.get_graphics().beginFill(0,0);this._top_bar.get_graphics().drawRect(0,0,125,20);this.addChild(this._top_bar);a=new re;a.set_x(9);a.set_y(7.5);a.set_scaleX(.6);a.set_scaleY(.6);a.get_graphics().beginFill(16777215,1);a.get_graphics().moveTo(-.5,-7);a.get_graphics().curveTo(-.5,-7.7,-1,-7);a.get_graphics().lineTo(-9,
5);a.get_graphics().curveTo(-9.3,5.5,-8,5);a.get_graphics().curveTo(-1,1,-.5,-7);a.get_graphics().moveTo(.5,-7);a.get_graphics().curveTo(.5,-7.7,1,-7);a.get_graphics().lineTo(9,5);a.get_graphics().curveTo(9.3,5.5,8,5);a.get_graphics().curveTo(1,1,.5,-7);a.get_graphics().moveTo(-8,7);a.get_graphics().curveTo(-8.3,6.7,-7.5,6.3);a.get_graphics().curveTo(0,2,7.5,6.3);a.get_graphics().curveTo(8.3,6.7,8,7);a.get_graphics().lineTo(-8,7);this._top_bar.addChild(a);a=new re;a.get_graphics().beginFill(16777215);
a.get_graphics().drawRect(20,7,4,4);a.get_graphics().beginFill(3377373);a.get_graphics().drawRect(77,7,4,4);this._top_bar.addChild(a);a=new Tb;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("FR:");a.set_x(24);a.set_y(2);a.set_selectable(!1);this._top_bar.addChild(a);this._fps_tf=new Tb;this._fps_tf.set_defaultTextFormat(this._data_format);this._fps_tf.set_autoSize(1);this._fps_tf.set_x(a.get_x()+16);this._fps_tf.set_y(a.get_y());this._fps_tf.set_selectable(!1);this._top_bar.addChild(this._fps_tf);
a=new Tb;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("A:");a.set_x(81);a.set_y(2);a.set_selectable(!1);this._top_bar.addChild(a);this._afps_tf=new Tb;this._afps_tf.set_defaultTextFormat(this._data_format);this._afps_tf.set_autoSize(1);this._afps_tf.set_x(a.get_x()+12);this._afps_tf.set_y(a.get_y());this._afps_tf.set_selectable(!1);this._top_bar.addChild(this._afps_tf);this._min_max_btn=new Fb;this._min_max_btn.set_x(117);this._min_max_btn.set_y(7);this._min_max_btn.get_graphics().beginFill(0,
0);this._min_max_btn.get_graphics().lineStyle(1,15724527,1,!0);this._min_max_btn.get_graphics().drawRect(-4,-4,8,8);this._min_max_btn.get_graphics().moveTo(-3,2);this._min_max_btn.get_graphics().lineTo(3,2);this._min_max_btn.buttonMode=!0;this._min_max_btn.addEventListener("click",u(this,this._onMinMaxBtnClick));this._top_bar.addChild(this._min_max_btn)},_initBottomBar:function(){var a;this._btm_bar=new Fb;this._btm_bar.get_graphics().beginFill(0,.2);this._btm_bar.get_graphics().drawRect(0,0,125,
31);this.addChild(this._btm_bar);this._btm_bar_hit=new Fb;this._btm_bar_hit.get_graphics().beginFill(16763904,0);this._btm_bar_hit.get_graphics().drawRect(0,1,125,30);this.addChild(this._btm_bar_hit);a=new re;a.get_graphics().beginFill(16711884);a.get_graphics().drawRect(5,4,4,4);a.get_graphics().beginFill(16763904);a.get_graphics().drawRect(5,14,4,4);this._btm_bar.addChild(a);a=new Tb;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("RAM:");a.set_x(10);a.set_y(-1);a.set_selectable(!1);
a.mouseEnabled=!1;this._btm_bar.addChild(a);this._ram_tf=new Tb;this._ram_tf.set_defaultTextFormat(this._data_format);this._ram_tf.set_autoSize(1);this._ram_tf.set_x(a.get_x()+31);this._ram_tf.set_y(a.get_y());this._ram_tf.set_selectable(!1);this._ram_tf.mouseEnabled=!1;this._btm_bar.addChild(this._ram_tf);a=new Tb;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("POLY:");a.set_x(10);a.set_y(9);a.set_selectable(!1);a.mouseEnabled=!1;this._btm_bar.addChild(a);this._poly_tf=
new Tb;this._poly_tf.set_defaultTextFormat(this._data_format);this._poly_tf.set_autoSize(1);this._poly_tf.set_x(a.get_x()+31);this._poly_tf.set_y(a.get_y());this._poly_tf.set_selectable(!1);this._poly_tf.mouseEnabled=!1;this._btm_bar.addChild(this._poly_tf);a=new Tb;a.set_defaultTextFormat(this._label_format);a.set_autoSize(1);a.set_text("DRIV:");a.set_x(10);a.set_y(19);a.set_selectable(!1);a.mouseEnabled=!1;this._btm_bar.addChild(a);this._swhw_tf=new Tb;this._swhw_tf.set_defaultTextFormat(this._data_format);
this._swhw_tf.set_autoSize(1);this._swhw_tf.set_x(a.get_x()+31);this._swhw_tf.set_y(a.get_y());this._swhw_tf.set_selectable(!1);this._swhw_tf.mouseEnabled=!1;this._btm_bar.addChild(this._swhw_tf)},_initDiagrams:function(){this._dia_bmp=new Ha(125,35,!0,0);this._diagram=new Fb;this._diagram.get_graphics().beginBitmapFill(this._dia_bmp);this._diagram.get_graphics().drawRect(0,0,this._dia_bmp.width,this._dia_bmp.height);this._diagram.get_graphics().endFill();this._diagram.set_y(17);this.addChild(this._diagram);
this._diagram.get_graphics().lineStyle(1,16777215,.03);this._diagram.get_graphics().moveTo(0,0);this._diagram.get_graphics().lineTo(125,0);this._diagram.get_graphics().moveTo(0,Math.floor(this._dia_bmp.height/2));this._diagram.get_graphics().lineTo(125,Math.floor(this._dia_bmp.height/2));this._fps_bar=new re;this._fps_bar.get_graphics().beginFill(16777215);this._fps_bar.get_graphics().drawRect(0,0,125,4);this._fps_bar.set_x(0);this._fps_bar.set_y(16);this.addChild(this._fps_bar);this._afps_bar=new re;
this._afps_bar.get_graphics().lineStyle(1,3377373,1,!1,2,2);this._afps_bar.get_graphics().lineTo(0,4);this._afps_bar.set_y(this._fps_bar.get_y());this.addChild(this._afps_bar);this._lfps_bar=new re;this._lfps_bar.get_graphics().lineStyle(1,16711680,1,!1,2,2);this._lfps_bar.get_graphics().lineTo(0,4);this._lfps_bar.set_y(this._fps_bar.get_y());this.addChild(this._lfps_bar);this._hfps_bar=new re;this._hfps_bar.get_graphics().lineStyle(1,65280,1,!1,2,2);this._hfps_bar.get_graphics().lineTo(0,4);this._hfps_bar.set_y(this._fps_bar.get_y());
this.addChild(this._hfps_bar);this._mem_points=[];this._mem_graph=new re;this._mem_graph.set_y(this._diagram.get_y()+this._diagram.get_height());this.addChildAt(this._mem_graph,0)},_initInteraction:function(){this._top_bar.addEventListener("mouseDown",u(this,this._onTopBarMouseDown));this._enable_reset&&(this._btm_bar.mouseEnabled=!1,this._btm_bar_hit.addEventListener("click",u(this,this._onCountersClick_reset)),this._afps_tf.addEventListener("mouseUp",u(this,this._onAverageFpsClick_reset),!1,1));
this._enable_mod_fr&&this._diagram.addEventListener("click",u(this,this._onDiagramClick))},_redrawWindow:function(){var a=0,a=this._minimized?51:85;this._transparent||(this.get_graphics().clear(),this.get_graphics().beginFill(0,.6),this.get_graphics().drawRect(0,0,125,a));this._min_max_btn.set_rotation(this._minimized?180:0);this._btm_bar.set_y(a-31);this._btm_bar_hit.set_y(this._btm_bar.get_y());this._diagram.set_visible(!this._minimized);this._mem_graph.set_visible(!this._minimized);this._fps_bar.set_visible(this._minimized);
this._afps_bar.set_visible(this._minimized);this._lfps_bar.set_visible(this._minimized);this._hfps_bar.set_visible(this._minimized);this._minimized||this._redrawMemGraph()},_redrawStats:function(){var a;this._fps_tf.set_text(this._fps+"/"+this.stage.get_frameRate());this._afps_tf.set_text(h.string(Math.round(this._avg_fps)));this._ram_tf.set_text(this._getRamString(this._ram)+" / "+this._getRamString(this._max_ram));this._dia_bmp.scroll(1,0);0<this._views.get_length()?(this._poly_tf.set_text(this._rfaces+
""),a=this._dia_bmp.height-Math.floor(this._rfaces/this._tfaces*this._dia_bmp.height),this._dia_bmp.setPixel32(1,a,-13312)):this._poly_tf.set_text("n/a (no view)");this._showing_driv_info||(null!=this._views&&0<this._views.get_length()&&null!=this._views.get(0).get_renderer().get_stage3DProxy()&&null!=this._views.get(0).get_renderer().get_stage3DProxy().get_context3D()?(a=this._views.get(0).get_renderer().get_stage3DProxy().get_context3D().driverInfo,this._swhw_tf.set_text(da.substr(a,0,a.indexOf(" "))),
this._showing_driv_info=!0):this._swhw_tf.set_text("n/a (no view)"));a=this._dia_bmp.height-Math.floor(this._fps/this.stage.get_frameRate()*this._dia_bmp.height);this._dia_bmp.setPixel32(1,a,-1);a=this._dia_bmp.height-Math.floor(this._avg_fps/this.stage.get_frameRate()*this._dia_bmp.height);this._dia_bmp.setPixel32(1,a,-13386753);this._minimized?(this._fps_bar.set_scaleX(Math.min(1,this._fps/this.stage.get_frameRate())),this._afps_bar.set_x(125*Math.min(1,this._avg_fps/this.stage.get_frameRate())),
this._lfps_bar.set_x(125*Math.min(1,this._min_fps/this.stage.get_frameRate())),this._hfps_bar.set_x(125*Math.min(1,this._max_fps/this.stage.get_frameRate()))):0==this._updates%5&&this._redrawMemGraph();this._mem_graph.set_x(this._updates%5);this._updates++},_redrawMemGraph:function(){var a,b,c=0;this._mem_graph.set_scaleY(1);b=this._mem_graph.get_graphics();b.clear();b.lineStyle(.5,16711884,1,!0,1);b.moveTo(5*(this._mem_points.length-1),-this._mem_points[this._mem_points.length-1]);for(a=this._mem_points.length-
1;0<=a;)0==this._mem_points[a+1]||0==this._mem_points[a]?b.moveTo(5*a,-this._mem_points[a]):(b.lineTo(5*a,-this._mem_points[a]),this._mem_points[a]>c&&(c=this._mem_points[a])),--a;this._mem_graph.set_scaleY(this._dia_bmp.height/c)},_getRamString:function(a){var b="B";1048576<a?(a/=1048576,b="M"):1024<a&&(a/=1024,b="K");return Math.round(10*a)/10+b},reset:function(){this._num_frames=this._updates=0;this._min_fps=Infinity;for(var a=this._max_ram=this._fps_sum=this._avg_fps=this._max_fps=0;25>a;){var b=
a++;this._mem_points[b]=0}if(null!=this._mean_data)for(a=0,b=this._mean_data.length;a<b;){var c=a++;this._mean_data[c]=0}this._mem_graph.get_graphics().clear();this._dia_bmp.fillRect(this._dia_bmp.rect,0)},_endDrag:function(){-125>this.get_x()?this.set_x(-105):this.get_x()>this.stage.stageWidth&&this.set_x(this.stage.stageWidth-20);0>this.get_y()?this.set_y(0):this.get_y()>this.stage.stageHeight&&this.set_y(this.stage.stageHeight-15);this.set_x(Math.round(this.get_x()));this.set_y(Math.round(this.get_y()));
this._dragging=!1;this.stage.removeEventListener("mouseLeave",u(this,this._onMouseUpOrLeave));this.stage.removeEventListener("mouseUp",u(this,this._onMouseUpOrLeave));this.stage.removeEventListener("mouseMove",u(this,this._onMouseMove))},_onAddedToStage:function(a){this._timer.start();this.addEventListener("enterFrame",u(this,this._onEnterFrame))},_onRemovedFromStage:function(a){this._timer.stop();this.removeEventListener("enterFrame",u(this,this._onTimer))},_onTimer:function(a){this._ram=bg.get_totalMemory();
this._ram>this._max_ram&&(this._max_ram=this._ram);0==this._updates%5&&(this._mem_points.unshift(this._ram/1024),this._mem_points.pop());this._tfaces=this._rfaces=0;if(0<this._views.get_length()){a=0;for(var b=this._views.get_length();a<b;){var c=a++;this._rfaces+=this._views.get(c).get_renderedFacesCount()}}this._redrawStats()},_onEnterFrame:function(a){a=xa.getTimer()-this._last_frame_timestamp;this._fps=Math.floor(1E3/a);this._fps_sum+=this._fps;this._fps>this._max_fps?this._max_fps=this._fps:
0!=this._fps&&this._fps<this._min_fps&&(this._min_fps=this._fps);null!=this._mean_data?(this._mean_data.push(this._fps),this._fps_sum-=parseFloat(this._mean_data.shift()),this._avg_fps=this._fps_sum/this._mean_data_length):(this._num_frames++,this._avg_fps=this._fps_sum/this._num_frames);this._last_frame_timestamp=xa.getTimer()},_onDiagramClick:function(a){a=this.stage;a.set_frameRate(a.get_frameRate()-Math.floor((this._diagram.get_mouseY()-this._dia_bmp.height/2)/5))},_onAverageFpsClick_reset:function(a){if(!this._dragging&&
(this._fps_sum=this._num_frames=0,null!=this._mean_data)){a=0;for(var b=this._mean_data.length;a<b;){var c=a++;this._mean_data[c]=0}}},_onCountersClick_reset:function(a){this.reset()},_onMinMaxBtnClick:function(a){this._minimized=!this._minimized;this._redrawWindow()},_onTopBarMouseDown:function(a){this._drag_dx=this.get_mouseX();this._drag_dy=this.get_mouseY();this.stage.addEventListener("mouseMove",u(this,this._onMouseMove));this.stage.addEventListener("mouseUp",u(this,this._onMouseUpOrLeave));
this.stage.addEventListener("mouseLeave",u(this,this._onMouseUpOrLeave))},_onMouseMove:function(a){this._dragging=!0;this.set_x(this.stage.get_mouseX()-this._drag_dx);this.set_y(this.stage.get_mouseY()-this._drag_dy)},_onMouseUpOrLeave:function(a){this._endDrag()},__class__:ed,__properties__:z(Fb.prototype.__properties__,{get_fps:"get_fps",get_max_fps:"get_max_fps",get_avg_fps:"get_avg_fps",get_ram:"get_ram",get_max_ram:"get_max_ram"})});var tb=function(){};m["away3d.debug.Debug"]=tb;tb.__name__=
["away3d","debug","Debug"];tb.clear=function(){};tb.delimiter=function(){};tb.trace=function(a){tb.active&&Aa.trace(a,{fileName:"Debug.hx",lineNumber:24,className:"away3d.debug.Debug",methodName:"trace"})};tb.warning=function(a){tb.warningsAsErrors?tb.error(a):Aa.trace("WARNING: "+h.string(a),{fileName:"Debug.hx",lineNumber:33,className:"away3d.debug.Debug",methodName:"warning"})};tb.error=function(a){Aa.trace("ERROR: "+h.string(a),{fileName:"Debug.hx",lineNumber:38,className:"away3d.debug.Debug",
methodName:"error"});throw new H(new sa(a));};var Pb=function(a,b){this._castsShadows=this._shareAnimationGeometry=!0;zc.call(this);this._subMeshes=x.toObjectVector(null);this.set_geometry(null!=a?a:new Zb);this.set_material(null!=b?b:Ib.getDefaultMaterial(this))};m["away3d.entities.Mesh"]=Pb;Pb.__name__=["away3d","entities","Mesh"];Pb.__interfaces__=[bd,Mm];Pb.__super__=zc;Pb.prototype=z(zc.prototype,{_subMeshes:null,_geometry:null,_material:null,_animator:null,_castsShadows:null,_shareAnimationGeometry:null,
bakeTransformations:function(){this.get_geometry().applyTransformation(this.get_transform());this.get_transform().identity()},get_assetType:function(){return"mesh"},onGeometryBoundsInvalid:function(a){this.invalidateBounds()},get_castsShadows:function(){return this._castsShadows},set_castsShadows:function(a){return this._castsShadows=a},get_animator:function(){return this._animator},set_animator:function(a){null!=this._animator&&this._animator.removeOwner(this);this._animator=a;var b=this.get_material();
this.set_material(null);this.set_material(b);for(var c,d=0,e=this._subMeshes.get_length();d<e;)b=d++,c=this._subMeshes.get(b),b=c._material,null!=b&&(c.set_material(null),c.set_material(b));null!=this._animator&&this._animator.addOwner(this);return a},get_geometry:function(){return this._geometry},set_geometry:function(a){if(null!=this._geometry){this._geometry.removeEventListener("BoundsInvalid",u(this,this.onGeometryBoundsInvalid));this._geometry.removeEventListener("SubGeometryAdded",u(this,this.onSubGeometryAdded));
this._geometry.removeEventListener("SubGeometryRemoved",u(this,this.onSubGeometryRemoved));for(var b=0,c=this._subMeshes.get_length();b<c;){var d=b++;this._subMeshes.get(d).dispose()}this._subMeshes.set_length(0)}this._geometry=a;if(null!=this._geometry)for(this._geometry.addEventListener("BoundsInvalid",u(this,this.onGeometryBoundsInvalid)),this._geometry.addEventListener("SubGeometryAdded",u(this,this.onSubGeometryAdded)),this._geometry.addEventListener("SubGeometryRemoved",u(this,this.onSubGeometryRemoved)),
b=this._geometry.get_subGeometries(),c=0,d=b.get_length();c<d;){var e=c++;this.addSubMesh(b.get(e))}null!=this._material&&(this._material.removeOwner(this),this._material.addOwner(this));return a},get_material:function(){return this._material},set_material:function(a){if(a==this._material)return a;null!=this._material&&this._material.removeOwner(this);this._material=a;null!=this._material&&this._material.addOwner(this);return a},get_subMeshes:function(){this._geometry.validate();return this._subMeshes},
get_shareAnimationGeometry:function(){return this._shareAnimationGeometry},set_shareAnimationGeometry:function(a){return this._shareAnimationGeometry=a},clearAnimationGeometry:function(){for(var a=0,b=this._subMeshes.get_length();a<b;){var c=a++;this._subMeshes.get(c).animationSubGeometry=null}},dispose:function(){zc.prototype.dispose.call(this);this.set_material(null);this.set_geometry(null)},disposeWithAnimatorAndChildren:function(){this.disposeWithChildren();null!=this._animator&&this._animator.dispose()},
clone:function(){var a=new Pb(this._geometry,this._material);a.set_transform(this.get_transform());a.set_pivotPoint(this.get_pivotPoint());a.set_partition(this.get_partition());a.set_bounds(this._bounds.clone());a.set_name(this.get_name());a.set_castsShadows(this.get_castsShadows());a.set_shareAnimationGeometry(this.get_shareAnimationGeometry());a.set_mouseEnabled(this.get_mouseEnabled());a.set_mouseChildren(this.get_mouseChildren());a.extra=this.extra;for(var b=this._subMeshes.get_length(),c=0;c<
b;){var d=c++;a._subMeshes.get(d)._material=this._subMeshes.get(d)._material}b=this.get_numChildren();for(c=0;c<b;)d=c++,a.addChild(y.__cast(this.getChildAt(d).clone(),Va));null!=this._animator&&a.set_animator(this._animator.clone());return a},updateBounds:function(){this._bounds.fromGeometry(this._geometry);this._boundsInvalid=!1},createEntityPartitionNode:function(){return new Qm(this)},onSubGeometryAdded:function(a){this.addSubMesh(a.get_subGeometry())},onSubGeometryRemoved:function(a){for(var b=
a.get_subGeometry(),c=this._subMeshes.get_length(),d=0;d<c;){a=this._subMeshes.get(d);if(a.get_subGeometry()==b){a.dispose();this._subMeshes.splice(d,1);break}++d}for(--c;d<c;)this._subMeshes.get(d)._index=d,++d},addSubMesh:function(a){a=new Pf(a,this,null);var b=this._subMeshes.get_length();a._index=b;this._subMeshes.set(b,a);this.invalidateBounds()},getSubMeshForSubGeometry:function(a){return this._subMeshes.get(this._geometry.get_subGeometries().indexOf(a,0))},collidesBefore:function(a,b){this._pickingCollider.setLocalRay(this._pickingCollisionVO.localRayPosition,
this._pickingCollisionVO.localRayDirection);this._pickingCollisionVO.renderable=null;for(var c=0,d=this._subMeshes.get_length();c<d;){var e=c++,e=this._subMeshes.get(e);if(this._pickingCollider.testSubMeshCollision(e,this._pickingCollisionVO,a)&&(a=this._pickingCollisionVO.rayEntryDistance,this._pickingCollisionVO.renderable=e,!b))return!0}return null!=this._pickingCollisionVO.renderable},__class__:Pb,__properties__:z(zc.prototype.__properties__,{set_shareAnimationGeometry:"set_shareAnimationGeometry",
get_shareAnimationGeometry:"get_shareAnimationGeometry",get_subMeshes:"get_subMeshes",set_material:"set_material",get_material:"get_material",set_geometry:"set_geometry",get_geometry:"get_geometry",set_animator:"set_animator",get_animator:"get_animator",set_castsShadows:"set_castsShadows",get_castsShadows:"get_castsShadows"})});var Cc=function(){this._subSetCount=this._numIndices=this._indexSegments=0;zc.call(this);this._subSetCount=0;this._subSets=x.toObjectVector(null);this.addSubSet();this._segments=
new fc;this.set_material(new Zm)};m["away3d.entities.SegmentSet"]=Cc;Cc.__name__=["away3d","entities","SegmentSet"];Cc.__interfaces__=[Vi];Cc.__super__=zc;Cc.prototype=z(zc.prototype,{_activeSubSet:null,_subSets:null,_subSetCount:null,_numIndices:null,_material:null,_animator:null,_hasData:null,_segments:null,_indexSegments:null,addSegment:function(a){a.set_segmentsBase(this);this._hasData=!0;var b=this._subSets.get_length()-1,c=this._subSets.get(b);c.vertices.get_length()+44>Cc.LIMIT&&(c=this.addSubSet(),
++b);a.set_index(c.vertices.get_length());a.set_subSetIndex(b);this.updateSegment(a);var d=c.lineCount<<2;c.indices.push(d);c.indices.push(d+1);c.indices.push(d+2);c.indices.push(d+3);c.indices.push(d+2);c.indices.push(d+1);c.numVertices=c.vertices.get_length()/11|0;c.numIndices=c.indices.get_length();c.lineCount++;c.indexBufferDirty=!0;c=new nq;c.index=d;c.subSetIndex=b;c.segment=a;this._segments.h[this._indexSegments]=c;this._indexSegments++},removeSegmentByIndex:function(a,b){null==b&&(b=!1);var c;
if(!(a>=this._indexSegments)&&this._segments.h.hasOwnProperty(a)){c=this._segments.h[a];var d;if(null!=this._subSets.get(c.subSetIndex)){var e=c.subSetIndex;d=this._subSets.get(c.subSetIndex);c=c.segment;for(var f=d.indices,k=6*a,p=f.get_length();k<p;){var w=k++,h=f;h.set(w,h.get(w)-4)}d.indices.splice(6*a,6);d.vertices.splice(44*a,44);d.numVertices=d.vertices.get_length()/11|0;d.numIndices=f.get_length();d.vertexBufferDirty=!0;d.indexBufferDirty=!0;d.lineCount--;b?c.dispose():(c.set_index(-1),c.set_segmentsBase(null));
0==d.lineCount&&(0==e?this._hasData=!1:(d.dispose(),this._subSets.set(e,null),this._subSets.splice(e,1)));this.reOrderIndices(e,a);this._segments.remove(this._indexSegments);this._indexSegments--}}},removeSegment:function(a,b){-1!=a.get_index()&&this.removeSegmentByIndex(a.get_index()/44|0)},removeAllSegments:function(){for(var a,b=0,c=this._subSetCount;b<c;)a=b++,a=this._subSets.get(a),a.vertices=null,a.indices=null,null!=a.vertexBuffer&&sb.disposeVertexBuffer(a.vertexBuffer),null!=a.indexBuffer&&
sb.disposeIndexBuffer(a.indexBuffer);for(b=this._segments.iterator();b.hasNext();)b.next();this._segments=null;this._subSetCount=0;this._activeSubSet=null;this._indexSegments=0;this._subSets=x.toObjectVector(null);this._segments=new fc;this.addSubSet();this._hasData=!1},getSegment:function(a){return a>this._indexSegments-1?null:this._segments.h[a].segment},get_segmentCount:function(){return this._indexSegments},get_subSetCount:function(){return this._subSetCount},updateSegment:function(a){var b=a._start,
c=a._end,d=b.x,e=b.y,b=b.z,f=c.x,k=c.y,c=c.z,p=a._startR,w=a._startG,h=a._startB,n=a._endR,l=a._endG,g=a._endB,m=a.get_index(),r=a.get_thickness();a=this._subSets.get(a.get_subSetIndex());var q=a.vertices;q.set(m++,d);q.set(m++,e);q.set(m++,b);q.set(m++,f);q.set(m++,k);q.set(m++,c);q.set(m++,r);q.set(m++,p);q.set(m++,w);q.set(m++,h);q.set(m++,1);q.set(m++,f);q.set(m++,k);q.set(m++,c);q.set(m++,d);q.set(m++,e);q.set(m++,b);q.set(m++,-r);q.set(m++,n);q.set(m++,l);q.set(m++,g);q.set(m++,1);q.set(m++,
d);q.set(m++,e);q.set(m++,b);q.set(m++,f);q.set(m++,k);q.set(m++,c);q.set(m++,-r);q.set(m++,p);q.set(m++,w);q.set(m++,h);q.set(m++,1);q.set(m++,f);q.set(m++,k);q.set(m++,c);q.set(m++,d);q.set(m++,e);q.set(m++,b);q.set(m++,r);q.set(m++,n);q.set(m++,l);q.set(m++,g);q.set(m++,1);a.vertexBufferDirty=!0;this.invalidateBounds()},get_hasData:function(){return this._hasData},getIndexBuffer:function(a){if(this._activeSubSet.indexContext3D!=a.get_context3D()||this._activeSubSet.indexBufferDirty)this._activeSubSet.indexBuffer=
a.createIndexBuffer(this._activeSubSet.numIndices),this._activeSubSet.indexBuffer.uploadFromVector(this._activeSubSet.indices,0,this._activeSubSet.numIndices),this._activeSubSet.indexBufferDirty=!1,this._activeSubSet.indexContext3D=a.get_context3D();return this._activeSubSet.indexBuffer},activateVertexBuffer:function(a,b){var c=this._subSets.get(a);this._activeSubSet=c;this._numIndices=c.numIndices;if(c.vertexContext3D!=b.get_context3D()||c.vertexBufferDirty)null!=c.vertexBuffer&&sb.disposeVertexBuffer(c.vertexBuffer),
c.vertexBuffer=b.createVertexBuffer(c.numVertices,11),c.vertexBuffer.uploadFromVector(c.vertices,0,c.numVertices),c.vertexBufferDirty=!1,c.vertexContext3D=b.get_context3D();var c=c.vertexBuffer,d=b._context3D;d.setVertexBufferAt(0,c,0,3);d.setVertexBufferAt(1,c,3,3);d.setVertexBufferAt(2,c,6,1);d.setVertexBufferAt(3,c,7,4)},activateUVBuffer:function(a,b){},activateVertexNormalBuffer:function(a,b){},activateVertexTangentBuffer:function(a,b){},activateSecondaryUVBuffer:function(a,b){},reOrderIndices:function(a,
b){for(var c,d=b,e=this._indexSegments-1;d<e;){var f=d++;c=this._segments.h[f+1];c.index=f;if(c.subSetIndex==a){var k=c.segment;k.set_index(k.get_index()-44)}this._segments.h[f]=c}},addSubSet:function(){var a=new oq;this._subSets.push(a);a.vertices=x.toFloatVector(null);a.numVertices=0;a.indices=x.toIntVector(null);a.numIndices=0;a.vertexBufferDirty=!0;a.indexBufferDirty=!0;a.lineCount=0;this._subSetCount++;return a},dispose:function(){zc.prototype.dispose.call(this);this.removeAllSegments();this._material=
this._segments=null;var a=this._subSets.get(0);a.vertices=null;this._subSets=a.indices=null},get_mouseEnabled:function(){return!1},getDefaultBoundingVolume:function(){return new Rh},updateBounds:function(){for(var a,b,c,d=Infinity,e=Infinity,f=Infinity,k=-Infinity,p=-Infinity,w=-Infinity,h,n=0;n<this._subSetCount;){a=this._subSets.get(n);c=0;h=a.vertices;a=h.get_length();if(0!=a)for(;c<a;)b=h.get(c++),b<d?d=b:b>k&&(k=b),b=h.get(c++),b<e?e=b:b>p&&(p=b),b=h.get(c++),b<f?f=b:b>w&&(w=b),c+=8;++n}Infinity!=
d?this._bounds.fromExtremes(d,e,f,k,p,w):this._bounds.fromExtremes(-.5,-.5,-.5,.5,.5,.5);this._boundsInvalid=!1},createEntityPartitionNode:function(){return new Tm(this)},get_numTriangles:function(){return this._numIndices/3|0},get_sourceEntity:function(){return this},get_castsShadows:function(){return!1},get_material:function(){return this._material},get_animator:function(){return this._animator},set_material:function(a){if(a==this._material)return a;null!=this._material&&this._material.removeOwner(this);
this._material=a;null!=this._material&&this._material.addOwner(this);return a},get_uvTransform:function(){return null},get_uvTransform2:function(){return null},get_vertexData:function(){return null},get_indexData:function(){return null},get_UVData:function(){return null},get_numVertices:function(){return 0},get_vertexStride:function(){return 11},get_vertexNormalData:function(){return null},get_vertexTangentData:function(){return null},get_vertexOffset:function(){return 0},get_vertexNormalOffset:function(){return 0},
get_vertexTangentOffset:function(){return 0},get_assetType:function(){return"segmentSet"},getRenderSceneTransform:function(a){return this._sceneTransform},__class__:Cc,__properties__:z(zc.prototype.__properties__,{get_vertexTangentOffset:"get_vertexTangentOffset",get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexStride:"get_vertexStride",get_numVertices:"get_numVertices",
get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexData:"get_vertexData",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",get_animator:"get_animator",set_material:"set_material",get_material:"get_material",get_castsShadows:"get_castsShadows",get_sourceEntity:"get_sourceEntity",get_numTriangles:"get_numTriangles",get_hasData:"get_hasData",get_subSetCount:"get_subSetCount",get_segmentCount:"get_segmentCount"})});var nq=function(){};m["away3d.entities.SegRef"]=nq;nq.__name__=
["away3d","entities","SegRef"];nq.prototype={index:null,subSetIndex:null,segment:null,__class__:nq};var oq=function(){};m["away3d.entities.SubSet"]=oq;oq.__name__=["away3d","entities","SubSet"];oq.prototype={vertices:null,numVertices:null,indices:null,numIndices:null,vertexBufferDirty:null,indexBufferDirty:null,vertexContext3D:null,indexContext3D:null,vertexBuffer:null,indexBuffer:null,lineCount:null,dispose:function(){this.vertices=null;null!=this.vertexBuffer&&sb.disposeVertexBuffer(this.vertexBuffer);
null!=this.indexBuffer&&sb.disposeIndexBuffer(this.indexBuffer)},__class__:oq};var Dk=function(a){this._viewProjection=new Xa;this._viewProjectionInvalid=!0;this._lens=new hd;this._lens.addEventListener("matrixChanged",u(this,this.onInvalidateLensMatrix),!1,0,!0);this._texture=a;this._lens.set_aspectRatio(a.get_width()/a.get_height());Va.call(this);this.set_rotationX(-90)};m["away3d.entities.TextureProjector"]=Dk;Dk.__name__=["away3d","entities","TextureProjector"];Dk.__super__=Va;Dk.prototype=z(Va.prototype,
{_lens:null,_viewProjectionInvalid:null,_viewProjection:null,_texture:null,get_aspectRatio:function(){return this._lens.get_aspectRatio()},set_aspectRatio:function(a){this._lens.set_aspectRatio(a);return a},get_fieldOfView:function(){return this._lens.get_fieldOfView()},set_fieldOfView:function(a){this._lens.set_fieldOfView(a);return a},get_assetType:function(){return"textureProjector"},get_texture:function(){return this._texture},set_texture:function(a){return a==this._texture?a:this._texture=a},
get_viewProjection:function(){this._viewProjectionInvalid&&(this._viewProjection.copyFrom(this.get_inverseSceneTransform()),this._viewProjection.append(this._lens.get_matrix()),this._viewProjectionInvalid=!1);return this._viewProjection},invalidateSceneTransform:function(){Va.prototype.invalidateSceneTransform.call(this);this._viewProjectionInvalid=!0},onInvalidateLensMatrix:function(a){this._viewProjectionInvalid=!0},__class__:Dk,__properties__:z(Va.prototype.__properties__,{get_viewProjection:"get_viewProjection",
set_texture:"set_texture",get_texture:"get_texture",set_fieldOfView:"set_fieldOfView",get_fieldOfView:"get_fieldOfView",set_aspectRatio:"set_aspectRatio",get_aspectRatio:"get_aspectRatio"})});var sa=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b;this.name="Error"};m["openfl.errors.Error"]=sa;sa.__name__=["openfl","errors","Error"];sa.prototype={errorID:null,message:null,name:null,getStackTrace:function(){return Qa.toString(Qa.exceptionStack())},toString:function(){return null!=
this.message?this.message:"Error"},__class__:sa};var bb=function(a,b){null==b&&(b=0);null==a&&(a="An abstract method was called! Either an instance of an abstract class was created, or an abstract method was not overridden by the subclass.");sa.call(this,a,b)};m["away3d.errors.AbstractMethodError"]=bb;bb.__name__=["away3d","errors","AbstractMethodError"];bb.__super__=sa;bb.prototype=z(sa.prototype,{__class__:bb});var Fm=function(a){sa.call(this,a)};m["away3d.errors.AnimationSetError"]=Fm;Fm.__name__=
["away3d","errors","AnimationSetError"];Fm.__super__=sa;Fm.prototype=z(sa.prototype,{__class__:Fm});var Vh=function(a){sa.call(this,a)};m["away3d.errors.CastError"]=Vh;Vh.__name__=["away3d","errors","CastError"];Vh.__super__=sa;Vh.prototype=z(sa.prototype,{__class__:Vh});var Qh=function(a,b,c,d){ca.call(this,a,!1,!1);this._animator=b;this._animationState=c;this._animationNode=d};m["away3d.events.AnimationStateEvent"]=Qh;Qh.__name__=["away3d","events","AnimationStateEvent"];Qh.__super__=ca;Qh.prototype=
z(ca.prototype,{_animator:null,_animationState:null,_animationNode:null,get_animator:function(){return this._animator},get_animationState:function(){return this._animationState},get_animationNode:function(){return this._animationNode},clone:function(){return new Qh(this.type,this._animator,this._animationState,this._animationNode)},__class__:Qh,__properties__:{get_animationNode:"get_animationNode",get_animationState:"get_animationState",get_animator:"get_animator"}});var Of=function(a,b){ca.call(this,
a,!1,!1);this._animator=b};m["away3d.events.AnimatorEvent"]=Of;Of.__name__=["away3d","events","AnimatorEvent"];Of.__super__=ca;Of.prototype=z(ca.prototype,{_animator:null,get_animator:function(){return this._animator},clone:function(){return new Of(this.type,this._animator)},__class__:Of,__properties__:{get_animator:"get_animator"}});var Wb=function(a,b,c){ca.call(this,a);this._asset=b;this._prevName=null!=c?c:null!=this._asset?this._asset.get_name():null};m["away3d.events.Asset3DEvent"]=Wb;Wb.__name__=
["away3d","events","Asset3DEvent"];Wb.__super__=ca;Wb.prototype=z(ca.prototype,{_asset:null,_prevName:null,get_asset:function(){return this._asset},get_assetPrevName:function(){return this._prevName},clone:function(){return new Wb(this.type,this.get_asset(),this.get_assetPrevName())},__class__:Wb,__properties__:{get_assetPrevName:"get_assetPrevName",get_asset:"get_asset"}});var Qi=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);ca.call(this,a,c,d);this._camera=b};m["away3d.events.CameraEvent"]=
Qi;Qi.__name__=["away3d","events","CameraEvent"];Qi.__super__=ca;Qi.prototype=z(ca.prototype,{_camera:null,get_camera:function(){return this._camera},clone:function(){return new Qi(this.type,this._camera,this.bubbles,this.cancelable)},__class__:Qi,__properties__:{get_camera:"get_camera"}});var Vf=function(a,b){ca.call(this,a,!1,!1);this._subGeometry=b};m["away3d.events.GeometryEvent"]=Vf;Vf.__name__=["away3d","events","GeometryEvent"];Vf.__super__=ca;Vf.prototype=z(ca.prototype,{_subGeometry:null,
get_subGeometry:function(){return this._subGeometry},clone:function(){return new Vf(this.type,this._subGeometry)},__class__:Vf,__properties__:{get_subGeometry:"get_subGeometry"}});var Ri=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);ca.call(this,a,c,d);this._lens=b};m["away3d.events.LensEvent"]=Ri;Ri.__name__=["away3d","events","LensEvent"];Ri.__super__=ca;Ri.prototype=z(ca.prototype,{_lens:null,get_lens:function(){return this._lens},clone:function(){return new Ri(this.type,this._lens,this.bubbles,
this.cancelable)},__class__:Ri,__properties__:{get_lens:"get_lens"}});var Xi=function(a){ca.call(this,a)};m["away3d.events.LightEvent"]=Xi;Xi.__name__=["away3d","events","LightEvent"];Xi.__super__=ca;Xi.prototype=z(ca.prototype,{clone:function(){return new Xi(this.type)},__class__:Xi});var Ee=function(a,b,c,d){null==c&&(c=!1);ca.call(this,a);this._url=b;this._message=d;this._isDependency=c};m["away3d.events.LoaderEvent"]=Ee;Ee.__name__=["away3d","events","LoaderEvent"];Ee.__super__=ca;Ee.prototype=
z(ca.prototype,{_url:null,_message:null,_isDependency:null,get_url:function(){return this._url},get_message:function(){return this._message},get_isDependency:function(){return this._isDependency},clone:function(){return new Ee(this.type,this._url,this._isDependency,this._message)},__class__:Ee,__properties__:{get_isDependency:"get_isDependency",get_message:"get_message",get_url:"get_url"}});var De=function(a,b){ca.call(this,a);this.object=b};m["away3d.events.Object3DEvent"]=De;De.__name__=["away3d",
"events","Object3DEvent"];De.__super__=ca;De.prototype=z(ca.prototype,{object:null,clone:function(){return new De(this.type,this.object)},__class__:De});var Cf=function(a,b){null==b&&(b="");ca.call(this,a);this._message=b};m["away3d.events.ParserEvent"]=Cf;Cf.__name__=["away3d","events","ParserEvent"];Cf.__super__=ca;Cf.prototype=z(ca.prototype,{_message:null,get_message:function(){return this._message},clone:function(){return new Cf(this.type,this.get_message())},__class__:Cf,__properties__:{get_message:"get_message"}});
var Sf=function(a,b){this.objectContainer3D=b;ca.call(this,a)};m["away3d.events.Scene3DEvent"]=Sf;Sf.__name__=["away3d","events","Scene3DEvent"];Sf.__super__=ca;Sf.prototype=z(ca.prototype,{objectContainer3D:null,clone:function(){return new Sf(this.type,this.objectContainer3D)},__class__:Sf});var Yi=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c)};m["away3d.events.ShadingMethodEvent"]=Yi;Yi.__name__=["away3d","events","ShadingMethodEvent"];Yi.__super__=ca;Yi.prototype=z(ca.prototype,
{__class__:Yi});var Bf=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c)};m["away3d.events.Stage3DEvent"]=Bf;Bf.__name__=["away3d","events","Stage3DEvent"];Bf.__super__=ca;Bf.prototype=z(ca.prototype,{__class__:Bf});var ag=function(a){this._allowedToPropagate=!0;ca.call(this,a,!0,!0)};m["away3d.events.TouchEvent3D"]=ag;ag.__name__=["away3d","events","TouchEvent3D"];ag.__super__=ca;ag.prototype=z(ca.prototype,{_allowedToPropagate:null,_parentEvent:null,screenX:null,screenY:null,view:null,
object:null,renderable:null,material:null,uv:null,index:null,subGeometryIndex:null,localPosition:null,localNormal:null,ctrlKey:null,altKey:null,shiftKey:null,touchPointID:null,stopPropagation:function(){ca.prototype.stopPropagation.call(this);this._allowedToPropagate=!1;null!=this._parentEvent&&(this._parentEvent._allowedToPropagate=!1)},stopImmediatePropagation:function(){ca.prototype.stopImmediatePropagation.call(this);this._allowedToPropagate=!1;null!=this._parentEvent&&(this._parentEvent._allowedToPropagate=
!1)},clone:function(){var a=new ag(this.type);a.screenX=this.screenX;a.screenY=this.screenY;a.view=this.view;a.object=this.object;a.renderable=this.renderable;a.material=this.material;a.uv=this.uv;a.localPosition=this.localPosition;a.localNormal=this.localNormal;a.index=this.index;a.subGeometryIndex=this.subGeometryIndex;a.ctrlKey=this.ctrlKey;a.shiftKey=this.shiftKey;a._parentEvent=this;return a},get_scenePosition:function(){return y.__instanceof(this.object,Va)?y.__cast(this.object,Va).get_sceneTransform().transformVector(this.localPosition):
this.localPosition},get_sceneNormal:function(){if(y.__instanceof(this.object,Va)){var a=y.__cast(this.object,Va).get_sceneTransform().deltaTransformVector(this.localNormal);a.normalize();return a}return this.localNormal},__class__:ag,__properties__:{get_sceneNormal:"get_sceneNormal",get_scenePosition:"get_scenePosition"}});var cf=function(){this._tasks=x.toObjectVector(null)};m["away3d.filters.Filter3DBase"]=cf;cf.__name__=["away3d","filters","Filter3DBase"];cf.prototype={_tasks:null,_requireDepthRender:null,
_textureWidth:null,_textureHeight:null,get_requireDepthRender:function(){return this._requireDepthRender},addTask:function(a){this._tasks.push(a);this._requireDepthRender||(this._requireDepthRender=a.get_requireDepthRender())},get_tasks:function(){return this._tasks},getMainInputTexture:function(a){return this._tasks.get(0).getMainInputTexture(a)},get_textureWidth:function(){return this._textureWidth},set_textureWidth:function(a){this._textureWidth=a;for(var b=0,c=this._tasks.get_length();b<c;){var d=
b++;this._tasks.get(d).set_textureWidth(a)}return a},get_textureHeight:function(){return this._textureHeight},set_textureHeight:function(a){this._textureHeight=a;for(var b=0,c=this._tasks.get_length();b<c;){var d=b++;this._tasks.get(d).set_textureHeight(a)}return a},setRenderTargets:function(a,b){this._tasks.get(this._tasks.get_length()-1).set_target(a)},dispose:function(){for(var a=0,b=this._tasks.get_length();a<b;){var c=a++;this._tasks.get(c).dispose()}},update:function(a,b){},__class__:cf,__properties__:{set_textureHeight:"set_textureHeight",
get_textureHeight:"get_textureHeight",set_textureWidth:"set_textureWidth",get_textureWidth:"get_textureWidth",get_tasks:"get_tasks",get_requireDepthRender:"get_requireDepthRender"}};var bm=function(a,b,c){null==c&&(c=-1);null==b&&(b=3);null==a&&(a=3);cf.call(this);this.addTask(this._hBlurTask=new Ek(a,c));this.addTask(this._vBlurTask=new Fk(b,c))};m["away3d.filters.BlurFilter3D"]=bm;bm.__name__=["away3d","filters","BlurFilter3D"];bm.__super__=cf;bm.prototype=z(cf.prototype,{_hBlurTask:null,_vBlurTask:null,
get_blurX:function(){return this._hBlurTask.get_amount()},set_blurX:function(a){this._hBlurTask.set_amount(a);return a},get_blurY:function(){return this._vBlurTask.get_amount()},set_blurY:function(a){this._vBlurTask.set_amount(a);return a},get_stepSize:function(){return this._hBlurTask.get_stepSize()},set_stepSize:function(a){this._hBlurTask.set_stepSize(a);this._vBlurTask.set_stepSize(a);return a},setRenderTargets:function(a,b){this._hBlurTask.set_target(this._vBlurTask.getMainInputTexture(b));cf.prototype.setRenderTargets.call(this,
a,b)},__class__:bm,__properties__:z(cf.prototype.__properties__,{set_stepSize:"set_stepSize",get_stepSize:"get_stepSize",set_blurY:"set_blurY",get_blurY:"get_blurY",set_blurX:"set_blurX",get_blurX:"get_blurX"})});var Ba=function(a){null==a&&(a=!1);this._textureScale=0;this._textureDimensionsInvalid=this._program3DInvalid=!0;this._scaledTextureWidth=this._scaledTextureHeight=this._textureWidth=this._textureHeight=-1;this._requireDepthRender=a};m["away3d.filters.tasks.Filter3DTaskBase"]=Ba;Ba.__name__=
["away3d","filters","tasks","Filter3DTaskBase"];Ba.prototype={_mainInputTexture:null,_mainInputTextureContext:null,_scaledTextureWidth:null,_scaledTextureHeight:null,_textureWidth:null,_textureHeight:null,_textureDimensionsInvalid:null,_program3DInvalid:null,_program3D:null,_program3DContext:null,_target:null,_requireDepthRender:null,_textureScale:null,get_textureScale:function(){return this._textureScale},set_textureScale:function(a){if(this._textureScale==a)return a;this._textureScale=a;this._scaledTextureWidth=
this._textureWidth>>this._textureScale;this._scaledTextureHeight=this._textureHeight>>this._textureScale;this._textureDimensionsInvalid=!0;return a},get_target:function(){return this._target},set_target:function(a){return this._target=a},get_textureWidth:function(){return this._textureWidth},set_textureWidth:function(a){if(this._textureWidth==a)return a;this._textureWidth=a;this._scaledTextureWidth=this._textureWidth>>this._textureScale;1>this._scaledTextureWidth&&(this._scaledTextureWidth=1);this._textureDimensionsInvalid=
!0;return a},get_textureHeight:function(){return this._textureHeight},set_textureHeight:function(a){if(this._textureHeight==a)return a;this._textureHeight=a;this._scaledTextureHeight=this._textureHeight>>this._textureScale;1>this._scaledTextureHeight&&(this._scaledTextureHeight=1);this._textureDimensionsInvalid=!0;return a},getMainInputTexture:function(a){a.get_context3D()!=this._mainInputTextureContext&&(this._textureDimensionsInvalid=!0);this._textureDimensionsInvalid&&this.updateTextures(a);return this._mainInputTexture},
dispose:function(){null!=this._mainInputTexture&&this._mainInputTexture.dispose();null!=this._program3D&&this._program3D.dispose();this._program3DContext=null},invalidateProgram3D:function(){this._program3DInvalid=!0},updateProgram3D:function(a){null!=this._program3D&&this._program3D.dispose();this._program3DContext=a.get_context3D();this._program3D=this._program3DContext.createProgram();this._program3D.upload((new W(tb.active)).assemble(Se.toString(1),this.getVertexCode()),(new W(tb.active)).assemble(Se.toString(0),
this.getFragmentCode()));this._program3DInvalid=!1},getVertexCode:function(){return"mov op, va0\nmov v0, va1\n"},getFragmentCode:function(){throw new H(new bb);},updateTextures:function(a){null!=this._mainInputTexture&&this._mainInputTexture.dispose();this._mainInputTextureContext=a.get_context3D();this._mainInputTexture=this._mainInputTextureContext.createTexture(this._scaledTextureWidth,this._scaledTextureHeight,1,!0);this._textureDimensionsInvalid=!1},getProgram3D:function(a){this._program3DContext!=
a.get_context3D()&&(this._program3DInvalid=!0);this._program3DInvalid&&this.updateProgram3D(a);return this._program3D},activate:function(a,b,c){},deactivate:function(a){},get_requireDepthRender:function(){return this._requireDepthRender},__class__:Ba,__properties__:{get_requireDepthRender:"get_requireDepthRender",set_textureHeight:"set_textureHeight",get_textureHeight:"get_textureHeight",set_textureWidth:"set_textureWidth",get_textureWidth:"get_textureWidth",set_target:"set_target",get_target:"get_target",
set_textureScale:"set_textureScale",get_textureScale:"get_textureScale"}};var Ek=function(a,b){null==b&&(b=-1);this._stepSize=1;Ba.call(this);this._amount=a;for(var c=[0,0,0,1],d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}this._data=d;this.set_stepSize(b)};m["away3d.filters.tasks.Filter3DHBlurTask"]=Ek;Ek.__name__=["away3d","filters","tasks","Filter3DHBlurTask"];Ek.__super__=Ba;Ek.prototype=z(Ba.prototype,{_amount:null,_data:null,_stepSize:null,_realStepSize:null,get_amount:function(){return this._amount},
set_amount:function(a){if(a==this._amount)return a;this._amount=a;this.invalidateProgram3D();this.updateBlurData();this.calculateStepSize();return a},get_stepSize:function(){return this._stepSize},set_stepSize:function(a){if(a==this._stepSize)return a;this._stepSize=a;this.calculateStepSize();this.invalidateProgram3D();this.updateBlurData();return a},getFragmentCode:function(){var a,b=1;a="mov ft0, v0\t\nsub ft0.x, v0.x, fc0.x\ntex ft1, ft0, fs0 <2d,linear,clamp>\n";for(var c=this._realStepSize;c<=
this._amount;)a+="add ft0.x, ft0.x, fc0.y\t\ntex ft2, ft0, fs0 <2d,linear,clamp>\nadd ft1, ft1, ft2 \n",++b,c+=this._realStepSize;a+="mul oc, ft1, fc0.z";this._data.set(2,1/b);return a},activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this._data,1)},updateTextures:function(a){Ba.prototype.updateTextures.call(this,a);this.updateBlurData()},updateBlurData:function(){var a=1/this._textureWidth;this._data.set(0,.5*this._amount*a);this._data.set(1,this._realStepSize*a)},calculateStepSize:function(){this._realStepSize=
0<this._stepSize?this._stepSize:15<this._amount?this._amount/15:1},__class__:Ek,__properties__:z(Ba.prototype.__properties__,{set_stepSize:"set_stepSize",get_stepSize:"get_stepSize",set_amount:"set_amount",get_amount:"get_amount"})});var Fk=function(a,b){null==b&&(b=-1);this._stepSize=1;Ba.call(this);this._amount=a;for(var c=[0,0,0,1],d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}this._data=d;this.set_stepSize(b)};m["away3d.filters.tasks.Filter3DVBlurTask"]=Fk;Fk.__name__=["away3d",
"filters","tasks","Filter3DVBlurTask"];Fk.__super__=Ba;Fk.prototype=z(Ba.prototype,{_amount:null,_data:null,_stepSize:null,_realStepSize:null,get_amount:function(){return this._amount},set_amount:function(a){if(a==this._amount)return a;this._amount=a;this.invalidateProgram3D();this.updateBlurData();return a},get_stepSize:function(){return this._stepSize},set_stepSize:function(a){if(a==this._stepSize)return a;this._stepSize=a;this.calculateStepSize();this.invalidateProgram3D();this.updateBlurData();
return a},getFragmentCode:function(){var a,b=1;a="mov ft0, v0\t\nsub ft0.y, v0.y, fc0.x\ntex ft1, ft0, fs0 <2d,linear,clamp>\n";for(var c=this._realStepSize;c<=this.get_amount();)a+="add ft0.y, ft0.y, fc0.y\t\n",a+="tex ft2, ft0, fs0 <2d,linear,clamp>\nadd ft1, ft1, ft2 \n",++b,c+=this._realStepSize;a+="mul ft1, ft1, fc0.z \nmov oc, ft1";this._data.set(2,1/b);return a},activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this._data,1)},updateTextures:function(a){Ba.prototype.updateTextures.call(this,
a);this.updateBlurData()},updateBlurData:function(){var a=1/this._textureHeight;this._data.set(0,.5*this._amount*a);this._data.set(1,this._realStepSize*a)},calculateStepSize:function(){this._realStepSize=0<this._stepSize?this._stepSize:15<this._amount?this._amount/15:1},__class__:Fk,__properties__:z(Ba.prototype.__properties__,{set_stepSize:"set_stepSize",get_stepSize:"get_stepSize",set_amount:"set_amount",get_amount:"get_amount"})});var ob=function(){};m["away3d.library.Asset3DLibrary"]=ob;ob.__name__=
["away3d","library","Asset3DLibrary"];ob.__properties__={set_conflictPrecedence:"set_conflictPrecedence",get_conflictPrecedence:"get_conflictPrecedence",set_conflictStrategy:"set_conflictStrategy",get_conflictStrategy:"get_conflictStrategy"};ob.getBundle=function(a){null==a&&(a="default");return Ig.getInstance(a)};ob.enableParser=function(a){dc.enableParser(a)};ob.enableParsers=function(a){dc.enableParsers(a)};ob.get_conflictStrategy=function(){return ob.getBundle().get_conflictStrategy()};ob.set_conflictStrategy=
function(a){return ob.getBundle().set_conflictStrategy(a)};ob.get_conflictPrecedence=function(){return ob.getBundle().get_conflictPrecedence()};ob.set_conflictPrecedence=function(a){return ob.getBundle().set_conflictPrecedence(a)};ob.createIterator=function(a,b,c){return ob.getBundle().createIterator(a,b,c)};ob.load=function(a,b,c,d){return ob.getBundle().load(a,b,c,d)};ob.loadData=function(a,b,c,d){return ob.getBundle().loadData(a,b,c,d)};ob.stopLoad=function(){ob.getBundle().stopAllLoadingSessions()};
ob.getAsset=function(a,b){return ob.getBundle().getAsset(a,b)};ob.addEventListener=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);ob.getBundle().addEventListener(a,b,c,d,e)};ob.removeEventListener=function(a,b,c){null==c&&(c=!1);ob.getBundle().removeEventListener(a,b,c)};ob.hasEventListener=function(a){return ob.getBundle().hasEventListener(a)};ob.willTrigger=function(a){return ob.getBundle().willTrigger(a)};ob.addAsset=function(a){ob.getBundle().addAsset(a)};ob.removeAsset=function(a,
b){null==b&&(b=!0);ob.getBundle().removeAsset(a,b)};ob.removeAssetByName=function(a,b,c){null==c&&(c=!0);return ob.getBundle().removeAssetByName(a,b,c)};ob.removeAllAssets=function(a){null==a&&(a=!0);ob.getBundle().removeAllAssets(a)};ob.removeNamespaceAssets=function(a,b){null==b&&(b=!0);ob.getBundle().removeNamespaceAssets(a,b)};ob.prototype={__class__:ob};var Ig=function(){za.call(this);this._assets=x.toObjectVector(null);this._assetDictionary=new qa;this._loadingSessions=x.toObjectVector(null);
this.set_conflictStrategy($m.IGNORE.create());this.set_conflictPrecedence("favorNew")};m["away3d.library.Asset3DLibraryBundle"]=Ig;Ig.__name__=["away3d","library","Asset3DLibraryBundle"];Ig.getInstance=function(a){null==a&&(a="default");null==a&&(a="default");var b=ob._instances;if(null!=t[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a)){var b=ob._instances,c=new Ig;null!=t[a]?b.setReserved(a,c):b.h[a]=c}b=ob._instances;return null!=t[a]?b.getReserved(a):b.h[a]};Ig.__super__=za;Ig.prototype=z(za.prototype,
{_loadingSessions:null,_strategy:null,_strategyPreference:null,_assets:null,_assetDictionary:null,_assetDictDirty:null,enableParser:function(a){dc.enableParser(a)},enableParsers:function(a){dc.enableParsers(a)},get_conflictStrategy:function(){return this._strategy},set_conflictStrategy:function(a){if(null==a)throw new H(new sa("namingStrategy must not be null. To ignore naming, use Asset3DLibrary.IGNORE"));return this._strategy=a.create()},get_conflictPrecedence:function(){return this._strategyPreference},
set_conflictPrecedence:function(a){return this._strategyPreference=a},createIterator:function(a,b,c){return new pq(this._assets,a,b,c)},load:function(a,b,c,d){return this.loadResource(a,b,c,d)},loadData:function(a,b,c,d){return this.parseResource(a,b,c,d)},getAsset:function(a,b){this._assetDictDirty&&this.rehashAssetDict();null==b&&(b="default");var c=this._assetDictionary;if(null!=t[b]?!c.existsReserved(b):!c.h.hasOwnProperty(b))return null;c=this._assetDictionary;c=null!=t[b]?c.getReserved(b):c.h[b];
return null!=t[a]?c.getReserved(a):c.h[a]},addAsset:function(a){var b,c;if(!(0<=this._assets.indexOf(a,0))){c=this.getAsset(a.get_name(),a.get_assetNamespace());b=null!=a.get_assetNamespace()?a.get_assetNamespace():"default";if(null!=c){var d=this._assetDictionary;this._strategy.resolveConflict(a,c,null!=t[b]?d.getReserved(b):d.h[b],this._strategyPreference)}a.set_id(Wh.createUID());this._assets.push(a);c=this._assetDictionary;(null!=t[b]?c.existsReserved(b):c.h.hasOwnProperty(b))||(c=this._assetDictionary,
d=new qa,null!=t[b]?c.setReserved(b,d):c.h[b]=d);c=this._assetDictionary;b=null!=t[b]?c.getReserved(b):c.h[b];c=a.get_name();null!=t[c]?b.setReserved(c,a):b.h[c]=a;a.addEventListener("assetRename",u(this,this.onAssetRename));a.addEventListener("assetConflictResolved",u(this,this.onAssetConflictResolved))}},removeAsset:function(a,b){null==b&&(b=!0);var c;this.removeAssetFromDict(a);a.removeEventListener("assetRename",u(this,this.onAssetRename));a.removeEventListener("assetConflictResolved",u(this,
this.onAssetConflictResolved));c=this._assets.indexOf(a,0);0<=c&&this._assets.splice(c,1);b&&a.dispose()},removeAssetByName:function(a,b,c){null==c&&(c=!0);a=this.getAsset(a,b);null!=a&&this.removeAsset(a,c);return a},removeAllAssets:function(a){null==a&&(a=!0);if(a){a=0;for(var b=this._assets;a<b.get_length();){var c=b.get(a);++a;c.dispose()}}this._assets.set_length(0);this.rehashAssetDict()},removeNamespaceAssets:function(a,b){null==b&&(b=!0);var c=0,d=this._assets.concat(null);this._assets.set_length(0);
null==a&&(a="default");for(var e=0;e<d.get_length();){var f=d.get(e);++e;f.get_assetNamespace()==a?(b&&f.dispose(),this.removeAssetFromDict(f,!1)):this._assets.set(c++,f)}c=this._assetDictionary;(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))&&this._assetDictionary.remove(a)},removeAssetFromDict:function(a,b){null==b&&(b=!0);this._assetDictDirty&&this.rehashAssetDict();var c=this._assetDictionary,d=a.get_assetNamespace();if(null!=t[d]?c.existsReserved(d):c.h.hasOwnProperty(d)){c=this._assetDictionary;
d=a.get_assetNamespace();c=null!=t[d]?c.getReserved(d):c.h[d];d=a.get_name();if(null!=t[d]?c.existsReserved(d):c.h.hasOwnProperty(d))c=this._assetDictionary,d=a.get_assetNamespace(),(null!=t[d]?c.getReserved(d):c.h[d]).remove(a.get_name());if(b){var c=!0,d=this._assetDictionary,e=a.get_assetNamespace();(null!=t[e]?d.getReserved(e):d.h[e]).keys().hasNext()&&(c=!1);c&&this._assetDictionary.remove(a.get_assetNamespace())}}},loadResource:function(a,b,c,d){var e=new cg;null==this._loadingSessions&&(this._loadingSessions=
x.toObjectVector(null));this._loadingSessions.push(e);e.addEventListener("resourceComplete",u(this,this.onResourceRetrieved));e.addEventListener("dependencyComplete",u(this,this.onDependencyRetrieved));e.addEventListener("textureSizeError",u(this,this.onTextureSizeError));e.addEventListener("assetComplete",u(this,this.onAssetComplete));e.addEventListener("animationSetComplete",u(this,this.onAssetComplete));e.addEventListener("animationStateComplete",u(this,this.onAssetComplete));e.addEventListener("animationNodeComplete",
u(this,this.onAssetComplete));e.addEventListener("stateTransitionComplete",u(this,this.onAssetComplete));e.addEventListener("textureComplete",u(this,this.onAssetComplete));e.addEventListener("containerComplete",u(this,this.onAssetComplete));e.addEventListener("geometryComplete",u(this,this.onAssetComplete));e.addEventListener("materialComplete",u(this,this.onAssetComplete));e.addEventListener("meshComplete",u(this,this.onAssetComplete));e.addEventListener("entityComplete",u(this,this.onAssetComplete));
e.addEventListener("skeletonComplete",u(this,this.onAssetComplete));e.addEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));e.addErrorHandler(u(this,this.onDependencyRetrievingError));e.addParseErrorHandler(u(this,this.onDependencyRetrievingParseError));return e.load(a,b,c,d)},stopAllLoadingSessions:function(){null==this._loadingSessions&&(this._loadingSessions=x.toObjectVector(null));for(var a=0,b=this._loadingSessions.get_length();a<b;){var c=a++;this.killLoadingSession(this._loadingSessions.get(c))}this._loadingSessions=
null},parseResource:function(a,b,c,d){var e=new cg;null==this._loadingSessions&&(this._loadingSessions=x.toObjectVector(null));this._loadingSessions.push(e);e.addEventListener("resourceComplete",u(this,this.onResourceRetrieved));e.addEventListener("dependencyComplete",u(this,this.onDependencyRetrieved));e.addEventListener("textureSizeError",u(this,this.onTextureSizeError));e.addEventListener("assetComplete",u(this,this.onAssetComplete));e.addEventListener("animationSetComplete",u(this,this.onAssetComplete));
e.addEventListener("animationStateComplete",u(this,this.onAssetComplete));e.addEventListener("animationNodeComplete",u(this,this.onAssetComplete));e.addEventListener("stateTransitionComplete",u(this,this.onAssetComplete));e.addEventListener("textureComplete",u(this,this.onAssetComplete));e.addEventListener("containerComplete",u(this,this.onAssetComplete));e.addEventListener("geometryComplete",u(this,this.onAssetComplete));e.addEventListener("materialComplete",u(this,this.onAssetComplete));e.addEventListener("meshComplete",
u(this,this.onAssetComplete));e.addEventListener("entityComplete",u(this,this.onAssetComplete));e.addEventListener("skeletonComplete",u(this,this.onAssetComplete));e.addEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));e.addErrorHandler(u(this,this.onDependencyRetrievingError));e.addParseErrorHandler(u(this,this.onDependencyRetrievingParseError));return e.loadData(a,"",b,c,d)},rehashAssetDict:function(){this._assetDictionary=new qa;this._assets.fixed=!0;for(var a=0,b=this._assets;a<
b.get_length();){var c=b.get(a);++a;var d=this._assetDictionary,e=c.get_assetNamespace();if(null!=t[e]?!d.existsReserved(e):!d.h.hasOwnProperty(e)){var f=this._assetDictionary,e=c.get_assetNamespace(),d=new qa;null!=t[e]?f.setReserved(e,d):f.h[e]=d}d=this._assetDictionary;e=c.get_assetNamespace();d=null!=t[e]?d.getReserved(e):d.h[e];e=c.get_name();null!=t[e]?d.setReserved(e,c):d.h[e]=c}this._assetDictDirty=this._assets.fixed=!1},onDependencyRetrieved:function(a){this.hasEventListener("dependencyComplete")&&
this.dispatchEvent(a)},onDependencyRetrievingError:function(a){return this.hasEventListener("loadError")?(this.dispatchEvent(a),!0):!1},onDependencyRetrievingParseError:function(a){return this.hasEventListener("parseError")?(this.dispatchEvent(a),!0):!1},onAssetComplete:function(a){"assetComplete"==a.type&&this.addAsset(a.get_asset());this.dispatchEvent(a.clone())},onTextureSizeError:function(a){this.dispatchEvent(a.clone())},onResourceRetrieved:function(a){var b=y.__cast(a.target,cg);this.killLoadingSession(b);
b=this._loadingSessions.indexOf(b,0);this._loadingSessions.splice(b,1);this.dispatchEvent(a.clone())},killLoadingSession:function(a){a.removeEventListener("loadError",u(this,this.onDependencyRetrievingError));a.removeEventListener("resourceComplete",u(this,this.onResourceRetrieved));a.removeEventListener("dependencyComplete",u(this,this.onDependencyRetrieved));a.removeEventListener("textureSizeError",u(this,this.onTextureSizeError));a.removeEventListener("assetComplete",u(this,this.onAssetComplete));
a.removeEventListener("animationSetComplete",u(this,this.onAssetComplete));a.removeEventListener("animationStateComplete",u(this,this.onAssetComplete));a.removeEventListener("animationNodeComplete",u(this,this.onAssetComplete));a.removeEventListener("stateTransitionComplete",u(this,this.onAssetComplete));a.removeEventListener("textureComplete",u(this,this.onAssetComplete));a.removeEventListener("containerComplete",u(this,this.onAssetComplete));a.removeEventListener("geometryComplete",u(this,this.onAssetComplete));
a.removeEventListener("materialComplete",u(this,this.onAssetComplete));a.removeEventListener("meshComplete",u(this,this.onAssetComplete));a.removeEventListener("entityComplete",u(this,this.onAssetComplete));a.removeEventListener("skeletonComplete",u(this,this.onAssetComplete));a.removeEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));a.stop()},onAssetRename:function(a){var b=y.__cast(a.currentTarget,bd),c=this.getAsset(b.get_assetNamespace(),b.get_name());if(null!=c){a=this._strategy;
var d=this._assetDictionary,e=b.get_assetNamespace();a.resolveConflict(b,c,null!=t[e]?d.getReserved(e):d.h[e],this._strategyPreference)}else b=this._assetDictionary,c=a.get_asset().get_assetNamespace(),b=null!=t[c]?b.getReserved(c):b.h[c],null!=b&&(b.remove(a.get_assetPrevName()),c=a.get_asset().get_name(),a=a.get_asset(),null!=t[c]?b.setReserved(c,a):b.h[c]=a)},onAssetConflictResolved:function(a){this.dispatchEvent(a.clone())},__class__:Ig,__properties__:{set_conflictPrecedence:"set_conflictPrecedence",
get_conflictPrecedence:"get_conflictPrecedence",set_conflictStrategy:"set_conflictStrategy",get_conflictStrategy:"get_conflictStrategy"}});var md=function(){};m["away3d.library.assets.Asset3DType"]=md;md.__name__=["away3d","library","assets","Asset3DType"];var Gk=function(a){this._bitmapData=a;Ka.call(this)};m["away3d.library.assets.BitmapDataAsset"]=Gk;Gk.__name__=["away3d","library","assets","BitmapDataAsset"];Gk.__interfaces__=[bd];Gk.__super__=Ka;Gk.prototype=z(Ka.prototype,{_bitmapData:null,
get_bitmapData:function(){return this._bitmapData},set_bitmapData:function(a){return this._bitmapData=a},get_assetType:function(){return"texture"},dispose:function(){this._bitmapData.dispose()},__class__:Gk,__properties__:z(Ka.prototype.__properties__,{get_assetType:"get_assetType",set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"})});var ss=function(){};m["away3d.library.naming.ConflictPrecedence"]=ss;ss.__name__=["away3d","library","naming","ConflictPrecedence"];var mh=function(){};
m["away3d.library.naming.ConflictStrategyBase"]=mh;mh.__name__=["away3d","library","naming","ConflictStrategyBase"];mh.prototype={resolveConflict:function(a,b,c,d){throw new H(new bb);},create:function(){throw new H(new bb);},updateNames:function(a,b,c,d,e,f){var k;k="favorNew"==f?d:c;d="favorNew"==f?c:d;c=d.get_name();f=k.get_name();null!=t[f]?e.setReserved(f,k):e.h[f]=k;null!=t[b]?e.setReserved(b,d):e.h[b]=d;d.resetAssetPath(b,a,!1);d.dispatchEvent(new Wb("assetConflictResolved",d,c))},__class__:mh};
var Hk=function(a){null==a&&(a=".");this._separator=a;this._next_suffix=new qa};m["away3d.library.naming.NumSuffixConflictStrategy"]=Hk;Hk.__name__=["away3d","library","naming","NumSuffixConflictStrategy"];Hk.__super__=mh;Hk.prototype=z(mh.prototype,{_separator:null,_next_suffix:null,resolveConflict:function(a,b,c,d){var e,f,k;e=a.get_name();0<=e.indexOf(this._separator)?(f=e.substring(0,e.lastIndexOf(this._separator)),k=h.parseInt(e.substring(f.length-1)),isNaN(k)&&(f=e,k=0)):(f=e,k=0);0==k?(e=this._next_suffix,
e=null!=t[f]?e.existsReserved(f):e.h.hasOwnProperty(f)):e=!1;e&&(k=this._next_suffix,k=null!=t[f]?k.getReserved(f):k.h[f]);for(;++k,e=f+this._separator+k,null!=t[e]?c.existsReserved(e):c.h.hasOwnProperty(e););var p=this._next_suffix;null!=t[f]?p.setReserved(f,k):p.h[f]=k;this.updateNames(b.get_assetNamespace(),e,b,a,c,d)},create:function(){return new Hk(this._separator)},__class__:Hk});var Ik=function(){};m["away3d.library.naming.IgnoreConflictStrategy"]=Ik;Ik.__name__=["away3d","library","naming",
"IgnoreConflictStrategy"];Ik.__super__=mh;Ik.prototype=z(mh.prototype,{resolveConflict:function(a,b,c,d){},create:function(){return new Ik},__class__:Ik});var Jk=function(){};m["away3d.library.naming.ErrorConflictStrategy"]=Jk;Jk.__name__=["away3d","library","naming","ErrorConflictStrategy"];Jk.__super__=mh;Jk.prototype=z(mh.prototype,{resolveConflict:function(a,b,c,d){throw new H(new sa("Asset name collision while Asset3DLibrary.namingStrategy set to Asset3DLibrary.THROW_ERROR. Asset path: "+h.string(a.get_assetFullPath())));
},create:function(){return new Jk},__class__:Jk});var $m=function(){};m["away3d.library.naming.ConflictStrategy"]=$m;$m.__name__=["away3d","library","naming","ConflictStrategy"];var pq=function(a,b,c,d){this._assets=a;this.filter(b,c,d)};m["away3d.library.utils.Asset3DLibraryIterator"]=pq;pq.__name__=["away3d","library","utils","Asset3DLibraryIterator"];pq.prototype={_assets:null,_filtered:null,_idx:null,get_currentAsset:function(){return this._idx<this._filtered.get_length()?this._filtered.get(this._idx):
null},get_numAssets:function(){return this._filtered.get_length()},next:function(){var a=null;this._idx<this._filtered.get_length()&&(a=this._filtered.get(this._idx));this._idx++;return a},reset:function(){this._idx=0},setIndex:function(a){this._idx=a},filter:function(a,b,c){if(null!=a||null!=b||null!=c){var d;d=0;this._filtered=x.toObjectVector(null);for(var e=0,f=this._assets;e<f.get_length();){var k=f.get(e);++e;if(null==a||k.get_assetType()==a)if(null==b||k.get_assetNamespace()==b)null!=c&&null==
c(k)||this._filtered.set(d++,k)}}else this._filtered=this._assets},__class__:pq,__properties__:{get_numAssets:"get_numAssets",get_currentAsset:"get_currentAsset"}};var Wh=function(){};m["away3d.library.utils.IDUtil"]=Wh;Wh.__name__=["away3d","library","utils","IDUtil"];Wh.createUID=function(){for(var a=[],b=0;36>b;){var c=b++;a[c]=0}for(c=b=0;8>c;)c++,a[b++]=Wh.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];for(c=0;3>c;){c++;a[b++]=45;for(var d=0;4>d;)d++,a[b++]=Wh.ALPHA_CHAR_CODES[Math.floor(16*
Math.random())]}a[b++]=45;c=(new Date).getTime();c=da.substr("0000000"+Da.hex(c|0),-8,null);for(d=0;8>d;){var e=d++;a[b++]=da.cca(c,e)}for(c=0;4>c;)c++,a[b++]=Wh.ALPHA_CHAR_CODES[Math.floor(16*Math.random())];b="";c=0;for(d=a.length;c<d;)e=c++,b+=String.fromCharCode(a[e]);return b};Wh.getDigit=function(a){switch(a){case "A":case "a":return 10;case "C":case "c":return 12;case "E":case "e":return 14;case "B":case "b":return 11;case "D":case "d":return 13;case "F":case "f":return 15;default:return h.parseInt(a)}};
var nd=function(){this._specular=this._specularR=this._specularG=this._specularB=this._diffuse=this._diffuseR=this._diffuseG=this._diffuseB=1;this._ambient=this._ambientR=this._ambientG=this._ambientB=0;this._ambientColor=16777215;this._colorR=this._colorG=this._colorB=1;this._color=16777215;zc.call(this)};m["away3d.lights.LightBase"]=nd;nd.__name__=["away3d","lights","LightBase"];nd.__super__=zc;nd.prototype=z(zc.prototype,{_color:null,_colorR:null,_colorG:null,_colorB:null,_ambientColor:null,_ambient:null,
_ambientR:null,_ambientG:null,_ambientB:null,_specular:null,_specularR:null,_specularG:null,_specularB:null,_diffuse:null,_diffuseR:null,_diffuseG:null,_diffuseB:null,_castsShadows:null,_shadowMapper:null,get_castsShadows:function(){return this._castsShadows},set_castsShadows:function(a){if(this._castsShadows==a)return a;(this._castsShadows=a)?(null==this._shadowMapper&&(this._shadowMapper=this.createShadowMapper()),this._shadowMapper.set_light(this)):(null!=this._shadowMapper&&this._shadowMapper.dispose(),
this._shadowMapper=null);this.dispatchEvent(new Xi("castsShadowChange"));return a},createShadowMapper:function(){throw new H(new bb);},get_specular:function(){return this._specular},set_specular:function(a){0>a&&(a=0);this._specular=a;this.updateSpecular();return a},get_diffuse:function(){return this._diffuse},set_diffuse:function(a){0>a&&(a=0);this._diffuse=a;this.updateDiffuse();return a},get_color:function(){return this._color},set_color:function(a){this._color=a;this._colorR=(this._color>>16&
255)/255;this._colorG=(this._color>>8&255)/255;this._colorB=(this._color&255)/255;this.updateDiffuse();this.updateSpecular();return a},get_ambient:function(){return this._ambient},set_ambient:function(a){0>a?a=0:1<a&&(a=1);this._ambient=a;this.updateAmbient();return a},get_ambientColor:function(){return this._ambientColor},set_ambientColor:function(a){this._ambientColor=a;this.updateAmbient();return a},updateAmbient:function(){this._ambientR=(this._ambientColor>>16&255)/255*this._ambient;this._ambientG=
(this._ambientColor>>8&255)/255*this._ambient;this._ambientB=(this._ambientColor&255)/255*this._ambient},getObjectProjectionMatrix:function(a,b,c){throw new H(new bb);},createEntityPartitionNode:function(){return new Om(this)},get_assetType:function(){return"light"},updateSpecular:function(){this._specularR=this._colorR*this._specular;this._specularG=this._colorG*this._specular;this._specularB=this._colorB*this._specular},updateDiffuse:function(){this._diffuseR=this._colorR*this._diffuse;this._diffuseG=
this._colorG*this._diffuse;this._diffuseB=this._colorB*this._diffuse},get_shadowMapper:function(){return this._shadowMapper},set_shadowMapper:function(a){this._shadowMapper=a;this._shadowMapper.set_light(this);return a},__class__:nd,__properties__:z(zc.prototype.__properties__,{set_shadowMapper:"set_shadowMapper",get_shadowMapper:"get_shadowMapper",set_ambientColor:"set_ambientColor",get_ambientColor:"get_ambientColor",set_ambient:"set_ambient",get_ambient:"get_ambient",set_color:"set_color",get_color:"get_color",
set_diffuse:"set_diffuse",get_diffuse:"get_diffuse",set_specular:"set_specular",get_specular:"get_specular",set_castsShadows:"set_castsShadows",get_castsShadows:"get_castsShadows"})});var Ud=function(a,b,c){null==c&&(c=1);null==b&&(b=-1);null==a&&(a=0);nd.call(this);this.set_direction(new C(a,b,c));this._sceneDirection=new C};m["away3d.lights.DirectionalLight"]=Ud;Ud.__name__=["away3d","lights","DirectionalLight"];Ud.__super__=nd;Ud.prototype=z(nd.prototype,{_direction:null,_tmpLookAt:null,_sceneDirection:null,
_projAABBPoints:null,createEntityPartitionNode:function(){return new Nm(this)},get_sceneDirection:function(){this._sceneTransformDirty&&this.updateSceneTransform();return this._sceneDirection},get_direction:function(){return this._direction},set_direction:function(a){this._direction=a;null==this._tmpLookAt&&(this._tmpLookAt=new C);var b=this.get_x();this._tmpLookAt.x=b+this._direction.x;b=this.get_y();this._tmpLookAt.y=b+this._direction.y;b=this.get_z();this._tmpLookAt.z=b+this._direction.z;this.lookAt(this._tmpLookAt);
return a},getDefaultBoundingVolume:function(){return new Dg},updateBounds:function(){},updateSceneTransform:function(){nd.prototype.updateSceneTransform.call(this);this.get_sceneTransform().copyColumnTo(2,this._sceneDirection);this._sceneDirection.normalize()},createShadowMapper:function(){return new se},getObjectProjectionMatrix:function(a,b,c){var d=Ja.RAW_DATA_CONTAINER,e=a.get_sourceEntity().get_bounds(),f=new Xa;f.copyFrom(a.getRenderSceneTransform(b));f.append(this.get_inverseSceneTransform());
null==this._projAABBPoints&&(this._projAABBPoints=x.toFloatVector(null));f.transformVectors(e.get_aabbPoints(),this._projAABBPoints);a=Infinity;b=-Infinity;for(var e=Infinity,k=-Infinity,p=Infinity,w=-Infinity,h,n=0;24>n;)h=this._projAABBPoints.get(n++),h<a&&(a=h),h>b&&(b=h),h=this._projAABBPoints.get(n++),h<e&&(e=h),h>k&&(k=h),h=this._projAABBPoints.get(n++),h<p&&(p=h),h>w&&(w=h);h=1/(b-a);n=1/(k-e);w=1/(w-p);d.set(0,2*h);d.set(5,2*n);d.set(10,w);d.set(12,-(b+a)*h);d.set(13,-(k+e)*n);d.set(14,-p*
w);d.set(1,d.set(2,d.set(3,d.set(4,d.set(6,d.set(7,d.set(8,d.set(9,d.set(11,0)))))))));d.set(15,1);null==c&&(c=new Xa);c.copyRawDataFrom(d);c.prepend(f);return c},__class__:Ud,__properties__:z(nd.prototype.__properties__,{set_direction:"set_direction",get_direction:"get_direction",get_sceneDirection:"get_sceneDirection"})});var Kk=function(a,b){nd.call(this);this._diffuseMap=a;this._specularMap=b};m["away3d.lights.LightProbe"]=Kk;Kk.__name__=["away3d","lights","LightProbe"];Kk.__super__=nd;Kk.prototype=
z(nd.prototype,{_diffuseMap:null,_specularMap:null,createEntityPartitionNode:function(){return new Pm(this)},get_diffuseMap:function(){return this._diffuseMap},set_diffuseMap:function(a){return this._diffuseMap=a},get_specularMap:function(){return this._specularMap},set_specularMap:function(a){return this._specularMap=a},updateBounds:function(){this._boundsInvalid=!1},getDefaultBoundingVolume:function(){return new Dg},getObjectProjectionMatrix:function(a,b,c){throw new H(new sa("Object projection matrices are not supported for LightProbe objects!"));
},__class__:Kk,__properties__:z(nd.prototype.__properties__,{set_specularMap:"set_specularMap",get_specularMap:"get_specularMap",set_diffuseMap:"set_diffuseMap",get_diffuseMap:"get_diffuseMap"})});var je=function(){this._fallOff=1E5;this._radius=9E4;nd.call(this);this._fallOffFactor=1/(this._fallOff*this._fallOff-this._radius*this._radius)};m["away3d.lights.PointLight"]=je;je.__name__=["away3d","lights","PointLight"];je.__super__=nd;je.prototype=z(nd.prototype,{_radius:null,_fallOff:null,_fallOffFactor:null,
createShadowMapper:function(){return new Zi},createEntityPartitionNode:function(){return new Sm(this)},get_radius:function(){return this._radius},set_radius:function(a){this._radius=a;0>this._radius?this._radius=0:this._radius>this._fallOff&&(this._fallOff=this._radius,this.invalidateBounds());this._fallOffFactor=1/(this._fallOff*this._fallOff-this._radius*this._radius);return a},fallOffFactor:function(){return this._fallOffFactor},get_fallOff:function(){return this._fallOff},set_fallOff:function(a){this._fallOff=
a;0>this._fallOff&&(this._fallOff=0);this._fallOff<this._radius&&(this._radius=this._fallOff);this._fallOffFactor=1/(this._fallOff*this._fallOff-this._radius*this._radius);this.invalidateBounds();return a},updateBounds:function(){this._bounds.fromSphere(new C,this._fallOff);this._boundsInvalid=!1},getDefaultBoundingVolume:function(){return new Rh},getObjectProjectionMatrix:function(a,b,c){var d=Ja.RAW_DATA_CONTAINER,e=a.get_sourceEntity().get_bounds(),f=new Xa;f.copyFrom(a.getRenderSceneTransform(b));
f.append(this._parent.get_inverseSceneTransform());this.lookAt(f.get_position());f.copyFrom(a.getRenderSceneTransform(b));f.append(this.get_inverseSceneTransform());f.copyColumnTo(3,this._pos);a=f.deltaTransformVector(e.get_min());b=f.deltaTransformVector(e.get_max());e=this._pos.z;a=a.x*a.x+a.y*a.y+a.z*a.z;b=b.x*b.x+b.y*b.y+b.z*b.z;a=Math.sqrt(a>b?a:b);b=e-a;e+=a;d.set(5,d.set(0,b/a));d.set(10,e/(e-b));d.set(11,1);d.set(1,d.set(2,d.set(3,d.set(4,d.set(6,d.set(7,d.set(8,d.set(9,d.set(12,d.set(13,
d.set(15,0)))))))))));d.set(14,-b*d.get(10));null==c&&(c=new Xa);c.copyRawDataFrom(d);c.prepend(f);return c},__class__:je,__properties__:z(nd.prototype.__properties__,{set_fallOff:"set_fallOff",get_fallOff:"get_fallOff",set_radius:"set_radius",get_radius:"get_radius"})});var Jg=function(){this._autoUpdateShadows=!0;this._depthMapSize=2048;this._casterCollector=this.createCasterCollector()};m["away3d.lights.shadowmaps.ShadowMapperBase"]=Jg;Jg.__name__=["away3d","lights","shadowmaps","ShadowMapperBase"];
Jg.prototype={_casterCollector:null,_depthMap:null,_depthMapSize:null,_light:null,_explicitDepthMap:null,_autoUpdateShadows:null,_shadowsInvalid:null,createCasterCollector:function(){return new Ym},get_autoUpdateShadows:function(){return this._autoUpdateShadows},set_autoUpdateShadows:function(a){return this._autoUpdateShadows=a},updateShadows:function(){this._shadowsInvalid=!0},setDepthMap:function(a){this._depthMap!=a&&(null==this._depthMap||this._explicitDepthMap||this._depthMap.dispose(),this._depthMap=
a,null!=this._depthMap?(this._explicitDepthMap=!0,this._depthMapSize=this._depthMap.get_width()):this._explicitDepthMap=!1)},get_light:function(){return this._light},set_light:function(a){return this._light=a},get_depthMap:function(){null==this._depthMap&&(this._depthMap=this.createDepthTexture());return this._depthMap},get_depthMapSize:function(){return this._depthMapSize},set_depthMapSize:function(a){if(a==this._depthMapSize)return a;this._depthMapSize=a;if(this._explicitDepthMap)throw new H(new sa("Cannot set depth map size for the current renderer."));
null!=this._depthMap&&(this._depthMap.dispose(),this._depthMap=null);return a},dispose:function(){this._casterCollector=null;null==this._depthMap||this._explicitDepthMap||this._depthMap.dispose();this._depthMap=null},createDepthTexture:function(){return new an(this._depthMapSize,this._depthMapSize)},renderDepthMap:function(a,b,c){this._shadowsInvalid=!1;this.updateDepthProjection(b.get_camera());null==this._depthMap&&(this._depthMap=this.createDepthTexture());this.drawDepthMap(this._depthMap.getTextureForStage3D(a),
b.scene,c)},updateDepthProjection:function(a){throw new H(new bb);},drawDepthMap:function(a,b,c){throw new H(new bb);},__class__:Jg,__properties__:{set_depthMapSize:"set_depthMapSize",get_depthMapSize:"get_depthMapSize",get_depthMap:"get_depthMap",set_light:"set_light",get_light:"get_light",set_autoUpdateShadows:"set_autoUpdateShadows",get_autoUpdateShadows:"get_autoUpdateShadows"}};var se=function(){this._snap=64;this._lightOffset=1E4;Jg.call(this);this._cullPlanes=x.toObjectVector(null);this._overallDepthLens=
new Si;this._overallDepthCamera=new Eg(this._overallDepthLens);this._localFrustum=x.toFloatVector(null,24);this._matrix=new Xa};m["away3d.lights.shadowmaps.DirectionalShadowMapper"]=se;se.__name__=["away3d","lights","shadowmaps","DirectionalShadowMapper"];se.__super__=Jg;se.prototype=z(Jg.prototype,{_overallDepthCamera:null,_localFrustum:null,_lightOffset:null,_matrix:null,_overallDepthLens:null,_snap:null,_cullPlanes:null,_minZ:null,_maxZ:null,get_snap:function(){return this._snap},set_snap:function(a){return this._snap=
a},get_lightOffset:function(){return this._lightOffset},set_lightOffset:function(a){return this._lightOffset=a},get_depthProjection:function(){return this._overallDepthCamera.get_viewProjection()},get_depth:function(){return this._maxZ-this._minZ},drawDepthMap:function(a,b,c){this._casterCollector.set_camera(this._overallDepthCamera);this._casterCollector.set_cullPlanes(this._cullPlanes);this._casterCollector.clear();b.traversePartitions(this._casterCollector);c.render(this._casterCollector,a);this._casterCollector.cleanUp()},
updateCullPlanes:function(a){var b=this._overallDepthCamera.get_frustumPlanes();a=a.get_frustumPlanes();this._cullPlanes.set_length(4);this._cullPlanes.set(0,b.get(0));this._cullPlanes.set(1,b.get(1));this._cullPlanes.set(2,b.get(2));this._cullPlanes.set(3,b.get(3));for(var c=y.__cast(this._light,Ud).get_sceneDirection(),b=c.x,d=c.y,c=c.z,e=4,f=0;6>f;){var k=f++,k=a.get(k);0>k.a*b+k.b*d+k.c*c&&this._cullPlanes.set(e++,k)}},updateDepthProjection:function(a){this.updateProjectionFromFrustumCorners(a,
a.get_lens().get_frustumCorners(),this._matrix);this._overallDepthLens.set_matrix(this._matrix);this.updateCullPlanes(a)},updateProjectionFromFrustumCorners:function(a,b,c){var d=Ja.RAW_DATA_CONTAINER,e,f,k,p,w,h;e=y.__cast(this._light,Ud).get_sceneDirection();this._overallDepthCamera.set_transform(this._light.get_sceneTransform());f=((a.get_x()-e.x*this._lightOffset)/this._snap|0)*this._snap;k=((a.get_y()-e.y*this._lightOffset)/this._snap|0)*this._snap;p=((a.get_z()-e.z*this._lightOffset)/this._snap|
0)*this._snap;this._overallDepthCamera.set_x(f);this._overallDepthCamera.set_y(k);this._overallDepthCamera.set_z(p);this._matrix.copyFrom(this._overallDepthCamera.get_inverseSceneTransform());this._matrix.prepend(a.get_sceneTransform());this._matrix.transformVectors(b,this._localFrustum);a=e=this._localFrustum.get(0);b=w=this._localFrustum.get(1);this._maxZ=this._localFrustum.get(2);for(h=3;24>h;)f=this._localFrustum.get(h),k=this._localFrustum.get(h+1),p=this._localFrustum.get(h+2),f<a&&(a=f),f>
e&&(e=f),k<b&&(b=k),k>w&&(w=k),p>this._maxZ&&(this._maxZ=p),h+=3;this._minZ=1;f=e-a;k=w-b;p=1/(this._maxZ-this._minZ);0>a&&(a-=this._snap);0>b&&(b-=this._snap);a=(a/this._snap|0)*this._snap;b=(b/this._snap|0)*this._snap;e=2*this._snap;f=(f/e+2|0)*e;k=(k/e+2|0)*e;e=a+f;w=b+k;f=1/f;k=1/k;d.set(0,2*f);d.set(5,2*k);d.set(10,p);d.set(12,-(e+a)*f);d.set(13,-(w+b)*k);d.set(14,-this._minZ*p);d.set(15,1);d.set(1,d.set(2,d.set(3,d.set(4,d.set(6,d.set(7,d.set(8,d.set(9,d.set(11,0)))))))));c.copyRawDataFrom(d)},
__class__:se,__properties__:z(Jg.prototype.__properties__,{get_depth:"get_depth",get_depthProjection:"get_depthProjection",set_lightOffset:"set_lightOffset",get_lightOffset:"get_lightOffset",set_snap:"set_snap",get_snap:"get_snap"})});var $i=function(a){null==a&&(a=3);this._scissorRectsInvalid=!0;se.call(this);if(1>a||4<a)throw new H(new sa("numCascades must be an integer between 1 and 4"));this._numCascades=a;this._changeDispatcher=new za(this);this.init()};m["away3d.lights.shadowmaps.CascadeShadowMapper"]=
$i;$i.__name__=["away3d","lights","shadowmaps","CascadeShadowMapper"];$i.__interfaces__=[ck];$i.__super__=se;$i.prototype=z(se.prototype,{_scissorRects:null,_scissorRectsInvalid:null,_splitRatios:null,_numCascades:null,_depthCameras:null,_depthLenses:null,_texOffsetsX:null,_texOffsetsY:null,_changeDispatcher:null,_nearPlaneDistances:null,getSplitRatio:function(a){return this._splitRatios.get(a)},setSplitRatio:function(a,b){0>b?b=0:1<b&&(b=1);if(a>=this._numCascades)throw new H(new sa("index must be smaller than the number of cascades!"));
this._splitRatios.set(a,b)},getDepthProjections:function(a){return this._depthCameras.get(a).get_viewProjection()},init:function(){this._splitRatios=x.toFloatVector(null,this._numCascades,!0);this._nearPlaneDistances=x.toFloatVector(null,this._numCascades,!0);for(var a=1,b=this._numCascades-1;0<=b;)this._splitRatios.set(b,a),a*=.4,--b;for(var a=[-1,1,-1,1],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._texOffsetsX=b;a=[1,1,-1,-1];b=x.toFloatVector(null);c=0;for(d=a.length;c<
d;)e=c++,b.set(e,a[e]);this._texOffsetsY=b;this._scissorRects=x.toObjectVector(null,4,!0);this._depthLenses=x.toObjectVector(null);this._depthCameras=x.toObjectVector(null);a=0;for(b=this._numCascades;a<b;)c=a++,this._depthLenses.set(c,new Si),this._depthCameras.set(c,new Eg(this._depthLenses.get(c)))},set_depthMapSize:function(a){if(a==this._depthMapSize)return a;se.prototype.set_depthMapSize.call(this,a);this.invalidateScissorRects();return a},invalidateScissorRects:function(){this._scissorRectsInvalid=
!0},get_numCascades:function(){return this._numCascades},set_numCascades:function(a){if(a==this._numCascades)return a;if(1>a||4<a)throw new H(new sa("numCascades must be an integer between 1 and 4"));this._numCascades=a;this.invalidateScissorRects();this.init();this.dispatchEvent(new ca("change"));return a},drawDepthMap:function(a,b,c){this._scissorRectsInvalid&&this.updateScissorRects();this._casterCollector.set_cullPlanes(this._cullPlanes);this._casterCollector.set_camera(this._overallDepthCamera);
this._casterCollector.clear();b.traversePartitions(this._casterCollector);c.renderCascades(this._casterCollector,a,this._numCascades,this._scissorRects,this._depthCameras);this._casterCollector.cleanUp()},updateScissorRects:function(){var a=.5*this._depthMapSize;this._scissorRects.set(0,new ya(0,0,a,a));this._scissorRects.set(1,new ya(a,0,a,a));this._scissorRects.set(2,new ya(0,a,a,a));this._scissorRects.set(3,new ya(a,a,a,a));this._scissorRectsInvalid=!1},updateDepthProjection:function(a){var b=
a.get_lens(),c=b.get_near(),b=b.get_far()-c;this.updateProjectionFromFrustumCorners(a,a.get_lens().get_frustumCorners(),this._matrix);this._matrix.appendScale(.96,.96,1);this._overallDepthLens.set_matrix(this._matrix);this.updateCullPlanes(a);for(var d=0,e=this._numCascades;d<e;){var f=d++;a=this._depthLenses.get(f).get_matrix();this._nearPlaneDistances.set(f,c+this._splitRatios.get(f)*b);this._depthCameras.get(f).set_transform(this._overallDepthCamera.get_transform());this.updateProjectionPartition(a,
this._splitRatios.get(f),this._texOffsetsX.get(f),this._texOffsetsY.get(f));this._depthLenses.get(f).set_matrix(a)}},updateProjectionPartition:function(a,b,c,d){for(var e=Ja.RAW_DATA_CONTAINER,f,k,p,w,h,n,l=Infinity,g=Infinity,m=-Infinity,r=-Infinity,q=-Infinity,t=0;12>t;)f=this._localFrustum.get(t),k=this._localFrustum.get(t+1),p=this._localFrustum.get(t+2),w=f+(this._localFrustum.get(t+12)-f)*b,h=k+(this._localFrustum.get(t+13)-k)*b,n=p+(this._localFrustum.get(t+14)-p)*b,f<l&&(l=f),f>m&&(m=f),k<
g&&(g=k),k>r&&(r=k),p>q&&(q=p),w<l&&(l=w),w>m&&(m=w),h<g&&(g=h),h>r&&(r=h),n>q&&(q=n),t+=3;b=m-l;f=r-g;q=1/(q-1);0>l&&(l-=this._snap);0>g&&(g-=this._snap);l=(l/this._snap|0)*this._snap;g=(g/this._snap|0)*this._snap;m=2*this._snap;b=(b/m+1|0)*m;f=(f/m+1|0)*m;m=l+b;r=g+f;b=1/b;f=1/f;e.set(0,2*b);e.set(5,2*f);e.set(10,q);e.set(12,-(m+l)*b);e.set(13,-(r+g)*f);e.set(14,-1*q);e.set(15,1);e.set(1,e.set(2,e.set(3,e.set(4,e.set(6,e.set(7,e.set(8,e.set(9,e.set(11,0)))))))));a.copyRawDataFrom(e);a.appendScale(.96,
.96,1);a.appendTranslation(c,d,0);a.appendScale(.5,.5,1)},addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);this._changeDispatcher.addEventListener(a,b,c,d,e)},removeEventListener:function(a,b,c){null==c&&(c=!1);this._changeDispatcher.removeEventListener(a,b,c)},dispatchEvent:function(a){return this._changeDispatcher.dispatchEvent(a)},hasEventListener:function(a){return this._changeDispatcher.hasEventListener(a)},willTrigger:function(a){return this._changeDispatcher.willTrigger(a)},
get_nearPlaneDistances:function(){return this._nearPlaneDistances},__class__:$i,__properties__:z(se.prototype.__properties__,{get_nearPlaneDistances:"get_nearPlaneDistances",set_numCascades:"set_numCascades",get_numCascades:"get_numCascades"})});var Zi=function(){Jg.call(this);this._depthMapSize=512;this._needsRender=x.toBoolVector(null,6,!0);this.initCameras()};m["away3d.lights.shadowmaps.CubeMapShadowMapper"]=Zi;Zi.__name__=["away3d","lights","shadowmaps","CubeMapShadowMapper"];Zi.__super__=Jg;
Zi.prototype=z(Jg.prototype,{_depthCameras:null,_lenses:null,_needsRender:null,initCameras:function(){this._depthCameras=x.toObjectVector(null);this._lenses=x.toObjectVector(null);this.addCamera(0,90,0);this.addCamera(0,-90,0);this.addCamera(-90,0,0);this.addCamera(90,0,0);this.addCamera(0,0,0);this.addCamera(0,180,0)},addCamera:function(a,b,c){var d=new Eg;d.set_rotationX(a);d.set_rotationY(b);d.set_rotationZ(c);d.get_lens().set_near(.01);y.__cast(d.get_lens(),hd).set_fieldOfView(90);this._lenses.push(y.__cast(d.get_lens(),
hd));d.get_lens().set_aspectRatio(1);this._depthCameras.push(d)},createDepthTexture:function(){return new bn(this._depthMapSize)},updateDepthProjection:function(a){a=y.__cast(this._light,je)._fallOff;for(var b=this._light.get_scenePosition(),c=0;6>c;){var d=c++;this._lenses.get(d).set_far(a);this._depthCameras.get(d).set_position(b);this._needsRender.set(d,!0)}},drawDepthMap:function(a,b,c){for(var d=0;6>d;){var e=d++;this._needsRender.get(e)&&(this._casterCollector.set_camera(this._depthCameras.get(e)),
this._casterCollector.clear(),b.traversePartitions(this._casterCollector),c.render(this._casterCollector,a,null,e),this._casterCollector.cleanUp())}},__class__:Zi});var Lk=function(a){null==a&&(a=.5);se.call(this);this.set_coverageRatio(a)};m["away3d.lights.shadowmaps.NearDirectionalShadowMapper"]=Lk;Lk.__name__=["away3d","lights","shadowmaps","NearDirectionalShadowMapper"];Lk.__super__=se;Lk.prototype=z(se.prototype,{_coverageRatio:null,get_coverageRatio:function(){return this._coverageRatio},set_coverageRatio:function(a){1<
a?a=1:0>a&&(a=0);return this._coverageRatio=a},updateDepthProjection:function(a){for(var b=a.get_lens().get_frustumCorners(),c=0;12>c;){var d=c++,e=b.get(d);this._localFrustum.set(d,e);this._localFrustum.set(d+12,e+(b.get(d+12)-e)*this._coverageRatio)}this.updateProjectionFromFrustumCorners(a,this._localFrustum,this._matrix);this._overallDepthLens.set_matrix(this._matrix)},__class__:Lk,__properties__:z(se.prototype.__properties__,{set_coverageRatio:"set_coverageRatio",get_coverageRatio:"get_coverageRatio"})});
var cg=function(){za.call(this);this._stack=x.toObjectVector(null);this._errorHandlers=x.toFunctionVector(null);this._parseErrorHandlers=x.toFunctionVector(null)};m["away3d.loaders.AssetLoader"]=cg;cg.__name__=["away3d","loaders","AssetLoader"];cg.enableParser=function(a){dc.enableParser(a)};cg.enableParsers=function(a){dc.enableParsers(a)};cg.__super__=za;cg.prototype=z(za.prototype,{_context:null,_token:null,_uri:null,_errorHandlers:null,_parseErrorHandlers:null,_stack:null,_baseDependency:null,
_loadingDependency:null,_namespace:null,baseDependency:null,get_baseDependency:function(){return this._baseDependency},load:function(a,b,c,d){return null==this._token?(this._token=new Mk(this),this._uri=a.url=a.url.replace(RegExp("\\\\","g"),"/"),this._context=b,this._namespace=c,this._baseDependency=new Nk("",a,null,null),this.retrieveDependency(this._baseDependency,d),this._token):null},loadData:function(a,b,c,d,e){return null==this._token?(this._token=new Mk(this),this._uri=b,this._context=c,this._namespace=
d,this._baseDependency=new Nk(b,null,a,null),this.retrieveDependency(this._baseDependency,e),this._token):null},retrieveNext:function(a){if(0<this._loadingDependency.get_dependencies().get_length())a=this._loadingDependency.get_dependencies().pop(),this._stack.push(this._loadingDependency),this.retrieveDependency(a);else if(null!=this._loadingDependency.loader.get_parser()&&this._loadingDependency.loader.get_parser().get_parsingPaused())this._loadingDependency.loader.get_parser().resumeParsingAfterDependencies(),
this._stack.pop();else if(0<this._stack.get_length()){var b=this._loadingDependency;this._loadingDependency=this._stack.pop();b.success&&b.resolve();this.retrieveNext(a)}else this.dispatchEvent(new Ee("resourceComplete",this._uri))},retrieveDependency:function(a,b){var c;c=0;null!=this._context&&0!=this._context.get_materialMode()&&(c=this._context.get_materialMode());this._loadingDependency=a;this._loadingDependency.loader=new dc(c);this.addEventListeners(this._loadingDependency.loader);c=this._loadingDependency.get_data();
null!=this._context&&null!=this._loadingDependency.get_request()&&this._context.hasDataForUrl(this._loadingDependency.get_request().url)&&(c=this._context.getDataForUrl(this._loadingDependency.get_request().url));null!=c?this._loadingDependency.get_retrieveAsRawData()?(this.dispatchEvent(new Ee("dependencyComplete",this._loadingDependency.get_request().url,!0)),this._loadingDependency.setData(c),this._loadingDependency.resolve(),this.retrieveNext()):this._loadingDependency.loader.parseData(c,b,this._loadingDependency.get_request()):
(a.get_request().url=this.resolveDependencyUrl(a),this._loadingDependency.loader.load(a.get_request(),b,this._loadingDependency.get_retrieveAsRawData()))},joinUrl:function(a,b){"/"==b.charAt(0)&&(b=da.substr(b,1,null));if(0==a.length)return b;"/"==a.charAt(a.length-1)&&(a=da.substr(a,0,a.length-1));return a+"/"+b},resolveDependencyUrl:function(a){var b;a=a.get_request().url;if(null!=this._context&&this._context.hasMappingForUrl(a))return this._context.getRemappedUrl(a);if(a==this._uri)return a;b=
new Za("^[a-zA-Z]{3,4}://","");if("/"==a.charAt(0))return null!=this._context&&this._context.get_overrideAbsolutePaths()?this.joinUrl(this._context.get_dependencyBaseUrl(),a):a;if(b.match(a)&&null!=this._context&&this._context.get_overrideFullURLs())return a=a.replace(b.r,""),this.joinUrl(this._context.get_dependencyBaseUrl(),a);b=null!=this._context&&""!=this._context.get_dependencyBaseUrl()?this._context.get_dependencyBaseUrl():this._uri.substring(0,this._uri.lastIndexOf("/")+1);return this.joinUrl(b,
a)},retrieveLoaderDependencies:function(a){if(null!=this._loadingDependency){for(var b=0,c=a.get_dependencies().get_length();b<c;){var d=b++;this._loadingDependency.get_dependencies().set(d,a.get_dependencies().get(d))}a.get_dependencies().set_length(0);this._stack.push(this._loadingDependency);this.retrieveNext()}},onRetrievalFailed:function(a){var b=!1,c=this._loadingDependency!=this._baseDependency,d=y.__cast(a.target,dc);this.removeEventListeners(d);a=new Ee("loadError",this._uri,c,a.get_message());
if(this.hasEventListener("loadError"))this.dispatchEvent(a),b=!0;else for(var d=0,e=this._errorHandlers.get_length();d<e;){var f=d++,f=this._errorHandlers.get(f);b||(b=null!=f)}if(b)c&&!a.isDefaultPrevented()?(this._loadingDependency.resolveFailure(),this.retrieveNext()):this.dispose();else throw new H(new sa(a.get_message()));},onParserError:function(a){var b=!1,c=y.__cast(a.target,dc);this.removeEventListeners(c);a=new Cf("parseError",a.get_message());if(this.hasEventListener("parseError"))this.dispatchEvent(a),
b=!0;else for(var c=0,d=this._parseErrorHandlers.get_length();c<d;){var e=c++,e=this._parseErrorHandlers.get(e);b||(b=null!=e)}if(b)this.dispose();else throw new H(new sa(a.get_message()));},onAssetComplete:function(a){"assetComplete"==a.type&&(null!=this._loadingDependency&&this._loadingDependency.get_assets().push(a.get_asset()),a.get_asset().resetAssetPath(a.get_asset().get_name(),this._namespace));this._loadingDependency.get_suppresAsset3DEvents()||this.dispatchEvent(a.clone())},onReadyForDependencies:function(a){a=
y.__cast(a.currentTarget,dc);null==this._context||this._context.get_includeDependencies()?this.retrieveLoaderDependencies(a):a.get_parser().resumeParsingAfterDependencies()},onRetrievalComplete:function(a){var b=y.__cast(a.target,dc);this._loadingDependency.setData(b.get_data());this._loadingDependency.success=!0;this.dispatchEvent(new Ee("dependencyComplete",a.get_url()));this.removeEventListeners(b);0<b.get_dependencies().get_length()&&(null==this._context||this._context.get_includeDependencies())?
this.retrieveLoaderDependencies(b):this.retrieveNext()},onTextureSizeError:function(a){a.get_asset().set_name(this._loadingDependency.resolveName(a.get_asset()));this.dispatchEvent(a)},addEventListeners:function(a){a.addEventListener("dependencyComplete",u(this,this.onRetrievalComplete));a.addEventListener("loadError",u(this,this.onRetrievalFailed));a.addEventListener("textureSizeError",u(this,this.onTextureSizeError));a.addEventListener("assetComplete",u(this,this.onAssetComplete));a.addEventListener("animationSetComplete",
u(this,this.onAssetComplete));a.addEventListener("animationStateComplete",u(this,this.onAssetComplete));a.addEventListener("animationNodeComplete",u(this,this.onAssetComplete));a.addEventListener("stateTransitionComplete",u(this,this.onAssetComplete));a.addEventListener("textureComplete",u(this,this.onAssetComplete));a.addEventListener("containerComplete",u(this,this.onAssetComplete));a.addEventListener("geometryComplete",u(this,this.onAssetComplete));a.addEventListener("materialComplete",u(this,
this.onAssetComplete));a.addEventListener("meshComplete",u(this,this.onAssetComplete));a.addEventListener("entityComplete",u(this,this.onAssetComplete));a.addEventListener("skeletonComplete",u(this,this.onAssetComplete));a.addEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));a.addEventListener("readyForDependencies",u(this,this.onReadyForDependencies));a.addEventListener("parseError",u(this,this.onParserError))},removeEventListeners:function(a){a.removeEventListener("readyForDependencies",
u(this,this.onReadyForDependencies));a.removeEventListener("dependencyComplete",u(this,this.onRetrievalComplete));a.removeEventListener("loadError",u(this,this.onRetrievalFailed));a.removeEventListener("textureSizeError",u(this,this.onTextureSizeError));a.removeEventListener("assetComplete",u(this,this.onAssetComplete));a.removeEventListener("animationSetComplete",u(this,this.onAssetComplete));a.removeEventListener("animationStateComplete",u(this,this.onAssetComplete));a.removeEventListener("animationNodeComplete",
u(this,this.onAssetComplete));a.removeEventListener("stateTransitionComplete",u(this,this.onAssetComplete));a.removeEventListener("textureComplete",u(this,this.onAssetComplete));a.removeEventListener("containerComplete",u(this,this.onAssetComplete));a.removeEventListener("geometryComplete",u(this,this.onAssetComplete));a.removeEventListener("materialComplete",u(this,this.onAssetComplete));a.removeEventListener("meshComplete",u(this,this.onAssetComplete));a.removeEventListener("entityComplete",u(this,
this.onAssetComplete));a.removeEventListener("skeletonComplete",u(this,this.onAssetComplete));a.removeEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));a.removeEventListener("parseError",u(this,this.onParserError))},stop:function(){this.dispose()},dispose:function(){this._stack=this._token=this._context=this._parseErrorHandlers=this._errorHandlers=null;null!=this._loadingDependency&&null!=this._loadingDependency.loader&&this.removeEventListeners(this._loadingDependency.loader);this._loadingDependency=
null},addParseErrorHandler:function(a){0>this._parseErrorHandlers.indexOf(a,0)&&this._parseErrorHandlers.push(a)},addErrorHandler:function(a){0>this._errorHandlers.indexOf(a,0)&&this._errorHandlers.push(a)},__class__:cg,__properties__:{get_baseDependency:"get_baseDependency"}});var Fi=function(a,b){null==a&&(a=!0);Va.call(this);this._loadingSessions=x.toObjectVector(null);this._useAssetLib=a;this._assetLibId=b};m["away3d.loaders.Loader3D"]=Fi;Fi.__name__=["away3d","loaders","Loader3D"];Fi.enableParser=
function(a){dc.enableParser(a)};Fi.enableParsers=function(a){dc.enableParsers(a)};Fi.__super__=Va;Fi.prototype=z(Va.prototype,{_loadingSessions:null,_useAssetLib:null,_assetLibId:null,load:function(a,b,c,d){if(this._useAssetLib)a=Ig.getInstance(this._assetLibId).load(a,b,c,d);else{var e=new cg;this._loadingSessions.push(e);a=e.load(a,b,c,d)}a.addEventListener("resourceComplete",u(this,this.onResourceComplete));a.addEventListener("assetComplete",u(this,this.onAssetComplete));a.addEventListener("animationSetComplete",
u(this,this.onAssetComplete));a.addEventListener("animationStateComplete",u(this,this.onAssetComplete));a.addEventListener("animationNodeComplete",u(this,this.onAssetComplete));a.addEventListener("stateTransitionComplete",u(this,this.onAssetComplete));a.addEventListener("textureComplete",u(this,this.onAssetComplete));a.addEventListener("containerComplete",u(this,this.onAssetComplete));a.addEventListener("geometryComplete",u(this,this.onAssetComplete));a.addEventListener("materialComplete",u(this,
this.onAssetComplete));a.addEventListener("meshComplete",u(this,this.onAssetComplete));a.addEventListener("entityComplete",u(this,this.onAssetComplete));a.addEventListener("skeletonComplete",u(this,this.onAssetComplete));a.addEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));a._loader.addErrorHandler(u(this,this.onLoadError));return a},loadData:function(a,b,c,d){if(this._useAssetLib)a=Ig.getInstance(this._assetLibId).loadData(a,b,c,d);else{var e=new cg;this._loadingSessions.push(e);
a=e.loadData(a,"",b,c,d)}a.addEventListener("resourceComplete",u(this,this.onResourceComplete));a.addEventListener("assetComplete",u(this,this.onAssetComplete));a.addEventListener("animationSetComplete",u(this,this.onAssetComplete));a.addEventListener("animationStateComplete",u(this,this.onAssetComplete));a.addEventListener("animationNodeComplete",u(this,this.onAssetComplete));a.addEventListener("stateTransitionComplete",u(this,this.onAssetComplete));a.addEventListener("textureComplete",u(this,this.onAssetComplete));
a.addEventListener("containerComplete",u(this,this.onAssetComplete));a.addEventListener("geometryComplete",u(this,this.onAssetComplete));a.addEventListener("materialComplete",u(this,this.onAssetComplete));a.addEventListener("meshComplete",u(this,this.onAssetComplete));a.addEventListener("entityComplete",u(this,this.onAssetComplete));a.addEventListener("skeletonComplete",u(this,this.onAssetComplete));a.addEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));a._loader.addErrorHandler(u(this,
this.onLoadError));return a},stopLoad:function(){if(this._useAssetLib)Ig.getInstance(this._assetLibId).stopAllLoadingSessions();else for(var a=0,b=this._loadingSessions.get_length();a<b;){var c=a++;this.removeListeners(this._loadingSessions.get(c));this._loadingSessions.get(c).stop();this._loadingSessions.set(c,null)}this._loadingSessions=null},removeListeners:function(a){a.removeEventListener("resourceComplete",u(this,this.onResourceComplete));a.removeEventListener("loadError",u(this,this.onLoadError));
a.removeEventListener("assetComplete",u(this,this.onAssetComplete));a.removeEventListener("animationSetComplete",u(this,this.onAssetComplete));a.removeEventListener("animationStateComplete",u(this,this.onAssetComplete));a.removeEventListener("animationNodeComplete",u(this,this.onAssetComplete));a.removeEventListener("stateTransitionComplete",u(this,this.onAssetComplete));a.removeEventListener("textureComplete",u(this,this.onAssetComplete));a.removeEventListener("containerComplete",u(this,this.onAssetComplete));
a.removeEventListener("geometryComplete",u(this,this.onAssetComplete));a.removeEventListener("materialComplete",u(this,this.onAssetComplete));a.removeEventListener("meshComplete",u(this,this.onAssetComplete));a.removeEventListener("entityComplete",u(this,this.onAssetComplete));a.removeEventListener("skeletonComplete",u(this,this.onAssetComplete));a.removeEventListener("skeletonPoseComplete",u(this,this.onAssetComplete))},onAssetComplete:function(a){if("assetComplete"==a.type){var b=null;switch(a.get_asset().get_assetType()){case "camera":b=
y.__instanceof(a.get_asset(),Eg)?a.get_asset():null;break;case "container":b=y.__instanceof(a.get_asset(),Va)?a.get_asset():null;break;case "light":b=y.__instanceof(a.get_asset(),nd)?a.get_asset():null;break;case "mesh":b=y.__instanceof(a.get_asset(),Pb)?a.get_asset():null;break;case "segmentSet":b=y.__instanceof(a.get_asset(),Cc)?a.get_asset():null;break;case "skybox":b=y.__instanceof(a.get_asset(),Kg)?a.get_asset():null;break;case "textureProjector":b=y.__instanceof(a.get_asset(),Dk)?a.get_asset():
null}null!=b&&null==b.get_parent()&&this.addChild(b)}this.dispatchEvent(a.clone())},onParseError:function(a){return this.hasEventListener("parseError")?(this.dispatchEvent(a),!0):!1},onLoadError:function(a){return this.hasEventListener("loadError")?(this.dispatchEvent(a),!0):!1},onResourceComplete:function(a){this.removeListeners(y.__cast(a.currentTarget,za));this.dispatchEvent(a.clone())},__class__:Fi});var Ei=function(a,b){null==a&&(a=!0);this._overrideFullUrls=this._overrideAbsPath=!1;this._includeDependencies=
a;this._dependencyBaseUrl=null!=b?b:"";this._embeddedDataByUrl=new qa;this._remappedUrls=new qa;this._materialMode=0};m["away3d.loaders.misc.AssetLoaderContext"]=Ei;Ei.__name__=["away3d","loaders","misc","AssetLoaderContext"];Ei.prototype={_includeDependencies:null,_dependencyBaseUrl:null,_embeddedDataByUrl:null,_remappedUrls:null,_materialMode:null,_overrideAbsPath:null,_overrideFullUrls:null,get_includeDependencies:function(){return this._includeDependencies},set_includeDependencies:function(a){return this._includeDependencies=
a},get_materialMode:function(){return this._materialMode},set_materialMode:function(a){return this._materialMode=a},get_dependencyBaseUrl:function(){return this._dependencyBaseUrl},set_dependencyBaseUrl:function(a){return this._dependencyBaseUrl=a},get_overrideAbsolutePaths:function(){return this._overrideAbsPath},set_overrideAbsolutePaths:function(a){return this._overrideAbsPath=a},get_overrideFullURLs:function(){return this._overrideFullUrls},set_overrideFullURLs:function(a){return this._overrideFullUrls=
a},mapUrl:function(a,b){var c=this._remappedUrls;null!=t[a]?c.setReserved(a,b):c.h[a]=b},mapUrlToData:function(a,b){var c=this._embeddedDataByUrl;null!=t[a]?c.setReserved(a,b):c.h[a]=b},hasDataForUrl:function(a){var b=this._embeddedDataByUrl;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},getDataForUrl:function(a){var b=this._embeddedDataByUrl;return null!=t[a]?b.getReserved(a):b.h[a]},hasMappingForUrl:function(a){var b=this._remappedUrls;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},
getRemappedUrl:function(a){var b=this._remappedUrls;return null!=t[a]?b.getReserved(a):b.h[a]},__class__:Ei,__properties__:{set_overrideFullURLs:"set_overrideFullURLs",get_overrideFullURLs:"get_overrideFullURLs",set_overrideAbsolutePaths:"set_overrideAbsolutePaths",get_overrideAbsolutePaths:"get_overrideAbsolutePaths",set_dependencyBaseUrl:"set_dependencyBaseUrl",get_dependencyBaseUrl:"get_dependencyBaseUrl",set_materialMode:"set_materialMode",get_materialMode:"get_materialMode",set_includeDependencies:"set_includeDependencies",
get_includeDependencies:"get_includeDependencies"}};var Mk=function(a){za.call(this);this._loader=a};m["away3d.loaders.misc.AssetLoaderToken"]=Mk;Mk.__name__=["away3d","loaders","misc","AssetLoaderToken"];Mk.__super__=za;Mk.prototype=z(za.prototype,{_loader:null,addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);this._loader.addEventListener(a,b,c,d,e)},removeEventListener:function(a,b,c){null==c&&(c=!1);this._loader.removeEventListener(a,b,c)},hasEventListener:function(a){return this._loader.hasEventListener(a)},
willTrigger:function(a){return this._loader.willTrigger(a)},__class__:Mk});var Nk=function(a,b,c,d,e,f){null==f&&(f=!1);null==e&&(e=!1);this._id=a;this._req=b;this._parentParser=d;this._data=c;this._retrieveAsRawData=e;this._suppressAsset3DEvents=f;this._assets=x.toObjectVector(null);this._dependencies=x.toObjectVector(null)};m["away3d.loaders.misc.ResourceDependency"]=Nk;Nk.__name__=["away3d","loaders","misc","ResourceDependency"];Nk.prototype={_id:null,_req:null,_assets:null,_parentParser:null,
_data:null,_retrieveAsRawData:null,_suppressAsset3DEvents:null,_dependencies:null,loader:null,success:null,id:null,get_id:function(){return this._id},assets:null,get_assets:function(){return this._assets},dependencies:null,get_dependencies:function(){return this._dependencies},request:null,get_request:function(){return this._req},retrieveAsRawData:null,get_retrieveAsRawData:function(){return this._retrieveAsRawData},suppresAsset3DEvents:null,get_suppresAsset3DEvents:function(){return this._suppressAsset3DEvents},
data:null,get_data:function(){return this._data},setData:function(a){this._data=a},parentParser:null,get_parentParser:function(){return this._parentParser},resolve:function(){null!=this._parentParser&&this._parentParser.resolveDependency(this)},resolveFailure:function(){null!=this._parentParser&&this._parentParser.resolveDependencyFailure(this)},resolveName:function(a){return null!=this._parentParser?this._parentParser.resolveDependencyName(this,a):a.get_name()},__class__:Nk,__properties__:{get_parentParser:"get_parentParser",
get_data:"get_data",get_suppresAsset3DEvents:"get_suppresAsset3DEvents",get_retrieveAsRawData:"get_retrieveAsRawData",get_request:"get_request",get_dependencies:"get_dependencies",get_assets:"get_assets",get_id:"get_id"}};var ub=function(a){za.call(this);this._materialMode=0;this._dataFormat=a;this._dependencies=x.toObjectVector(null)};m["away3d.loaders.parsers.ParserBase"]=ub;ub.__name__=["away3d","loaders","parsers","ParserBase"];ub.__super__=za;ub.prototype=z(za.prototype,{_fileName:null,_dataFormat:null,
_data:null,_frameLimit:null,_lastFrameTime:null,getTextData:function(){return Ue.toString(this._data).split("xmlns").join("_xmlns")},getByteData:function(){return Ue.toByteArray(this._data)},_dependencies:null,_parsingPaused:null,_parsingComplete:null,_parsingFailure:null,_timer:null,_materialMode:null,isBitmapDataValid:function(a){(a=Ld.isBitmapDataValid(a))||Aa.trace(">> Bitmap loaded is not having power of 2 dimensions or is higher than 2048",{fileName:"ParserBase.hx",lineNumber:99,className:"away3d.loaders.parsers.ParserBase",
methodName:"isBitmapDataValid"});return a},set_parsingFailure:function(a){return this._parsingFailure=a},get_parsingFailure:function(){return this._parsingFailure},parsingPaused:null,get_parsingPaused:function(){return this._parsingPaused},parsingComplete:null,get_parsingComplete:function(){return this._parsingComplete},set_materialMode:function(a){return this._materialMode=a},get_materialMode:function(){return this._materialMode},dataFormat:null,get_dataFormat:function(){return this._dataFormat},
parseAsync:function(a,b){null==b&&(b=30);this._data=a;this.startParsing(Q.toFloat(b))},get_dependencies:function(){return this._dependencies},resolveDependency:function(a){throw new H(new bb);},resolveDependencyFailure:function(a){throw new H(new bb);},resolveDependencyName:function(a,b){return b.get_name()},resumeParsingAfterDependencies:function(){this._parsingPaused=!1;null!=this._timer&&this._timer.start()},finalizeAsset:function(a,b){var c,d;null!=b&&a.set_name(b);switch(a.get_assetType()){case "animationNode":d=
"animationNode";c="animationNodeComplete";break;case "animationSet":d="animationSet";c="animationSetComplete";break;case "animationState":d="animationState";c="animationStateComplete";break;case "animator":d="animator";c="animatorComplete";break;case "camera":d="camera";c="cameraComplete";break;case "container":d="container";c="containerComplete";break;case "effectsMethod":d="effectsMethod";c="effectMethodComplete";break;case "entity":d="entity";c="entityComplete";break;case "geometry":d="geometry";
c="geometryComplete";break;case "light":d="light";c="lightComplete";break;case "lightPicker":d="lightPicker";c="lightPickerComplete";break;case "material":d="material";c="materialComplete";break;case "mesh":d="mesh";c="meshComplete";break;case "segmentSet":d="segmentSet";c="segmentSetComplete";break;case "shadowMapMethod":d="effectsMethod";c="shadowMapMethodComplete";break;case "skeleton":d="skeleton";c="skeletonComplete";break;case "skeletonPose":d="skelpose";c="skeletonPoseComplete";break;case "skybox":d=
"skybox";c="skyboxComplete";break;case "stateTransition":d="stateTransition";c="stateTransitionComplete";break;case "texture":d="texture";c="textureComplete";break;case "textureProjector":d="textureProjector";c="textureProjectorComplete";break;default:throw new H(new sa("Unhandled asset type "+a.get_assetType()+". Report as bug!"));}""==a.get_name()&&a.set_name(d);this.dispatchEvent(new Wb("assetComplete",a));this.dispatchEvent(new Wb(c,a))},proceedParsing:function(){throw new H(new bb);},dieWithError:function(a){null==
a&&(a="Unknown parsing error");null!=this._timer&&(this._timer.removeEventListener("timer",u(this,this.onInterval)),this._timer.stop(),this._timer=null);this.dispatchEvent(new Cf("parseError",a))},addDependency:function(a,b,c,d,e){null==e&&(e=!1);null==c&&(c=!1);this._dependencies.push(new Nk(a,b,d,this,c,e))},pauseAndRetrieveDependencies:function(){null!=this._timer&&this._timer.stop();this._parsingPaused=!0;this.dispatchEvent(new Cf("readyForDependencies"))},hasTime:function(){var a=xa.getTimer(),
b=this._frameLimit;return Q.toFloat(a-this._lastFrameTime)<b},onInterval:function(a){this._lastFrameTime=xa.getTimer();this.proceedParsing()&&!this._parsingFailure&&this.finishParsing()},startParsing:function(a){this._frameLimit=a;this._timer=new Ck(this._frameLimit,0);this._timer.addEventListener("timer",u(this,this.onInterval));this._timer.start()},finishParsing:function(){null!=this._timer&&(this._timer.removeEventListener("timer",u(this,this.onInterval)),this._timer.stop());this._timer=null;this._parsingComplete=
!0;this.dispatchEvent(new Cf("parseComplete"))},__class__:ub,__properties__:{get_dependencies:"get_dependencies",get_dataFormat:"get_dataFormat",set_materialMode:"set_materialMode",get_materialMode:"get_materialMode",get_parsingComplete:"get_parsingComplete",get_parsingPaused:"get_parsingPaused",set_parsingFailure:"set_parsingFailure",get_parsingFailure:"get_parsingFailure"}});var aj=function(){ub.call(this,"binary")};m["away3d.loaders.parsers.ImageParser"]=aj;aj.__name__=["away3d","loaders","parsers",
"ImageParser"];aj.supportsType=function(a){a=a.toLowerCase();return"jpg"!=a&&"jpeg"!=a&&"png"!=a&&"gif"!=a&&"bmp"!=a?"atf"==a:!0};aj.supportsData=function(a){if(y.__instanceof(a,Id)||y.__instanceof(a,Ha))return!0;if(!y.__instanceof(a,lc))return!1;a=y.__cast(a,lc);a.position=0;if(65496==a.readUnsignedShort())return!0;a.position=0;if(16973==a.readShort())return!0;a.position=1;if("PNG"==a.readUTFBytes(3))return!0;a.position=0;if("GIF"==a.readUTFBytes(3)&&14393==a.readShort()&&97==a.readByte())return!0;
a.position=0;return"ATF"==a.readUTFBytes(3)?!0:!1};aj.__super__=ub;aj.prototype=z(ub.prototype,{_byteData:null,_startedParsing:null,_doneParsing:null,_loader:null,proceedParsing:function(){var a;if(y.__instanceof(this._data,Id))return a=new vb(y.__cast(this._data,Id).bitmapData),this.finalizeAsset(a,this._fileName),!0;if(y.__instanceof(this._data,Ha))return a=new vb(y.__cast(this._data,Ha)),this.finalizeAsset(a,this._fileName),!0;this._byteData=this.getByteData();if(!this._startedParsing){this._byteData.position=
0;if("ATF"==this._byteData.readUTFBytes(3))return this._byteData.position=0,a=new cn(this._byteData),this.finalizeAsset(a,this._fileName),!0;this._loader=new dn;this._loader.contentLoaderInfo.addEventListener("complete",u(this,this.onLoadComplete));this._loader.loadBytes(this._byteData);this._startedParsing=!0}return this._doneParsing},onLoadComplete:function(a){a=y.__cast(this._loader.content,Id).bitmapData;this._loader.contentLoaderInfo.removeEventListener("complete",u(this,this.onLoadComplete));
if(!Ld.isBitmapDataValid(a)){a=new Gk(a);a.set_name(this._fileName);this.dispatchEvent(new Wb("textureSizeError",a));a=new Ha(8,8,!1,0);for(var b=0;8>b;)for(var c=b++,d=0;8>d;){var e=d++;0<(e&1^c&1)&&a.setPixel(c,e,16777215)}}a=new vb(a);this.finalizeAsset(a,this._fileName);this._doneParsing=!0},__class__:aj});var dc=function(a){null==a&&(a=0);za.call(this);this._materialMode=a};m["away3d.loaders.misc.SingleFileLoader"]=dc;dc.__name__=["away3d","loaders","misc","SingleFileLoader"];dc.enableParser=
function(a){0>dc._parsers.indexOf(a,0)&&dc._parsers.push(a)};dc.enableParsers=function(a){for(var b=0;b<a.length;){var c=a[b];++b;dc.enableParser(c)}};dc.__super__=za;dc.prototype=z(za.prototype,{_parser:null,_req:null,_fileExtension:null,_fileName:null,_loadAsRawData:null,_materialMode:null,_data:null,url:null,get_url:function(){return null!=this._req?this._req.url:""},data:null,get_data:function(){return this._data},loadAsRawData:null,get_loadAsRawData:function(){return this._loadAsRawData},load:function(a,
b,c){null==c&&(c=!1);var d=null;this._loadAsRawData=c;this._req=a;this.decomposeFilename(this._req.url);if(this._loadAsRawData)d=0;else if(null!=b&&(this._parser=b),null==this._parser&&(this._parser=this.getParserFromSuffix()),null!=this._parser)switch(this._parser.get_dataFormat()){case "binary":d=0;break;case "plainText":d=1}else d=0;b=new nh;b.dataFormat=d;b.addEventListener("complete",u(this,this.handleUrlLoaderComplete));b.addEventListener("ioError",u(this,this.handleUrlLoaderError));b.load(a)},
parseData:function(a,b,c){y.__instanceof(a,Xh)&&(a=La.createInstance(a,[]));null!=b&&(this._parser=b);this._req=c;this.parse(a)},parser:null,get_parser:function(){return this._parser},get_dependencies:function(){return null!=this._parser?this._parser.get_dependencies():x.toObjectVector(null)},decomposeFilename:function(a){a=0<a.indexOf("?")?a.split("?")[0]:a;var b=a.lastIndexOf(".");this._fileExtension=da.substr(a,b+1,null).toLowerCase();this._fileName=da.substr(a,0,b)},getParserFromSuffix:function(){for(var a=
dc._parsers.get_length()-1;0<=a;){var b=dc._parsers.get(a);if(Z.field(dc._parsers.get(a),"supportsType").apply(b,[this._fileExtension]))return La.createInstance(dc._parsers.get(a),[]);--a}return null},getParserFromData:function(a){for(var b=dc._parsers.get_length()-1;0<=b;){var c=dc._parsers.get(b);if(Z.field(dc._parsers.get(b),"supportsData").apply(c,[a]))return La.createInstance(dc._parsers.get(b),[]);--b}return null},removeListeners:function(a){a.removeEventListener("complete",u(this,this.handleUrlLoaderComplete));
a.removeEventListener("ioError",u(this,this.handleUrlLoaderError))},handleUrlLoaderError:function(a){var b=y.__cast(a.currentTarget,nh);this.removeListeners(b);this.hasEventListener("loadError")&&this.dispatchEvent(new Ee("loadError",this._req.url,!0,a.text))},handleUrlLoaderComplete:function(a){a=y.__cast(a.currentTarget,nh);this.removeListeners(a);this._data=a.data;this._loadAsRawData?this.dispatchEvent(new Ee("dependencyComplete")):this.parse(this._data)},parse:function(a){null==this._parser&&
(this._parser=this.getParserFromData(a));if(null!=this._parser)this._parser.addEventListener("readyForDependencies",u(this,this.onReadyForDependencies)),this._parser.addEventListener("parseError",u(this,this.onParseError)),this._parser.addEventListener("parseComplete",u(this,this.onParseComplete)),this._parser.addEventListener("textureSizeError",u(this,this.onTextureSizeError)),this._parser.addEventListener("assetComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("animationSetComplete",
u(this,this.onAssetComplete)),this._parser.addEventListener("animationStateComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("animationNodeComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("stateTransitionComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("textureComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("containerComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("geometryComplete",u(this,this.onAssetComplete)),
this._parser.addEventListener("materialComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("meshComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("entityComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("skeletonComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("skeletonPoseComplete",u(this,this.onAssetComplete)),null!=this._req&&null!=this._req.url&&(this._parser._fileName=this._req.url),this._parser.set_materialMode(this._materialMode),
this._parser.parseAsync(a);else if(this.hasEventListener("loadError"))this.dispatchEvent(new Ee("loadError","",!0,"No parser defined. To enable all parsers for auto-detection, use Parsers.enableAllBundled()"));else throw new H(new sa("No parser defined. To enable all parsers for auto-detection, use Parsers.enableAllBundled()"));},onParseError:function(a){this.hasEventListener("parseError")&&this.dispatchEvent(a.clone())},onReadyForDependencies:function(a){this.dispatchEvent(a.clone())},onAssetComplete:function(a){this.dispatchEvent(a.clone())},
onTextureSizeError:function(a){this.dispatchEvent(a.clone())},onParseComplete:function(a){this.dispatchEvent(new Ee("dependencyComplete",this.get_url()));this._parser.removeEventListener("readyForDependencies",u(this,this.onReadyForDependencies));this._parser.removeEventListener("parseComplete",u(this,this.onParseComplete));this._parser.removeEventListener("parseError",u(this,this.onParseError));this._parser.removeEventListener("textureSizeError",u(this,this.onTextureSizeError));this._parser.removeEventListener("assetComplete",
u(this,this.onAssetComplete));this._parser.removeEventListener("animationSetComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("animationStateComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("animationNodeComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("stateTransitionComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("textureComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("containerComplete",
u(this,this.onAssetComplete));this._parser.removeEventListener("geometryComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("materialComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("meshComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("entityComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("skeletonComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("skeletonPoseComplete",u(this,this.onAssetComplete))},
__class__:dc,__properties__:{get_dependencies:"get_dependencies",get_parser:"get_parser",get_loadAsRawData:"get_loadAsRawData",get_data:"get_data",get_url:"get_url"}});var dg=function(){this._lastType="";this._kidsCount=0;this._tmpos=new C(0,0,0);this._tmpcontainerpos=new C(0,0,0);this._containersList=[];ub.call(this,"plainText")};m["away3d.loaders.parsers.AC3DParser"]=dg;dg.__name__=["away3d","loaders","parsers","AC3DParser"];dg.supportsType=function(a){a=a.toLowerCase();return"ac"==a};dg.supportsData=
function(a){var b;b=Ue.toByteArray(a);null!=b?(b.position=0,a=b.readUTFBytes(4)):a="string"==typeof a?da.substr(y.__cast(a,String),0,4):null;return"AC3D"==a?!0:!1};dg.__super__=ub;dg.prototype=z(ub.prototype,{_textData:null,_startedParsing:null,_activeContainer:null,_meshList:null,_trunk:null,_containersList:null,_tmpcontainerpos:null,_tmpos:null,_kidsCount:null,_activeMesh:null,_vertices:null,_uvs:null,_parsesV:null,_isQuad:null,_quadCount:null,_lastType:null,_charIndex:null,_oldIndex:null,_stringLen:null,
_materialList:null,_groupCount:null,resolveDependency:function(a){var b=null,c=null;1==a.get_assets().get_length()&&(c=y.__cast(a.get_assets().get(0),Sc),b=this.retrieveMeshFromID(a.get_id()));null!=b&&null!=c&&(Q.gt(2,this.get_materialMode())?y.__cast(b.get_material(),Qb).set_texture(c):y.__cast(b.get_material(),Lc).set_texture(c))},resolveDependencyFailure:function(a){},proceedParsing:function(){var a;this._startedParsing||(this._groupCount=0,this._activeContainer=null,this._textData=this.getTextData(),
this._textData=this._textData.replace(RegExp("\r","g"),""),this._materialList=[],this._startedParsing=!0,this._meshList=x.toObjectVector(null),this._stringLen=this._textData.length,this._oldIndex=this._charIndex=this._textData.indexOf(dg.CR,0));var b,c,d="",e,f,k;try{for(;this._charIndex<this._stringLen&&this.hasTime();)switch(this._charIndex=this._textData.indexOf(dg.CR,this._oldIndex),-1==this._charIndex&&(this._charIndex=this._stringLen),a=this._textData.substring(this._oldIndex,this._charIndex),
-1!=a.indexOf("texture ")&&(d=a.substring(a.indexOf('"')+1,a.length-1)),this._trunk=Da.replace(Da.replace(Da.replace(a,"  "," "),"  "," "),"  "," ").split(" "),this._charIndex!=this._stringLen&&(this._oldIndex=this._charIndex+1),this._trunk[0]){case "MATERIAL":this.generateMaterial(a);break;case "OBJECT":null!=this._activeMesh&&(this.buildMeshGeometry(this._activeMesh),this._tmpos.x=this._tmpos.y=this._tmpos.z=0,this._activeMesh=null);if("world"==this._trunk[1])this._lastType="world";else if("group"==
this._trunk[1])e=new Va,null!=this._activeContainer&&this._activeContainer.addChild(e),e.set_name("c_"+this._containersList.length),this._containersList.push(e),this._activeContainer=e,this.finalizeAsset(e),this._lastType="group";else{f=this._textData.indexOf("OBJECT",this._oldIndex);k=this._textData.indexOf("numsurf",this._oldIndex);if(-1==k||k>this._stringLen)throw this._charIndex=this._oldIndex=this._stringLen,"__break__";if(f<k)throw this._charIndex=this._oldIndex=f-1,"__break__";}if("poly"==
this._trunk[1]){var p=new Zb;this._activeMesh=new Pb(p,null);null!=this._vertices&&this.cleanUpBuffers();this._vertices=x.toObjectVector(null);this._uvs=[];this._activeMesh.set_name("m_"+this._meshList.get_length());this._meshList.set(this._meshList.get_length(),this._activeMesh);this._parsesV=!0;this._lastType="poly"}break;case "kids":this._kidsCount=h.parseInt(this._trunk[1]);"group"==this._lastType&&(this._groupCount=this._kidsCount);break;case "loc":if("group"==this._lastType){var w=parseFloat(this._trunk[1]);
this._tmpcontainerpos.x=w;var g=parseFloat(this._trunk[2]);this._tmpcontainerpos.y=g;var n=parseFloat(this._trunk[3]);this._tmpcontainerpos.z=n}else{var l=parseFloat(this._trunk[1]);this._tmpos.x=l;var m=parseFloat(this._trunk[2]);this._tmpos.y=m;var r=parseFloat(this._trunk[3]);this._tmpos.z=r}break;case "mat":null==this._activeMesh.get_material()&&this._activeMesh.set_material(this._materialList[h.parseInt(this._trunk[1])]);break;case "name":b=a.substring(6,a.length-1);"poly"==this._lastType?this._activeMesh.set_name(b):
this._activeContainer.set_name(b);break;case "numvert":3<=h.parseInt(this._trunk[1])&&(this._parsesV=!0);break;case "refs":c=h.parseInt(this._trunk[1]);if(4==c)this._isQuad=!0,this._quadCount=0;else if(3>c||4<c)continue;else this._isQuad=!1;this._parsesV=!1;break;case "rot":break;case "SURF":case "crease":case "data":case "numsurf":case "numvert lines of":case "refs lines of":case "texrep":case "url":break;case "texture":Q.gt(2,this.get_materialMode())?this._activeMesh.set_material(new Qb(Ib.getDefaultTexture())):
this._activeMesh.set_material(new Lc(Ib.getDefaultTexture()));this._activeMesh.get_material().set_name("m_"+this._activeMesh.get_name());this.addDependency(h.string(this._meshList.get_length()-1),new Fe(d));break;default:if(""==this._trunk[0])throw"__break__";this._parsesV?this._vertices.push(new jh(-parseFloat(this._trunk[0]),parseFloat(this._trunk[1]),parseFloat(this._trunk[2]))):this._isQuad?(this._quadCount++,4==this._quadCount?(this._uvs.push(this._uvs[this._uvs.length-2]),this._uvs.push(this._uvs[this._uvs.length-
1]),this._uvs.push(h.parseInt(this._trunk[0])),this._uvs.push(new ih(parseFloat(this._trunk[1]),1-parseFloat(this._trunk[2]))),this._uvs.push(this._uvs[this._uvs.length-10]),this._uvs.push(this._uvs[this._uvs.length-9])):(this._uvs.push(h.parseInt(this._trunk[0])),this._uvs.push(new ih(parseFloat(this._trunk[1]),1-parseFloat(this._trunk[2]))))):(this._uvs.push(h.parseInt(this._trunk[0])),this._uvs.push(new ih(parseFloat(this._trunk[1]),1-parseFloat(this._trunk[2]))))}}catch(q){if("__break__"!=q)throw q;
}return this._charIndex>=this._stringLen?(null!=this._activeMesh&&this.buildMeshGeometry(this._activeMesh),this.cleanUP(),!0):!1},checkGroup:function(a){0<this._groupCount&&this._groupCount--;null!=this._activeContainer&&this._activeContainer.addChild(this._activeMesh);null!=this._activeContainer&&0==this._groupCount&&(this._activeContainer=null,this._tmpcontainerpos.x=this._tmpcontainerpos.y=this._tmpcontainerpos.z=0)},buildMeshGeometry:function(a){for(var b,c,d,e,f,k,p=x.toFloatVector(null),w=x.toIntVector(null),
h=x.toFloatVector(null),n=[p,w,h],l=new qa,g,m=0;m<this._uvs.length;){65535<w.get_length()+3&&(p=x.toFloatVector(null),w=x.toIntVector(null),h=x.toFloatVector(null),n.push(p),n.push(w),n.push(h),l=new qa);e=this._uvs[m+1];f=this._uvs[m+3];k=this._uvs[m+5];b=this._vertices.get(this._uvs[m]);c=this._vertices.get(this._uvs[m+2]);d=this._vertices.get(this._uvs[m+4]);g=c.toString()+f.toString();if(null!=t[g]?l.existsReserved(g):l.h.hasOwnProperty(g))w.push(null!=t[g]?l.getReserved(g):l.h[g]);else{var r=
p.get_length()/3|0;null!=t[g]?l.setReserved(g,r):l.h[g]=r;w.push(null!=t[g]?l.getReserved(g):l.h[g]);p.push(c.get_x());p.push(c.get_y());p.push(c.get_z());h.push(f.get_u());h.push(f.get_v())}g=b.toString()+e.toString();(null!=t[g]?l.existsReserved(g):l.h.hasOwnProperty(g))?w.push(null!=t[g]?l.getReserved(g):l.h[g]):(c=p.get_length()/3|0,null!=t[g]?l.setReserved(g,c):l.h[g]=c,w.push(null!=t[g]?l.getReserved(g):l.h[g]),p.push(b.get_x()),p.push(b.get_y()),p.push(b.get_z()),h.push(e.get_u()),h.push(e.get_v()));
g=d.toString()+k.toString();(null!=t[g]?l.existsReserved(g):l.h.hasOwnProperty(g))?w.push(null!=t[g]?l.getReserved(g):l.h[g]):(b=p.get_length()/3|0,null!=t[g]?l.setReserved(g,b):l.h[g]=b,w.push(null!=t[g]?l.getReserved(g):l.h[g]),p.push(d.get_x()),p.push(d.get_y()),p.push(d.get_z()),h.push(k.get_u()),h.push(k.get_v()));m+=6}k=a.get_geometry();for(m=0;m<n.length;)d=new Ac,d.fromVectors(n[m],n[m+2],null,null),d.updateIndexData(n[m+1]),k.addSubGeometry(d),m+=3;a.set_x(-this._tmpos.x);a.set_y(this._tmpos.y);
a.set_z(this._tmpos.z);a.set_x(a.get_x()-this._tmpcontainerpos.x);a.set_y(a.get_y()+this._tmpcontainerpos.y);a.set_z(a.get_z()+this._tmpcontainerpos.z);this.checkGroup(this._activeMesh);this.finalizeAsset(a)},retrieveMeshFromID:function(a){return null!=this._meshList.get(h.parseInt(a))?this._meshList.get(h.parseInt(a)):null},generateMaterial:function(a){this._materialList.push(this.parseMaterialLine(a))},parseMaterialLine:function(a){var b=a.split(" "),c=0;a="";for(var d=0,e=0,f=0,k=0,p=0;p<b.length;){if(""!=
b[p])if(-1!=b[p].indexOf('"')||-1!=b[p].indexOf("'"))a=b[p].substring(1,b[p].length-1);else switch(b[p]){case "amb":d=parseFloat(b[p+1]);p+=2;break;case "rgb":var c=255*parseFloat(b[p+1])|0,w=255*parseFloat(b[p+2])|0,h=255*parseFloat(b[p+3])|0,p=p+3,c=c<<16|w<<8|h;break;case "shi":f=parseFloat(b[p+1])/255;p+=2;break;case "spec":e=parseFloat(b[p+1]);p+=2;break;case "trans":k=1-parseFloat(b[p+1])}++p}Q.gt(2,this.get_materialMode())?(b=new Lb(16777215),y.__cast(b,Lb).set_name(a),y.__cast(b,Lb).set_color(c),
y.__cast(b,Lb).set_ambient(d),y.__cast(b,Lb).set_specular(e),y.__cast(b,Lb).set_gloss(f),y.__cast(b,Lb).set_alpha(k)):(b=new Ad(16777215),y.__cast(b,Ad).set_name(a),y.__cast(b,Ad).set_color(c),y.__cast(b,Ad).set_ambient(d),y.__cast(b,Ad).set_specular(e),y.__cast(b,Ad).set_gloss(f));return b},cleanUP:function(){this._materialList=null;this.cleanUpBuffers()},cleanUpBuffers:function(){for(var a=0,b=this._vertices.get_length();a<b;){var c=a++;this._vertices.set(c,null)}a=0;for(b=this._uvs.length;a<b;)c=
a++,this._uvs[c]=null;this._uvs=this._vertices=null},__class__:dg});var Lg=function(){this._buffer=0;this._state="";ub.call(this,"plainText")};m["away3d.loaders.parsers.AWD1Parser"]=Lg;Lg.__name__=["away3d","loaders","parsers","AWD1Parser"];Lg.supportsType=function(a){a=a.toLowerCase();return"awd"==a};Lg.supportsData=function(a){var b,c,d=100;b=Ue.toByteArray(a);null!=b?(100>Na.get_length(b)&&(d=Na.get_length(b)),b.position=0,c=b.readUTFBytes(2),a=b.readUTFBytes(d)):(c="string"==typeof a?da.substr(y.__cast(a,
String),0,5):null,a="string"==typeof a?da.substr(y.__cast(a,String),0,d):null);return"//"==c&&-1!=a.indexOf("#v:")?!0:!1};Lg.__super__=ub;Lg.prototype=z(ub.prototype,{_textData:null,_startedParsing:null,_objs:null,_geos:null,_oList:null,_aC:null,_dline:null,_container:null,_meshList:null,_inited:null,_uvs:null,_charIndex:null,_oldIndex:null,_stringLength:null,_state:null,_buffer:null,_isMesh:null,_isMaterial:null,_id:null,resolveDependency:function(a){if(1==a.get_assets().get_length()){var b=y.__instanceof(a.get_assets().get(0),
Sc)?a.get_assets().get(0):null;a=this.retrieveMeshFromID(a.get_id());null!=a&&null!=b&&(Q.gt(2,this.get_materialMode())?y.__cast(a.get_material(),Qb).set_texture(b):y.__cast(a.get_material(),Lc).set_texture(b))}},resolveDependencyFailure:function(a){},proceedParsing:function(){var a,b="\n";this._startedParsing||(this._textData=this.getTextData(),this._startedParsing=!0);if(-1!=this._textData.indexOf("#t:bsp"))throw new H(new sa("AWD1 holding BSP information is not supported"));if(-1==this._textData.indexOf(b)||
200<this._textData.indexOf(b))b="\r";this._inited||(this._inited=!0,this._meshList=x.toObjectVector(null),this._stringLength=this._textData.length,this._oldIndex=this._charIndex=this._textData.indexOf(b,0),this._objs=[],this._geos=[],this._oList=[],this._dline=[],this._aC=[],this._container=new Va);a=null;for(var c,d=null;this._charIndex<this._stringLength&&this.hasTime();)if(this._charIndex=this._textData.indexOf(b,this._oldIndex),-1==this._charIndex&&(this._charIndex=this._stringLength),a=this._textData.substring(this._oldIndex,
this._charIndex),this._charIndex!=this._stringLength&&(this._oldIndex=this._charIndex+1),"#"==a.substring(0,1)&&this._state!=a.substring(0,2))this._state=a.substring(0,2),this._buffer=this._id=0,"#v"==this._state&&a.substring(3,a.length-1),"#f"==this._state&&(this._isMaterial=2==h.parseInt(a.substring(3,4))),"#t"==this._state&&(this._isMesh="mesh"==a.substring(3,7));else if(this._dline=a.split(","),!(1>=this._dline.length&&"#m"!=this._state&&"#d"!=this._state)){if("#o"==this._state)if(0==this._buffer){this._id=
h.parseInt(this._dline[0]);d=[parseFloat(this._dline[1]),parseFloat(this._dline[5]),parseFloat(this._dline[9]),0,parseFloat(this._dline[2]),parseFloat(this._dline[6]),parseFloat(this._dline[10]),0,parseFloat(this._dline[3]),parseFloat(this._dline[7]),parseFloat(this._dline[11]),0,parseFloat(this._dline[4]),parseFloat(this._dline[8]),parseFloat(this._dline[12]),1];c=x.toFloatVector(null);for(var e=0,f=d.length;e<f;){var k=e++;c.set(k,d[k])}d=new Xa(c);++this._buffer}else c={name:""==this._dline[0]?
"m_"+this._id:this._dline[0],transform:d,container:h.parseInt(this._dline[4]),bothSides:"true"==this._dline[5],x:parseFloat(this._dline[9]),y:parseFloat(this._dline[10]),z:parseFloat(this._dline[11]),material:this._isMaterial&&null!=this._dline[12]&&""!=this._dline[12]?this._dline[12]:null},this._objs.push(c),this._buffer=0;if("#d"==this._state)switch(this._buffer){case 0:this._id=this._geos.length;this._geos.push({});++this._buffer;this._geos[this._id].aVstr=a.substring(2,a.length);break;case 1:this._geos[this._id].aUstr=
a.substring(2,a.length);this._geos[this._id].aV=this.read(this._geos[this._id].aVstr).split(",");this._geos[this._id].aU=this.read(this._geos[this._id].aUstr).split(",");++this._buffer;break;case 2:this._geos[this._id].f=a.substring(2,a.length),this._objs[this._id].geo=this._geos[this._id],this._buffer=0}if("#c"==this._state&&!this._isMesh){this._id=h.parseInt(this._dline[0]);a=0==this._aC.length?this._container:new Va;d=[parseFloat(this._dline[1]),parseFloat(this._dline[5]),parseFloat(this._dline[9]),
0,parseFloat(this._dline[2]),parseFloat(this._dline[6]),parseFloat(this._dline[10]),0,parseFloat(this._dline[3]),parseFloat(this._dline[7]),parseFloat(this._dline[11]),0,parseFloat(this._dline[4]),parseFloat(this._dline[8]),parseFloat(this._dline[12]),1];c=x.toFloatVector(null);e=0;for(f=d.length;e<f;)k=e++,c.set(k,d[k]);d=new Xa(c);a.set_transform(d);a.set_name("null"==this._dline[13]||null==this._dline[13]?"cont_"+this._id:this._dline[13]);this._aC.push(a);a!=this._container&&this._aC[0].addChild(a)}}if(this._charIndex>=
this._stringLength){b=0;for(a=this._objs.length;b<a;)d=b++,d=this._objs[d],null!=d&&null!=d.geo&&(c=new Pb(new Zb,null),c.set_name(d.name),this._meshList.push(c),-1==d.container||this._isMesh||this._aC[d.container].addChild(c),c.set_transform(d.transform),Q.gt(2,this.get_materialMode())?c.set_material(new Qb(Ib.getDefaultTexture())):c.set_material(new Lc(Ib.getDefaultTexture())),c.get_material().set_bothSides(d.bothSides),null!=d.material&&""!=d.material&&this.addDependency(d.name,new Fe(d.material)),
c.get_material().set_name(d.name),null!=d.material&&""!=d.material&&this.addDependency(d.name,new Fe(d.material)),this.parseFacesToMesh(d.geo,c),this.finalizeAsset(c));this._objs=this._geos=this._oList=this._aC=this._uvs=null;this.finalizeAsset(this._container);return!0}return!1},parseFacesToMesh:function(a,b){var c,d,e,f=x.toFloatVector(null),k=x.toIntVector(null),p=x.toFloatVector(null),w=0,g=0,n=0;e=a.f.split(",");null!=a.m&&a.m.split(",");var l=b.get_geometry();for(c=0;c<e.length;)65535<k.get_length()+
3&&(w=new Ac,w.updateIndexData(k),w.fromVectors(f,p,null,null),l.addSubGeometry(w),f=x.toFloatVector(null),k=x.toIntVector(null),p=x.toFloatVector(null),g=w=n=0),k.set(g,g),++g,k.set(g,g),++g,k.set(g,g),++g,d=a.aV[h.parseInt(e[c+1])].split("/"),f.set(w++,parseFloat(d[0])),f.set(w++,parseFloat(d[1])),f.set(w++,parseFloat(d[2])),d=a.aV[h.parseInt(e[c])].split("/"),f.set(w++,parseFloat(d[0])),f.set(w++,parseFloat(d[1])),f.set(w++,parseFloat(d[2])),d=a.aV[h.parseInt(e[c+2])].split("/"),f.set(w++,parseFloat(d[0])),
f.set(w++,parseFloat(d[1])),f.set(w++,parseFloat(d[2])),d=a.aU[h.parseInt(e[c+4])].split("/"),p.set(n++,parseFloat(d[0])),p.set(n++,1-parseFloat(d[1])),d=a.aU[h.parseInt(e[c+3])].split("/"),p.set(n++,parseFloat(d[0])),p.set(n++,1-parseFloat(d[1])),d=a.aU[h.parseInt(e[c+5])].split("/"),p.set(n++,parseFloat(d[0])),p.set(n++,1-parseFloat(d[1])),c+=6;w=new Ac;w.updateIndexData(k);w.fromVectors(f,p,null,null);l.addSubGeometry(w)},retrieveMeshFromID:function(a){for(var b=0,c=this._meshList.get_length();b<
c;){var d=b++;if(y.__cast(this._meshList.get(d),Pb).get_name()==a)return y.__cast(this._meshList.get(d),Pb)}return null},read:function(a){for(var b=0,c="",d=a.length,e=0;e<d;){if(44<=da.cca(a,e)&&48>=da.cca(a,e))c+=a.substring(e,e+1);else{for(b=e;44!=da.cca(a,e)&&45!=da.cca(a,e)&&46!=da.cca(a,e)&&47!=da.cca(a,e)&&e<=d;)++e;b=Da.hex(h.parseInt(a.substring(b,e)));c+=b;--e}++e}return c},__class__:Lg});var mc=function(){this._debug=!1;ub.call(this,"binary");this.blendModeDic=x.toObjectVector(null);this.blendModeDic.push(10);
this.blendModeDic.push(0);this.blendModeDic.push(1);this.blendModeDic.push(2);this.blendModeDic.push(3);this.blendModeDic.push(4);this.blendModeDic.push(5);this.blendModeDic.push(6);this.blendModeDic.push(7);this.blendModeDic.push(8);this.blendModeDic.push(9);this.blendModeDic.push(11);this.blendModeDic.push(12);this._depthSizeDic=x.toIntVector(null);this._depthSizeDic.push(256);this._depthSizeDic.push(512);this._depthSizeDic.push(2048);this._depthSizeDic.push(1024)};m["away3d.loaders.parsers.AWD2Parser"]=
mc;mc.__name__=["away3d","loaders","parsers","AWD2Parser"];mc.supportsType=function(a){a=a.toLowerCase();return"awd"==a};mc.supportsData=function(a){return"AWD"==Ue.toString(a,3)};mc.__super__=ub;mc.prototype=z(ub.prototype,{_debug:null,_byteData:null,_cur_block_id:null,_blocks:null,_newBlockBytes:null,_version:null,_compression:null,_accuracyOnBlocks:null,_accuracyMatrix:null,_accuracyGeo:null,_accuracyProps:null,_matrixNrType:null,_geoNrType:null,_propsNrType:null,_streaming:null,_texture_users:null,
_body:null,_defaultTexture:null,_defaultCubeTexture:null,_defaultBitmapMaterial:null,_cubeTextures:null,blendModeDic:null,_depthSizeDic:null,resolveDependency:function(a){if(1==a.get_assets().get_length()){var b=a.get_id().split("#"),c=b[0],d,e;1==b.length&&(d=y.__instanceof(a.get_assets().get(0),Sc)?a.get_assets().get(0):null,null!=d&&(e=this._blocks.get(h.parseInt(a.get_id())),e.data=d,d.resetAssetPath(e.name,null,!0),e.name=d.get_name(),this.finalizeAsset(d),this._debug&&(Aa.trace("Successfully loadet Bitmap for texture",
{fileName:"AWD2Parser.hx",lineNumber:192,className:"away3d.loaders.parsers.AWD2Parser",methodName:"resolveDependency"}),Aa.trace("Parsed CubeTexture: Name = "+e.name,{fileName:"AWD2Parser.hx",lineNumber:193,className:"away3d.loaders.parsers.AWD2Parser",methodName:"resolveDependency"}))));1<b.length&&(a=y.__cast(a.get_assets().get(0),vb),this._cubeTextures[h.parseInt(b[1])]=y.__cast(a,vb).get_bitmapData(),b=this._texture_users,(null!=t[c]?b.getReserved(c):b.h[c]).push(1),this._debug&&(b=this._texture_users,
Aa.trace("Successfully loadet Bitmap "+(null!=t[c]?b.getReserved(c):b.h[c]).length+" / 6 for Cubetexture",{fileName:"AWD2Parser.hx",lineNumber:203,className:"away3d.loaders.parsers.AWD2Parser",methodName:"resolveDependency"})),b=this._texture_users,(null!=t[c]?b.getReserved(c):b.h[c]).length==this._cubeTextures.length&&(d=new df(this._cubeTextures[0],this._cubeTextures[1],this._cubeTextures[2],this._cubeTextures[3],this._cubeTextures[4],this._cubeTextures[5]),e=this._blocks.get(h.parseInt(c)),e.data=
d,d.resetAssetPath(e.name,null,!0),e.name=d.get_name(),this.finalizeAsset(d),this._debug&&Aa.trace("Parsed CubeTexture: Name = "+e.name,{fileName:"AWD2Parser.hx",lineNumber:216,className:"away3d.loaders.parsers.AWD2Parser",methodName:"resolveDependency"})))}},resolveDependencyFailure:function(a){},resolveDependencyName:function(a,b){var c=b.get_name();if(null!=b){var d=this._blocks.get(h.parseInt(a.get_id()));b.resetAssetPath(d.name,null,!0)}d=b.get_name();b.set_name(c);return d},startParsing:function(a){ub.prototype.startParsing.call(this,
a);this._texture_users=new qa;this._byteData=this.getByteData();this._blocks=x.toObjectVector(null);this._blocks.set(0,new en);this._blocks.get(0).data=null;this._version=[];this._byteData.__endian=1;this.parseHeader();switch(this._compression){case 0:this._body=this._byteData;break;case 1:this._body=new lc(0);a=this._byteData;this._byteData.readBytes(this._body,0,a.length-a.position);this._body.uncompress();break;case 2:this._body=new lc(0),a=this._byteData,this._byteData.readBytes(this._body,0,
a.length-a.position),this._body.uncompress(bj.fromString("lzma"))}this._body.__endian=1},proceedParsing:function(){for(;;){var a=this._body;if(!Q.gt(a.length-a.position,0)||this.get_parsingPaused()||!this.hasTime())break;this.parseNextBlock()}a=this._body;return 0==a.length-a.position?!0:!1},parseHeader:function(){var a;this._byteData.position=3;this._version[0]=this._byteData.readUnsignedByte();this._version[1]=this._byteData.readUnsignedByte();a=this._byteData.readUnsignedShort();this._streaming=
Mc.test(a,1);2==this._version[0]&&1==this._version[1]&&(this._accuracyMatrix=Mc.test(a,2),this._accuracyGeo=Mc.test(a,4),this._accuracyProps=Mc.test(a,8));this._geoNrType=7;this._accuracyGeo&&(this._geoNrType=8);this._matrixNrType=7;this._accuracyMatrix&&(this._matrixNrType=8);this._propsNrType=7;this._accuracyProps&&(this._propsNrType=8);this._compression=this._byteData.readUnsignedByte();this._debug&&(Aa.trace("Import AWDFile of version = "+this._version[0]+" - "+this._version[1],{fileName:"AWD2Parser.hx",
lineNumber:335,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseHeader"}),Aa.trace("Global Settings = Compression = "+h.string(Q.toFloat(this._compression))+" | Streaming = "+h.string(this._streaming)+" | Matrix-Precision = "+h.string(this._accuracyMatrix)+" | Geometry-Precision = "+h.string(this._accuracyGeo)+" | Properties-Precision = "+h.string(this._accuracyProps),{fileName:"AWD2Parser.hx",lineNumber:336,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseHeader"}));a=
this._byteData.readUnsignedInt();if(this._streaming)a=!1;else{var b=this._byteData;a=Q.toFloat(b.length-b.position)!=a}a&&this.dieWithError("AWD2 body length does not match header integrity field")},parseNextBlock:function(){var a=null,b=!1,c,d,e;this._cur_block_id=this._body.readUnsignedInt();this._body.readUnsignedByte();c=this._body.readUnsignedByte();d=this._body.readUnsignedByte();e=this._body.readUnsignedInt();var f=Mc.test(d,8),a=Mc.test(d,16);this._accuracyOnBlocks&&(this._accuracyMatrix=
Mc.test(d,1),this._accuracyGeo=Mc.test(d,2),this._accuracyProps=Mc.test(d,4),this._geoNrType=7,this._accuracyGeo&&(this._geoNrType=8),this._matrixNrType=7,this._accuracyMatrix&&(this._matrixNrType=8),this._propsNrType=7,this._accuracyProps&&(this._propsNrType=8));d=this._body.position+e;var k=Q.toFloat(e)|0,p=this._body;if(k>(Q.toFloat(p.length-p.position)|0))this.dieWithError("AWD2 block length is bigger than the bytes that are available!"),b=this._body,this._body.position+=b.length-b.position;else{this._newBlockBytes=
new lc(0);this._body.readBytes(this._newBlockBytes,0,e);f&&(a?this._newBlockBytes.uncompress(1):this._newBlockBytes.uncompress());this._newBlockBytes.__endian=1;this._newBlockBytes.position=0;a=new en;a.len=this._newBlockBytes.position+e;a.id=this._cur_block_id;k=this._newBlockBytes.position+e;f&&(k=this._newBlockBytes.position+Na.get_length(this._newBlockBytes),a.len=k);this._debug&&Aa.trace("AWDBlock:  ID = "+h.string(Q.toFloat(this._cur_block_id))+" | TypeID = "+h.string(Q.toFloat(c))+" | Compression = "+
(null==f?"null":""+f)+" | Matrix-Precision = "+h.string(this._accuracyMatrix)+" | Geometry-Precision = "+h.string(this._accuracyGeo)+" | Properties-Precision = "+h.string(this._accuracyProps),{fileName:"AWD2Parser.hx",lineNumber:400,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseNextBlock"});this._blocks.set(this._cur_block_id,a);if(2==this._version[0]&&1==this._version[1])switch(c){case 11:this.parsePrimitves(this._cur_block_id);b=!0;break;case 31:this.parseSkyBoxInstance(this._cur_block_id);
b=!0;break;case 41:this.parseLight(this._cur_block_id);b=!0;break;case 42:this.parseCamera(this._cur_block_id);b=!0;break;case 43:this.parseTextureProjector(this._cur_block_id);b=!0;break;case 51:this.parseLightPicker(this._cur_block_id);b=!0;break;case 81:this.parseMaterial_v1(this._cur_block_id);b=!0;break;case 83:this.parseCubeTexture(this._cur_block_id);b=!0;break;case 91:this.parseSharedMethodBlock(this._cur_block_id);b=!0;break;case 92:this.parseShadowMethodBlock(this._cur_block_id);b=!0;break;
case 111:this.parseMeshPoseAnimation(this._cur_block_id,!0);b=!0;break;case 112:this.parseMeshPoseAnimation(this._cur_block_id);b=!0;break;case 113:this.parseVertexAnimationSet(this._cur_block_id);b=!0;break;case 122:this.parseAnimatorSet(this._cur_block_id);b=!0;break;case 253:this.parseCommand(this._cur_block_id),b=!0}if(0==b)switch(c){case 1:this.parseTriangleGeometrieBlock(this._cur_block_id);break;case 22:this.parseContainer(this._cur_block_id);break;case 23:this.parseMeshInstance(this._cur_block_id);
break;case 81:this.parseMaterial(this._cur_block_id);break;case 82:this.parseTexture(this._cur_block_id);break;case 101:this.parseSkeleton(this._cur_block_id);break;case 102:this.parseSkeletonPose(this._cur_block_id);break;case 103:this.parseSkeletonAnimation(this._cur_block_id);break;case 121:this.parseUVAnimation(this._cur_block_id);break;case 254:this.parseNameSpace(this._cur_block_id);break;case 255:this.parseMetaData(this._cur_block_id);break;default:this._debug&&Aa.trace("AWDBlock:   Unknown BlockType  (BlockID = "+
h.string(Q.toFloat(this._cur_block_id))+") - Skip "+h.string(Q.toFloat(e))+" bytes",{fileName:"AWD2Parser.hx",lineNumber:478,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseNextBlock"}),this._newBlockBytes.position+=e}b=0;if(this._newBlockBytes.position==k){if(this._debug&&null!=a.errorMessages)for(;b<a.errorMessages.get_length();)Aa.trace("        (!) Error: "+a.errorMessages.get(b)+" (!)",{fileName:"AWD2Parser.hx",lineNumber:487,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseNextBlock"}),
++b;this._debug&&Aa.trace("\n",{fileName:"AWD2Parser.hx",lineNumber:493,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseNextBlock"})}else if(this._debug&&(Aa.trace("  (!)(!)(!) Error while reading AWDBlock ID "+h.string(Q.toFloat(this._cur_block_id))+" = skip to next block",{fileName:"AWD2Parser.hx",lineNumber:496,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseNextBlock"}),null!=a.errorMessages))for(;b<a.errorMessages.get_length();)Aa.trace("        (!) Error: "+a.errorMessages.get(b)+
" (!)",{fileName:"AWD2Parser.hx",lineNumber:499,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseNextBlock"}),++b;this._body.position=d;this._newBlockBytes=null}},parseTriangleGeometrieBlock:function(a){for(var b=new Zb,c=this.parseVarStr(),d=this._newBlockBytes.readUnsignedShort(),e=this.parseProperties({1:this._geoNrType,2:this._geoNrType}),f=e.get(1,1),e=e.get(2,1),k=x.toObjectVector(null),p=0;p<d;){var w,h,n=k=null;w=this._newBlockBytes.readUnsignedInt();h=this._newBlockBytes.position+
w;w=this.parseProperties({1:this._geoNrType,2:this._geoNrType});for(var l=null,g=null,m=null,r=null;Q.gt(h,this._newBlockBytes.position);){var q=0,t,u;t=this._newBlockBytes.readUnsignedByte();this._newBlockBytes.readUnsignedByte();u=this._newBlockBytes.readUnsignedInt();u=this._newBlockBytes.position+u;var v,y;if(1==t)for(l=x.toFloatVector(null);Q.gt(u,this._newBlockBytes.position);)t=this.readNumber(this._accuracyGeo),v=this.readNumber(this._accuracyGeo),y=this.readNumber(this._accuracyGeo),l.set(q++,
t),l.set(q++,v),l.set(q++,y);else if(2==t)for(g=x.toIntVector(null);Q.gt(u,this._newBlockBytes.position);)g.set(q++,this._newBlockBytes.readUnsignedShort());else if(3==t)for(m=x.toFloatVector(null);Q.gt(u,this._newBlockBytes.position);)m.set(q++,this.readNumber(this._accuracyGeo));else if(4==t)for(r=x.toFloatVector(null);Q.gt(u,this._newBlockBytes.position);)r.set(q++,this.readNumber(this._accuracyGeo));else if(6==t)for(k=x.toFloatVector(null);Q.gt(u,this._newBlockBytes.position);)k.set(q++,3*this._newBlockBytes.readUnsignedShort());
else if(7==t)for(n=x.toFloatVector(null);Q.gt(u,this._newBlockBytes.position);)n.set(q++,this.readNumber(this._accuracyGeo));else this._newBlockBytes.position=u}this.parseUserAttributes();k=Te.fromVectors(l,g,m,r,null,n,k);n=w.get(1,1);w=w.get(2,1);h=!1;if(f!=n||e!=w)Aa.trace("set sub uvs",{fileName:"AWD2Parser.hx",lineNumber:603,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseTriangleGeometrieBlock"}),h=!0,n=f/n,w=e/w;l=0;for(g=k.get_length();l<g;)m=l++,h&&k.get(m).scaleUV(n,w),b.addSubGeometry(k.get(m));
++p}1==f&&1==e||b.scaleUV(f,e);this.parseUserAttributes();this.finalizeAsset(b,c);this._blocks.get(a).data=b;this._debug&&Aa.trace("Parsed a TriangleGeometry: Name = "+c+"| SubGeometries = "+k.get_length(),{fileName:"AWD2Parser.hx",lineNumber:624,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseTriangleGeometrieBlock"})},parsePrimitves:function(a){var b,c,d,e;b=this.parseVarStr();d=this._newBlockBytes.readUnsignedByte();e=this.parseProperties({101:this._geoNrType,102:this._geoNrType,
103:this._geoNrType,110:this._geoNrType,111:this._geoNrType,301:5,302:5,303:5,701:21,702:21,703:21,704:21});var f="Unsupported Type-ID;PlaneGeometry;CubeGeometry;SphereGeometry;CylinderGeometry;ConeGeometry;CapsuleGeometry;TorusGeometry".split(";");switch(d){case 1:c=new cj(e.get(101,100),e.get(102,100),e.get(301,1),e.get(302,1),e.get(701,!0),e.get(702,!1));break;case 2:c=new dj(e.get(101,100),e.get(102,100),e.get(103,100),e.get(301,1),e.get(302,1),e.get(303,1),e.get(701,!0));break;case 3:c=new Ok(e.get(101,
50),e.get(301,16),e.get(302,12),e.get(701,!0));break;case 4:c=new ef(e.get(101,50),e.get(102,50),e.get(103,100),e.get(301,16),e.get(302,1),!0,!0,!0);e.get(701,!0)||y.__cast(c,ef).set_topClosed(!1);e.get(702,!0)||y.__cast(c,ef).set_bottomClosed(!1);e.get(703,!0)||y.__cast(c,ef).set_yUp(!1);break;case 5:c=new Pk(e.get(101,50),e.get(102,100),e.get(301,16),e.get(302,1),e.get(701,!0),e.get(702,!0));break;case 6:c=new fn(e.get(101,50),e.get(102,100),e.get(301,16),e.get(302,15),e.get(701,!0));break;case 7:c=
new Qk(e.get(101,50),e.get(102,50),e.get(301,16),e.get(302,8),e.get(701,!0));break;default:c=new Zb,Aa.trace("ERROR: UNSUPPORTED PRIMITIVE_TYPE",{fileName:"AWD2Parser.hx",lineNumber:669,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parsePrimitves"})}if(1!=e.get(110,1)||1!=e.get(111,1))c.get_subGeometries(),c.scaleUV(e.get(110,1),e.get(111,1));this.parseUserAttributes();c.set_name(b);this.finalizeAsset(c,b);this._blocks.get(a).data=c;if(this._debug){if(0>d||7<d)d=0;Aa.trace("Parsed a Primivite: Name = "+
b+"| type = "+f[d],{fileName:"AWD2Parser.hx",lineNumber:682,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parsePrimitves"})}},parseContainer:function(a){var b,c,d,e;c=this._newBlockBytes.readUnsignedInt();d=this.parseMatrix3D();b=this.parseVarStr();var f="Root (TopLevel)";e=new Va;e.set_transform(d);d=this.getAssetByID(c,["container","light","mesh","entity","segmentSet"]);d.enable?(y.__cast(d.data,Va).addChild(e),f=y.__cast(d.data,Va).get_name()):0<c&&this._blocks.get(a).addError("Could not find a parent for this ObjectContainer3D");
2==this._version[0]&&1==this._version[1]?(c=this.parseProperties({1:this._matrixNrType,2:this._matrixNrType,3:this._matrixNrType,4:4}),e.set_pivotPoint(new C(c.get(1,0),c.get(2,0),c.get(3,0)))):this.parseProperties(null);e.extra=this.parseUserAttributes();this.finalizeAsset(e,b);this._blocks.get(a).data=e;this._debug&&Aa.trace("Parsed a Container: Name = '"+b+"' | Parent-Name = "+f,{fileName:"AWD2Parser.hx",lineNumber:721,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseContainer"})},
parseMeshInstance:function(a){var b,c,d=this._newBlockBytes.readUnsignedInt(),e=this.parseMatrix3D(),f=this.parseVarStr(),k="Root (TopLevel)",p=this._newBlockBytes.readUnsignedInt(),w;w=this.getAssetByID(p,["geometry"]);w.enable?w=y.__cast(w.data,Zb):(this._blocks.get(a).addError("Could not find a Geometry for this Mesh. A empty Geometry is created!"),w=new Zb);this._blocks.get(a).geoID=p;var h=x.toObjectVector(null);b=this._newBlockBytes.readUnsignedShort();p=[];c=0;for(var n;c<b;){var l=this._newBlockBytes.readUnsignedInt();
n=this.getAssetByID(l,["material"]);!n.enable&&0<l&&this._blocks.get(a).addError("Could not find Material Nr "+c+" (ID = "+l+" ) for this Mesh");h.push(y.__cast(n.data,xb));p.push(y.__cast(n.data,xb).get_name());++c}b=new Pb(w,null);b.set_transform(e);e=this.getAssetByID(d,["container","light","mesh","entity","segmentSet"]);e.enable?(y.__cast(e.data,Va).addChild(b),k=y.__cast(e.data,Va).get_name()):0<d&&this._blocks.get(a).addError("Could not find a parent for this Mesh");if(1<=h.get_length()&&1==
b.get_subMeshes().get_length())b.set_material(h.get(0));else if(1<h.get_length())for(d=0,e=b.get_subMeshes().get_length();d<e;)c=d++,b.get_subMeshes().get(c).set_material(h.get(Math.min(h.get_length()-1,c)|0));2==this._version[0]&&1==this._version[1]?(h=this.parseProperties({1:this._matrixNrType,2:this._matrixNrType,3:this._matrixNrType,4:4,5:21}),b.set_pivotPoint(new C(h.get(1,0),h.get(2,0),h.get(3,0))),b.set_castsShadows(h.get(5,!0))):this.parseProperties(null);b.extra=this.parseUserAttributes();
this.finalizeAsset(b,f);this._blocks.get(a).data=b;this._debug&&Aa.trace("Parsed a Mesh: Name = '"+f+"' | Parent-Name = "+k+"| Geometry-Name = "+w.get_name()+" | SubMeshes = "+b.get_subMeshes().get_length()+" | Mat-Names = "+p.toString(),{fileName:"AWD2Parser.hx",lineNumber:792,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMeshInstance"})},parseSkyBoxInstance:function(a){var b=this.parseVarStr(),c=this._newBlockBytes.readUnsignedInt(),d=this.getAssetByID(c,["texture"],"CubeTexture");
d.enable||0==c||this._blocks.get(a).addError("Could not find the Cubetexture (ID = "+h.string(Q.toFloat(c))+" ) for this SkyBox");c=new Kg(y.__cast(d.data,df));this.parseProperties(null);c.extra=this.parseUserAttributes();this.finalizeAsset(c,b);this._blocks.get(a).data=c;this._debug&&Aa.trace("Parsed a SkyBox: Name = '"+b+"' | CubeTexture-Name = "+y.__cast(d.data,df).get_name(),{fileName:"AWD2Parser.hx",lineNumber:812,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseSkyBoxInstance"})},
parseLight:function(a){var b=null,c=null,d=this._newBlockBytes.readUnsignedInt(),e=this.parseMatrix3D(),f=this.parseVarStr(),k=this._newBlockBytes.readUnsignedByte(),p=this.parseProperties({1:this._propsNrType,2:this._propsNrType,3:22,4:this._propsNrType,5:this._propsNrType,6:21,7:22,8:this._propsNrType,9:4,10:4,11:this._propsNrType,12:5,21:this._matrixNrType,22:this._matrixNrType,23:this._matrixNrType}),w=p.get(9,0),g="Root (TopLevel)",n=["Unsupported LightType","PointLight","DirectionalLight"],
l=["No ShadowMapper","DirectionalShadowMapper","NearDirectionalShadowMapper","CascadeShadowMapper","CubeMapShadowMapper"];1==k&&(b=new je,y.__cast(b,je).set_radius(p.get(1,9E4)),y.__cast(b,je).set_fallOff(p.get(2,1E5)),Q.gt(w,0)&&4==w&&(c=new Zi),b.set_transform(e));2==k&&(b=new Ud(p.get(21,0),p.get(22,-1),p.get(23,1)),Q.gt(w,0)&&(1==w&&(c=new se),2==w&&(c=new Lk(p.get(11,.5))),3==w&&(c=new $i(p.get(12,3)))));2!=k&&1!=k?this._blocks.get(a).addError("Unsuported lighttype = "+h.string(Q.toFloat(k))):
(b.set_color(p.get(3,16777215)),b.set_specular(p.get(4,1)),b.set_diffuse(p.get(5,1)),b.set_ambientColor(p.get(7,16777215)),b.set_ambient(p.get(8,0)),null!=c&&(y.__instanceof(c,Zi)?1!=p.get(10,1)&&c.set_depthMapSize(this._depthSizeDic.get(p.get(10,1))):2!=p.get(10,2)&&c.set_depthMapSize(this._depthSizeDic.get(p.get(10,2))),b.set_shadowMapper(c),b.set_castsShadows(!0)),0!=d&&(c=this.getAssetByID(d,["container","light","mesh","entity","segmentSet"]),c.enable?(y.__cast(c.data,Va).addChild(b),g=y.__cast(c.data,
Va).get_name()):this._blocks.get(a).addError("Could not find a parent for this Light")),this.parseUserAttributes(),this.finalizeAsset(b,f),this._blocks.get(a).data=b,this._debug&&Aa.trace("Parsed a Light: Name = '"+f+"' | Type = "+n[k]+" | Parent-Name = "+g+" | ShadowMapper-Type = "+l[w],{fileName:"AWD2Parser.hx",lineNumber:889,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseLight"}))},parseCamera:function(a){var b=this._newBlockBytes.readUnsignedInt(),c=this.parseMatrix3D(),d=this.parseVarStr(),
e="Root (TopLevel)",f;this._newBlockBytes.readUnsignedByte();this._newBlockBytes.readShort();f=this._newBlockBytes.readShort();var k=this.parseProperties({101:this._propsNrType,102:this._propsNrType,103:this._propsNrType,104:this._propsNrType});switch(f){case 5001:f=new hd(k.get(101,60));break;case 5002:f=new wk(k.get(101,500));break;case 5003:f=new xk(k.get(101,-400),k.get(102,400),k.get(103,-300),k.get(104,300));break;default:Aa.trace("unsupportedLenstype",{fileName:"AWD2Parser.hx",lineNumber:914,
className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseCamera"});return}var p=new Eg(f);p.set_transform(c);c=this.getAssetByID(b,["container","light","mesh","entity","segmentSet"]);c.enable?(y.__cast(c.data,Va).addChild(p),e=y.__cast(c.data,Va).get_name()):Q.gt(b,0)&&this._blocks.get(a).addError("Could not find a parent for this Camera");p.set_name(d);k=this.parseProperties({1:this._matrixNrType,2:this._matrixNrType,3:this._matrixNrType,4:4,101:this._propsNrType,102:this._propsNrType});p.set_pivotPoint(new C(k.get(1,
0),k.get(2,0),k.get(3,0)));p.get_lens().set_near(k.get(101,20));p.get_lens().set_far(k.get(102,3E3));p.extra=this.parseUserAttributes();this.finalizeAsset(p,d);this._blocks.get(a).data=p;this._debug&&Aa.trace("Parsed a Camera: Name = '"+d+"' | Lenstype = "+h.string(f)+" | Parent-Name = "+e,{fileName:"AWD2Parser.hx",lineNumber:935,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseCamera"})},parseTextureProjector:function(a){this._newBlockBytes.readUnsignedInt();var b=this.parseMatrix3D(),
c=this.parseVarStr(),d=this._newBlockBytes.readUnsignedInt(),e=this.getAssetByID(d,["texture"]);e.enable||0==d||this._blocks.get(a).addError("Could not find the Texture (ID = "+h.string(Q.toFloat(d))+" ( for this TextureProjector!");d=new Dk(e.data);d.set_name(c);d.set_aspectRatio(this._newBlockBytes.readFloat());d.set_fieldOfView(this._newBlockBytes.readFloat());d.set_transform(b);b=this.parseProperties({1:this._matrixNrType,2:this._matrixNrType,3:this._matrixNrType,4:4});d.set_pivotPoint(new C(b.get(1,
0),b.get(2,0),b.get(3,0)));d.extra=this.parseUserAttributes();this.finalizeAsset(d,c);this._blocks.get(a).data=d;this._debug&&Aa.trace("Parsed a TextureProjector: Name = '"+c+"' | Texture-Name = "+y.__cast(e.data,Sc).get_name()+" | Parent-Name = Root (TopLevel)",{fileName:"AWD2Parser.hx",lineNumber:963,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseTextureProjector"})},parseLightPicker:function(a){for(var b=this.parseVarStr(),c=[],d=0,e,f=[],k=0,p=this._newBlockBytes.readUnsignedShort();k<
p;){var w=k++,d=this._newBlockBytes.readUnsignedInt();e=this.getAssetByID(d,["light"]);e.enable?(c.push(y.__cast(e.data,nd)),f.push(y.__cast(e.data,nd).get_name())):this._blocks.get(a).addError("Could not find a Light Nr "+w+" (ID = "+d+" ) for this LightPicker")}0==c.length?(this._blocks.get(a).addError("Could not create this LightPicker, cause no Light was found."),this.parseUserAttributes()):(c=new ej(c),c.set_name(b),this.parseUserAttributes(),this.finalizeAsset(c,b),this._blocks.get(a).data=
c,this._debug&&Aa.trace("Parsed a StaticLightPicker: Name = '"+b+"' | Texture-Name = "+f.toString(),{fileName:"AWD2Parser.hx",lineNumber:998,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseLightPicker"}))},parseMaterial:function(a){var b,c,d=null,e=null,f,k;b=this.parseVarStr();c=this._newBlockBytes.readUnsignedByte();f=this._newBlockBytes.readUnsignedByte();d=this.parseProperties({1:3,2:23,10:this._propsNrType,11:21,12:this._propsNrType,13:21});for(k=0;Q.gt(f,k);)this._newBlockBytes.readUnsignedShort(),
this.parseProperties(null),this.parseUserAttributes(),k+=1;k="";f=this.parseUserAttributes();1==c?(k+="Parsed a ColorMaterial(SinglePass): Name = '"+b+"' | ",c=d.get(1,13421772),e=Q.gt(2,this.get_materialMode())?new Lb(c,d.get(10,1)):new Ad(c)):2==c&&(e=d.get(2,0),c=this.getAssetByID(e,["texture"]),!c.enable&&Q.gt(e,0)&&this._blocks.get(a).addError("Could not find the DiffsueTexture (ID = "+h.string(Q.toFloat(e))+" ) for this Material"),Q.gt(2,this.get_materialMode())?(e=new Qb(c.data),y.__cast(e,
Qb).set_alphaBlending(d.get(11,!1)),y.__cast(e,Qb).set_alpha(d.get(10,1)),k+="Parsed a TextureMaterial(SinglePass): Name = '"+b+"' | Texture-Name = "+e.get_name()):(e=new Lc(c.data),k+="Parsed a TextureMaterial(MultipAss): Name = '"+b+"' | Texture-Name = "+e.get_name()));e.extra=f;Q.gt(2,this.get_materialMode())?y.__cast(e,Wa).set_alphaThreshold(d.get(12,0)):y.__cast(e,$a).set_alphaThreshold(d.get(12,0));e.set_repeat(d.get(13,!1));this.finalizeAsset(e,b);this._blocks.get(a).data=e;this._debug&&Aa.trace(k,
{fileName:"AWD2Parser.hx",lineNumber:1072,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMaterial"})},parseMaterial_v1:function(a){var b=null,c=null,d=null,e,f=this.parseVarStr();e=this._newBlockBytes.readUnsignedByte();var k=this._newBlockBytes.readUnsignedByte(),p=this.parseProperties({1:6,2:23,3:23,4:4,5:21,6:21,7:21,8:21,9:4,10:this._propsNrType,11:21,12:this._propsNrType,13:21,15:this._propsNrType,16:6,17:23,18:this._propsNrType,19:this._propsNrType,20:6,21:23,22:23}),w=p.get(4,
0),g="";if(2<=w)this._blocks.get(a).addError("Material-spezialType '"+w+"' is not supported, can only be 0:singlePass, 1:MultiPass !");else{1==this.get_materialMode()?w=0:2==this.get_materialMode()&&(w=1);if(2>w){if(1==e)b=p.get(1,13421772),1==w?(b=new Ad(b),g+="Parsed a ColorMaterial(MultiPass): Name = '"+f+"' | "):(b=new Lb(b,p.get(10,1)),y.__cast(b,Lb).set_alphaBlending(p.get(11,!1)),g+="Parsed a ColorMaterial(SinglePass): Name = '"+f+"' | ");else if(2==e){b=p.get(2,0);e=this.getAssetByID(b,["texture"]);
!e.enable&&Q.gt(b,0)&&this._blocks.get(a).addError("Could not find the DiffsueTexture (ID = "+h.string(Q.toFloat(b))+" ) for this TextureMaterial");var n=e.data,l=null,b=p.get(17,0);e=this.getAssetByID(b,["texture"]);e.enable||0==b||this._blocks.get(a).addError("Could not find the AmbientTexture (ID = "+h.string(Q.toFloat(b))+" ) for this TextureMaterial");e.enable&&(l=e.data);1==w?(b=new Lc(n),g+="Parsed a TextureMaterial(MultiPass): Name = '"+f+"' | Texture-Name = "+n.get_name(),null!=l&&(y.__cast(b,
Lc).set_ambientTexture(l),g+=" | AmbientTexture-Name = "+l.get_name())):(b=new Qb(n),g+="Parsed a TextureMaterial(SinglePass): Name = '"+f+"' | Texture-Name = "+n.get_name(),null!=l&&(y.__cast(b,Qb).set_ambientTexture(l),g+=" | AmbientTexture-Name = "+l.get_name()),y.__cast(b,Qb).set_alpha(p.get(10,1)),y.__cast(b,Qb).set_alphaBlending(p.get(11,!1)))}n=p.get(3,0);e=this.getAssetByID(n,["texture"]);e.enable||0==n||this._blocks.get(a).addError("Could not find the NormalTexture (ID = "+h.string(Q.toFloat(n))+
" ) for this TextureMaterial");e.enable&&(c=e.data,g+=" | NormalTexture-Name = "+c.get_name());n=p.get(21,0);e=this.getAssetByID(n,["texture"]);e.enable||0==n||this._blocks.get(a).addError("Could not find the SpecularTexture (ID = "+h.string(Q.toFloat(n))+" ) for this TextureMaterial");e.enable&&(d=e.data,g+=" | SpecularTexture-Name = "+d.get_name());n=p.get(22,0);e=this.getAssetByID(n,["lightPicker"]);e.enable||0==n?y.__cast(b,xb).set_lightPicker(y.__instanceof(e.data,oh)?e.data:null):this._blocks.get(a).addError("Could not find the LightPicker (ID = "+
h.string(Q.toFloat(n))+" ) for this TextureMaterial");y.__cast(b,xb).set_smooth(p.get(5,!0));y.__cast(b,xb).set_mipmap(p.get(6,!0));y.__cast(b,xb).set_bothSides(p.get(7,!1));y.__cast(b,xb).set_alphaPremultiplied(p.get(8,!1));y.__cast(b,xb).set_blendMode(this.blendModeDic.get(p.get(9,0)));y.__cast(b,xb).set_repeat(p.get(13,!1));0==w?(null!=c&&y.__cast(b,Wa).set_normalMap(c),null!=d&&y.__cast(b,Wa).set_specularMap(d),y.__cast(b,Wa).set_alphaThreshold(p.get(12,0)),y.__cast(b,Wa).set_ambient(p.get(15,
1)),y.__cast(b,Wa).set_ambientColor(p.get(16,16777215)),y.__cast(b,Wa).set_specular(p.get(18,1)),y.__cast(b,Wa).set_gloss(p.get(19,50)),y.__cast(b,Wa).set_specularColor(p.get(20,16777215))):(null!=c&&y.__cast(b,$a).set_normalMap(c),null!=d&&y.__cast(b,$a).set_specularMap(d),y.__cast(b,$a).set_alphaThreshold(p.get(12,0)),y.__cast(b,$a).set_ambient(p.get(15,1)),y.__cast(b,$a).set_ambientColor(p.get(16,16777215)),y.__cast(b,$a).set_specular(p.get(18,1)),y.__cast(b,$a).set_gloss(p.get(19,50)),y.__cast(b,
$a).set_specularColor(p.get(20,16777215)));for(c=0;c<k;){d=this._newBlockBytes.readUnsignedShort();p=this.parseProperties({1:23,2:23,3:23,101:this._propsNrType,102:this._propsNrType,103:this._propsNrType,201:6,202:6,301:5,302:5,401:4,402:4,601:22,602:22,701:21,702:21,801:47});switch(d){case 1:d=p.get(1,0);e=this.getAssetByID(d,["texture"],"CubeTexture");e.enable||this._blocks.get(a).addError("Could not find the EnvMap (ID = "+d+" ) for this EnvMapAmbientMethodMaterial");0==w&&y.__cast(b,Wa).set_ambientMethod(new Rk(e.data));
1==w&&y.__cast(b,$a).set_ambientMethod(new Rk(e.data));g+=" | EnvMapAmbientMethod | EnvMap-Name ="+y.__cast(e.data,Mg).get_name();break;case 51:0==w&&y.__cast(b,Wa).set_diffuseMethod(new Sk);1==w&&y.__cast(b,$a).set_diffuseMethod(new Sk);g+=" | DepthDiffuseMethod";break;case 52:d=p.get(1,0);e=this.getAssetByID(d,["texture"]);e.enable||this._blocks.get(a).addError("Could not find the GradientDiffuseTexture (ID = "+d+" ) for this GradientDiffuseMethod");0==w&&y.__cast(b,Wa).set_diffuseMethod(new Tk(e.data));
1==w&&y.__cast(b,$a).set_diffuseMethod(new Tk(e.data));g+=" | GradientDiffuseMethod | GradientDiffuseTexture-Name ="+y.__cast(e.data,Sc).get_name();break;case 53:0==w&&y.__cast(b,Wa).set_diffuseMethod(new Uk(p.get(101,5)));1==w&&y.__cast(b,$a).set_diffuseMethod(new Uk(p.get(101,5)));g+=" | WrapDiffuseMethod";break;case 54:d=p.get(1,0);e=this.getAssetByID(d,["texture"]);e.enable||this._blocks.get(a).addError("Could not find the LightMap (ID = "+d+" ) for this LightMapDiffuseMethod");0==w&&y.__cast(b,
Wa).set_diffuseMethod(new Yh(e.data,this.blendModeDic.get(p.get(401,10)),!1,y.__cast(b,Wa).get_diffuseMethod()));1==w&&y.__cast(b,$a).set_diffuseMethod(new Yh(e.data,this.blendModeDic.get(p.get(401,10)),!1,y.__cast(b,$a).get_diffuseMethod()));g+=" | LightMapDiffuseMethod | LightMapTexture-Name ="+y.__cast(e.data,Sc).get_name();break;case 55:0==w&&(y.__cast(b,Wa).set_diffuseMethod(new Zh(p.get(401,3),y.__cast(b,Wa).get_diffuseMethod())),y.__cast(y.__cast(b,Wa).get_diffuseMethod(),Zh).set_smoothness(p.get(101,
.1)));1==w&&(y.__cast(b,$a).set_diffuseMethod(new Zh(p.get(401,3),y.__cast(b,$a).get_diffuseMethod())),y.__cast(y.__cast(b,$a).get_diffuseMethod(),Zh).set_smoothness(p.get(101,.1)));g+=" | CelDiffuseMethod";break;case 56:0==w&&(y.__cast(b,Wa).set_diffuseMethod(new Df),y.__cast(y.__cast(b,Wa).get_diffuseMethod(),Df).set_scattering(p.get(101,.2)),y.__cast(y.__cast(b,Wa).get_diffuseMethod(),Df).set_translucency(p.get(102,1)),y.__cast(y.__cast(b,Wa).get_diffuseMethod(),Df).set_scatterColor(p.get(601,
16777215)));1==w&&(y.__cast(b,$a).set_diffuseMethod(new Df),y.__cast(y.__cast(b,$a).get_diffuseMethod(),Df).set_scattering(p.get(101,.2)),y.__cast(y.__cast(b,$a).get_diffuseMethod(),Df).set_translucency(p.get(102,1)),y.__cast(y.__cast(b,$a).get_diffuseMethod(),Df).set_scatterColor(p.get(601,16777215)));g+=" | SubSurfaceScatteringMethod";break;case 101:0==w&&y.__cast(b,Wa).set_specularMethod(new Vk);1==w&&y.__cast(b,$a).set_specularMethod(new Vk);g+=" | AnisotropicSpecularMethod";break;case 102:0==
w&&y.__cast(b,Wa).set_specularMethod(new Wk);1==w&&y.__cast(b,$a).set_specularMethod(new Wk);g+=" | PhongSpecularMethod";break;case 103:0==w&&(y.__cast(b,Wa).set_specularMethod(new $h(p.get(101,.5),y.__cast(b,Wa).get_specularMethod())),y.__cast(y.__cast(b,Wa).get_specularMethod(),$h).set_smoothness(p.get(102,.1)));1==w&&(y.__cast(b,$a).set_specularMethod(new $h(p.get(101,.5),y.__cast(b,$a).get_specularMethod())),y.__cast(y.__cast(b,$a).get_specularMethod(),$h).set_smoothness(p.get(102,.1)));g+=" | CellSpecularMethod";
break;case 104:0==w&&(y.__cast(b,Wa).set_specularMethod(new Ng(p.get(701,!0),y.__cast(b,Wa).get_specularMethod())),y.__cast(y.__cast(b,Wa).get_specularMethod(),Ng).set_fresnelPower(p.get(101,5)),y.__cast(y.__cast(b,Wa).get_specularMethod(),Ng).set_normalReflectance(p.get(102,.1)));1==w&&(y.__cast(b,$a).set_specularMethod(new Ng(p.get(701,!0),y.__cast(b,$a).get_specularMethod())),y.__cast(y.__cast(b,$a).get_specularMethod(),Ng).set_fresnelPower(p.get(101,5)),y.__cast(y.__cast(b,$a).get_specularMethod(),
Ng).set_normalReflectance(p.get(102,.1)));g+=" | FresnelSpecularMethod";break;case 152:d=p.get(1,0);e=this.getAssetByID(d,["texture"]);e.enable||this._blocks.get(a).addError("Could not find the SecoundNormalMap (ID = "+d+" ) for this SimpleWaterNormalMethod");0==w&&(null==y.__cast(b,Wa).get_normalMap()&&this._blocks.get(a).addError("Could not find a normal Map on this Material to use with this SimpleWaterNormalMethod"),y.__cast(b,Wa).set_normalMap(e.data),y.__cast(b,Wa).set_normalMethod(new Xk(y.__cast(b,
Wa).get_normalMap(),e.data)));1==w&&(null==y.__cast(b,$a).get_normalMap()&&this._blocks.get(a).addError("Could not find a normal Map on this Material to use with this SimpleWaterNormalMethod"),y.__cast(b,$a).set_normalMap(e.data),y.__cast(b,$a).set_normalMethod(new Xk(y.__cast(b,$a).get_normalMap(),e.data)));g+=" | SimpleWaterNormalMethod | Second-NormalTexture-Name = "+y.__cast(e.data,Sc).get_name();break;case 998:d=p.get(1,0);e=this.getAssetByID(d,["shadowMapMethod"]);e.enable?(0==w&&y.__cast(b,
Wa).set_shadowMethod(e.data),1==w&&y.__cast(b,$a).set_shadowMethod(e.data),g+=" | ShadowMethod-Name = "+y.__cast(e.data,te).get_name()):this._blocks.get(a).addError("Could not find the ShadowMethod (ID = "+d+" ) for this Material");break;case 999:d=p.get(1,0),e=this.getAssetByID(d,["effectsMethod"]),e.enable?(0==w&&y.__cast(b,Wa).addMethod(e.data),1==w&&y.__cast(b,$a).addMethod(e.data),g+=" | EffectMethod-Name = "+y.__cast(e.data,Jb).get_name()):this._blocks.get(a).addError("Could not find the EffectMethod (ID = "+
d+" ) for this Material")}this.parseUserAttributes();++c}}y.__cast(b,xb).extra=this.parseUserAttributes();this.finalizeAsset(b,f);this._blocks.get(a).data=b;this._debug&&Aa.trace(g,{fileName:"AWD2Parser.hx",lineNumber:1360,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMaterial_v1"})}},parseTexture:function(a){this._blocks.get(a).name=this.parseVarStr();var b=this._newBlockBytes.readUnsignedByte(),c;c=this._texture_users;var d=h.string(Q.toFloat(this._cur_block_id)),e=[];null!=t[d]?
c.setReserved(d,e):c.h[d]=e;0==b?(c=this._newBlockBytes.readUnsignedInt(),c=this._newBlockBytes.readUTFBytes(c),this.addDependency(h.string(Q.toFloat(this._cur_block_id)),new Fe(c),!1,null,!0)):(c=this._newBlockBytes.readUnsignedInt(),d=new lc(0),d.__endian=0,this._newBlockBytes.readBytes(d,0,c),this.addDependency(h.string(Q.toFloat(this._cur_block_id)),null,!1,d,!0));this.parseProperties(null);this._blocks.get(a).extras=this.parseUserAttributes();this.pauseAndRetrieveDependencies();this._blocks.get(a).data=
null;this._debug&&Aa.trace("Start parsing a "+["external","embed"][b]+" Bitmap for Texture",{fileName:"AWD2Parser.hx",lineNumber:1395,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseTexture"})},parseCubeTexture:function(a){var b;this._cubeTextures=[];var c=this._texture_users,d=h.string(Q.toFloat(this._cur_block_id)),e=[];null!=t[d]?c.setReserved(d,e):c.h[d]=e;c=this._newBlockBytes.readUnsignedByte();this._blocks.get(a).name=this.parseVarStr();for(d=0;6>d;){var e=d++,f=this._texture_users;
b=h.string(Q.toFloat(this._cur_block_id));var k=[];null!=t[b]?f.setReserved(b,k):f.h[b]=k;this._cubeTextures.push(null);0==c?(b=this._newBlockBytes.readUnsignedInt(),b=this._newBlockBytes.readUTFBytes(b),this.addDependency(h.string(Q.toFloat(this._cur_block_id))+"#"+e,new Fe(b),!1,null,!0)):(b=this._newBlockBytes.readUnsignedInt(),k=new lc(0),k.__endian=0,this._newBlockBytes.readBytes(k,0,b),this.addDependency(h.string(Q.toFloat(this._cur_block_id))+"#"+e,null,!1,k,!0))}this.parseProperties(null);
this._blocks.get(a).extras=this.parseUserAttributes();this.pauseAndRetrieveDependencies();this._blocks.get(a).data=null;this._debug&&Aa.trace("Start parsing 6 "+["external","embed"][c]+" Bitmaps for CubeTexture",{fileName:"AWD2Parser.hx",lineNumber:1436,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseCubeTexture"})},parseSharedMethodBlock:function(a){var b;this._blocks.get(a).name=this.parseVarStr();b=this.parseSharedMethodList(a);this.parseUserAttributes();this._blocks.get(a).data=
b;this.finalizeAsset(b,this._blocks.get(a).name);this._blocks.get(a).data=b;this._debug&&Aa.trace("Parsed a EffectMethod: Name = "+b.get_name()+" Type = "+h.string(b),{fileName:"AWD2Parser.hx",lineNumber:1451,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseSharedMethodBlock"})},parseSharedMethodList:function(a){var b=this._newBlockBytes.readUnsignedShort(),c=null,d=this.parseProperties({1:23,2:23,3:23,101:this._propsNrType,102:this._propsNrType,103:this._propsNrType,104:this._propsNrType,
105:this._propsNrType,106:this._propsNrType,107:this._propsNrType,201:6,202:6,301:5,302:5,401:4,402:4,601:22,602:22,701:21,702:21}),e;switch(b){case 401:c=new gn(d.get(101,[0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]));break;case 402:c=new fj;a=d.get(601,0);d=new jc(d.get(102,1),d.get(103,1),d.get(104,1),d.get(101,1),Q.toFloat(a>>>16&255),Q.toFloat(a>>>8&255),Q.toFloat(a&255),Q.toFloat(a>>>24&255));y.__cast(c,fj).set_colorTransform(d);break;case 403:b=d.get(1,0);e=this.getAssetByID(b,["texture"],"CubeTexture");
e.enable||this._blocks.get(a).addError("Could not find the EnvMap (ID = "+h.string(Q.toFloat(b))+" ) for this EnvMapMethod");c=new pf(e.data,d.get(101,1));b=d.get(2,0);Q.gt(b,0)&&(e=this.getAssetByID(b,["texture"]),e.enable||this._blocks.get(a).addError("Could not find the Mask-texture (ID = "+h.string(Q.toFloat(b))+" ) for this EnvMapMethod"),y.__cast(c,pf).set_mask(e.data));break;case 404:b=d.get(1,0);e=this.getAssetByID(b,["texture"]);e.enable||this._blocks.get(a).addError("Could not find the LightMap (ID = "+
h.string(Q.toFloat(b))+" ) for this LightMapMethod");c=new ai(e.data,this.blendModeDic.get(d.get(401,10)));break;case 405:b=d.get(1,0);e=this.getAssetByID(b,["textureProjector"]);e.enable||this._blocks.get(a).addError("Could not find the TextureProjector (ID = "+h.string(Q.toFloat(b))+" ) for this ProjectiveTextureMethod");c=new bi(e.data,this.blendModeDic.get(d.get(401,10)));break;case 406:c=new ci(d.get(601,16777215),d.get(101,.4),d.get(101,2));break;case 407:b=d.get(1,0);e=this.getAssetByID(b,
["texture"]);e.enable||this._blocks.get(a).addError("Could not find the Alpha-texture (ID = "+h.string(Q.toFloat(b))+" ) for this AlphaMaskMethod");c=new hn(e.data,d.get(701,!1));break;case 408:b=d.get(1,0);e=this.getAssetByID(b,["texture"],"CubeTexture");e.enable||this._blocks.get(a).addError("Could not find the EnvMap (ID = "+h.string(Q.toFloat(b))+" ) for this RefractionEnvMapMethod");c=new Yk(e.data,d.get(101,.1),d.get(102,.01),d.get(103,.01),d.get(104,.01));y.__cast(c,Yk).set_alpha(d.get(104,
1));break;case 409:c=new jn(d.get(601,0),d.get(101,1),d.get(701,!0),d.get(702,!1));break;case 410:b=d.get(1,0);e=this.getAssetByID(b,["texture"],"CubeTexture");e.enable||this._blocks.get(a).addError("Could not find the EnvMap (ID = "+h.string(Q.toFloat(b))+" ) for this FresnelEnvMapMethod");c=new kn(e.data,d.get(101,1));break;case 411:c=new ln(d.get(101,0),d.get(102,1E3),d.get(601,8421504))}this.parseUserAttributes();return c},parseShadowMethodBlock:function(a){var b;this._blocks.get(a).name=this.parseVarStr();
b=this._newBlockBytes.readUnsignedInt();var c=this.getAssetByID(b,["light"]);c.enable?(b=this.parseShadowMethodList(y.__cast(c.data,nd),a),null!=b&&(this.parseUserAttributes(),this.finalizeAsset(b,this._blocks.get(a).name),this._blocks.get(a).data=b,this._debug&&Aa.trace("Parsed a ShadowMapMethodMethod: Name = "+b.get_name()+" | Type = "+h.string(b)+" | Light-Name = "+h.string(y.__cast(c.data,nd)),{fileName:"AWD2Parser.hx",lineNumber:1548,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseShadowMethodBlock"}))):
this._blocks.get(a).addError("Could not find the TargetLight (ID = "+h.string(Q.toFloat(b))+" ) for this ShadowMethod - ShadowMethod not created")},parseShadowMethodList:function(a,b){var c=this._newBlockBytes.readUnsignedShort(),d=null,e=this.parseProperties({1:23,2:23,3:23,101:this._propsNrType,102:this._propsNrType,103:this._propsNrType,201:6,202:6,301:5,302:5,401:4,402:4,601:22,602:22,701:21,702:21,801:47});switch(c){case 1001:c=e.get(1,0);e=this.getAssetByID(c,["shadowMapMethod"]);if(!e.enable)return this._blocks.get(b).addError("Could not find the ShadowBaseMethod (ID = "+
h.string(Q.toFloat(c))+" ) for this CascadeShadowMapMethod - ShadowMethod not created"),d;d=new mn(e.data);break;case 1002:c=e.get(1,0);e=this.getAssetByID(c,["shadowMapMethod"]);if(!e.enable)return this._blocks.get(b).addError("Could not find the ShadowBaseMethod (ID = "+h.string(Q.toFloat(c))+" ) for this NearShadowMapMethod - ShadowMethod not created"),d;d=new nn(e.data);break;case 1101:d=new gj(y.__cast(a,Ud));y.__cast(d,gj).set_alpha(e.get(101,1));y.__cast(d,gj).set_epsilon(e.get(102,.002));
break;case 1102:d=new Cd(y.__cast(a,Ud),e.get(201,5));y.__cast(d,Cd).set_alpha(e.get(101,1));y.__cast(d,Cd).set_epsilon(e.get(102,.002));y.__cast(d,Cd).set_range(e.get(103,1));break;case 1103:d=new di(y.__cast(a,Ud),e.get(201,5));y.__cast(d,di).set_alpha(e.get(101,1));y.__cast(d,di).set_epsilon(e.get(102,.002));y.__cast(d,di).set_range(e.get(103,1));break;case 1104:d=new hj(a),y.__cast(d,hj).set_alpha(e.get(101,1)),y.__cast(d,hj).set_epsilon(e.get(102,.002))}this.parseUserAttributes();return d},parseSkeleton:function(a){var b=
this.parseVarStr(),c=this._newBlockBytes.readUnsignedShort(),d=new Qf;this.parseProperties(null);for(var e=0;e<c;){var f,k;this._newBlockBytes.readUnsignedShort();f=new mk;f.parentIndex=this._newBlockBytes.readUnsignedShort()-1;f.name=this.parseVarStr();k=this.parseMatrix3D();f.inverseBindPose=k.rawData;this.parseProperties(null);this.parseUserAttributes();d.joints.push(f);++e}this.parseUserAttributes();this.finalizeAsset(d,b);this._blocks.get(a).data=d;this._debug&&Aa.trace("Parsed a Skeleton: Name = "+
d.get_name()+" | Number of Joints = "+e,{fileName:"AWD2Parser.hx",lineNumber:1633,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseSkeleton"})},parseSkeletonPose:function(a){var b=this.parseVarStr(),c=this._newBlockBytes.readUnsignedShort();this.parseProperties(null);for(var d=new xf,e=0;Q.gt(c,e);){var f;f=new fh;if(1==this._newBlockBytes.readUnsignedByte()){var k=this.parseMatrix43RawData(),k=new Xa(k);f.orientation.fromMatrix(k);f.translation.copyFrom(k.get_position());d.jointPoses.set(e,
f)}++e}this.parseUserAttributes();this.finalizeAsset(d,b);this._blocks.get(a).data=d;this._debug&&Aa.trace("Parsed a SkeletonPose: Name = "+d.get_name()+" | Number of Joints = "+h.string(Q.toFloat(e)),{fileName:"AWD2Parser.hx",lineNumber:1667,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseSkeletonPose"})},parseSkeletonAnimation:function(a){var b,c,d=this.parseVarStr(),e=new Ph,f=this._newBlockBytes.readUnsignedShort();this.parseProperties(null);for(var k=0,p;Q.gt(f,k);)c=this._newBlockBytes.readUnsignedInt(),
b=this._newBlockBytes.readUnsignedShort(),p=this.getAssetByID(c,["skeletonPose"]),p.enable?e.addFrame(y.__cast(this._blocks.get(c).data,xf),b):this._blocks.get(a).addError("Could not find the SkeletonPose Frame # "+h.string(Q.toFloat(k))+" (ID = "+h.string(Q.toFloat(c))+" ) for this SkeletonClipNode"),++k;0==e.get_frames().get_length()?this._blocks.get(a).addError("Could not this SkeletonClipNode, because no Frames where set."):(this.parseUserAttributes(),this.finalizeAsset(e,d),this._blocks.get(a).data=
e,this._debug&&Aa.trace("Parsed a SkeletonClipNode: Name = "+e.get_name()+" | Number of Frames = "+e.get_frames().get_length(),{fileName:"AWD2Parser.hx",lineNumber:1701,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseSkeletonAnimation"}))},parseMeshPoseAnimation:function(a,b){null==b&&(b=!1);var c=1,d,e,f,k,p,w,h,n,l,g=0,m=new Ni,r,q,t=0,u=0,v=x.toIntVector(null),z=this.parseVarStr();d=this._newBlockBytes.readUnsignedInt();var B=this.getAssetByID(d,["geometry"]);if(B.enable){var A=
this.getUVForVertexAnimation(d);b||(c=this._newBlockBytes.readUnsignedShort());d=this._newBlockBytes.readUnsignedShort();t=this._newBlockBytes.readUnsignedShort();for(u=0;u<t;)v.push(this._newBlockBytes.readUnsignedShort()),++u;e=this.parseProperties({1:21,2:21});m.set_looping(e.get(1,!0));m.set_stitchFinalFrame(e.get(2,!1));for(e=0;Q.gt(c,e);){k=this._newBlockBytes.readUnsignedShort();l=new Zb;for(f=0;Q.gt(d,f);)for(u=0,n=this._newBlockBytes.readUnsignedInt(),n=this._newBlockBytes.position+n;u<t;){if(1==
v.get(u)){r=B.data.subGeometries[f].indexData;q=x.toFloatVector(null);for(g=0;Q.gt(n,this._newBlockBytes.position);)p=this.readNumber(this._accuracyGeo),w=this.readNumber(this._accuracyGeo),h=this.readNumber(this._accuracyGeo),q.set(g++,p),q.set(g++,w),q.set(g++,h);p=new Ac;p.fromVectors(q,A.get(f),null,null);p.updateIndexData(r);p.get_vertexNormalData();p.get_vertexTangentData();p.set_autoDeriveVertexNormals(!1);p.set_autoDeriveVertexTangents(!1);++f;l.addSubGeometry(p)}else this._newBlockBytes.position=
n;++u}m.addFrame(l,k);++e}this.parseUserAttributes();this.finalizeAsset(m,z);this._blocks.get(a).data=m;this._debug&&Aa.trace("Parsed a VertexClipNode: Name = "+m.get_name()+" | Target-Geometry-Name = "+y.__cast(B.data,Zb).get_name()+" | Number of Frames = "+m.get_frames().get_length(),{fileName:"AWD2Parser.hx",lineNumber:1795,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMeshPoseAnimation"})}else this._blocks.get(a).addError("Could not find the target-Geometry-Object "+d+" ) for this VertexClipNode")},
parseVertexAnimationSet:function(a){for(var b,c=-1,d=this.parseVarStr(),e=this._newBlockBytes.readUnsignedShort(),f=this.parseProperties({1:5}),k=0,p=x.toObjectVector(null),w=x.toObjectVector(null);Q.gt(e,k);)c=this._newBlockBytes.readUnsignedInt(),b=this.getAssetByID(c,["animationNode"]),b.enable?(y.__instanceof(b.data,Ni)&&w.push(b.data),y.__instanceof(b.data,Ph)&&p.push(b.data)):this._blocks.get(a).addError("Could not find the AnimationClipNode Nr "+h.string(Q.toFloat(k))+" ( "+c+" ) for this AnimationSet"),
++k;if(0==w.get_length()&&0==p.get_length())this._blocks.get(a).addError("Could not create this AnimationSet, because it contains no animations");else if(this.parseUserAttributes(),0<w.get_length()){p=new Nh;for(b=0;b<w.get_length();)c=w.get(b),++b,p.addAnimation(c);this.finalizeAsset(p,d);this._blocks.get(a).data=p;this._debug&&(a="Parsed a VertexAnimationSet: Name = "+d+" | Animations = "+p.get_animations().get_length()+" | Animation-Names = ",d=p.get_animationNames(),Aa.trace(a+(null!=d?d.toString():
null),{fileName:"AWD2Parser.hx",lineNumber:1835,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseVertexAnimationSet"}))}else if(0<p.get_length()){this.getAssetByID(c,["animationNode"]);w=new Cg(f.get(1,4));for(b=0;b<p.get_length();)c=p.get(b),++b,w.addAnimation(c);this.finalizeAsset(w,d);this._blocks.get(a).data=w;this._debug&&(a="Parsed a SkeletonAnimationSet: Name = "+d+" | Animations = "+w.get_animations().get_length()+" | Animation-Names = ",d=w.get_animationNames(),Aa.trace(a+(null!=
d?d.toString():null),{fileName:"AWD2Parser.hx",lineNumber:1846,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseVertexAnimationSet"}))}},parseUVAnimation:function(a){var b=this.parseVarStr(),c=this._newBlockBytes.readUnsignedShort();this.parseProperties(null);for(var d=new Im,e=new Fb,f=0;Q.gt(c,f);){var k=this.parseMatrix2D();k.scale(100,100);e.get_transform().set_matrix(k);var k=this._newBlockBytes.readUnsignedShort(),p=new $p(.01*e.get_x(),.01*e.get_y(),e.get_scaleX()/100,e.get_scaleY()/
100,e.get_rotation());d.addFrame(p,k);++f}this.parseUserAttributes();this.finalizeAsset(d,b);this._blocks.get(a).data=d;this._debug&&Aa.trace("Parsed a UVClipNode: Name = "+b+" | Number of Frames = "+h.string(Q.toFloat(f)),{fileName:"AWD2Parser.hx",lineNumber:1875,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseUVAnimation"})},parseAnimatorSet:function(a){var b,c,d=this.parseVarStr(),e=this._newBlockBytes.readUnsignedShort(),f=this.parseProperties({1:23});b=this._newBlockBytes.readUnsignedInt();
var k=this._newBlockBytes.readUnsignedShort();c=x.toIntVector(null);for(var p=0;p<k;)p++,c.push(this._newBlockBytes.readUnsignedInt());this._newBlockBytes.readUnsignedShort();this._newBlockBytes.readUnsignedByte();this.parseUserAttributes();this.parseUserAttributes();for(var k=x.toObjectVector(null),w=0,g=c.get_length();w<g;)p=w++,p=this.getAssetByID(c.get(p),["mesh"]),p.enable&&k.push(y.__cast(p.data,Pb));p=this.getAssetByID(b,["animationSet"]);if(p.enable){c=y.__cast(p.data,Jd);b=null;if(1==e){p=
this.getAssetByID(f.get(1,0),["skeleton"]);if(!p.enable){this._blocks.get(a).addError("Could not find the Skeleton ( "+h.string(f.get(1,0))+" ) for this Animator");return}b=new eh(y.__cast(c,Cg),y.__cast(p.data,Qf))}else 2==e&&(b=new gh(y.__cast(c,Nh)));this.finalizeAsset(b,d);this._blocks.get(a).data=b;a=0;for(f=k.get_length();a<f;)c=a++,1==e&&k.get(c).set_animator(y.__cast(b,eh)),2==e&&k.get(c).set_animator(y.__cast(b,gh));this._debug&&Aa.trace("Parsed a Animator: Name = "+d,{fileName:"AWD2Parser.hx",
lineNumber:1938,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseAnimatorSet"})}else this._blocks.get(a).addError("Could not find the AnimationSet ( "+b+" ) for this Animator")},parseCommand:function(a){this._newBlockBytes.readUnsignedByte();var b=this._newBlockBytes.readUnsignedInt(),c=this.parseMatrix3D(),d=this.parseVarStr(),e=null,f=null,b=this.getAssetByID(b,["container","light","mesh","entity","segmentSet"]);b.enable&&(e=y.__cast(b.data,Va));this._newBlockBytes.readShort();var b=
this._newBlockBytes.readShort(),k=this.parseProperties({1:23});if(1==b){f=k.get(1,0);b=this.getAssetByID(f,["light","textureProjector"]);if(!b.enable&&0!=f){this._blocks.get(a).addError("Could not find the light (ID = "+f+" ( for this CommandBock!");return}f=b.data;null!=e&&e.addChild(f);f.set_transform(c)}null!=f&&(k=this.parseProperties({1:this._matrixNrType,2:this._matrixNrType,3:this._matrixNrType,4:4}),f.set_pivotPoint(new C(k.get(1,0),k.get(2,0),k.get(3,0))),f.extra=this.parseUserAttributes());
this._blocks.get(a).data=f;this._debug&&Aa.trace("Parsed a CommandBlock: Name = '"+d,{fileName:"AWD2Parser.hx",lineNumber:1978,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseCommand"})},parseNameSpace:function(a){a=this._newBlockBytes.readUnsignedByte();var b=this.parseVarStr();this._debug&&Aa.trace("Parsed a NameSpaceBlock: ID = "+h.string(Q.toFloat(a))+" | String = "+b,{fileName:"AWD2Parser.hx",lineNumber:1988,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseNameSpace"})},
parseMetaData:function(a){a=this.parseProperties({1:6,2:31,3:31,4:31,5:31});this._debug&&(Aa.trace("Parsed a MetaDataBlock: TimeStamp         = "+h.string(a.get(1,0)),{fileName:"AWD2Parser.hx",lineNumber:1996,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMetaData"}),Aa.trace("                        EncoderName       = "+h.string(a.get(2,"unknown")),{fileName:"AWD2Parser.hx",lineNumber:1997,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMetaData"}),Aa.trace("                        EncoderVersion    = "+
h.string(a.get(3,"unknown")),{fileName:"AWD2Parser.hx",lineNumber:1998,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMetaData"}),Aa.trace("                        GeneratorName     = "+h.string(a.get(4,"unknown")),{fileName:"AWD2Parser.hx",lineNumber:1999,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseMetaData"}),Aa.trace("                        GeneratorVersion  = "+h.string(a.get(5,"unknown")),{fileName:"AWD2Parser.hx",lineNumber:2E3,className:"away3d.loaders.parsers.AWD2Parser",
methodName:"parseMetaData"}))},getUVForVertexAnimation:function(a){y.__instanceof(this._blocks.get(a).data,Pb)&&(a=this._blocks.get(a).geoID);if(null!=this._blocks.get(a).uvsForVertexAnimation)return this._blocks.get(a).uvsForVertexAnimation;var b=y.__cast(this._blocks.get(a).data,Zb),c=0,d,e,f,k,p;for(this._blocks.get(a).uvsForVertexAnimation=x.toObjectVector(null);c<b.get_subGeometries().get_length();){p=x.toFloatVector(null);k=b.get_subGeometries().get(c).get_numVertices();d=b.get_subGeometries().get(c).get_UVData();
e=b.get_subGeometries().get(c).get_UVStride();f=b.get_subGeometries().get(c).get_UVOffset();for(var w=0;w<k;){var h=w++;p.push(d.get(f+h*e+0));p.push(d.get(f+h*e+1))}this._blocks.get(a).uvsForVertexAnimation.push(p);++c}return this._blocks.get(a).uvsForVertexAnimation},parseVarStr:function(){var a=this._newBlockBytes.readUnsignedShort();return this._newBlockBytes.readUTFBytes(a)},parseProperties:function(a){var b,c=0,d=new qq;b=this._newBlockBytes.readUnsignedInt();b=this._newBlockBytes.position+
b;if(null!=a)for(;Q.gt(b,this._newBlockBytes.position);){var e,f,k;f=this._newBlockBytes.readUnsignedShort();e=this._newBlockBytes.readUnsignedInt();if(Q.gt(this._newBlockBytes.position+e,b)){Aa.trace("           Error in reading property # "+h.string(Q.toFloat(c))+" = skipped to end of propertie-list",{fileName:"AWD2Parser.hx",lineNumber:2060,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseProperties"});this._newBlockBytes.position=b;break}Object.prototype.hasOwnProperty.call(a,null==
f?"null":""+f)?(k=Z.field(a,null==f?"null":""+f),d.set(f,this.parseAttrValue(k,e))):this._newBlockBytes.position+=e;c+=1}else this._newBlockBytes.position=b;return d},parseUserAttributes:function(){var a=null,b,c=0;b=this._newBlockBytes.readUnsignedInt();if(Q.gt(b,0))for(a={},b=this._newBlockBytes.position+b;Q.gt(b,this._newBlockBytes.position);){var d,e,f;this._newBlockBytes.readUnsignedByte();d=this.parseVarStr();e=this._newBlockBytes.readUnsignedByte();f=this._newBlockBytes.readUnsignedInt();if(Q.gt(this._newBlockBytes.position+
f,b)){Aa.trace("           Error in reading attribute # "+c+" = skipped to end of attribute-list",{fileName:"AWD2Parser.hx",lineNumber:2105,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseUserAttributes"});this._newBlockBytes.position=b;break}switch(e){case 1:e=this._newBlockBytes.readByte();break;case 2:e=this._newBlockBytes.readShort();break;case 3:e=this._newBlockBytes.readInt();break;case 5:e=this._newBlockBytes.readUnsignedShort();break;case 7:e=this._newBlockBytes.readFloat();
break;case 8:e=this._newBlockBytes.readDouble();break;case 4:case 21:e=this._newBlockBytes.readUnsignedByte();break;case 6:case 23:e=this._newBlockBytes.readUnsignedInt();break;case 31:e=this._newBlockBytes.readUTFBytes(f);break;default:e="unimplemented attribute type "+e,this._newBlockBytes.position+=f}this._debug&&Aa.trace("attribute = name: "+d+"  / value = "+h.string(e),{fileName:"AWD2Parser.hx",lineNumber:2134,className:"away3d.loaders.parsers.AWD2Parser",methodName:"parseUserAttributes"});a[d]=
e;++c}return a},getDefaultMaterial:function(){null==this._defaultBitmapMaterial&&(this._defaultBitmapMaterial=Ib.getDefaultMaterial());return this._defaultBitmapMaterial},getDefaultTexture:function(){null==this._defaultTexture&&(this._defaultTexture=Ib.getDefaultTexture());return this._defaultTexture},getDefaultCubeTexture:function(){if(null==this._defaultCubeTexture){null==this._defaultTexture&&(this._defaultTexture=Ib.getDefaultTexture());var a=this._defaultTexture.get_bitmapData();this._defaultCubeTexture=
new df(a,a,a,a,a,a);this._defaultCubeTexture.set_name("defaultTexture")}return this._defaultCubeTexture},getDefaultAsset:function(a,b){var c="material"==a;if("texture"==a){if("CubeTexture"==b)return this.getDefaultCubeTexture();if("SingleTexture"==b)return this.getDefaultTexture()}else if(c)return this.getDefaultMaterial();return null},getAssetByID:function(a,b,c){null==c&&(c="SingleTexture");var d={enable:!1,data:null},e=0;if(Q.gt(a,0)&&null!=this._blocks.get(a)&&null!=this._blocks.get(a).data)for(;e<
b.length;){if(y.__cast(this._blocks.get(a).data,bd).get_assetType()==b[e]&&("texture"==b[e]&&"CubeTexture"==c&&y.__instanceof(this._blocks.get(a).data,df)||"texture"!=b[e]||"SingleTexture"!=c||y.__instanceof(this._blocks.get(a).data,vb)))return d.enable=!0,d.data=this._blocks.get(a).data,d;if("geometry"==b[e]&&"mesh"==y.__cast(this._blocks.get(a).data,bd).get_assetType())return d.enable=!0,d.data=y.__cast(this._blocks.get(a).data,Pb).get_geometry(),d;++e}d.enable=!1;d.data=this.getDefaultAsset(b[0],
c);return d},parseAttrValue:function(a,b){var c=0,d=null;switch(a){case 1:case 21:c=1;d=(Cb=this._newBlockBytes,u(Cb,Cb.readByte));break;case 2:c=2;d=(Cb=this._newBlockBytes,u(Cb,Cb.readShort));break;case 3:c=4;d=(Cb=this._newBlockBytes,u(Cb,Cb.readInt));break;case 4:c=1;d=(Cb=this._newBlockBytes,u(Cb,Cb.readUnsignedByte));break;case 5:c=2;d=(Cb=this._newBlockBytes,u(Cb,Cb.readUnsignedShort));break;case 7:c=4;d=(Cb=this._newBlockBytes,u(Cb,Cb.readFloat));break;case 8:c=8;d=(Cb=this._newBlockBytes,
u(Cb,Cb.readDouble));break;case 6:case 22:case 23:c=4;d=(Cb=this._newBlockBytes,u(Cb,Cb.readUnsignedInt));break;case 31:return this._newBlockBytes.readUTFBytes(b);case 41:case 42:case 43:case 44:case 45:case 46:case 47:c=8,d=(Cb=this._newBlockBytes,u(Cb,Cb.readDouble))}if(Q.gt(b,c)){var e,f;e=[];f=0;for(c=Q.toFloat(b)/Q.toFloat(c)|0;Q.gt(c,f);)e.push(d()),++f;return e}return d()},parseMatrix2D:function(){var a=this.parseMatrix32RawData();return new cb(a.get(0),a.get(1),a.get(2),a.get(3),a.get(4),
a.get(5))},parseMatrix3D:function(){return new Xa(this.parseMatrix43RawData())},parseMatrix32RawData:function(){for(var a=x.toFloatVector(null,6,!0),b=0;6>b;){var c=b++;a.set(c,this._newBlockBytes.readFloat())}return a},readNumber:function(a){null==a&&(a=!1);return a?this._newBlockBytes.readDouble():this._newBlockBytes.readFloat()},parseMatrix43RawData:function(){var a=x.toFloatVector(null,16,!0);a.set(0,this.readNumber(this._accuracyMatrix));a.set(1,this.readNumber(this._accuracyMatrix));a.set(2,
this.readNumber(this._accuracyMatrix));a.set(3,0);a.set(4,this.readNumber(this._accuracyMatrix));a.set(5,this.readNumber(this._accuracyMatrix));a.set(6,this.readNumber(this._accuracyMatrix));a.set(7,0);a.set(8,this.readNumber(this._accuracyMatrix));a.set(9,this.readNumber(this._accuracyMatrix));a.set(10,this.readNumber(this._accuracyMatrix));a.set(11,0);a.set(12,this.readNumber(this._accuracyMatrix));a.set(13,this.readNumber(this._accuracyMatrix));a.set(14,this.readNumber(this._accuracyMatrix));a.set(15,
1);isNaN(a.get(0))&&(a.set(0,1),a.set(1,0),a.set(2,0),a.set(4,0),a.set(5,1),a.set(6,0),a.set(8,0),a.set(9,0),a.set(10,1),a.set(12,0),a.set(13,0),a.set(14,0));return a},__class__:mc});var en=function(){};m["away3d.loaders.parsers.AWDBlock"]=en;en.__name__=["away3d","loaders","parsers","AWDBlock"];en.prototype={id:null,name:null,data:null,len:null,geoID:null,extras:null,bytes:null,errorMessages:null,uvsForVertexAnimation:null,addError:function(a){null==this.errorMessages&&(this.errorMessages=x.toObjectVector(null));
this.errorMessages.push(a)},__class__:en};var Mc=function(){};m["away3d.loaders.parsers.BitFlags"]=Mc;Mc.__name__=["away3d","loaders","parsers","BitFlags"];Mc.test=function(a,b){return(a&b)==b};var qq=function(){this.data=new fc};m["away3d.loaders.parsers.AWDProperties"]=qq;qq.__name__=["away3d","loaders","parsers","AWDProperties"];qq.prototype={data:null,set:function(a,b){this.data.h[a]=b},get:function(a,b){return this.data.h.hasOwnProperty(a)?this.data.h[a]:b},__class__:qq};var ij=function(){ub.call(this,
"binary")};m["away3d.loaders.parsers.AWDParser"]=ij;ij.__name__=["away3d","loaders","parsers","AWDParser"];ij.supportsType=function(a){return"awd"==a.toLowerCase()};ij.supportsData=function(a){return Lg.supportsData(a)?!0:mc.supportsData(a)};ij.__super__=ub;ij.prototype=z(ub.prototype,{_parser:null,get_dependencies:function(){return null!=this._parser?this._parser.get_dependencies():ub.prototype.get_dependencies.call(this)},get_parsingComplete:function(){return null!=this._parser?this._parser.get_parsingComplete():
!1},get_parsingPaused:function(){return null!=this._parser?this._parser.get_parsingPaused():!1},resolveDependency:function(a){null!=this._parser&&this._parser.resolveDependency(a)},resolveDependencyFailure:function(a){null!=this._parser&&this._parser.resolveDependencyFailure(a)},resolveDependencyName:function(a,b){return null!=this._parser?this._parser.resolveDependencyName(a,b):b.get_name()},resumeParsingAfterDependencies:function(){null!=this._parser&&this._parser.resumeParsingAfterDependencies()},
proceedParsing:function(){null==this._parser&&(mc.supportsData(this._data)?this._parser=new mc:this._parser=new Lg,this._parser.set_materialMode(this.get_materialMode()),this._parser.addEventListener("parseComplete",u(this,this.onParseComplete)),this._parser.addEventListener("readyForDependencies",u(this,this.onReadyForDependencies)),this._parser.addEventListener("parseError",u(this,this.onParseError)),this._parser.addEventListener("assetComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("animationSetComplete",
u(this,this.onAssetComplete)),this._parser.addEventListener("animationStateComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("animationNodeComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("stateTransitionComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("textureComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("containerComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("geometryComplete",u(this,this.onAssetComplete)),
this._parser.addEventListener("materialComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("meshComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("entityComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("skeletonComplete",u(this,this.onAssetComplete)),this._parser.addEventListener("skeletonPoseComplete",u(this,this.onAssetComplete)),this._parser.parseAsync(this._data));return!1},onParseError:function(a){this.dispatchEvent(a.clone())},onReadyForDependencies:function(a){this.dispatchEvent(a.clone())},
onAssetComplete:function(a){this.dispatchEvent(a.clone())},onParseComplete:function(a){this._parser.removeEventListener("readyForDependencies",u(this,this.onReadyForDependencies));this._parser.removeEventListener("parseComplete",u(this,this.onParseComplete));this._parser.removeEventListener("parseError",u(this,this.onParseError));this._parser.removeEventListener("assetComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("animationSetComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("animationStateComplete",
u(this,this.onAssetComplete));this._parser.removeEventListener("animationNodeComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("stateTransitionComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("textureComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("containerComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("geometryComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("materialComplete",
u(this,this.onAssetComplete));this._parser.removeEventListener("meshComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("entityComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("skeletonComplete",u(this,this.onAssetComplete));this._parser.removeEventListener("skeletonPoseComplete",u(this,this.onAssetComplete));this.finishParsing()},__class__:ij});var Ge=function(a){null==a&&(a=0);this._defaultColorMaterialMulti=new Ad(16711680);this._defaultColorMaterial=
new Lb(16711680);this._defaultBitmapMaterial=Ib.getDefaultMaterial();this._dependencyCount=0;this._parseState=mb.LOAD_XML;this._configFlags=0<a?a:1;this._parseFlags=Ge.PARSE_DEFAULT;ub.call(this,"plainText")};m["away3d.loaders.parsers.DAEParser"]=Ge;Ge.__name__=["away3d","loaders","parsers","DAEParser"];Ge.supportsType=function(a){a=a.toLowerCase();return"dae"==a};Ge.supportsData=function(a){a=h.string(a);return-1!=a.indexOf("COLLADA")||-1!=a.indexOf("collada")?!0:!1};Ge.__super__=ub;Ge.prototype=
z(ub.prototype,{_doc:null,_fastDoc:null,_parseState:null,_imageList:null,_imageCount:null,_currentImage:null,_dependencyCount:null,_configFlags:null,_parseFlags:null,_libImages:null,_libMaterials:null,_libEffects:null,_libGeometries:null,_libControllers:null,_libAnimations:null,_scene:null,_root:null,_geometries:null,_animationInfo:null,_rootNodes:null,_defaultBitmapMaterial:null,_defaultColorMaterial:null,_defaultColorMaterialMulti:null,getGeometryByName:function(a,b){null==b&&(b=!1);if(null==this._geometries)return null;
for(var c=0,d=this._geometries;c<d.get_length();){var e=d.get(c);++c;if(e.get_name()==a)return b?e.clone():e}return null},resolveDependency:function(a){if(1==a.get_assets().get_length()){var b=y.__instanceof(a.get_assets().get(0),Sc)?a.get_assets().get(0):null;this._dependencyCount--;if(null!=b&&null!=y.__cast(b,vb).get_bitmapData()){var c=this._libImages;a=a.get_id();c=null!=t[a]?c.getReserved(a):c.h[a];null!=c&&(c.resource=y.__cast(b,vb))}0==this._dependencyCount&&(this._parseState=mb.PARSE_MATERIALS)}},
resolveDependencyFailure:function(a){this._dependencyCount--;0==this._dependencyCount&&(this._parseState=mb.PARSE_MATERIALS)},proceedParsing:function(){null==this._defaultBitmapMaterial&&(this._defaultBitmapMaterial=this.buildDefaultMaterial());var a=new Bd;switch(this._parseState[1]){case 0:try{this._doc=ua.parse(this.getTextData()),this._fastDoc=new ei(this._doc.firstElement()),this._imageList=this._fastDoc.hasNode.resolve("library_images")?this._fastDoc.node.resolve("library_images").nodes.resolve("image"):
a,this._imageCount=this._dependencyCount=this._imageList.length,this._currentImage=0,this._parseState=0<this._imageCount?mb.PARSE_IMAGES:mb.PARSE_MATERIALS}catch(b){Qa.lastException=b;b instanceof H&&(b=b.val);if(y.__instanceof(b,sa))return!0;throw b;}break;case 1:this._libImages=this.parseLibrary(this._fastDoc.hasNode.resolve("library_images")?this._fastDoc.node.resolve("library_images").nodes.resolve("image"):a,on);for(a=this._libImages.keys();a.hasNext();){var c=a.next(),c=this._libImages.get(c);
this.addDependency(c.id,new Fe(c.init_from))}this.pauseAndRetrieveDependencies();break;case 2:this._libMaterials=this.parseLibrary(this._fastDoc.hasNode.resolve("library_materials")?this._fastDoc.node.resolve("library_materials").nodes.resolve("material"):a,pn);this._libEffects=this.parseLibrary(this._fastDoc.hasNode.resolve("library_effects")?this._fastDoc.node.resolve("library_effects").nodes.resolve("effect"):a,fi);this.setupMaterials();this._parseState=mb.PARSE_GEOMETRIES;break;case 3:this._libGeometries=
this.parseLibrary(this._fastDoc.hasNode.resolve("library_geometries")?this._fastDoc.node.resolve("library_geometries").nodes.resolve("geometry"):a,qn);this._geometries=this.translateGeometries();this._parseState=mb.PARSE_CONTROLLERS;break;case 4:this._libControllers=this.parseLibrary(this._fastDoc.hasNode.resolve("library_controllers")?this._fastDoc.node.resolve("library_controllers").nodes.resolve("controller"):a,rn);this._parseState=mb.PARSE_VISUAL_SCENE;break;case 5:this._root=this._scene=null;
this._libAnimations=this.parseLibrary(this._fastDoc.hasNode.resolve("library_animations")?this._fastDoc.node.resolve("library_animations").nodes.resolve("animation"):a,sn);this._rootNodes=x.toObjectVector(null);if(this._fastDoc.hasNode.resolve("scene")){this._scene=new tn(this._fastDoc.node.resolve("scene"));a=new Bd;for(c=this._fastDoc.node.resolve("library_visual_scenes").nodes.resolve("visual_scene").h;null!=c;){var d=c.item,c=c.next;d.att.resolve("id")==this._scene.instance_visual_scene.url&&
a.push(d)}0<a.length&&(this._root=new un(this,a.first()),this._root.updateTransforms(this._root),this._animationInfo=this.parseAnimationInfo(),this.parseSceneGraph(this._root))}this._parseState=this.get_isAnimated()?mb.PARSE_ANIMATIONS:mb.PARSE_COMPLETE;break;case 6:this._parseState=mb.PARSE_COMPLETE;break;case 7:return!0}return!1},buildDefaultMaterial:function(a){null!=a?Q.gt(2,this.get_materialMode())?this._defaultBitmapMaterial=new Qb(new vb(a)):this._defaultBitmapMaterial=new Lc(new vb(a)):Q.gt(2,
this.get_materialMode())?this._defaultBitmapMaterial=Ib.getDefaultMaterial():this._defaultBitmapMaterial=new Lc(Ib.getDefaultTexture());return this._defaultBitmapMaterial},applySkinBindShape:function(a,b){for(var c=new C,d,e=0,f=a.get_subGeometries();e<f.get_length();){var k=f.get(e);++e;var p=k.get_vertexData();for(d=k.get_vertexOffset();d<p.get_length();)c.x=p.get(d),c.y=p.get(d+1),c.z=p.get(d+2),c=b.bind_shape_matrix.transformVector(c),p.set(d,c.x),p.set(d+1,c.y),p.set(d+2,c.z),d+=k.get_vertexStride();
y.__cast(k,Ac).updateData(p)}},applySkinController:function(a,b,c,d){for(var e,f,k,p,w=0,h=a.get_subGeometries().get_length();w<h;){var n=w++;d=y.__cast(a.get_subGeometries().get(n),Ac);e=b.primitives.get(n);f=x.toFloatVector(null,c.maxBones*e.vertices.get_length(),!0);k=x.toFloatVector(null,c.maxBones*e.vertices.get_length(),!0);for(var l=p=0,g=e.vertices.get_length();l<g;){for(var m=l++,m=c.weights.get(e.vertices.get(m).daeIndex),r=0,q=m.get_length();r<q;){var t=r++,t=m.get(t);f.set(p,Q.toFloat(3*
t.joint));k.set(p++,t.weight)}m=m.get_length();for(r=c.maxBones;m<r;)m++,f.set(p,0),k.set(p++,0)}e=new yf(c.maxBones);e.updateData(d.get_vertexData().concat(null));e.updateIndexData(d.get_indexData());e.updateJointIndexData(f);e.updateJointWeightsData(k);a.get_subGeometries().set(n,e);a.get_subGeometries().get(n).set_parentGeometry(a)}},parseAnimationInfo:function(){var a=new rq;a.minTime=-Infinity;a.maxTime=-a.minTime;a.numFrames=0;for(var b=this._libAnimations,b=new Bi(b,b.arrayKeys());b.hasNext();)for(var c=
0,d=b.next().channels;c<d.get_length();){var e=d.get(c);++c;var f=this._root.findNodeById(e.targetId);null!=f&&(f.channels.push(e),a.minTime=Math.min(a.minTime,e.sampler.minTime),a.maxTime=Math.max(a.maxTime,e.sampler.maxTime),a.numFrames=Math.max(Q.toFloat(a.numFrames),e.sampler.input.get_length())|0)}return a},parseLibrary:function(a,b){for(var c=new qa,d=a.h;null!=d;){var e=d.item,d=d.next,e=La.createInstance(b,[e]),f=e.id;null!=t[f]?c.setReserved(f,e):c.h[f]=e}return c},parseSceneGraph:function(a,
b,c){null==c&&(c="");c+="-";tb.trace(c+a.name);if("JOINT"!=a.type){tb.trace(c+"ObjectContainer3D : "+a.name);var d;0<a.instance_geometries.get_length()?d=this.processGeometries(a,b):0<a.instance_controllers.get_length()?d=this.processControllers(a,b):(d=new Va,d.set_name(a.id),d.get_transform().rawData=a.get_matrix().rawData,this.finalizeAsset(d,a.id),null!=b&&b.addChild(d));b=d}d=0;for(var e=a.nodes.get_length();d<e;){var f=d++;this.parseSceneGraph(a.nodes.get(f),b,c)}},processController:function(a,
b){var c=null;if(null==a)return null;null!=a.morph?c=this.processControllerMorph(a,b):null!=a.skin&&(c=this.processControllerSkin(a,b));return c},processControllerMorph:function(a,b){tb.trace(" * processControllerMorph : "+h.string(a));var c=a.morph,d=c.source,e=this._libControllers,d=this.processController(null!=t[d]?e.getReserved(d):e.h[d],b);if(null==d)return null;var e=x.toObjectVector(null),d=this.getGeometryByName(c.source),f,k,p=1,w;k=0;for(var g=c.targets.get_length();k<g;){var n=k++;f=this.getGeometryByName(c.targets.get(n));
if(null==f)return null;e.push(f);p-=c.weights.get(n)}g=0;for(n=d.get_subGeometries().get_length();g<n;){var l=g++;k=y.__cast(d.get_subGeometries().get(l),Ac);f=k.get_vertexData().concat(null);for(var m=0,r=f.get_length()/13|0;m<r;){w=m++;w=k.get_vertexOffset()+w*k.get_vertexStride();f.set(w,"NORMALIZED"==c.method?p*k.get_vertexData().get(w):k.get_vertexData().get(w));for(var q=0,u=c.targets.get_length();q<u;){var v=q++,z=w,B=f;B.set(z,B.get(z)+c.weights.get(v)*e.get(v).get_subGeometries().get(l).get_vertexData().get(w))}}k.updateData(f)}return d},
processControllerSkin:function(a,b){tb.trace(" * processControllerSkin : "+h.string(a));var c=this.getGeometryByName(a.skin.source);if(null==c)var c=a.skin.source,d=this._libControllers,c=this.processController(null!=t[c]?d.getReserved(c):d.h[c],b);if(null==c)return null;var d=this.parseSkeleton(b),e=this._libGeometries,f=c.get_name(),e=null!=t[f]?e.getReserved(f):e.h[f];this.applySkinBindShape(c,a.skin);this.applySkinController(c,e.mesh,a.skin,d);a.skin.userData=d;this.finalizeAsset(d);return c},
processControllers:function(a,b){tb.trace(" * processControllers : "+a.name);for(var c=null,d=null,e=null,f=c=null,k=e=c=d=null,p=0,w=a.instance_controllers.get_length();p<w;)if(e=p++,c=a.instance_controllers.get(e),e=c.url,f=this._libControllers,e=null!=t[e]?f.getReserved(e):f.h[e],f=this.processController(e,c),null!=f){var h=this._libGeometries,d=f.get_name(),d=null!=t[d]?h.getReserved(d):h.h[d],c=this.getMeshEffects(c.bind_material,d.mesh),d=new Pb(f,null),f=!1;""!=a.name&&d.set_name(a.name);if(0<
c.get_length())for(var h=0,n=d.get_subMeshes().get_length();h<n;){var l=h++;null!=c.get(l).material&&(d.get_subMeshes().get(l).set_material(c.get(l).material),f=!0)}f||d.set_material(this._defaultBitmapMaterial);null!=b&&b.addChild(d);null!=e.skin&&y.__instanceof(e.skin.userData,Qf)&&(null==k&&(k=new Cg(e.skin.maxBones)),c=y.__cast(e.skin.userData,Qf),e=this.processSkinAnimation(e.skin,d,c),e.set_looping(!0),y.__cast(d.get_geometry().get_subGeometries().get(0),yf).get_jointIndexData().get_length(),
d.get_geometry().get_subGeometries().get(0).get_vertexData().get_length(),e.set_name("node_"+this._rootNodes.get_length()),k.addAnimation(e),this._rootNodes.push(e));this.finalizeAsset(d)}null!=k&&this.finalizeAsset(k);return d},processSkinAnimation:function(a,b,c){tb.trace(" * processSkinAnimation : "+b.get_name());b=this.isAnimatedSkeleton(c);c=0==this._animationInfo.numFrames?1:this._animationInfo.maxTime-this._animationInfo.minTime;b=Math.max(Q.toFloat(this._animationInfo.numFrames),b?50:2)|0;
c/=b;for(var d=0,e=new Ph,f=null,k=null,p=null,w=null,h=null,n=0;n<b;){n++;for(var f=new xf,l=0,g=a.joints.get_length();l<g;){var m=l++,w=this._root.findNodeById(a.joints.get(m));null==w&&(w=this._root.findNodeBySid(a.joints.get(m)));h=new fh;p=null!=p?w.getAnimatedMatrix(d):w.get_matrix();h.name=a.joints.get(m);h.orientation.fromMatrix(p);h.translation.copyFrom(p.get_position());isNaN(h.orientation.x)&&(null==k&&(k=new Xa),h.orientation.fromMatrix(k));f.jointPoses.push(h)}d+=c;e.addFrame(f,1E3*c|
0)}this.finalizeAsset(e);return e},isAnimatedSkeleton:function(a){for(var b,c=0,d=a.joints.get_length();c<d;){var e=c++;try{b=this._root.findNodeById(a.joints.get(e).name),null==b&&(b=this._root.findNodeBySid(a.joints.get(e).name))}catch(f){if(Qa.lastException=f,f instanceof H&&(f=f.val),y.__instanceof(f,sa)){tb.trace("Errors found in skeleton joints data");break}else throw f;}if(null!=b&&0!=b.channels.get_length())return!0}return!1},processGeometries:function(a,b){tb.trace(" * processGeometries : "+
a.name);for(var c=null,d=null,e=c=null,f=null,k=0,p=a.instance_geometries.get_length();k<p;)if(c=k++,c=a.instance_geometries.get(c),f=c.url,d=this._libGeometries,d=null!=t[f]?d.getReserved(f):d.h[f],null!=d&&null!=d.mesh&&(f=this.getGeometryByName(c.url),c=this.getMeshEffects(c.bind_material,d.mesh),null!=f)){e=new Pb(f);""!=a.name&&e.set_name(a.name);if(c.get_length()==f.get_subGeometries().get_length())for(f=0,d=e.get_subMeshes().get_length();f<d;){var w=f++;e.get_subMeshes().get(w).set_material(c.get(w).material)}e.set_transform(a.get_matrix());
null!=b&&b.addChild(e);this.finalizeAsset(e)}return e},getMeshEffects:function(a,b){var c=x.toObjectVector(null);if(null==a)return c;for(var d,e,f=0,k=b.primitives.get_length();f<k;)if(d=f++,null!=a.instance_material)for(var p=0,w=a.instance_material.get_length();p<w;)if(e=p++,e=a.instance_material.get(e),b.primitives.get(d).material==e.symbol){d=e.target;p=this._libMaterials;d=null!=t[d]?p.getReserved(d):p.h[d];d=d.instance_effect.url;p=this._libEffects;d=null!=t[d]?p.getReserved(d):p.h[d];null!=
d&&c.push(d);break}return c},parseSkeleton:function(a){if(0==a.skeleton.get_length())return null;tb.trace(" * parseSkeleton : "+h.string(a));var b=a.url,c=this._libControllers,b=null!=t[b]?c.getReserved(b):c.h[b],c=a.skeleton.get(0);a=this._root.findNodeById(c);null!=a&&(a=this._root.findNodeBySid(c));if(null==a)return null;c=new Qf;c.joints=x.toObjectVector(null,b.skin.joints.get_length(),!0);this.parseSkeletonHierarchy(a,b.skin,c);return c},parseSkeletonHierarchy:function(a,b,c,d,e){null==e&&(e=
"");null==d&&(d=-1);var f=e+"-";tb.trace(f+"["+a.id+","+a.sid+"]");e="IDREF_array"==b.jointSourceType?b.getJointIndex(a.id):b.getJointIndex(a.sid);if(0<=e){f=new mk;f.parentIndex=d;if(!isNaN(e)&&e<b.joints.get_length())null!=b.joints.get(e)&&(f.name=b.joints.get(e));else{tb.trace("Error: skin.joints index out of range");return}d=b.inv_bind_matrix.get(e);f.inverseBindPose=d.rawData;c.joints.set(e,f)}else tb.trace(f+"no jointIndex!");d=0;for(f=a.nodes.get_length();d<f;){var k=d++;try{this.parseSkeletonHierarchy(a.nodes.get(k),
b,c,e)}catch(p){if(Qa.lastException=p,p instanceof H&&(p=p.val),y.__instanceof(p,sa))tb.trace(p.message);else throw p;}}},setupMaterial:function(a,b){if(null==b||null==a)return null;var c;c=Q.gt(2,this.get_materialMode())?this._defaultColorMaterial:new Ad(this._defaultColorMaterial.get_color());var d=b.shader.props.ambient,e=b.shader.props.diffuse,f=b.shader.props.specular,k=Object.prototype.hasOwnProperty.call(b.shader.props,"shininess")?parseFloat(b.shader.props.shininess):10,p=Object.prototype.hasOwnProperty.call(b.shader.props,
"transparency")?parseFloat(b.shader.props.transparency):1;null!=e&&null!=e.texture&&null!=b.surface?(c=b.surface.init_from,e=this._libImages,c=null!=t[c]?e.getReserved(c):e.h[c],null!=c.resource&&this.isBitmapDataValid(y.__cast(c.resource,vb).get_bitmapData())?(c=this.buildDefaultMaterial(y.__cast(c.resource,vb).get_bitmapData()),Q.gt(2,this.get_materialMode())&&y.__cast(c,Qb).set_alpha(p)):c=this.buildDefaultMaterial()):null!=e&&null!=e.color&&(c=Q.gt(2,this.get_materialMode())?new Lb(e.color.get_rgb(),
p):new Ad(e.color.get_rgb()));tb.trace("mat = "+h.string(Q.toFloat(this.get_materialMode())));null!=c&&(Q.gt(2,this.get_materialMode())?(y.__cast(c,Wa).set_ambientMethod(new Ve),y.__cast(c,Wa).set_diffuseMethod(new $b),y.__cast(c,Wa).set_specularMethod(new Vc),y.__cast(c,Wa).set_colorTransform(new jc),y.__cast(c,Wa).set_ambientColor(null!=d&&null!=d.color?d.color.get_rgb():3158064),y.__cast(c,Wa).set_specularColor(null!=f&&null!=f.color?f.color.get_rgb():2105376),y.__cast(c,Wa).set_gloss(k),y.__cast(c,
Wa).set_ambient(1),y.__cast(c,Wa).set_specular(1)):(y.__cast(c,$a).set_ambientMethod(new Ve),y.__cast(c,$a).set_diffuseMethod(new $b),y.__cast(c,$a).set_specularMethod(new Vc),y.__cast(c,$a).set_ambientColor(null!=d&&null!=d.color?d.color.get_rgb():3158064),y.__cast(c,$a).set_specularColor(null!=f&&null!=f.color?f.color.get_rgb():2105376),y.__cast(c,$a).set_gloss(k),y.__cast(c,$a).set_ambient(1),y.__cast(c,$a).set_specular(1)));c.set_name(a.id);this.finalizeAsset(c);return c},setupMaterials:function(){for(var a=
this._libMaterials,a=new Bi(a,a.arrayKeys());a.hasNext();){var b=a.next(),c=b.instance_effect.url,d=this._libEffects;if(null!=t[c]?d.existsReserved(c):d.h.hasOwnProperty(c))c=b.instance_effect.url,d=this._libEffects,c=null!=t[c]?d.getReserved(c):d.h[c],c.material=this.setupMaterial(b,c)}},translateGeometries:function(){for(var a=x.toObjectVector(null),b,c=this._libGeometries.keys();c.hasNext();){var d=c.next();b=this._libGeometries;b=null!=t[d]?b.getReserved(d):b.h[d];null!=b.mesh&&(b=this.translateGeometry(b.mesh),
0!=b.get_subGeometries().get_length()&&(null!=d&&isNaN(parseFloat(d))&&b.set_name(d),a.push(b),this.finalizeAsset(b)))}return a},translateGeometry:function(a){for(var b=new Zb,c=0,d=a.primitives.get_length();c<d;){var e=c++,e=this.translatePrimitive(a,a.primitives.get(e));null!=e&&b.addSubGeometry(e)}return b},translatePrimitive:function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=!0);null==c&&(c=!0);var f=new Ac,k=x.toIntVector(null),p=x.toFloatVector(null);a=b.create(a);var w,h,n=0;for(h=b.vertices.get_length();n<
h;)w=n++,w=b.vertices.get(w),p.push(w.x),p.push(w.y),p.push(w.z),p.push(w.nx),p.push(w.ny),p.push(w.nz),p.push(0),p.push(0),p.push(0),0<w.numTexcoordSets?(p.push(w.uvx),p.push(1-w.uvy),1<w.numTexcoordSets?(p.push(w.uvx2),p.push(1-w.uvy2)):(p.push(w.uvx),p.push(1-w.uvy))):(p.push(0),p.push(0),p.push(0),p.push(0));b=0;for(n=a.get_length();b<n;){w=b++;h=a.get(w);for(var l=0,g=h.vertices.get_length();l<g;)w=l++,w=h.vertices.get(w),k.push(w.index)}c&&k.reverse();f.set_autoDeriveVertexNormals(d);f.set_autoDeriveVertexTangents(e);
f.updateData(p);f.updateIndexData(k);return f},geometries:null,get_geometries:function(){return this._geometries},effects:null,get_effects:function(){return this._libEffects},images:null,get_images:function(){return this._libImages},materials:null,get_materials:function(){return this._libMaterials},isAnimated:null,get_isAnimated:function(){return this._fastDoc.hasNode.resolve("library_animations")?this._fastDoc.node.resolve("library_animations").hasNode.resolve("animation"):!1},__class__:Ge,__properties__:z(ub.prototype.__properties__,
{get_isAnimated:"get_isAnimated",get_materials:"get_materials",get_images:"get_images",get_effects:"get_effects",get_geometries:"get_geometries"})});var rq=function(){};m["away3d.loaders.parsers.DAEAnimationInfo"]=rq;rq.__name__=["away3d","loaders","parsers","DAEAnimationInfo"];rq.prototype={minTime:null,maxTime:null,numFrames:null,__class__:rq};var pa=function(a){null!=a&&this.deserialize(a)};m["away3d.loaders.parsers.DAEElement"]=pa;pa.__name__=["away3d","loaders","parsers","DAEElement"];pa.prototype=
{id:null,name:null,sid:null,userData:null,deserialize:function(a){this.id=a.has.resolve("id")?a.att.resolve("id"):"";this.name=a.has.resolve("name")?a.att.resolve("name"):"";this.sid=a.has.resolve("sid")?a.att.resolve("sid"):""},dispose:function(){},traverseChildHandler:function(a,b){},traverseChildren:function(a,b){if(null!=b)for(var c=a.nodes.resolve(""+b).h;null!=c;){var d=c.item,c=c.next;this.traverseChildHandler(d,d.get_name())}else for(c=a.get_elements();c.hasNext();)d=c.next(),this.traverseChildHandler(d,
d.get_name())},convertMatrix:function(a){for(var b=[2,6,8,9,11,14],c=a.rawData,d=0,e=b.length;d<e;){var f=d++,f=b[f],k=c;k.set(f,-1*k.get(f))}a.rawData=c},getRootElement:function(a){for(a=a.x;;){if(a.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+a.nodeType);if("COLLADA"==a.nodeName)break;a=a.parent}if(a.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+a.nodeType);return"COLLADA"==a.nodeName?new ei(a):null},readFloatArray:function(a){a=this.readText(a);
a=(new Za("\\s+","g")).split(a);for(var b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.push(parseFloat(a[e]))}return b},readIntArray:function(a){a=this.readText(a);a=(new Za("\\s+","g")).split(a);for(var b=x.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.push(h.parseInt(a[e]))}return b},readStringArray:function(a){a=this.readText(a);a=(new Za("\\s+","g")).split(a);for(var b=x.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.push(a[e])}return b},readIntAttr:function(a,b,c){null==
c&&(c=0);return a.has.resolve(b)?h.parseInt(a.att.resolve(b)):c},readText:function(a){return this.trimString(a.get_innerData())},trimString:function(a){a=a.replace(/^\s+/,"");return a=a.replace(/\s+$/,"")},__class__:pa};var on=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEImage"]=on;on.__name__=["away3d","loaders","parsers","DAEImage"];on.__super__=pa;on.prototype=z(pa.prototype,{init_from:null,resource:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.init_from=
this.readText(a.node.resolve("init_from"));this.resource=null},__class__:on});var vn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEParam"]=vn;vn.__name__=["away3d","loaders","parsers","DAEParam"];vn.__super__=pa;vn.prototype=z(pa.prototype,{type:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.type=a.att.resolve("type")},__class__:vn});var wn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEAccessor"]=wn;wn.__name__=["away3d","loaders","parsers","DAEAccessor"];
wn.__super__=pa;wn.prototype=z(pa.prototype,{params:null,source:null,stride:null,count:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.params=x.toObjectVector(null);this.source=a.att.resolve("source").replace(/^#/,"");this.stride=this.readIntAttr(a,"stride",1);this.count=this.readIntAttr(a,"count",0);this.traverseChildren(a,"param")},traverseChildHandler:function(a,b){"param"==b&&this.params.push(new vn(a))},__class__:wn});var gi=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAESource"]=
gi;gi.__name__=["away3d","loaders","parsers","DAESource"];gi.__super__=pa;gi.prototype=z(pa.prototype,{accessor:null,type:null,floats:null,ints:null,bools:null,strings:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.traverseChildren(a)},traverseChildHandler:function(a,b){switch(b){case "IDREF_array":case "Name_array":this.type=b;this.strings=this.readStringArray(a);break;case "bool_array":throw new H(new sa("Cannot handle bool_array"));case "float_array":this.type=b;this.floats=
this.readFloatArray(a);break;case "int_array":this.type=b;this.ints=this.readIntArray(a);break;case "technique_common":this.accessor=new wn(a.node.resolve("accessor"))}},__class__:gi});var Og=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInput"]=Og;Og.__name__=["away3d","loaders","parsers","DAEInput"];Og.__super__=pa;Og.prototype=z(pa.prototype,{semantic:null,source:null,offset:null,set:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.semantic=a.att.resolve("semantic");
this.source=a.att.resolve("source").replace(/^#/,"");this.offset=this.readIntAttr(a,"offset");this.set=this.readIntAttr(a,"set")},__class__:Og});var sq=function(a){this.numTexcoordSets=this.index=this.daeIndex=0;this.numTexcoordSets=a;this.x=this.y=this.z=this.nx=this.ny=this.nz=this.uvx=this.uvy=this.uvx2=this.uvy2=0};m["away3d.loaders.parsers.DAEVertex"]=sq;sq.__name__=["away3d","loaders","parsers","DAEVertex"];sq.prototype={x:null,y:null,z:null,nx:null,ny:null,nz:null,uvx:null,uvy:null,uvx2:null,
uvy2:null,numTexcoordSets:null,index:null,daeIndex:null,hash:null,get_hash:function(){var a=this.format(this.x),a=a+("_"+this.format(this.y)),a=a+("_"+this.format(this.z)),a=a+("_"+this.format(this.nx)),a=a+("_"+this.format(this.ny)),a=a+("_"+this.format(this.nz)),a=a+("_"+this.format(this.uvx)),a=a+("_"+this.format(this.uvy)),a=a+("_"+this.format(this.uvx2));return a+="_"+this.format(this.uvy2)},format:function(a,b){null==b&&(b=2);var c=10^b;return h.string(Math.round(a*c)/c)},__class__:sq,__properties__:{get_hash:"get_hash"}};
var xn=function(){this.vertices=x.toObjectVector(null)};m["away3d.loaders.parsers.DAEFace"]=xn;xn.__name__=["away3d","loaders","parsers","DAEFace"];xn.prototype={vertices:null,__class__:xn};var yn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEPrimitive"]=yn;yn.__name__=["away3d","loaders","parsers","DAEPrimitive"];yn.__super__=pa;yn.prototype=z(pa.prototype,{type:null,material:null,count:null,vertices:null,_inputs:null,_p:null,_vcount:null,_texcoordSets:null,deserialize:function(a){pa.prototype.deserialize.call(this,
a);this.type=a.get_name();this.material=a.att.resolve("material");this.count=this.readIntAttr(a,"count",0);this._inputs=x.toObjectVector(null);this._vcount=this._p=null;for(var b=a.nodes.resolve("input").h;null!=b;){var c=b.item,b=b.next;this._inputs.push(new Og(c))}a.hasNode.resolve("p")&&0<a.nodes.resolve("p").length&&(this._p=this.readIntArray(a.nodes.resolve("p").first()));a.hasNode.resolve("vcount")&&0<a.nodes.resolve("vcount").length&&(this._vcount=this.readIntArray(a.nodes.resolve("vcount").first()))},
create:function(a){if(!this.prepareInputs(a))return null;var b=x.toObjectVector(null),c,d,e=0;if(1<this._inputs.get_length())for(var f=[],k=0,p=this._inputs;k<p.get_length();){var w=p.get(k);++k;f[w.offset]||(f[w.offset]=!0,++e)}else e=this._inputs.get_length();var f=0,h,k=new qa,n;for(this.vertices=x.toObjectVector(null);f<this._p.get_length();){for(var p=null!=this._vcount?this._vcount.shift():3,w=new xn,l=0,g=p;l<g;){for(var m=l++*e,r=new sq(this._texcoordSets.get_length()),q=0,u=this._inputs.get_length();q<
u;)switch(c=q++,c=this._inputs.get(c),h=this._p.get(f+m+c.offset),d=c.source,n=a.sources,d=null!=t[d]?n.getReserved(d):n.h[d],n=h*d.accessor.params.get_length(),c.semantic){case "NORMAL":r.nx=d.floats.get(n);r.ny=d.floats.get(n+1);r.nz=pa.USE_LEFT_HANDED?-d.floats.get(n+2):d.floats.get(n+2);break;case "TEXCOORD":c.set==this._texcoordSets.get(0)?(r.uvx=d.floats.get(n),r.uvy=d.floats.get(n+1)):(r.uvx2=d.floats.get(n),r.uvy2=d.floats.get(n+1));break;case "VERTEX":r.x=d.floats.get(n),r.y=d.floats.get(n+
1),r.z=pa.USE_LEFT_HANDED?-d.floats.get(n+2):d.floats.get(n+2),r.daeIndex=h}m=r.get_hash();(null!=t[m]?k.existsReserved(m):k.h.hasOwnProperty(m))?w.vertices.push(null!=t[m]?k.getReserved(m):k.h[m]):(r.index=this.vertices.get_length(),null!=t[m]?k.setReserved(m,r):k.h[m]=r,w.vertices.push(r),this.vertices.push(r))}if(3<w.vertices.get_length())for(l=w.vertices.get(0),g=1,r=w.vertices.get_length()-1;g<r;)m=g++,q=new xn,q.vertices.push(l),q.vertices.push(w.vertices.get(m)),q.vertices.push(w.vertices.get(m+
1)),b.push(q);else 3==w.vertices.get_length()&&b.push(w);f+=p*e}return b},prepareInputs:function(a){var b,c=!0;this._texcoordSets=x.toIntVector(null);for(var d=0,e=this._inputs.get_length();d<e;){b=d++;b=this._inputs.get(b);"TEXCOORD"==b.semantic&&this._texcoordSets.push(b.set);var f=b.source,k=a.sources;if(null!=t[f]?!k.existsReserved(f):!k.h.hasOwnProperty(f))if(c=!1,b.source==a.vertices.id)for(f=0,k=a.vertices.inputs.get_length();f<k;){var p=f++;if("POSITION"==a.vertices.inputs.get(p).semantic){b.source=
a.vertices.inputs.get(p).source;c=!0;break}}}return c},__class__:yn});var zn=function(a,b){this.mesh=a;pa.call(this,b)};m["away3d.loaders.parsers.DAEVertices"]=zn;zn.__name__=["away3d","loaders","parsers","DAEVertices"];zn.__super__=pa;zn.prototype=z(pa.prototype,{mesh:null,inputs:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.inputs=x.toObjectVector(null);this.traverseChildren(a,"input")},traverseChildHandler:function(a,b){this.inputs.push(new Og(a))},__class__:zn});var qn=
function(a){this.meshName="";pa.call(this,a)};m["away3d.loaders.parsers.DAEGeometry"]=qn;qn.__name__=["away3d","loaders","parsers","DAEGeometry"];qn.__super__=pa;qn.prototype=z(pa.prototype,{mesh:null,meshName:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.traverseChildren(a);this.meshName=a.att.resolve("name")},traverseChildHandler:function(a,b){"mesh"==b&&(this.mesh=new An(this,a))},__class__:qn});var An=function(a,b){this.geometry=a;pa.call(this,b)};m["away3d.loaders.parsers.DAEMesh"]=
An;An.__name__=["away3d","loaders","parsers","DAEMesh"];An.__super__=pa;An.prototype=z(pa.prototype,{geometry:null,sources:null,vertices:null,primitives:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.sources=new qa;this.vertices=null;this.primitives=x.toObjectVector(null);this.traverseChildren(a)},traverseChildHandler:function(a,b){switch(b){case "polygon":case "polylist":case "triangles":this.primitives.push(new yn(a));break;case "source":var c=new gi(a);this.sources.set(c.id,
c);break;case "vertices":this.vertices=new zn(this,a)}},__class__:An});var Zk=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEBindMaterial"]=Zk;Zk.__name__=["away3d","loaders","parsers","DAEBindMaterial"];Zk.__super__=pa;Zk.prototype=z(pa.prototype,{instance_material:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.instance_material=x.toObjectVector(null);this.traverseChildren(a)},traverseChildHandler:function(a,b){if("technique_common"==b)for(var c=a.get_elements();c.hasNext();){var d=
c.next();this.instance_material.push(new Bn(d))}},__class__:Zk});var Cn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEBindVertexInput"]=Cn;Cn.__name__=["away3d","loaders","parsers","DAEBindVertexInput"];Cn.__super__=pa;Cn.prototype=z(pa.prototype,{semantic:null,input_semantic:null,input_set:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.semantic=a.att.resolve("semantic");this.input_semantic=a.att.resolve("input_semantic");this.input_set=this.readIntAttr(a,"input_set")},
__class__:Cn});var Vd=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInstance"]=Vd;Vd.__name__=["away3d","loaders","parsers","DAEInstance"];Vd.__super__=pa;Vd.prototype=z(pa.prototype,{url:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.url=(a.has.resolve("url")?a.att.resolve("url"):"").replace(/^#/,"")},__class__:Vd});var Dn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInstanceController"]=Dn;Dn.__name__=["away3d","loaders","parsers","DAEInstanceController"];
Dn.__super__=Vd;Dn.prototype=z(Vd.prototype,{bind_material:null,skeleton:null,deserialize:function(a){Vd.prototype.deserialize.call(this,a);this.bind_material=null;this.skeleton=x.toObjectVector(null);this.traverseChildren(a)},traverseChildHandler:function(a,b){switch(b){case "bind_material":this.bind_material=new Zk(a);break;case "skeleton":this.skeleton.push(this.readText(a).replace(/^#/,""))}},__class__:Dn});var En=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInstanceEffect"]=En;En.__name__=
["away3d","loaders","parsers","DAEInstanceEffect"];En.__super__=Vd;En.prototype=z(Vd.prototype,{__class__:En});var Fn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInstanceGeometry"]=Fn;Fn.__name__=["away3d","loaders","parsers","DAEInstanceGeometry"];Fn.__super__=Vd;Fn.prototype=z(Vd.prototype,{bind_material:null,deserialize:function(a){Vd.prototype.deserialize.call(this,a);this.bind_material=null;this.traverseChildren(a)},traverseChildHandler:function(a,b){"bind_material"==b&&(this.bind_material=
new Zk(a))},__class__:Fn});var Bn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInstanceMaterial"]=Bn;Bn.__name__=["away3d","loaders","parsers","DAEInstanceMaterial"];Bn.__super__=Vd;Bn.prototype=z(Vd.prototype,{target:null,symbol:null,bind_vertex_input:null,deserialize:function(a){Vd.prototype.deserialize.call(this,a);this.target=a.att.resolve("target").replace(/^#/,"");this.symbol=a.att.resolve("symbol");this.bind_vertex_input=x.toObjectVector(null);this.traverseChildren(a)},traverseChildHandler:function(a,
b){"bind_vertex_input"==b&&this.bind_vertex_input.push(new Cn(a))},__class__:Bn});var Gn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInstanceNode"]=Gn;Gn.__name__=["away3d","loaders","parsers","DAEInstanceNode"];Gn.__super__=Vd;Gn.prototype=z(Vd.prototype,{__class__:Gn});var Hn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEInstanceVisualScene"]=Hn;Hn.__name__=["away3d","loaders","parsers","DAEInstanceVisualScene"];Hn.__super__=Vd;Hn.prototype=z(Vd.prototype,{__class__:Hn});
var In=function(){};m["away3d.loaders.parsers.DAEColor"]=In;In.__name__=["away3d","loaders","parsers","DAEColor"];In.prototype={r:null,g:null,b:null,a:null,rgb:null,get_rgb:function(){return(255*this.r|0)<<16|(255*this.g|0)<<8|255*this.b|0},rgba:null,get_rgba:function(){return(255*this.a|0)<<24|(255*this.r|0)<<16|(255*this.g|0)<<8|255*this.b|0},__class__:In,__properties__:{get_rgba:"get_rgba",get_rgb:"get_rgb"}};var tq=function(){};m["away3d.loaders.parsers.DAETexture"]=tq;tq.__name__=["away3d","loaders",
"parsers","DAETexture"];tq.prototype={texture:null,texcoord:null,__class__:tq};var Jn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEColorOrTexture"]=Jn;Jn.__name__=["away3d","loaders","parsers","DAEColorOrTexture"];Jn.__super__=pa;Jn.prototype=z(pa.prototype,{color:null,texture:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.texture=this.color=null;this.traverseChildren(a)},traverseChildHandler:function(a,b){switch(b){case "color":var c=this.readFloatArray(a);this.color=
new In;this.color.r=c.get(0);this.color.g=c.get(1);this.color.b=c.get(2);c=3<c.get_length()?c.get(3):1;this.color.a=c;break;case "texture":this.texture=new tq,this.texture.texcoord=a.att.resolve("texcoord"),this.texture.texture=a.att.resolve("texture")}},__class__:Jn});var Kn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAESurface"]=Kn;Kn.__name__=["away3d","loaders","parsers","DAESurface"];Kn.__super__=pa;Kn.prototype=z(pa.prototype,{type:null,init_from:null,deserialize:function(a){pa.prototype.deserialize.call(this,
a);this.type=a.att.resolve("type");this.init_from=this.readText(a.node.resolve("init_from"))},__class__:Kn});var Ln=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAESampler2D"]=Ln;Ln.__name__=["away3d","loaders","parsers","DAESampler2D"];Ln.__super__=pa;Ln.prototype=z(pa.prototype,{source:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.source=this.readText(a.node.resolve("source"))},__class__:Ln});var Mn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEShader"]=
Mn;Mn.__name__=["away3d","loaders","parsers","DAEShader"];Mn.__super__=pa;Mn.prototype=z(pa.prototype,{type:null,props:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.type=a.get_name();this.props={};this.traverseChildren(a)},traverseChildHandler:function(a,b){switch(b){case "index_of_refraction":case "reflectivity":case "shininess":case "transparency":this.props[b]=parseFloat(this.readText(a.node.resolve("float")));break;case "ambient":case "diffuse":case "emission":case "reflective":case "specular":case "transparent":this.props[b]=
new Jn(a);break;default:tb.trace("[WARNING] unhandled DAEShader property: "+b)}},__class__:Mn});var fi=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEEffect"]=fi;fi.__name__=["away3d","loaders","parsers","DAEEffect"];fi.__super__=pa;fi.prototype=z(pa.prototype,{shader:null,surface:null,sampler:null,material:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.sampler=this.surface=this.shader=null;this.traverseChildren(a)},traverseChildHandler:function(a,b){"profile_COMMON"==
b&&this.deserializeProfile(a)},deserializeProfile:function(a){for(a=a.get_elements();a.hasNext();){var b=a.next();switch(b.get_name()){case "newparam":this.deserializeNewParam(b);break;case "technique":this.deserializeShader(b)}}},deserializeNewParam:function(a){for(var b=a.get_elements();b.hasNext();){var c=b.next(),d=c.get_name();switch(d){case "sampler2D":this.sampler=new Ln(c);this.sampler.sid=a.att.resolve("sid");break;case "surface":this.surface=new Kn(c);this.surface.sid=a.att.resolve("sid");
break;default:tb.trace("[WARNING] unhandled newparam: "+d)}}},deserializeShader:function(a){a=a.get_elements();for(this.shader=null;a.hasNext();){var b=a.next();switch(b.get_name()){case "blinn":case "constant":case "lambert":case "phong":this.shader=new Mn(b)}}},__class__:fi});var pn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEMaterial"]=pn;pn.__name__=["away3d","loaders","parsers","DAEMaterial"];pn.__super__=pa;pn.prototype=z(pa.prototype,{instance_effect:null,deserialize:function(a){pa.prototype.deserialize.call(this,
a);this.instance_effect=null;this.traverseChildren(a)},traverseChildHandler:function(a,b){"instance_effect"==b&&(this.instance_effect=new En(a))},__class__:pn});var Nn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAETransform"]=Nn;Nn.__name__=["away3d","loaders","parsers","DAETransform"];Nn.__super__=pa;Nn.prototype=z(pa.prototype,{type:null,data:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.type=a.get_name();this.data=this.readFloatArray(a)},matrix:null,get_matrix:function(){var a=
new Xa;switch(this.type){case "matrix":a=new Xa(this.data);a.transpose();break;case "rotate":var b=new C(this.data.get(0),this.data.get(1),this.data.get(2));a.appendRotation(this.data.get(3),b);break;case "scale":a.appendScale(this.data.get(0),this.data.get(1),this.data.get(2));break;case "translate":a.appendTranslation(this.data.get(0),this.data.get(1),this.data.get(2))}return a},__class__:Nn,__properties__:{get_matrix:"get_matrix"}});var Pg=function(a,b,c){this.parser=a;this.parent=c;this.channels=
x.toObjectVector(null);pa.call(this,b)};m["away3d.loaders.parsers.DAENode"]=Pg;Pg.__name__=["away3d","loaders","parsers","DAENode"];Pg.__super__=pa;Pg.prototype=z(pa.prototype,{type:null,parent:null,parser:null,nodes:null,transforms:null,instance_controllers:null,instance_geometries:null,world:null,channels:null,_root:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this._root=this.getRootElement(a);this.type=a.has.resolve("type")?a.att.resolve("type").toString():"NODE";this.nodes=
x.toObjectVector(null);this.transforms=x.toObjectVector(null);this.instance_controllers=x.toObjectVector(null);this.instance_geometries=x.toObjectVector(null);this.traverseChildren(a)},traverseChildHandler:function(a,b){var c;switch(b){case "instance_controller":c=new Dn(a);this.instance_controllers.push(c);break;case "instance_geometry":this.instance_geometries.push(new Fn(a));break;case "instance_node":var d=new Gn(a);c=new Bd;for(var e=this._root.nodes.resolve("library_nodes").h;null!=e;)for(var f=
e.item,e=e.next,f=f.nodes.resolve("node").h;null!=f;){var k=f.item,f=f.next;k.att.resolve("id")==d.url&&c.push(k)}0<c.length&&this.nodes.push(new Pg(this.parser,c.first(),this));break;case "matrix":case "rotate":case "scale":case "translate":this.transforms.push(new Nn(a));break;case "node":this.nodes.push(new Pg(this.parser,a,this))}},getMatrixBySID:function(a){a=this.getTransformBySID(a);return null!=a?a.get_matrix():null},getTransformBySID:function(a){for(var b=0,c=this.transforms;b<c.get_length();){var d=
c.get(b);++b;if(d.sid==a)return d}return null},getAnimatedMatrix:function(a){var b=new Xa,c,d,e=new qa,f,k,p=-Infinity,w=-p;c=0;for(f=this.channels.get_length();c<f;){k=c++;k=this.channels.get(k);Math.min(p,k.sampler.minTime);var p=Math.max(w,k.sampler.maxTime),h=k.targetSid;null!=t[h]?e.setReserved(h,k):e.h[h]=k}p=0;for(w=this.transforms.get_length();p<w;)if(k=p++,f=this.transforms.get(k),c=f.data,k=f.sid,null!=t[k]?e.existsReserved(k):e.h.hasOwnProperty(k))if(h=new Xa,d=null,k=f.sid,k=null!=t[k]?
e.getReserved(k):e.h[k],d=k.sampler.getFrameData(a),null!=d){d=d.data;switch(f.type){case "matrix":k.arrayAccess||(k.dotAccess?tb.trace("unhandled matrix array access"):16==d.get_length()?(h.rawData=d,h.transpose()):tb.trace("unhandled matrix "+f.sid+" "+(null!=d?d.toString():null)));break;case "rotate":k.arrayAccess?tb.trace("unhandled rotate array access"):k.dotAccess?"ANGLE"==k.dotAccessor?h.appendRotation(d.get(0),new C(c.get(0),c.get(1),c.get(2))):tb.trace("unhandled rotate dot access "+k.dotAccessor):
tb.trace("unhandled rotate");break;case "scale":if(k.arrayAccess)tb.trace("unhandled scale array access");else if(k.dotAccess)switch(k.dotAccessor){case "X":h.appendScale(d.get(0),c.get(1),c.get(2));break;case "Y":h.appendScale(c.get(0),d.get(0),c.get(2));break;case "Z":h.appendScale(c.get(0),c.get(1),d.get(0));break;default:tb.trace("unhandled scale dot access "+k.dotAccessor)}else tb.trace("unhandled scale: "+d.get_length());break;case "translate":if(k.arrayAccess)tb.trace("unhandled translate array access");
else if(k.dotAccess)switch(k.dotAccessor){case "X":h.appendTranslation(d.get(0),c.get(1),c.get(2));break;case "Y":h.appendTranslation(c.get(0),d.get(0),c.get(2));break;case "Z":h.appendTranslation(c.get(0),c.get(1),d.get(0));break;default:tb.trace("unhandled translate dot access "+k.dotAccessor)}else h.appendTranslation(d.get(0),d.get(1),d.get(2));break;default:tb.trace("unhandled transform type "+f.type);continue}b.prepend(h)}else b.prepend(f.get_matrix());else b.prepend(f.get_matrix());pa.USE_LEFT_HANDED&&
this.convertMatrix(b);return b},matrix:null,get_matrix:function(){for(var a=new Xa,b=0,c=this.transforms.get_length();b<c;){var d=b++;a.prepend(this.transforms.get(d).get_matrix())}pa.USE_LEFT_HANDED&&this.convertMatrix(a);return a},__class__:Pg,__properties__:{get_matrix:"get_matrix"}});var un=function(a,b){Pg.call(this,a,b)};m["away3d.loaders.parsers.DAEVisualScene"]=un;un.__name__=["away3d","loaders","parsers","DAEVisualScene"];un.__super__=Pg;un.prototype=z(Pg.prototype,{deserialize:function(a){Pg.prototype.deserialize.call(this,
a)},findNodeById:function(a,b){null==b&&(b=this);if(b.id==a)return b;for(var c=0,d=b.nodes.get_length();c<d;){var e=c++,e=this.findNodeById(a,b.nodes.get(e));if(null!=e)return e}return null},findNodeBySid:function(a,b){null==b&&(b=this);if(b.sid==a)return b;for(var c=0,d=b.nodes.get_length();c<d;){var e=c++,e=this.findNodeBySid(a,b.nodes.get(e));if(null!=e)return e}return null},updateTransforms:function(a,b){a.world=a.get_matrix().clone();null!=b&&null!=b.world&&a.world.append(b.world);for(var c=
0,d=a.nodes.get_length();c<d;){var e=c++;this.updateTransforms(a.nodes.get(e),a)}},__class__:un});var tn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEScene"]=tn;tn.__name__=["away3d","loaders","parsers","DAEScene"];tn.__super__=pa;tn.prototype=z(pa.prototype,{instance_visual_scene:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.instance_visual_scene=null;this.traverseChildren(a)},traverseChildHandler:function(a,b){"instance_visual_scene"==b&&(this.instance_visual_scene=
new Hn(a))},__class__:tn});var On=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEMorph"]=On;On.__name__=["away3d","loaders","parsers","DAEMorph"];On.__super__=fi;On.prototype=z(fi.prototype,{source:null,method:null,targets:null,weights:null,deserialize:function(a){fi.prototype.deserialize.call(this,a);this.source=a.att.resolve("source").replace(/^#/,"");this.method=a.att.resolve("method");this.method=0!=this.method.length?this.method:"NORMALIZED";this.targets=x.toObjectVector(null);this.weights=
x.toFloatVector(null);var b=new qa,c,d;c=a.nodes.resolve(""+this.source);if(a.hasNode.resolve("targets")&&0<a.nodes.resolve("targets").length){for(d=c.h;null!=d;){c=d.item;d=d.next;c=new gi(c);var e=c.id;null!=t[e]?b.setReserved(e,c):b.h[e]=c}c=a.node.resolve("targets").nodes.resolve("input");for(a=c.h;null!=a;)switch(c=a.item,a=a.next,d=new Og(c),c=d.source,c=null!=t[c]?b.getReserved(c):b.h[c],d.semantic){case "MORPH_TARGET":this.targets=c.strings;break;case "MORPH_WEIGHT":this.weights=c.floats}}},
__class__:On});var uq=function(){};m["away3d.loaders.parsers.DAEVertexWeight"]=uq;uq.__name__=["away3d","loaders","parsers","DAEVertexWeight"];uq.prototype={vertex:null,joint:null,weight:null,__class__:uq};var Pn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAESkin"]=Pn;Pn.__name__=["away3d","loaders","parsers","DAESkin"];Pn.__super__=pa;Pn.prototype=z(pa.prototype,{source:null,bind_shape_matrix:null,joints:null,inv_bind_matrix:null,weights:null,jointSourceType:null,maxBones:null,deserialize:function(a){pa.prototype.deserialize.call(this,
a);this.source=a.att.resolve("source").replace(/^#/,"");this.bind_shape_matrix=new Xa;this.inv_bind_matrix=x.toObjectVector(null);this.joints=x.toObjectVector(null);this.weights=x.toObjectVector(null);var b=a.get_elements(),c=new qa;for(a=a.nodes.resolve("source").h;null!=a;){var d=a.item;a=a.next;var d=new gi(d),e=d.id;null!=t[e]?c.setReserved(e,d):c.h[e]=d}for(;b.hasNext();)switch(a=b.next(),a.get_name()){case "bind_shape_matrix":this.parseBindShapeMatrix(a);break;case "joints":this.parseJoints(a,
c);break;case "vertex_weights":this.parseVertexWeights(a,c)}},getJointIndex:function(a){for(var b=0,c=this.joints.get_length();b<c;){var d=b++;if(this.joints.get(d)==a)return d}return-1},parseBindShapeMatrix:function(a){a=this.readFloatArray(a);this.bind_shape_matrix=new Xa(a);this.bind_shape_matrix.transpose();pa.USE_LEFT_HANDED&&this.convertMatrix(this.bind_shape_matrix)},parseJoints:function(a,b){for(var c,d,e=a.nodes.resolve("input").h;null!=e;)switch(d=e.item,e=e.next,c=new Og(d),d=c.source,
d=null!=t[d]?b.getReserved(d):b.h[d],c.semantic){case "INV_BIND_MATRIX":for(c=0;c<d.floats.get_length();){var f=new Xa(d.floats.slice(c,c+d.accessor.stride));f.transpose();pa.USE_LEFT_HANDED&&this.convertMatrix(f);this.inv_bind_matrix.push(f);c+=d.accessor.stride}break;case "JOINT":this.joints=d.strings,this.jointSourceType=d.type}},parseVertexWeights:function(a,b){var c=a.nodes.resolve("input"),d,e=x.toObjectVector(null),f;if(!a.hasNode.resolve("vcount")||!a.hasNode.resolve("v"))throw new H(new sa("Can't parse vertex weights"));
var k=this.readIntArray(a.node.resolve("vcount")),p=this.readIntArray(a.node.resolve("v"));h.parseInt(a.att.resolve("count"));var w=0;this.maxBones=0;for(c=c.h;null!=c;){var g=c.item,c=c.next;e.push(new Og(g))}c=0;for(g=k.get_length();c<g;){var n=c++,l=k.get(n),m=x.toObjectVector(null);this.maxBones=Math.max(Q.toFloat(this.maxBones),l)|0;for(var r=0;r<l;){r++;for(var q=new uq,u=0,v=e.get_length();u<v;)switch(d=u++,d=e.get(d),f=d.source,f=null!=t[f]?b.getReserved(f):b.h[f],d.semantic){case "JOINT":q.joint=
p.get(w+d.offset);break;case "WEIGHT":q.weight=f.floats.get(p.get(w+d.offset))}q.vertex=n;m.push(q);w+=e.get_length()}this.weights.push(m)}},__class__:Pn});var rn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEController"]=rn;rn.__name__=["away3d","loaders","parsers","DAEController"];rn.__super__=pa;rn.prototype=z(pa.prototype,{skin:null,morph:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.morph=this.skin=null;if(a.hasNode.resolve("skin")&&0<a.nodes.resolve("skin").length)this.skin=
new Pn(a.node.resolve("skin"));else if(a.hasNode.resolve("morph")&&0<a.nodes.resolve("morph").length)this.morph=new On(a.node.resolve("morph"));else throw new H(new sa("DAEController: could not find a <skin> or <morph> element"));},__class__:rn});var Qn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAESampler"]=Qn;Qn.__name__=["away3d","loaders","parsers","DAESampler"];Qn.__super__=pa;Qn.prototype=z(pa.prototype,{input:null,output:null,dataType:null,interpolation:null,minTime:null,maxTime:null,
_inputs:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);a=a.nodes.resolve("input");this._inputs=x.toObjectVector(null);for(a=a.h;null!=a;){var b=a.item;a=a.next;this._inputs.push(new Og(b))}},create:function(a){var b,c;this.input=x.toFloatVector(null);this.output=x.toObjectVector(null);this.interpolation=x.toObjectVector(null);for(var d=this.maxTime=this.minTime=0,e=this._inputs.get_length();d<e;)switch(b=d++,b=this._inputs.get(b),c=b.source,c=null!=t[c]?a.getReserved(c):a.h[c],
b.semantic){case "INPUT":this.input=c.floats;this.minTime=this.input.get(0);this.maxTime=this.input.get(this.input.get_length()-1);break;case "INTEROLATION":this.interpolation=c.strings;break;case "OUTPUT":for(b=0;b<c.floats.get_length();)this.output.push(c.floats.slice(b,b+c.accessor.stride)),b+=c.accessor.stride;this.dataType=c.accessor.params.get(0).type}},getFrameData:function(a){var b=new vq(0,a);if(null==this.input||0==this.input.get_length())return null;var c;b.valid=!0;b.time=a;if(a<=this.input.get(0))b.frame=
0,b.dt=0,b.data=this.output.get(0);else if(a>=this.input.get(this.input.get_length()-1))b.frame=this.input.get_length()-1,b.dt=0,b.data=this.output.get(b.frame);else{c=0;for(var d=this.input.get_length()-1;c<d;){var e=c++;if(a>=this.input.get(e)&&a<this.input.get(e+1)){b.frame=e;b.dt=(a-this.input.get(e))/(this.input.get(e+1)-this.input.get(e));b.data=this.output.get(e);break}}d=0;for(e=b.data.get_length();d<e;){var f=d++;a=this.output.get(b.frame).get(f);c=this.output.get(b.frame+1).get(f);var k=
b.data;k.set(f,k.get(f)+b.dt*(c-a))}}return b},__class__:Qn});var vq=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.frame=a;this.time=b;this.dt=c;this.valid=d};m["away3d.loaders.parsers.DAEFrameData"]=vq;vq.__name__=["away3d","loaders","parsers","DAEFrameData"];vq.prototype={frame:null,time:null,data:null,dt:null,valid:null,__class__:vq};var Rn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEChannel"]=Rn;Rn.__name__=["away3d","loaders","parsers","DAEChannel"];
Rn.__super__=pa;Rn.prototype=z(pa.prototype,{source:null,target:null,sampler:null,targetId:null,targetSid:null,arrayAccess:null,dotAccess:null,dotAccessor:null,arrayIndices:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.source=a.att.resolve("source").replace(/^#/,"");this.target=a.att.resolve("target").toString();this.sampler=null;a=this.target.split("/");this.targetId=a.shift();this.arrayAccess=this.dotAccess=!1;a=a.shift();if(0<=a.indexOf("(")){a=a.split("(");this.arrayAccess=
!0;this.arrayIndices=[];this.targetSid=a.shift();for(var b=0,c=a.length;b<c;){var d=b++,d=Da.replace(a[d],")","");this.arrayIndices.push(h.parseInt(d))}}else 0<=a.indexOf(".")?(a=a.split("."),this.dotAccess=!0,this.targetSid=a[0],this.dotAccessor=a[1]):this.targetSid=a},__class__:Rn});var sn=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAEAnimation"]=sn;sn.__name__=["away3d","loaders","parsers","DAEAnimation"];sn.__super__=pa;sn.prototype=z(pa.prototype,{samplers:null,channels:null,sources:null,
deserialize:function(a){pa.prototype.deserialize.call(this,a);this.samplers=x.toObjectVector(null);this.channels=x.toObjectVector(null);this.sources=new qa;this.traverseChildren(a);this.setupChannels(this.sources)},traverseChildHandler:function(a,b){switch(b){case "channel":this.channels.push(new Rn(a));break;case "sampler":this.samplers.push(new Qn(a));break;case "source":var c=new gi(a);this.sources.set(c.id,c)}},setupChannels:function(a){for(var b=0,c=this.channels;b<c.get_length();){var d=c.get(b);
++b;for(var e=0,f=this.samplers;e<f.get_length();){var k=f.get(e);++e;if(d.source==k.id){k.create(a);d.sampler=k;break}}}},__class__:sn});var wq=function(a){pa.call(this,a)};m["away3d.loaders.parsers.DAELightType"]=wq;wq.__name__=["away3d","loaders","parsers","DAELightType"];wq.__super__=pa;wq.prototype=z(pa.prototype,{color:null,deserialize:function(a){pa.prototype.deserialize.call(this,a);this.traverseChildren(a)},traverseChildHandler:function(a,b){if("color"==b){var c=this.readFloatArray(a);this.color=
new In;this.color.r=c.get(0);this.color.g=c.get(1);this.color.b=c.get(2);c=3<c.get_length()?c.get(3):1;this.color.a=c}},__class__:wq});var mb=m["away3d.loaders.parsers.DAEParserState"]={__ename__:["away3d","loaders","parsers","DAEParserState"],__constructs__:"LOAD_XML PARSE_IMAGES PARSE_MATERIALS PARSE_GEOMETRIES PARSE_CONTROLLERS PARSE_VISUAL_SCENE PARSE_ANIMATIONS PARSE_COMPLETE".split(" ")};mb.LOAD_XML=["LOAD_XML",0];mb.LOAD_XML.toString=U;mb.LOAD_XML.__enum__=mb;mb.PARSE_IMAGES=["PARSE_IMAGES",
1];mb.PARSE_IMAGES.toString=U;mb.PARSE_IMAGES.__enum__=mb;mb.PARSE_MATERIALS=["PARSE_MATERIALS",2];mb.PARSE_MATERIALS.toString=U;mb.PARSE_MATERIALS.__enum__=mb;mb.PARSE_GEOMETRIES=["PARSE_GEOMETRIES",3];mb.PARSE_GEOMETRIES.toString=U;mb.PARSE_GEOMETRIES.__enum__=mb;mb.PARSE_CONTROLLERS=["PARSE_CONTROLLERS",4];mb.PARSE_CONTROLLERS.toString=U;mb.PARSE_CONTROLLERS.__enum__=mb;mb.PARSE_VISUAL_SCENE=["PARSE_VISUAL_SCENE",5];mb.PARSE_VISUAL_SCENE.toString=U;mb.PARSE_VISUAL_SCENE.__enum__=mb;mb.PARSE_ANIMATIONS=
["PARSE_ANIMATIONS",6];mb.PARSE_ANIMATIONS.toString=U;mb.PARSE_ANIMATIONS.__enum__=mb;mb.PARSE_COMPLETE=["PARSE_COMPLETE",7];mb.PARSE_COMPLETE.toString=U;mb.PARSE_COMPLETE.__enum__=mb;mb.__empty_constructs__=[mb.LOAD_XML,mb.PARSE_IMAGES,mb.PARSE_MATERIALS,mb.PARSE_GEOMETRIES,mb.PARSE_CONTROLLERS,mb.PARSE_VISUAL_SCENE,mb.PARSE_ANIMATIONS,mb.PARSE_COMPLETE];var Wd=function(){this._lastMeshName="";this._trim=new Za("^[ \t]","g");ub.call(this,"plainText")};m["away3d.loaders.parsers.DXFParser"]=Wd;Wd.__name__=
["away3d","loaders","parsers","DXFParser"];Wd.supportsType=function(a){a=a.toLowerCase();return"dxf"==a};Wd.supportsData=function(a){a=Ue.toString(a);return null==a?!1:-1!=a.indexOf("ENDSEC")&&-1!=a.indexOf("EOF")?!0:!1};Wd.__super__=ub;Wd.prototype=z(ub.prototype,{_textData:null,_startedParsing:null,_trim:null,_v0:null,_v1:null,_v2:null,_v3:null,_meshesDic:null,_vertices:null,_uvs:null,_indices:null,_subGeometry:null,_polyLines:null,_polyLinesIndices:null,_oldIndex:null,_stringLen:null,_meshName:null,
_itemColor:null,_lastMeshName:null,_activeMesh:null,_blockType:null,_segmentSet:null,_segCount:null,proceedParsing:function(){var a,b=0,c=0;if(!this._startedParsing){this._textData=this.getTextData();if(-1==this._textData.indexOf("3DFACE")&&-1==this._textData.indexOf("LINE")&&-1==this._textData.indexOf("POLYLINE")&&-1==this._textData.indexOf("VERTEX"))return!0;this._meshesDic=new qa;this._v0=new C;this._v1=new C;this._v2=new C;this._v3=new C;this._startedParsing=!0;this._textData=this._textData.replace(RegExp("\r",
"g"),"");this._textData=this._textData.replace(RegExp("\\\\[\r\n]+\\s*","gm"),"");c=0;this._stringLen=this._textData.length;b=this._segCount=this._oldIndex=0;if(-1==this._textData.indexOf(Wd.CR))return!0}for(var d=null,e=!1,f=!1,k;Q.gt(this._stringLen,c)&&(this.hasTime()||e);){c=this._textData.indexOf(Wd.CR,this._oldIndex);a=this._textData.substring(this._oldIndex,c);a=a.replace(this._trim.r,"");if(""!=a)if("3DFACE"==a||"LINE"==a||"POLYLINE"==a||"VERTEX"==a&&null!=this._polyLines)"3DFACE"==this._blockType&&
11==b&&this.finalizeFace(),"VERTEX"!=a&&"VERTEX"==this._blockType&&3<=this._polyLines.get_length()&&this.constructPolyfaceMesh(),b=0,e=!0,this._blockType=a,f=!1,this._meshName="";else if(e){if(f)if(k=parseFloat(a),"3DFACE"==this._blockType)switch(d){case "10":this._v0.x=k;++b;break;case "11":this._v1.x=k;++b;break;case "12":this._v2.x=k;++b;break;case "13":this._v3.x=k;++b;break;case "20":this._v0.y=k;++b;break;case "21":this._v1.y=k;++b;break;case "22":this._v2.y=k;++b;break;case "23":this._v3.y=
k;++b;break;case "30":this._v0.z=k;++b;break;case "31":this._v1.z=k;++b;break;case "32":this._v2.z=k;++b;break;case "33":this._v3.z=k;11==b&&(""==this._meshName&&(this._meshName="mesh"),this.finalizeFace(),e=!1);break;case "62":this._itemColor=this.getDXFColor(k|0);break;default:isNaN(k)&&"8"==d&&0==b&&(this._meshName=a)}else if("LINE"==this._blockType)switch(d){case "10":this._v0.x=k;++b;break;case "11":this._v1.x=k;++b;break;case "20":this._v0.y=k;++b;break;case "21":this._v1.y=k;++b;break;case "30":this._v0.z=
k;++b;break;case "31":this._v1.z=k;5==b&&(this.finalizeLine(),e=!1);break;case "62":this._itemColor=this.getDXFColor(k|0)}else if("VERTEX"==this._blockType)switch(d){case "10":this._v0.x=k;++b;break;case "20":this._v0.y=k;++b;break;case "30":this._v0.z=k;++b;break;case "70":128!=k&&3==b&&this._polyLines.push(this._v0.clone());b=0;break;case "71":case "72":this._polyLinesIndices.push((Math.abs(k)|0)-1);break;case "73":this._polyLinesIndices.push((Math.abs(k)|0)-1);this._polyLinesIndices.push(-1);break;
case "74":this._polyLinesIndices.set(this._polyLinesIndices.get_length()-1,(Math.abs(k)|0)-1);break;case "8":isNaN(k)&&(this._meshName=a)}else"POLYLINE"==this._blockType&&"70"==d&&(64==k?(this._polyLines=x.toObjectVector(null),this._polyLinesIndices=x.toIntVector(null),this._meshName="polyline"):(tb.trace("Skip: unsupported POLYLINE structure"),this._polyLinesIndices=this._polyLines=null),e=!1);else d=a;f=!f}this._oldIndex=c+1}return Q.gte(c,this._stringLen)?("VERTEX"==this._blockType&&3<=this._polyLines.get_length()&&
this.constructPolyfaceMesh(),null!=this._activeMesh&&this.finalizeMesh(),this.cleanUP(),!0):!1},constructPolyfaceMesh:function(){if(0==this._polyLinesIndices.get_length()&&(3==this._polyLines.get_length()||4==this._polyLines.get_length()))this._v0=this._polyLines.get(0),this._v1=this._polyLines.get(1),this._v2=this._polyLines.get(2),4<=this._polyLines.get_length()?this._v3=this._polyLines.get(3):this._v3=this._v2,this.finalizeFace();else if(0==this._polyLinesIndices.get_length()%4)for(var a=0;a<this._polyLinesIndices.get_length();)this._v0=
this._polyLines.get(this._polyLinesIndices.get(a)),this._v1=this._polyLines.get(this._polyLinesIndices.get(a+1)),this._v2=this._polyLines.get(this._polyLinesIndices.get(a+2)),-1<this._polyLinesIndices.get(a+3)?this._v3=this._polyLines.get(this._polyLinesIndices.get(a+3)):this._v3=this._v2,this.finalizeFace(),a+=4;this._polyLinesIndices=this._polyLines=null},finalizeFace:function(){if(""==this._lastMeshName||this._meshName!=this._lastMeshName){null!=this._activeMesh&&this.finalizeMesh();var a=this._meshName,
b=this._meshesDic;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))a=this._meshName,b=this._meshesDic,this._activeMesh=null!=t[a]?b.getReserved(a):b.h[a],this._subGeometry=y.__cast(this._activeMesh.get_geometry().get_subGeometries().get(this._activeMesh.get_geometry().get_subGeometries().get_length()-1),Ac),this._vertices=this._subGeometry.get_vertexData(),this._uvs=this._subGeometry.get_UVData(),this._indices=this._subGeometry.get_indexData();else{this._activeMesh=this.buildMesh();var a=this._meshName,
b=this._activeMesh,c=this._meshesDic;null!=t[a]?c.setReserved(a,b):c.h[a]=b}}Q.gt(this._indices.get_length()+3,65535)&&(this._subGeometry.fromVectors(this._vertices,this._uvs,null,null),this._subGeometry.updateIndexData(this._indices),this.addSubGeometry(this._activeMesh.get_geometry()));a=this._vertices.get_length()/3|0;this._vertices.push(this._v0.x);this._vertices.push(this._v0.y);this._vertices.push(this._v0.z);this._vertices.push(this._v1.x);this._vertices.push(this._v1.y);this._vertices.push(this._v1.z);
this._vertices.push(this._v2.x);this._vertices.push(this._v2.y);this._vertices.push(this._v2.z);this._uvs.push(0);this._uvs.push(1);this._uvs.push(.5);this._uvs.push(0);this._uvs.push(1);this._uvs.push(1);this._indices.push(a);this._indices.push(a+1);this._indices.push(a+2);if(this._v2.x!=this._v3.x||this._v2.y!=this._v3.y||this._v2.z!=this._v3.z)Q.gt(this._indices.get_length()+3,65535)?(this._subGeometry.fromVectors(this._vertices,this._uvs,null,null),this._subGeometry.updateIndexData(this._indices),
this.addSubGeometry(this._activeMesh.get_geometry()),a=0):a+=3,this._vertices.push(this._v0.x),this._vertices.push(this._v0.y),this._vertices.push(this._v0.z),this._vertices.push(this._v2.x),this._vertices.push(this._v2.y),this._vertices.push(this._v2.z),this._vertices.push(this._v3.x),this._vertices.push(this._v3.y),this._vertices.push(this._v3.z),this._uvs.push(0),this._vertices.push(1),this._vertices.push(.5),this._vertices.push(0),this._vertices.push(1),this._vertices.push(1),this._indices.push(a),
this._indices.push(a+1),this._indices.push(a+2);this._lastMeshName=this._meshName},buildMesh:function(){var a=new Zb;this.addSubGeometry(a);var b;b=16777215;if(0==this._itemColor||isNaN(Q.toFloat(this._itemColor))){b=255*Math.random()|0;var c=255*Math.random()|0,d=255*Math.random()|0;b=b<<16|c<<8|d}else b=this._itemColor;b=Q.gt(2,this.get_materialMode())?new Lb(b):new Ad(b);a=new Pb(a,b);a.set_name(this._meshName);return a},addSubGeometry:function(a){this._subGeometry=new Ac;this._subGeometry.set_autoDeriveVertexNormals(!0);
this._subGeometry.set_autoDeriveVertexTangents(!0);a.addSubGeometry(this._subGeometry);this._vertices=x.toFloatVector(null);this._uvs=x.toFloatVector(null);this._indices=x.toIntVector(null)},finalizeLine:function(){this._segCount+=11;if(null==this._segmentSet||Q.gt(this._segCount,17872))this._segmentSet=new Cc,this.finalizeAsset(this._segmentSet),this._segCount=11;var a=0==this._itemColor||isNaN(Q.toFloat(this._itemColor))?13421772:this._itemColor,b=new Ca(this._v0.clone(),this._v1.clone());b.set_startColor(a);
b.set_endColor(a);this._itemColor=0;this._segmentSet.addSegment(b)},finalizeMesh:function(){this._subGeometry.fromVectors(this._vertices,this._uvs,null,null);this._subGeometry.updateIndexData(this._indices);this.finalizeAsset(this._activeMesh);this._itemColor=0;this._activeMesh=null},cleanUP:function(){this._indices=this._uvs=this._vertices=this._segmentSet=this._subGeometry=this._activeMesh=this._meshesDic=null},getDXFColor:function(a){return a>Wd._colorTable.get_length()-1?13421772:Wd._colorTable.get(a)},
__class__:Wd});var ph=function(a,b){null==b&&(b=!0);null==a&&(a="jpg");this.materialFinal=this.geoCreated=!1;this._animationSet=new Nh;this._indexMap=new fc;this._clipNodes=new qa;ub.call(this,"binary");this._textureType=a;this._ignoreTexturePath=b};m["away3d.loaders.parsers.MD2Parser"]=ph;ph.__name__=["away3d","loaders","parsers","MD2Parser"];ph.supportsType=function(a){a=a.toLowerCase();return"md2"==a};ph.supportsData=function(a){return"IDP2"==Ue.toString(a,4)};ph.__super__=ub;ph.prototype=z(ub.prototype,
{_clipNodes:null,_byteData:null,_startedParsing:null,_parsedHeader:null,_parsedUV:null,_parsedFaces:null,_parsedFrames:null,_ident:null,_version:null,_skinWidth:null,_skinHeight:null,_numSkins:null,_numVertices:null,_numST:null,_numTris:null,_numFrames:null,_offsetSkins:null,_offsetST:null,_offsetTris:null,_offsetFrames:null,_offsetEnd:null,_uvIndices:null,_indices:null,_vertIndices:null,_indexMap:null,_animationSet:null,_firstSubGeom:null,_uvs:null,_finalUV:null,_materialNames:null,_textureType:null,
_ignoreTexturePath:null,_mesh:null,_geometry:null,materialFinal:null,geoCreated:null,resolveDependency:function(a){1==a.get_assets().get_length()&&(a=y.__instanceof(a.get_assets().get(0),Sc)?a.get_assets().get(0):null,null!=a&&(a=Q.gt(2,this.get_materialMode())?new Qb(a):new Lc(a),a.set_name(this._mesh.get_material().get_name()),this._mesh.set_material(a),this.finalizeAsset(a),this.finalizeAsset(this._mesh.get_geometry()),this.finalizeAsset(this._mesh)),this.materialFinal=!0)},resolveDependencyFailure:function(a){Q.gt(2,
this.get_materialMode())?this._mesh.set_material(Ib.getDefaultMaterial()):this._mesh.set_material(new Lc(Ib.getDefaultTexture()));this.finalizeAsset(this._mesh.get_geometry());this.finalizeAsset(this._mesh);this.materialFinal=!0},proceedParsing:function(){this._startedParsing||(this._byteData=this.getByteData(),this._startedParsing=!0,this._byteData.position=0);for(;this.hasTime();)if(this._parsedHeader)if(this._parsedUV)if(this._parsedFaces)if(this._parsedFrames){if(this.geoCreated&&this.materialFinal)return!0;
this.geoCreated||(this.geoCreated=!0,this.createDefaultSubGeometry(),this._mesh.set_name(""),this.materialFinal&&(this.finalizeAsset(this._mesh.get_geometry()),this.finalizeAsset(this._mesh)),this.pauseAndRetrieveDependencies())}else this.parseFrames();else this.parseFaces();else this.parseUV();else this._byteData.__endian=1,this._geometry=new Zb,this._mesh=new Pb(this._geometry,null),Q.gt(2,this.get_materialMode())?this._mesh.set_material(Ib.getDefaultMaterial()):this._mesh.set_material(new Lc(Ib.getDefaultTexture())),
this.parseHeader(),this.parseMaterialNames();return!1},parseHeader:function(){this._ident=this._byteData.readInt();this._version=this._byteData.readInt();this._skinWidth=this._byteData.readInt();this._skinHeight=this._byteData.readInt();this._byteData.readInt();this._numSkins=this._byteData.readInt();this._numVertices=this._byteData.readInt();this._numST=this._byteData.readInt();this._numTris=this._byteData.readInt();this._byteData.readInt();this._numFrames=this._byteData.readInt();this._offsetSkins=
this._byteData.readInt();this._offsetST=this._byteData.readInt();this._offsetTris=this._byteData.readInt();this._offsetFrames=this._byteData.readInt();this._byteData.readInt();this._offsetEnd=this._byteData.readInt();this._parsedHeader=!0},parseMaterialNames:function(){var a,b,c=0;this._materialNames=x.toObjectVector(null);this._byteData.position=this._offsetSkins;for(var d=RegExp("[^a-zA-Z0-9\\\\_/.]","g"),e=0,f=this._numSkins;e<f;){var k=e++;b=this._byteData.readUTFBytes(64);b=b.replace(d,"");a=
b.lastIndexOf(".");this._ignoreTexturePath&&(c=b.lastIndexOf("/"));-1==b.toLowerCase().indexOf(".jpg")&&-1==b.toLowerCase().indexOf(".png")?(b=b.substring(c+1,a),a=b+"."+this._textureType):a=b;this._materialNames.set(k,b);0==this.get_dependencies().get_length()&&this.addDependency(b,new Fe(a))}0<this._materialNames.get_length()?this._mesh.get_material().set_name(this._materialNames.get(0)):this.materialFinal=!0},parseUV:function(){var a=0;this._uvs=x.toFloatVector(null,2*this._numST);this._byteData.position=
this._offsetST;for(var b=0,c=this._numST;b<c;)b++,this._uvs.set(a++,this._byteData.readShort()/this._skinWidth),this._uvs.set(a++,this._byteData.readShort()/this._skinHeight);this._parsedUV=!0},parseFaces:function(){var a,b,c,d,e,f;this._vertIndices=x.toFloatVector(null);this._uvIndices=x.toFloatVector(null);this._indices=x.toIntVector(null);this._byteData.position=this._offsetTris;for(var k=0,p=this._numTris;k<p;)k++,a=this._byteData.readUnsignedShort(),b=this._byteData.readUnsignedShort(),c=this._byteData.readUnsignedShort(),
d=this._byteData.readUnsignedShort(),e=this._byteData.readUnsignedShort(),f=this._byteData.readUnsignedShort(),this.addIndex(a,d),this.addIndex(b,e),this.addIndex(c,f);a=this._uvIndices.get_length();this._finalUV=x.toFloatVector(null,2*a,!0);for(b=0;b<a;)d=b++,c=this._uvIndices.get(d)|0,c<<=1,d<<=1,this._finalUV.set(d,this._uvs.get(c)),this._finalUV.set(d+1,this._uvs.get(c+1));this._parsedFaces=!0},addIndex:function(a,b){var c=this.findIndex(a,b);if(-1==c){if(!this._indexMap.h.hasOwnProperty(a)){var c=
this._indexMap,d=new fc;c.h[a]=d}var c=this._indices,d=this._indexMap.h[a],e=this._vertIndices.get_length();d.h[b]=e;c.push(e);this._vertIndices.push(a);this._uvIndices.push(b)}else this._indices.push(c)},findIndex:function(a,b){return this._indexMap.h.hasOwnProperty(a)&&this._indexMap.h[a].h.hasOwnProperty(b)?this._indexMap.h[a].h[b]:-1},parseFrames:function(){var a,b,c,d,e,f,k,p,w=this._vertIndices.get_length(),h,n,l="",g=null;this._byteData.position=this._offsetFrames;for(var m=0,r=this._numFrames;m<
r;){m++;p=new Ac;null==this._firstSubGeom&&(this._firstSubGeom=p);k=new Zb;k.addSubGeometry(p);n=x.toFloatVector(null);h=x.toFloatVector(null,3*w,!0);a=this._byteData.readFloat();b=this._byteData.readFloat();c=this._byteData.readFloat();d=this._byteData.readFloat();e=this._byteData.readFloat();f=this._byteData.readFloat();for(var l=this.readFrameName(),q=0,u=this._numVertices;q<u;)q++,n.push(a*this._byteData.readUnsignedByte()+d),n.push(b*this._byteData.readUnsignedByte()+e),n.push(c*this._byteData.readUnsignedByte()+
f),this._byteData.position++;b=a=0;for(c=w;b<c;)d=b++,h.set(a++,n.get(3*(this._vertIndices.get(d)|0))),h.set(a++,n.get(3*(this._vertIndices.get(d)|0)+2)),h.set(a++,n.get(3*(this._vertIndices.get(d)|0)+1));p.fromVectors(h,this._finalUV,null,null);p.updateIndexData(this._indices);p.get_vertexNormalData();p.get_vertexTangentData();p.set_autoDeriveVertexNormals(!1);p.set_autoDeriveVertexTangents(!1);p=this._clipNodes;p=null!=t[l]?p.getReserved(l):p.h[l];null==p&&(null!=g&&(this.finalizeAsset(g),this._animationSet.addAnimation(g)),
p=new Ni,p.set_name(l),p.set_stitchFinalFrame(!0),g=this._clipNodes,null!=t[l]?g.setReserved(l,p):g.h[l]=p,g=p);p.addFrame(k,1E3/ph.FPS|0)}null!=g&&(this.finalizeAsset(g),this._animationSet.addAnimation(g));this.finalizeAsset(this._animationSet);this._parsedFrames=!0},readFrameName:function(){for(var a="",b=0,c=0;16>c;){c++;var d=this._byteData.readUnsignedByte();57<d&&122>=d&&0==b&&(a+=String.fromCharCode(d));48<=d&&57>=d&&++b}return a},createDefaultSubGeometry:function(){var a=new Ac;a.updateData(this._firstSubGeom.get_vertexData());
a.updateIndexData(this._indices);this._geometry.addSubGeometry(a)},__class__:ph});var ke=function(a,b){null==b&&(b=0);this._parseIndex=this._line=this._charLineIndex=this._version=this._frameRate=this._numFrames=this._numJoints=this._numAnimatedComponents=0;ub.call(this,"plainText");this._rotationQuat=new Re;var c=new Re,d=new Re;c.fromAxisAngle(new C(1,0,0),.5*-Math.PI);d.fromAxisAngle(new C(0,1,0),.5*-Math.PI);this._rotationQuat.multiply(d,c);null!=a&&(this._rotationQuat.multiply(d,c),c.fromAxisAngle(a,
b),this._rotationQuat.multiply(c,this._rotationQuat))};m["away3d.loaders.parsers.MD5AnimParser"]=ke;ke.__name__=["away3d","loaders","parsers","MD5AnimParser"];ke.supportsType=function(a){a=a.toLowerCase();return"md5anim"==a};ke.supportsData=function(a){return!1};ke.__super__=ub;ke.prototype=z(ub.prototype,{_textData:null,_startedParsing:null,_parseIndex:null,_reachedEOF:null,_line:null,_charLineIndex:null,_version:null,_frameRate:null,_numFrames:null,_numJoints:null,_numAnimatedComponents:null,_hierarchy:null,
_bounds:null,_frameData:null,_baseFrameData:null,_rotationQuat:null,_clip:null,proceedParsing:function(){var a;this._startedParsing||(this._textData=this.getTextData(),this._startedParsing=!0);for(;this.hasTime();){a=this.getNextToken();switch(a){case "":break;case "//":this.ignoreLine();break;case "MD5Version":this._version=this.getNextInt();if(10!=this._version)throw new H(new sa("Unknown version number encountered!"));break;case "baseframe":this.parseBaseFrame();break;case "bounds":this.parseBounds();
break;case "commandline":this.parseCMD();break;case "frame":this.parseFrame();break;case "frameRate":this._frameRate=this.getNextInt();break;case "hierarchy":this.parseHierarchy();break;case "numAnimatedComponents":this._numAnimatedComponents=this.getNextInt();break;case "numFrames":this._numFrames=this.getNextInt();this._bounds=x.toObjectVector(null);this._frameData=x.toObjectVector(null);break;case "numJoints":this._numJoints=this.getNextInt();this._hierarchy=x.toObjectVector(null,this._numJoints,
!0);this._baseFrameData=x.toObjectVector(null,this._numJoints,!0);break;default:this._reachedEOF||this.sendUnknownKeywordError()}if(this._reachedEOF)return this._clip=new Ph,this.translateClip(),this.finalizeAsset(this._clip),!0}return!1},translateClip:function(){for(var a=0,b=this._numFrames;a<b;){var c=a++;this._clip.addFrame(this.translatePose(this._frameData.get(c)),1E3/this._frameRate|0)}},translatePose:function(a){for(var b,c,d,e,f=new C,k=new Re,p=a.components,w=new xf,h=w.jointPoses,n=0,l=
this._numJoints;n<l;){var g=n++;e=0;b=new fh;a=this._hierarchy.get(g);c=this._baseFrameData.get(g);d=a.flags;f.x=c.position.x;f.y=c.position.y;f.z=c.position.z;k.x=c.orientation.x;k.y=c.orientation.y;k.z=c.orientation.z;0!=(d&1)&&(f.x=p.get(a.startIndex+e++));0!=(d&2)&&(f.y=p.get(a.startIndex+e++));0!=(d&4)&&(f.z=p.get(a.startIndex+e++));0!=(d&8)&&(k.x=p.get(a.startIndex+e++));0!=(d&16)&&(k.y=p.get(a.startIndex+e++));0!=(d&32)&&(k.z=p.get(a.startIndex+e++));c=1-k.x*k.x-k.y*k.y-k.z*k.z;k.w=0>c?0:-Math.sqrt(c);
0>a.parentIndex?(b.orientation.multiply(this._rotationQuat,k),b.translation=this._rotationQuat.rotatePoint(f)):(b.orientation.copyFrom(k),b.translation.x=f.x,b.translation.y=f.y,b.translation.z=f.z);b.orientation.y=-b.orientation.y;b.orientation.z=-b.orientation.z;b.translation.x=-b.translation.x;h.set(g,b)}return w},parseHierarchy:function(){var a,b=0;for("{"!=this.getNextToken()&&this.sendUnknownKeywordError();this._reachedEOF&&this.sendEOFError(),a=new xq,a.name=this.parseLiteralString(),a.parentIndex=
this.getNextInt(),a.flags=this.getNextInt(),a.startIndex=this.getNextInt(),this._hierarchy.set(b++,a),a=this.getNextChar(),"/"==a&&(this.putBack(),a=this.getNextToken(),"//"==a&&this.ignoreLine(),a=this.getNextChar()),"}"!=a&&this.putBack(),"}"!=a;);},parseBounds:function(){var a,b=0;for("{"!=this.getNextToken()&&this.sendUnknownKeywordError();this._reachedEOF&&this.sendEOFError(),a=new yq,a.min=this.parseVector3D(),a.max=this.parseVector3D(),this._bounds.set(b++,a),a=this.getNextChar(),"/"==a&&(this.putBack(),
a=this.getNextToken(),"//"==a&&this.ignoreLine(),a=this.getNextChar()),"}"!=a&&this.putBack(),"}"!=a;);},parseBaseFrame:function(){var a,b=0;for("{"!=this.getNextToken()&&this.sendUnknownKeywordError();this._reachedEOF&&this.sendEOFError(),a=new zq,a.position=this.parseVector3D(),a.orientation=this.parseQuaternion(),this._baseFrameData.set(b++,a),a=this.getNextChar(),"/"==a&&(this.putBack(),a=this.getNextToken(),"//"==a&&this.ignoreLine(),a=this.getNextChar()),"}"!=a&&this.putBack(),"}"!=a;);},parseFrame:function(){var a,
b=this.getNextInt();for("{"!=this.getNextToken()&&this.sendUnknownKeywordError();;){this._reachedEOF&&this.sendEOFError();a=new Aq;a.components=x.toFloatVector(null,this._numAnimatedComponents,!0);for(var c=0,d=this._numAnimatedComponents;c<d;){var e=c++;a.components.set(e,this.getNextNumber())}this._frameData.set(b,a);a=this.getNextChar();"/"==a&&(this.putBack(),a=this.getNextToken(),"//"==a&&this.ignoreLine(),a=this.getNextChar());"}"!=a&&this.putBack();if("}"==a)break}},putBack:function(){this._parseIndex--;
this._charLineIndex--;this._reachedEOF=this._parseIndex>=this._textData.length},getNextToken:function(){for(var a,b="";!this._reachedEOF;){a=this.getNextChar();if(" "==a||"\r"==a||"\n"==a||"\t"==a){if("//"!=b&&this.skipWhiteSpace(),""!=b)break}else b+=a;if("//"==b)break}return b},skipWhiteSpace:function(){for(var a;a=this.getNextChar(),"\n"==a||" "==a||"\r"==a||"\t"==a;);this.putBack()},ignoreLine:function(){for(var a=null;!this._reachedEOF&&"\n"!=a;)a=this.getNextChar()},getNextChar:function(){var a=
this._textData.charAt(this._parseIndex++);"\n"==a?(++this._line,this._charLineIndex=0):"\r"!=a&&++this._charLineIndex;this._parseIndex==this._textData.length&&(this._reachedEOF=!0);return a},getNextInt:function(){var a=h.parseInt(this.getNextToken());isNaN(a)&&this.sendParseError("int type");return a},getNextNumber:function(){var a=parseFloat(this.getNextToken());isNaN(a)&&this.sendParseError("float type");return a},parseVector3D:function(){var a=new C;"("!=this.getNextToken()&&this.sendParseError("(");
a.x=this.getNextNumber();a.y=this.getNextNumber();a.z=this.getNextNumber();")"!=this.getNextToken()&&this.sendParseError(")");return a},parseQuaternion:function(){var a=new Re;"("!=this.getNextToken()&&this.sendParseError("(");a.x=this.getNextNumber();a.y=this.getNextNumber();a.z=this.getNextNumber();var b=1-a.x*a.x-a.y*a.y-a.z*a.z;a.w=0>b?0:-Math.sqrt(b);")"!=this.getNextToken()&&this.sendParseError(")");return a},parseCMD:function(){this.parseLiteralString()},parseLiteralString:function(){this.skipWhiteSpace();
var a=this.getNextChar(),b="";for('"'!=a&&this.sendParseError('"');this._reachedEOF&&this.sendEOFError(),a=this.getNextChar(),'"'!=a&&(b+=a),'"'!=a;);return b},sendEOFError:function(){throw new H(new sa("Unexpected end of file"));},sendParseError:function(a){throw new H(new sa("Unexpected token at line "+(this._line+1)+", character "+this._charLineIndex+". "+a+" expected, but "+this._textData.charAt(this._parseIndex-1)+" encountered"));},sendUnknownKeywordError:function(){throw new H(new sa("Unknown keyword at line "+
(this._line+1)+", character "+this._charLineIndex+". "));},__class__:ke});var xq=function(){};m["away3d.loaders.parsers.HierarchyData"]=xq;xq.__name__=["away3d","loaders","parsers","HierarchyData"];xq.prototype={name:null,parentIndex:null,flags:null,startIndex:null,__class__:xq};var yq=function(){};m["away3d.loaders.parsers.BoundsData"]=yq;yq.__name__=["away3d","loaders","parsers","BoundsData"];yq.prototype={min:null,max:null,__class__:yq};var zq=function(){};m["away3d.loaders.parsers.BaseFrameData"]=
zq;zq.__name__=["away3d","loaders","parsers","BaseFrameData"];zq.prototype={position:null,orientation:null,__class__:zq};var Aq=function(){};m["away3d.loaders.parsers.FrameData"]=Aq;Aq.__name__=["away3d","loaders","parsers","FrameData"];Aq.prototype={index:null,components:null,__class__:Aq};var Dd=function(a,b){null==b&&(b=0);this._parseIndex=this._line=this._charLineIndex=this._version=this._numJoints=this._numMeshes=this._maxJointCount=0;ub.call(this,"plainText");this._rotationQuat=new Re;this._rotationQuat.fromAxisAngle(new C(1,
0,0),.5*-Math.PI);if(null!=a){var c=new Re;c.fromAxisAngle(a,b);this._rotationQuat.multiply(this._rotationQuat,c)}};m["away3d.loaders.parsers.MD5MeshParser"]=Dd;Dd.__name__=["away3d","loaders","parsers","MD5MeshParser"];Dd.supportsType=function(a){a=a.toLowerCase();return"md5mesh"==a};Dd.supportsData=function(a){return!1};Dd.__super__=ub;Dd.prototype=z(ub.prototype,{_textData:null,_startedParsing:null,_parseIndex:null,_reachedEOF:null,_line:null,_charLineIndex:null,_version:null,_numJoints:null,_numMeshes:null,
_mesh:null,_shaders:null,_maxJointCount:null,_meshData:null,_bindPoses:null,_geometry:null,_skeleton:null,_animationSet:null,_rotationQuat:null,proceedParsing:function(){var a;this._startedParsing||(this._textData=this.getTextData(),this._startedParsing=!0);for(;this.hasTime();){a=this.getNextToken();switch(a){case "//":this.ignoreLine();break;case "MD5Version":this._version=this.getNextInt();if(10!=this._version)throw new H(new sa("Unknown version number encountered!"));break;case "commandline":this.parseCMD();
break;case "joints":this.parseJoints();break;case "mesh":this.parseMesh();break;case "numJoints":this._numJoints=this.getNextInt();this._bindPoses=x.toObjectVector(null,this._numJoints,!0);break;case "numMeshes":this._numMeshes=this.getNextInt();break;default:this._reachedEOF||this.sendUnknownKeywordError()}if(this._reachedEOF){this.calculateMaxJointCount();this._animationSet=new Cg(this._maxJointCount);this._mesh=new Pb(new Zb,null);this._geometry=this._mesh.get_geometry();a=0;for(var b=this._meshData.get_length();a<
b;){var c=a++;this._geometry.addSubGeometry(this.translateGeom(this._meshData.get(c).vertexData,this._meshData.get(c).weightData,this._meshData.get(c).indices))}this.finalizeAsset(this._geometry);this.finalizeAsset(this._mesh);this.finalizeAsset(this._skeleton);this.finalizeAsset(this._animationSet);return!0}}return!1},calculateMaxJointCount:function(){for(var a=this._maxJointCount=0,b=this._meshData.get_length();a<b;)for(var c=a++,c=this._meshData.get(c),d=c.vertexData,e=0,f=d.get_length();e<f;){var k=
e++,p=this.countZeroWeightJoints(d.get(k),c.weightData),k=d.get(k).countWeight-p;k>this._maxJointCount&&(this._maxJointCount=k)}},countZeroWeightJoints:function(a,b){for(var c=0,d,e=a.startWeight,f=a.startWeight+a.countWeight;e<f;)d=e++,d=b.get(d).bias,0==d&&++c;return c},parseJoints:function(){var a,b,c,d=0;"{"!=this.getNextToken()&&this.sendUnknownKeywordError();for(this._skeleton=new Qf;this._reachedEOF&&this.sendEOFError(),a=new mk,a.name=this.parseLiteralString(),a.parentIndex=this.getNextInt(),
b=this.parseVector3D(),b=this._rotationQuat.rotatePoint(b),c=this.parseQuaternion(),this._bindPoses.set(d,c.toMatrix3D()),this._bindPoses.get(d).appendTranslation(b.x,b.y,b.z),b=this._bindPoses.get(d).clone(),b.invert(),a.inverseBindPose=b.rawData,this._skeleton.joints.set(d++,a),a=this.getNextChar(),"/"==a&&(this.putBack(),a=this.getNextToken(),"//"==a&&this.ignoreLine(),a=this.getNextChar()),"}"!=a&&this.putBack(),"}"!=a;);},putBack:function(){this._parseIndex--;this._charLineIndex--;this._reachedEOF=
this._parseIndex>=this._textData.length},parseMesh:function(){var a=null,b=null,c=null,d=null;"{"!=this.getNextToken()&&this.sendUnknownKeywordError();null==this._shaders&&(this._shaders=x.toObjectVector(null));for(;"}"!=a;)switch(a=this.getNextToken(),a){case "//":this.ignoreLine();break;case "numtris":d=x.toIntVector(null,3*this.getNextInt(),!0);break;case "numverts":b=x.toObjectVector(null,this.getNextInt(),!0);break;case "numweights":c=x.toObjectVector(null,this.getNextInt(),!0);break;case "shader":this._shaders.push(this.parseLiteralString());
break;case "tri":this.parseTri(d);break;case "vert":this.parseVertex(b);break;case "weight":this.parseJoint(c)}null==this._meshData&&(this._meshData=x.toObjectVector(null));a=this._meshData.get_length();this._meshData.set(a,new Bq);this._meshData.get(a).vertexData=b;this._meshData.get(a).weightData=c;this._meshData.get(a).indices=d},translateGeom:function(a,b,c){for(var d=a.get_length(),e,f,k,p,w,h,n=new yf(this._maxJointCount),l=x.toFloatVector(null,2*d,!0),g=x.toFloatVector(null,3*d,!0),m=x.toFloatVector(null,
d*this._maxJointCount,!0),r=x.toFloatVector(null,d*this._maxJointCount,!0),q=0,t=0,u=0;u<d;){p=u++;p=a.get(p);e=3*p.index;f=e+1;k=e+2;g.set(e,g.set(f,g.set(k,0)));for(var v=t=0,y=p.countWeight;v<y;)if(w=v++,w=b.get(p.startWeight+w),0<w.bias){h=this._bindPoses.get(w.joint);h=h.transformVector(w.pos);var z=e,B=g;B.set(z,B.get(z)+h.x*w.bias);z=f;B=g;B.set(z,B.get(z)+h.y*w.bias);z=k;B=g;B.set(z,B.get(z)+h.z*w.bias);m.set(q,3*w.joint);r.set(q++,w.bias);++t}e=t;for(f=this._maxJointCount;e<f;)e++,m.set(q,
0),r.set(q++,0);e=p.index<<1;l.set(e++,p.s);l.set(e,p.t)}n.updateIndexData(c);n.fromVectors(g,l,null,null);n.get_vertexNormalData();n.get_vertexTangentData();n.set_autoDeriveVertexTangents(!1);n.set_autoDeriveVertexNormals(!1);n.updateJointIndexData(m);n.updateJointWeightsData(r);return n},parseTri:function(a){var b=3*this.getNextInt();a.set(b,this.getNextInt());a.set(b+1,this.getNextInt());a.set(b+2,this.getNextInt())},parseJoint:function(a){var b=new Cq;b.index=this.getNextInt();b.joint=this.getNextInt();
b.bias=this.getNextNumber();b.pos=this.parseVector3D();a.set(b.index,b)},parseVertex:function(a){var b=new Dq;b.index=this.getNextInt();this.parseUV(b);b.startWeight=this.getNextInt();b.countWeight=this.getNextInt();a.set(b.index,b)},parseUV:function(a){"("!=this.getNextToken()&&this.sendParseError("(");a.s=this.getNextNumber();a.t=this.getNextNumber();")"!=this.getNextToken()&&this.sendParseError(")")},getNextToken:function(){for(var a,b="";!this._reachedEOF;){a=this.getNextChar();if(" "==a||"\r"==
a||"\n"==a||"\t"==a){if("//"!=b&&this.skipWhiteSpace(),""!=b)break}else b+=a;if("//"==b)break}return b},skipWhiteSpace:function(){for(var a;a=this.getNextChar(),"\n"==a||" "==a||"\r"==a||"\t"==a;);this.putBack()},ignoreLine:function(){for(var a=null;!this._reachedEOF&&"\n"!=a;)a=this.getNextChar()},getNextChar:function(){var a=this._textData.charAt(this._parseIndex++);"\n"==a?(++this._line,this._charLineIndex=0):"\r"!=a&&++this._charLineIndex;this._parseIndex>=this._textData.length&&(this._reachedEOF=
!0);return a},getNextInt:function(){var a=h.parseInt(this.getNextToken());isNaN(a)&&this.sendParseError("int type");return a},getNextNumber:function(){var a=parseFloat(this.getNextToken());isNaN(a)&&this.sendParseError("float type");return a},parseVector3D:function(){var a=new C;"("!=this.getNextToken()&&this.sendParseError("(");a.x=-this.getNextNumber();a.y=this.getNextNumber();a.z=this.getNextNumber();")"!=this.getNextToken()&&this.sendParseError(")");return a},parseQuaternion:function(){var a=
new Re;"("!=this.getNextToken()&&this.sendParseError("(");a.x=this.getNextNumber();a.y=-this.getNextNumber();a.z=-this.getNextNumber();var b=1-a.x*a.x-a.y*a.y-a.z*a.z;a.w=0>b?0:-Math.sqrt(b);")"!=this.getNextToken()&&this.sendParseError(")");b=new Re;b.multiply(this._rotationQuat,a);return b},parseCMD:function(){this.parseLiteralString()},parseLiteralString:function(){this.skipWhiteSpace();var a=this.getNextChar(),b="";for('"'!=a&&this.sendParseError('"');this._reachedEOF&&this.sendEOFError(),a=this.getNextChar(),
'"'!=a&&(b+=a),'"'!=a;);return b},sendEOFError:function(){throw new H(new sa("Unexpected end of file"));},sendParseError:function(a){throw new H(new sa("Unexpected token at line "+(this._line+1)+", character "+this._charLineIndex+". "+a+" expected, but "+this._textData.charAt(this._parseIndex-1)+" encountered"));},sendUnknownKeywordError:function(){throw new H(new sa("Unknown keyword at line "+(this._line+1)+", character "+this._charLineIndex+". "));},__class__:Dd});var Dq=function(){};m["away3d.loaders.parsers.VertexData"]=
Dq;Dq.__name__=["away3d","loaders","parsers","VertexData"];Dq.prototype={index:null,s:null,t:null,startWeight:null,countWeight:null,__class__:Dq};var Cq=function(){};m["away3d.loaders.parsers.JointData"]=Cq;Cq.__name__=["away3d","loaders","parsers","JointData"];Cq.prototype={index:null,joint:null,bias:null,pos:null,__class__:Cq};var Bq=function(){};m["away3d.loaders.parsers.MeshData"]=Bq;Bq.__name__=["away3d","loaders","parsers","MeshData"];Bq.prototype={vertexData:null,weightData:null,indices:null,
__class__:Bq};var hi=function(a){null==a&&(a=!1);ub.call(this,"binary");this._useSmoothingGroups=a};m["away3d.loaders.parsers.Max3DSParser"]=hi;hi.__name__=["away3d","loaders","parsers","Max3DSParser"];hi.supportsType=function(a){a=a.toLowerCase();return"3ds"==a};hi.supportsData=function(a){a=Ue.toByteArray(a);return null!=a&&(a.position=0,19789==a.readShort())?!0:!1};hi.__super__=ub;hi.prototype=z(ub.prototype,{_byteData:null,_textures:null,_materials:null,_unfinalized_objects:null,_cur_obj_end:null,
_cur_obj:null,_cur_mat_end:null,_cur_mat:null,_useSmoothingGroups:null,resolveDependency:function(a){if(1==a.get_assets().get_length()){var b=a.get_assets().get(0);if("texture"==b.get_assetType()){var c=this._textures;a=a.get_id();(null!=t[a]?c.getReserved(a):c.h[a]).texture=y.__cast(b,Sc)}}},resolveDependencyFailure:function(a){},startParsing:function(a){ub.prototype.startParsing.call(this,a);this._byteData=Ue.toByteArray(this._data);this._byteData.position=0;this._byteData.__endian=1;this._textures=
new qa;this._materials=new qa;this._unfinalized_objects=new qa},proceedParsing:function(){for(;this.hasTime();){if(null!=this._cur_mat&&Q.gte(this._byteData.position,this._cur_mat_end))this.finalizeCurrentMaterial();else if(null!=this._cur_obj&&this._byteData.position>=this._cur_obj_end){var a=this._cur_obj.name,b=this._cur_obj,c=this._unfinalized_objects;null!=t[a]?c.setReserved(a,b):c.h[a]=b;this._cur_obj_end=Infinity;this._cur_obj=null}a=this._byteData;if(Q.gt(a.length-a.position,0)){a=this._byteData.readUnsignedShort();
b=this._byteData.readUnsignedInt();c=this._byteData.position+(b-6);switch(a){case 15677:case 19789:case 45056:continue;case 16384:this._cur_obj_end=Q.toFloat(c);this._cur_obj=new Eq;this._cur_obj.name=this.readNulTermString();this._cur_obj.materials=x.toObjectVector(null);this._cur_obj.materialFaces=new qa;break;case 16640:this._cur_obj.type="mesh";break;case 16656:this.parseVertexList();break;case 16672:this.parseFaceList();break;case 16688:this.parseFaceMaterialList();break;case 16704:this.parseUVList();
break;case 16720:this.parseSmoothingGroups();break;case 16736:this._cur_obj.transform=this.readTransform();break;case 45055:this._cur_mat_end=c;this._cur_mat=this.parseMaterial();break;case 45058:this.parseObjectAnimation(Q.toFloat(c));break;default:this._byteData.position+=b-6}if(0<this.get_dependencies().get_length()){this.pauseAndRetrieveDependencies();break}}}a=this._byteData;if(Q.gt(a.length-a.position,0)||null!=this._cur_obj||null!=this._cur_mat)return!1;for(a=this._unfinalized_objects.keys();a.hasNext();)b=
a.next(),c=this._unfinalized_objects,c=this.constructObject(null!=t[b]?c.getReserved(b):c.h[b]),null!=c&&this.finalizeAsset(c,b);return!0},parseMaterial:function(){for(var a=new Fq;Q.gt(this._cur_mat_end,this._byteData.position);){var b,c;b=this._byteData.readUnsignedShort();c=this._byteData.readUnsignedInt();c=this._byteData.position+(c-6);switch(b){case 40960:a.name=this.readNulTermString();break;case 40976:a.ambientColor=this.readColor();break;case 40992:a.diffuseColor=this.readColor();break;case 41008:a.specularColor=
this.readColor();break;case 41089:a.twoSided=!0;break;case 41472:a.colorMap=this.parseTexture(c);break;case 41476:a.specularMap=this.parseTexture(c);break;default:this._byteData.position=c}}return a},parseTexture:function(a){for(var b=new Gq;Q.gt(a,this._byteData.position);){var c,d;c=this._byteData.readUnsignedShort();d=this._byteData.readUnsignedInt();41728==c?b.url=this.readNulTermString():this._byteData.position+=d-6}a=b.url;c=this._textures;null!=t[a]?c.setReserved(a,b):c.h[a]=b;this.addDependency(b.url,
new Fe(b.url));return b},parseVertexList:function(){var a,b;a=this._byteData.readUnsignedShort();this._cur_obj.verts=x.toFloatVector(null,3*a,!0);a=0;for(b=this._cur_obj.verts.get_length();Q.gt(b,a);){var c,d,e;c=this._byteData.readFloat();d=this._byteData.readFloat();e=this._byteData.readFloat();this._cur_obj.verts.set(a++,c);this._cur_obj.verts.set(a++,e);this._cur_obj.verts.set(a++,d)}},parseFaceList:function(){var a,b,c=this._byteData.readUnsignedShort();this._cur_obj.indices=x.toIntVector(null,
3*c,!0);a=0;for(b=this._cur_obj.indices.get_length();Q.gt(b,a);){var d,e,f;d=this._byteData.readUnsignedShort();e=this._byteData.readUnsignedShort();f=this._byteData.readUnsignedShort();this._cur_obj.indices.set(a++,d);this._cur_obj.indices.set(a++,f);this._cur_obj.indices.set(a++,e);this._byteData.position+=2}this._cur_obj.smoothingGroups=x.toIntVector(null,c,!0)},parseSmoothingGroups:function(){for(var a=this._cur_obj.indices.get_length()/3|0,b=0;b<a;)this._cur_obj.smoothingGroups.set(b,this._byteData.readUnsignedInt()),
++b},parseUVList:function(){var a,b;a=this._byteData.readUnsignedShort();this._cur_obj.uvs=x.toFloatVector(null,2*a,!0);a=0;for(b=this._cur_obj.uvs.get_length();Q.gt(b,a);)this._cur_obj.uvs.set(a++,this._byteData.readFloat()),this._cur_obj.uvs.set(a++,1-this._byteData.readFloat())},parseFaceMaterialList:function(){var a,b,c;a=this.readNulTermString();b=this._byteData.readUnsignedShort();b=x.toIntVector(null,b,!0);for(c=0;c<b.get_length();)b.set(c++,this._byteData.readUnsignedShort());this._cur_obj.materials.push(a);
c=this._cur_obj.materialFaces;null!=t[a]?c.setReserved(a,b):c.h[a]=b},parseObjectAnimation:function(a){for(var b=null,c=null,d=c=null,c=new C;this._byteData.position<a;){var e,b=this._byteData.readUnsignedShort();e=this._byteData.readUnsignedInt();switch(b){case 45072:d=this.readNulTermString();this._byteData.position+=4;this._byteData.readShort();break;case 45075:c.x=this._byteData.readFloat();c.z=this._byteData.readFloat();c.y=this._byteData.readFloat();break;default:this._byteData.position+=e-
6}}"$$$DUMMY"!=d?(a=this._unfinalized_objects,a=null!=t[d]?a.existsReserved(d):a.h.hasOwnProperty(d)):a=!1;a&&(a=this._unfinalized_objects,b=null!=t[d]?a.getReserved(d):a.h[d],c=this.constructObject(b,c),null!=c&&this.finalizeAsset(c,b.name),this._unfinalized_objects.remove(d))},constructObject:function(a,b){if("mesh"==a.type){var c=null,d=null,e=null,c=d=c=d=null;1<a.materials.get_length()&&tb.trace("The Away3D 3DS parser does not support multiple materials per mesh at this point.");if(null==a.indices||
0==a.indices.get_length())return null;d=x.toObjectVector(null,a.verts.get_length()/3|0,!1);c=x.toObjectVector(null,a.indices.get_length()/3|0,!0);this.prepareData(d,c,a);this._useSmoothingGroups&&this.applySmoothGroups(d,c);a.verts=x.toFloatVector(null,3*d.get_length(),!0);for(var f=0,k=d.get_length();f<k;){var p=f++;a.verts.set(3*p,d.get(p).x);a.verts.set(3*p+1,d.get(p).y);a.verts.set(3*p+2,d.get(p).z)}a.indices=x.toIntVector(null,3*c.get_length(),!0);f=0;for(k=c.get_length();f<k;)p=f++,a.indices.set(3*
p,c.get(p).a),a.indices.set(3*p+1,c.get(p).b),a.indices.set(3*p+2,c.get(p).c);if(null!=a.uvs)for(a.uvs=x.toFloatVector(null,2*d.get_length(),!0),c=0,f=d.get_length();c<f;)k=c++,a.uvs.set(2*k,d.get(k).u),a.uvs.set(2*k+1,d.get(k).v);d=new Zb;c=Te.fromVectors(a.verts,a.indices,a.uvs,null,null,null,null);f=0;for(k=c.get_length();f<k;)p=f++,d.get_subGeometries().push(c.get(p));0<a.materials.get_length()&&(e=a.materials.get(0),c=this._materials,e=(null!=t[e]?c.getReserved(e):c.h[e]).material);null!=b&&
(null!=a.transform&&(c=a.transform.concat(null),c.set(12,0),c.set(13,0),c.set(14,0),c=new Xa(c),b=c.transformVector(b)),b.scaleBy(-1),c=new Xa,c.appendTranslation(b.x,b.y,b.z),d.applyTransformation(c));null!=a.transform&&(c=new Xa(a.transform),c.invert(),d.applyTransformation(c));this.finalizeAsset(d,a.name+"_geom");d=new Pb(d,e);d.set_transform(new Xa(a.transform));return d}return null},prepareData:function(a,b,c){for(var d=0,e=0,f=0,k=c.verts.get_length();d<k;){var p=new Sn;p.x=c.verts.get(d++);
p.y=c.verts.get(d++);p.z=c.verts.get(d++);null!=c.uvs&&(p.u=c.uvs.get(e++),p.v=c.uvs.get(e++));a.set(f++,p)}k=c.indices.get_length();for(f=d=0;d<k;)a=new Hq,a.a=c.indices.get(d++),a.b=c.indices.get(d++),a.c=c.indices.get(d++),a.smoothGroup=c.smoothingGroups.get(f),b.set(f++,a)},applySmoothGroups:function(a,b){for(var c,d,e=a.get_length(),f=b.get_length(),k,p,w,h=x.toObjectVector(null,e,!0),n=0;n<e;)c=n++,h.set(c,x.toIntVector(null));for(n=0;n<f;)for(c=n++,k=b.get(c),d=0;3>d;){c=d++;p=h.get(0==c?k.a:
1==c?k.b:k.c);w=k.smoothGroup;for(c=p.get_length()-1;0<=c;)Q.gt(w&p.get(c),0)&&(w|=p.get(c),p.splice(c,1),c=p.get_length()-1),--c;p.push(w)}n=x.toObjectVector(null,e,!0);for(k=0;k<e;)if(p=k++,d=h.get(p).get_length(),!(1>d))for(c=x.toIntVector(null,d,!0),n.set(p,c),c.set(0,p),p=a.get(p),w=1;w<d;){var l=w++,g=new Sn;g.x=p.x;g.y=p.y;g.z=p.z;g.u=p.u;g.v=p.v;c.set(l,a.get_length());a.push(g)}a.get_length();for(e=0;e<f;)for(c=e++,k=b.get(c),w=k.smoothGroup,l=0;3>l;){g=l++;c=0==g?k.a:1==g?k.b:k.c;p=h.get(c);
d=p.get_length();c=n.get(c);for(var m=0;m<d;){if(0==w&&0==p.get(m)||Q.gt(w&p.get(m),0)){var r=c.get(m);0==w&&(p.splice(m,1),c.splice(m,1));0==g?k.a=r:1==g?k.b=r:k.c=r;m=d}++m}}},finalizeCurrentMaterial:function(){var a;Q.gt(2,this.get_materialMode())?(a=null!=this._cur_mat.colorMap?new Qb(null!=this._cur_mat.colorMap.texture?this._cur_mat.colorMap.texture:Ib.getDefaultTexture()):new Lb(this._cur_mat.diffuseColor),y.__cast(a,Wa).set_ambientColor(this._cur_mat.ambientColor),y.__cast(a,Wa).set_specularColor(this._cur_mat.specularColor)):
(a=null!=this._cur_mat.colorMap?new Lc(null!=this._cur_mat.colorMap.texture?this._cur_mat.colorMap.texture:Ib.getDefaultTexture()):new Ad(this._cur_mat.diffuseColor),y.__cast(a,$a).set_ambientColor(this._cur_mat.ambientColor),y.__cast(a,$a).set_specularColor(this._cur_mat.specularColor));a.set_bothSides(this._cur_mat.twoSided);this.finalizeAsset(a,this._cur_mat.name);var b=this._cur_mat.name,c=this._cur_mat,d=this._materials;null!=t[b]?d.setReserved(b,c):d.h[b]=c;this._cur_mat.material=a;this._cur_mat=
null},readNulTermString:function(){for(var a,b="";;){a=this._byteData.readUnsignedByte();if(!Q.gt(a,0))break;b+=String.fromCharCode(a)}return b},readTransform:function(){var a=x.toFloatVector(null,16,!0);a.set(0,this._byteData.readFloat());a.set(2,this._byteData.readFloat());a.set(1,this._byteData.readFloat());a.set(3,0);a.set(8,this._byteData.readFloat());a.set(10,this._byteData.readFloat());a.set(9,this._byteData.readFloat());a.set(11,0);a.set(4,this._byteData.readFloat());a.set(6,this._byteData.readFloat());
a.set(5,this._byteData.readFloat());a.set(7,0);a.set(12,this._byteData.readFloat());a.set(14,this._byteData.readFloat());a.set(13,this._byteData.readFloat());a.set(15,1);return a},readColor:function(){var a,b,c=0,d=0,e=0;a=this._byteData.readUnsignedShort();b=this._byteData.readUnsignedInt();switch(a){case 16:c=255*this._byteData.readFloat()|0;d=255*this._byteData.readFloat()|0;e=255*this._byteData.readFloat()|0;break;case 17:c=this._byteData.readUnsignedByte();d=this._byteData.readUnsignedByte();
e=this._byteData.readUnsignedByte();break;default:this._byteData.position+=b-6}return c<<16|d<<8|e},__class__:hi});var Gq=function(){};m["away3d.loaders.parsers.TextureVO"]=Gq;Gq.__name__=["away3d","loaders","parsers","TextureVO"];Gq.prototype={url:null,texture:null,__class__:Gq};var Fq=function(){};m["away3d.loaders.parsers.MaterialVO"]=Fq;Fq.__name__=["away3d","loaders","parsers","MaterialVO"];Fq.prototype={name:null,ambientColor:null,diffuseColor:null,specularColor:null,twoSided:null,colorMap:null,
specularMap:null,material:null,__class__:Fq};var Eq=function(){};m["away3d.loaders.parsers.ObjectVO"]=Eq;Eq.__name__=["away3d","loaders","parsers","ObjectVO"];Eq.prototype={name:null,type:null,pivotX:null,pivotY:null,pivotZ:null,transform:null,verts:null,indices:null,uvs:null,materialFaces:null,materials:null,smoothingGroups:null,__class__:Eq};var Sn=function(){};m["away3d.loaders.parsers.VertexVO"]=Sn;Sn.__name__=["away3d","loaders","parsers","VertexVO"];Sn.prototype={x:null,y:null,z:null,u:null,
v:null,normal:null,tangent:null,__class__:Sn};var Hq=function(){};m["away3d.loaders.parsers.FaceVO"]=Hq;Hq.__name__=["away3d","loaders","parsers","FaceVO"];Hq.prototype={a:null,b:null,c:null,smoothGroup:null,__class__:Hq};var jj=function(a){null==a&&(a=1);this._activeMaterialID="";this._mtlLibLoaded=!0;ub.call(this,"plainText");this._scale=a};m["away3d.loaders.parsers.OBJParser"]=jj;jj.__name__=["away3d","loaders","parsers","OBJParser"];jj.supportsType=function(a){a=a.toLowerCase();return"obj"==a};
jj.supportsData=function(a){a=Ue.toString(a);var b=!1,c=!1;null!=a&&(b=-1!=a.indexOf("\nv "),c=-1!=a.indexOf("\nf "));return b?c:!1};jj.__super__=ub;jj.prototype=z(ub.prototype,{_textData:null,_startedParsing:null,_charIndex:null,_oldIndex:null,_stringLength:null,_currentObject:null,_currentGroup:null,_currentMaterialGroup:null,_objects:null,_materialIDs:null,_materialLoaded:null,_materialSpecularData:null,_meshes:null,_lastMtlID:null,_objectIndex:null,_realIndices:null,_vertexIndex:null,_vertices:null,
_vertexNormals:null,_uvs:null,_scale:null,_mtlLib:null,_mtlLibLoaded:null,_activeMaterialID:null,scale:null,set_scale:function(a){return this._scale=a},resolveDependency:function(a){if("mtl"==a.get_id())a=Ue.toString(a.get_data()),this.parseMtl(a);else{var b;if(1==a.get_assets().get_length()&&(b=a.get_assets().get(0),"texture"==b.get_assetType())){var c=new $k;c.materialID=a.get_id();c.texture=y.__cast(b,Sc);this._materialLoaded.push(c);0<this._meshes.get_length()&&this.applyMaterial(c)}}},resolveDependencyFailure:function(a){var b=
null;"mtl"==a.get_id()?this._mtlLibLoaded=this._mtlLib=!1:(b=new $k,b.materialID=a.get_id(),this._materialLoaded.push(b));0<this._meshes.get_length()&&this.applyMaterial(b)},proceedParsing:function(){var a,b="\n";this._startedParsing||(this._textData=this.getTextData(),this._textData=this._textData.replace(RegExp("\\\\[\r\n]+\\s*","gm")," "));-1==this._textData.indexOf(b)&&(b="\r");this._startedParsing||(this._startedParsing=!0,this._vertices=x.toObjectVector(null),this._vertexNormals=x.toObjectVector(null),
this._materialIDs=x.toObjectVector(null),this._materialLoaded=x.toObjectVector(null),this._meshes=x.toObjectVector(null),this._uvs=x.toObjectVector(null),this._stringLength=this._textData.length,this._charIndex=this._textData.indexOf(b,0),this._oldIndex=0,this._objects=x.toObjectVector(null),this._objectIndex=0);for(;this._charIndex<this._stringLength&&this.hasTime();)if(this._charIndex=this._textData.indexOf(b,this._oldIndex),-1==this._charIndex&&(this._charIndex=this._stringLength),a=this._textData.substring(this._oldIndex,
this._charIndex),a=a.split("\r").join(""),a=Da.replace(a,"  "," "),a=a.split(" "),this._oldIndex=this._charIndex+1,this.parseLine(a),this.get_parsingPaused())return!1;if(this._charIndex>=this._stringLength){if(this._mtlLib&&!this._mtlLibLoaded)return!1;this.translate();this.applyMaterials();return!0}return!1},parseLine:function(a){switch(a[0]){case "f":this.parseFace(a);break;case "g":this.createGroup(a);break;case "mtllib":this._mtlLib=!0;this._mtlLibLoaded=!1;this.loadMtl(a[1]);break;case "o":this.createObject(a);
break;case "usemtl":this._mtlLib&&(""!=a[1]&&(a[1]="def000"),this._materialIDs.push(a[1]),this._activeMaterialID=a[1],null!=this._currentGroup&&(this._currentGroup.materialID=this._activeMaterialID));break;case "v":this.parseVertex(a);break;case "vn":this.parseVertexNormal(a);break;case "vt":this.parseUV(a)}},translate:function(){for(var a=0,b=this._objects.get_length();a<b;)for(var c=a++,d=this._objects.get(c).groups,e,f,k,p=0,w=d.get_length();p<w;){var h=p++;k=new Zb;e=d.get(h).materialGroups;f=
e.get_length();for(var n=0;n<f;){var l=n++;this.translateMaterialGroup(e.get(l),k)}if(0!=k.get_subGeometries().get_length()){this.finalizeAsset(k,"");e=Q.gt(2,this.get_materialMode())?new Qb(Ib.getDefaultTexture()):new Lc(Ib.getDefaultTexture());k=new Pb(k,e);null!=this._objects.get(c).name?k.set_name(this._objects.get(c).name):null!=d.get(h).name?k.set_name(d.get(h).name):k.set_name("");this._meshes.push(k);""!=d.get(h).materialID?e.set_name(d.get(h).materialID+"~"+k.get_name()):e.set_name(this._lastMtlID+
"~"+k.get_name());if(1<k.get_subMeshes().get_length())for(h=1,n=k.get_subMeshes().get_length();h<n;)f=h++,k.get_subMeshes().get(f).set_material(e);this.finalizeAsset(k)}}},translateMaterialGroup:function(a,b){var c=a.faces,d,e=c.get_length(),f,k=x.toFloatVector(null),p=x.toFloatVector(null),w=x.toFloatVector(null),h=x.toIntVector(null);this._realIndices=new qa;for(var n=this._vertexIndex=0;n<e;){d=n++;d=c.get(d);f=d.indexIds.get_length()-1;for(var l=1;l<f;){var g=l++;this.translateVertexData(d,g,
k,p,h,w);this.translateVertexData(d,0,k,p,h,w);this.translateVertexData(d,g+1,k,p,h,w)}}if(0<k.get_length())for(c=Te.fromVectors(k,h,p,w,null,null,null),e=0,k=c.get_length();e<k;)p=e++,b.addSubGeometry(c.get(p))},translateVertexData:function(a,b,c,d,e,f){var k,p,w;k=this._realIndices;p=a.indexIds.get(b);if(null!=t[p]?k.existsReserved(p):k.h.hasOwnProperty(p))d=this._realIndices,a=a.indexIds.get(b),k=(null!=t[a]?d.getReserved(a):d.h[a])-1;else{k=this._vertexIndex;p=this._realIndices;var h=a.indexIds.get(b),
n=++this._vertexIndex;null!=t[h]?p.setReserved(h,n):p.h[h]=n;p=this._vertices.get(a.vertexIndices.get(b)-1);c.push(p.get_x()*this._scale);c.push(p.get_y()*this._scale);c.push(p.get_z()*this._scale);0<a.normalIndices.get_length()&&(c=this._vertexNormals.get(a.normalIndices.get(b)-1),f.push(c.get_x()),f.push(c.get_y()),f.push(c.get_z()));if(0<a.uvIndices.get_length())try{w=this._uvs.get(a.uvIndices.get(b)-1),d.push(w.get_u()),d.push(w.get_v())}catch(l){if(Qa.lastException=l,l instanceof H&&(l=l.val),
y.__instanceof(l,sa))switch(b){case 0:d.push(0);d.push(1);break;case 1:d.push(.5);d.push(0);break;case 2:d.push(1),d.push(1)}else throw l;}}e.push(k)},createObject:function(a){this._currentMaterialGroup=this._currentGroup=null;this._objects.push(this._currentObject=new Iq);null!=a&&(this._currentObject.name=a[1])},createGroup:function(a){null==this._currentObject&&this.createObject(null);this._currentGroup=new Jq;this._currentGroup.materialID=this._activeMaterialID;null!=a&&(this._currentGroup.name=
a[1]);this._currentObject.groups.push(this._currentGroup);this.createMaterialGroup(null)},createMaterialGroup:function(a){this._currentMaterialGroup=new Kq;null!=a&&(this._currentMaterialGroup.url=a[1]);this._currentGroup.materialGroups.push(this._currentMaterialGroup)},parseVertex:function(a){if(4<a.length){for(var b=[],c,d=1,e=a.length;d<e;)c=d++,c=parseFloat(a[c]),isNaN(c)||b.push(c);this._vertices.push(new jh(b[0],b[1],-b[2]))}else this._vertices.push(new jh(parseFloat(a[1]),parseFloat(a[2]),
-parseFloat(a[3])))},parseUV:function(a){if(3<a.length){for(var b=[],c,d=1,e=a.length;d<e;)c=d++,c=parseFloat(a[c]),isNaN(c)||b.push(c);this._uvs.push(new ih(b[0],1-b[1]))}else this._uvs.push(new ih(parseFloat(a[1]),1-parseFloat(a[2])))},parseVertexNormal:function(a){if(4<a.length){for(var b=[],c,d=1,e=a.length;d<e;)c=d++,c=parseFloat(a[c]),isNaN(c)||b.push(c);this._vertexNormals.push(new jh(b[0],b[1],-b[2]))}else this._vertexNormals.push(new jh(parseFloat(a[1]),parseFloat(a[2]),-parseFloat(a[3])))},
parseFace:function(a){var b=a.length,c=new Lq;null==this._currentGroup&&this.createGroup(null);for(var d,e=1;e<b;){var f=e++;""!=a[f]&&(d=a[f].split("/"),c.vertexIndices.push(this.parseIndex(h.parseInt(d[0]),this._vertices.get_length())),null!=d[1]&&0<d[1].length&&c.uvIndices.push(this.parseIndex(h.parseInt(d[1]),this._uvs.get_length())),null!=d[2]&&0<d[2].length&&c.normalIndices.push(this.parseIndex(h.parseInt(d[2]),this._vertexNormals.get_length())),c.indexIds.push(a[f]))}this._currentMaterialGroup.faces.push(c)},
parseIndex:function(a,b){return 0>a?a+b+1:a},parseMtl:function(a){a=a.split("newmtl");for(var b,c,d,e,f,k,p,w,h,n,l=0,g=a.length;l<g;){h=l++;b=a[h].split("\r").join("").split("\n");1==b.length&&(b=a[h].split("\r"));f=k=p=16777215;w=0;e=d=!1;h=1;n="";for(var m=0,r=b.length;m<r;){var q=m++;b[q]=b[q].replace(/\s+$/,"");if("#"!=b[q].substring(0,1)&&(0==q||""!=b[q])){c=b[q].split(" ");if(9==da.cca(c[0],0)||32==da.cca(c[0],0))c[0]=c[0].substring(1,c[0].length);if(0==q)this._lastMtlID=c.join(""),this._lastMtlID=
""==this._lastMtlID?"def000":this._lastMtlID;else switch(c[0]){case "Ka":""==c[1]||isNaN(parseFloat(c[1]))||""==c[2]||isNaN(parseFloat(c[2]))||""==c[3]||isNaN(parseFloat(c[3]))||(k=this.toColor(c[1],c[2],c[3]));break;case "Kd":""==c[1]||isNaN(parseFloat(c[1]))||""==c[2]||isNaN(parseFloat(c[2]))||""==c[3]||isNaN(parseFloat(c[3]))||(f=this.toColor(c[1],c[2],c[3]),e=!0);break;case "Ks":""==c[1]||isNaN(parseFloat(c[1]))||""==c[2]||isNaN(parseFloat(c[2]))||""==c[3]||isNaN(parseFloat(c[3]))||(p=this.toColor(c[1],
c[2],c[3]),d=!0);break;case "Ns":""==c[1]||isNaN(parseFloat(c[1]))||(w=.001*parseFloat(c[1]));0==w&&(d=!1);break;case "d":case "tr":""==c[1]||isNaN(parseFloat(c[1]))||(h=parseFloat(c[1]));break;case "map_Kd":n=this.parseMapKdString(c),n=Da.replace(n,"\\","/")}}}""!=n?(d&&(d=new Vc,d.set_specularColor(p),d.set_specular(w),p=new Mq,p.alpha=h,p.basicSpecularMethod=d,p.materialID=this._lastMtlID,null==this._materialSpecularData&&(this._materialSpecularData=x.toObjectVector(null)),this._materialSpecularData.push(p)),
this.addDependency(this._lastMtlID,new Fe(n))):e&&!isNaN(Q.toFloat(f))&&(n=new $k,n.materialID=this._lastMtlID,0==h&&tb.trace("Warning: an alpha value of 0 was found in mtl color tag (Tr or d) ref:"+this._lastMtlID+", mesh(es) using it will be invisible!"),Q.gt(2,this.get_materialMode())?(b=new Lb(f),y.__cast(b,Lb).set_alpha(h),y.__cast(b,Lb).set_ambientColor(k),y.__cast(b,Lb).set_repeat(!0),d&&(y.__cast(b,Lb).set_specularColor(p),y.__cast(b,Lb).set_specular(w))):(b=new Ad(f),y.__cast(b,Ad).set_ambientColor(k),
y.__cast(b,Ad).set_repeat(!0),d&&(y.__cast(b,Ad).set_specularColor(p),y.__cast(b,Ad).set_specular(w))),n.cm=b,this._materialLoaded.push(n),0<this._meshes.get_length()&&this.applyMaterial(n))}this._mtlLibLoaded=!0},toColor:function(a,b,c){return(255*parseFloat(a)|0)<<16|(255*parseFloat(b)|0)<<8|255*parseFloat(c)|0},parseMapKdString:function(a){var b="",c,d=!1;for(c=1;c<a.length;){switch(a[c]){case "-blendu":case "-blendv":case "-cc":case "-clamp":case "-texres":c+=2;break;case "-mm":c+=3;break;case "-o":case "-s":case "-t":c+=
4;continue;default:d=!0}if(d)break}for(;c<a.length;)b+=a[c],b+=" ",++c;return b=b.replace(/\s+$/,"")},loadMtl:function(a){this.addDependency("mtl",new Fe(a),!0);this.pauseAndRetrieveDependencies()},applyMaterial:function(a){for(var b=null,c=null,d=null,e=null,f=0;f<this._meshes.get_length();){c=this._meshes.get(f);b=c.get_material().get_name().split("~");if(b[0]==a.materialID){if(null!=a.cm)null!=c.get_material()&&c.set_material(null),c.set_material(a.cm);else if(null!=a.texture)if(Q.gt(2,this.get_materialMode()))if(d=
y.__cast(c.get_material(),Qb),y.__cast(d,Qb).set_texture(a.texture),y.__cast(d,Qb).set_ambientColor(a.ambientColor),y.__cast(d,Qb).set_alpha(a.alpha),y.__cast(d,Qb).set_repeat(!0),null!=a.specularMethod)y.__cast(d,Qb).set_specularMethod(null),y.__cast(d,Qb).set_specularMethod(a.specularMethod);else{if(null!=this._materialSpecularData)for(var k=0,p=this._materialSpecularData.get_length();k<p;)if(e=k++,e=this._materialSpecularData.get(e),e.materialID==a.materialID){y.__cast(d,Qb).set_specularMethod(null);
y.__cast(d,Qb).set_specularMethod(e.basicSpecularMethod);y.__cast(d,Qb).set_ambientColor(e.ambientColor);y.__cast(d,Qb).set_alpha(e.alpha);break}}else if(d=y.__cast(c.get_material(),Lc),y.__cast(d,Lc).set_texture(a.texture),y.__cast(d,Lc).set_ambientColor(a.ambientColor),y.__cast(d,Lc).set_repeat(!0),null!=a.specularMethod)y.__cast(d,Lc).set_specularMethod(null),y.__cast(d,Lc).set_specularMethod(a.specularMethod);else if(null!=this._materialSpecularData)for(k=0,p=this._materialSpecularData.get_length();k<
p;)if(e=k++,e=this._materialSpecularData.get(e),e.materialID==a.materialID){y.__cast(d,Lc).set_specularMethod(null);y.__cast(d,Lc).set_specularMethod(e.basicSpecularMethod);y.__cast(d,Lc).set_ambientColor(e.ambientColor);break}b=""!=b[1]?b[1]:b[0];c.get_material().set_name(b);this._meshes.splice(f,1);--f}++f}null==a.cm&&null==d||this.finalizeAsset(null!=a.cm?a.cm:d)},applyMaterials:function(){if(0!=this._materialLoaded.get_length())for(var a=0,b=this._materialLoaded.get_length();a<b;){var c=a++;this.applyMaterial(this._materialLoaded.get(c))}},
__class__:jj,__properties__:z(ub.prototype.__properties__,{set_scale:"set_scale"})});var Iq=function(){this.groups=x.toObjectVector(null)};m["away3d.loaders.parsers.ObjectGroup"]=Iq;Iq.__name__=["away3d","loaders","parsers","ObjectGroup"];Iq.prototype={name:null,groups:null,__class__:Iq};var Jq=function(){this.materialGroups=x.toObjectVector(null)};m["away3d.loaders.parsers.Group"]=Jq;Jq.__name__=["away3d","loaders","parsers","Group"];Jq.prototype={name:null,materialID:null,materialGroups:null,__class__:Jq};
var Kq=function(){this.faces=x.toObjectVector(null)};m["away3d.loaders.parsers.MaterialGroup"]=Kq;Kq.__name__=["away3d","loaders","parsers","MaterialGroup"];Kq.prototype={url:null,faces:null,__class__:Kq};var Mq=function(){this.alpha=1;this.ambientColor=16777215};m["away3d.loaders.parsers.SpecularData"]=Mq;Mq.__name__=["away3d","loaders","parsers","SpecularData"];Mq.prototype={materialID:null,basicSpecularMethod:null,ambientColor:null,alpha:null,__class__:Mq};var $k=function(){this.alpha=1;this.ambientColor=
16777215};m["away3d.loaders.parsers.LoadedMaterial"]=$k;$k.__name__=["away3d","loaders","parsers","LoadedMaterial"];$k.prototype={materialID:null,texture:null,cm:null,specularMethod:null,ambientColor:null,alpha:null,__class__:$k};var Lq=function(){this.indexIds=x.toObjectVector(null);this.normalIndices=x.toIntVector(null);this.uvIndices=x.toIntVector(null);this.vertexIndices=x.toIntVector(null)};m["away3d.loaders.parsers.FaceData"]=Lq;Lq.__name__=["away3d","loaders","parsers","FaceData"];Lq.prototype=
{vertexIndices:null,uvIndices:null,normalIndices:null,indexIds:null,__class__:Lq};var ts=function(){};m["away3d.loaders.parsers.ParserDataFormat"]=ts;ts.__name__=["away3d","loaders","parsers","ParserDataFormat"];var Zl=function(){};m["away3d.loaders.parsers.Parsers"]=Zl;Zl.__name__=["away3d","loaders","parsers","Parsers"];Zl.enableAllBundled=function(){dc.enableParsers(Zl.ALL_BUNDLED)};var Ue=function(){};m["away3d.loaders.parsers.utils.ParserUtil"]=Ue;Ue.__name__=["away3d","loaders","parsers","utils",
"ParserUtil"];Ue.toByteArray=function(a){y.__instanceof(a,Xh)&&(a=La.createInstance(a,[]));return y.__instanceof(a,lc)?a:null};Ue.toString=function(a,b){null==b&&(b=0);var c;0==b&&(b=-1);if("string"==typeof a)return da.substr(a,0,Math.min(Q.toFloat(b),a.length)|0);c=Ue.toByteArray(a);return null!=c?(c.position=0,c.readUTFBytes(Math.min(Q.toFloat(c.length-c.position),Q.toFloat(b))|0)):null};var xb=function(){this._depthCompareMode=5;this._anisotropy=1;this._mipmap=this._smooth=!0;this._numPasses=0;
this._blendMode=10;this._owners=x.toObjectVector(null);this._passes=x.toObjectVector(null);this._depthPass=new Tn;this._distancePass=new Un;this._depthPass.addEventListener("change",u(this,this.onDepthPassChange));this._distancePass.addEventListener("change",u(this,this.onDistancePassChange));this.set_alphaPremultiplied(!0);this._uniqueId=xb.MATERIAL_ID_COUNT++;Ka.call(this)};m["away3d.materials.MaterialBase"]=xb;xb.__name__=["away3d","materials","MaterialBase"];xb.__interfaces__=[bd];xb.__super__=
Ka;xb.prototype=z(Ka.prototype,{extra:null,_classification:null,_uniqueId:null,_renderOrderId:null,_depthPassId:null,_bothSides:null,_animationSet:null,_owners:null,_alphaPremultiplied:null,_blendMode:null,_numPasses:null,_passes:null,_mipmap:null,_smooth:null,_repeat:null,_anisotropy:null,_depthPass:null,_distancePass:null,_lightPicker:null,_distanceBasedDepthRender:null,_depthCompareMode:null,get_assetType:function(){return"material"},get_lightPicker:function(){return this._lightPicker},set_lightPicker:function(a){if(a!=
this._lightPicker){this._lightPicker=a;for(var b=0,c=this._passes.get_length();b<c;){var d=b++;this._passes.get(d).set_lightPicker(this._lightPicker)}}return a},get_mipmap:function(){return this._mipmap},set_mipmap:function(a){this._mipmap=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_mipmap(a)}return a},get_smooth:function(){return this._smooth},set_smooth:function(a){this._smooth=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_smooth(a)}return a},
get_depthCompareMode:function(){return this._depthCompareMode},set_depthCompareMode:function(a){return this._depthCompareMode=a},get_repeat:function(){return this._repeat},set_repeat:function(a){this._repeat=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_repeat(a)}return a},get_anisotropy:function(){return this._anisotropy},set_anisotropy:function(a){this._anisotropy=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_anisotropy(this._anisotropy)}return a},
dispose:function(){for(var a=0,b=this._numPasses;a<b;){var c=a++;this._passes.get(c).dispose()}this._depthPass.dispose();this._distancePass.dispose();this._depthPass.removeEventListener("change",u(this,this.onDepthPassChange));this._distancePass.removeEventListener("change",u(this,this.onDistancePassChange))},get_bothSides:function(){return this._bothSides},set_bothSides:function(a){this._bothSides=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_bothSides(a)}this._depthPass.set_bothSides(a);
this._distancePass.set_bothSides(a);return a},get_blendMode:function(){return this._blendMode},set_blendMode:function(a){return this._blendMode=a},get_alphaPremultiplied:function(){return this._alphaPremultiplied},set_alphaPremultiplied:function(a){this._alphaPremultiplied=a;for(var b=0,c=this._numPasses;b<c;){var d=b++;this._passes.get(d).set_alphaPremultiplied(a)}return a},get_requiresBlending:function(){return 10!=this._blendMode},get_uniqueId:function(){return this._uniqueId},get_numPasses:function(){return this._numPasses},
hasDepthAlphaThreshold:function(){return 0<this._depthPass.get_alphaThreshold()},activateForDepth:function(a,b,c){null==c&&(c=!1);(this._distanceBasedDepthRender=c)?this._distancePass.activate(a,b):this._depthPass.activate(a,b)},deactivateForDepth:function(a){this._distanceBasedDepthRender?this._distancePass.deactivate(a):this._depthPass.deactivate(a)},renderDepth:function(a,b,c,d){this._distanceBasedDepthRender?(null!=a.get_animator()&&this._distancePass.updateAnimationState(a,b,c),this._distancePass.render(a,
b,c,d)):(null!=a.get_animator()&&this._depthPass.updateAnimationState(a,b,c),this._depthPass.render(a,b,c,d))},passRendersToTexture:function(a){return this._passes.get(a).get_renderToTexture()},activatePass:function(a,b,c){this._passes.get(a).activate(b,c)},deactivatePass:function(a,b){this._passes.get(a).deactivate(b)},renderPass:function(a,b,c,d,e){null!=this._lightPicker&&this._lightPicker.collectLights(b,d);a=this._passes.get(a);null!=b.get_animator()&&a.updateAnimationState(b,c,d.get_camera());
a.render(b,c,d.get_camera(),e)},addOwner:function(a){this._owners.push(a);if(null!=a.get_animator()){if(null!=this._animationSet&&a.get_animator().get_animationSet()!=this._animationSet)throw new H(new sa("A Material instance cannot be shared across renderables with different animator libraries"));if(this._animationSet!=a.get_animator().get_animationSet()){this._animationSet=a.get_animator().get_animationSet();a=0;for(var b=this._numPasses;a<b;){var c=a++;this._passes.get(c).set_animationSet(this._animationSet)}this._depthPass.set_animationSet(this._animationSet);
this._distancePass.set_animationSet(this._animationSet);this.invalidatePasses(null)}}},removeOwner:function(a){this._owners.splice(this._owners.indexOf(a,0),1);if(0==this._owners.get_length()){this._animationSet=null;a=0;for(var b=this._numPasses;a<b;){var c=a++;this._passes.get(c).set_animationSet(this._animationSet)}this._depthPass.set_animationSet(this._animationSet);this._distancePass.set_animationSet(this._animationSet);this.invalidatePasses(null)}},get_owners:function(){return this._owners},
updateMaterial:function(a){},deactivate:function(a){this._passes.get(this._numPasses-1).deactivate(a)},invalidatePasses:function(a){this._depthPass.invalidateShaderProgram();this._distancePass.invalidateShaderProgram();if(null!=this._animationSet){this._animationSet.resetGPUCompatibility();for(var b=0,c=this._owners;b<c.get_length();){var d=c.get(b);++b;null!=d.get_animator()&&(d.get_animator().testGPUCompatibility(this._depthPass),d.get_animator().testGPUCompatibility(this._distancePass))}}b=0;for(c=
this._numPasses;b<c;)if(d=b++,this._passes.get(d)!=a&&this._passes.get(d).invalidateShaderProgram(!1),null!=this._animationSet)for(var e=0,f=this._owners;e<f.get_length();){var k=f.get(e);++e;null!=k.get_animator()&&k.get_animator().testGPUCompatibility(this._passes.get(d))}},removePass:function(a){this._passes.splice(this._passes.indexOf(a,0),1);--this._numPasses},clearPasses:function(){for(var a=0,b=this._numPasses;a<b;){var c=a++;this._passes.get(c).removeEventListener("change",u(this,this.onPassChange))}this._passes.set_length(0);
this._numPasses=0},addPass:function(a){this._passes.set(this._numPasses++,a);a.set_animationSet(this._animationSet);a.set_alphaPremultiplied(this._alphaPremultiplied);a.set_mipmap(this._mipmap);a.set_smooth(this._smooth);a.set_repeat(this._repeat);a.set_anisotropy(this._anisotropy);a.set_lightPicker(this._lightPicker);a.set_bothSides(this._bothSides);a.addEventListener("change",u(this,this.onPassChange));this.invalidatePasses(null)},onPassChange:function(a){a=1;for(var b,c,d=this._renderOrderId=0,
e=this._numPasses;d<e;){b=d++;b=this._passes.get(b)._program3Dids;c=b.get_length();for(var f=0;f<c;){var k=f++;if(-1!=b.get(k)){this._renderOrderId+=a*b.get(k)|0;break}}a*=1E3}},onDistancePassChange:function(a){a=this._distancePass._program3Dids;for(var b=a.get_length(),c=this._depthPassId=0;c<b;){var d=c++;if(-1!=a.get(d)){this._depthPassId+=a.get(d);break}}},onDepthPassChange:function(a){a=this._depthPass._program3Dids;for(var b=a.get_length(),c=this._depthPassId=0;c<b;){var d=c++;if(-1!=a.get(d)){this._depthPassId+=
a.get(d);break}}},__class__:xb,__properties__:z(Ka.prototype.__properties__,{get_owners:"get_owners",get_numPasses:"get_numPasses",get_uniqueId:"get_uniqueId",get_requiresBlending:"get_requiresBlending",set_alphaPremultiplied:"set_alphaPremultiplied",get_alphaPremultiplied:"get_alphaPremultiplied",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_bothSides:"set_bothSides",get_bothSides:"get_bothSides",set_anisotropy:"set_anisotropy",get_anisotropy:"get_anisotropy",set_repeat:"set_repeat",
get_repeat:"get_repeat",set_depthCompareMode:"set_depthCompareMode",get_depthCompareMode:"get_depthCompareMode",set_smooth:"set_smooth",get_smooth:"get_smooth",set_mipmap:"set_mipmap",get_mipmap:"get_mipmap",set_lightPicker:"set_lightPicker",get_lightPicker:"get_lightPicker",get_assetType:"get_assetType"})});var Wa=function(){xb.call(this);this.addPass(this._screenPass=new ii(this))};m["away3d.materials.SinglePassMaterialBase"]=Wa;Wa.__name__=["away3d","materials","SinglePassMaterialBase"];Wa.__super__=
xb;Wa.prototype=z(xb.prototype,{_screenPass:null,_alphaBlending:null,get_enableLightFallOff:function(){return this._screenPass.get_enableLightFallOff()},set_enableLightFallOff:function(a){this._screenPass.set_enableLightFallOff(a);return a},get_alphaThreshold:function(){return this._screenPass.get_diffuseMethod().get_alphaThreshold()},set_alphaThreshold:function(a){this._screenPass.get_diffuseMethod().set_alphaThreshold(a);this._depthPass.set_alphaThreshold(a);this._distancePass.set_alphaThreshold(a);
return a},set_blendMode:function(a){xb.prototype.set_blendMode.call(this,a);this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());return a},set_depthCompareMode:function(a){xb.prototype.set_depthCompareMode.call(this,a);this._screenPass.set_depthCompareMode(a);return a},activateForDepth:function(a,b,c){null==c&&(c=!1);c?this._distancePass.set_alphaMask(this._screenPass.get_diffuseMethod().get_texture()):this._depthPass.set_alphaMask(this._screenPass.get_diffuseMethod().get_texture());
xb.prototype.activateForDepth.call(this,a,b,c)},get_specularLightSources:function(){return this._screenPass.get_specularLightSources()},set_specularLightSources:function(a){this._screenPass.set_specularLightSources(a);return a},get_diffuseLightSources:function(){return this._screenPass.get_diffuseLightSources()},set_diffuseLightSources:function(a){this._screenPass.set_diffuseLightSources(a);return a},get_requiresBlending:function(){return xb.prototype.get_requiresBlending.call(this)||this._alphaBlending?
!0:null!=this._screenPass.get_colorTransform()?1>this._screenPass.get_colorTransform().alphaMultiplier:!1},get_colorTransform:function(){return this._screenPass.get_colorTransform()},set_colorTransform:function(a){this._screenPass.set_colorTransform(a);return a},get_ambientMethod:function(){return this._screenPass.get_ambientMethod()},set_ambientMethod:function(a){this._screenPass.set_ambientMethod(a);return a},get_shadowMethod:function(){return this._screenPass.get_shadowMethod()},set_shadowMethod:function(a){this._screenPass.set_shadowMethod(a);
return a},get_diffuseMethod:function(){return this._screenPass.get_diffuseMethod()},set_diffuseMethod:function(a){this._screenPass.set_diffuseMethod(a);return a},get_normalMethod:function(){return this._screenPass.get_normalMethod()},set_normalMethod:function(a){this._screenPass.set_normalMethod(a);return a},get_specularMethod:function(){return this._screenPass.get_specularMethod()},set_specularMethod:function(a){this._screenPass.set_specularMethod(a);return a},addMethod:function(a){this._screenPass.addMethod(a)},
get_numMethods:function(){return this._screenPass.get_numMethods()},hasMethod:function(a){return this._screenPass.hasMethod(a)},getMethodAt:function(a){return this._screenPass.getMethodAt(a)},addMethodAt:function(a,b){this._screenPass.addMethodAt(a,b)},removeMethod:function(a){this._screenPass.removeMethod(a)},set_mipmap:function(a){if(this._mipmap==a)return a;xb.prototype.set_mipmap.call(this,a);return a},get_normalMap:function(){return this._screenPass.get_normalMap()},set_normalMap:function(a){this._screenPass.set_normalMap(a);
return a},get_specularMap:function(){return this._screenPass.get_specularMethod().get_texture()},set_specularMap:function(a){if(null!=this._screenPass.get_specularMethod())this._screenPass.get_specularMethod().set_texture(a);else throw new H(new sa("No specular method was set to assign the specularGlossMap to"));return a},get_gloss:function(){return null!=this._screenPass.get_specularMethod()?this._screenPass.get_specularMethod().get_gloss():0},set_gloss:function(a){null!=this._screenPass.get_specularMethod()&&
this._screenPass.get_specularMethod().set_gloss(a);return a},get_ambient:function(){return this._screenPass.get_ambientMethod().get_ambient()},set_ambient:function(a){this._screenPass.get_ambientMethod().set_ambient(a);return a},get_specular:function(){return null!=this._screenPass.get_specularMethod()?this._screenPass.get_specularMethod().get_specular():0},set_specular:function(a){null!=this._screenPass.get_specularMethod()&&this._screenPass.get_specularMethod().set_specular(a);return a},get_ambientColor:function(){return this._screenPass.get_ambientMethod().get_ambientColor()},
set_ambientColor:function(a){this._screenPass.get_ambientMethod().set_ambientColor(a);return a},get_specularColor:function(){return this._screenPass.get_specularMethod().get_specularColor()},set_specularColor:function(a){this._screenPass.get_specularMethod().set_specularColor(a);return a},get_alphaBlending:function(){return this._alphaBlending},set_alphaBlending:function(a){this._alphaBlending=a;this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());
this._screenPass.set_preserveAlpha(this.get_requiresBlending());return a},updateMaterial:function(a){if(this._screenPass._passesDirty){this.clearPasses();if(null!=this._screenPass._passes){a=0;for(var b=this._screenPass._passes.get_length();a<b;){var c=a++;this.addPass(this._screenPass._passes.get(c))}}this.addPass(this._screenPass);this._screenPass._passesDirty=!1}},set_lightPicker:function(a){xb.prototype.set_lightPicker.call(this,a);this._screenPass.set_lightPicker(a);return a},__class__:Wa,__properties__:z(xb.prototype.__properties__,
{set_alphaBlending:"set_alphaBlending",get_alphaBlending:"get_alphaBlending",set_specularColor:"set_specularColor",get_specularColor:"get_specularColor",set_ambientColor:"set_ambientColor",get_ambientColor:"get_ambientColor",set_specular:"set_specular",get_specular:"get_specular",set_ambient:"set_ambient",get_ambient:"get_ambient",set_gloss:"set_gloss",get_gloss:"get_gloss",set_specularMap:"set_specularMap",get_specularMap:"get_specularMap",set_normalMap:"set_normalMap",get_normalMap:"get_normalMap",
get_numMethods:"get_numMethods",set_specularMethod:"set_specularMethod",get_specularMethod:"get_specularMethod",set_normalMethod:"set_normalMethod",get_normalMethod:"get_normalMethod",set_diffuseMethod:"set_diffuseMethod",get_diffuseMethod:"get_diffuseMethod",set_shadowMethod:"set_shadowMethod",get_shadowMethod:"get_shadowMethod",set_ambientMethod:"set_ambientMethod",get_ambientMethod:"get_ambientMethod",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform",set_diffuseLightSources:"set_diffuseLightSources",
get_diffuseLightSources:"get_diffuseLightSources",set_specularLightSources:"set_specularLightSources",get_specularLightSources:"get_specularLightSources",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold",set_enableLightFallOff:"set_enableLightFallOff",get_enableLightFallOff:"get_enableLightFallOff"})});var Lb=function(a,b){null==b&&(b=1);null==a&&(a=13421772);this._diffuseAlpha=1;Wa.call(this);this.set_color(a);this.set_alpha(b)};m["away3d.materials.ColorMaterial"]=Lb;
Lb.__name__=["away3d","materials","ColorMaterial"];Lb.__super__=Wa;Lb.prototype=z(Wa.prototype,{_diffuseAlpha:null,get_alpha:function(){return this._screenPass.get_diffuseMethod().get_diffuseAlpha()},set_alpha:function(a){1<a?a=1:0>a&&(a=0);this._screenPass.get_diffuseMethod().set_diffuseAlpha(this._diffuseAlpha=a);this._screenPass.set_preserveAlpha(this.get_requiresBlending());this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());return a},get_color:function(){return this._screenPass.get_diffuseMethod().get_diffuseColor()},
set_color:function(a){this._screenPass.get_diffuseMethod().set_diffuseColor(a);return a},get_requiresBlending:function(){return Wa.prototype.get_requiresBlending.call(this)?!0:1>this._diffuseAlpha},__class__:Lb,__properties__:z(Wa.prototype.__properties__,{set_color:"set_color",get_color:"get_color",set_alpha:"set_alpha",get_alpha:"get_alpha"})});var $a=function(){this._screenPassesInvalid=this._enableLightFallOff=!0;this._specularMethod=new Vc;this._normalMethod=new We;this._diffuseMethod=new $b;
this._ambientMethod=new Ve;this._diffuseLightSources=3;this._specularLightSources=1;this._alphaThreshold=0;xb.call(this)};m["away3d.materials.MultiPassMaterialBase"]=$a;$a.__name__=["away3d","materials","MultiPassMaterialBase"];$a.__super__=xb;$a.prototype=z(xb.prototype,{_casterLightPass:null,_nonCasterLightPasses:null,_effectsPass:null,_alphaThreshold:null,_specularLightSources:null,_diffuseLightSources:null,_ambientMethod:null,_shadowMethod:null,_diffuseMethod:null,_normalMethod:null,_specularMethod:null,
_screenPassesInvalid:null,_enableLightFallOff:null,get_enableLightFallOff:function(){return this._enableLightFallOff},set_enableLightFallOff:function(a){this._enableLightFallOff!=a&&this.invalidateScreenPasses();return this._enableLightFallOff=a},get_alphaThreshold:function(){return this._alphaThreshold},set_alphaThreshold:function(a){this._alphaThreshold=a;this._diffuseMethod.set_alphaThreshold(a);this._depthPass.set_alphaThreshold(a);this._distancePass.set_alphaThreshold(a);return a},set_depthCompareMode:function(a){xb.prototype.set_depthCompareMode.call(this,
a);this.invalidateScreenPasses();return a},set_blendMode:function(a){xb.prototype.set_blendMode.call(this,a);this.invalidateScreenPasses();return a},activateForDepth:function(a,b,c){null==c&&(c=!1);c?this._distancePass.set_alphaMask(this._diffuseMethod.get_texture()):this._depthPass.set_alphaMask(this._diffuseMethod.get_texture());xb.prototype.activateForDepth.call(this,a,b,c)},get_specularLightSources:function(){return this._specularLightSources},set_specularLightSources:function(a){return this._specularLightSources=
a},get_diffuseLightSources:function(){return this._diffuseLightSources},set_diffuseLightSources:function(a){return this._diffuseLightSources=a},set_lightPicker:function(a){null!=this._lightPicker&&this._lightPicker.removeEventListener("change",u(this,this.onLightsChange));xb.prototype.set_lightPicker.call(this,a);null!=this._lightPicker&&this._lightPicker.addEventListener("change",u(this,this.onLightsChange));this.invalidateScreenPasses();return a},get_requiresBlending:function(){return!1},get_ambientMethod:function(){return this._ambientMethod},
set_ambientMethod:function(a){a.copyFrom(this._ambientMethod);this._ambientMethod=a;this.invalidateScreenPasses();return a},get_shadowMethod:function(){return this._shadowMethod},set_shadowMethod:function(a){null!=a&&null!=this._shadowMethod&&a.copyFrom(this._shadowMethod);this._shadowMethod=a;this.invalidateScreenPasses();return a},get_diffuseMethod:function(){return this._diffuseMethod},set_diffuseMethod:function(a){a.copyFrom(this._diffuseMethod);this._diffuseMethod=a;this.invalidateScreenPasses();
return a},get_specularMethod:function(){return this._specularMethod},set_specularMethod:function(a){null!=a&&null!=this._specularMethod&&a.copyFrom(this._specularMethod);this._specularMethod=a;this.invalidateScreenPasses();return a},get_normalMethod:function(){return this._normalMethod},set_normalMethod:function(a){a.copyFrom(this._normalMethod);this._normalMethod=a;this.invalidateScreenPasses();return a},addMethod:function(a){null==this._effectsPass&&(this._effectsPass=new ii(this));this._effectsPass.addMethod(a);
this.invalidateScreenPasses()},get_numMethods:function(){return null!=this._effectsPass?this._effectsPass.get_numMethods():0},hasMethod:function(a){return null!=this._effectsPass?this._effectsPass.hasMethod(a):!1},getMethodAt:function(a){return this._effectsPass.getMethodAt(a)},addMethodAt:function(a,b){null==this._effectsPass&&(this._effectsPass=new ii(this));this._effectsPass.addMethodAt(a,b);this.invalidateScreenPasses()},removeMethod:function(a){null!=this._effectsPass&&(this._effectsPass.removeMethod(a),
0==this._effectsPass.get_numMethods()&&this.invalidateScreenPasses())},set_mipmap:function(a){if(this._mipmap==a)return a;xb.prototype.set_mipmap.call(this,a);return a},get_normalMap:function(){return this._normalMethod.get_normalMap()},set_normalMap:function(a){this._normalMethod.set_normalMap(a);return a},get_specularMap:function(){return this._specularMethod.get_texture()},set_specularMap:function(a){if(null!=this._specularMethod)this._specularMethod.set_texture(a);else throw new H(new sa("No specular method was set to assign the specularGlossMap to"));
return a},get_gloss:function(){return null!=this._specularMethod?this._specularMethod.get_gloss():0},set_gloss:function(a){null!=this._specularMethod&&this._specularMethod.set_gloss(a);return a},get_ambient:function(){return this._ambientMethod.get_ambient()},set_ambient:function(a){this._ambientMethod.set_ambient(a);return a},get_specular:function(){return null!=this._specularMethod?this._specularMethod.get_specular():0},set_specular:function(a){null!=this._specularMethod&&this._specularMethod.set_specular(a);
return a},get_ambientColor:function(){return this._ambientMethod.get_ambientColor()},set_ambientColor:function(a){this._ambientMethod.set_ambientColor(a);return a},get_specularColor:function(){return this._specularMethod.get_specularColor()},set_specularColor:function(a){this._specularMethod.set_specularColor(a);return a},updateMaterial:function(a){a=!1;this._screenPassesInvalid&&(this.updateScreenPasses(),a=!0);if(a||this.isAnyScreenPassInvalid()){this.clearPasses();this.addChildPassesFor(this._casterLightPass);
if(null!=this._nonCasterLightPasses){a=0;for(var b=this._nonCasterLightPasses.get_length();a<b;){var c=a++;this.addChildPassesFor(this._nonCasterLightPasses.get(c))}}this.addChildPassesFor(this._effectsPass);this.addScreenPass(this._casterLightPass);if(null!=this._nonCasterLightPasses)for(a=0,b=this._nonCasterLightPasses.get_length();a<b;)c=a++,this.addScreenPass(this._nonCasterLightPasses.get(c));this.addScreenPass(this._effectsPass)}},addScreenPass:function(a){null!=a&&(this.addPass(a),a._passesDirty=
!1)},isAnyScreenPassInvalid:function(){if(null!=this._casterLightPass&&this._casterLightPass._passesDirty||null!=this._effectsPass&&this._effectsPass._passesDirty)return!0;if(null!=this._nonCasterLightPasses)for(var a=0,b=this._nonCasterLightPasses.get_length();a<b;){var c=a++;if(this._nonCasterLightPasses.get(c)._passesDirty)return!0}return!1},addChildPassesFor:function(a){if(null!=a&&null!=a._passes)for(var b=0,c=a._passes.get_length();b<c;){var d=b++;this.addPass(a._passes.get(d))}},activatePass:function(a,
b,c){0==a&&b._context3D.setBlendFactors(2,9);xb.prototype.activatePass.call(this,a,b,c)},deactivate:function(a){xb.prototype.deactivate.call(this,a);a._context3D.setBlendFactors(2,9)},updateScreenPasses:function(){this.initPasses();this.setBlendAndCompareModes();this._screenPassesInvalid=!1},initPasses:function(){0==this.get_numLights()||0<this.get_numMethods()?this.initEffectsPass():null!=this._effectsPass&&0==this.get_numMethods()&&this.removeEffectsPass();null!=this._shadowMethod?this.initCasterLightPass():
this.removeCasterLightPass();0<this.get_numNonCasters()?this.initNonCasterLightPasses():this.removeNonCasterLightPasses()},setBlendAndCompareModes:function(){var a=null!=this._casterLightPass||null!=this._effectsPass;null!=this._casterLightPass&&(this._casterLightPass.setBlendMode(10),this._casterLightPass.set_depthCompareMode(this.get_depthCompareMode()),this._casterLightPass.set_forceSeparateMVP(a));if(null!=this._nonCasterLightPasses){null==this._casterLightPass&&(this._nonCasterLightPasses.get(0).set_forceSeparateMVP(a),
this._nonCasterLightPasses.get(0).setBlendMode(10),this._nonCasterLightPasses.get(0).set_depthCompareMode(this.get_depthCompareMode()));for(var b=0,c=this._nonCasterLightPasses.get_length();b<c;){var d=b++;this._nonCasterLightPasses.get(d).set_forceSeparateMVP(a);this._nonCasterLightPasses.get(d).setBlendMode(0);this._nonCasterLightPasses.get(d).set_depthCompareMode(5)}}null!=this._casterLightPass||null!=this._nonCasterLightPasses?null!=this._effectsPass&&(this._effectsPass.set_ignoreLights(!0),this._effectsPass.set_depthCompareMode(5),
this._effectsPass.setBlendMode(12),this._effectsPass.set_forceSeparateMVP(a)):null!=this._effectsPass&&(this._effectsPass.set_ignoreLights(!1),this._effectsPass.set_depthCompareMode(this.get_depthCompareMode()),this._effectsPass.setBlendMode(10),this._effectsPass.set_forceSeparateMVP(!1))},initCasterLightPass:function(){null==this._casterLightPass&&(this._casterLightPass=new Vn(this));this._casterLightPass.set_diffuseMethod(null);this._casterLightPass.set_ambientMethod(null);this._casterLightPass.set_normalMethod(null);
this._casterLightPass.set_specularMethod(null);this._casterLightPass.set_shadowMethod(null);this._casterLightPass.set_enableLightFallOff(this._enableLightFallOff);this._casterLightPass.set_lightPicker(new ej([this._shadowMethod.get_castingLight()]));this._casterLightPass.set_shadowMethod(this._shadowMethod);this._casterLightPass.set_diffuseMethod(this._diffuseMethod);this._casterLightPass.set_ambientMethod(this._ambientMethod);this._casterLightPass.set_normalMethod(this._normalMethod);this._casterLightPass.set_specularMethod(this._specularMethod);
this._casterLightPass.set_diffuseLightSources(this._diffuseLightSources);this._casterLightPass.set_specularLightSources(this._specularLightSources)},removeCasterLightPass:function(){null!=this._casterLightPass&&(this._casterLightPass.dispose(),this.removePass(this._casterLightPass),this._casterLightPass=null)},initNonCasterLightPasses:function(){this.removeNonCasterLightPasses();var a,b=this._lightPicker.get_numDirectionalLights(),c=this._lightPicker.get_numPointLights(),d=this._lightPicker.get_numLightProbes(),
e=0,f=0,k=0;null==this._casterLightPass&&(b+=this._lightPicker.get_numCastingDirectionalLights(),c+=this._lightPicker.get_numCastingPointLights());for(this._nonCasterLightPasses=x.toObjectVector(null);e<b||f<c||k<d;)a=new Wn(this),a.set_enableLightFallOff(this._enableLightFallOff),a.set_includeCasters(null==this._shadowMethod),a.set_directionalLightsOffset(e),a.set_pointLightsOffset(f),a.set_lightProbesOffset(k),a.set_diffuseMethod(null),a.set_ambientMethod(null),a.set_normalMethod(null),a.set_specularMethod(null),
a.set_lightPicker(this._lightPicker),a.set_diffuseMethod(this._diffuseMethod),a.set_ambientMethod(this._ambientMethod),a.set_normalMethod(this._normalMethod),a.set_specularMethod(this._specularMethod),a.set_diffuseLightSources(this._diffuseLightSources),a.set_specularLightSources(this._specularLightSources),this._nonCasterLightPasses.push(a),e+=a.get_numDirectionalLights(),f+=a.get_numPointLights(),k+=a.get_numLightProbes()},removeNonCasterLightPasses:function(){if(null!=this._nonCasterLightPasses){for(var a=
0,b=this._nonCasterLightPasses.get_length();a<b;){var c=a++;this.removePass(this._nonCasterLightPasses.get(c));this._nonCasterLightPasses.get(c).dispose()}this._nonCasterLightPasses=null}},removeEffectsPass:function(){this._effectsPass.get_diffuseMethod()!=this._diffuseMethod&&this._effectsPass.get_diffuseMethod().dispose();this.removePass(this._effectsPass);this._effectsPass.dispose();this._effectsPass=null},initEffectsPass:function(){null==this._effectsPass&&(this._effectsPass=new ii(this));this._effectsPass.set_enableLightFallOff(this._enableLightFallOff);
0==this.get_numLights()?(this._effectsPass.set_diffuseMethod(null),this._effectsPass.set_diffuseMethod(this._diffuseMethod)):(this._effectsPass.set_diffuseMethod(null),this._effectsPass.set_diffuseMethod(new $b),this._effectsPass.get_diffuseMethod().set_diffuseColor(0),this._effectsPass.get_diffuseMethod().set_diffuseAlpha(0));this._effectsPass.set_preserveAlpha(!1);this._effectsPass.set_normalMethod(null);this._effectsPass.set_normalMethod(this._normalMethod);return this._effectsPass},get_numLights:function(){return null!=
this._lightPicker?this._lightPicker.get_numLightProbes()+this._lightPicker.get_numDirectionalLights()+this._lightPicker.get_numPointLights()+this._lightPicker.get_numCastingDirectionalLights()+this._lightPicker.get_numCastingPointLights():0},get_numNonCasters:function(){return null!=this._lightPicker?this._lightPicker.get_numLightProbes()+this._lightPicker.get_numDirectionalLights()+this._lightPicker.get_numPointLights():0},invalidateScreenPasses:function(){this._screenPassesInvalid=!0},onLightsChange:function(a){this.invalidateScreenPasses()},
__class__:$a,__properties__:z(xb.prototype.__properties__,{get_numNonCasters:"get_numNonCasters",get_numLights:"get_numLights",set_specularColor:"set_specularColor",get_specularColor:"get_specularColor",set_ambientColor:"set_ambientColor",get_ambientColor:"get_ambientColor",set_specular:"set_specular",get_specular:"get_specular",set_ambient:"set_ambient",get_ambient:"get_ambient",set_gloss:"set_gloss",get_gloss:"get_gloss",set_specularMap:"set_specularMap",get_specularMap:"get_specularMap",set_normalMap:"set_normalMap",
get_normalMap:"get_normalMap",get_numMethods:"get_numMethods",set_normalMethod:"set_normalMethod",get_normalMethod:"get_normalMethod",set_specularMethod:"set_specularMethod",get_specularMethod:"get_specularMethod",set_diffuseMethod:"set_diffuseMethod",get_diffuseMethod:"get_diffuseMethod",set_shadowMethod:"set_shadowMethod",get_shadowMethod:"get_shadowMethod",set_ambientMethod:"set_ambientMethod",get_ambientMethod:"get_ambientMethod",set_diffuseLightSources:"set_diffuseLightSources",get_diffuseLightSources:"get_diffuseLightSources",
set_specularLightSources:"set_specularLightSources",get_specularLightSources:"get_specularLightSources",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold",set_enableLightFallOff:"set_enableLightFallOff",get_enableLightFallOff:"get_enableLightFallOff"})});var Ad=function(a){null==a&&(a=13421772);$a.call(this);this.set_color(a)};m["away3d.materials.ColorMultiPassMaterial"]=Ad;Ad.__name__=["away3d","materials","ColorMultiPassMaterial"];Ad.__super__=$a;Ad.prototype=z($a.prototype,
{get_color:function(){return this.get_diffuseMethod().get_diffuseColor()},set_color:function(a){this.get_diffuseMethod().set_diffuseColor(a);return a},__class__:Ad,__properties__:z($a.prototype.__properties__,{set_color:"set_color",get_color:"get_color"})});var Nq=function(){};m["away3d.materials.LightSources"]=Nq;Nq.__name__=["away3d","materials","LightSources"];var Zm=function(a){null==a&&(a=1.25);xb.call(this);this.set_bothSides(!0);this.addPass(this._screenPass=new qh(a));this._screenPass.set_material(this)};
m["away3d.materials.SegmentMaterial"]=Zm;Zm.__name__=["away3d","materials","SegmentMaterial"];Zm.__super__=xb;Zm.prototype=z(xb.prototype,{_screenPass:null,__class__:Zm});var Yn=function(a){xb.call(this);this._cubeMap=a;this.addPass(this._skyboxPass=new Xn);this._skyboxPass.set_cubeTexture(this._cubeMap)};m["away3d.materials.SkyBoxMaterial"]=Yn;Yn.__name__=["away3d","materials","SkyBoxMaterial"];Yn.__super__=xb;Yn.prototype=z(xb.prototype,{_cubeMap:null,_skyboxPass:null,get_cubeMap:function(){return this._cubeMap},
set_cubeMap:function(a){null==a||null==this._cubeMap||a.get_hasMipMaps()==this._cubeMap.get_hasMipMaps()&&a.get_format()==this._cubeMap.get_format()||this.invalidatePasses(null);this._cubeMap=a;this._skyboxPass.set_cubeTexture(this._cubeMap);return a},__class__:Yn,__properties__:z(xb.prototype.__properties__,{set_cubeMap:"set_cubeMap",get_cubeMap:"get_cubeMap"})});var Qb=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=!0);null==c&&(c=!1);null==b&&(b=!0);Wa.call(this);this.set_texture(a);this.set_smooth(b);
this.set_repeat(c);this.set_mipmap(d);this.set_anisotropy(e)};m["away3d.materials.TextureMaterial"]=Qb;Qb.__name__=["away3d","materials","TextureMaterial"];Qb.__super__=Wa;Qb.prototype=z(Wa.prototype,{get_animateUVs:function(){return this._screenPass.get_animateUVs()},set_animateUVs:function(a){this._screenPass.set_animateUVs(a);return a},get_animateUVs2:function(){return this._screenPass.get_animateUVs2()},set_animateUVs2:function(a){this._screenPass.set_animateUVs2(a);return a},get_alpha:function(){return null!=
this._screenPass.get_colorTransform()?this._screenPass.get_colorTransform().alphaMultiplier:1},set_alpha:function(a){1<a?a=1:0>a&&(a=0);null==this.get_colorTransform()&&this.set_colorTransform(new jc);this.get_colorTransform().alphaMultiplier=a;this._screenPass.set_preserveAlpha(this.get_requiresBlending());this._screenPass.setBlendMode(10==this.get_blendMode()&&this.get_requiresBlending()?7:this.get_blendMode());return a},get_texture:function(){return this._screenPass.get_diffuseMethod().get_texture()},
set_texture:function(a){this._screenPass.get_diffuseMethod().set_texture(a);return a},get_ambientTexture:function(){return this._screenPass.get_ambientMethod().get_texture()},set_ambientTexture:function(a){this._screenPass.get_ambientMethod().set_texture(a);this._screenPass.get_diffuseMethod().set_useAmbientTexture(null!=a);return a},__class__:Qb,__properties__:z(Wa.prototype.__properties__,{set_ambientTexture:"set_ambientTexture",get_ambientTexture:"get_ambientTexture",set_texture:"set_texture",
get_texture:"get_texture",set_alpha:"set_alpha",get_alpha:"get_alpha",set_animateUVs2:"set_animateUVs2",get_animateUVs2:"get_animateUVs2",set_animateUVs:"set_animateUVs",get_animateUVs:"get_animateUVs"})});var Lc=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=!0);null==c&&(c=!1);null==b&&(b=!0);$a.call(this);this.set_texture(a);this.set_smooth(b);this.set_repeat(c);this.set_mipmap(d);this.set_anisotropy(e)};m["away3d.materials.TextureMultiPassMaterial"]=Lc;Lc.__name__=["away3d","materials","TextureMultiPassMaterial"];
Lc.__super__=$a;Lc.prototype=z($a.prototype,{_animateUVs:null,get_animateUVs:function(){return this._animateUVs},set_animateUVs:function(a){return this._animateUVs=a},get_texture:function(){return this.get_diffuseMethod().get_texture()},set_texture:function(a){this.get_diffuseMethod().set_texture(a);return a},get_ambientTexture:function(){return this.get_ambientMethod().get_texture()},set_ambientTexture:function(a){this.get_ambientMethod().set_texture(a);this.get_diffuseMethod().set_useAmbientTexture(null!=
a);return a},updateScreenPasses:function(){$a.prototype.updateScreenPasses.call(this);null!=this._effectsPass&&this._effectsPass.set_animateUVs(this._animateUVs);null!=this._casterLightPass&&this._casterLightPass.set_animateUVs(this._animateUVs);if(null!=this._nonCasterLightPasses)for(var a=0,b=this._nonCasterLightPasses.get_length();a<b;){var c=a++;this._nonCasterLightPasses.get(c).set_animateUVs(this._animateUVs)}},__class__:Lc,__properties__:z($a.prototype.__properties__,{set_ambientTexture:"set_ambientTexture",
get_ambientTexture:"get_ambientTexture",set_texture:"set_texture",get_texture:"get_texture",set_animateUVs:"set_animateUVs",get_animateUVs:"get_animateUVs"})});var Xe=function(a){this._commonsDataIndex=this._uvBufferIndex=this._uvTransformIndex=this._uvTransformIndex2=this._secondaryUVBufferIndex=this._normalBufferIndex=this._tangentBufferIndex=this._lightFragmentConstantIndex=this._sceneMatrixIndex=this._sceneNormalMatrixIndex=this._cameraPositionIndex=this._probeWeightsIndex=-1;this._preserveAlpha=
!0;this._sharedRegisters=new Oq;this._dependencyCounter=new Pq;this._profile=a;this.initRegisterCache(a)};m["away3d.materials.compilation.ShaderCompiler"]=Xe;Xe.__name__=["away3d","materials","compilation","ShaderCompiler"];Xe.prototype={_sharedRegisters:null,_registerCache:null,_dependencyCounter:null,_methodSetup:null,_smooth:null,_repeat:null,_mipmap:null,_anisotropy:null,_enableLightFallOff:null,_preserveAlpha:null,_animateUVs:null,_animateUVs2:null,_alphaPremultiplied:null,_vertexConstantData:null,
_fragmentConstantData:null,_vertexCode:null,_fragmentCode:null,_fragmentLightCode:null,_fragmentPostLightCode:null,_commonsDataIndex:null,_animatableAttributes:null,_animationTargetRegisters:null,_lightProbeDiffuseIndices:null,_lightProbeSpecularIndices:null,_uvBufferIndex:null,_uvTransformIndex:null,_uvTransformIndex2:null,_secondaryUVBufferIndex:null,_normalBufferIndex:null,_tangentBufferIndex:null,_lightFragmentConstantIndex:null,_sceneMatrixIndex:null,_sceneNormalMatrixIndex:null,_cameraPositionIndex:null,
_probeWeightsIndex:null,_specularLightSources:null,_diffuseLightSources:null,_numLights:null,_numLightProbes:null,_numPointLights:null,_numDirectionalLights:null,_numProbeRegisters:null,_combinedLightSources:null,_usingSpecularMethod:null,_needUVAnimation:null,_UVTarget:null,_UVSource:null,_profile:null,_forceSeperateMVP:null,get_enableLightFallOff:function(){return this._enableLightFallOff},set_enableLightFallOff:function(a){return this._enableLightFallOff=a},get_needUVAnimation:function(){return this._needUVAnimation},
get_UVTarget:function(){return this._UVTarget},get_UVSource:function(){return this._UVSource},get_forceSeperateMVP:function(){return this._forceSeperateMVP},set_forceSeperateMVP:function(a){return this._forceSeperateMVP=a},initRegisterCache:function(a){this._registerCache=new Oh(a);this._registerCache.set_vertexAttributesOffset(1);this._registerCache.reset()},get_animateUVs:function(){return this._animateUVs},set_animateUVs:function(a){return this._animateUVs=a},get_animateUVs2:function(){return this._animateUVs2},
set_animateUVs2:function(a){return this._animateUVs2=a},get_alphaPremultiplied:function(){return this._alphaPremultiplied},set_alphaPremultiplied:function(a){return this._alphaPremultiplied=a},get_preserveAlpha:function(){return this._preserveAlpha},set_preserveAlpha:function(a){return this._preserveAlpha=a},setTextureSampling:function(a,b,c,d){this._smooth=a;this._repeat=b;this._mipmap=c;this._anisotropy=d},setConstantDataBuffers:function(a,b){this._vertexConstantData=a;this._fragmentConstantData=
b},get_methodSetup:function(){return this._methodSetup},set_methodSetup:function(a){return this._methodSetup=a},compile:function(){this.initRegisterIndices();this.initLightData();for(var a=["va0"],b=x.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._animatableAttributes=b;a=["vt0"];b=x.toObjectVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this._animationTargetRegisters=b;this._fragmentCode=this._vertexCode="";this._sharedRegisters.localPosition=this._registerCache.getFreeVertexVectorTemp();
this._registerCache.addVertexTempUsages(this._sharedRegisters.localPosition,1);this.createCommons();this.calculateDependencies();this.updateMethodRegisters();for(a=0;4>a;)a++,this._registerCache.getFreeVertexConstant();this.createNormalRegisters();(0<this._dependencyCounter.get_globalPosDependencies()||this._forceSeperateMVP)&&this.compileGlobalPositionCode();this.compileProjectionCode();this.compileMethodsCode();this.compileFragmentOutput();this._fragmentPostLightCode=this.get_fragmentCode()},createNormalRegisters:function(){},
compileMethodsCode:function(){0<this._dependencyCounter.get_uvDependencies()&&this.compileUVCode();0<this._dependencyCounter.get_secondaryUVDependencies()&&this.compileSecondaryUVCode();0<this._dependencyCounter.get_normalDependencies()&&this.compileNormalCode();0<this._dependencyCounter.get_viewDirDependencies()&&this.compileViewDirCode();this.compileLightingCode();this._fragmentLightCode=this._fragmentCode;this._fragmentCode="";this.compileMethods()},compileLightingCode:function(){},compileViewDirCode:function(){},
compileNormalCode:function(){},compileUVCode:function(){var a=this._registerCache.getFreeVertexAttribute();this._uvBufferIndex=a.get_index();var b=this._registerCache.getFreeVarying();this._sharedRegisters.uvVarying=b;if(this.get_animateUVs()){var c=this._registerCache.getFreeVertexConstant(),d=this._registerCache.getFreeVertexConstant();this._uvTransformIndex=4*c.get_index();this._vertexCode+="dp4 "+h.string(b)+".x, "+h.string(a)+", "+h.string(c)+"\ndp4 "+h.string(b)+".y, "+h.string(a)+", "+h.string(d)+
"\nmov "+h.string(b)+".zw, "+h.string(a)+".zw \n"}else this._uvTransformIndex=-1,this._needUVAnimation=!0,this._UVTarget=b.toString(),this._UVSource=a.toString()},compileSecondaryUVCode:function(){var a=this._registerCache.getFreeVertexAttribute();this._secondaryUVBufferIndex=a.get_index();var b=this._registerCache.getFreeVarying();this._sharedRegisters.secondaryUVVarying=b;if(this.get_animateUVs2()){var c=this._registerCache.getFreeVertexConstant(),d=this._registerCache.getFreeVertexConstant();this._uvTransformIndex2=
4*c.get_index();this._vertexCode+="dp4 "+h.string(b)+".x, "+h.string(a)+", "+h.string(c)+"\n";this._vertexCode+="dp4 "+h.string(b)+".y, "+h.string(a)+", "+h.string(d)+"\n";this._vertexCode+="mov "+h.string(b)+".zw, "+h.string(a)+".zw\n"}else this._uvTransformIndex2=-1,this._vertexCode+="mov "+h.string(b)+", "+h.string(a)+"\n"},compileGlobalPositionCode:function(){this._sharedRegisters.globalPositionVertex=this._registerCache.getFreeVertexVectorTemp();this._registerCache.addVertexTempUsages(this._sharedRegisters.globalPositionVertex,
this._dependencyCounter.get_globalPosDependencies());var a=this._registerCache.getFreeVertexConstant();this._registerCache.getFreeVertexConstant();this._registerCache.getFreeVertexConstant();this._registerCache.getFreeVertexConstant();this._sceneMatrixIndex=4*a.get_index();this._vertexCode+="m44 "+h.string(this._sharedRegisters.globalPositionVertex)+", "+h.string(this._sharedRegisters.localPosition)+", "+h.string(a)+"\n";this._dependencyCounter.get_usesGlobalPosFragment()&&(this._sharedRegisters.globalPositionVarying=
this._registerCache.getFreeVarying(),this._vertexCode+="mov "+h.string(this._sharedRegisters.globalPositionVarying)+", "+h.string(this._sharedRegisters.globalPositionVertex)+"\n")},compileProjectionCode:function(){var a=0<this._dependencyCounter.get_globalPosDependencies()||this._forceSeperateMVP?this._sharedRegisters.globalPositionVertex.toString():this._animationTargetRegisters.get(0);0<this._dependencyCounter.get_projectionDependencies()?(this._sharedRegisters.projectionFragment=this._registerCache.getFreeVarying(),
a="m44 vt5, "+a+", vc0\t\t\nmov "+h.string(this._sharedRegisters.projectionFragment)+", vt5\nmov op, vt5\n"):a="m44 op, "+a+", vc0\t\t\n";this._vertexCode+=a},compileFragmentOutput:function(){this._fragmentCode+="mov "+h.string(this._registerCache.get_fragmentOutputRegister())+", "+h.string(this._sharedRegisters.shadedTarget)+"\n";this._registerCache.removeFragmentTempUsage(this._sharedRegisters.shadedTarget)},initRegisterIndices:function(){this._probeWeightsIndex=this._sceneNormalMatrixIndex=this._sceneMatrixIndex=
this._lightFragmentConstantIndex=this._tangentBufferIndex=this._normalBufferIndex=this._secondaryUVBufferIndex=this._uvTransformIndex2=this._uvTransformIndex=this._uvBufferIndex=this._cameraPositionIndex=this._commonsDataIndex=-1},initLightData:function(){this._numLights=this._numPointLights+this._numDirectionalLights;this._numProbeRegisters=Math.ceil(this._numLightProbes/4);this._combinedLightSources=null!=this._methodSetup._specularMethod?this._specularLightSources|this._diffuseLightSources:this._diffuseLightSources;
this._usingSpecularMethod=null!=this._methodSetup._specularMethod&&(this.usesLightsForSpecular()||this.usesProbesForSpecular())},createCommons:function(){this._sharedRegisters.commons=this._registerCache.getFreeFragmentConstant();this._commonsDataIndex=4*this._sharedRegisters.commons.get_index()},calculateDependencies:function(){this._dependencyCounter.reset();var a=this._methodSetup._methods;this.setupAndCountMethodDependencies(this._methodSetup._diffuseMethod,this._methodSetup._diffuseMethodVO);
null!=this._methodSetup._shadowMethod&&this.setupAndCountMethodDependencies(this._methodSetup._shadowMethod,this._methodSetup._shadowMethodVO);this.setupAndCountMethodDependencies(this._methodSetup._ambientMethod,this._methodSetup._ambientMethodVO);this._usingSpecularMethod&&this.setupAndCountMethodDependencies(this._methodSetup._specularMethod,this._methodSetup._specularMethodVO);null!=this._methodSetup._colorTransformMethod&&this.setupAndCountMethodDependencies(this._methodSetup._colorTransformMethod,
this._methodSetup._colorTransformMethodVO);for(var b=0,c=a.get_length();b<c;){var d=b++;this.setupAndCountMethodDependencies(a.get(d).method,a.get(d).data)}this.get_usesNormals()&&this.setupAndCountMethodDependencies(this._methodSetup._normalMethod,this._methodSetup._normalMethodVO);this._dependencyCounter.setPositionedLights(this._numPointLights,this._combinedLightSources)},setupAndCountMethodDependencies:function(a,b){this.setupMethod(a,b);this._dependencyCounter.includeMethodVO(b)},setupMethod:function(a,
b){a.reset();b.reset();b.vertexData=this._vertexConstantData;b.fragmentData=this._fragmentConstantData;b.useSmoothTextures=this._smooth;b.repeatTextures=this._repeat;b.useMipmapping=this._mipmap;b.anisotropy=this._anisotropy;b.useLightFallOff=this._enableLightFallOff&&"baselineConstrained"!=this._profile;b.numLights=this._numLights+this._numLightProbes;a.initVO(b)},get_commonsDataIndex:function(){return this._commonsDataIndex},updateMethodRegisters:function(){this._methodSetup._normalMethod.set_sharedRegisters(this._sharedRegisters);
this._methodSetup._diffuseMethod.set_sharedRegisters(this._sharedRegisters);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.set_sharedRegisters(this._sharedRegisters);this._methodSetup._ambientMethod.set_sharedRegisters(this._sharedRegisters);null!=this._methodSetup._specularMethod&&this._methodSetup._specularMethod.set_sharedRegisters(this._sharedRegisters);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.set_sharedRegisters(this._sharedRegisters);
for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;a.get(d).method.set_sharedRegisters(this._sharedRegisters)}},get_numUsedVertexConstants:function(){return this._registerCache.get_numUsedVertexConstants()},get_numUsedFragmentConstants:function(){return this._registerCache.get_numUsedFragmentConstants()},get_numUsedStreams:function(){return this._registerCache.get_numUsedStreams()},get_numUsedTextures:function(){return this._registerCache.get_numUsedTextures()},get_numUsedVaryings:function(){return this._registerCache.get_numUsedVaryings()},
usesLightsForSpecular:function(){return 0<this._numLights?0!=(this._specularLightSources&1):!1},usesLightsForDiffuse:function(){return 0<this._numLights?0!=(this._diffuseLightSources&1):!1},dispose:function(){this.cleanUpMethods();this._registerCache.dispose();this._sharedRegisters=this._registerCache=null},cleanUpMethods:function(){null!=this._methodSetup._normalMethod&&this._methodSetup._normalMethod.cleanCompilationData();null!=this._methodSetup._diffuseMethod&&this._methodSetup._diffuseMethod.cleanCompilationData();
null!=this._methodSetup._ambientMethod&&this._methodSetup._ambientMethod.cleanCompilationData();null!=this._methodSetup._specularMethod&&this._methodSetup._specularMethod.cleanCompilationData();null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.cleanCompilationData();null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.cleanCompilationData();for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;a.get(d).method.cleanCompilationData()}},
get_specularLightSources:function(){return this._specularLightSources},set_specularLightSources:function(a){return this._specularLightSources=a},get_diffuseLightSources:function(){return this._diffuseLightSources},set_diffuseLightSources:function(a){return this._diffuseLightSources=a},usesProbesForSpecular:function(){return 0<this._numLightProbes?0!=(this._specularLightSources&2):!1},usesProbesForDiffuse:function(){return 0<this._numLightProbes?0!=(this._diffuseLightSources&2):!1},usesProbes:function(){return 0<
this._numLightProbes?0!=((this._diffuseLightSources|this._specularLightSources)&2):!1},get_uvBufferIndex:function(){return this._uvBufferIndex},get_uvTransformIndex:function(){return this._uvTransformIndex},get_uvTransformIndex2:function(){return this._uvTransformIndex2},get_secondaryUVBufferIndex:function(){return this._secondaryUVBufferIndex},get_normalBufferIndex:function(){return this._normalBufferIndex},get_tangentBufferIndex:function(){return this._tangentBufferIndex},get_lightFragmentConstantIndex:function(){return this._lightFragmentConstantIndex},
get_cameraPositionIndex:function(){return this._cameraPositionIndex},get_sceneMatrixIndex:function(){return this._sceneMatrixIndex},get_sceneNormalMatrixIndex:function(){return this._sceneNormalMatrixIndex},get_probeWeightsIndex:function(){return this._probeWeightsIndex},get_vertexCode:function(){return this._vertexCode},get_fragmentCode:function(){return this._fragmentCode},get_fragmentLightCode:function(){return this._fragmentLightCode},get_fragmentPostLightCode:function(){return this._fragmentPostLightCode},
get_shadedTarget:function(){return this._sharedRegisters.shadedTarget.toString()},get_numPointLights:function(){return this._numPointLights},set_numPointLights:function(a){return this._numPointLights=a},get_numDirectionalLights:function(){return this._numDirectionalLights},set_numDirectionalLights:function(a){return this._numDirectionalLights=a},get_numLightProbes:function(){return this._numLightProbes},set_numLightProbes:function(a){return this._numLightProbes=a},get_usingSpecularMethod:function(){return this._usingSpecularMethod},
get_animatableAttributes:function(){return this._animatableAttributes},get_animationTargetRegisters:function(){return this._animationTargetRegisters},get_usesNormals:function(){return 0<this._dependencyCounter.get_normalDependencies()?this._methodSetup._normalMethod.get_hasOutput():!1},usesLights:function(){return 0<this._numLights?0!=(this._combinedLightSources&1):!1},compileMethods:function(){var a=this._methodSetup._methods,b=a.get_length(),c,d,e=null;this._preserveAlpha&&(e=this._registerCache.getFreeFragmentSingleTemp(),
this._registerCache.addFragmentTempUsages(e,1),this._fragmentCode+="mov "+h.string(e)+", "+h.string(this._sharedRegisters.shadedTarget)+".w\n");for(var f=0;f<b;)d=f++,c=a.get(d).method,d=a.get(d).data,this._vertexCode+=c.getVertexCode(d,this._registerCache),(d.needsGlobalVertexPos||d.needsGlobalFragmentPos)&&this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex),this._fragmentCode+=c.getFragmentCode(d,this._registerCache,this._sharedRegisters.shadedTarget),d.needsNormals&&
this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment),d.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);this._preserveAlpha&&(this._fragmentCode+="mov "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(e)+"\n",this._registerCache.removeFragmentTempUsage(e));null!=this._methodSetup._colorTransformMethod&&(this._vertexCode+=this._methodSetup._colorTransformMethod.getVertexCode(this._methodSetup._colorTransformMethodVO,
this._registerCache),this._fragmentCode+=this._methodSetup._colorTransformMethod.getFragmentCode(this._methodSetup._colorTransformMethodVO,this._registerCache,this._sharedRegisters.shadedTarget))},get_lightProbeDiffuseIndices:function(){return this._lightProbeDiffuseIndices},get_lightProbeSpecularIndices:function(){return this._lightProbeSpecularIndices},__class__:Xe,__properties__:{get_lightProbeSpecularIndices:"get_lightProbeSpecularIndices",get_lightProbeDiffuseIndices:"get_lightProbeDiffuseIndices",
get_usesNormals:"get_usesNormals",get_animationTargetRegisters:"get_animationTargetRegisters",get_animatableAttributes:"get_animatableAttributes",get_usingSpecularMethod:"get_usingSpecularMethod",set_numLightProbes:"set_numLightProbes",get_numLightProbes:"get_numLightProbes",set_numDirectionalLights:"set_numDirectionalLights",get_numDirectionalLights:"get_numDirectionalLights",set_numPointLights:"set_numPointLights",get_numPointLights:"get_numPointLights",get_shadedTarget:"get_shadedTarget",get_fragmentPostLightCode:"get_fragmentPostLightCode",
get_fragmentLightCode:"get_fragmentLightCode",get_fragmentCode:"get_fragmentCode",get_vertexCode:"get_vertexCode",get_probeWeightsIndex:"get_probeWeightsIndex",get_sceneNormalMatrixIndex:"get_sceneNormalMatrixIndex",get_sceneMatrixIndex:"get_sceneMatrixIndex",get_cameraPositionIndex:"get_cameraPositionIndex",get_lightFragmentConstantIndex:"get_lightFragmentConstantIndex",get_tangentBufferIndex:"get_tangentBufferIndex",get_normalBufferIndex:"get_normalBufferIndex",get_secondaryUVBufferIndex:"get_secondaryUVBufferIndex",
get_uvTransformIndex2:"get_uvTransformIndex2",get_uvTransformIndex:"get_uvTransformIndex",get_uvBufferIndex:"get_uvBufferIndex",set_diffuseLightSources:"set_diffuseLightSources",get_diffuseLightSources:"get_diffuseLightSources",set_specularLightSources:"set_specularLightSources",get_specularLightSources:"get_specularLightSources",get_numUsedVaryings:"get_numUsedVaryings",get_numUsedTextures:"get_numUsedTextures",get_numUsedStreams:"get_numUsedStreams",get_numUsedFragmentConstants:"get_numUsedFragmentConstants",
get_numUsedVertexConstants:"get_numUsedVertexConstants",get_commonsDataIndex:"get_commonsDataIndex",set_methodSetup:"set_methodSetup",get_methodSetup:"get_methodSetup",set_preserveAlpha:"set_preserveAlpha",get_preserveAlpha:"get_preserveAlpha",set_alphaPremultiplied:"set_alphaPremultiplied",get_alphaPremultiplied:"get_alphaPremultiplied",set_animateUVs2:"set_animateUVs2",get_animateUVs2:"get_animateUVs2",set_animateUVs:"set_animateUVs",get_animateUVs:"get_animateUVs",set_forceSeperateMVP:"set_forceSeperateMVP",
get_forceSeperateMVP:"get_forceSeperateMVP",get_UVSource:"get_UVSource",get_UVTarget:"get_UVTarget",get_needUVAnimation:"get_needUVAnimation",set_enableLightFallOff:"set_enableLightFallOff",get_enableLightFallOff:"get_enableLightFallOff"}};var Qg=function(a){Xe.call(this,a)};m["away3d.materials.compilation.LightingShaderCompiler"]=Qg;Qg.__name__=["away3d","materials","compilation","LightingShaderCompiler"];Qg.__super__=Xe;Qg.prototype=z(Xe.prototype,{_pointLightFragmentConstants:null,_pointLightVertexConstants:null,
_dirLightFragmentConstants:null,_dirLightVertexConstants:null,_lightVertexConstantIndex:null,_shadowRegister:null,get_lightVertexConstantIndex:function(){return this._lightVertexConstantIndex},initRegisterIndices:function(){Xe.prototype.initRegisterIndices.call(this);this._lightVertexConstantIndex=-1},createNormalRegisters:function(){this.get_tangentSpace()&&(this._sharedRegisters.animatedTangent=this._registerCache.getFreeVertexVectorTemp(),this._registerCache.addVertexTempUsages(this._sharedRegisters.animatedTangent,
1),this._sharedRegisters.bitangent=this._registerCache.getFreeVertexVectorTemp(),this._registerCache.addVertexTempUsages(this._sharedRegisters.bitangent,1),this._sharedRegisters.tangentInput=this._registerCache.getFreeVertexAttribute(),this._tangentBufferIndex=this._sharedRegisters.tangentInput.get_index(),this._animatableAttributes.push(this._sharedRegisters.tangentInput.toString()),this._animationTargetRegisters.push(this._sharedRegisters.animatedTangent.toString()));this._sharedRegisters.normalInput=
this._registerCache.getFreeVertexAttribute();this._normalBufferIndex=this._sharedRegisters.normalInput.get_index();this._sharedRegisters.animatedNormal=this._registerCache.getFreeVertexVectorTemp();this._registerCache.addVertexTempUsages(this._sharedRegisters.animatedNormal,1);this._animatableAttributes.push(this._sharedRegisters.normalInput.toString());this._animationTargetRegisters.push(this._sharedRegisters.animatedNormal.toString())},get_tangentSpace:function(){return 0==this._numLightProbes&&
this.get_methodSetup()._normalMethod.get_hasOutput()?this._methodSetup._normalMethod.get_tangentSpace():!1},initLightData:function(){Xe.prototype.initLightData.call(this);this._pointLightVertexConstants=x.toObjectVector(null,this._numPointLights,!0);this._pointLightFragmentConstants=x.toObjectVector(null,2*this._numPointLights,!0);this.get_tangentSpace()?(this._dirLightVertexConstants=x.toObjectVector(null,this._numDirectionalLights,!0),this._dirLightFragmentConstants=x.toObjectVector(null,2*this._numDirectionalLights,
!0)):this._dirLightFragmentConstants=x.toObjectVector(null,3*this._numDirectionalLights,!0)},calculateDependencies:function(){Xe.prototype.calculateDependencies.call(this);this.get_tangentSpace()||this._dependencyCounter.addWorldSpaceDependencies(!1)},compileNormalCode:function(){this._sharedRegisters.normalFragment=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._sharedRegisters.normalFragment,this._dependencyCounter.get_normalDependencies());if(this._methodSetup._normalMethod.get_hasOutput()&&
!this._methodSetup._normalMethod.get_tangentSpace())this._vertexCode+=this._methodSetup._normalMethod.getVertexCode(this._methodSetup._normalMethodVO,this._registerCache),this._fragmentCode+=this._methodSetup._normalMethod.getFragmentCode(this._methodSetup._normalMethodVO,this._registerCache,this._sharedRegisters.normalFragment);else{if(this.get_tangentSpace())this.compileTangentSpaceNormalMapCode();else{var a=x.toObjectVector(null,3,!0);a.set(0,this._registerCache.getFreeVertexConstant());a.set(1,
this._registerCache.getFreeVertexConstant());a.set(2,this._registerCache.getFreeVertexConstant());this._registerCache.getFreeVertexConstant();this._sceneNormalMatrixIndex=4*a.get(0).get_index();this._sharedRegisters.normalVarying=this._registerCache.getFreeVarying();this._vertexCode+="m33 "+h.string(this._sharedRegisters.normalVarying)+".xyz, "+h.string(this._sharedRegisters.animatedNormal)+", "+h.string(a.get(0))+"\nmov "+h.string(this._sharedRegisters.normalVarying)+".w, "+h.string(this._sharedRegisters.animatedNormal)+
".w\t\n";this._fragmentCode+="nrm "+h.string(this._sharedRegisters.normalFragment)+".xyz, "+h.string(this._sharedRegisters.normalVarying)+"\nmov "+h.string(this._sharedRegisters.normalFragment)+".w, "+h.string(this._sharedRegisters.normalVarying)+".w\t\t\n"}0<this._dependencyCounter.get_tangentDependencies()&&(this._sharedRegisters.tangentInput=this._registerCache.getFreeVertexAttribute(),this._tangentBufferIndex=this._sharedRegisters.tangentInput.get_index(),this._sharedRegisters.tangentVarying=
this._registerCache.getFreeVarying())}},compileTangentSpaceNormalMapCode:function(){this._vertexCode+="nrm "+h.string(this._sharedRegisters.animatedNormal)+".xyz, "+h.string(this._sharedRegisters.animatedNormal)+"\nnrm "+h.string(this._sharedRegisters.animatedTangent)+".xyz, "+h.string(this._sharedRegisters.animatedTangent)+"\n";this._vertexCode+="crs "+h.string(this._sharedRegisters.bitangent)+".xyz, "+h.string(this._sharedRegisters.animatedNormal)+", "+h.string(this._sharedRegisters.animatedTangent)+
"\n";this._fragmentCode+=this._methodSetup._normalMethod.getFragmentCode(this._methodSetup._normalMethodVO,this._registerCache,this._sharedRegisters.normalFragment);this._methodSetup._normalMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);(this._methodSetup._normalMethodVO.needsGlobalFragmentPos||this._methodSetup._normalMethodVO.needsGlobalVertexPos)&&this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex)},compileViewDirCode:function(){var a=
this._registerCache.getFreeVertexConstant();this._sharedRegisters.viewDirVarying=this._registerCache.getFreeVarying();this._sharedRegisters.viewDirFragment=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._sharedRegisters.viewDirFragment,this._dependencyCounter.get_viewDirDependencies());this._cameraPositionIndex=4*a.get_index();if(this.get_tangentSpace()){var b=this._registerCache.getFreeVertexVectorTemp();this._vertexCode+="sub "+h.string(b)+", "+h.string(a)+
", "+h.string(this._sharedRegisters.localPosition)+"\nm33 "+h.string(this._sharedRegisters.viewDirVarying)+".xyz, "+h.string(b)+", "+h.string(this._sharedRegisters.animatedTangent)+"\nmov "+h.string(this._sharedRegisters.viewDirVarying)+".w, "+h.string(this._sharedRegisters.localPosition)+".w\n"}else this._vertexCode+="sub "+h.string(this._sharedRegisters.viewDirVarying)+", "+h.string(a)+", "+h.string(this._sharedRegisters.globalPositionVertex)+"\n",this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex);
this._fragmentCode+="nrm "+h.string(this._sharedRegisters.viewDirFragment)+".xyz, "+h.string(this._sharedRegisters.viewDirVarying)+"\nmov "+h.string(this._sharedRegisters.viewDirFragment)+".w,   "+h.string(this._sharedRegisters.viewDirVarying)+".w \t\t\n"},compileLightingCode:function(){null!=this._methodSetup._shadowMethod&&this.compileShadowCode();this._methodSetup._diffuseMethod.set_shadowRegister(this._shadowRegister);this._sharedRegisters.shadedTarget=this._registerCache.getFreeFragmentVectorTemp();
this._registerCache.addFragmentTempUsages(this._sharedRegisters.shadedTarget,1);this._vertexCode+=this._methodSetup._diffuseMethod.getVertexCode(this._methodSetup._diffuseMethodVO,this._registerCache);this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentPreLightingCode(this._methodSetup._diffuseMethodVO,this._registerCache);this._usingSpecularMethod&&(this._vertexCode+=this._methodSetup._specularMethod.getVertexCode(this._methodSetup._specularMethodVO,this._registerCache),this._fragmentCode+=
this._methodSetup._specularMethod.getFragmentPreLightingCode(this._methodSetup._specularMethodVO,this._registerCache));this.usesLights()&&(this.initLightRegisters(),this.compileDirectionalLightCode(),this.compilePointLightCode());this.usesProbes()&&this.compileLightProbeCode();this._vertexCode+=this._methodSetup._ambientMethod.getVertexCode(this._methodSetup._ambientMethodVO,this._registerCache);this._fragmentCode+=this._methodSetup._ambientMethod.getFragmentCode(this._methodSetup._ambientMethodVO,
this._registerCache,this._sharedRegisters.shadedTarget);this._methodSetup._ambientMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment);this._methodSetup._ambientMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentPostLightingCode(this._methodSetup._diffuseMethodVO,this._registerCache,this._sharedRegisters.shadedTarget);this._alphaPremultiplied&&
(this._fragmentCode+="add "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(this._sharedRegisters.commons)+".z\ndiv "+h.string(this._sharedRegisters.shadedTarget)+".xyz, "+h.string(this._sharedRegisters.shadedTarget)+", "+h.string(this._sharedRegisters.shadedTarget)+".w\nsub "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(this._sharedRegisters.commons)+".z\nsat "+h.string(this._sharedRegisters.shadedTarget)+
".xyz, "+h.string(this._sharedRegisters.shadedTarget)+"\n");this._methodSetup._diffuseMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment);this._methodSetup._diffuseMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);this._usingSpecularMethod&&(this._methodSetup._specularMethod.set_shadowRegister(this._shadowRegister),this._fragmentCode+=this._methodSetup._specularMethod.getFragmentPostLightingCode(this._methodSetup._specularMethodVO,
this._registerCache,this._sharedRegisters.shadedTarget),this._methodSetup._specularMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment),this._methodSetup._specularMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment));null!=this._methodSetup._shadowMethod&&this._registerCache.removeFragmentTempUsage(this._shadowRegister)},compileShadowCode:function(){this._shadowRegister=null!=this._sharedRegisters.normalFragment?
this._sharedRegisters.normalFragment:this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._shadowRegister,1);this._vertexCode+=this._methodSetup._shadowMethod.getVertexCode(this._methodSetup._shadowMethodVO,this._registerCache);this._fragmentCode+=this._methodSetup._shadowMethod.getFragmentCode(this._methodSetup._shadowMethodVO,this._registerCache,this._shadowRegister)},initLightRegisters:function(){var a;if(null!=this._dirLightVertexConstants){a=this._dirLightVertexConstants.get_length();
for(var b=0;b<a;){var c=b++;this._dirLightVertexConstants.set(c,this._registerCache.getFreeVertexConstant());-1==this._lightVertexConstantIndex&&(this._lightVertexConstantIndex=4*this._dirLightVertexConstants.get(c).get_index())}}a=this._pointLightVertexConstants.get_length();for(b=0;b<a;)c=b++,this._pointLightVertexConstants.set(c,this._registerCache.getFreeVertexConstant()),-1==this._lightVertexConstantIndex&&(this._lightVertexConstantIndex=4*this._pointLightVertexConstants.get(c).get_index());
a=this._dirLightFragmentConstants.get_length();for(b=0;b<a;)c=b++,this._dirLightFragmentConstants.set(c,this._registerCache.getFreeFragmentConstant()),-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=4*this._dirLightFragmentConstants.get(c).get_index());a=this._pointLightFragmentConstants.get_length();for(b=0;b<a;)c=b++,this._pointLightFragmentConstants.set(c,this._registerCache.getFreeFragmentConstant()),-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=
4*this._pointLightFragmentConstants.get(c).get_index())},compileDirectionalLightCode:function(){var a,b,c,d=0,e=0,f=this._usingSpecularMethod&&this.usesLightsForSpecular(),k=this.usesLightsForDiffuse();if(f||k)for(var p=0,w=this._numDirectionalLights;p<w;)p++,this.get_tangentSpace()?(c=this._dirLightVertexConstants.get(d++),a=this._registerCache.getFreeVarying(),this._vertexCode+="m33 "+h.string(a)+".xyz, "+h.string(c)+", "+h.string(this._sharedRegisters.animatedTangent)+"\nmov "+h.string(a)+".w, "+
h.string(c)+".w\n",c=this._registerCache.getFreeFragmentVectorTemp(),this._registerCache.addVertexTempUsages(c,1),this._fragmentCode+="nrm "+h.string(c)+".xyz, "+h.string(a)+"\n",this._fragmentCode+="mov "+h.string(c)+".w, "+h.string(a)+".w\n"):c=this._dirLightFragmentConstants.get(e++),a=this._dirLightFragmentConstants.get(e++),b=this._dirLightFragmentConstants.get(e++),k&&(this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerLight(this._methodSetup._diffuseMethodVO,c,a,this._registerCache)),
f&&(this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerLight(this._methodSetup._specularMethodVO,c,b,this._registerCache)),this.get_tangentSpace()&&this._registerCache.removeVertexTempUsage(c)},compilePointLightCode:function(){var a,b,c,d,e=0,f=0,k=this._usingSpecularMethod&&this.usesLightsForSpecular(),p=this.usesLightsForDiffuse();if(k||p)for(var w=0,g=this._numPointLights;w<g;){w++;c=this._pointLightVertexConstants.get(e++);a=this._pointLightFragmentConstants.get(f++);b=this._pointLightFragmentConstants.get(f++);
d=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(d,1);var n=this._registerCache.getFreeVarying();if(this.get_tangentSpace()){var l=this._registerCache.getFreeVertexVectorTemp();this._vertexCode+="sub "+h.string(l)+", "+h.string(c)+", "+h.string(this._sharedRegisters.localPosition)+"\nm33 "+h.string(n)+".xyz, "+h.string(l)+", "+h.string(this._sharedRegisters.animatedTangent)+"\nmov "+h.string(n)+".w, "+h.string(this._sharedRegisters.localPosition)+".w\n"}else this._vertexCode+=
"sub "+h.string(n)+", "+h.string(c)+", "+h.string(this._sharedRegisters.globalPositionVertex)+"\n";this._fragmentCode=this._enableLightFallOff&&"baselineConstrained"!=this._profile?this._fragmentCode+("dp3 "+h.string(d)+".w, "+h.string(n)+", "+h.string(n)+"\nsub "+h.string(d)+".w, "+h.string(d)+".w, "+h.string(a)+".w\nmul "+h.string(d)+".w, "+h.string(d)+".w, "+h.string(b)+".w\nsat "+h.string(d)+".w, "+h.string(d)+".w\nsub "+h.string(d)+".w, "+h.string(this._sharedRegisters.commons)+".w, "+h.string(d)+
".w\nnrm "+h.string(d)+".xyz, "+h.string(n)+"\n"):this._fragmentCode+("nrm "+h.string(d)+".xyz, "+h.string(n)+"\nmov "+h.string(d)+".w, "+h.string(n)+".w\n");-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=4*c.get_index());p&&(this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerLight(this._methodSetup._diffuseMethodVO,d,a,this._registerCache));k&&(this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerLight(this._methodSetup._specularMethodVO,
d,b,this._registerCache));this._registerCache.removeFragmentTempUsage(d)}},compileLightProbeCode:function(){var a,b=[".x",".y",".z",".w"],c=x.toObjectVector(null),d,e=this._usingSpecularMethod&&this.usesProbesForSpecular(),f=this.usesProbesForDiffuse();if(e||f){f&&(this._lightProbeDiffuseIndices=x.toIntVector(null));e&&(this._lightProbeSpecularIndices=x.toIntVector(null));a=0;for(d=this._numProbeRegisters;a<d;){var k=a++;c.set(k,this._registerCache.getFreeFragmentConstant());0==k&&(this._probeWeightsIndex=
4*c.get(k).get_index())}for(var k=0,p=this._numLightProbes;k<p;){var w=k++;a=c.get(Math.floor(w/4)).toString()+h.string(b[w%4]);f&&(d=this._registerCache.getFreeTextureReg(),this._lightProbeDiffuseIndices.set(w,d.get_index()),this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerProbe(this._methodSetup._diffuseMethodVO,d,a,this._registerCache));e&&(d=this._registerCache.getFreeTextureReg(),this._lightProbeSpecularIndices.set(w,d.get_index()),this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerProbe(this._methodSetup._specularMethodVO,
d,a,this._registerCache))}}},__class__:Qg,__properties__:z(Xe.prototype.__properties__,{get_tangentSpace:"get_tangentSpace",get_lightVertexConstantIndex:"get_lightVertexConstantIndex"})});var Pq=function(){this._usesGlobalPosFragment=!1};m["away3d.materials.compilation.MethodDependencyCounter"]=Pq;Pq.__name__=["away3d","materials","compilation","MethodDependencyCounter"];Pq.prototype={_projectionDependencies:null,_normalDependencies:null,_viewDirDependencies:null,_uvDependencies:null,_secondaryUVDependencies:null,
_globalPosDependencies:null,_tangentDependencies:null,_usesGlobalPosFragment:null,_numPointLights:null,_lightSourceMask:null,reset:function(){this._tangentDependencies=this._globalPosDependencies=this._secondaryUVDependencies=this._uvDependencies=this._viewDirDependencies=this._normalDependencies=this._projectionDependencies=0;this._usesGlobalPosFragment=!1},setPositionedLights:function(a,b){this._numPointLights=a;this._lightSourceMask=b},includeMethodVO:function(a){a.needsProjection&&++this._projectionDependencies;
a.needsGlobalVertexPos?(++this._globalPosDependencies,a.needsGlobalFragmentPos&&(this._usesGlobalPosFragment=!0)):a.needsGlobalFragmentPos&&(++this._globalPosDependencies,this._usesGlobalPosFragment=!0);a.needsNormals&&++this._normalDependencies;a.needsTangents&&++this._tangentDependencies;a.needsView&&++this._viewDirDependencies;a.needsUV&&++this._uvDependencies;a.needsSecondaryUV&&++this._secondaryUVDependencies},get_tangentDependencies:function(){return this._tangentDependencies},get_usesGlobalPosFragment:function(){return this._usesGlobalPosFragment},
get_projectionDependencies:function(){return this._projectionDependencies},get_normalDependencies:function(){return this._normalDependencies},get_viewDirDependencies:function(){return this._viewDirDependencies},get_uvDependencies:function(){return this._uvDependencies},get_secondaryUVDependencies:function(){return this._secondaryUVDependencies},get_globalPosDependencies:function(){return this._globalPosDependencies},addWorldSpaceDependencies:function(a){0<this._viewDirDependencies&&++this._globalPosDependencies;
0<this._numPointLights&&0!=(this._lightSourceMask&1)&&(++this._globalPosDependencies,a&&(this._usesGlobalPosFragment=!0))},__class__:Pq,__properties__:{get_globalPosDependencies:"get_globalPosDependencies",get_secondaryUVDependencies:"get_secondaryUVDependencies",get_uvDependencies:"get_uvDependencies",get_viewDirDependencies:"get_viewDirDependencies",get_normalDependencies:"get_normalDependencies",get_projectionDependencies:"get_projectionDependencies",get_usesGlobalPosFragment:"get_usesGlobalPosFragment",
get_tangentDependencies:"get_tangentDependencies"}};var Rd=function(a,b,c){null==c&&(c=!0);this._regName=a;this._regCount=b;this._persistent=c;this.initRegisters(a,b)};m["away3d.materials.compilation.RegisterPool"]=Rd;Rd.__name__=["away3d","materials","compilation","RegisterPool"];Rd._initPool=function(a,b){var c=a+b,d=Rd._regPool;if(null!=t[c]?d.existsReserved(c):d.h.hasOwnProperty(c))return c;var d=x.toObjectVector(null,b,!0),e=Rd._regPool;null!=t[c]?e.setReserved(c,d):e.h[c]=d;var e=[[],[],[],
[]],f=Rd._regCompsPool;null!=t[c]?f.setReserved(c,e):f.h[c]=e;for(f=0;f<b;){var k=f++;d.set(k,new ud(a,k));for(var p=0;4>p;){var w=p++;e[w][k]=new ud(a,k,w)}}return c};Rd.prototype={_vectorRegisters:null,_registerComponents:null,_regName:null,_usedSingleCount:null,_usedVectorCount:null,_regCount:null,_persistent:null,requestFreeVectorReg:function(){for(var a=0,b=this._regCount;a<b;){var c=a++;if(!this.isRegisterUsed(c))return this._persistent&&(a=c,b=this._usedVectorCount,b.set(a,b.get(a)+1)),this._vectorRegisters.get(c)}throw new H(new sa("Register overflow!"));
},requestFreeRegComponent:function(){for(var a=0,b=this._regCount;a<b;){var c=a++;if(!Q.gt(this._usedVectorCount.get(c),0))for(var d=0;4>d;){var e=d++;if(0==this._usedSingleCount.get(e).get(c))return this._persistent&&(a=c,b=this._usedSingleCount.get(e),b.set(a,b.get(a)+1)),this._registerComponents[e][c]}}throw new H(new sa("Register overflow!"));},addUsage:function(a,b){if(-1<a._component)var c=a.get_index(),d=this._usedSingleCount.get(a._component);else c=a.get_index(),d=this._usedVectorCount;d.set(c,
d.get(c)+b)},removeUsage:function(a){if(-1<a._component){var b=a.get_index();a=this._usedSingleCount.get(a._component)}else b=a.get_index(),a=this._usedVectorCount;b=a.set(b,a.get(b)-1);if(Q.gt(0,b))throw new H(new sa("More usages removed than exist!"));},dispose:function(){this._usedVectorCount=this._usedSingleCount=this._registerComponents=this._vectorRegisters=null},hasRegisteredRegs:function(){for(var a=0,b=this._regCount;a<b;){var c=a++;if(this.isRegisterUsed(c))return!0}return!1},initRegisters:function(a,
b){var c=Rd._initPool(a,b),d=Rd._regPool;this._vectorRegisters=null!=t[c]?d.getReserved(c):d.h[c];d=Rd._regCompsPool;this._registerComponents=null!=t[c]?d.getReserved(c):d.h[c];this._usedVectorCount=x.toIntVector(null,b,!0);this._usedSingleCount=x.toObjectVector(null,4,!0);this._usedSingleCount.set(0,x.toIntVector(null,b,!0));this._usedSingleCount.set(1,x.toIntVector(null,b,!0));this._usedSingleCount.set(2,x.toIntVector(null,b,!0));this._usedSingleCount.set(3,x.toIntVector(null,b,!0))},isRegisterUsed:function(a){if(Q.gt(this._usedVectorCount.get(a),
0))return!0;for(var b=0;4>b;){var c=b++;if(Q.gt(this._usedSingleCount.get(c).get(a),0))return!0}return!1},__class__:Rd};var Oq=function(){};m["away3d.materials.compilation.ShaderRegisterData"]=Oq;Oq.__name__=["away3d","materials","compilation","ShaderRegisterData"];Oq.prototype={normalVarying:null,tangentVarying:null,bitangentVarying:null,uvVarying:null,secondaryUVVarying:null,viewDirVarying:null,shadedTarget:null,globalPositionVertex:null,globalPositionVarying:null,localPosition:null,normalInput:null,
tangentInput:null,animatedNormal:null,animatedTangent:null,commons:null,projectionFragment:null,normalFragment:null,viewDirFragment:null,bitangent:null,__class__:Oq};var ud=function(a,b,c){null==c&&(c=-1);this._component=c;this._regName=a;this._index=b;this._toStr=this._regName;0<=this._index&&(this._toStr+=this._index);-1<c&&(this._toStr+="."+ud.COMPONENTS[c])};m["away3d.materials.compilation.ShaderRegisterElement"]=ud;ud.__name__=["away3d","materials","compilation","ShaderRegisterElement"];ud.prototype=
{_regName:null,_index:null,_toStr:null,_component:null,toString:function(){return this._toStr},get_regName:function(){return this._regName},get_index:function(){return this._index},__class__:ud,__properties__:{get_index:"get_index",get_regName:"get_regName"}};var Zn=function(a){Xe.call(this,a)};m["away3d.materials.compilation.SuperShaderCompiler"]=Zn;Zn.__name__=["away3d","materials","compilation","SuperShaderCompiler"];Zn.__super__=Xe;Zn.prototype=z(Xe.prototype,{_pointLightRegisters:null,_dirLightRegisters:null,
initLightData:function(){Xe.prototype.initLightData.call(this);this._pointLightRegisters=x.toObjectVector(null,3*this._numPointLights,!0);this._dirLightRegisters=x.toObjectVector(null,3*this._numDirectionalLights,!0)},calculateDependencies:function(){Xe.prototype.calculateDependencies.call(this);this._dependencyCounter.addWorldSpaceDependencies(!0)},compileNormalCode:function(){var a=x.toObjectVector(null,3,!0);this._sharedRegisters.normalFragment=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._sharedRegisters.normalFragment,
this._dependencyCounter.get_normalDependencies());this._methodSetup._normalMethod.get_hasOutput()&&!this._methodSetup._normalMethod.get_tangentSpace()?(this._vertexCode+=this._methodSetup._normalMethod.getVertexCode(this._methodSetup._normalMethodVO,this._registerCache),this._fragmentCode+=this._methodSetup._normalMethod.getFragmentCode(this._methodSetup._normalMethodVO,this._registerCache,this._sharedRegisters.normalFragment)):(this._sharedRegisters.normalVarying=this._registerCache.getFreeVarying(),
a.set(0,this._registerCache.getFreeVertexConstant()),a.set(1,this._registerCache.getFreeVertexConstant()),a.set(2,this._registerCache.getFreeVertexConstant()),this._registerCache.getFreeVertexConstant(),this._sceneNormalMatrixIndex=4*a.get(0).get_index(),this._methodSetup._normalMethod.get_hasOutput()?(this.compileTangentVertexCode(a),this.compileTangentNormalMapFragmentCode()):(this._vertexCode+="m33 "+h.string(this._sharedRegisters.normalVarying)+".xyz, "+h.string(this._sharedRegisters.animatedNormal)+
", "+h.string(a.get(0))+"\nmov "+h.string(this._sharedRegisters.normalVarying)+".w, "+h.string(this._sharedRegisters.animatedNormal)+".w\t\n",this._fragmentCode+="nrm "+h.string(this._sharedRegisters.normalFragment)+".xyz, "+h.string(this._sharedRegisters.normalVarying)+"\nmov "+h.string(this._sharedRegisters.normalFragment)+".w, "+h.string(this._sharedRegisters.normalVarying)+".w\t\t\n",0<this._dependencyCounter.get_tangentDependencies()&&(this._sharedRegisters.tangentInput=this._registerCache.getFreeVertexAttribute(),
this._tangentBufferIndex=this._sharedRegisters.tangentInput.get_index(),this._sharedRegisters.tangentVarying=this._registerCache.getFreeVarying(),this._vertexCode+="mov "+h.string(this._sharedRegisters.tangentVarying)+", "+h.string(this._sharedRegisters.tangentInput)+"\n")),this._registerCache.removeVertexTempUsage(this._sharedRegisters.animatedNormal))},createNormalRegisters:function(){0<this._dependencyCounter.get_normalDependencies()&&(this._sharedRegisters.normalInput=this._registerCache.getFreeVertexAttribute(),
this._normalBufferIndex=this._sharedRegisters.normalInput.get_index(),this._sharedRegisters.animatedNormal=this._registerCache.getFreeVertexVectorTemp(),this._registerCache.addVertexTempUsages(this._sharedRegisters.animatedNormal,1),this._animatableAttributes.push(this._sharedRegisters.normalInput.toString()),this._animationTargetRegisters.push(this._sharedRegisters.animatedNormal.toString()));this._methodSetup._normalMethod.get_hasOutput()&&(this._sharedRegisters.tangentInput=this._registerCache.getFreeVertexAttribute(),
this._tangentBufferIndex=this._sharedRegisters.tangentInput.get_index(),this._sharedRegisters.animatedTangent=this._registerCache.getFreeVertexVectorTemp(),this._registerCache.addVertexTempUsages(this._sharedRegisters.animatedTangent,1),this._animatableAttributes.push(this._sharedRegisters.tangentInput.toString()),this._animationTargetRegisters.push(this._sharedRegisters.animatedTangent.toString()))},compileTangentVertexCode:function(a){this._sharedRegisters.tangentVarying=this._registerCache.getFreeVarying();
this._sharedRegisters.bitangentVarying=this._registerCache.getFreeVarying();this._vertexCode+="m33 "+h.string(this._sharedRegisters.animatedNormal)+".xyz, "+h.string(this._sharedRegisters.animatedNormal)+", "+h.string(a.get(0))+"\nnrm "+h.string(this._sharedRegisters.animatedNormal)+".xyz, "+h.string(this._sharedRegisters.animatedNormal)+"\n";this._vertexCode+="m33 "+h.string(this._sharedRegisters.animatedTangent)+".xyz, "+h.string(this._sharedRegisters.animatedTangent)+", "+h.string(a.get(0))+"\nnrm "+
h.string(this._sharedRegisters.animatedTangent)+".xyz, "+h.string(this._sharedRegisters.animatedTangent)+"\n";a=this._registerCache.getFreeVertexVectorTemp();this._vertexCode+="mov "+h.string(this._sharedRegisters.tangentVarying)+".x, "+h.string(this._sharedRegisters.animatedTangent)+".x  \nmov "+h.string(this._sharedRegisters.tangentVarying)+".z, "+h.string(this._sharedRegisters.animatedNormal)+".x  \nmov "+h.string(this._sharedRegisters.tangentVarying)+".w, "+h.string(this._sharedRegisters.normalInput)+
".w  \nmov "+h.string(this._sharedRegisters.bitangentVarying)+".x, "+h.string(this._sharedRegisters.animatedTangent)+".y  \nmov "+h.string(this._sharedRegisters.bitangentVarying)+".z, "+h.string(this._sharedRegisters.animatedNormal)+".y  \nmov "+h.string(this._sharedRegisters.bitangentVarying)+".w, "+h.string(this._sharedRegisters.normalInput)+".w  \nmov "+h.string(this._sharedRegisters.normalVarying)+".x, "+h.string(this._sharedRegisters.animatedTangent)+".z  \nmov "+h.string(this._sharedRegisters.normalVarying)+
".z, "+h.string(this._sharedRegisters.animatedNormal)+".z  \nmov "+h.string(this._sharedRegisters.normalVarying)+".w, "+h.string(this._sharedRegisters.normalInput)+".w  \ncrs "+h.string(a)+".xyz, "+h.string(this._sharedRegisters.animatedNormal)+", "+h.string(this._sharedRegisters.animatedTangent)+"\nmov "+h.string(this._sharedRegisters.tangentVarying)+".y, "+h.string(a)+".x    \nmov "+h.string(this._sharedRegisters.bitangentVarying)+".y, "+h.string(a)+".y  \nmov "+h.string(this._sharedRegisters.normalVarying)+
".y, "+h.string(a)+".z    \n";this._registerCache.removeVertexTempUsage(this._sharedRegisters.animatedTangent)},compileTangentNormalMapFragmentCode:function(){var a,b,c;a=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(a,1);b=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(b,1);c=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(c,1);this._fragmentCode+="nrm "+h.string(a)+".xyz, "+
h.string(this._sharedRegisters.tangentVarying)+"\nmov "+h.string(a)+".w, "+h.string(this._sharedRegisters.tangentVarying)+".w\t\nnrm "+h.string(b)+".xyz, "+h.string(this._sharedRegisters.bitangentVarying)+"\nnrm "+h.string(c)+".xyz, "+h.string(this._sharedRegisters.normalVarying)+"\n";var d=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(d,1);this._fragmentCode+=this._methodSetup._normalMethod.getFragmentCode(this._methodSetup._normalMethodVO,this._registerCache,
d)+"m33 "+h.string(this._sharedRegisters.normalFragment)+".xyz, "+h.string(d)+", "+h.string(a)+"\t\nmov "+h.string(this._sharedRegisters.normalFragment)+".w,   "+h.string(this._sharedRegisters.normalVarying)+".w\t\t\t\n";this._registerCache.removeFragmentTempUsage(d);this._methodSetup._normalMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);(this._methodSetup._normalMethodVO.needsGlobalVertexPos||this._methodSetup._normalMethodVO.needsGlobalFragmentPos)&&
this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex);this._registerCache.removeFragmentTempUsage(b);this._registerCache.removeFragmentTempUsage(a);this._registerCache.removeFragmentTempUsage(c)},compileViewDirCode:function(){var a=this._registerCache.getFreeVertexConstant();this._sharedRegisters.viewDirVarying=this._registerCache.getFreeVarying();this._sharedRegisters.viewDirFragment=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._sharedRegisters.viewDirFragment,
this._dependencyCounter.get_viewDirDependencies());this._cameraPositionIndex=4*a.get_index();this._vertexCode+="sub "+h.string(this._sharedRegisters.viewDirVarying)+", "+h.string(a)+", "+h.string(this._sharedRegisters.globalPositionVertex)+"\n";this._fragmentCode+="nrm "+h.string(this._sharedRegisters.viewDirFragment)+".xyz, "+h.string(this._sharedRegisters.viewDirVarying)+"\nmov "+h.string(this._sharedRegisters.viewDirFragment)+".w,   "+h.string(this._sharedRegisters.viewDirVarying)+".w \t\t\n";
this._registerCache.removeVertexTempUsage(this._sharedRegisters.globalPositionVertex)},compileLightingCode:function(){var a=null;this._sharedRegisters.shadedTarget=this._registerCache.getFreeFragmentVectorTemp();this._registerCache.addFragmentTempUsages(this._sharedRegisters.shadedTarget,1);this._vertexCode+=this._methodSetup._diffuseMethod.getVertexCode(this._methodSetup._diffuseMethodVO,this._registerCache);this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentPreLightingCode(this._methodSetup._diffuseMethodVO,
this._registerCache);this._usingSpecularMethod&&(this._vertexCode+=this._methodSetup._specularMethod.getVertexCode(this._methodSetup._specularMethodVO,this._registerCache),this._fragmentCode+=this._methodSetup._specularMethod.getFragmentPreLightingCode(this._methodSetup._specularMethodVO,this._registerCache));this.usesLights()&&(this.initLightRegisters(),this.compileDirectionalLightCode(),this.compilePointLightCode());this.usesProbes()&&this.compileLightProbeCode();this._vertexCode+=this._methodSetup._ambientMethod.getVertexCode(this._methodSetup._ambientMethodVO,
this._registerCache);this._fragmentCode+=this._methodSetup._ambientMethod.getFragmentCode(this._methodSetup._ambientMethodVO,this._registerCache,this._sharedRegisters.shadedTarget);this._methodSetup._ambientMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment);this._methodSetup._ambientMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);null!=this._methodSetup._shadowMethod&&(this._vertexCode+=this._methodSetup._shadowMethod.getVertexCode(this._methodSetup._shadowMethodVO,
this._registerCache),0==this._dependencyCounter.get_normalDependencies()?(a=this._registerCache.getFreeFragmentVectorTemp(),this._registerCache.addFragmentTempUsages(a,1)):a=this._sharedRegisters.normalFragment,this._methodSetup._diffuseMethod.set_shadowRegister(a),this._fragmentCode+=this._methodSetup._shadowMethod.getFragmentCode(this._methodSetup._shadowMethodVO,this._registerCache,a));this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentPostLightingCode(this._methodSetup._diffuseMethodVO,
this._registerCache,this._sharedRegisters.shadedTarget);this._alphaPremultiplied&&(this._fragmentCode+="add "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(this._sharedRegisters.commons)+".z\ndiv "+h.string(this._sharedRegisters.shadedTarget)+".xyz, "+h.string(this._sharedRegisters.shadedTarget)+", "+h.string(this._sharedRegisters.shadedTarget)+".w\nsub "+h.string(this._sharedRegisters.shadedTarget)+".w, "+h.string(this._sharedRegisters.shadedTarget)+
".w, "+h.string(this._sharedRegisters.commons)+".z\nsat "+h.string(this._sharedRegisters.shadedTarget)+".xyz, "+h.string(this._sharedRegisters.shadedTarget)+"\n");this._methodSetup._diffuseMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment);this._methodSetup._diffuseMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment);this._usingSpecularMethod&&(this._methodSetup._specularMethod.set_shadowRegister(a),
this._fragmentCode+=this._methodSetup._specularMethod.getFragmentPostLightingCode(this._methodSetup._specularMethodVO,this._registerCache,this._sharedRegisters.shadedTarget),this._methodSetup._specularMethodVO.needsNormals&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.normalFragment),this._methodSetup._specularMethodVO.needsView&&this._registerCache.removeFragmentTempUsage(this._sharedRegisters.viewDirFragment))},initLightRegisters:function(){for(var a=this._dirLightRegisters.get_length(),
b=0;b<a;){var c=b++;this._dirLightRegisters.set(c,this._registerCache.getFreeFragmentConstant());-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=4*this._dirLightRegisters.get(c).get_index())}a=this._pointLightRegisters.get_length();for(b=0;b<a;)c=b++,this._pointLightRegisters.set(c,this._registerCache.getFreeFragmentConstant()),-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=4*this._pointLightRegisters.get(c).get_index())},compileDirectionalLightCode:function(){var a,
b,c,d=0,e=this._usingSpecularMethod&&this.usesLightsForSpecular(),f=this.usesLightsForDiffuse();if(e||f)for(var k=0,p=this._numDirectionalLights;k<p;)k++,c=this._dirLightRegisters.get(d++),a=this._dirLightRegisters.get(d++),b=this._dirLightRegisters.get(d++),f&&(this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerLight(this._methodSetup._diffuseMethodVO,c,a,this._registerCache)),e&&(this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerLight(this._methodSetup._specularMethodVO,
c,b,this._registerCache))},compilePointLightCode:function(){var a,b,c,d,e=0,f=this._usingSpecularMethod&&this.usesLightsForSpecular(),k=this.usesLightsForDiffuse();if(f||k)for(var p=0,w=this._numPointLights;p<w;)p++,c=this._pointLightRegisters.get(e++),a=this._pointLightRegisters.get(e++),b=this._pointLightRegisters.get(e++),d=this._registerCache.getFreeFragmentVectorTemp(),this._registerCache.addFragmentTempUsages(d,1),this._fragmentCode+="sub "+h.string(d)+", "+h.string(c)+", "+h.string(this._sharedRegisters.globalPositionVarying)+
"\ndp3 "+h.string(d)+".w, "+h.string(d)+", "+h.string(d)+"\nsub "+h.string(d)+".w, "+h.string(d)+".w, "+h.string(a)+".w\nmul "+h.string(d)+".w, "+h.string(d)+".w, "+h.string(b)+".w\nsat "+h.string(d)+".w, "+h.string(d)+".w\nsub "+h.string(d)+".w, "+h.string(c)+".w, "+h.string(d)+".w\nnrm "+h.string(d)+".xyz, "+h.string(d)+"\n",-1==this._lightFragmentConstantIndex&&(this._lightFragmentConstantIndex=4*c.get_index()),k&&(this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerLight(this._methodSetup._diffuseMethodVO,
d,a,this._registerCache)),f&&(this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerLight(this._methodSetup._specularMethodVO,d,b,this._registerCache)),this._registerCache.removeFragmentTempUsage(d)},compileLightProbeCode:function(){var a,b=[".x",".y",".z",".w"],c=x.toObjectVector(null),d,e=this._usingSpecularMethod&&this.usesProbesForSpecular(),f=this.usesProbesForDiffuse();if(e||f){f&&(this._lightProbeDiffuseIndices=x.toIntVector(null));e&&(this._lightProbeSpecularIndices=x.toIntVector(null));
a=0;for(d=this._numProbeRegisters;a<d;){var k=a++;c.set(k,this._registerCache.getFreeFragmentConstant());0==k&&(this._probeWeightsIndex=4*c.get(k).get_index())}for(var k=0,p=this._numLightProbes;k<p;){var w=k++;a=c.get(Math.floor(w/4)).toString()+b[w%4];f&&(d=this._registerCache.getFreeTextureReg(),this._lightProbeDiffuseIndices.set(w,d.get_index()),this._fragmentCode+=this._methodSetup._diffuseMethod.getFragmentCodePerProbe(this._methodSetup._diffuseMethodVO,d,a,this._registerCache));e&&(d=this._registerCache.getFreeTextureReg(),
this._lightProbeSpecularIndices.set(w,d.get_index()),this._fragmentCode+=this._methodSetup._specularMethod.getFragmentCodePerProbe(this._methodSetup._specularMethodVO,d,a,this._registerCache))}}},__class__:Zn});var oh=function(){Ka.call(this)};m["away3d.materials.lightpickers.LightPickerBase"]=oh;oh.__name__=["away3d","materials","lightpickers","LightPickerBase"];oh.__interfaces__=[bd];oh.__super__=Ka;oh.prototype=z(Ka.prototype,{_numPointLights:null,_numDirectionalLights:null,_numCastingPointLights:null,
_numCastingDirectionalLights:null,_numLightProbes:null,_allPickedLights:null,_pointLights:null,_castingPointLights:null,_directionalLights:null,_castingDirectionalLights:null,_lightProbes:null,_lightProbeWeights:null,dispose:function(){},get_assetType:function(){return"lightPicker"},get_numDirectionalLights:function(){return this._numDirectionalLights},get_numPointLights:function(){return this._numPointLights},get_numCastingDirectionalLights:function(){return this._numCastingDirectionalLights},get_numCastingPointLights:function(){return this._numCastingPointLights},
get_numLightProbes:function(){return this._numLightProbes},get_pointLights:function(){return this._pointLights},get_directionalLights:function(){return this._directionalLights},get_castingPointLights:function(){return this._castingPointLights},get_castingDirectionalLights:function(){return this._castingDirectionalLights},get_lightProbes:function(){return this._lightProbes},get_lightProbeWeights:function(){return this._lightProbeWeights},get_allPickedLights:function(){return this._allPickedLights},
collectLights:function(a,b){this.updateProbeWeights(a)},updateProbeWeights:function(a){a=a.get_sourceEntity().get_scenePosition();for(var b,c=a.x,d=a.y,e=a.z,f,k,p=a=0,w=this._numLightProbes;p<w;){var h=p++;b=this._lightProbes.get(h).get_scenePosition();f=c-b.x;k=d-b.y;b=e-b.z;f=f*f+k*k+b*b;f=1E-5<f?1/f:5E7;this._lightProbeWeights.set(h,f);a+=f}a=1/a;c=0;for(d=this._numLightProbes;c<d;)e=c++,p=this._lightProbeWeights,p.set(e,p.get(e)*a)},__class__:oh,__properties__:z(Ka.prototype.__properties__,{get_allPickedLights:"get_allPickedLights",
get_lightProbeWeights:"get_lightProbeWeights",get_lightProbes:"get_lightProbes",get_castingDirectionalLights:"get_castingDirectionalLights",get_castingPointLights:"get_castingPointLights",get_directionalLights:"get_directionalLights",get_pointLights:"get_pointLights",get_numLightProbes:"get_numLightProbes",get_numCastingPointLights:"get_numCastingPointLights",get_numCastingDirectionalLights:"get_numCastingDirectionalLights",get_numPointLights:"get_numPointLights",get_numDirectionalLights:"get_numDirectionalLights",
get_assetType:"get_assetType"})});var ej=function(a){this.set_lights(a);Ka.call(this)};m["away3d.materials.lightpickers.StaticLightPicker"]=ej;ej.__name__=["away3d","materials","lightpickers","StaticLightPicker"];ej.__super__=oh;ej.prototype=z(oh.prototype,{_lights:null,get_lights:function(){return this._lights},set_lights:function(a){var b=0,c=0,d=0,e=0,f=0,k;null!=this._lights&&this.clearListeners();this._lights=a;var p=x.toObjectVector(null),w=0;for(k=a.length;w<k;){var h=w++;p.set(h,a[h])}this._allPickedLights=
p;this._pointLights=x.toObjectVector(null);this._castingPointLights=x.toObjectVector(null);this._directionalLights=x.toObjectVector(null);this._castingDirectionalLights=x.toObjectVector(null);this._lightProbes=x.toObjectVector(null);p=0;for(w=a.length;p<w;)k=p++,k=a[k],k.addEventListener("castsShadowChange",u(this,this.onCastShadowChange)),y.__instanceof(k,je)?k.get_castsShadows()?this._castingPointLights.set(d++,y.__cast(k,je)):this._pointLights.set(b++,y.__cast(k,je)):y.__instanceof(k,Ud)?k.get_castsShadows()?
this._castingDirectionalLights.set(e++,y.__cast(k,Ud)):this._directionalLights.set(c++,y.__cast(k,Ud)):y.__instanceof(k,Kk)&&this._lightProbes.set(f++,y.__cast(k,Kk));if(this._numDirectionalLights==c&&this._numPointLights==b&&this._numLightProbes==f&&this._numCastingPointLights==d&&this._numCastingDirectionalLights==e)return a;this._numDirectionalLights=c;this._numCastingDirectionalLights=e;this._numPointLights=b;this._numCastingPointLights=d;this._numLightProbes=f;this._lightProbeWeights=x.toFloatVector(null,
4*Math.ceil(f/4),!0);this.dispatchEvent(new ca("change"));return a},clearListeners:function(){for(var a=0,b=this._lights.length;a<b;){var c=a++;this._lights[c].removeEventListener("castsShadowChange",u(this,this.onCastShadowChange))}},onCastShadowChange:function(a){a=y.__cast(a.target,nd);y.__instanceof(a,je)?this.updatePointCasting(y.__cast(a,je)):y.__instanceof(a,Ud)&&this.updateDirectionalCasting(y.__cast(a,Ud));this.dispatchEvent(new ca("change"))},updateDirectionalCasting:function(a){a.get_castsShadows()?
(--this._numDirectionalLights,++this._numCastingDirectionalLights,this._directionalLights.splice(this._directionalLights.indexOf(y.__cast(a,Ud),0),1),this._castingDirectionalLights.push(a)):(++this._numDirectionalLights,--this._numCastingDirectionalLights,this._castingDirectionalLights.splice(this._castingDirectionalLights.indexOf(y.__cast(a,Ud),0),1),this._directionalLights.push(a))},updatePointCasting:function(a){a.get_castsShadows()?(--this._numPointLights,++this._numCastingPointLights,this._pointLights.splice(this._pointLights.indexOf(y.__cast(a,
je),0),1),this._castingPointLights.push(a)):(++this._numPointLights,--this._numCastingPointLights,this._castingPointLights.splice(this._castingPointLights.indexOf(y.__cast(a,je),0),1),this._pointLights.push(a))},__class__:ej,__properties__:z(oh.prototype.__properties__,{set_lights:"set_lights",get_lights:"get_lights"})});var Md=function(){Ka.call(this)};m["away3d.materials.methods.ShadingMethodBase"]=Md;Md.__name__=["away3d","materials","methods","ShadingMethodBase"];Md.__super__=Ka;Md.prototype=
z(Ka.prototype,{_sharedRegisters:null,_passes:null,initVO:function(a){},initConstants:function(a){},get_sharedRegisters:function(){return this._sharedRegisters},set_sharedRegisters:function(a){return this._sharedRegisters=a},get_passes:function(){return this._passes},dispose:function(){},createMethodVO:function(){return new $n},reset:function(){this.cleanCompilationData()},cleanCompilationData:function(){},getVertexCode:function(a,b){return""},activate:function(a,b){},setRenderState:function(a,b,
c,d){},deactivate:function(a,b){},getTex2DSampleCode:function(a,b,c,d,e,f){var k=a.repeatTextures?"wrap":"clamp";null!=f&&(k=f);f=this.getFormatStringForTexture(d);d=a.useMipmapping&&d.get_hasMipMaps();a=a.useSmoothTextures?d?"linear,miplinear":"linear":d?"nearest,mipnearest":"nearest";null==e&&(e=this._sharedRegisters.uvVarying);return"tex "+h.string(b)+", "+h.string(e)+", "+h.string(c)+" <2d,"+a+","+f+k+">\n"},getTexCubeSampleCode:function(a,b,c,d,e){var f=this.getFormatStringForTexture(d);d=a.useMipmapping&&
d.get_hasMipMaps();a=a.useSmoothTextures?d?"linear,miplinear":"linear":d?"nearest,mipnearest":"nearest";return"tex "+h.string(b)+", "+h.string(e)+", "+h.string(c)+" <cube,"+f+a+">\n"},getFormatStringForTexture:function(a){switch(a.get_format()){case 3:return"dxt1,";case 4:return"dxt5,";default:return""}},invalidateShaderProgram:function(){this.dispatchEvent(new Yi("ShaderInvalidated"))},copyFrom:function(a){},getSmoothingFilter:function(a,b){if(a)switch(b){case 0:return 4;case 1:return 1;case 2:return 2;
case 3:return 3;case 4:return 0}else return 5},__class__:Md,__properties__:z(Ka.prototype.__properties__,{get_passes:"get_passes",set_sharedRegisters:"set_sharedRegisters",get_sharedRegisters:"get_sharedRegisters"})});var Jb=function(){Ka.call(this)};m["away3d.materials.methods.EffectMethodBase"]=Jb;Jb.__name__=["away3d","materials","methods","EffectMethodBase"];Jb.__interfaces__=[bd];Jb.__super__=Md;Jb.prototype=z(Md.prototype,{get_assetType:function(){return"effectsMethod"},getFragmentCode:function(a,
b,c){throw new H(new bb);},__class__:Jb,__properties__:z(Md.prototype.__properties__,{get_assetType:"get_assetType"})});var hn=function(a,b){null==b&&(b=!1);Ka.call(this);this._texture=a;this._useSecondaryUV=b};m["away3d.materials.methods.AlphaMaskMethod"]=hn;hn.__name__=["away3d","materials","methods","AlphaMaskMethod"];hn.__super__=Jb;hn.prototype=z(Jb.prototype,{_texture:null,_useSecondaryUV:null,initVO:function(a){a.needsSecondaryUV=this._useSecondaryUV;a.needsUV=!this._useSecondaryUV},get_useSecondaryUV:function(){return this._useSecondaryUV},
set_useSecondaryUV:function(a){if(this._useSecondaryUV==a)return a;this._useSecondaryUV=a;this.invalidateShaderProgram();return a},get_texture:function(){return this._texture},set_texture:function(a){return this._texture=a},activate:function(a,b){b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b))},getFragmentCode:function(a,b,c){var d=b.getFreeTextureReg();b=b.getFreeFragmentVectorTemp();var e=this._useSecondaryUV?this._sharedRegisters.secondaryUVVarying:this._sharedRegisters.uvVarying;
a.texturesIndex=d.get_index();return this.getTex2DSampleCode(a,b,d,this._texture,e)+"mul "+h.string(c)+", "+h.string(c)+", "+h.string(b)+".x\n"},__class__:hn,__properties__:z(Jb.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture",set_useSecondaryUV:"set_useSecondaryUV",get_useSecondaryUV:"get_useSecondaryUV"})});var Ef=function(){Ka.call(this)};m["away3d.materials.methods.LightingMethodBase"]=Ef;Ef.__name__=["away3d","materials","methods","LightingMethodBase"];Ef.__super__=
Md;Ef.prototype=z(Md.prototype,{_modulateMethod:null,getFragmentPreLightingCode:function(a,b){return""},getFragmentCodePerLight:function(a,b,c,d){return""},getFragmentCodePerProbe:function(a,b,c,d){return""},getFragmentPostLightingCode:function(a,b,c){return""},__class__:Ef});var Vc=function(){this._specularR=this._specularG=this._specularB=1;this._specularColor=16777215;this._specular=1;this._gloss=50;Ka.call(this)};m["away3d.materials.methods.BasicSpecularMethod"]=Vc;Vc.__name__=["away3d","materials",
"methods","BasicSpecularMethod"];Vc.__super__=Ef;Vc.prototype=z(Ef.prototype,{_useTexture:null,_totalLightColorReg:null,_specularTextureRegister:null,_specularTexData:null,_specularDataRegister:null,_texture:null,_gloss:null,_specular:null,_specularColor:null,_specularR:null,_specularG:null,_specularB:null,_shadowRegister:null,_isFirstLight:null,initVO:function(a){a.needsUV=this._useTexture;a.needsNormals=0<a.numLights;a.needsView=0<a.numLights},get_gloss:function(){return this._gloss},set_gloss:function(a){return this._gloss=
a},get_specular:function(){return this._specular},set_specular:function(a){if(a==this._specular)return a;this._specular=a;this.updateSpecular();return a},get_specularColor:function(){return this._specularColor},set_specularColor:function(a){if(this._specularColor==a)return a;0!=this._specularColor&&0!=a||this.invalidateShaderProgram();this._specularColor=a;this.updateSpecular();return a},get_texture:function(){return this._texture},set_texture:function(a){null!=a==this._useTexture&&(null==a||null==
this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},copyFrom:function(a){a=y.__cast(a,Vc);this.set_texture(a.get_texture());this.set_specular(a.get_specular());this.set_specularColor(a.get_specularColor());this.set_gloss(a.get_gloss())},cleanCompilationData:function(){Ef.prototype.cleanCompilationData.call(this);this._specularDataRegister=this._specularTexData=
this._specularTextureRegister=this._totalLightColorReg=this._shadowRegister=null},getFragmentPreLightingCode:function(a,b){var c="";this._isFirstLight=!0;0<a.numLights&&(this._specularDataRegister=b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*this._specularDataRegister.get_index(),this._useTexture?(this._specularTexData=b.getFreeFragmentVectorTemp(),b.addFragmentTempUsages(this._specularTexData,1),this._specularTextureRegister=b.getFreeTextureReg(),a.texturesIndex=this._specularTextureRegister.get_index(),
c=this.getTex2DSampleCode(a,this._specularTexData,this._specularTextureRegister,this._texture)):this._specularTextureRegister=null,this._totalLightColorReg=b.getFreeFragmentVectorTemp(),b.addFragmentTempUsages(this._totalLightColorReg,1));return c},getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));var k=this._sharedRegisters.viewDirFragment,p=this._sharedRegisters.normalFragment,e=e+("add "+
h.string(f)+", "+h.string(b)+", "+h.string(k)+"\nnrm "+h.string(f)+".xyz, "+h.string(f)+"\ndp3 "+h.string(f)+".w, "+h.string(p)+", "+h.string(f)+"\nsat "+h.string(f)+".w, "+h.string(f)+".w\n"),e=this._useTexture?e+("mul "+h.string(this._specularTexData)+".w, "+h.string(this._specularTexData)+".y, "+h.string(this._specularDataRegister)+".w\npow "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._specularTexData)+".w\n"):e+("pow "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._specularDataRegister)+
".w\n");a.useLightFallOff&&(e+="mul "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(b)+".w\n");null!=this._modulateMethod&&(e+=h.string(this._modulateMethod(a,f,d,this._sharedRegisters)));e+="mul "+h.string(f)+".xyz, "+h.string(c)+", "+h.string(f)+".w\n";this._isFirstLight||(e+="add "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(f)+"\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},getFragmentCodePerProbe:function(a,b,c,d){var e="",
f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));var k=this._sharedRegisters.normalFragment,p=this._sharedRegisters.viewDirFragment,e=e+("dp3 "+h.string(f)+".w, "+h.string(k)+", "+h.string(p)+"\nadd "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(f)+".w\nmul "+h.string(f)+", "+h.string(f)+".w, "+h.string(k)+"\nsub "+h.string(f)+", "+h.string(f)+", "+h.string(p)+"\ntex "+h.string(f)+", "+h.string(f)+", "+h.string(b)+" <cube,"+(a.useSmoothTextures?
"linear":"nearest")+",miplinear>\nmul "+h.string(f)+".xyz, "+h.string(f)+", "+c+"\n");null!=this._modulateMethod&&(e+=h.string(this._modulateMethod(a,f,d,this._sharedRegisters)));this._isFirstLight||(e+="add "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(f)+"\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},getFragmentPostLightingCode:function(a,b,c){var d="";if(0==a.numLights)return d;null!=this._shadowRegister&&(d+="mul "+h.string(this._totalLightColorReg)+
".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(this._shadowRegister)+".w\n");this._useTexture&&(d+="mul "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(this._specularTexData)+".x\n",b.removeFragmentTempUsage(this._specularTexData));d+="mul "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(this._specularDataRegister)+"\nadd "+h.string(c)+".xyz, "+h.string(c)+", "+h.string(this._totalLightColorReg)+
"\n";b.removeFragmentTempUsage(this._totalLightColorReg);return d},activate:function(a,b){if(0!=a.numLights){this._useTexture&&(b._context3D.setSamplerStateAt(a.texturesIndex,a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),a.useMipmapping?0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)));var c=a.fragmentConstantsIndex,d=a.fragmentData;d.set(c,this._specularR);d.set(c+1,this._specularG);d.set(c+2,this._specularB);d.set(c+3,this._gloss)}},
updateSpecular:function(){this._specularR=Q.toFloat(this._specularColor>>>16&255)/Q.toFloat(255)*this._specular;this._specularG=Q.toFloat(this._specularColor>>>8&255)/Q.toFloat(255)*this._specular;this._specularB=Q.toFloat(this._specularColor&255)/Q.toFloat(255)*this._specular},set_shadowRegister:function(a){return this._shadowRegister=a},__class__:Vc,__properties__:z(Ef.prototype.__properties__,{set_shadowRegister:"set_shadowRegister",set_texture:"set_texture",get_texture:"get_texture",set_specularColor:"set_specularColor",
get_specularColor:"get_specularColor",set_specular:"set_specular",get_specular:"get_specular",set_gloss:"set_gloss",get_gloss:"get_gloss"})});var Vk=function(){Vc.call(this)};m["away3d.materials.methods.AnisotropicSpecularMethod"]=Vk;Vk.__name__=["away3d","materials","methods","AnisotropicSpecularMethod"];Vk.__super__=Vc;Vk.prototype=z(Vc.prototype,{initVO:function(a){a.needsTangents=!0;a.needsView=!0},getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:
(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));e+="nrm "+h.string(f)+".xyz, "+h.string(this._sharedRegisters.tangentVarying)+".xyz\ndp3 "+h.string(f)+".w, "+h.string(f)+".xyz, "+h.string(b)+".xyz\ndp3 "+h.string(f)+".z, "+h.string(f)+".xyz, "+h.string(this._sharedRegisters.viewDirFragment)+".xyz\n";e+="sin "+h.string(f)+".x, "+h.string(f)+".w\nsin "+h.string(f)+".y, "+h.string(f)+".z\nmul "+h.string(f)+".x, "+h.string(f)+".x, "+h.string(f)+".y\ncos "+h.string(f)+".z, "+h.string(f)+
".z\ncos "+h.string(f)+".w, "+h.string(f)+".w\nmul "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(f)+".z\nsub "+h.string(f)+".w, "+h.string(f)+".x, "+h.string(f)+".w\n";e=this._useTexture?e+("mul "+h.string(this._specularTexData)+".w, "+h.string(this._specularTexData)+".y, "+h.string(this._specularDataRegister)+".w\npow "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._specularTexData)+".w\n"):e+("pow "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._specularDataRegister)+".w\n");e+="mul "+
h.string(f)+".w, "+h.string(f)+".w, "+h.string(b)+".w\n";null!=this._modulateMethod&&(e+=h.string(this._modulateMethod(a,f,d,this._sharedRegisters)));e+="mul "+h.string(f)+".xyz, "+h.string(c)+".xyz, "+h.string(f)+".w\n";this._isFirstLight||(e+="add "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+".xyz, "+h.string(f)+".xyz\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},__class__:Vk});var Ve=function(){this._lightAmbientR=this._lightAmbientG=this._lightAmbientB=
0;this._ambient=1;this._ambientR=this._ambientG=this._ambientB=0;this._ambientColor=16777215;Ka.call(this)};m["away3d.materials.methods.BasicAmbientMethod"]=Ve;Ve.__name__=["away3d","materials","methods","BasicAmbientMethod"];Ve.__super__=Md;Ve.prototype=z(Md.prototype,{_useTexture:null,_texture:null,_ambientInputRegister:null,_ambientColor:null,_ambientR:null,_ambientG:null,_ambientB:null,_ambient:null,_lightAmbientR:null,_lightAmbientG:null,_lightAmbientB:null,initVO:function(a){a.needsUV=this._useTexture},
initConstants:function(a){a.fragmentData.set(a.fragmentConstantsIndex+3,1)},get_ambient:function(){return this._ambient},set_ambient:function(a){return this._ambient=a},get_ambientColor:function(){return this._ambientColor},set_ambientColor:function(a){return this._ambientColor=a},get_texture:function(){return this._texture},set_texture:function(a){null!=a==this._useTexture&&(null==a||null==this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||
this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},copyFrom:function(a){a=y.__cast(a,Ve);this.set_ambient(a.get_ambient());this.set_ambientColor(a.get_ambientColor())},cleanCompilationData:function(){Md.prototype.cleanCompilationData.call(this);this._ambientInputRegister=null},getFragmentCode:function(a,b,c){var d="";this._useTexture?(this._ambientInputRegister=b.getFreeTextureReg(),a.texturesIndex=this._ambientInputRegister.get_index(),d+=this.getTex2DSampleCode(a,c,
this._ambientInputRegister,this._texture)+"div "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(c)+".w\n"):(this._ambientInputRegister=b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*this._ambientInputRegister.get_index(),d+="mov "+h.string(c)+", "+h.string(this._ambientInputRegister)+"\n");return d},activate:function(a,b){this._useTexture&&(b.get_context3D().setSamplerStateAt(a.texturesIndex,a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),a.useMipmapping?
0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)))},updateAmbient:function(){this._ambientR=(this._ambientColor>>16&255)/255*this._ambient*this._lightAmbientR;this._ambientG=(this._ambientColor>>8&255)/255*this._ambient*this._lightAmbientG;this._ambientB=(this._ambientColor&255)/255*this._ambient*this._lightAmbientB},setRenderState:function(a,b,c,d){this.updateAmbient();this._useTexture||(b=a.fragmentConstantsIndex,a=a.fragmentData,a.set(b,this._ambientR),a.set(b+
1,this._ambientG),a.set(b+2,this._ambientB))},__class__:Ve,__properties__:z(Md.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture",set_ambientColor:"set_ambientColor",get_ambientColor:"get_ambientColor",set_ambient:"set_ambient",get_ambient:"get_ambient"})});var $b=function(){this._alphaThreshold=0;this._diffuseR=this._diffuseG=this._diffuseB=this._diffuseA=1;this._diffuseColor=16777215;Ka.call(this)};m["away3d.materials.methods.BasicDiffuseMethod"]=$b;$b.__name__=["away3d",
"materials","methods","BasicDiffuseMethod"];$b.__super__=Ef;$b.prototype=z(Ef.prototype,{_useAmbientTexture:null,_useTexture:null,_totalLightColorReg:null,_diffuseInputRegister:null,_texture:null,_diffuseColor:null,_diffuseR:null,_diffuseG:null,_diffuseB:null,_diffuseA:null,_shadowRegister:null,_alphaThreshold:null,_isFirstLight:null,get_useAmbientTexture:function(){return this._useAmbientTexture},set_useAmbientTexture:function(a){if(this._useAmbientTexture==a)return a;this._useAmbientTexture=a;this.invalidateShaderProgram();
return a},initVO:function(a){a.needsUV=this._useTexture;a.needsNormals=0<a.numLights},generateMip:function(a){this._useTexture&&this._texture.getTextureForStage3D(a)},get_diffuseAlpha:function(){return this._diffuseA},set_diffuseAlpha:function(a){return this._diffuseA=a},get_diffuseColor:function(){return this._diffuseColor},set_diffuseColor:function(a){this._diffuseColor=a;this.updateDiffuse();return a},get_texture:function(){return this._texture},set_texture:function(a){null!=a==this._useTexture&&
(null==a||null==this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},get_alphaThreshold:function(){return this._alphaThreshold},set_alphaThreshold:function(a){0>a?a=0:1<a&&(a=1);if(a==this._alphaThreshold)return a;0!=a&&0!=this._alphaThreshold||this.invalidateShaderProgram();return this._alphaThreshold=a},dispose:function(){this._texture=null},copyFrom:function(a){a=
y.__cast(a,$b);this.set_alphaThreshold(a.get_alphaThreshold());this.set_texture(a.get_texture());this.set_useAmbientTexture(a.get_useAmbientTexture());this.set_diffuseAlpha(a.get_diffuseAlpha());this.set_diffuseColor(a.get_diffuseColor())},cleanCompilationData:function(){Ef.prototype.cleanCompilationData.call(this);this._diffuseInputRegister=this._totalLightColorReg=this._shadowRegister=null},getFragmentPreLightingCode:function(a,b){this._isFirstLight=!0;0<a.numLights&&(this._totalLightColorReg=b.getFreeFragmentVectorTemp(),
b.addFragmentTempUsages(this._totalLightColorReg,1));return""},getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));e+="dp3 "+h.string(f)+".x, "+h.string(b)+", "+h.string(this._sharedRegisters.normalFragment)+"\nmax "+h.string(f)+".w, "+h.string(f)+".x, "+h.string(this._sharedRegisters.commons)+".y\n";a.useLightFallOff&&(e+="mul "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(b)+".w\n");null!=
this._modulateMethod&&(e+=h.string(this._modulateMethod(a,f,d,this._sharedRegisters)));e+="mul "+h.string(f)+", "+h.string(f)+".w, "+h.string(c)+"\n";this._isFirstLight||(e+="add "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(f)+"\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},getFragmentCodePerProbe:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,
1));e+="tex "+h.string(f)+", "+h.string(this._sharedRegisters.normalFragment)+", "+h.string(b)+" <cube,linear,miplinear>\nmul "+h.string(f)+".xyz, "+h.string(f)+".xyz, "+c+"\n";null!=this._modulateMethod&&(e+=h.string(this._modulateMethod(a,f,d,this._sharedRegisters)));this._isFirstLight||(e+="add "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(f)+"\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},getFragmentPostLightingCode:function(a,
b,c){var d="",e,f;0<a.numLights?(null!=this._shadowRegister&&(d+=this.applyShadow(a,b)),e=b.getFreeFragmentVectorTemp(),b.addFragmentTempUsages(e,1)):e=c;this._useTexture?(this._diffuseInputRegister=b.getFreeTextureReg(),a.texturesIndex=this._diffuseInputRegister.get_index(),d+=this.getTex2DSampleCode(a,e,this._diffuseInputRegister,this._texture),0<this._alphaThreshold&&(f=b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*f.get_index(),d+="sub "+h.string(e)+".w, "+h.string(e)+".w, "+h.string(f)+
".x\nkil "+h.string(e)+".w\nadd "+h.string(e)+".w, "+h.string(e)+".w, "+h.string(f)+".x\n")):(this._diffuseInputRegister=b.getFreeFragmentConstant(),a.fragmentConstantsIndex=4*this._diffuseInputRegister.get_index(),d+="mov "+h.string(e)+", "+h.string(this._diffuseInputRegister)+"\n");if(0==a.numLights)return d;d+="sat "+h.string(this._totalLightColorReg)+", "+h.string(this._totalLightColorReg)+"\n";this._useAmbientTexture?d+="mul "+h.string(e)+".xyz, "+h.string(e)+", "+h.string(this._totalLightColorReg)+
"\nmul "+h.string(this._totalLightColorReg)+".xyz, "+h.string(c)+", "+h.string(this._totalLightColorReg)+"\nsub "+h.string(c)+".xyz, "+h.string(c)+", "+h.string(this._totalLightColorReg)+"\nadd "+h.string(c)+".xyz, "+h.string(e)+", "+h.string(c)+"\n":(d+="add "+h.string(c)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(c)+"\n",d=this._useTexture?d+("mul "+h.string(c)+".xyz, "+h.string(e)+", "+h.string(c)+"\nmov "+h.string(c)+".w, "+h.string(e)+".w\n"):d+("mul "+h.string(c)+".xyz, "+h.string(this._diffuseInputRegister)+
", "+h.string(c)+"\nmov "+h.string(c)+".w, "+h.string(this._diffuseInputRegister)+".w\n"));b.removeFragmentTempUsage(this._totalLightColorReg);b.removeFragmentTempUsage(e);return d},applyShadow:function(a,b){return"mul "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(this._shadowRegister)+".w\n"},activate:function(a,b){if(this._useTexture)b._context3D.setSamplerStateAt(a.texturesIndex,a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),
a.useMipmapping?0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)),0<this._alphaThreshold&&a.fragmentData.set(a.fragmentConstantsIndex,this._alphaThreshold);else{var c=a.fragmentConstantsIndex,d=a.fragmentData;d.set(c,this._diffuseR);d.set(c+1,this._diffuseG);d.set(c+2,this._diffuseB);d.set(c+3,this._diffuseA)}},updateDiffuse:function(){this._diffuseR=(this._diffuseColor>>16&255)/255;this._diffuseG=(this._diffuseColor>>8&255)/255;this._diffuseB=(this._diffuseColor&
255)/255},set_shadowRegister:function(a){return this._shadowRegister=a},__class__:$b,__properties__:z(Ef.prototype.__properties__,{set_shadowRegister:"set_shadowRegister",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold",set_texture:"set_texture",get_texture:"get_texture",set_diffuseColor:"set_diffuseColor",get_diffuseColor:"get_diffuseColor",set_diffuseAlpha:"set_diffuseAlpha",get_diffuseAlpha:"get_diffuseAlpha",set_useAmbientTexture:"set_useAmbientTexture",get_useAmbientTexture:"get_useAmbientTexture"})});
var We=function(){Ka.call(this)};m["away3d.materials.methods.BasicNormalMethod"]=We;We.__name__=["away3d","materials","methods","BasicNormalMethod"];We.__super__=Md;We.prototype=z(Md.prototype,{_texture:null,_useTexture:null,_normalTextureRegister:null,initVO:function(a){a.needsUV=null!=this._texture},get_tangentSpace:function(){return!0},get_hasOutput:function(){return this._useTexture},copyFrom:function(a){this.set_normalMap(y.__cast(a,We).get_normalMap())},get_normalMap:function(){return this._texture},
set_normalMap:function(a){null!=a==this._useTexture&&(null==a||null==this._texture||a.get_hasMipMaps()==this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format())||this.invalidateShaderProgram();this._useTexture=null!=a;return this._texture=a},cleanCompilationData:function(){Md.prototype.cleanCompilationData.call(this);this._normalTextureRegister=null},dispose:function(){null!=this._texture&&(this._texture=null)},activate:function(a,b){0<=a.texturesIndex&&(b._context3D.setSamplerStateAt(a.texturesIndex,
a.repeatTextures?2:0,this.getSmoothingFilter(a.useSmoothTextures,a.anisotropy),a.useMipmapping?0:2),b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b)))},getFragmentCode:function(a,b,c){this._normalTextureRegister=b.getFreeTextureReg();a.texturesIndex=this._normalTextureRegister.get_index();return this.getTex2DSampleCode(a,c,this._normalTextureRegister,this._texture)+"sub "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(this._sharedRegisters.commons)+".xxx\t\nnrm "+
h.string(c)+".xyz, "+h.string(c)+".xyz\t\t\t\t\t\t\t\n"},__class__:We,__properties__:z(Md.prototype.__properties__,{set_normalMap:"set_normalMap",get_normalMap:"get_normalMap",get_hasOutput:"get_hasOutput",get_tangentSpace:"get_tangentSpace"})});var te=function(a){this._alpha=1;this._epsilon=.02;Ka.call(this);this._castingLight=a;a.set_castsShadows(!0);this._shadowMapper=a.get_shadowMapper()};m["away3d.materials.methods.ShadowMapMethodBase"]=te;te.__name__=["away3d","materials","methods","ShadowMapMethodBase"];
te.__interfaces__=[bd];te.__super__=Md;te.prototype=z(Md.prototype,{_castingLight:null,_shadowMapper:null,_epsilon:null,_alpha:null,get_assetType:function(){return"shadowMapMethod"},get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha=a},get_castingLight:function(){return this._castingLight},get_epsilon:function(){return this._epsilon},set_epsilon:function(a){return this._epsilon=a},getFragmentCode:function(a,b,c){throw new H(new bb);},__class__:te,__properties__:z(Md.prototype.__properties__,
{set_epsilon:"set_epsilon",get_epsilon:"get_epsilon",get_castingLight:"get_castingLight",set_alpha:"set_alpha",get_alpha:"get_alpha",get_assetType:"get_assetType"})});var mn=function(a){te.call(this,a.get_castingLight());this._baseMethod=a;if(!y.__instanceof(this._castingLight,Ud))throw new H(new sa("CascadeShadowMapMethod is only compatible with DirectionalLight"));this._cascadeShadowMapper=y.__instanceof(this._castingLight.get_shadowMapper(),$i)?this._castingLight.get_shadowMapper():null;if(null==
this._cascadeShadowMapper)throw new H(new sa("CascadeShadowMapMethod requires a light that has a CascadeShadowMapper instance assigned to shadowMapper."));this._cascadeShadowMapper.addEventListener("change",u(this,this.onCascadeChange),!1,0,!0);this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated),!1,0,!0)};m["away3d.materials.methods.CascadeShadowMapMethod"]=mn;mn.__name__=["away3d","materials","methods","CascadeShadowMapMethod"];mn.__super__=te;mn.prototype=z(te.prototype,
{_baseMethod:null,_cascadeShadowMapper:null,_depthMapCoordVaryings:null,_cascadeProjections:null,get_baseMethod:function(){return this._baseMethod},set_baseMethod:function(a){if(this._baseMethod==a)return a;this._baseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._baseMethod=a;this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated),!1,0,!0);this.invalidateShaderProgram();return a},initVO:function(a){var b=new $n;this._baseMethod.initVO(b);
a.needsGlobalVertexPos=!0;a.needsProjection=!0},set_sharedRegisters:function(a){te.prototype.set_sharedRegisters.call(this,a);this._baseMethod.set_sharedRegisters(a);return a},initConstants:function(a){var b=a.fragmentData,c=a.vertexData,d=a.fragmentConstantsIndex;b.set(d,1);b.set(d+1,.00392156862745098);b.set(d+2,1.5378700499807768E-5);b.set(d+3,6.030862941101084E-8);b.set(d+6,.5);b.set(d+7,-.5);d=a.vertexConstantsIndex;c.set(d,.5);c.set(d+1,-.5);c.set(d+2,0)},cleanCompilationData:function(){te.prototype.cleanCompilationData.call(this);
this._depthMapCoordVaryings=this._cascadeProjections=null},getVertexCode:function(a,b){var c="",d=b.getFreeVertexConstant();this.initProjectionsRegs(b);a.vertexConstantsIndex=4*d.get_index();for(var e=b.getFreeVertexVectorTemp(),f=0,k=this._cascadeShadowMapper.get_numCascades();f<k;)var p=f++,c=c+("m44 "+h.string(e)+", "+h.string(this._sharedRegisters.globalPositionVertex)+", "+h.string(this._cascadeProjections.get(p))+"\nadd "+h.string(this._depthMapCoordVaryings.get(p))+", "+h.string(e)+", "+h.string(d)+
".zzwz\n");return c},initProjectionsRegs:function(a){this._cascadeProjections=x.toObjectVector(null,this._cascadeShadowMapper.get_numCascades());this._depthMapCoordVaryings=x.toObjectVector(null,this._cascadeShadowMapper.get_numCascades());for(var b=0,c=this._cascadeShadowMapper.get_numCascades();b<c;){var d=b++;this._depthMapCoordVaryings.set(d,a.getFreeVarying());this._cascadeProjections.set(d,a.getFreeVertexConstant());a.getFreeVertexConstant();a.getFreeVertexConstant();a.getFreeVertexConstant()}},
getFragmentCode:function(a,b,c){for(var d=this._cascadeShadowMapper.get_numCascades(),e=b.getFreeTextureReg(),f=b.getFreeFragmentConstant(),k=b.getFreeFragmentConstant(),p=b.getFreeFragmentConstant(),w=[h.string(p)+".x",h.string(p)+".y",h.string(p)+".z",h.string(p)+".w"],p=x.toObjectVector(null),g=0,n=w.length;g<n;){var l=g++;p.set(l,w[l])}a.fragmentConstantsIndex=4*f.get_index();a.texturesIndex=e.get_index();g=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(g,1);n=b.getFreeFragmentVectorTemp();
b.addFragmentTempUsages(n,1);w="mov "+h.string(n)+", "+h.string(this._depthMapCoordVaryings.get(d-1))+"\n";for(d-=2;0<=d;){var l=this._depthMapCoordVaryings.get(d),w=w+("slt "+h.string(g)+".z, "+h.string(this._sharedRegisters.projectionFragment)+".z, "+p.get(d)+"\n"),m=b.getFreeFragmentVectorTemp(),w=w+("sub "+h.string(m)+", "+h.string(l)+", "+h.string(n)+"\nmul "+h.string(m)+", "+h.string(m)+", "+h.string(g)+".z\nadd "+h.string(n)+", "+h.string(n)+", "+h.string(m)+"\n");--d}b.removeFragmentTempUsage(g);
w+="div "+h.string(n)+", "+h.string(n)+", "+h.string(n)+".w\nmul "+h.string(n)+".xy, "+h.string(n)+".xy, "+h.string(k)+".zw\nadd "+h.string(n)+".xy, "+h.string(n)+".xy, "+h.string(k)+".zz\n";w+=this._baseMethod.getCascadeFragmentCode(a,b,f,e,n,c)+"add "+h.string(c)+".w, "+h.string(c)+".w, "+h.string(k)+".y\n";b.removeFragmentTempUsage(n);return w},activate:function(a,b){b._context3D.setTextureAt(a.texturesIndex,this._castingLight.get_shadowMapper().get_depthMap().getTextureForStage3D(b));var c=a.vertexData,
d=a.vertexConstantsIndex;a.vertexData.set(a.vertexConstantsIndex+3,-1/(this._cascadeShadowMapper.get_depth()*this._epsilon));for(var e=this._cascadeShadowMapper.get_numCascades(),d=d+4,f=0;f<e;){var k=f++;this._cascadeShadowMapper.getDepthProjections(k).copyRawDataTo(c,d,!0);d+=16}c=a.fragmentData;d=a.fragmentConstantsIndex;c.set(d+5,1-this._alpha);f=this._cascadeShadowMapper.get_nearPlaneDistances();d+=8;for(k=0;k<e;){var p=k++;c.set(d+p,f.get(p))}this._baseMethod.activateForCascade(a,b)},setRenderState:function(a,
b,c,d){},onCascadeChange:function(a){this.invalidateShaderProgram()},onShaderInvalidated:function(a){this.invalidateShaderProgram()},__class__:mn,__properties__:z(te.prototype.__properties__,{set_baseMethod:"set_baseMethod",get_baseMethod:"get_baseMethod"})});var vc=function(a,b){this._baseMethod=b;null==this._baseMethod&&(this._baseMethod=new $b);this._baseMethod._modulateMethod=a;this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));$b.call(this)};m["away3d.materials.methods.CompositeDiffuseMethod"]=
vc;vc.__name__=["away3d","materials","methods","CompositeDiffuseMethod"];vc.__super__=$b;vc.prototype=z($b.prototype,{_baseMethod:null,get_baseMethod:function(){return this._baseMethod},set_baseMethod:function(a){if(this._baseMethod==a)return a;this._baseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._baseMethod=a;this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated),!1,0,!0);this.invalidateShaderProgram();return a},initVO:function(a){this._baseMethod.initVO(a)},
initConstants:function(a){this._baseMethod.initConstants(a)},dispose:function(){this._baseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._baseMethod.dispose()},get_alphaThreshold:function(){return this._baseMethod.get_alphaThreshold()},set_alphaThreshold:function(a){this._baseMethod.set_alphaThreshold(a);return a},get_texture:function(){return this._baseMethod.get_texture()},set_texture:function(a){this._baseMethod.set_texture(a);return a},get_diffuseAlpha:function(){return this._baseMethod.get_diffuseAlpha()},
get_diffuseColor:function(){return this._baseMethod.get_diffuseColor()},set_diffuseColor:function(a){this._baseMethod.set_diffuseColor(a);return a},set_diffuseAlpha:function(a){this._baseMethod.set_diffuseAlpha(a);return a},getFragmentPreLightingCode:function(a,b){return this._baseMethod.getFragmentPreLightingCode(a,b)},getFragmentCodePerLight:function(a,b,c,d){a=this._baseMethod.getFragmentCodePerLight(a,b,c,d);this._totalLightColorReg=this._baseMethod._totalLightColorReg;return a},getFragmentCodePerProbe:function(a,
b,c,d){a=this._baseMethod.getFragmentCodePerProbe(a,b,c,d);this._totalLightColorReg=this._baseMethod._totalLightColorReg;return a},activate:function(a,b){this._baseMethod.activate(a,b)},deactivate:function(a,b){this._baseMethod.deactivate(a,b)},getVertexCode:function(a,b){return this._baseMethod.getVertexCode(a,b)},getFragmentPostLightingCode:function(a,b,c){return this._baseMethod.getFragmentPostLightingCode(a,b,c)},reset:function(){this._baseMethod.reset()},cleanCompilationData:function(){$b.prototype.cleanCompilationData.call(this);
this._baseMethod.cleanCompilationData()},set_sharedRegisters:function(a){$b.prototype.set_sharedRegisters.call(this,this._baseMethod.set_sharedRegisters(a));return a},set_shadowRegister:function(a){$b.prototype.set_shadowRegister.call(this,a);this._baseMethod.set_shadowRegister(a);return a},onShaderInvalidated:function(a){this.invalidateShaderProgram()},__class__:vc,__properties__:z($b.prototype.__properties__,{set_baseMethod:"set_baseMethod",get_baseMethod:"get_baseMethod"})});var Zh=function(a,
b){null==a&&(a=3);this._smoothness=.1;vc.call(this,u(this,this.clampDiffuse),b);this._levels=a};m["away3d.materials.methods.CelDiffuseMethod"]=Zh;Zh.__name__=["away3d","materials","methods","CelDiffuseMethod"];Zh.__super__=vc;Zh.prototype=z(vc.prototype,{_levels:null,_dataReg:null,_smoothness:null,initConstants:function(a){var b=a.fragmentData,c=a.secondaryFragmentConstantsIndex;vc.prototype.initConstants.call(this,a);b.set(c+1,1);b.set(c+2,0)},get_levels:function(){return this._levels},set_levels:function(a){return this._levels=
a},get_smoothness:function(){return this._smoothness},set_smoothness:function(a){return this._smoothness=a},cleanCompilationData:function(){vc.prototype.cleanCompilationData.call(this);this._dataReg=null},getFragmentPreLightingCode:function(a,b){this._dataReg=b.getFreeFragmentConstant();a.secondaryFragmentConstantsIndex=4*this._dataReg.get_index();return vc.prototype.getFragmentPreLightingCode.call(this,a,b)},activate:function(a,b){vc.prototype.activate.call(this,a,b);var c=a.fragmentData,d=a.secondaryFragmentConstantsIndex;
c.set(d,this._levels);c.set(d+3,this._smoothness)},clampDiffuse:function(a,b,c,d){return"mul "+h.string(b)+".w, "+h.string(b)+".w, "+h.string(this._dataReg)+".x\nfrc "+h.string(b)+".z, "+h.string(b)+".w\nsub "+h.string(b)+".y, "+h.string(b)+".w, "+h.string(b)+".z\nmov "+h.string(b)+".x, "+h.string(this._dataReg)+".x\nsub "+h.string(b)+".x, "+h.string(b)+".x, "+h.string(this._dataReg)+".y\nrcp "+h.string(b)+".x,"+h.string(b)+".x\nmul "+h.string(b)+".w, "+h.string(b)+".y, "+h.string(b)+".x\nsub "+h.string(b)+
".y, "+h.string(b)+".w, "+h.string(b)+".x\ndiv "+h.string(b)+".z, "+h.string(b)+".z, "+h.string(this._dataReg)+".w\nsat "+h.string(b)+".z, "+h.string(b)+".z\nmul "+h.string(b)+".w, "+h.string(b)+".w, "+h.string(b)+".z\nsub "+h.string(b)+".z, "+h.string(this._dataReg)+".y, "+h.string(b)+".z\nmul "+h.string(b)+".y, "+h.string(b)+".y, "+h.string(b)+".z\nadd "+h.string(b)+".w, "+h.string(b)+".w, "+h.string(b)+".y\nsat "+h.string(b)+".w, "+h.string(b)+".w\n"},__class__:Zh,__properties__:z(vc.prototype.__properties__,
{set_smoothness:"set_smoothness",get_smoothness:"get_smoothness",set_levels:"set_levels",get_levels:"get_levels"})});var le=function(a,b){Vc.call(this);this._baseMethod=b;null==this._baseMethod&&(this._baseMethod=new Vc);this._baseMethod._modulateMethod=a;this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated))};m["away3d.materials.methods.CompositeSpecularMethod"]=le;le.__name__=["away3d","materials","methods","CompositeSpecularMethod"];le.__super__=Vc;le.prototype=
z(Vc.prototype,{_baseMethod:null,initVO:function(a){this._baseMethod.initVO(a)},initConstants:function(a){this._baseMethod.initConstants(a)},get_baseMethod:function(){return this._baseMethod},set_baseMethod:function(a){if(this._baseMethod==a)return a;this._baseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._baseMethod=a;this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated),!1,0,!0);this.invalidateShaderProgram();return a},get_gloss:function(){return this._baseMethod.get_gloss()},
set_gloss:function(a){this._baseMethod.set_gloss(a);return a},get_specular:function(){return this._baseMethod.get_specular()},set_specular:function(a){this._baseMethod.set_specular(a);return a},get_passes:function(){return this._baseMethod.get_passes()},dispose:function(){this._baseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._baseMethod.dispose()},get_texture:function(){return this._baseMethod.get_texture()},set_texture:function(a){this._baseMethod.set_texture(a);
return a},activate:function(a,b){this._baseMethod.activate(a,b)},deactivate:function(a,b){this._baseMethod.deactivate(a,b)},set_sharedRegisters:function(a){Vc.prototype.set_sharedRegisters.call(this,this._baseMethod.set_sharedRegisters(a));return a},getVertexCode:function(a,b){return this._baseMethod.getVertexCode(a,b)},getFragmentPreLightingCode:function(a,b){return this._baseMethod.getFragmentPreLightingCode(a,b)},getFragmentCodePerLight:function(a,b,c,d){return this._baseMethod.getFragmentCodePerLight(a,
b,c,d)},getFragmentCodePerProbe:function(a,b,c,d){return this._baseMethod.getFragmentCodePerProbe(a,b,c,d)},getFragmentPostLightingCode:function(a,b,c){return this._baseMethod.getFragmentPostLightingCode(a,b,c)},reset:function(){this._baseMethod.reset()},cleanCompilationData:function(){Vc.prototype.cleanCompilationData.call(this);this._baseMethod.cleanCompilationData()},set_shadowRegister:function(a){Vc.prototype.set_shadowRegister.call(this,a);this._baseMethod.set_shadowRegister(a);return a},onShaderInvalidated:function(a){this.invalidateShaderProgram()},
__class__:le,__properties__:z(Vc.prototype.__properties__,{set_baseMethod:"set_baseMethod",get_baseMethod:"get_baseMethod"})});var $h=function(a,b){null==a&&(a=.5);this._smoothness=this._specularCutOff=.1;le.call(this,u(this,this.clampSpecular),b);this._specularCutOff=a};m["away3d.materials.methods.CelSpecularMethod"]=$h;$h.__name__=["away3d","materials","methods","CelSpecularMethod"];$h.__super__=le;$h.prototype=z(le.prototype,{_dataReg:null,_smoothness:null,_specularCutOff:null,get_smoothness:function(){return this._smoothness},
set_smoothness:function(a){return this._smoothness=a},get_specularCutOff:function(){return this._specularCutOff},set_specularCutOff:function(a){return this._specularCutOff=a},activate:function(a,b){le.prototype.activate.call(this,a,b);var c=a.secondaryFragmentConstantsIndex,d=a.fragmentData;d.set(c,this._smoothness);d.set(c+1,this._specularCutOff)},cleanCompilationData:function(){le.prototype.cleanCompilationData.call(this);this._dataReg=null},clampSpecular:function(a,b,c,d){return"sub "+h.string(b)+
".y, "+h.string(b)+".w, "+h.string(this._dataReg)+".y\ndiv "+h.string(b)+".y, "+h.string(b)+".y, "+h.string(this._dataReg)+".x\nsat "+h.string(b)+".y, "+h.string(b)+".y\nsge "+h.string(b)+".w, "+h.string(b)+".w, "+h.string(this._dataReg)+".y\nmul "+h.string(b)+".w, "+h.string(b)+".w, "+h.string(b)+".y\n"},getFragmentPreLightingCode:function(a,b){this._dataReg=b.getFreeFragmentConstant();a.secondaryFragmentConstantsIndex=4*this._dataReg.get_index();return le.prototype.getFragmentPreLightingCode.call(this,
a,b)},__class__:$h,__properties__:z(le.prototype.__properties__,{set_specularCutOff:"set_specularCutOff",get_specularCutOff:"get_specularCutOff",set_smoothness:"set_smoothness",get_smoothness:"get_smoothness"})});var gn=function(a){Ka.call(this);if(20!=a.length)throw new H(new sa("Matrix length must be 20!"));this._matrix=a};m["away3d.materials.methods.ColorMatrixMethod"]=gn;gn.__name__=["away3d","materials","methods","ColorMatrixMethod"];gn.__super__=Jb;gn.prototype=z(Jb.prototype,{_matrix:null,
get_colorMatrix:function(){return this._matrix},set_colorMatrix:function(a){return this._matrix=a},getFragmentCode:function(a,b,c){var d="",e=b.getFreeFragmentConstant();b.getFreeFragmentConstant();b.getFreeFragmentConstant();b.getFreeFragmentConstant();b=b.getFreeFragmentConstant();a.fragmentConstantsIndex=4*e.get_index();return d+="m44 "+h.string(c)+", "+h.string(c)+", "+h.string(e)+"\nadd "+h.string(c)+", "+h.string(c)+", "+h.string(b)+"\n"},activate:function(a,b){var c=this._matrix,d=a.fragmentConstantsIndex,
e=a.fragmentData;e.set(d,c[0]);e.set(d+1,c[1]);e.set(d+2,c[2]);e.set(d+3,c[3]);e.set(d+4,c[5]);e.set(d+5,c[6]);e.set(d+6,c[7]);e.set(d+7,c[8]);e.set(d+8,c[10]);e.set(d+9,c[11]);e.set(d+10,c[12]);e.set(d+11,c[13]);e.set(d+12,c[15]);e.set(d+13,c[16]);e.set(d+14,c[17]);e.set(d+15,c[18]);e.set(d+16,c[4]);e.set(d+17,c[9]);e.set(d+18,c[14]);e.set(d+19,c[19])},__class__:gn,__properties__:z(Jb.prototype.__properties__,{set_colorMatrix:"set_colorMatrix",get_colorMatrix:"get_colorMatrix"})});var fj=function(){Ka.call(this)};
m["away3d.materials.methods.ColorTransformMethod"]=fj;fj.__name__=["away3d","materials","methods","ColorTransformMethod"];fj.__super__=Jb;fj.prototype=z(Jb.prototype,{_colorTransform:null,get_colorTransform:function(){return this._colorTransform},set_colorTransform:function(a){return this._colorTransform=a},getFragmentCode:function(a,b,c){var d="",e=b.getFreeFragmentConstant();b=b.getFreeFragmentConstant();a.fragmentConstantsIndex=4*e.get_index();return d+="mul "+h.string(c)+", "+c.toString()+", "+
h.string(e)+"\nadd "+h.string(c)+", "+c.toString()+", "+h.string(b)+"\n"},activate:function(a,b){var c=a.fragmentConstantsIndex,d=a.fragmentData;d.set(c,this._colorTransform.redMultiplier);d.set(c+1,this._colorTransform.greenMultiplier);d.set(c+2,this._colorTransform.blueMultiplier);d.set(c+3,this._colorTransform.alphaMultiplier);d.set(c+4,.00392156862745098*this._colorTransform.redOffset);d.set(c+5,.00392156862745098*this._colorTransform.greenOffset);d.set(c+6,.00392156862745098*this._colorTransform.blueOffset);
d.set(c+7,.00392156862745098*this._colorTransform.alphaOffset)},__class__:fj,__properties__:z(Jb.prototype.__properties__,{set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"})});var Sk=function(){$b.call(this)};m["away3d.materials.methods.DepthDiffuseMethod"]=Sk;Sk.__name__=["away3d","materials","methods","DepthDiffuseMethod"];Sk.__super__=$b;Sk.prototype=z($b.prototype,{initConstants:function(a){var b=a.fragmentData;a=a.fragmentConstantsIndex;b.set(a,1);b.set(a+1,.00392156862745098);
b.set(a+2,1.5378700499807768E-5);b.set(a+3,6.030862941101084E-8)},getFragmentPostLightingCode:function(a,b,c){var d="",e;if(!this._useTexture)throw new H(new sa("DepthDiffuseMethod requires texture!"));0<a.numLights&&(null!=this._shadowRegister&&(d+="mul "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._shadowRegister)+".w\n"),d+="add "+h.string(c)+".xyz, "+h.string(this._totalLightColorReg)+".xyz, "+h.string(c)+".xyz\nsat "+h.string(c)+".xyz, "+
h.string(c)+".xyz\n",b.removeFragmentTempUsage(this._totalLightColorReg));e=0<a.numLights?b.getFreeFragmentVectorTemp():c;this._diffuseInputRegister=b.getFreeTextureReg();a.texturesIndex=this._diffuseInputRegister.get_index();b=b.getFreeFragmentConstant();a.fragmentConstantsIndex=4*b.get_index();d+=this.getTex2DSampleCode(a,e,this._diffuseInputRegister,this.get_texture())+"dp4 "+h.string(e)+".x, "+h.string(e)+", "+h.string(b)+"\nmov "+h.string(e)+".yz, "+h.string(e)+".xx\t\t\t\nmov "+h.string(e)+
".w, "+h.string(b)+".x\nsub "+h.string(e)+".xyz, "+h.string(b)+".xxx, "+h.string(e)+".xyz\n";return 0==a.numLights?d:d+="mul "+h.string(c)+".xyz, "+h.string(e)+".xyz, "+h.string(c)+".xyz\nmov "+h.string(c)+".w, "+h.string(e)+".w\n"},__class__:Sk});var gc=function(a){this._usePoint=y.__instanceof(a,je);this._depthMapCoordReg=null;te.call(this,a)};m["away3d.materials.methods.SimpleShadowMapMethodBase"]=gc;gc.__name__=["away3d","materials","methods","SimpleShadowMapMethodBase"];gc.__super__=te;gc.prototype=
z(te.prototype,{_depthMapCoordReg:null,_usePoint:null,initVO:function(a){a.needsView=!0;a.needsGlobalVertexPos=!0;a.needsGlobalFragmentPos=this._usePoint;a.needsNormals=0<a.numLights},initConstants:function(a){var b=a.fragmentData,c=a.vertexData,d=a.fragmentConstantsIndex;b.set(d,1);b.set(d+1,.00392156862745098);b.set(d+2,1.5378700499807768E-5);b.set(d+3,6.030862941101084E-8);b.set(d+6,0);b.set(d+7,1);this._usePoint&&(b.set(d+8,0),b.set(d+9,0),b.set(d+10,0),b.set(d+11,1));d=a.vertexConstantsIndex;
-1!=d&&(c.set(d,.5),c.set(d+1,-.5),c.set(d+2,0),c.set(d+3,1))},get_depthMapCoordReg:function(){return this._depthMapCoordReg},set_depthMapCoordReg:function(a){return this._depthMapCoordReg=a},cleanCompilationData:function(){te.prototype.cleanCompilationData.call(this);this._depthMapCoordReg=null},getVertexCode:function(a,b){return this._usePoint?this.getPointVertexCode(a,b):this.getPlanarVertexCode(a,b)},getPointVertexCode:function(a,b){a.vertexConstantsIndex=-1;return""},getPlanarVertexCode:function(a,
b){var c="",d=b.getFreeVertexVectorTemp(),e=b.getFreeVertexConstant(),f=b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();this._depthMapCoordReg=b.getFreeVarying();a.vertexConstantsIndex=4*e.get_index();return c+="m44 "+h.string(d)+", "+h.string(this._sharedRegisters.globalPositionVertex)+", "+h.string(f)+"\ndiv "+h.string(d)+", "+h.string(d)+", "+h.string(d)+".w\nmul "+h.string(d)+".xy, "+h.string(d)+".xy, "+h.string(e)+".xy\nadd "+h.string(this._depthMapCoordReg)+
", "+h.string(d)+", "+h.string(e)+".xxwz\n"},getFragmentCode:function(a,b,c){b=this._usePoint?this.getPointFragmentCode(a,b,c):this.getPlanarFragmentCode(a,b,c);return b+="add "+h.string(c)+".w, "+h.string(c)+".w, fc"+(a.fragmentConstantsIndex/4+1)+".y\nsat "+h.string(c)+".w, "+h.string(c)+".w\n"},getPlanarFragmentCode:function(a,b,c){throw new H(new bb);},getPointFragmentCode:function(a,b,c){throw new H(new bb);},setRenderState:function(a,b,c,d){this._usePoint||y.__cast(this._shadowMapper,se).get_depthProjection().copyRawDataTo(a.vertexData,
a.vertexConstantsIndex+4,!0)},getCascadeFragmentCode:function(a,b,c,d,e,f){throw new H(new sa("This shadow method is incompatible with cascade shadows"));},activate:function(a,b){var c=a.fragmentData,d=a.fragmentConstantsIndex;this._usePoint?c.set(d+4,-Math.pow(1/(y.__cast(this._castingLight,je).get_fallOff()*this._epsilon),2)):a.vertexData.set(a.vertexConstantsIndex+3,-1/(y.__cast(this._shadowMapper,se).get_depth()*this._epsilon));c.set(d+5,1-this._alpha);if(this._usePoint){var e=this._castingLight.get_scenePosition();
c.set(d+8,e.x);c.set(d+9,e.y);c.set(d+10,e.z);e=y.__cast(this._castingLight,je)._fallOff;c.set(d+11,1/(2*e*e))}b._context3D.setTextureAt(a.texturesIndex,this._castingLight.get_shadowMapper().get_depthMap().getTextureForStage3D(b))},activateForCascade:function(a,b){throw new H(new sa("This shadow method is incompatible with cascade shadows"));},__class__:gc,__properties__:z(te.prototype.__properties__,{set_depthMapCoordReg:"set_depthMapCoordReg",get_depthMapCoordReg:"get_depthMapCoordReg"})});var Cd=
function(a,b){null==b&&(b=4);this._range=1;gc.call(this,a);this._depthMapSize=this._castingLight.get_shadowMapper().get_depthMapSize();this.set_numSamples(b);++Cd._grainUsages;null==Cd._grainTexture&&this.initGrainTexture()};m["away3d.materials.methods.DitheredShadowMapMethod"]=Cd;Cd.__name__=["away3d","materials","methods","DitheredShadowMapMethod"];Cd.__super__=gc;Cd.prototype=z(gc.prototype,{_depthMapSize:null,_range:null,_numSamples:null,get_numSamples:function(){return this._numSamples},set_numSamples:function(a){this._numSamples=
a;1>this._numSamples?this._numSamples=1:24<this._numSamples&&(this._numSamples=24);this.invalidateShaderProgram();return a},initVO:function(a){gc.prototype.initVO.call(this,a);a.needsProjection=!0},initConstants:function(a){gc.prototype.initConstants.call(this,a);a.fragmentData.set(a.fragmentConstantsIndex+8,1/this._numSamples)},get_range:function(){return 2*this._range},set_range:function(a){this._range=a/2;return a},initGrainTexture:function(){Cd._grainBitmapData=new Ha(64,64,!1);for(var a=x.toIntVector(null),
b=1/(this._depthMapSize*this._range),c,d,e=0;4096>e;){var f=e++;c=2*(Math.random()-.5);d=2*(Math.random()-.5);c=0>c?c-b:c+b;d=0>d?d-b:d+b;1<c?c=1:-1>c&&(c=-1);1<d?d=1:-1>d&&(d=-1);a.set(f,(255*(.5*c+.5)|0)<<16|(255*(.5*d+.5)|0)<<8)}Cd._grainBitmapData.setVector(Cd._grainBitmapData.rect,a);Cd._grainTexture=new vb(Cd._grainBitmapData)},dispose:function(){0==--Cd._grainUsages&&(Cd._grainTexture.dispose(),Cd._grainBitmapData.dispose(),Cd._grainTexture=null)},activate:function(a,b){gc.prototype.activate.call(this,
a,b);var c=a.fragmentData,d=a.fragmentConstantsIndex;c.set(d+9,(b.get_width()-1)/63);c.set(d+10,(b.get_height()-1)/63);c.set(d+11,2*this._range/this._depthMapSize);b._context3D.setTextureAt(a.texturesIndex+1,Cd._grainTexture.getTextureForStage3D(b))},getPlanarFragmentCode:function(a,b,c){var d=b.getFreeTextureReg(),e=b.getFreeFragmentConstant();b.getFreeFragmentConstant();var f=b.getFreeFragmentConstant();a.fragmentConstantsIndex=4*e.get_index();a.texturesIndex=d.get_index();return this.getSampleCode(b,
f,d,e,c)},getSampleCode:function(a,b,c,d,e){var f="",k=a.getFreeTextureReg(),p=a.getFreeFragmentVectorTemp(),w=this._numSamples;a.addFragmentTempUsages(p,1);for(var g=a.getFreeFragmentVectorTemp(),n=this._sharedRegisters.projectionFragment,f=f+("div "+h.string(p)+", "+h.string(n)+", "+h.string(n)+".w\nmul "+h.string(p)+".xy, "+h.string(p)+".xy, "+h.string(b)+".yz\n");0<w;)f=w==this._numSamples?f+("tex "+h.string(p)+", "+h.string(p)+", "+h.string(k)+" <2d,nearest,repeat,mipnone>\n"):f+("tex "+h.string(p)+
", "+h.string(p)+".zwxy, "+h.string(k)+" <2d,nearest,repeat,mipnone>\n"),f+="sub "+h.string(p)+".zw, "+h.string(p)+".xy, fc0.xx\nmul "+h.string(p)+".zw, "+h.string(p)+".zw, "+h.string(b)+".w\n",f=w==this._numSamples?f+("add "+h.string(p)+".xy, "+h.string(p)+".zw, "+h.string(this._depthMapCoordReg)+".xy\ntex "+h.string(g)+", "+h.string(p)+", "+h.string(c)+" <2d,nearest,clamp,mipnone>\ndp4 "+h.string(g)+".z, "+h.string(g)+", "+h.string(d)+"\nslt "+h.string(e)+".w, "+h.string(this._depthMapCoordReg)+
".z, "+h.string(g)+".z\n"):f+this.addSample(p,c,d,e,a),4<w&&(f+="add "+h.string(p)+".xy, "+h.string(p)+".xy, "+h.string(p)+".zw\n"+this.addSample(p,c,d,e,a)),1<w&&(f+="sub "+h.string(p)+".xy, "+h.string(this._depthMapCoordReg)+".xy, "+h.string(p)+".zw\n"+this.addSample(p,c,d,e,a)),5<w&&(f+="sub "+h.string(p)+".xy, "+h.string(p)+".xy, "+h.string(p)+".zw\n"+this.addSample(p,c,d,e,a)),2<w&&(f+="neg "+h.string(p)+".w, "+h.string(p)+".w\n",f+="add "+h.string(p)+".xy, "+h.string(p)+".wz, "+h.string(this._depthMapCoordReg)+
".xy\n"+this.addSample(p,c,d,e,a)),6<w&&(f+="add "+h.string(p)+".xy, "+h.string(p)+".xy, "+h.string(p)+".wz\n"+this.addSample(p,c,d,e,a)),3<w&&(f+="sub "+h.string(p)+".xy, "+h.string(this._depthMapCoordReg)+".xy, "+h.string(p)+".wz\n"+this.addSample(p,c,d,e,a)),7<w&&(f+="sub "+h.string(p)+".xy, "+h.string(p)+".xy, "+h.string(p)+".wz\n"+this.addSample(p,c,d,e,a)),w-=8;a.removeFragmentTempUsage(p);return f+="mul "+h.string(e)+".w, "+h.string(e)+".w, "+h.string(b)+".x\n"},addSample:function(a,b,c,d,
e){e=e.getFreeFragmentVectorTemp();return"tex "+h.string(e)+", "+h.string(a)+", "+h.string(b)+" <2d,nearest,clamp,mipnone>\ndp4 "+h.string(e)+".z, "+h.string(e)+", "+h.string(c)+"\nslt "+h.string(e)+".z, "+h.string(this._depthMapCoordReg)+".z, "+h.string(e)+".z\nadd "+h.string(d)+".w, "+h.string(d)+".w, "+h.string(e)+".z\n"},activateForCascade:function(a,b){var c=a.fragmentData,d=a.secondaryFragmentConstantsIndex;c.set(d,1/this._numSamples);c.set(d+1,(b.get_width()-1)/63);c.set(d+2,(b.get_height()-
1)/63);c.set(d+3,2*this._range/this._depthMapSize);b._context3D.setTextureAt(a.texturesIndex+1,Cd._grainTexture.getTextureForStage3D(b))},getCascadeFragmentCode:function(a,b,c,d,e,f){this._depthMapCoordReg=e;e=b.getFreeFragmentConstant();a.secondaryFragmentConstantsIndex=4*e.get_index();return this.getSampleCode(b,e,d,c,f)},__class__:Cd,__properties__:z(gc.prototype.__properties__,{set_range:"set_range",get_range:"get_range",set_numSamples:"set_numSamples",get_numSamples:"get_numSamples"})});var Rk=
function(a){Ve.call(this);this._cubeTexture=a};m["away3d.materials.methods.EnvMapAmbientMethod"]=Rk;Rk.__name__=["away3d","materials","methods","EnvMapAmbientMethod"];Rk.__super__=Ve;Rk.prototype=z(Ve.prototype,{_cubeTexture:null,initVO:function(a){Ve.prototype.initVO.call(this,a);a.needsNormals=!0},dispose:function(){},get_envMap:function(){return this._cubeTexture},set_envMap:function(a){return this._cubeTexture=a},activate:function(a,b){Ve.prototype.activate.call(this,a,b);b._context3D.setTextureAt(a.texturesIndex,
this._cubeTexture.getTextureForStage3D(b))},getFragmentCode:function(a,b,c){var d="",e=b.getFreeTextureReg();a.texturesIndex=e.get_index();d+=this.getTexCubeSampleCode(a,c,e,this._cubeTexture,this._sharedRegisters.normalFragment);this._ambientInputRegister=b.getFreeFragmentConstant();a.fragmentConstantsIndex=this._ambientInputRegister.get_index();return d+="add "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(this._ambientInputRegister)+".xyz\n"},__class__:Rk,__properties__:z(Ve.prototype.__properties__,
{set_envMap:"set_envMap",get_envMap:"get_envMap"})});var pf=function(a,b){null==b&&(b=1);Ka.call(this);this._cubeTexture=a;this._alpha=b};m["away3d.materials.methods.EnvMapMethod"]=pf;pf.__name__=["away3d","materials","methods","EnvMapMethod"];pf.__super__=Jb;pf.prototype=z(Jb.prototype,{_cubeTexture:null,_alpha:null,_mask:null,get_mask:function(){return this._mask},set_mask:function(a){null!=a==(null!=this._mask)&&(null==a||null==this._mask||a.get_hasMipMaps()==this._mask.get_hasMipMaps()&&a.get_format()==
this._mask.get_format())||this.invalidateShaderProgram();return this._mask=a},initVO:function(a){a.needsNormals=!0;a.needsView=!0;a.needsUV=null!=this._mask},get_envMap:function(){return this._cubeTexture},set_envMap:function(a){return this._cubeTexture=a},dispose:function(){},get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha=a},activate:function(a,b){var c=b._context3D;a.fragmentData.set(a.fragmentConstantsIndex,this._alpha);c.setTextureAt(a.texturesIndex,this._cubeTexture.getTextureForStage3D(b));
null!=this._mask&&c.setTextureAt(a.texturesIndex+1,this._mask.getTextureForStage3D(b))},getFragmentCode:function(a,b,c){var d=b.getFreeFragmentConstant(),e=b.getFreeFragmentVectorTemp(),f="",k=b.getFreeTextureReg();a.texturesIndex=k.get_index();a.fragmentConstantsIndex=4*d.get_index();b.addFragmentTempUsages(e,1);var p=b.getFreeFragmentVectorTemp(),f=f+("dp3 "+h.string(e)+".w, "+h.string(this._sharedRegisters.viewDirFragment)+".xyz, "+h.string(this._sharedRegisters.normalFragment)+".xyz\t\t\nadd "+
h.string(e)+".w, "+h.string(e)+".w, "+h.string(e)+".w\t\t\t\t\t\t\t\t\t\t\t\nmul "+h.string(e)+".xyz, "+h.string(this._sharedRegisters.normalFragment)+".xyz, "+h.string(e)+".w\t\t\t\t\t\t\nsub "+h.string(e)+".xyz, "+h.string(e)+".xyz, "+h.string(this._sharedRegisters.viewDirFragment)+".xyz\t\t\t\t\t\n"+this.getTexCubeSampleCode(a,e,k,this._cubeTexture,e)+"sub "+h.string(p)+".w, "+h.string(e)+".w, fc0.x\t\t\t\t\t\t\t\t\t\nkil "+h.string(p)+".w\nsub "+h.string(e)+", "+h.string(e)+", "+h.string(c)+"\t\t\t\t\t\t\t\t\t\t\t\n");
null!=this._mask&&(k=b.getFreeTextureReg(),f+=this.getTex2DSampleCode(a,p,k,this._mask,this._sharedRegisters.uvVarying)+"mul "+h.string(e)+", "+h.string(p)+", "+h.string(e)+"\n");f+="mul "+h.string(e)+", "+h.string(e)+", "+h.string(d)+".x\t\t\t\t\t\t\t\t\t\t\nadd "+h.string(c)+", "+h.string(c)+", "+h.string(e)+"\t\t\t\t\t\t\t\t\t\t\n";b.removeFragmentTempUsage(e);return f},__class__:pf,__properties__:z(Jb.prototype.__properties__,{set_alpha:"set_alpha",get_alpha:"get_alpha",set_envMap:"set_envMap",
get_envMap:"get_envMap",set_mask:"set_mask",get_mask:"get_mask"})});var gj=function(a){gc.call(this,a)};m["away3d.materials.methods.FilteredShadowMapMethod"]=gj;gj.__name__=["away3d","materials","methods","FilteredShadowMapMethod"];gj.__super__=gc;gj.prototype=z(gc.prototype,{initConstants:function(a){gc.prototype.initConstants.call(this,a);var b=a.fragmentData;a=a.fragmentConstantsIndex;b.set(a+8,.5);var c=this.get_castingLight().get_shadowMapper().get_depthMapSize();b.set(a+9,c);b.set(a+10,1/c)},
getPlanarFragmentCode:function(a,b,c){var d=b.getFreeTextureReg(),e=b.getFreeFragmentConstant();b.getFreeFragmentConstant();var f=b.getFreeFragmentConstant(),k=b.getFreeFragmentVectorTemp(),p,w="";a.fragmentConstantsIndex=4*e.get_index();b.addFragmentTempUsages(k,1);p=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(p,1);w+="mov "+h.string(p)+", "+h.string(this._depthMapCoordReg)+"\ntex "+h.string(k)+", "+h.string(this._depthMapCoordReg)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(k)+
".z, "+h.string(k)+", "+h.string(e)+"\nslt "+h.string(p)+".z, "+h.string(this._depthMapCoordReg)+".z, "+h.string(k)+".z\nadd "+h.string(p)+".x, "+h.string(this._depthMapCoordReg)+".x, "+h.string(f)+".z\ntex "+h.string(k)+", "+h.string(p)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(k)+".z, "+h.string(k)+", "+h.string(e)+"\nslt "+h.string(p)+".w, "+h.string(this._depthMapCoordReg)+".z, "+h.string(k)+".z\nmul "+h.string(k)+".x, "+h.string(this._depthMapCoordReg)+".x, "+h.string(f)+".y\nfrc "+
h.string(k)+".x, "+h.string(k)+".x\nsub "+h.string(p)+".w, "+h.string(p)+".w, "+h.string(p)+".z\nmul "+h.string(p)+".w, "+h.string(p)+".w, "+h.string(k)+".x\nadd "+h.string(c)+".w, "+h.string(p)+".z, "+h.string(p)+".w\nmov "+h.string(p)+".x, "+h.string(this._depthMapCoordReg)+".x\nadd "+h.string(p)+".y, "+h.string(this._depthMapCoordReg)+".y, "+h.string(f)+".z\ntex "+h.string(k)+", "+h.string(p)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(k)+".z, "+h.string(k)+", "+h.string(e)+"\nslt "+
h.string(p)+".z, "+h.string(this._depthMapCoordReg)+".z, "+h.string(k)+".z\nadd "+h.string(p)+".x, "+h.string(this._depthMapCoordReg)+".x, "+h.string(f)+".z\ntex "+h.string(k)+", "+h.string(p)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(k)+".z, "+h.string(k)+", "+h.string(e)+"\nslt "+h.string(p)+".w, "+h.string(this._depthMapCoordReg)+".z, "+h.string(k)+".z\nmul "+h.string(k)+".x, "+h.string(this._depthMapCoordReg)+".x, "+h.string(f)+".y\nfrc "+h.string(k)+".x, "+h.string(k)+".x\nsub "+
h.string(p)+".w, "+h.string(p)+".w, "+h.string(p)+".z\nmul "+h.string(p)+".w, "+h.string(p)+".w, "+h.string(k)+".x\nadd "+h.string(p)+".w, "+h.string(p)+".z, "+h.string(p)+".w\nmul "+h.string(k)+".x, "+h.string(this._depthMapCoordReg)+".y, "+h.string(f)+".y\nfrc "+h.string(k)+".x, "+h.string(k)+".x\nsub "+h.string(p)+".w, "+h.string(p)+".w, "+h.string(c)+".w\nmul "+h.string(p)+".w, "+h.string(p)+".w, "+h.string(k)+".x\nadd "+h.string(c)+".w, "+h.string(c)+".w, "+h.string(p)+".w\n";b.removeFragmentTempUsage(k);
b.removeFragmentTempUsage(p);a.texturesIndex=d.get_index();return w},activateForCascade:function(a,b){var c=this._castingLight.get_shadowMapper().get_depthMapSize(),d=a.secondaryFragmentConstantsIndex,e=a.fragmentData;e.set(d,c);e.set(d+1,1/c)},getCascadeFragmentCode:function(a,b,c,d,e,f){var k=b.getFreeFragmentConstant();a.secondaryFragmentConstantsIndex=4*k.get_index();a=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(a,1);var p=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(p,1);c=
"tex "+h.string(a)+", "+h.string(e)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(a)+".z, "+h.string(a)+", "+h.string(c)+"\nslt "+h.string(p)+".x, "+h.string(e)+".z, "+h.string(a)+".z\nadd "+h.string(e)+".x, "+h.string(e)+".x, "+h.string(k)+".y\ntex "+h.string(a)+", "+h.string(e)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(a)+".z, "+h.string(a)+", "+h.string(c)+"\nslt "+h.string(p)+".z, "+h.string(e)+".z, "+h.string(a)+".z\nadd "+h.string(e)+".y, "+h.string(e)+".y, "+h.string(k)+
".y\ntex "+h.string(a)+", "+h.string(e)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(a)+".z, "+h.string(a)+", "+h.string(c)+"\nslt "+h.string(p)+".w, "+h.string(e)+".z, "+h.string(a)+".z\nsub "+h.string(e)+".x, "+h.string(e)+".x, "+h.string(k)+".y\ntex "+h.string(a)+", "+h.string(e)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(a)+".z, "+h.string(a)+", "+h.string(c)+"\nslt "+h.string(p)+".y, "+h.string(e)+".z, "+h.string(a)+".z\nmul "+h.string(a)+".xy, "+h.string(e)+".xy, "+h.string(k)+
".x\nfrc "+h.string(a)+".xy, "+h.string(a)+".xy\nsub "+h.string(e)+", "+h.string(p)+".xyzw, "+h.string(p)+".zwxy\nmul "+h.string(e)+", "+h.string(e)+", "+h.string(a)+".x\nadd "+h.string(p)+".xy, "+h.string(p)+".xy, "+h.string(e)+".zw\nsub "+h.string(p)+".y, "+h.string(p)+".y, "+h.string(p)+".x\nmul "+h.string(p)+".y, "+h.string(p)+".y, "+h.string(a)+".y\nadd "+h.string(f)+".w, "+h.string(p)+".x, "+h.string(p)+".y\n";b.removeFragmentTempUsage(a);b.removeFragmentTempUsage(p);return c},__class__:gj});
var ln=function(a,b,c){null==c&&(c=8421504);this._maxDistance=1E3;this._minDistance=0;Ka.call(this);this.set_minDistance(a);this.set_maxDistance(b);this.set_fogColor(c)};m["away3d.materials.methods.FogMethod"]=ln;ln.__name__=["away3d","materials","methods","FogMethod"];ln.__super__=Jb;ln.prototype=z(Jb.prototype,{_minDistance:null,_maxDistance:null,_fogColor:null,_fogR:null,_fogG:null,_fogB:null,initVO:function(a){a.needsProjection=!0},initConstants:function(a){var b=a.fragmentData;a=a.fragmentConstantsIndex;
b.set(a+3,1);b.set(a+6,0);b.set(a+7,0)},get_minDistance:function(){return this._minDistance},set_minDistance:function(a){return this._minDistance=a},get_maxDistance:function(){return this._maxDistance},set_maxDistance:function(a){return this._maxDistance=a},get_fogColor:function(){return this._fogColor},set_fogColor:function(a){this._fogColor=a;this._fogR=(a>>16&255)/255;this._fogG=(a>>8&255)/255;this._fogB=(a&255)/255;return a},activate:function(a,b){var c=a.fragmentData,d=a.fragmentConstantsIndex;
c.set(d,this._fogR);c.set(d+1,this._fogG);c.set(d+2,this._fogB);c.set(d+4,this._minDistance);c.set(d+5,1/(this._maxDistance-this._minDistance))},getFragmentCode:function(a,b,c){var d=b.getFreeFragmentConstant(),e=b.getFreeFragmentConstant(),f=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(f,1);var k=b.getFreeFragmentVectorTemp(),p="";a.fragmentConstantsIndex=4*d.get_index();p+="sub "+h.string(k)+".w, "+h.string(this._sharedRegisters.projectionFragment)+".z, "+h.string(e)+".x          \nmul "+
h.string(k)+".w, "+h.string(k)+".w, "+h.string(e)+".y\t\t\t\t\t\nsat "+h.string(k)+".w, "+h.string(k)+".w\t\t\t\t\t\t\t\t\t\t\nsub "+h.string(f)+", "+h.string(d)+", "+h.string(c)+"\nmul "+h.string(f)+", "+h.string(f)+", "+h.string(k)+".w\t\t\t\t\t\nadd "+h.string(c)+", "+h.string(c)+", "+h.string(f)+"\n";b.removeFragmentTempUsage(f);return p},__class__:ln,__properties__:z(Jb.prototype.__properties__,{set_fogColor:"set_fogColor",get_fogColor:"get_fogColor",set_maxDistance:"set_maxDistance",get_maxDistance:"get_maxDistance",
set_minDistance:"set_minDistance",get_minDistance:"get_minDistance"})});var kn=function(a,b){null==b&&(b=1);this._normalReflectance=0;this._fresnelPower=5;Ka.call(this);this._cubeTexture=a;this._alpha=b};m["away3d.materials.methods.FresnelEnvMapMethod"]=kn;kn.__name__=["away3d","materials","methods","FresnelEnvMapMethod"];kn.__super__=Jb;kn.prototype=z(Jb.prototype,{_cubeTexture:null,_fresnelPower:null,_normalReflectance:null,_alpha:null,_mask:null,initVO:function(a){a.needsNormals=!0;a.needsView=
!0;a.needsUV=null!=this._mask},initConstants:function(a){a.fragmentData.set(a.fragmentConstantsIndex+3,1)},get_mask:function(){return this._mask},set_mask:function(a){null!=a==(null!=this._mask)&&(null==a||null==this._mask||a.get_hasMipMaps()==this._mask.get_hasMipMaps()&&a.get_format()==this._mask.get_format())||this.invalidateShaderProgram();return this._mask=a},get_fresnelPower:function(){return this._fresnelPower},set_fresnelPower:function(a){return this._fresnelPower=a},get_envMap:function(){return this._cubeTexture},
set_envMap:function(a){return this._cubeTexture=a},dispose:function(){},get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha=a},get_normalReflectance:function(){return this._normalReflectance},set_normalReflectance:function(a){return this._normalReflectance=a},activate:function(a,b){var c=a.fragmentData,d=a.fragmentConstantsIndex,e=b._context3D;c.set(d,this._alpha);c.set(d+1,this._normalReflectance);c.set(d+2,this._fresnelPower);e.setTextureAt(a.texturesIndex,this._cubeTexture.getTextureForStage3D(b));
null!=this._mask&&e.setTextureAt(a.texturesIndex+1,this._mask.getTextureForStage3D(b))},getFragmentCode:function(a,b,c){var d=b.getFreeFragmentConstant(),e=b.getFreeFragmentVectorTemp(),f="",k=b.getFreeTextureReg(),p=this._sharedRegisters.viewDirFragment,w=this._sharedRegisters.normalFragment;a.texturesIndex=k.get_index();a.fragmentConstantsIndex=4*d.get_index();b.addFragmentTempUsages(e,1);var g=b.getFreeFragmentVectorTemp(),f=f+("dp3 "+h.string(e)+".w, "+h.string(p)+".xyz, "+h.string(w)+".xyz\t\t\nadd "+
h.string(e)+".w, "+h.string(e)+".w, "+h.string(e)+".w\t\t\t\t\t\t\t\t\t\t\t\nmul "+h.string(e)+".xyz, "+h.string(w)+".xyz, "+h.string(e)+".w\t\t\t\t\t\t\nsub "+h.string(e)+".xyz, "+h.string(e)+".xyz, "+h.string(p)+".xyz\t\t\t\t\t\n"+this.getTexCubeSampleCode(a,e,k,this._cubeTexture,e)+"sub "+h.string(g)+".w, "+h.string(e)+".w, fc0.x\t\t\t\t\t\t\t\t\t\nkil "+h.string(g)+".w\nsub "+h.string(e)+", "+h.string(e)+", "+h.string(c)+"\t\t\t\t\t\t\t\t\t\t\t\n"),f=f+("dp3 "+h.string(p)+".w, "+h.string(p)+".xyz, "+
h.string(w)+".xyz\nsub "+h.string(p)+".w, "+h.string(d)+".w, "+h.string(p)+".w\npow "+h.string(p)+".w, "+h.string(p)+".w, "+h.string(d)+".z\nsub "+h.string(w)+".w, "+h.string(d)+".w, "+h.string(p)+".w\nmul "+h.string(w)+".w, "+h.string(d)+".y, "+h.string(w)+".w\nadd "+h.string(p)+".w, "+h.string(p)+".w, "+h.string(w)+".w\nmul "+h.string(p)+".w, "+h.string(d)+".x, "+h.string(p)+".w\n");null!=this._mask&&(d=b.getFreeTextureReg(),f+=this.getTex2DSampleCode(a,g,d,this._mask,this._sharedRegisters.uvVarying)+
"mul "+h.string(p)+".w, "+h.string(g)+".x, "+h.string(p)+".w\n");f+="mul "+h.string(e)+", "+h.string(e)+", "+h.string(p)+".w\t\t\t\t\t\t\nadd "+h.string(c)+", "+h.string(c)+", "+h.string(e)+"\t\t\t\t\t\t\n";b.removeFragmentTempUsage(e);return f},__class__:kn,__properties__:z(Jb.prototype.__properties__,{set_normalReflectance:"set_normalReflectance",get_normalReflectance:"get_normalReflectance",set_alpha:"set_alpha",get_alpha:"get_alpha",set_envMap:"set_envMap",get_envMap:"get_envMap",set_fresnelPower:"set_fresnelPower",
get_fresnelPower:"get_fresnelPower",set_mask:"set_mask",get_mask:"get_mask"})});var Ng=function(a,b){null==a&&(a=!0);this._normalReflectance=.028;this._fresnelPower=5;le.call(this,u(this,this.modulateSpecular),b);this._incidentLight=!a};m["away3d.materials.methods.FresnelSpecularMethod"]=Ng;Ng.__name__=["away3d","materials","methods","FresnelSpecularMethod"];Ng.__super__=le;Ng.prototype=z(le.prototype,{_dataReg:null,_incidentLight:null,_fresnelPower:null,_normalReflectance:null,initConstants:function(a){var b=
a.secondaryFragmentConstantsIndex;a.fragmentData.set(b+2,1);a.fragmentData.set(b+3,0)},get_basedOnSurface:function(){return!this._incidentLight},set_basedOnSurface:function(a){if(this._incidentLight!=a)return a;this._incidentLight=!a;this.invalidateShaderProgram();return a},get_fresnelPower:function(){return this._fresnelPower},set_fresnelPower:function(a){return this._fresnelPower=a},cleanCompilationData:function(){le.prototype.cleanCompilationData.call(this);this._dataReg=null},get_normalReflectance:function(){return this._normalReflectance},
set_normalReflectance:function(a){return this._normalReflectance=a},activate:function(a,b){le.prototype.activate.call(this,a,b);var c=a.fragmentData,d=a.secondaryFragmentConstantsIndex;c.set(d,this._normalReflectance);c.set(d+1,this._fresnelPower)},getFragmentPreLightingCode:function(a,b){this._dataReg=b.getFreeFragmentConstant();a.secondaryFragmentConstantsIndex=4*this._dataReg.get_index();return le.prototype.getFragmentPreLightingCode.call(this,a,b)},modulateSpecular:function(a,b,c,d){return"dp3 "+
h.string(b)+".y, "+h.string(d.viewDirFragment)+".xyz, "+(this._incidentLight?h.string(b)+".xyz\n":h.string(d.normalFragment)+".xyz\n")+"sub "+h.string(b)+".y, "+h.string(this._dataReg)+".z, "+h.string(b)+".y\npow "+h.string(b)+".x, "+h.string(b)+".y, "+h.string(this._dataReg)+".y\nsub "+h.string(b)+".y, "+h.string(this._dataReg)+".z, "+h.string(b)+".y\nmul "+h.string(b)+".y, "+h.string(this._dataReg)+".x, "+h.string(b)+".y\nadd "+h.string(b)+".y, "+h.string(b)+".x, "+h.string(b)+".y\nmul "+h.string(b)+
".w, "+h.string(b)+".w, "+h.string(b)+".y\n"},__class__:Ng,__properties__:z(le.prototype.__properties__,{set_normalReflectance:"set_normalReflectance",get_normalReflectance:"get_normalReflectance",set_fresnelPower:"set_fresnelPower",get_fresnelPower:"get_fresnelPower",set_basedOnSurface:"set_basedOnSurface",get_basedOnSurface:"get_basedOnSurface"})});var Tk=function(a){$b.call(this);this._gradient=a};m["away3d.materials.methods.GradientDiffuseMethod"]=Tk;Tk.__name__=["away3d","materials","methods",
"GradientDiffuseMethod"];Tk.__super__=$b;Tk.prototype=z($b.prototype,{_gradientTextureRegister:null,_gradient:null,get_gradient:function(){return this._gradient},set_gradient:function(a){a.get_hasMipMaps()==this._gradient.get_hasMipMaps()&&a.get_format()==this._gradient.get_format()||this.invalidateShaderProgram();return this._gradient=a},cleanCompilationData:function(){$b.prototype.cleanCompilationData.call(this);this._gradientTextureRegister=null},getFragmentPreLightingCode:function(a,b){var c=
$b.prototype.getFragmentPreLightingCode.call(this,a,b);this._isFirstLight=!0;0<a.numLights&&(this._gradientTextureRegister=b.getFreeTextureReg(),a.secondaryTexturesIndex=this._gradientTextureRegister.get_index());return c},getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));e+="dp3 "+h.string(f)+".w, "+h.string(b)+".xyz, "+h.string(this._sharedRegisters.normalFragment)+".xyz\nmul "+h.string(f)+
".w, "+h.string(f)+".w, "+h.string(this._sharedRegisters.commons)+".x\nadd "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._sharedRegisters.commons)+".x\nmul "+h.string(f)+".xyz, "+h.string(f)+".w, "+h.string(b)+".w\n";null!=this._modulateMethod&&(e+=h.string(this._modulateMethod(a,f,d,this._sharedRegisters)));e+=this.getTex2DSampleCode(a,f,this._gradientTextureRegister,this._gradient,f,"clamp")+"mul "+h.string(f)+".xyz, "+h.string(f)+".xyz, "+h.string(c)+".xyz\n";this._isFirstLight||(e+="add "+
h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+".xyz, "+h.string(f)+".xyz\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},applyShadow:function(a,b){var c=b.getFreeFragmentVectorTemp();return"mov "+h.string(c)+", "+h.string(this._shadowRegister)+".wwww\n"+this.getTex2DSampleCode(a,c,this._gradientTextureRegister,this._gradient,c,"clamp")+"mul "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+", "+h.string(c)+"\n"},activate:function(a,
b){$b.prototype.activate.call(this,a,b);b._context3D.setTextureAt(a.secondaryTexturesIndex,this._gradient.getTextureForStage3D(b))},__class__:Tk,__properties__:z($b.prototype.__properties__,{set_gradient:"set_gradient",get_gradient:"get_gradient"})});var hj=function(a){gc.call(this,a)};m["away3d.materials.methods.HardShadowMapMethod"]=hj;hj.__name__=["away3d","materials","methods","HardShadowMapMethod"];hj.__super__=gc;hj.prototype=z(gc.prototype,{getPlanarFragmentCode:function(a,b,c){var d=b.getFreeTextureReg(),
e=b.getFreeFragmentConstant();b.getFreeFragmentConstant();b=b.getFreeFragmentVectorTemp();var f="";a.fragmentConstantsIndex=4*e.get_index();a.texturesIndex=d.get_index();return f+="tex "+h.string(b)+", "+h.string(this._depthMapCoordReg)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(b)+".z, "+h.string(b)+", "+h.string(e)+"\nslt "+h.string(c)+".w, "+h.string(this._depthMapCoordReg)+".z, "+h.string(b)+".z\n"},getPointFragmentCode:function(a,b,c){var d=b.getFreeTextureReg(),e=b.getFreeFragmentConstant(),
f=b.getFreeFragmentConstant(),k=b.getFreeFragmentConstant(),p=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(p,1);var w=b.getFreeFragmentVectorTemp(),g="";a.fragmentConstantsIndex=4*e.get_index();a.texturesIndex=d.get_index();g+="sub "+h.string(w)+", "+h.string(this._sharedRegisters.globalPositionVarying)+", "+h.string(k)+"\ndp3 "+h.string(w)+".w, "+h.string(w)+".xyz, "+h.string(w)+".xyz\nmul "+h.string(w)+".w, "+h.string(w)+".w, "+h.string(k)+".w\nnrm "+h.string(w)+".xyz, "+h.string(w)+".xyz\ntex "+
h.string(p)+", "+h.string(w)+", "+h.string(d)+" <cube, nearest, clamp>\ndp4 "+h.string(p)+".z, "+h.string(p)+", "+h.string(e)+"\nadd "+h.string(c)+".w, "+h.string(w)+".w, "+h.string(f)+".x\nslt "+h.string(c)+".w, "+h.string(c)+".w, "+h.string(p)+".z\n";b.removeFragmentTempUsage(p);return g},getCascadeFragmentCode:function(a,b,c,d,e,f){a=b.getFreeFragmentVectorTemp();return"tex "+h.string(a)+", "+h.string(e)+", "+h.string(d)+" <2d, nearest, clamp>\ndp4 "+h.string(a)+".z, "+h.string(a)+", "+h.string(c)+
"\nslt "+h.string(f)+".w, "+h.string(e)+".z, "+h.string(a)+".z\n"},activateForCascade:function(a,b){},__class__:hj});var Yh=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=9);vc.call(this,null,d);this._useSecondaryUV=c;this._texture=a;this.set_blendMode(b)};m["away3d.materials.methods.LightMapDiffuseMethod"]=Yh;Yh.__name__=["away3d","materials","methods","LightMapDiffuseMethod"];Yh.__super__=vc;Yh.prototype=z(vc.prototype,{_blendMode:null,_useSecondaryUV:null,initVO:function(a){a.needsSecondaryUV=this._useSecondaryUV;
a.needsUV=!this._useSecondaryUV},get_blendMode:function(){return this._blendMode},set_blendMode:function(a){if(0!=a&&9!=a)throw new H(new sa("Unknown blendmode!"));if(this._blendMode==a)return a;this._blendMode=a;this.invalidateShaderProgram();return a},get_lightMapTexture:function(){return this._texture},set_lightMapTexture:function(a){return this._texture=a},activate:function(a,b){b._context3D.setTextureAt(a.secondaryTexturesIndex,this._texture.getTextureForStage3D(b));vc.prototype.activate.call(this,
a,b)},getFragmentPostLightingCode:function(a,b,c){var d;d=b.getFreeTextureReg();var e=b.getFreeFragmentVectorTemp();a.secondaryTexturesIndex=d.get_index();d=this.getTex2DSampleCode(a,e,d,this._texture,this._sharedRegisters.secondaryUVVarying);switch(this._blendMode){case 0:d+="add "+h.string(this._totalLightColorReg)+", "+h.string(this._totalLightColorReg)+", "+h.string(e)+"\n";break;case 9:d+="mul "+h.string(this._totalLightColorReg)+", "+h.string(this._totalLightColorReg)+", "+h.string(e)+"\n"}return d+=
vc.prototype.getFragmentPostLightingCode.call(this,a,b,c)},__class__:Yh,__properties__:z(vc.prototype.__properties__,{set_lightMapTexture:"set_lightMapTexture",get_lightMapTexture:"get_lightMapTexture",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode"})});var ai=function(a,b,c){null==c&&(c=!1);null==b&&(b=9);Ka.call(this);this._useSecondaryUV=c;this._texture=a;this.set_blendMode(b)};m["away3d.materials.methods.LightMapMethod"]=ai;ai.__name__=["away3d","materials","methods","LightMapMethod"];
ai.__super__=Jb;ai.prototype=z(Jb.prototype,{_texture:null,_blendMode:null,_useSecondaryUV:null,initVO:function(a){a.needsUV=!this._useSecondaryUV;a.needsSecondaryUV=this._useSecondaryUV},get_blendMode:function(){return this._blendMode},set_blendMode:function(a){if(a!=ai.ADD&&9!=a)throw new H(new sa("Unknown blendmode!"));if(this._blendMode==a)return a;this._blendMode=a;this.invalidateShaderProgram();return a},get_texture:function(){return this._texture},set_texture:function(a){a.get_hasMipMaps()==
this._texture.get_hasMipMaps()&&a.get_format()==this._texture.get_format()||this.invalidateShaderProgram();return this._texture=a},activate:function(a,b){b._context3D.setTextureAt(a.texturesIndex,this._texture.getTextureForStage3D(b));Jb.prototype.activate.call(this,a,b)},getFragmentCode:function(a,b,c){var d=b.getFreeTextureReg();b=b.getFreeFragmentVectorTemp();a.texturesIndex=d.get_index();a=this.getTex2DSampleCode(a,b,d,this._texture,this._useSecondaryUV?this._sharedRegisters.secondaryUVVarying:
this._sharedRegisters.uvVarying);switch(this._blendMode){case 0:a+="add "+h.string(c)+", "+h.string(c)+", "+h.string(b)+"\n";break;case 9:a+="mul "+h.string(c)+", "+h.string(c)+", "+h.string(b)+"\n"}return a},__class__:ai,__properties__:z(Jb.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode"})});var $n=function(){this.useLightFallOff=!0};m["away3d.materials.methods.MethodVO"]=$n;$n.__name__=["away3d","materials",
"methods","MethodVO"];$n.prototype={vertexData:null,fragmentData:null,texturesIndex:null,secondaryTexturesIndex:null,vertexConstantsIndex:null,secondaryVertexConstantsIndex:null,fragmentConstantsIndex:null,secondaryFragmentConstantsIndex:null,useMipmapping:null,useSmoothTextures:null,repeatTextures:null,anisotropy:null,needsProjection:null,needsView:null,needsNormals:null,needsTangents:null,needsUV:null,needsSecondaryUV:null,needsGlobalVertexPos:null,needsGlobalFragmentPos:null,numLights:null,useLightFallOff:null,
reset:function(){this.fragmentConstantsIndex=this.vertexConstantsIndex=this.texturesIndex=-1;this.useMipmapping=!0;this.anisotropy=1;this.useSmoothTextures=!0;this.needsGlobalFragmentPos=this.needsGlobalVertexPos=this.needsSecondaryUV=this.needsUV=this.needsTangents=this.needsNormals=this.needsView=this.needsProjection=this.repeatTextures=!1;this.numLights=0;this.useLightFallOff=!0},__class__:$n};var ao=function(a){this.method=a;this.data=a.createMethodVO()};m["away3d.materials.methods.MethodVOSet"]=
ao;ao.__name__=["away3d","materials","methods","MethodVOSet"];ao.prototype={method:null,data:null,__class__:ao};var nn=function(a,b){null==b&&(b=.1);gc.call(this,a.get_castingLight());this._baseMethod=a;this._fadeRatio=b;this._nearShadowMapper=y.__instanceof(this._castingLight.get_shadowMapper(),Lk)?this._castingLight.get_shadowMapper():null;if(null==this._nearShadowMapper)throw new H(new sa("NearShadowMapMethod requires a light that has a NearDirectionalShadowMapper instance assigned to shadowMapper."));
this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated))};m["away3d.materials.methods.NearShadowMapMethod"]=nn;nn.__name__=["away3d","materials","methods","NearShadowMapMethod"];nn.__super__=gc;nn.prototype=z(gc.prototype,{_baseMethod:null,_fadeRatio:null,_nearShadowMapper:null,get_baseMethod:function(){return this._baseMethod},set_baseMethod:function(a){if(this._baseMethod==a)return a;this._baseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));
this._baseMethod=a;this._baseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated),!1,0,!0);this.invalidateShaderProgram();return a},initConstants:function(a){gc.prototype.initConstants.call(this,a);this._baseMethod.initConstants(a);var b=a.fragmentData;a=a.secondaryFragmentConstantsIndex;b.set(a+2,0);b.set(a+3,1)},initVO:function(a){this._baseMethod.initVO(a);a.needsProjection=!0},dispose:function(){this._baseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated))},
get_alpha:function(){return this._baseMethod.get_alpha()},set_alpha:function(a){this._baseMethod.set_alpha(a);return a},get_epsilon:function(){return this._baseMethod.get_epsilon()},set_epsilon:function(a){this._baseMethod.set_epsilon(a);return a},get_fadeRatio:function(){return this._fadeRatio},set_fadeRatio:function(a){return this._fadeRatio=a},getFragmentCode:function(a,b,c){var d=this._baseMethod.getFragmentCode(a,b,c),e=b.getFreeFragmentConstant();b=b.getFreeFragmentSingleTemp();a.secondaryFragmentConstantsIndex=
4*e.get_index();return d+="abs "+h.string(b)+", "+h.string(this._sharedRegisters.projectionFragment)+".w\nsub "+h.string(b)+", "+h.string(b)+", "+h.string(e)+".x\nmul "+h.string(b)+", "+h.string(b)+", "+h.string(e)+".y\nsat "+h.string(b)+", "+h.string(b)+"\nsub "+h.string(b)+", "+h.string(e)+".w,"+h.string(b)+"\nsub "+h.string(c)+".w, "+h.string(e)+".w,"+h.string(c)+".w\nmul "+h.string(c)+".w, "+h.string(c)+".w, "+h.string(b)+"\nsub "+h.string(c)+".w, "+h.string(e)+".w,"+h.string(c)+".w\n"},activate:function(a,
b){this._baseMethod.activate(a,b)},deactivate:function(a,b){this._baseMethod.deactivate(a,b)},setRenderState:function(a,b,c,d){var e=d.get_lens().get_near(),f=d.get_lens().get_far()-e,k=this._nearShadowMapper.get_coverageRatio(),p=k*(1-this._fadeRatio),k=e+k*f,p=e+p*f,e=a.fragmentData,f=a.secondaryFragmentConstantsIndex;e.set(f,p);e.set(f+1,1/(k-p));this._baseMethod.setRenderState(a,b,c,d)},getVertexCode:function(a,b){return this._baseMethod.getVertexCode(a,b)},reset:function(){this._baseMethod.reset()},
cleanCompilationData:function(){gc.prototype.cleanCompilationData.call(this);this._baseMethod.cleanCompilationData()},set_sharedRegisters:function(a){gc.prototype.set_sharedRegisters.call(this,this._baseMethod.set_sharedRegisters(a));return a},onShaderInvalidated:function(a){this.invalidateShaderProgram()},__class__:nn,__properties__:z(gc.prototype.__properties__,{set_fadeRatio:"set_fadeRatio",get_fadeRatio:"get_fadeRatio",set_baseMethod:"set_baseMethod",get_baseMethod:"get_baseMethod"})});var jn=
function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);null==b&&(b=1);null==a&&(a=0);Ka.call(this);this._passes=x.toObjectVector(null);this._outlinePass=new bo(a,b,c,d);this._passes.push(this._outlinePass)};m["away3d.materials.methods.OutlineMethod"]=jn;jn.__name__=["away3d","materials","methods","OutlineMethod"];jn.__super__=Jb;jn.prototype=z(Jb.prototype,{_outlinePass:null,initVO:function(a){a.needsNormals=!0},get_showInnerLines:function(){return this._outlinePass.get_showInnerLines()},set_showInnerLines:function(a){this._outlinePass.set_showInnerLines(a);
return a},get_outlineColor:function(){return this._outlinePass.get_outlineColor()},set_outlineColor:function(a){this._outlinePass.set_outlineColor(a);return a},get_outlineSize:function(){return this._outlinePass.get_outlineSize()},set_outlineSize:function(a){this._outlinePass.set_outlineSize(a);return a},reset:function(){Jb.prototype.reset.call(this)},activate:function(a,b){},getFragmentCode:function(a,b,c){return""},__class__:jn,__properties__:z(Jb.prototype.__properties__,{set_outlineSize:"set_outlineSize",
get_outlineSize:"get_outlineSize",set_outlineColor:"set_outlineColor",get_outlineColor:"get_outlineColor",set_showInnerLines:"set_showInnerLines",get_showInnerLines:"get_showInnerLines"})});var Wk=function(){Vc.call(this)};m["away3d.materials.methods.PhongSpecularMethod"]=Wk;Wk.__name__=["away3d","materials","methods","PhongSpecularMethod"];Wk.__super__=Vc;Wk.prototype=z(Vc.prototype,{getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:(f=d.getFreeFragmentVectorTemp(),
d.addFragmentTempUsages(f,1));var k=this._sharedRegisters.viewDirFragment,p=this._sharedRegisters.normalFragment,e=e+("dp3 "+h.string(f)+".w, "+h.string(b)+", "+h.string(p)+"\nadd "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(f)+".w\nmul "+h.string(f)+".xyz, "+h.string(p)+", "+h.string(f)+".w\nsub "+h.string(f)+".xyz, "+h.string(f)+", "+h.string(b)+"\nadd"+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._sharedRegisters.commons)+".w\nsat "+h.string(f)+".w, "+h.string(f)+".w\nmul "+h.string(f)+
".xyz, "+h.string(f)+", "+h.string(f)+".w\ndp3 "+h.string(f)+".w, "+h.string(f)+", "+h.string(k)+"\nsat "+h.string(f)+".w, "+h.string(f)+".w\n"),e=this._useTexture?e+("mul "+h.string(this._specularTexData)+".w, "+h.string(this._specularTexData)+".y, "+h.string(this._specularDataRegister)+".w\npow "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._specularTexData)+".w\n"):e+("pow "+h.string(f)+".w, "+h.string(f)+".w, "+h.string(this._specularDataRegister)+".w\n");a.useLightFallOff&&(e+="mul "+
h.string(f)+".w, "+h.string(f)+".w, "+h.string(b)+".w\n");null!=this._modulateMethod&&(e+=h.string(this._modulateMethod(a,f,d,this._sharedRegisters)));e+="mul "+h.string(f)+".xyz, "+h.string(c)+".xyz, "+h.string(f)+".w\n";this._isFirstLight||(e+="add "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+".xyz, "+h.string(f)+".xyz\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},__class__:Wk});var bi=function(a,b){null==b&&(b=9);this._projMatrix=new Xa;Ka.call(this);
this._projector=a;this._mode=null==b?9:b};m["away3d.materials.methods.ProjectiveTextureMethod"]=bi;bi.__name__=["away3d","materials","methods","ProjectiveTextureMethod"];bi.__super__=Jb;bi.prototype=z(Jb.prototype,{_projector:null,_uvVarying:null,_projMatrix:null,_mode:null,initConstants:function(a){var b=a.fragmentConstantsIndex;a=a.fragmentData;a.set(b,.5);a.set(b+1,-.5);a.set(b+2,1);a.set(b+3,1)},cleanCompilationData:function(){Jb.prototype.cleanCompilationData.call(this);this._uvVarying=null},
get_mode:function(){return this._mode},set_mode:function(a){if(this._mode==a)return a;this._mode=a;this.invalidateShaderProgram();return a},get_projector:function(){return this._projector},set_projector:function(a){return this._projector=a},getVertexCode:function(a,b){var c=b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexVectorTemp();a.vertexConstantsIndex=4*c.get_index();this._uvVarying=b.getFreeVarying();return"m44 "+h.string(this._uvVarying)+
", vt0, "+h.string(c)+"\n"},getFragmentCode:function(a,b,c){var d="",e=b.getFreeTextureReg(),f=b.getFreeFragmentVectorTemp();b=b.getFreeFragmentConstant();a.fragmentConstantsIndex=4*b.get_index();a.texturesIndex=e.get_index();d+="div "+h.string(f)+", "+h.string(this._uvVarying)+", "+h.string(this._uvVarying)+".w\t\t\t\t\t\t\nmul "+h.string(f)+".xy, "+h.string(f)+".xy, "+h.string(b)+".xy\t\nadd "+h.string(f)+".xy, "+h.string(f)+".xy, "+h.string(b)+".xx\t\n";d+=this.getTex2DSampleCode(a,f,e,this._projector.get_texture(),
f,"clamp");if(9==this._mode)d+="mul "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(f)+".xyz\t\t\t\n";else if(0==this._mode)d+="add "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(f)+".xyz\t\t\t\n";else if(3==this._mode)d+="sub "+h.string(f)+".xyz, "+h.string(f)+".xyz, "+h.string(c)+".xyz\t\t\t\t\nmul "+h.string(f)+".xyz, "+h.string(f)+".xyz, "+h.string(f)+".w\t\t\t\t\t\t\nadd "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(f)+".xyz\t\t\t\n";else throw new H(new sa('Unknown mode "'+
Xd.toString(this._mode)+'"'));return d},setRenderState:function(a,b,c,d){this._projMatrix.copyFrom(this._projector.get_viewProjection());this._projMatrix.prepend(b.getRenderSceneTransform(d));this._projMatrix.copyRawDataTo(a.vertexData,a.vertexConstantsIndex,!0)},activate:function(a,b){b._context3D.setTextureAt(a.texturesIndex,this._projector.get_texture().getTextureForStage3D(b))},__class__:bi,__properties__:z(Jb.prototype.__properties__,{set_projector:"set_projector",get_projector:"get_projector",
set_mode:"set_mode",get_mode:"get_mode"})});var Yk=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=.1);this._alpha=1;this._dispersionR=this._dispersionG=this._dispersionB=0;Ka.call(this);this._envMap=a;this._dispersionR=c;this._dispersionG=d;this._dispersionB=e;this._useDispersion=!(this._dispersionR==this._dispersionB&&this._dispersionR==this._dispersionG);this._refractionIndex=b};m["away3d.materials.methods.RefractionEnvMapMethod"]=Yk;Yk.__name__=["away3d","materials",
"methods","RefractionEnvMapMethod"];Yk.__super__=Jb;Yk.prototype=z(Jb.prototype,{_envMap:null,_dispersionR:null,_dispersionG:null,_dispersionB:null,_useDispersion:null,_refractionIndex:null,_alpha:null,initConstants:function(a){var b=a.fragmentConstantsIndex;a=a.fragmentData;a.set(b+4,1);a.set(b+5,0);a.set(b+7,1)},initVO:function(a){a.needsNormals=!0;a.needsView=!0},get_envMap:function(){return this._envMap},set_envMap:function(a){return this._envMap=a},get_refractionIndex:function(){return this._refractionIndex},
set_refractionIndex:function(a){return this._refractionIndex=a},get_dispersionR:function(){return this._dispersionR},set_dispersionR:function(a){this._dispersionR=a;var b=!(this._dispersionR==this._dispersionB&&this._dispersionR==this._dispersionG);this._useDispersion!=b&&(this.invalidateShaderProgram(),this._useDispersion=b);return a},get_dispersionG:function(){return this._dispersionG},set_dispersionG:function(a){this._dispersionG=a;var b=!(this._dispersionR==this._dispersionB&&this._dispersionR==
this._dispersionG);this._useDispersion!=b&&(this.invalidateShaderProgram(),this._useDispersion=b);return a},get_dispersionB:function(){return this._dispersionB},set_dispersionB:function(a){this._dispersionB=a;var b=!(this._dispersionR==this._dispersionB&&this._dispersionR==this._dispersionG);this._useDispersion!=b&&(this.invalidateShaderProgram(),this._useDispersion=b);return a},get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha=a},activate:function(a,b){var c=a.fragmentConstantsIndex,
d=a.fragmentData;d.set(c,this._dispersionR+this._refractionIndex);this._useDispersion&&(d.set(c+1,this._dispersionG+this._refractionIndex),d.set(c+2,this._dispersionB+this._refractionIndex));d.set(c+3,this._alpha);b._context3D.setTextureAt(a.texturesIndex,this._envMap.getTextureForStage3D(b))},getFragmentCode:function(a,b,c){var d=b.getFreeFragmentConstant(),e=b.getFreeFragmentConstant(),f="",k=b.getFreeTextureReg(),p,w,g;a.texturesIndex=k.get_index();a.fragmentConstantsIndex=4*d.get_index();p=b.getFreeFragmentVectorTemp();
b.addFragmentTempUsages(p,1);w=b.getFreeFragmentVectorTemp();b.addFragmentTempUsages(w,1);g=b.getFreeFragmentVectorTemp();var n=this._sharedRegisters.viewDirFragment,l=this._sharedRegisters.normalFragment,f=f+("neg "+h.string(n)+".xyz, "+h.string(n)+".xyz\n"),f=f+("dp3 "+h.string(g)+".x, "+h.string(n)+".xyz, "+h.string(l)+".xyz\nmul "+h.string(g)+".w, "+h.string(g)+".x, "+h.string(g)+".x\nsub "+h.string(g)+".w, "+h.string(e)+".x, "+h.string(g)+".w\nmul "+h.string(g)+".w, "+h.string(d)+".x, "+h.string(g)+
".w\nmul "+h.string(g)+".w, "+h.string(d)+".x, "+h.string(g)+".w\nsub "+h.string(g)+".w, "+h.string(e)+".x, "+h.string(g)+".w\nsqt "+h.string(g)+".y, "+h.string(g)+".w\nmul "+h.string(g)+".x, "+h.string(d)+".x, "+h.string(g)+".x\nadd "+h.string(g)+".x, "+h.string(g)+".x, "+h.string(g)+".y\nmul "+h.string(g)+".xyz, "+h.string(g)+".x, "+h.string(l)+".xyz\nmul "+h.string(p)+", "+h.string(d)+".x, "+h.string(n)+"\nsub "+h.string(p)+".xyz, "+h.string(p)+".xyz, "+h.string(g)+".xyz\nnrm "+h.string(p)+".xyz, "+
h.string(p)+".xyz\n"),f=f+(this.getTexCubeSampleCode(a,w,k,this._envMap,p)+"sub "+h.string(w)+".w, "+h.string(w)+".w, fc0.x\t\nkil "+h.string(w)+".w\n");this._useDispersion&&(f+="dp3 "+h.string(g)+".x, "+h.string(n)+".xyz, "+h.string(l)+".xyz\nmul "+h.string(g)+".w, "+h.string(g)+".x, "+h.string(g)+".x\nsub "+h.string(g)+".w, "+h.string(e)+".x, "+h.string(g)+".w\nmul "+h.string(g)+".w, "+h.string(d)+".y, "+h.string(g)+".w\nmul "+h.string(g)+".w, "+h.string(d)+".y, "+h.string(g)+".w\nsub "+h.string(g)+
".w, "+h.string(e)+".x, "+h.string(g)+".w\nsqt "+h.string(g)+".y, "+h.string(g)+".w\nmul "+h.string(g)+".x, "+h.string(d)+".y, "+h.string(g)+".x\nadd "+h.string(g)+".x, "+h.string(g)+".x, "+h.string(g)+".y\nmul "+h.string(g)+".xyz, "+h.string(g)+".x, "+h.string(l)+".xyz\nmul "+h.string(p)+", "+h.string(d)+".y, "+h.string(n)+"\nsub "+h.string(p)+".xyz, "+h.string(p)+".xyz, "+h.string(g)+".xyz\nnrm "+h.string(p)+".xyz, "+h.string(p)+".xyz\n",f+=this.getTexCubeSampleCode(a,g,k,this._envMap,p)+"mov "+
h.string(w)+".y, "+h.string(g)+".y\n",f+="dp3 "+h.string(g)+".x, "+h.string(n)+".xyz, "+h.string(l)+".xyz\nmul "+h.string(g)+".w, "+h.string(g)+".x, "+h.string(g)+".x\nsub "+h.string(g)+".w, "+h.string(e)+".x, "+h.string(g)+".w\nmul "+h.string(g)+".w, "+h.string(d)+".z, "+h.string(g)+".w\nmul "+h.string(g)+".w, "+h.string(d)+".z, "+h.string(g)+".w\nsub "+h.string(g)+".w, "+h.string(e)+".x, "+h.string(g)+".w\nsqt "+h.string(g)+".y, "+h.string(g)+".w\nmul "+h.string(g)+".x, "+h.string(d)+".z, "+h.string(g)+
".x\nadd "+h.string(g)+".x, "+h.string(g)+".x, "+h.string(g)+".y\nmul "+h.string(g)+".xyz, "+h.string(g)+".x, "+h.string(l)+".xyz\nmul "+h.string(p)+", "+h.string(d)+".z, "+h.string(n)+"\nsub "+h.string(p)+".xyz, "+h.string(p)+".xyz, "+h.string(g)+".xyz\nnrm "+h.string(p)+".xyz, "+h.string(p)+".xyz\n",f+=this.getTexCubeSampleCode(a,g,k,this._envMap,p)+"mov "+h.string(w)+".z, "+h.string(g)+".z\n");b.removeFragmentTempUsage(p);f+="sub "+h.string(w)+".xyz, "+h.string(w)+".xyz, "+h.string(c)+".xyz\nmul "+
h.string(w)+".xyz, "+h.string(w)+".xyz, "+h.string(d)+".w\nadd "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(w)+".xyz\n";b.removeFragmentTempUsage(w);return f+="neg "+h.string(n)+".xyz, "+h.string(n)+".xyz\n"},__class__:Yk,__properties__:z(Jb.prototype.__properties__,{set_alpha:"set_alpha",get_alpha:"get_alpha",set_dispersionB:"set_dispersionB",get_dispersionB:"get_dispersionB",set_dispersionG:"set_dispersionG",get_dispersionG:"get_dispersionG",set_dispersionR:"set_dispersionR",get_dispersionR:"get_dispersionR",
set_refractionIndex:"set_refractionIndex",get_refractionIndex:"get_refractionIndex",set_envMap:"set_envMap",get_envMap:"get_envMap"})});var ci=function(a,b,c,d){null==d&&(d="mix");null==c&&(c=2);null==b&&(b=.4);null==a&&(a=16777215);Ka.call(this);this._blendMode=d;this._strength=b;this._power=c;this.set_color(a)};m["away3d.materials.methods.RimLightMethod"]=ci;ci.__name__=["away3d","materials","methods","RimLightMethod"];ci.__super__=Jb;ci.prototype=z(Jb.prototype,{_color:null,_blendMode:null,_colorR:null,
_colorG:null,_colorB:null,_strength:null,_power:null,initConstants:function(a){a.fragmentData.set(a.fragmentConstantsIndex+3,1)},initVO:function(a){a.needsNormals=!0;a.needsView=!0},get_blendMode:function(){return this._blendMode},set_blendMode:function(a){if(this._blendMode==a)return a;this._blendMode=a;this.invalidateShaderProgram();return a},get_color:function(){return this._color},set_color:function(a){this._color=a;this._colorR=(a>>16&255)/255;this._colorG=(a>>8&255)/255;this._colorB=(a&255)/
255;return a},get_strength:function(){return this._strength},set_strength:function(a){return this._strength=a},get_power:function(){return this._power},set_power:function(a){return this._power=a},activate:function(a,b){var c=a.fragmentConstantsIndex,d=a.fragmentData;d.set(c,this._colorR);d.set(c+1,this._colorG);d.set(c+2,this._colorB);d.set(c+4,this._strength);d.set(c+5,this._power)},getFragmentCode:function(a,b,c){var d=b.getFreeFragmentConstant(),e=b.getFreeFragmentConstant();b=b.getFreeFragmentVectorTemp();
var f="";a.fragmentConstantsIndex=4*d.get_index();f+="dp3 "+h.string(b)+".x, "+h.string(this._sharedRegisters.viewDirFragment)+".xyz, "+h.string(this._sharedRegisters.normalFragment)+".xyz\t\nsat "+h.string(b)+".x, "+h.string(b)+".x\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nsub "+h.string(b)+".x, "+h.string(d)+".w, "+h.string(b)+".x\t\t\t\t\t\t\t\t\npow "+h.string(b)+".x, "+h.string(b)+".x, "+h.string(e)+".y\t\t\t\t\t\t\t\nmul "+h.string(b)+".x, "+h.string(b)+".x, "+h.string(e)+".x\t\t\t\t\t\t\t\nsub "+h.string(b)+
".x, "+h.string(d)+".w, "+h.string(b)+".x\t\t\t\t\t\t\t\t\nmul "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(b)+".x\t\t\t\t\t\t\nsub "+h.string(b)+".w, "+h.string(d)+".w, "+h.string(b)+".x\t\t\t\t\t\t\t\t\n";return f="add"==this._blendMode?f+("mul "+h.string(b)+".xyz, "+h.string(b)+".w, "+h.string(d)+".xyz\t\t\t\t\t\t\t\nadd "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(b)+".xyz\t\t\t\t\t\t\n"):"multiply"==this._blendMode?f+("mul "+h.string(b)+".xyz, "+h.string(b)+".w, "+h.string(d)+
".xyz\t\t\t\t\t\t\t\nmul "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(b)+".xyz\t\t\t\t\t\t\n"):f+("sub "+h.string(b)+".xyz, "+h.string(d)+".xyz, "+h.string(c)+".xyz\t\t\t\t\nmul "+h.string(b)+".xyz, "+h.string(b)+".xyz, "+h.string(b)+".w\t\t\t\t\t\t\t\t\nadd "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(b)+".xyz\t\t\t\t\t\n")},__class__:ci,__properties__:z(Jb.prototype.__properties__,{set_power:"set_power",get_power:"get_power",set_strength:"set_strength",get_strength:"get_strength",
set_color:"set_color",get_color:"get_color",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode"})});var co=function(){this._methods=x.toObjectVector(null);this._normalMethod=new We;this._ambientMethod=new Ve;this._diffuseMethod=new $b;this._specularMethod=new Vc;this._normalMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._diffuseMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._specularMethod.addEventListener("ShaderInvalidated",
u(this,this.onShaderInvalidated));this._ambientMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._normalMethodVO=this._normalMethod.createMethodVO();this._ambientMethodVO=this._ambientMethod.createMethodVO();this._diffuseMethodVO=this._diffuseMethod.createMethodVO();this._specularMethodVO=this._specularMethod.createMethodVO();za.call(this)};m["away3d.materials.methods.ShaderMethodSetup"]=co;co.__name__=["away3d","materials","methods","ShaderMethodSetup"];co.__super__=
za;co.prototype=z(za.prototype,{_colorTransformMethod:null,_colorTransformMethodVO:null,_normalMethod:null,_normalMethodVO:null,_ambientMethod:null,_ambientMethodVO:null,_shadowMethod:null,_shadowMethodVO:null,_diffuseMethod:null,_diffuseMethodVO:null,_specularMethod:null,_specularMethodVO:null,_methods:null,onShaderInvalidated:function(a){this.invalidateShaderProgram()},invalidateShaderProgram:function(){this.dispatchEvent(new Yi("ShaderInvalidated"))},get_normalMethod:function(){return this._normalMethod},
set_normalMethod:function(a){null!=this._normalMethod&&this._normalMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));null!=a&&(null!=this._normalMethod&&a.copyFrom(this._normalMethod),this._normalMethodVO=a.createMethodVO(),a.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated)));this._normalMethod=a;null!=a&&this.invalidateShaderProgram();return a},get_ambientMethod:function(){return this._ambientMethod},set_ambientMethod:function(a){null!=this._ambientMethod&&
this._ambientMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));null!=a&&(null!=this._ambientMethod&&a.copyFrom(this._ambientMethod),a.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated)),this._ambientMethodVO=a.createMethodVO());this._ambientMethod=a;null!=a&&this.invalidateShaderProgram();return a},get_shadowMethod:function(){return this._shadowMethod},set_shadowMethod:function(a){null!=this._shadowMethod&&this._shadowMethod.removeEventListener("ShaderInvalidated",
u(this,this.onShaderInvalidated));this._shadowMethod=a;null!=this._shadowMethod?(this._shadowMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated)),this._shadowMethodVO=this._shadowMethod.createMethodVO()):this._shadowMethodVO=null;this.invalidateShaderProgram();return a},get_diffuseMethod:function(){return this._diffuseMethod},set_diffuseMethod:function(a){null!=this._diffuseMethod&&this._diffuseMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));
null!=a&&(null!=this._diffuseMethod&&a.copyFrom(this._diffuseMethod),a.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated)),this._diffuseMethodVO=a.createMethodVO());this._diffuseMethod=a;null!=a&&this.invalidateShaderProgram();return a},get_specularMethod:function(){return this._specularMethod},set_specularMethod:function(a){null!=this._specularMethod&&(this._specularMethod.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated)),null!=a&&a.copyFrom(this._specularMethod));
this._specularMethod=a;null!=this._specularMethod?(this._specularMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated)),this._specularMethodVO=this._specularMethod.createMethodVO()):this._specularMethodVO=null;this.invalidateShaderProgram();return a},get_colorTransformMethod:function(){return this._colorTransformMethod},set_colorTransformMethod:function(a){if(this._colorTransformMethod==a)return a;null!=this._colorTransformMethod&&this._colorTransformMethod.removeEventListener("ShaderInvalidated",
u(this,this.onShaderInvalidated));null!=this._colorTransformMethod&&null!=a||this.invalidateShaderProgram();this._colorTransformMethod=a;null!=this._colorTransformMethod?(this._colorTransformMethod.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated)),this._colorTransformMethodVO=this._colorTransformMethod.createMethodVO()):this._colorTransformMethodVO=null;return a},dispose:function(){this.clearListeners(this._normalMethod);this.clearListeners(this._diffuseMethod);this.clearListeners(this._shadowMethod);
this.clearListeners(this._ambientMethod);this.clearListeners(this._specularMethod);for(var a=0,b=this._methods.get_length();a<b;){var c=a++;this.clearListeners(this._methods.get(c).method)}this._methods=null},clearListeners:function(a){null!=a&&a.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated))},addMethod:function(a){this._methods.push(new ao(a));a.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this.invalidateShaderProgram()},hasMethod:function(a){return null!=
this.getMethodSetForMethod(a)},addMethodAt:function(a,b){this._methods.insertAt(b,new ao(a));a.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this.invalidateShaderProgram()},getMethodAt:function(a){return a>this._methods.get_length()-1?null:this._methods.get(a).method},get_numMethods:function(){return this._methods.get_length()},removeMethod:function(a){var b=this.getMethodSetForMethod(a);null!=b&&(b=this._methods.indexOf(b,0),this._methods.splice(b,1),a.removeEventListener("ShaderInvalidated",
u(this,this.onShaderInvalidated)),this.invalidateShaderProgram())},getMethodSetForMethod:function(a){for(var b=0,c=this._methods.get_length();b<c;){var d=b++;if(this._methods.get(d).method==a)return this._methods.get(d)}return null},__class__:co,__properties__:{get_numMethods:"get_numMethods",set_colorTransformMethod:"set_colorTransformMethod",get_colorTransformMethod:"get_colorTransformMethod",set_specularMethod:"set_specularMethod",get_specularMethod:"get_specularMethod",set_diffuseMethod:"set_diffuseMethod",
get_diffuseMethod:"get_diffuseMethod",set_shadowMethod:"set_shadowMethod",get_shadowMethod:"get_shadowMethod",set_ambientMethod:"set_ambientMethod",get_ambientMethod:"get_ambientMethod",set_normalMethod:"set_normalMethod",get_normalMethod:"get_normalMethod"}});var Xk=function(a,b){this._water1OffsetX=this._water1OffsetY=this._water2OffsetX=this._water2OffsetY=0;Ka.call(this);this.set_normalMap(a);this.set_secondaryNormalMap(b)};m["away3d.materials.methods.SimpleWaterNormalMethod"]=Xk;Xk.__name__=
["away3d","materials","methods","SimpleWaterNormalMethod"];Xk.__super__=We;Xk.prototype=z(We.prototype,{_texture2:null,_normalTextureRegister2:null,_useSecondNormalMap:null,_water1OffsetX:null,_water1OffsetY:null,_water2OffsetX:null,_water2OffsetY:null,initConstants:function(a){var b=a.fragmentConstantsIndex;a.fragmentData.set(b,.5);a.fragmentData.set(b+1,0);a.fragmentData.set(b+2,0);a.fragmentData.set(b+3,1)},initVO:function(a){We.prototype.initVO.call(this,a);this._useSecondNormalMap=this.get_normalMap()!=
this.get_secondaryNormalMap()},get_water1OffsetX:function(){return this._water1OffsetX},set_water1OffsetX:function(a){return this._water1OffsetX=a},get_water1OffsetY:function(){return this._water1OffsetY},set_water1OffsetY:function(a){return this._water1OffsetY=a},get_water2OffsetX:function(){return this._water2OffsetX},set_water2OffsetX:function(a){return this._water2OffsetX=a},get_water2OffsetY:function(){return this._water2OffsetY},set_water2OffsetY:function(a){return this._water2OffsetY=a},set_normalMap:function(a){if(null==
a)return a;We.prototype.set_normalMap.call(this,a);return a},get_secondaryNormalMap:function(){return this._texture2},set_secondaryNormalMap:function(a){return this._texture2=a},cleanCompilationData:function(){We.prototype.cleanCompilationData.call(this);this._normalTextureRegister2=null},dispose:function(){We.prototype.dispose.call(this);this._texture2=null},activate:function(a,b){We.prototype.activate.call(this,a,b);var c=a.fragmentData,d=a.fragmentConstantsIndex;c.set(d+4,this._water1OffsetX);
c.set(d+5,this._water1OffsetY);c.set(d+6,this._water2OffsetX);c.set(d+7,this._water2OffsetY);this._useSecondNormalMap&&b._context3D.setTextureAt(a.texturesIndex+1,this._texture2.getTextureForStage3D(b))},getFragmentCode:function(a,b,c){var d=b.getFreeFragmentVectorTemp(),e=b.getFreeFragmentConstant(),f=b.getFreeFragmentConstant();this._normalTextureRegister=b.getFreeTextureReg();this._normalTextureRegister2=this._useSecondNormalMap?b.getFreeTextureReg():this._normalTextureRegister;a.texturesIndex=
this._normalTextureRegister.get_index();a.fragmentConstantsIndex=4*e.get_index();return"add "+h.string(d)+", "+h.string(this._sharedRegisters.uvVarying)+", "+h.string(f)+".xyxy\n"+this.getTex2DSampleCode(a,c,this._normalTextureRegister,this.get_normalMap(),d)+"add "+h.string(d)+", "+h.string(this._sharedRegisters.uvVarying)+", "+h.string(f)+".zwzw\n"+this.getTex2DSampleCode(a,d,this._normalTextureRegister2,this._texture2,d)+"add "+h.string(c)+", "+h.string(c)+", "+h.string(d)+"\t\t\nmul "+h.string(c)+
", "+h.string(c)+", "+h.string(e)+".x\t\nsub "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(this._sharedRegisters.commons)+".xxx\t\nnrm "+h.string(c)+".xyz, "+h.string(c)+".xyz\t\t\t\t\t\t\t\n"},__class__:Xk,__properties__:z(We.prototype.__properties__,{set_secondaryNormalMap:"set_secondaryNormalMap",get_secondaryNormalMap:"get_secondaryNormalMap",set_water2OffsetY:"set_water2OffsetY",get_water2OffsetY:"get_water2OffsetY",set_water2OffsetX:"set_water2OffsetX",get_water2OffsetX:"get_water2OffsetX",
set_water1OffsetY:"set_water1OffsetY",get_water1OffsetY:"get_water1OffsetY",set_water1OffsetX:"set_water1OffsetX",get_water1OffsetX:"get_water1OffsetX"})});var di=function(a,b,c){null==c&&(c=1);null==b&&(b=5);this._range=1;gc.call(this,a);this.set_numSamples(b);this.set_range(c)};m["away3d.materials.methods.SoftShadowMapMethod"]=di;di.__name__=["away3d","materials","methods","SoftShadowMapMethod"];di.__super__=gc;di.prototype=z(gc.prototype,{_range:null,_numSamples:null,_offsets:null,get_numSamples:function(){return this._numSamples},
set_numSamples:function(a){this._numSamples=a;1>this._numSamples?this._numSamples=1:32<this._numSamples&&(this._numSamples=32);this._offsets=Ub.getDistribution(this._numSamples);this.invalidateShaderProgram();return a},get_range:function(){return this._range},set_range:function(a){return this._range=a},initConstants:function(a){gc.prototype.initConstants.call(this,a);a.fragmentData.set(a.fragmentConstantsIndex+8,1/this._numSamples);a.fragmentData.set(a.fragmentConstantsIndex+9,0)},activate:function(a,
b){gc.prototype.activate.call(this,a,b);for(var c=.5*this._range/this._castingLight.get_shadowMapper().get_depthMapSize(),d=a.fragmentData,e=a.fragmentConstantsIndex+10,f=0,k=this._numSamples<<1;f<k;){var p=f++;d.set(e+p,this._offsets.get(p)*c)}},getPlanarFragmentCode:function(a,b,c){var d=b.getFreeTextureReg(),e=b.getFreeFragmentConstant();b.getFreeFragmentConstant();var f=b.getFreeFragmentConstant();a.fragmentConstantsIndex=4*e.get_index();a.texturesIndex=d.get_index();return this.getSampleCode(b,
d,e,c,f)},addSample:function(a,b,c,d,e){e=e.getFreeFragmentVectorTemp();return"tex "+h.string(e)+", "+h.string(a)+", "+h.string(b)+" <2d,nearest,clamp>\ndp4 "+h.string(e)+".z, "+h.string(e)+", "+h.string(c)+"\nslt "+h.string(a)+".w, "+h.string(this._depthMapCoordReg)+".z, "+h.string(e)+".z\nadd "+h.string(d)+".w, "+h.string(d)+".w, "+h.string(a)+".w\n"},activateForCascade:function(a,b){gc.prototype.activate.call(this,a,b);var c=this._range/this._castingLight.get_shadowMapper().get_depthMapSize(),
d=a.fragmentData,e=a.secondaryFragmentConstantsIndex,f=this._numSamples<<1;d.set(e,1/this._numSamples);d.set(e+1,0);for(var e=e+2,k=0;k<f;){var p=k++;d.set(e+p,this._offsets.get(p)*c)}0==f%4&&(d.set(e+f,0),d.set(e+f+1,0))},getCascadeFragmentCode:function(a,b,c,d,e,f){this._depthMapCoordReg=e;e=b.getFreeFragmentConstant();a.secondaryFragmentConstantsIndex=4*e.get_index();return this.getSampleCode(b,d,c,f,e)},getSampleCode:function(a,b,c,d,e){for(var f=null,k="",f=[h.string(e)+".zw"],p=x.toObjectVector(null),
w=0,g=f.length;w<g;){var n=w++;p.set(n,f[n])}f=a.getFreeFragmentVectorTemp();a.addFragmentTempUsages(f,1);w=a.getFreeFragmentVectorTemp();g=0;for(n=this._numSamples>>1;g<n;){g++;var l=a.getFreeFragmentConstant();p.push(h.string(l)+".xy");p.push(h.string(l)+".zw")}g=0;for(n=this._numSamples;g<n;)l=g++,0==l?(k="add "+h.string(f)+", "+h.string(this._depthMapCoordReg)+", "+h.string(e)+".zwyy\n",k+="tex "+h.string(w)+", "+h.string(f)+", "+h.string(b)+" <2d,nearest,clamp>\ndp4 "+h.string(w)+".z, "+h.string(w)+
", "+h.string(c)+"\nslt "+h.string(d)+".w, "+h.string(this._depthMapCoordReg)+".z, "+h.string(w)+".z\n"):(k+="add "+h.string(f)+".xy, "+h.string(this._depthMapCoordReg)+".xy, "+p.get(l)+"\n",k+=this.addSample(f,b,c,d,a));a.removeFragmentTempUsage(f);return k+="mul "+h.string(d)+".w, "+h.string(d)+".w, "+h.string(e)+".x\n"},__class__:di,__properties__:z(gc.prototype.__properties__,{set_range:"set_range",get_range:"get_range",set_numSamples:"set_numSamples",get_numSamples:"get_numSamples"})});var Df=
function(a,b){null==b&&(b=15);null==a&&(a=512);this._scatterR=this._scatterG=this._scatterB=1;this._scatterColor=16777215;this._translucency=1;vc.call(this,u(this,this.scatterLight));this._passes=x.toObjectVector(null);this._depthPass=new eo(a,b);this._passes.push(this._depthPass);this._scattering=.2;this._translucency=1};m["away3d.materials.methods.SubsurfaceScatteringDiffuseMethod"]=Df;Df.__name__=["away3d","materials","methods","SubsurfaceScatteringDiffuseMethod"];Df.__super__=vc;Df.prototype=
z(vc.prototype,{_depthPass:null,_lightProjVarying:null,_propReg:null,_scattering:null,_translucency:null,_lightColorReg:null,_scatterColor:null,_colorReg:null,_decReg:null,_scatterR:null,_scatterG:null,_scatterB:null,_targetReg:null,initConstants:function(a){vc.prototype.initConstants.call(this,a);var b=a.vertexData,c=a.secondaryVertexConstantsIndex;b.set(c,.5);b.set(c+1,-.5);b.set(c+2,0);b.set(c+3,1);b=a.fragmentData;c=a.secondaryFragmentConstantsIndex;b.set(c+3,1);b.set(c+4,1);b.set(c+5,.00392156862745098);
b.set(c+6,1.5378700499807768E-5);b.set(c+7,6.030862941101084E-8);b.set(c+10,.5);b.set(c+11,-.1)},cleanCompilationData:function(){vc.prototype.cleanCompilationData.call(this);this._targetReg=this._decReg=this._colorReg=this._lightColorReg=this._propReg=this._lightProjVarying=null},get_scattering:function(){return this._scattering},set_scattering:function(a){return this._scattering=a},get_translucency:function(){return this._translucency},set_translucency:function(a){return this._translucency=a},get_scatterColor:function(){return this._scatterColor},
set_scatterColor:function(a){this._scatterColor=a;this._scatterR=(a>>16&255)/255;this._scatterG=(a>>8&255)/255;this._scatterB=(a&255)/255;return a},getVertexCode:function(a,b){var c=vc.prototype.getVertexCode.call(this,a,b),d,e,f=b.getFreeVertexVectorTemp();e=b.getFreeVertexConstant();a.secondaryVertexConstantsIndex=4*e.get_index();this._lightProjVarying=b.getFreeVarying();d=b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();b.getFreeVertexConstant();return c+="m44 "+h.string(f)+
", vt0, "+h.string(d)+"\ndiv "+h.string(f)+".xyz, "+h.string(f)+".xyz, "+h.string(f)+".w\nmul "+h.string(f)+".xy, "+h.string(f)+".xy, "+h.string(e)+".xy\nadd "+h.string(f)+".xy, "+h.string(f)+".xy, "+h.string(e)+".xx\nmov "+h.string(this._lightProjVarying)+".xyz, "+h.string(f)+".xyz\nmov "+h.string(this._lightProjVarying)+".w, va0.w\n"},getFragmentPreLightingCode:function(a,b){this._colorReg=b.getFreeFragmentConstant();this._decReg=b.getFreeFragmentConstant();this._propReg=b.getFreeFragmentConstant();
a.secondaryFragmentConstantsIndex=4*this._colorReg.get_index();return vc.prototype.getFragmentPreLightingCode.call(this,a,b)},getFragmentCodePerLight:function(a,b,c,d){this._isFirstLight=!0;this._lightColorReg=c;return vc.prototype.getFragmentCodePerLight.call(this,a,b,c,d)},getFragmentPostLightingCode:function(a,b,c){a=vc.prototype.getFragmentPostLightingCode.call(this,a,b,c);var d=b.getFreeFragmentVectorTemp();a+="mul "+h.string(d)+".xyz, "+h.string(this._lightColorReg)+".xyz, "+h.string(this._targetReg)+
".w\nmul "+h.string(d)+".xyz, "+h.string(d)+".xyz, "+h.string(this._colorReg)+".xyz\nadd "+h.string(c)+".xyz, "+h.string(c)+".xyz, "+h.string(d)+".xyz\n";this._targetReg!=this._sharedRegisters.viewDirFragment&&b.removeFragmentTempUsage(c);return a},activate:function(a,b){vc.prototype.activate.call(this,a,b);var c=a.secondaryFragmentConstantsIndex,d=a.fragmentData;d.set(c,this._scatterR);d.set(c+1,this._scatterG);d.set(c+2,this._scatterB);d.set(c+8,this._scattering);d.set(c+9,this._translucency)},
setRenderState:function(a,b,c,d){d=this._depthPass.getDepthMap(b,c);b=this._depthPass.getProjection(b);c._context3D.setTextureAt(a.secondaryTexturesIndex,d);b.copyRawDataTo(a.vertexData,a.secondaryVertexConstantsIndex+4,!0)},scatterLight:function(a,b,c,d){if(!this._isFirstLight)return"";this._isFirstLight=!1;var e="",f=c.getFreeTextureReg();null==d.viewDirFragment?this._targetReg=d.viewDirFragment:(this._targetReg=c.getFreeFragmentVectorTemp(),c.addFragmentTempUsages(this._targetReg,1));a.secondaryTexturesIndex=
f.get_index();a=c.getFreeFragmentVectorTemp();e+="tex "+h.string(a)+", "+h.string(this._lightProjVarying)+", "+h.string(f)+" <2d,nearest,clamp>\ndp4 "+h.string(b)+".z, "+h.string(a)+", "+h.string(this._decReg)+"\n";return e+="sub "+h.string(b)+".z, "+h.string(this._lightProjVarying)+".z, "+h.string(b)+".z\nsub "+h.string(b)+".z, "+h.string(this._propReg)+".x, "+h.string(b)+".z\nmul "+h.string(b)+".z, "+h.string(this._propReg)+".y, "+h.string(b)+".z\nsat "+h.string(b)+".z, "+h.string(b)+".z\nneg "+
h.string(b)+".y, "+h.string(b)+".x\nmul "+h.string(b)+".y, "+h.string(b)+".y, "+h.string(this._propReg)+".z\nadd "+h.string(b)+".y, "+h.string(b)+".y, "+h.string(this._propReg)+".z\nmul "+h.string(this._targetReg)+".w, "+h.string(b)+".z, "+h.string(b)+".y\nsub "+h.string(b)+".y, "+h.string(this._colorReg)+".w, "+h.string(this._targetReg)+".w\nmul "+h.string(b)+".w, "+h.string(b)+".w, "+h.string(b)+".y\n"},__class__:Df,__properties__:z(vc.prototype.__properties__,{set_scatterColor:"set_scatterColor",
get_scatterColor:"get_scatterColor",set_translucency:"set_translucency",get_translucency:"get_translucency",set_scattering:"set_scattering",get_scattering:"get_scattering"})});var Uk=function(a){null==a&&(a=.5);$b.call(this);this.set_wrapFactor(a)};m["away3d.materials.methods.WrapDiffuseMethod"]=Uk;Uk.__name__=["away3d","materials","methods","WrapDiffuseMethod"];Uk.__super__=$b;Uk.prototype=z($b.prototype,{_wrapDataRegister:null,_wrapFactor:null,cleanCompilationData:function(){$b.prototype.cleanCompilationData.call(this);
this._wrapDataRegister=null},get_wrapFactor:function(){return this._wrapFactor},set_wrapFactor:function(a){this._wrapFactor=a;this._wrapFactor=1/(a+1);return a},getFragmentPreLightingCode:function(a,b){var c=$b.prototype.getFragmentPreLightingCode.call(this,a,b);this._isFirstLight=!0;this._wrapDataRegister=b.getFreeFragmentConstant();a.secondaryFragmentConstantsIndex=4*this._wrapDataRegister.get_index();return c},getFragmentCodePerLight:function(a,b,c,d){var e="",f;this._isFirstLight?f=this._totalLightColorReg:
(f=d.getFreeFragmentVectorTemp(),d.addFragmentTempUsages(f,1));e+="dp3 "+h.string(f)+".x, "+h.string(b)+".xyz, "+h.string(this._sharedRegisters.normalFragment)+".xyz\nadd "+h.string(f)+".y, "+h.string(f)+".x, "+h.string(this._wrapDataRegister)+".x\nmul "+h.string(f)+".y, "+h.string(f)+".y, "+h.string(this._wrapDataRegister)+".y\nsat "+h.string(f)+".w, "+h.string(f)+".y\nmul "+h.string(f)+".xz, "+h.string(f)+".w, "+h.string(b)+".wz\n";null!=this._modulateMethod&&(e+=h.string(this._modulateMethod(a,
f,d,this._sharedRegisters)));e+="mul "+h.string(f)+", "+h.string(f)+".x, "+h.string(c)+"\n";this._isFirstLight||(e+="add "+h.string(this._totalLightColorReg)+".xyz, "+h.string(this._totalLightColorReg)+".xyz, "+h.string(f)+".xyz\n",d.removeFragmentTempUsage(f));this._isFirstLight=!1;return e},activate:function(a,b){$b.prototype.activate.call(this,a,b);var c=a.secondaryFragmentConstantsIndex,d=a.fragmentData;d.set(c,this._wrapFactor);d.set(c+1,1/(this._wrapFactor+1))},__class__:Uk,__properties__:z($b.prototype.__properties__,
{set_wrapFactor:"set_wrapFactor",get_wrapFactor:"get_wrapFactor"})});var pb=function(a){null==a&&(a=!1);this._writeDepth=!0;this._defaultCulling=0;this._shadedTarget="ft0";for(var b=["vt0"],c=x.toObjectVector(null),d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}this._animationTargetRegisters=c;b=["va0"];c=x.toObjectVector(null);d=0;for(e=b.length;d<e;)f=d++,c.set(f,b[f]);this._animatableAttributes=c;this._blendFactorDest=9;this._blendFactorSource=2;this._depthCompareMode=5;this._anisotropy=1;this._mipmap=
!0;this._repeat=!1;this._smooth=!0;this._context3Ds=x.toObjectVector(null,8);b=[-1,-1,-1,-1,-1,-1,-1,-1];c=x.toIntVector(null);d=0;for(e=b.length;d<e;)f=d++,c.set(f,b[f]);this._program3Dids=c;this._program3Ds=x.toObjectVector(null,8);za.call(this);this._renderToTexture=a;this._numUsedStreams=1;this._numUsedVertexConstants=5};m["away3d.materials.passes.MaterialPassBase"]=pb;pb.__name__=["away3d","materials","passes","MaterialPassBase"];pb.__super__=za;pb.prototype=z(za.prototype,{_material:null,_animationSet:null,
_program3Ds:null,_program3Dids:null,_context3Ds:null,_numUsedStreams:null,_numUsedTextures:null,_numUsedVertexConstants:null,_numUsedFragmentConstants:null,_numUsedVaryings:null,_smooth:null,_repeat:null,_mipmap:null,_anisotropy:null,_depthCompareMode:null,_blendFactorSource:null,_blendFactorDest:null,_enableBlending:null,_bothSides:null,_lightPicker:null,_animatableAttributes:null,_animationTargetRegisters:null,_shadedTarget:null,_defaultCulling:null,_renderToTexture:null,_oldTarget:null,_oldSurface:null,
_oldDepthStencil:null,_oldRect:null,_alphaPremultiplied:null,_needFragmentAnimation:null,_needUVAnimation:null,_UVTarget:null,_UVSource:null,_writeDepth:null,animationRegisterCache:null,get_material:function(){return this._material},set_material:function(a){return this._material=a},get_writeDepth:function(){return this._writeDepth},set_writeDepth:function(a){return this._writeDepth=a},get_mipmap:function(){return this._mipmap},set_mipmap:function(a){if(this._mipmap==a)return this._mipmap;this._mipmap=
a;this.invalidateShaderProgram();return this._mipmap},get_anisotropy:function(){return this._anisotropy},set_anisotropy:function(a){if(this._anisotropy==a)return a;this._anisotropy=a;this.invalidateShaderProgram();return a},get_smooth:function(){return this._smooth},set_smooth:function(a){if(this._smooth==a)return this._smooth;this._smooth=a;this.invalidateShaderProgram();return this._smooth},get_repeat:function(){return this._repeat},set_repeat:function(a){if(this._repeat==a)return this._repeat;
this._repeat=a;this.invalidateShaderProgram();return this._repeat},get_bothSides:function(){return this._bothSides},set_bothSides:function(a){return this._bothSides=a},get_depthCompareMode:function(){return this._depthCompareMode},set_depthCompareMode:function(a){return this._depthCompareMode=a},get_animationSet:function(){return this._animationSet},set_animationSet:function(a){if(this._animationSet==a)return this._animationSet;this._animationSet=a;this.invalidateShaderProgram();return this._animationSet},
get_renderToTexture:function(){return this._renderToTexture},dispose:function(){null!=this._lightPicker&&this._lightPicker.removeEventListener("change",u(this,this.onLightsChange));for(var a=0;8>a;){var b=a++;null!=this._program3Ds.get(b)&&(uc.getInstanceFromIndex(b).freeProgram3D(this._program3Dids.get(b)),this._program3Ds.set(b,null))}},get_numUsedStreams:function(){return this._numUsedStreams},get_numUsedVertexConstants:function(){return this._numUsedVertexConstants},get_numUsedVaryings:function(){return this._numUsedVaryings},
get_numUsedFragmentConstants:function(){return this._numUsedFragmentConstants},get_needFragmentAnimation:function(){return this._needFragmentAnimation},get_needUVAnimation:function(){return this._needUVAnimation},updateAnimationState:function(a,b,c){a.get_animator().setRenderState(b,a,this._numUsedVertexConstants,this._numUsedStreams,c)},render:function(a,b,c,d){throw new H(new bb);},getVertexCode:function(){throw new H(new bb);},getFragmentCode:function(a){throw new H(new bb);},setBlendMode:function(a){switch(a){case 0:this._blendFactorSource=
7;this._blendFactorDest=2;this._enableBlending=!0;break;case 1:this._blendFactorSource=9;this._blendFactorDest=7;this._enableBlending=!0;break;case 7:this._blendFactorSource=7;this._blendFactorDest=5;this._enableBlending=!0;break;case 9:this._blendFactorSource=9;this._blendFactorDest=8;this._enableBlending=!0;break;case 10:this._blendFactorSource=2;this._blendFactorDest=9;this._enableBlending=!1;break;case 12:this._blendFactorSource=2;this._blendFactorDest=6;this._enableBlending=!0;break;default:throw new H(new kj("Unsupported blend mode!"));
}},activate:function(a,b){var c=a._stage3DIndex,d=a._context3D;d.setDepthTest(this._writeDepth&&!this._enableBlending,this._depthCompareMode);this._enableBlending&&d.setBlendFactors(this._blendFactorSource,this._blendFactorDest);if(this._context3Ds.get(c)!=d||null==this._program3Ds.get(c))this._context3Ds.set(c,d),this.updateProgram(a),this.dispatchEvent(new ca("change"));for(var e=pb._previousUsedStreams.get(c),f=this._numUsedStreams;f<e;){var k=f++;d.setVertexBufferAt(k,null)}e=pb._previousUsedTexs.get(c);
for(f=this._numUsedTextures;f<e;)k=f++,d.setTextureAt(k,null);null==this._animationSet||this._animationSet.get_usesCPU()||this._animationSet.activate(a,this);d.setProgram(this._program3Ds.get(c));d.setCulling(this._bothSides?3:this._defaultCulling);this._renderToTexture&&(this._oldTarget=a.get_renderTarget(),this._oldSurface=a.get_renderSurfaceSelector(),this._oldDepthStencil=a.get_enableDepthAndStencil(),this._oldRect=a.get_scissorRect())},deactivate:function(a){var b=a._stage3DIndex;pb._previousUsedStreams.set(b,
this._numUsedStreams);pb._previousUsedTexs.set(b,this._numUsedTextures);null==this._animationSet||this._animationSet.get_usesCPU()||this._animationSet.deactivate(a,this);this._renderToTexture&&(a.setRenderTarget(this._oldTarget,this._oldDepthStencil,this._oldSurface),a.set_scissorRect(this._oldRect));this._enableBlending&&a._context3D.setBlendFactors(2,9);a._context3D.setDepthTest(!0,5)},invalidateShaderProgram:function(a){null==a&&(a=!0);for(var b=0;8>b;){var c=b++;this._program3Ds.set(c,null)}null!=
this._material&&a&&this._material.invalidatePasses(this)},updateProgram:function(a){var b="",c="",d="",e=this.getVertexCode();if(null==this._animationSet||this._animationSet.get_usesCPU()){for(var f=0,k=this._animatableAttributes.get_length();f<k;)var p=f++,b=b+("mov "+this._animationTargetRegisters.get(p)+", "+this._animatableAttributes.get(p)+"\n");this._needUVAnimation&&(c="mov "+this._UVTarget+","+this._UVSource+"\n")}else b=this._animationSet.getAGALVertexCode(this,this._animatableAttributes,
this._animationTargetRegisters,a.get_profile()),this._needFragmentAnimation&&(d=this._animationSet.getAGALFragmentCode(this,this._shadedTarget,a.get_profile())),this._needUVAnimation&&(c=this._animationSet.getAGALUVCode(this,this._UVSource,this._UVTarget)),this._animationSet.doneAGALCode(this);e=b+c+e;b=this.getFragmentCode(d);tb.active&&(Aa.trace("Compiling AGAL Code:",{fileName:"MaterialPassBase.hx",lineNumber:536,className:"away3d.materials.passes.MaterialPassBase",methodName:"updateProgram"}),
Aa.trace("--------------------",{fileName:"MaterialPassBase.hx",lineNumber:537,className:"away3d.materials.passes.MaterialPassBase",methodName:"updateProgram"}),Aa.trace(e,{fileName:"MaterialPassBase.hx",lineNumber:538,className:"away3d.materials.passes.MaterialPassBase",methodName:"updateProgram"}),Aa.trace("--------------------",{fileName:"MaterialPassBase.hx",lineNumber:539,className:"away3d.materials.passes.MaterialPassBase",methodName:"updateProgram"}),Aa.trace(b,{fileName:"MaterialPassBase.hx",
lineNumber:540,className:"away3d.materials.passes.MaterialPassBase",methodName:"updateProgram"}));uc.getInstance(a).setProgram3D(this,e,b)},get_lightPicker:function(){return this._lightPicker},set_lightPicker:function(a){null!=this._lightPicker&&this._lightPicker.removeEventListener("change",u(this,this.onLightsChange));this._lightPicker=a;null!=this._lightPicker&&this._lightPicker.addEventListener("change",u(this,this.onLightsChange));this.updateLights();return this._lightPicker},onLightsChange:function(a){this.updateLights()},
updateLights:function(){},get_alphaPremultiplied:function(){return this._alphaPremultiplied},set_alphaPremultiplied:function(a){this._alphaPremultiplied=a;this.invalidateShaderProgram(!1);return this._alphaPremultiplied},__class__:pb,__properties__:{set_alphaPremultiplied:"set_alphaPremultiplied",get_alphaPremultiplied:"get_alphaPremultiplied",set_lightPicker:"set_lightPicker",get_lightPicker:"get_lightPicker",get_needUVAnimation:"get_needUVAnimation",get_needFragmentAnimation:"get_needFragmentAnimation",
get_numUsedFragmentConstants:"get_numUsedFragmentConstants",get_numUsedVaryings:"get_numUsedVaryings",get_numUsedVertexConstants:"get_numUsedVertexConstants",get_numUsedStreams:"get_numUsedStreams",get_renderToTexture:"get_renderToTexture",set_animationSet:"set_animationSet",get_animationSet:"get_animationSet",set_depthCompareMode:"set_depthCompareMode",get_depthCompareMode:"get_depthCompareMode",set_bothSides:"set_bothSides",get_bothSides:"get_bothSides",set_anisotropy:"set_anisotropy",get_anisotropy:"get_anisotropy",
set_repeat:"set_repeat",get_repeat:"get_repeat",set_smooth:"set_smooth",get_smooth:"get_smooth",set_mipmap:"set_mipmap",get_mipmap:"get_mipmap",set_writeDepth:"set_writeDepth",get_writeDepth:"get_writeDepth",set_material:"set_material",get_material:"get_material"}});var qc=function(a){this._preserveAlpha=this._enableLightFallOff=!0;this._fragmentConstantData=x.toFloatVector(null);this._vertexConstantData=x.toFloatVector(null);this._diffuseLightSources=3;this._specularLightSources=1;this._material=
a;this.init();pb.call(this)};m["away3d.materials.passes.CompiledPass"]=qc;qc.__name__=["away3d","materials","passes","CompiledPass"];qc.__super__=pb;qc.prototype=z(pb.prototype,{_passes:null,_passesDirty:null,_specularLightSources:null,_diffuseLightSources:null,_vertexCode:null,_fragmentLightCode:null,_framentPostLightCode:null,_vertexConstantData:null,_fragmentConstantData:null,_commonsDataIndex:null,_probeWeightsIndex:null,_uvBufferIndex:null,_secondaryUVBufferIndex:null,_normalBufferIndex:null,
_tangentBufferIndex:null,_sceneMatrixIndex:null,_sceneNormalMatrixIndex:null,_lightFragmentConstantIndex:null,_cameraPositionIndex:null,_uvTransformIndex:null,_uvTransformIndex2:null,_lightProbeDiffuseIndices:null,_lightProbeSpecularIndices:null,_ambientLightR:null,_ambientLightG:null,_ambientLightB:null,_compiler:null,_methodSetup:null,_usingSpecularMethod:null,_usesNormals:null,_preserveAlpha:null,_animateUVs:null,_animateUVs2:null,_numPointLights:null,_numDirectionalLights:null,_numLightProbes:null,
_enableLightFallOff:null,_forceSeparateMVP:null,get_enableLightFallOff:function(){return this._enableLightFallOff},set_enableLightFallOff:function(a){a!=this._enableLightFallOff&&this.invalidateShaderProgram(!0);return this._enableLightFallOff=a},get_forceSeparateMVP:function(){return this._forceSeparateMVP},set_forceSeparateMVP:function(a){return this._forceSeparateMVP=a},get_numPointLights:function(){return this._numPointLights},get_numDirectionalLights:function(){return this._numDirectionalLights},
get_numLightProbes:function(){return this._numLightProbes},updateProgram:function(a){this.reset(a.get_profile());pb.prototype.updateProgram.call(this,a)},reset:function(a){this.initCompiler(a);this.updateShaderProperties();this.initConstantData();this.cleanUp()},updateUsedOffsets:function(){this._numUsedVertexConstants=this._compiler.get_numUsedVertexConstants();this._numUsedFragmentConstants=this._compiler.get_numUsedFragmentConstants();this._numUsedStreams=this._compiler.get_numUsedStreams();this._numUsedTextures=
this._compiler.get_numUsedTextures();this._numUsedVaryings=this._compiler.get_numUsedVaryings();this._numUsedFragmentConstants=this._compiler.get_numUsedFragmentConstants()},initConstantData:function(){this._vertexConstantData.set_length(4*this._numUsedVertexConstants);this._fragmentConstantData.set_length(4*this._numUsedFragmentConstants);this.initCommonsData();0<=this._uvTransformIndex&&this.initUVTransformData();0<=this._cameraPositionIndex&&this._vertexConstantData.set(this._cameraPositionIndex+
3,1);this.updateMethodConstants()},initCompiler:function(a){this._compiler=this.createCompiler(a);this._compiler.set_forceSeperateMVP(this._forceSeparateMVP);this._compiler.set_numPointLights(this._numPointLights);this._compiler.set_numDirectionalLights(this._numDirectionalLights);this._compiler.set_numLightProbes(this._numLightProbes);this._compiler.set_methodSetup(this._methodSetup);this._compiler.set_diffuseLightSources(this._diffuseLightSources);this._compiler.set_specularLightSources(this._specularLightSources);
this._compiler.setTextureSampling(this._smooth,this._repeat,this._mipmap,this._anisotropy);this._compiler.setConstantDataBuffers(this._vertexConstantData,this._fragmentConstantData);this._compiler.set_animateUVs(this._animateUVs);this._compiler.set_animateUVs2(this._animateUVs2);this._compiler.set_alphaPremultiplied(this._alphaPremultiplied&&this._enableBlending);this._compiler.set_preserveAlpha(this._preserveAlpha&&this._enableBlending);this._compiler.set_enableLightFallOff(this._enableLightFallOff);
this._compiler.compile()},createCompiler:function(a){throw new H(new bb);},updateShaderProperties:function(){this._animatableAttributes=this._compiler.get_animatableAttributes();this._animationTargetRegisters=this._compiler.get_animationTargetRegisters();this._vertexCode=this._compiler.get_vertexCode();this._fragmentLightCode=this._compiler.get_fragmentLightCode();this._framentPostLightCode=this._compiler.get_fragmentPostLightCode();this._shadedTarget=this._compiler.get_shadedTarget();this._usingSpecularMethod=
this._compiler.get_usingSpecularMethod();this._usesNormals=this._compiler.get_usesNormals();this._needUVAnimation=this._compiler.get_needUVAnimation();this._UVSource=this._compiler.get_UVSource();this._UVTarget=this._compiler.get_UVTarget();this.updateRegisterIndices();this.updateUsedOffsets()},updateRegisterIndices:function(){this._uvBufferIndex=this._compiler.get_uvBufferIndex();this._uvTransformIndex=this._compiler.get_uvTransformIndex();this._uvTransformIndex2=this._compiler.get_uvTransformIndex2();
this._secondaryUVBufferIndex=this._compiler.get_secondaryUVBufferIndex();this._normalBufferIndex=this._compiler.get_normalBufferIndex();this._tangentBufferIndex=this._compiler.get_tangentBufferIndex();this._lightFragmentConstantIndex=this._compiler.get_lightFragmentConstantIndex();this._cameraPositionIndex=this._compiler.get_cameraPositionIndex();this._commonsDataIndex=this._compiler.get_commonsDataIndex();this._sceneMatrixIndex=this._compiler.get_sceneMatrixIndex();this._sceneNormalMatrixIndex=this._compiler.get_sceneNormalMatrixIndex();
this._probeWeightsIndex=this._compiler.get_probeWeightsIndex();this._lightProbeDiffuseIndices=this._compiler.get_lightProbeDiffuseIndices();this._lightProbeSpecularIndices=this._compiler.get_lightProbeSpecularIndices()},get_preserveAlpha:function(){return this._preserveAlpha},set_preserveAlpha:function(a){if(this._preserveAlpha==a)return a;this._preserveAlpha=a;this.invalidateShaderProgram();return a},get_animateUVs:function(){return this._animateUVs},set_animateUVs:function(a){if(this._animateUVs==
a)return a;this._animateUVs=a;this.invalidateShaderProgram();return a},get_animateUVs2:function(){return this._animateUVs2},set_animateUVs2:function(a){if(this._animateUVs2==a)return a;this._animateUVs2=a;this.invalidateShaderProgram();return a},set_mipmap:function(a){if(this._mipmap==a)return a;pb.prototype.set_mipmap.call(this,a);return a},set_anisotropy:function(a){if(this._anisotropy==a)return a;pb.prototype.set_anisotropy.call(this,a);return a},get_normalMap:function(){return this._methodSetup._normalMethod.get_normalMap()},
set_normalMap:function(a){this._methodSetup._normalMethod.set_normalMap(a);return a},get_normalMethod:function(){return this._methodSetup.get_normalMethod()},set_normalMethod:function(a){this._methodSetup.set_normalMethod(a);return a},get_ambientMethod:function(){return this._methodSetup.get_ambientMethod()},set_ambientMethod:function(a){this._methodSetup.set_ambientMethod(a);return a},get_shadowMethod:function(){return this._methodSetup.get_shadowMethod()},set_shadowMethod:function(a){this._methodSetup.set_shadowMethod(a);
return a},get_diffuseMethod:function(){return this._methodSetup.get_diffuseMethod()},set_diffuseMethod:function(a){this._methodSetup.set_diffuseMethod(a);return a},get_specularMethod:function(){return this._methodSetup.get_specularMethod()},set_specularMethod:function(a){this._methodSetup.set_specularMethod(a);return a},init:function(){this._methodSetup=new co;this._methodSetup.addEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated))},dispose:function(){pb.prototype.dispose.call(this);
this._methodSetup.removeEventListener("ShaderInvalidated",u(this,this.onShaderInvalidated));this._methodSetup.dispose();this._methodSetup=null},invalidateShaderProgram:function(a){null==a&&(a=!0);var b=this._passes;this._passes=x.toObjectVector(null);null!=this._methodSetup&&this.addPassesFromMethods();if(null==b||this._passes.get_length()!=b.get_length())this._passesDirty=!0;else{for(var c=0,d=this._passes.get_length();c<d;){var e=c++;if(this._passes.get(e)!=b.get(e)){this._passesDirty=!0;return}}pb.prototype.invalidateShaderProgram.call(this,
a)}},addPassesFromMethods:function(){null!=this._methodSetup._normalMethod&&this._methodSetup._normalMethod.get_hasOutput()&&this.addPasses(this._methodSetup._normalMethod.get_passes());null!=this._methodSetup._ambientMethod&&this.addPasses(this._methodSetup._ambientMethod.get_passes());null!=this._methodSetup._shadowMethod&&this.addPasses(this._methodSetup._shadowMethod.get_passes());null!=this._methodSetup._diffuseMethod&&this.addPasses(this._methodSetup._diffuseMethod.get_passes());null!=this._methodSetup._specularMethod&&
this.addPasses(this._methodSetup._specularMethod.get_passes())},addPasses:function(a){if(null!=a)for(var b=0,c=a.get_length();b<c;){var d=b++;a.get(d).set_material(this.get_material());a.get(d).set_lightPicker(this._lightPicker);this._passes.push(a.get(d))}},initUVTransformData:function(){this._vertexConstantData.set(this._uvTransformIndex,1);this._vertexConstantData.set(this._uvTransformIndex+1,0);this._vertexConstantData.set(this._uvTransformIndex+2,0);this._vertexConstantData.set(this._uvTransformIndex+
3,0);this._vertexConstantData.set(this._uvTransformIndex+4,0);this._vertexConstantData.set(this._uvTransformIndex+5,1);this._vertexConstantData.set(this._uvTransformIndex+6,0);this._vertexConstantData.set(this._uvTransformIndex+7,0)},initUVTransformData2:function(){this._vertexConstantData.set(this._uvTransformIndex2,1);this._vertexConstantData.set(this._uvTransformIndex2+1,0);this._vertexConstantData.set(this._uvTransformIndex2+2,0);this._vertexConstantData.set(this._uvTransformIndex2+3,0);this._vertexConstantData.set(this._uvTransformIndex2+
4,0);this._vertexConstantData.set(this._uvTransformIndex2+5,1);this._vertexConstantData.set(this._uvTransformIndex2+6,0);this._vertexConstantData.set(this._uvTransformIndex2+7,0)},initCommonsData:function(){this._fragmentConstantData.set(this._commonsDataIndex,.5);this._fragmentConstantData.set(this._commonsDataIndex+1,0);this._fragmentConstantData.set(this._commonsDataIndex+2,.00392156862745098);this._fragmentConstantData.set(this._commonsDataIndex+3,1)},cleanUp:function(){this._compiler.dispose();
this._compiler=null},updateMethodConstants:function(){null!=this._methodSetup._normalMethod&&this._methodSetup._normalMethod.initConstants(this._methodSetup._normalMethodVO);null!=this._methodSetup._diffuseMethod&&this._methodSetup._diffuseMethod.initConstants(this._methodSetup._diffuseMethodVO);null!=this._methodSetup._ambientMethod&&this._methodSetup._ambientMethod.initConstants(this._methodSetup._ambientMethodVO);this._usingSpecularMethod&&this._methodSetup._specularMethod.initConstants(this._methodSetup._specularMethodVO);
null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.initConstants(this._methodSetup._shadowMethodVO)},updateLightConstants:function(){},updateProbes:function(a){},onShaderInvalidated:function(a){this.invalidateShaderProgram()},getVertexCode:function(){return this._vertexCode},getFragmentCode:function(a){return this._fragmentLightCode+a+this._framentPostLightCode},activate:function(a,b){pb.prototype.activate.call(this,a,b);this._usesNormals&&this._methodSetup._normalMethod.activate(this._methodSetup._normalMethodVO,
a);this._methodSetup._ambientMethod.activate(this._methodSetup._ambientMethodVO,a);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.activate(this._methodSetup._shadowMethodVO,a);this._methodSetup._diffuseMethod.activate(this._methodSetup._diffuseMethodVO,a);this._usingSpecularMethod&&this._methodSetup._specularMethod.activate(this._methodSetup._specularMethodVO,a)},render:function(a,b,c,d){var e=b._context3D;0<=this._uvBufferIndex&&a.activateUVBuffer(this._uvBufferIndex,b);0<=
this._secondaryUVBufferIndex&&a.activateSecondaryUVBuffer(this._secondaryUVBufferIndex,b);0<=this._normalBufferIndex&&a.activateVertexNormalBuffer(this._normalBufferIndex,b);0<=this._tangentBufferIndex&&a.activateVertexTangentBuffer(this._tangentBufferIndex,b);if(this._animateUVs){var f=a.get_uvTransform();null!=f?(this._vertexConstantData.set(this._uvTransformIndex,f.a),this._vertexConstantData.set(this._uvTransformIndex+1,f.b),this._vertexConstantData.set(this._uvTransformIndex+3,f.tx),this._vertexConstantData.set(this._uvTransformIndex+
4,f.c),this._vertexConstantData.set(this._uvTransformIndex+5,f.d),this._vertexConstantData.set(this._uvTransformIndex+7,f.ty)):(this._vertexConstantData.set(this._uvTransformIndex,1),this._vertexConstantData.set(this._uvTransformIndex+1,0),this._vertexConstantData.set(this._uvTransformIndex+3,0),this._vertexConstantData.set(this._uvTransformIndex+4,0),this._vertexConstantData.set(this._uvTransformIndex+5,1),this._vertexConstantData.set(this._uvTransformIndex+7,0))}this._animateUVs2&&(f=a.get_uvTransform2(),
null!=f?(this._vertexConstantData.set(this._uvTransformIndex2,f.a),this._vertexConstantData.set(this._uvTransformIndex2+1,f.b),this._vertexConstantData.set(this._uvTransformIndex2+3,f.tx),this._vertexConstantData.set(this._uvTransformIndex2+4,f.c),this._vertexConstantData.set(this._uvTransformIndex2+5,f.d),this._vertexConstantData.set(this._uvTransformIndex2+7,f.ty)):(this._vertexConstantData.set(this._uvTransformIndex2,1),this._vertexConstantData.set(this._uvTransformIndex2+1,0),this._vertexConstantData.set(this._uvTransformIndex2+
3,0),this._vertexConstantData.set(this._uvTransformIndex2+4,0),this._vertexConstantData.set(this._uvTransformIndex2+5,1),this._vertexConstantData.set(this._uvTransformIndex2+7,0)));this._ambientLightR=this._ambientLightG=this._ambientLightB=0;this.usesLights()&&this.updateLightConstants();this.usesProbes()&&this.updateProbes(b);0<=this._sceneMatrixIndex?(a.getRenderSceneTransform(c).copyRawDataTo(this._vertexConstantData,this._sceneMatrixIndex,!0),d.copyRawDataTo(this._vertexConstantData,0,!0)):(f=
Ja.CALCULATION_MATRIX,f.copyFrom(a.getRenderSceneTransform(c)),f.append(d),f.copyRawDataTo(this._vertexConstantData,0,!0));0<=this._sceneNormalMatrixIndex&&a.get_inverseSceneTransform().copyRawDataTo(this._vertexConstantData,this._sceneNormalMatrixIndex,!1);this._usesNormals&&this._methodSetup._normalMethod.setRenderState(this._methodSetup._normalMethodVO,a,b,c);d=this._methodSetup._ambientMethod;d._lightAmbientR=this._ambientLightR;d._lightAmbientG=this._ambientLightG;d._lightAmbientB=this._ambientLightB;
d.setRenderState(this._methodSetup._ambientMethodVO,a,b,c);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.setRenderState(this._methodSetup._shadowMethodVO,a,b,c);this._methodSetup._diffuseMethod.setRenderState(this._methodSetup._diffuseMethodVO,a,b,c);this._usingSpecularMethod&&this._methodSetup._specularMethod.setRenderState(this._methodSetup._specularMethodVO,a,b,c);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.setRenderState(this._methodSetup._colorTransformMethodVO,
a,b,c);d=this._methodSetup._methods;for(var f=0,k=d.get_length();f<k;){var p=f++,p=d.get(p);p.method.setRenderState(p.data,a,b,c)}e.setProgramConstantsFromVector(1,0,this._vertexConstantData,this._numUsedVertexConstants);e.setProgramConstantsFromVector(0,0,this._fragmentConstantData,this._numUsedFragmentConstants);a.activateVertexBuffer(0,b);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},usesProbes:function(){return 0<this._numLightProbes?0!=((this._diffuseLightSources|this._specularLightSources)&
2):!1},usesLights:function(){return 0<this._numPointLights||0<this._numDirectionalLights?0!=((this._diffuseLightSources|this._specularLightSources)&1):!1},deactivate:function(a){pb.prototype.deactivate.call(this,a);this._usesNormals&&this._methodSetup._normalMethod.deactivate(this._methodSetup._normalMethodVO,a);this._methodSetup._ambientMethod.deactivate(this._methodSetup._ambientMethodVO,a);null!=this._methodSetup._shadowMethod&&this._methodSetup._shadowMethod.deactivate(this._methodSetup._shadowMethodVO,
a);this._methodSetup._diffuseMethod.deactivate(this._methodSetup._diffuseMethodVO,a);this._usingSpecularMethod&&this._methodSetup._specularMethod.deactivate(this._methodSetup._specularMethodVO,a)},get_specularLightSources:function(){return this._specularLightSources},set_specularLightSources:function(a){return this._specularLightSources=a},get_diffuseLightSources:function(){return this._diffuseLightSources},set_diffuseLightSources:function(a){return this._diffuseLightSources=a},__class__:qc,__properties__:z(pb.prototype.__properties__,
{set_diffuseLightSources:"set_diffuseLightSources",get_diffuseLightSources:"get_diffuseLightSources",set_specularLightSources:"set_specularLightSources",get_specularLightSources:"get_specularLightSources",set_specularMethod:"set_specularMethod",get_specularMethod:"get_specularMethod",set_diffuseMethod:"set_diffuseMethod",get_diffuseMethod:"get_diffuseMethod",set_shadowMethod:"set_shadowMethod",get_shadowMethod:"get_shadowMethod",set_ambientMethod:"set_ambientMethod",get_ambientMethod:"get_ambientMethod",
set_normalMethod:"set_normalMethod",get_normalMethod:"get_normalMethod",set_normalMap:"set_normalMap",get_normalMap:"get_normalMap",set_animateUVs2:"set_animateUVs2",get_animateUVs2:"get_animateUVs2",set_animateUVs:"set_animateUVs",get_animateUVs:"get_animateUVs",set_preserveAlpha:"set_preserveAlpha",get_preserveAlpha:"get_preserveAlpha",get_numLightProbes:"get_numLightProbes",get_numDirectionalLights:"get_numDirectionalLights",get_numPointLights:"get_numPointLights",set_forceSeparateMVP:"set_forceSeparateMVP",
get_forceSeparateMVP:"get_forceSeparateMVP",set_enableLightFallOff:"set_enableLightFallOff",get_enableLightFallOff:"get_enableLightFallOff"})});var Tn=function(){this._alphaThreshold=0;pb.call(this);for(var a=[1,255,65025,16581375,.00392156862745098,.00392156862745098,.00392156862745098,0,0,0,0,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._data=b};m["away3d.materials.passes.DepthMapPass"]=Tn;Tn.__name__=["away3d","materials","passes","DepthMapPass"];Tn.__super__=pb;
Tn.prototype=z(pb.prototype,{_data:null,_alphaThreshold:null,_alphaMask:null,get_alphaThreshold:function(){return this._alphaThreshold},set_alphaThreshold:function(a){0>a?a=0:1<a&&(a=1);if(a==this._alphaThreshold)return a;0!=a&&0!=this._alphaThreshold||this.invalidateShaderProgram();this._alphaThreshold=a;this._data.set(8,this._alphaThreshold);return a},get_alphaMask:function(){return this._alphaMask},set_alphaMask:function(a){return this._alphaMask=a},getVertexCode:function(){var a="m44 vt1, vt0, vc0\t\t\nmov op, vt1\t\n";
0<this._alphaThreshold?(this._numUsedTextures=1,this._numUsedStreams=2,a+="mov v0, vt1\nmov v1, va1\n"):(this._numUsedTextures=0,this._numUsedStreams=1,a+="mov v0, vt1\n");return a},getFragmentCode:function(a){a="div ft2, v0, v0.w\t\t\nmul ft0, fc0, ft2.z\t\nfrc ft0, ft0\t\t\t\nmul ft1, ft0.yzww, fc1\t\n";if(0<this._alphaThreshold){var b=this._repeat?"wrap":"clamp",c,d;c=this._mipmap&&this._alphaMask.get_hasMipMaps();c=this._smooth?c?"linear,miplinear":"linear":c?"nearest,mipnearest":"nearest";switch(this._alphaMask.get_format()){case 3:d=
"dxt1,";break;case 4:d="dxt5,";break;default:d=""}a+="tex ft3, v1, fs0 <2d,"+c+","+d+b+">\nsub ft3.w, ft3.w, fc2.x\nkil ft3.w\n"}return a+"sub oc, ft0, ft1\t\t\n"},render:function(a,b,c,d){0<this._alphaThreshold&&a.activateUVBuffer(1,b);var e=b._context3D,f=Ja.CALCULATION_MATRIX;f.copyFrom(a.getRenderSceneTransform(c));f.append(d);e.setProgramConstantsFromMatrix(1,0,f,!0);a.activateVertexBuffer(0,b);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},activate:function(a,b){var c=a._context3D;
pb.prototype.activate.call(this,a,b);0<this._alphaThreshold?(c.setTextureAt(0,this._alphaMask.getTextureForStage3D(a)),c.setProgramConstantsFromVector(0,0,this._data,3)):c.setProgramConstantsFromVector(0,0,this._data,2)},__class__:Tn,__properties__:z(pb.prototype.__properties__,{set_alphaMask:"set_alphaMask",get_alphaMask:"get_alphaMask",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold"})});var Un=function(){pb.call(this);for(var a=[1,255,65025,16581375,.00392156862745098,
.00392156862745098,.00392156862745098,0,0,0,0,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._fragmentData=b;this._vertexData=x.toFloatVector(null,4,!0);this._vertexData.set(3,1);this._numUsedVertexConstants=9};m["away3d.materials.passes.DistanceMapPass"]=Un;Un.__name__=["away3d","materials","passes","DistanceMapPass"];Un.__super__=pb;Un.prototype=z(pb.prototype,{_fragmentData:null,_vertexData:null,_alphaThreshold:null,_alphaMask:null,get_alphaThreshold:function(){return this._alphaThreshold},
set_alphaThreshold:function(a){0>a?a=0:1<a&&(a=1);if(a==this._alphaThreshold)return a;0!=a&&0!=this._alphaThreshold||this.invalidateShaderProgram();this._alphaThreshold=a;this._fragmentData.set(8,this._alphaThreshold);return a},get_alphaMask:function(){return this._alphaMask},set_alphaMask:function(a){return this._alphaMask=a},getVertexCode:function(){var a="m44 op, vt0, vc0\t\t\nm44 vt1, vt0, vc5\t\t\nsub v0, vt1, vc9\t\t\n";0<this._alphaThreshold?(a+="mov v1, va1\n",this._numUsedTextures=1,this._numUsedStreams=
2):(this._numUsedTextures=0,this._numUsedStreams=1);return a},getFragmentCode:function(a){var b=this._repeat?"wrap":"clamp",c;c=this._smooth?this._mipmap?"linear,miplinear":"linear":this._mipmap?"nearest,mipnearest":"nearest";a="dp3 ft2.z, v0.xyz, v0.xyz\t\nmul ft0, fc0, ft2.z\t\nfrc ft0, ft0\t\t\t\nmul ft1, ft0.yzww, fc1\t\n";if(0<this._alphaThreshold){var d;switch(this._alphaMask.get_format()){case 3:d="dxt1,";break;case 4:d="dxt5,";break;default:d=""}a+="tex ft3, v1, fs0 <2d,"+c+","+d+b+">\nsub ft3.w, ft3.w, fc2.x\nkil ft3.w\n"}return a+
"sub oc, ft0, ft1\t\t\n"},render:function(a,b,c,d){var e=b._context3D,f=c.get_scenePosition();this._vertexData.set(0,f.x);this._vertexData.set(1,f.y);this._vertexData.set(2,f.z);this._vertexData.set(3,1);c=a.getRenderSceneTransform(c);e.setProgramConstantsFromMatrix(1,5,c,!0);e.setProgramConstantsFromVector(1,9,this._vertexData,1);0<this._alphaThreshold&&a.activateUVBuffer(1,b);f=Ja.CALCULATION_MATRIX;f.copyFrom(c);f.append(d);e.setProgramConstantsFromMatrix(1,0,f,!0);a.activateVertexBuffer(0,b);
b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},activate:function(a,b){var c=a._context3D;pb.prototype.activate.call(this,a,b);var d=b.get_lens().get_far(),d=1/(2*d*d);this._fragmentData.set(0,d);this._fragmentData.set(1,255*d);this._fragmentData.set(2,65025*d);this._fragmentData.set(3,16581375*d);0<this._alphaThreshold?(c.setTextureAt(0,this._alphaMask.getTextureForStage3D(a)),c.setProgramConstantsFromVector(0,0,this._fragmentData,3)):c.setProgramConstantsFromVector(0,0,this._fragmentData,
2)},__class__:Un,__properties__:z(pb.prototype.__properties__,{set_alphaMask:"set_alphaMask",get_alphaMask:"get_alphaMask",set_alphaThreshold:"set_alphaThreshold",get_alphaThreshold:"get_alphaThreshold"})});var Wn=function(a){this._maxLights=3;this._inverseSceneMatrix=x.toFloatVector(null);this._includeCasters=!0;qc.call(this,a)};m["away3d.materials.passes.LightingPass"]=Wn;Wn.__name__=["away3d","materials","passes","LightingPass"];Wn.__super__=qc;Wn.prototype=z(qc.prototype,{_includeCasters:null,
_tangentSpace:null,_lightVertexConstantIndex:null,_inverseSceneMatrix:null,_directionalLightsOffset:null,_pointLightsOffset:null,_lightProbesOffset:null,_maxLights:null,get_directionalLightsOffset:function(){return this._directionalLightsOffset},set_directionalLightsOffset:function(a){return this._directionalLightsOffset=a},get_pointLightsOffset:function(){return this._pointLightsOffset},set_pointLightsOffset:function(a){return this._pointLightsOffset=a},get_lightProbesOffset:function(){return this._lightProbesOffset},
set_lightProbesOffset:function(a){return this._lightProbesOffset=a},createCompiler:function(a){this._maxLights="baselineConstrained"==a?1:3;return new Qg(a)},get_includeCasters:function(){return this._includeCasters},set_includeCasters:function(a){if(this._includeCasters==a)return a;this._includeCasters=a;this.invalidateShaderProgram();return a},updateLights:function(){qc.prototype.updateLights.call(this);var a=this._numDirectionalLights,b=this._numPointLights,c=this._numLightProbes;null!=this._lightPicker?
(this._numDirectionalLights=this.calculateNumDirectionalLights(this._lightPicker.get_numDirectionalLights()),this._numPointLights=this.calculateNumPointLights(this._lightPicker.get_numPointLights()),this._numLightProbes=this.calculateNumProbes(this._lightPicker.get_numLightProbes()),this._includeCasters&&(this._numPointLights+=this._lightPicker.get_numCastingPointLights(),this._numDirectionalLights+=this._lightPicker.get_numCastingDirectionalLights())):this._numLightProbes=this._numPointLights=this._numDirectionalLights=
0;b==this._numPointLights&&a==this._numDirectionalLights&&c==this._numLightProbes||this.invalidateShaderProgram()},calculateNumDirectionalLights:function(a){return Math.min(Q.toFloat(a-this._directionalLightsOffset),this._maxLights)|0},calculateNumPointLights:function(a){var b=this._maxLights-this._numDirectionalLights;return Math.min(Q.toFloat(a-this._pointLightsOffset),b)|0},calculateNumProbes:function(a){var b=0;0!=(this._specularLightSources&2)&&++b;0!=(this._diffuseLightSources&2)&&++b;return Math.min(Q.toFloat(a-
this._lightProbesOffset),4/b|0)|0},updateShaderProperties:function(){qc.prototype.updateShaderProperties.call(this);this._tangentSpace=y.__cast(this._compiler,Qg).get_tangentSpace()},updateRegisterIndices:function(){qc.prototype.updateRegisterIndices.call(this);this._lightVertexConstantIndex=y.__cast(this._compiler,Qg).get_lightVertexConstantIndex()},render:function(a,b,c,d){a.get_inverseSceneTransform().copyRawDataTo(this._inverseSceneMatrix);if(this._tangentSpace&&0<=this._cameraPositionIndex){var e=
c.get_scenePosition(),f=e.x,k=e.y,e=e.z;this._vertexConstantData.set(this._cameraPositionIndex,this._inverseSceneMatrix.get(0)*f+this._inverseSceneMatrix.get(4)*k+this._inverseSceneMatrix.get(8)*e+this._inverseSceneMatrix.get(12));this._vertexConstantData.set(this._cameraPositionIndex+1,this._inverseSceneMatrix.get(1)*f+this._inverseSceneMatrix.get(5)*k+this._inverseSceneMatrix.get(9)*e+this._inverseSceneMatrix.get(13));this._vertexConstantData.set(this._cameraPositionIndex+2,this._inverseSceneMatrix.get(2)*
f+this._inverseSceneMatrix.get(6)*k+this._inverseSceneMatrix.get(10)*e+this._inverseSceneMatrix.get(14))}qc.prototype.render.call(this,a,b,c,d)},activate:function(a,b){qc.prototype.activate.call(this,a,b);if(!this._tangentSpace&&0<=this._cameraPositionIndex){var c=b.get_scenePosition();this._vertexConstantData.set(this._cameraPositionIndex,c.x);this._vertexConstantData.set(this._cameraPositionIndex+1,c.y);this._vertexConstantData.set(this._cameraPositionIndex+2,c.z)}},usesProbesForSpecular:function(){return 0<
this._numLightProbes?0!=(this._specularLightSources&2):!1},usesProbesForDiffuse:function(){return 0<this._numLightProbes?0!=(this._diffuseLightSources&2):!1},updateLightConstants:function(){var a,b,c,d;b=0;var e=this._includeCasters?2:1,f,k;f=this._lightVertexConstantIndex;c=this._lightFragmentConstantIndex;var p=0,w=this._lightPicker.get_directionalLights();k=this._directionalLightsOffset;d=this._lightPicker.get_directionalLights().get_length();k>d&&(p=1,k-=d);for(;p<e;){0!=p&&(w=this._lightPicker.get_castingDirectionalLights());
d=w.get_length();d>this._numDirectionalLights&&(d=this._numDirectionalLights);for(var h=0,n=d;h<n;){d=h++;a=w.get(k+d);d=a.get_sceneDirection();this._ambientLightR+=a._ambientR;this._ambientLightG+=a._ambientG;this._ambientLightB+=a._ambientB;if(this._tangentSpace){var l=-d.x,g=-d.y;d=-d.z;this._vertexConstantData.set(f++,this._inverseSceneMatrix.get(0)*l+this._inverseSceneMatrix.get(4)*g+this._inverseSceneMatrix.get(8)*d);this._vertexConstantData.set(f++,this._inverseSceneMatrix.get(1)*l+this._inverseSceneMatrix.get(5)*
g+this._inverseSceneMatrix.get(9)*d);this._vertexConstantData.set(f++,this._inverseSceneMatrix.get(2)*l+this._inverseSceneMatrix.get(6)*g+this._inverseSceneMatrix.get(10)*d);this._vertexConstantData.set(f++,1)}else this._fragmentConstantData.set(c++,-d.x),this._fragmentConstantData.set(c++,-d.y),this._fragmentConstantData.set(c++,-d.z),this._fragmentConstantData.set(c++,1);this._fragmentConstantData.set(c++,a._diffuseR);this._fragmentConstantData.set(c++,a._diffuseG);this._fragmentConstantData.set(c++,
a._diffuseB);this._fragmentConstantData.set(c++,1);this._fragmentConstantData.set(c++,a._specularR);this._fragmentConstantData.set(c++,a._specularG);this._fragmentConstantData.set(c++,a._specularB);this._fragmentConstantData.set(c++,1);if(++b==this._numDirectionalLights){p=e;break}}++p}if(this._numDirectionalLights>b)for(b=c+12*(this._numDirectionalLights-b);Q.gt(b,c);)this._fragmentConstantData.set(c++,0);b=0;w=this._lightPicker.get_pointLights();k=this._pointLightsOffset;d=this._lightPicker.get_pointLights().get_length();
k>d?(p=1,k-=d):p=0;for(;p<e;){0!=p&&(w=this._lightPicker.get_castingPointLights());d=w.get_length();h=0;for(n=d;h<n;)if(d=h++,a=w.get(k+d),d=a.get_scenePosition(),this._ambientLightR+=a._ambientR,this._ambientLightG+=a._ambientG,this._ambientLightB+=a._ambientB,this._tangentSpace?(l=d.x,g=d.y,d=d.z,this._vertexConstantData.set(f++,this._inverseSceneMatrix.get(0)*l+this._inverseSceneMatrix.get(4)*g+this._inverseSceneMatrix.get(8)*d+this._inverseSceneMatrix.get(12)),this._vertexConstantData.set(f++,
this._inverseSceneMatrix.get(1)*l+this._inverseSceneMatrix.get(5)*g+this._inverseSceneMatrix.get(9)*d+this._inverseSceneMatrix.get(13)),this._vertexConstantData.set(f++,this._inverseSceneMatrix.get(2)*l+this._inverseSceneMatrix.get(6)*g+this._inverseSceneMatrix.get(10)*d+this._inverseSceneMatrix.get(14))):(this._vertexConstantData.set(f++,d.x),this._vertexConstantData.set(f++,d.y),this._vertexConstantData.set(f++,d.z)),this._vertexConstantData.set(f++,1),this._fragmentConstantData.set(c++,a._diffuseR),
this._fragmentConstantData.set(c++,a._diffuseG),this._fragmentConstantData.set(c++,a._diffuseB),d=a._radius,this._fragmentConstantData.set(c++,d*d),this._fragmentConstantData.set(c++,a._specularR),this._fragmentConstantData.set(c++,a._specularG),this._fragmentConstantData.set(c++,a._specularB),this._fragmentConstantData.set(c++,a._fallOffFactor),++b==this._numPointLights){p=e;break}++p}if(this._numPointLights>b)for(b=c+12*(b-this._numPointLights);Q.gt(b,c);)this._fragmentConstantData.set(c,0),++c},
updateProbes:function(a){var b=a._context3D,c,d=this._lightPicker.get_lightProbes(),e=this._lightPicker.get_lightProbeWeights(),f=d.get_length()-this._lightProbesOffset,k=this.usesProbesForDiffuse(),p=null!=this._methodSetup._specularMethod&&this.usesProbesForSpecular();if(k||p){f>this._numLightProbes&&(f=this._numLightProbes);for(var w=0,h=f;w<h;){var n=w++;c=d.get(this._lightProbesOffset+n);k&&b.setTextureAt(this._lightProbeDiffuseIndices.get(n),c.get_diffuseMap().getTextureForStage3D(a));p&&b.setTextureAt(this._lightProbeSpecularIndices.get(n),
c.get_specularMap().getTextureForStage3D(a))}for(a=0;a<f;)b=a++,this._fragmentConstantData.set(this._probeWeightsIndex+b,e.get(this._lightProbesOffset+b))}},__class__:Wn,__properties__:z(qc.prototype.__properties__,{set_includeCasters:"set_includeCasters",get_includeCasters:"get_includeCasters",set_lightProbesOffset:"set_lightProbesOffset",get_lightProbesOffset:"get_lightProbesOffset",set_pointLightsOffset:"set_pointLightsOffset",get_pointLightsOffset:"get_pointLightsOffset",set_directionalLightsOffset:"set_directionalLightsOffset",
get_directionalLightsOffset:"get_directionalLightsOffset"})});var bo=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);null==b&&(b=20);null==a&&(a=0);pb.call(this);this.set_mipmap(!1);this._colorData=x.toFloatVector(null,4,!0);this._colorData.set(3,1);this._offsetData=x.toFloatVector(null,4,!0);this.set_outlineColor(a);this.set_outlineSize(b);this._defaultCulling=1;this._numUsedStreams=2;this._numUsedVertexConstants=6;this._showInnerLines=c;if(this._dedicatedMeshes=d)this._outlineMeshes=new Hb;a=
["va0","va1"];b=x.toObjectVector(null);c=0;for(d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._animatableAttributes=b;a=["vt0","vt1"];b=x.toObjectVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this._animationTargetRegisters=b};m["away3d.materials.passes.OutlinePass"]=bo;bo.__name__=["away3d","materials","passes","OutlinePass"];bo.__super__=pb;bo.prototype=z(pb.prototype,{_outlineColor:null,_colorData:null,_offsetData:null,_showInnerLines:null,_outlineMeshes:null,_dedicatedMeshes:null,clearDedicatedMesh:function(a){if(this._dedicatedMeshes)for(var b=
0,c=a.get_subMeshes().get_length();b<c;){var d=b++;this.disposeDedicated(a.get_subMeshes().get(d))}},disposeDedicated:function(a){var b=this._outlineMeshes.h[a.__id__];b.get_geometry().dispose();b.dispose();this._outlineMeshes.remove(a)},dispose:function(){pb.prototype.dispose.call(this);if(this._dedicatedMeshes)for(var a=this._outlineMeshes.iterator();a.hasNext();){var b=a.next();this.disposeDedicated(b)}},get_showInnerLines:function(){return this._showInnerLines},set_showInnerLines:function(a){return this._showInnerLines=
a},get_outlineColor:function(){return this._outlineColor},set_outlineColor:function(a){this._outlineColor=a;this._colorData.set(0,(a>>16&255)/255);this._colorData.set(1,(a>>8&255)/255);this._colorData.set(2,(a&255)/255);return a},get_outlineSize:function(){return this._offsetData.get(0)},set_outlineSize:function(a){this._offsetData.set(0,a);return a},getVertexCode:function(){return"mul vt7, vt1, vc5.x\nadd vt7, vt7, vt0\nmov vt7.w, vt0.w\nm44 op, vt7, vc0\t\t\n"},getFragmentCode:function(a){return"mov oc, fc0\n"},
activate:function(a,b){var c=a._context3D;pb.prototype.activate.call(this,a,b);this._showInnerLines||c.setDepthTest(!1,4);c.setCulling(this._defaultCulling);c.setProgramConstantsFromVector(0,0,this._colorData,1);c.setProgramConstantsFromVector(1,5,this._offsetData,1)},deactivate:function(a){pb.prototype.deactivate.call(this,a);this._showInnerLines||a._context3D.setDepthTest(!0,4)},render:function(a,b,c,d){var e=null,f=b._context3D,k=Ja.CALCULATION_MATRIX;k.copyFrom(a.getRenderSceneTransform(c));k.append(d);
this._dedicatedMeshes?(null==this._outlineMeshes.h.__keys__[a.__id__]&&(c=this._outlineMeshes,d=this.createDedicatedMesh(y.__cast(a,Pf).get_subGeometry()),c.set(a,d)),e=this._outlineMeshes.h[a.__id__],a=e.get_subMeshes().get(0),f.setProgramConstantsFromMatrix(1,0,k,!0),a.activateVertexBuffer(0,b),a.activateVertexNormalBuffer(1,b)):(a.activateVertexNormalBuffer(1,b),f.setProgramConstantsFromMatrix(1,0,k,!0),a.activateVertexBuffer(0,b));b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},createDedicatedMesh:function(a){var b=
new Pb(new Zb,null),c=new Uf,d=new qa,e=a.get_indexData(),f=a.get_vertexData(),k=x.toIntVector(null),p=x.toFloatVector(null),w,h,n,l,g,m=0,r=0,q=e.get_length(),u=0,v=a.get_vertexStride();a=a.get_vertexOffset();for(var y=0;y<q;){w=y++;w=a+e.get(w)*v;h=f.get(w);n=f.get(w+1);l=f.get(w+2);g=this.toPrecision(h,5)+"/"+this.toPrecision(n,5)+"/"+this.toPrecision(l,5);if(null!=t[g]?d.existsReserved(g):d.h.hasOwnProperty(g))w=(null!=t[g]?d.getReserved(g):d.h[g])-1;else{w=r/3|0;var z=w+1;null!=t[g]?d.setReserved(g,
z):d.h[g]=z;p.set(r++,h);p.set(r++,n);p.set(r++,l)}w>u&&(u=w);k.set(m++,w)}c.set_autoDeriveVertexNormals(!0);c.updateVertexData(p);c.updateIndexData(k);b.get_geometry().addSubGeometry(c);return b},toPrecision:function(a,b){var c=10*b;return h.string((a*c|0)/c)},__class__:bo,__properties__:z(pb.prototype.__properties__,{set_outlineSize:"set_outlineSize",get_outlineSize:"get_outlineSize",set_outlineColor:"set_outlineColor",get_outlineColor:"get_outlineColor",set_showInnerLines:"set_showInnerLines",
get_showInnerLines:"get_showInnerLines"})});var qh=function(a){this._constants=x.toFloatVector(null,4,!0);this._calcMatrix=new Xa;this._thickness=a;this._constants.set(1,.00392156862745098);pb.call(this)};m["away3d.materials.passes.SegmentPass"]=qh;qh.__name__=["away3d","materials","passes","SegmentPass"];qh.__super__=pb;qh.prototype=z(pb.prototype,{_constants:null,_calcMatrix:null,_thickness:null,getVertexCode:function(){return"m44 vt0, va0, vc8\t\t\t\nm44 vt1, va1, vc8\t\t\t\nsub vt2, vt1, vt0 \t\t\t\nslt vt5.x, vt0.z, vc7.z\t\t\t\nsub vt5.y, vc5.x, vt5.x\t\t\t\nadd vt4.x, vt0.z, vc7.z\t\t\t\nsub vt4.y, vt0.z, vt1.z\t\t\t\nseq vt4.z, vt4.y vc6.x\t\t\t\nadd vt4.y, vt4.y, vt4.z\t\t\t\ndiv vt4.z, vt4.x, vt4.y\t\t\t\nmul vt4.xyz, vt4.zzz, vt2.xyz\t\nadd vt3.xyz, vt0.xyz, vt4.xyz\t\nmov vt3.w, vc5.x\t\t\t\nmul vt0, vt0, vt5.yyyy\t\t\t\nmul vt3, vt3, vt5.xxxx\t\t\t\nadd vt0, vt0, vt3\t\t\t\t\nsub vt2, vt1, vt0 \t\t\t\nnrm vt2.xyz, vt2.xyz\t\t\t\nnrm vt5.xyz, vt0.xyz\t\t\t\nmov vt5.w, vc5.x\t\t\t\t\ncrs vt3.xyz, vt2, vt5\t\t\t\nnrm vt3.xyz, vt3.xyz\t\t\t\nmul vt3.xyz, vt3.xyz, va2.xxx\t\nmov vt3.w, vc5.x\t\t\t\ndp3 vt4.x, vt0, vc6\t\t\t\nmul vt4.x, vt4.x, vc7.x\t\t\t\nmul vt3.xyz, vt3.xyz, vt4.xxx\t\nadd vt0.xyz, vt0.xyz, vt3.xyz\t\nm44 op, vt0, vc0\t\t\t\nmov v0, va3\t\t\t\t\n"},
getFragmentCode:function(a){return"mov oc, v0\n"},render:function(a,b,c,d){d=b._context3D;this._calcMatrix.copyFrom(a.get_sourceEntity().get_sceneTransform());this._calcMatrix.append(c.get_inverseSceneTransform());c=y.__cast(a,Cc).get_subSetCount();if(y.__cast(a,Cc).get_hasData())for(var e=0;e<c;){var f=e++;a.activateVertexBuffer(f,b);d.setProgramConstantsFromMatrix(1,8,this._calcMatrix,!0);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())}},activate:function(a,b){var c=a._context3D;pb.prototype.activate.call(this,
a,b);null!=a.get_scissorRect()?this._constants.set(0,this._thickness/Math.min(a.get_scissorRect().width,a.get_scissorRect().height)):this._constants.set(0,this._thickness/Math.min(a.get_width(),a.get_height()));this._constants.set(2,b.get_lens().get_near());c.setProgramConstantsFromVector(1,5,qh.ONE_VECTOR);c.setProgramConstantsFromVector(1,6,qh.FRONT_VECTOR);c.setProgramConstantsFromVector(1,7,this._constants);if(null==a.get_renderTarget())c.setProgramConstantsFromMatrix(1,0,b.get_lens().get_matrix(),
!0);else{this._calcMatrix.copyFrom(b.get_lens().get_matrix());var d=bf.getInstance(a);this._calcMatrix.appendScale(d.get_textureRatioX(),d.get_textureRatioY(),1);c.setProgramConstantsFromMatrix(1,0,this._calcMatrix,!0)}},deactivate:function(a){a=a._context3D;a.setVertexBufferAt(0,null);a.setVertexBufferAt(1,null);a.setVertexBufferAt(2,null);a.setVertexBufferAt(3,null)},__class__:qh});var Vn=function(a){this._inverseSceneMatrix=x.toFloatVector(null);qc.call(this,a)};m["away3d.materials.passes.ShadowCasterPass"]=
Vn;Vn.__name__=["away3d","materials","passes","ShadowCasterPass"];Vn.__super__=qc;Vn.prototype=z(qc.prototype,{_tangentSpace:null,_lightVertexConstantIndex:null,_inverseSceneMatrix:null,createCompiler:function(a){return new Qg(a)},updateLights:function(){qc.prototype.updateLights.call(this);var a,b;null!=this._lightPicker?(a=0<this._lightPicker.get_numCastingPointLights()?1:0,b=0<this._lightPicker.get_numCastingDirectionalLights()?1:0):b=a=0;this._numLightProbes=0;if(1<a+b)throw new H(new sa("Must have exactly one light!"));
if(a!=this._numPointLights||b!=this._numDirectionalLights)this._numPointLights=a,this._numDirectionalLights=b,this.invalidateShaderProgram()},updateShaderProperties:function(){qc.prototype.updateShaderProperties.call(this);this._tangentSpace=y.__cast(this._compiler,Qg).get_tangentSpace()},updateRegisterIndices:function(){qc.prototype.updateRegisterIndices.call(this);this._lightVertexConstantIndex=y.__cast(this._compiler,Qg).get_lightVertexConstantIndex()},render:function(a,b,c,d){a.get_inverseSceneTransform().copyRawDataTo(this._inverseSceneMatrix);
if(this._tangentSpace&&0<=this._cameraPositionIndex){var e=c.get_scenePosition(),f=e.x,k=e.y,e=e.z;this._vertexConstantData.set(this._cameraPositionIndex,this._inverseSceneMatrix.get(0)*f+this._inverseSceneMatrix.get(4)*k+this._inverseSceneMatrix.get(8)*e+this._inverseSceneMatrix.get(12));this._vertexConstantData.set(this._cameraPositionIndex+1,this._inverseSceneMatrix.get(1)*f+this._inverseSceneMatrix.get(5)*k+this._inverseSceneMatrix.get(9)*e+this._inverseSceneMatrix.get(13));this._vertexConstantData.set(this._cameraPositionIndex+
2,this._inverseSceneMatrix.get(2)*f+this._inverseSceneMatrix.get(6)*k+this._inverseSceneMatrix.get(10)*e+this._inverseSceneMatrix.get(14))}qc.prototype.render.call(this,a,b,c,d)},activate:function(a,b){qc.prototype.activate.call(this,a,b);if(!this._tangentSpace&&0<=this._cameraPositionIndex){var c=b.get_scenePosition();this._vertexConstantData.set(this._cameraPositionIndex,c.x);this._vertexConstantData.set(this._cameraPositionIndex+1,c.y);this._vertexConstantData.set(this._cameraPositionIndex+2,c.z)}},
updateLightConstants:function(){var a,b=0,c,d,e,f;c=this._lightVertexConstantIndex;b=this._lightFragmentConstantIndex;0<this._numDirectionalLights?(a=this._lightPicker.get_castingDirectionalLights().get(0),d=a.get_sceneDirection(),this._ambientLightR+=a._ambientR,this._ambientLightG+=a._ambientG,this._ambientLightB+=a._ambientB,this._tangentSpace?(e=-d.x,f=-d.y,d=-d.z,this._vertexConstantData.set(c++,this._inverseSceneMatrix.get(0)*e+this._inverseSceneMatrix.get(4)*f+this._inverseSceneMatrix.get(8)*
d),this._vertexConstantData.set(c++,this._inverseSceneMatrix.get(1)*e+this._inverseSceneMatrix.get(5)*f+this._inverseSceneMatrix.get(9)*d),this._vertexConstantData.set(c++,this._inverseSceneMatrix.get(2)*e+this._inverseSceneMatrix.get(6)*f+this._inverseSceneMatrix.get(10)*d),this._vertexConstantData.set(c++,1)):(this._fragmentConstantData.set(b++,-d.x),this._fragmentConstantData.set(b++,-d.y),this._fragmentConstantData.set(b++,-d.z),this._fragmentConstantData.set(b++,1)),this._fragmentConstantData.set(b++,
a._diffuseR),this._fragmentConstantData.set(b++,a._diffuseG),this._fragmentConstantData.set(b++,a._diffuseB),this._fragmentConstantData.set(b++,1),this._fragmentConstantData.set(b++,a._specularR),this._fragmentConstantData.set(b++,a._specularG),this._fragmentConstantData.set(b++,a._specularB),this._fragmentConstantData.set(b++,1)):0<this._numPointLights&&(a=this._lightPicker.get_castingPointLights().get(0),d=a.get_scenePosition(),this._ambientLightR+=a._ambientR,this._ambientLightG+=a._ambientG,this._ambientLightB+=
a._ambientB,this._tangentSpace?(e=d.x,f=d.y,d=d.z,this._vertexConstantData.set(c++,this._inverseSceneMatrix.get(0)*e+this._inverseSceneMatrix.get(4)*f+this._inverseSceneMatrix.get(8)*d+this._inverseSceneMatrix.get(12)),this._vertexConstantData.set(c++,this._inverseSceneMatrix.get(1)*e+this._inverseSceneMatrix.get(5)*f+this._inverseSceneMatrix.get(9)*d+this._inverseSceneMatrix.get(13)),this._vertexConstantData.set(c++,this._inverseSceneMatrix.get(2)*e+this._inverseSceneMatrix.get(6)*f+this._inverseSceneMatrix.get(10)*
d+this._inverseSceneMatrix.get(14))):(this._vertexConstantData.set(c++,d.x),this._vertexConstantData.set(c++,d.y),this._vertexConstantData.set(c++,d.z)),this._vertexConstantData.set(c++,1),this._fragmentConstantData.set(b++,a._diffuseR),this._fragmentConstantData.set(b++,a._diffuseG),this._fragmentConstantData.set(b++,a._diffuseB),this._fragmentConstantData.set(b++,a._radius*a._radius),this._fragmentConstantData.set(b++,a._specularR),this._fragmentConstantData.set(b++,a._specularG),this._fragmentConstantData.set(b++,
a._specularB),this._fragmentConstantData.set(b++,a._fallOffFactor))},usesProbes:function(){return!1},usesLights:function(){return!0},updateProbes:function(a){},__class__:Vn});var eo=function(a,b){null==b&&(b=15);null==a&&(a=512);this._projectionTexturesInvalid=!0;pb.call(this,!0);this._textureSize=a;this._numUsedStreams=2;this._numUsedVertexConstants=7;for(var c=[b,0,0,0],d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}this._polyOffset=d;c=[1,255,65025,16581375,.00392156862745098,
.00392156862745098,.00392156862745098,0];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);this._enc=d;c=["va0","va1"];d=x.toObjectVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);this._animatableAttributes=d;c=["vt0","vt1"];d=x.toObjectVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);this._animationTargetRegisters=d};m["away3d.materials.passes.SingleObjectDepthPass"]=eo;eo.__name__=["away3d","materials","passes","SingleObjectDepthPass"];eo.__super__=pb;eo.prototype=
z(pb.prototype,{_textures:null,_projections:null,_textureSize:null,_polyOffset:null,_enc:null,_projectionTexturesInvalid:null,dispose:function(){if(null!=this._textures){for(var a=0,b=this._textures.get_length();a<b;)for(var c=a++,c=this._textures.get(c).iterator();c.hasNext();)c.next().dispose();this._textures=null}},updateProjectionTextures:function(){if(null!=this._textures)for(var a=0,b=this._textures.get_length();a<b;)for(var c=a++,c=this._textures.get(c).iterator();c.hasNext();)c.next().dispose();
this._textures=x.toObjectVector(null,8);this._projections=new Hb;this._projectionTexturesInvalid=!1},getVertexCode:function(){var a;return a="mul vt7, vt1, vc4.x\t\nadd vt7, vt7, vt0\t\t\nmov vt7.w, vt0.w\t\t\nm44 vt2, vt7, vc0\t\t\nmov op, vt2\t\t\t\ndiv v0, vt2, vt2.w \n"},getFragmentCode:function(a){return"mul ft0, fc0, v0.z     \nfrc ft0, ft0           \nmul ft1, ft0.yzww, fc1 \nsub ft0, ft0, ft1      \nmov oc, ft0            \n"},getDepthMap:function(a,b){return this._textures.get(b._stage3DIndex).h[a.__id__]},
getProjection:function(a){return this._projections.h[a.__id__]},render:function(a,b,c,d){var e=b._stage3DIndex;d=b._context3D;var f=this._lightPicker.get_allPickedLights();null==this._textures.get(e)&&this._textures.set(e,new Hb);if(null==this._projections.h.__keys__[a.__id__]){var k=this._projections,p=new Xa;k.set(a,p)}f.get_length();c=f.get(0).getObjectProjectionMatrix(a,c,this._projections.h[a.__id__]);null==this._textures.get(e).h.__keys__[a.__id__]&&(f=this._textures.get(e),k=d.createTexture(this._textureSize,
this._textureSize,1,!0),f.set(a,k));e=this._textures.get(e).h[a.__id__];b.setRenderTarget(e,!0);d.clear(1,1,1);d.setProgramConstantsFromMatrix(1,0,c,!0);d.setProgramConstantsFromVector(0,0,this._enc,2);a.activateVertexBuffer(0,b);a.activateVertexNormalBuffer(1,b);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},activate:function(a,b){this._projectionTexturesInvalid&&this.updateProjectionTextures();pb.prototype.activate.call(this,a,b);a.get_context3D().setProgramConstantsFromVector(1,4,
this._polyOffset,1)},__class__:eo});var Xn=function(){pb.call(this);this.set_mipmap(!1);this._numUsedTextures=1;for(var a=[0,0,0,0,1,1,1,1],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this._vertexData=b};m["away3d.materials.passes.SkyBoxPass"]=Xn;Xn.__name__=["away3d","materials","passes","SkyBoxPass"];Xn.__super__=pb;Xn.prototype=z(pb.prototype,{_cubeTexture:null,_vertexData:null,get_cubeTexture:function(){return this._cubeTexture},set_cubeTexture:function(a){return this._cubeTexture=
a},getVertexCode:function(){return"mul vt0, va0, vc5\t\t\nadd vt0, vt0, vc4\t\t\nm44 op, vt0, vc0\t\t\nmov v0, va0\n"},getFragmentCode:function(a){switch(this._cubeTexture.get_format()){case 3:a="dxt1,";break;case 4:a="dxt5,";break;default:a=""}var b=",mipnone";this._cubeTexture.get_hasMipMaps()&&(b=",miplinear");return"tex ft0, v0, fs0 <cube,"+a+"linear,clamp"+b+">\t\nmov oc, ft0\t\t\t\t\t\t\t\n"},render:function(a,b,c,d){var e=b._context3D,f=c.get_scenePosition();this._vertexData.set(0,f.x);this._vertexData.set(1,
f.y);this._vertexData.set(2,f.z);this._vertexData.set(4,this._vertexData.set(5,this._vertexData.set(6,c.get_lens().get_far()/Math.sqrt(3))));e.setProgramConstantsFromMatrix(1,0,d,!0);e.setProgramConstantsFromVector(1,4,this._vertexData,2);a.activateVertexBuffer(0,b);b.drawTriangles(a.getIndexBuffer(b),0,a.get_numTriangles())},activate:function(a,b){pb.prototype.activate.call(this,a,b);var c=a._context3D;c.setDepthTest(!1,4);c.setTextureAt(0,this._cubeTexture.getTextureForStage3D(a))},__class__:Xn,
__properties__:z(pb.prototype.__properties__,{set_cubeTexture:"set_cubeTexture",get_cubeTexture:"get_cubeTexture"})});var ii=function(a){this._includeCasters=!0;qc.call(this,a);this._needFragmentAnimation=!0};m["away3d.materials.passes.SuperShaderPass"]=ii;ii.__name__=["away3d","materials","passes","SuperShaderPass"];ii.__super__=qc;ii.prototype=z(qc.prototype,{_includeCasters:null,_ignoreLights:null,createCompiler:function(a){return new Zn(a)},get_includeCasters:function(){return this._includeCasters},
set_includeCasters:function(a){if(this._includeCasters==a)return a;this._includeCasters=a;this.invalidateShaderProgram();return a},get_colorTransform:function(){return null!=this._methodSetup.get_colorTransformMethod()?this._methodSetup._colorTransformMethod.get_colorTransform():null},set_colorTransform:function(a){null!=a?(null==this.get_colorTransformMethod()&&this.set_colorTransformMethod(new fj),this._methodSetup._colorTransformMethod.set_colorTransform(a)):null==a&&(null!=this._methodSetup._colorTransformMethod&&
this.set_colorTransformMethod(null),this.set_colorTransformMethod(this._methodSetup._colorTransformMethod=null));return a},get_colorTransformMethod:function(){return this._methodSetup.get_colorTransformMethod()},set_colorTransformMethod:function(a){this._methodSetup.set_colorTransformMethod(a);return a},addMethod:function(a){this._methodSetup.addMethod(a)},numMethods:null,get_numMethods:function(){return this._methodSetup.get_numMethods()},hasMethod:function(a){return this._methodSetup.hasMethod(a)},
getMethodAt:function(a){return this._methodSetup.getMethodAt(a)},addMethodAt:function(a,b){this._methodSetup.addMethodAt(a,b)},removeMethod:function(a){this._methodSetup.removeMethod(a)},updateLights:function(){null==this._lightPicker||this._ignoreLights?this._numLightProbes=this._numDirectionalLights=this._numPointLights=0:(this._numPointLights=this._lightPicker.get_numPointLights(),this._numDirectionalLights=this._lightPicker.get_numDirectionalLights(),this._numLightProbes=this._lightPicker.get_numLightProbes(),
this._includeCasters&&(this._numPointLights+=this._lightPicker.get_numCastingPointLights(),this._numDirectionalLights+=this._lightPicker.get_numCastingDirectionalLights()));this.invalidateShaderProgram()},activate:function(a,b){qc.prototype.activate.call(this,a,b);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.activate(this._methodSetup._colorTransformMethodVO,a);for(var c=this._methodSetup._methods,d=0,e=c.get_length();d<e;){var f=d++,f=c.get(f);f.method.activate(f.data,
a)}0<=this._cameraPositionIndex&&(c=b.get_scenePosition(),this._vertexConstantData.set(this._cameraPositionIndex,c.x),this._vertexConstantData.set(this._cameraPositionIndex+1,c.y),this._vertexConstantData.set(this._cameraPositionIndex+2,c.z))},deactivate:function(a){qc.prototype.deactivate.call(this,a);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.deactivate(this._methodSetup._colorTransformMethodVO,a);for(var b,c=this._methodSetup._methods,d=0,e=c.get_length();d<
e;)b=d++,b=c.get(b),b.method.deactivate(b.data,a)},addPassesFromMethods:function(){qc.prototype.addPassesFromMethods.call(this);null!=this._methodSetup._colorTransformMethod&&this.addPasses(this._methodSetup._colorTransformMethod.get_passes());for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;this.addPasses(a.get(d).method.get_passes())}},usesProbesForSpecular:function(){return 0<this._numLightProbes?0!=(this._specularLightSources&2):!1},usesProbesForDiffuse:function(){return 0<
this._numLightProbes?0!=(this._diffuseLightSources&2):!1},updateMethodConstants:function(){qc.prototype.updateMethodConstants.call(this);null!=this._methodSetup._colorTransformMethod&&this._methodSetup._colorTransformMethod.initConstants(this._methodSetup._colorTransformMethodVO);for(var a=this._methodSetup._methods,b=0,c=a.get_length();b<c;){var d=b++;a.get(d).method.initConstants(a.get(d).data)}},updateLightConstants:function(){var a,b,c,d;b=0;var e=this._includeCasters?2:1;c=this._lightFragmentConstantIndex;
for(var f=0;f<e;){var k=0!=f++?this._lightPicker.get_castingDirectionalLights():this._lightPicker.get_directionalLights();d=k.get_length();b+=d;for(var p=0,w=d;p<w;)d=p++,a=k.get(d),d=a.get_sceneDirection(),this._ambientLightR+=a._ambientR,this._ambientLightG+=a._ambientG,this._ambientLightB+=a._ambientB,this._fragmentConstantData.set(c++,-d.x),this._fragmentConstantData.set(c++,-d.y),this._fragmentConstantData.set(c++,-d.z),this._fragmentConstantData.set(c++,1),this._fragmentConstantData.set(c++,
a._diffuseR),this._fragmentConstantData.set(c++,a._diffuseG),this._fragmentConstantData.set(c++,a._diffuseB),this._fragmentConstantData.set(c++,1),this._fragmentConstantData.set(c++,a._specularR),this._fragmentConstantData.set(c++,a._specularG),this._fragmentConstantData.set(c++,a._specularB),this._fragmentConstantData.set(c++,1)}if(this._numDirectionalLights>b)for(b=c+12*(this._numDirectionalLights-b);Q.gt(b,c);)this._fragmentConstantData.set(c++,0);for(f=b=0;f<e;)for(k=0!=f++?this._lightPicker.get_castingPointLights():
this._lightPicker.get_pointLights(),d=k.get_length(),p=0,w=d;p<w;)d=p++,a=k.get(d),d=a.get_scenePosition(),this._ambientLightR+=a._ambientR,this._ambientLightG+=a._ambientG,this._ambientLightB+=a._ambientB,this._fragmentConstantData.set(c++,d.x),this._fragmentConstantData.set(c++,d.y),this._fragmentConstantData.set(c++,d.z),this._fragmentConstantData.set(c++,1),this._fragmentConstantData.set(c++,a._diffuseR),this._fragmentConstantData.set(c++,a._diffuseG),this._fragmentConstantData.set(c++,a._diffuseB),
this._fragmentConstantData.set(c++,a._radius*a._radius),this._fragmentConstantData.set(c++,a._specularR),this._fragmentConstantData.set(c++,a._specularG),this._fragmentConstantData.set(c++,a._specularB),this._fragmentConstantData.set(c++,a._fallOffFactor);if(this._numPointLights>b)for(b=c+12*(b-this._numPointLights);Q.gt(b,c);)this._fragmentConstantData.set(c,0),++c},updateProbes:function(a){var b,c=this._lightPicker.get_lightProbes(),d=this._lightPicker.get_lightProbeWeights(),e=c.get_length(),f=
this.usesProbesForDiffuse(),k=null!=this._methodSetup._specularMethod&&this.usesProbesForSpecular(),p=a._context3D;if(f||k){for(var w=0;w<e;){var h=w++;b=c.get(h);f&&p.setTextureAt(this._lightProbeDiffuseIndices.get(h),b.get_diffuseMap().getTextureForStage3D(a));k&&p.setTextureAt(this._lightProbeSpecularIndices.get(h),b.get_specularMap().getTextureForStage3D(a))}this._fragmentConstantData.set(this._probeWeightsIndex,d.get(0));this._fragmentConstantData.set(this._probeWeightsIndex+1,d.get(1));this._fragmentConstantData.set(this._probeWeightsIndex+
2,d.get(2));this._fragmentConstantData.set(this._probeWeightsIndex+3,d.get(3))}},set_ignoreLights:function(a){return this._ignoreLights=a},get_ignoreLights:function(){return this._ignoreLights},__class__:ii,__properties__:z(qc.prototype.__properties__,{set_ignoreLights:"set_ignoreLights",get_ignoreLights:"get_ignoreLights",get_numMethods:"get_numMethods",set_colorTransformMethod:"set_colorTransformMethod",get_colorTransformMethod:"get_colorTransformMethod",set_colorTransform:"set_colorTransform",
get_colorTransform:"get_colorTransform",set_includeCasters:"set_includeCasters",get_includeCasters:"get_includeCasters"})});var Ib=function(){};m["away3d.materials.utils.DefaultMaterialManager"]=Ib;Ib.__name__=["away3d","materials","utils","DefaultMaterialManager"];Ib.getDefaultMaterial=function(a){null==Ib._defaultTexture&&Ib.createDefaultTexture();null==Ib._defaultMaterial&&Ib.createDefaultMaterial();return Ib._defaultMaterial};Ib.getDefaultTexture=function(a){null==Ib._defaultTexture&&Ib.createDefaultTexture();
return Ib._defaultTexture};Ib.createDefaultTexture=function(){Ib._defaultTextureBitmapData=new Ha(8,8,!1,0);for(var a=0;8>a;)for(var b=a++,c=0;8>c;){var d=c++;0!=(d&1^b&1)&&Ib._defaultTextureBitmapData.setPixel(b,d,16777215)}Ib._defaultTexture=new vb(Ib._defaultTextureBitmapData);Ib._defaultTexture.set_name("defaultTexture")};Ib.createDefaultMaterial=function(){Ib._defaultMaterial=new Qb(Ib._defaultTexture);Ib._defaultMaterial.set_mipmap(!1);Ib._defaultMaterial.set_smooth(!1);Ib._defaultMaterial.set_name("defaultMaterial")};
var Qq=function(){};m["away3d.materials.utils.IVideoPlayer"]=Qq;Qq.__name__=["away3d","materials","utils","IVideoPlayer"];Qq.prototype={get_source:null,set_source:null,get_loop:null,set_loop:null,get_volume:null,set_volume:null,get_pan:null,set_pan:null,get_mute:null,set_mute:null,get_soundTransform:null,set_soundTransform:null,get_width:null,set_width:null,get_height:null,set_height:null,get_container:null,get_playing:null,get_paused:null,get_time:null,play:null,pause:null,seek:null,stop:null,dispose:null,
__class__:Qq,__properties__:{get_time:"get_time",get_paused:"get_paused",get_playing:"get_playing",get_container:"get_container",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_mute:"set_mute",get_mute:"get_mute",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",get_volume:"get_volume",set_loop:"set_loop",get_loop:"get_loop",set_source:"set_source",get_source:"get_source"}};
var ue=function(){};m["away3d.materials.utils.MipmapGenerator"]=ue;ue.__name__=["away3d","materials","utils","MipmapGenerator"];ue.generateMipMaps=function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=!1);var f=a.width,k=a.height,p=0,w=null!=c;null==c&&(c=new Ha(f,k,d));ue._rect.width=Q.toFloat(f);for(ue._rect.height=Q.toFloat(k);Q.gte(f,1)||Q.gte(k,1);){d&&c.fillRect(ue._rect,0);ue._matrix.a=ue._rect.width/a.width;ue._matrix.d=ue._rect.height/a.height;c.draw(a,ue._matrix,null,null,null,!0);y.__instanceof(b,
Ff)?y.__cast(b,Ff).uploadFromBitmapData(c,p++):y.__cast(b,lj).uploadFromBitmapData(c,e,p++);var f=f>>>1,k=k>>>1,h=Q.gt(f,1)?Q.toFloat(f):1;ue._rect.width=h;h=Q.gt(k,1)?Q.toFloat(k):1;ue._rect.height=h}w||c.dispose()};var go=function(){this._soundTransform=new od;this._paused=this._playing=this._loop=!1;this._lastVolume=1;this._nsClient={onCuePoint:u(this,this.metaDataHandler),onMetaData:u(this,this.metaDataHandler),onBWDone:u(this,this.onBWDone),close:u(this,this.streamClose)};this._nc=new al;Z.setProperty(this._nc,
"client",this._nsClient);this._nc.addEventListener("netStatus",u(this,this.netStatusHandler),!1,0,!0);this._nc.addEventListener("securityError",u(this,this.securityErrorHandler),!1,0,!0);this._nc.addEventListener("ioError",u(this,this.ioErrorHandler),!1,0,!0);this._nc.addEventListener("asyncError",u(this,this.asyncErrorHandler),!1,0,!0);this._nc.connect(null);this._ns=new fo(this._nc);this._ns.checkPolicyFile=!0;this._ns.client=this._nsClient;this._ns.addEventListener("netStatus",u(this,this.netStatusHandler),
!1,0,!0);this._ns.addEventListener("asyncError",u(this,this.asyncErrorHandler),!1,0,!0);this._ns.addEventListener("ioError",u(this,this.ioErrorHandler),!1,0,!0);this._video=new mj;this._video.attachNetStream(this._ns);this._container=new Fb;this._container.addChild(this._video)};m["away3d.materials.utils.SimpleVideoPlayer"]=go;go.__name__=["away3d","materials","utils","SimpleVideoPlayer"];go.__interfaces__=[Qq];go.prototype={_src:null,_video:null,_ns:null,_nc:null,_nsClient:null,_soundTransform:null,
_loop:null,_playing:null,_paused:null,_lastVolume:null,_container:null,play:function(){null==this._src?Aa.trace("Video source not set.",{fileName:"SimpleVideoPlayer.hx",lineNumber:92,className:"away3d.materials.utils.SimpleVideoPlayer",methodName:"play"}):this._paused?(this._ns.resume(),this._paused=!1,this._playing=!0):this._playing||(this._ns.play(this._src),this._playing=!0,this._paused=!1)},pause:function(){this._paused||(this._ns.pause(),this._paused=!0)},seek:function(a){this.pause();this._ns.seek(a);
this._ns.resume()},stop:function(){this._ns.close();this._paused=this._playing=!1},dispose:function(){this._ns.close();this._video.attachNetStream(null);this._ns.removeEventListener("netStatus",u(this,this.netStatusHandler));this._ns.removeEventListener("asyncError",u(this,this.asyncErrorHandler));this._ns.removeEventListener("ioError",u(this,this.ioErrorHandler));this._nc.removeEventListener("netStatus",u(this,this.netStatusHandler));this._nc.removeEventListener("securityError",u(this,this.securityErrorHandler));
this._nc.removeEventListener("ioError",u(this,this.ioErrorHandler));this._nc.removeEventListener("asyncError",u(this,this.asyncErrorHandler));this._container.removeChild(this._video);this._soundTransform=this._video=this._nsClient=this._nc=this._ns=this._src=this._container=null;this._paused=this._playing=!1},asyncErrorHandler:function(a){},metaDataHandler:function(a){},ioErrorHandler:function(a){Aa.trace("An IOerror occured: "+a.text,{fileName:"SimpleVideoPlayer.hx",lineNumber:177,className:"away3d.materials.utils.SimpleVideoPlayer",
methodName:"ioErrorHandler"})},securityErrorHandler:function(a){Aa.trace("A security error occured: "+a.text+" Remember that the FLV must be in the same security sandbox as your SWF.",{fileName:"SimpleVideoPlayer.hx",lineNumber:182,className:"away3d.materials.utils.SimpleVideoPlayer",methodName:"securityErrorHandler"})},onBWDone:function(){},streamClose:function(){Aa.trace("The stream was closed. Incorrect URL?",{fileName:"SimpleVideoPlayer.hx",lineNumber:192,className:"away3d.materials.utils.SimpleVideoPlayer",
methodName:"streamClose"})},netStatusHandler:function(a){switch(a.info.code){case "NetConnection.Connect.Success":Aa.trace("Connected to stream",{fileName:"SimpleVideoPlayer.hx",lineNumber:207,className:"away3d.materials.utils.SimpleVideoPlayer",methodName:"netStatusHandler",customParams:[a]});break;case "NetStream.Play.Stop":this.get_loop()&&this._ns.play(this._src);break;case "NetStream.Play.StreamNotFound":Aa.trace("The file "+this._src+" was not found",{fileName:"SimpleVideoPlayer.hx",lineNumber:205,
className:"away3d.materials.utils.SimpleVideoPlayer",methodName:"netStatusHandler",customParams:[a]})}},get_source:function(){return this._src},set_source:function(a){this._src=a;this._playing&&this._ns.play(this._src);return a},get_loop:function(){return this._loop},set_loop:function(a){return this._loop=a},get_volume:function(){return this._ns.soundTransform.volume},set_volume:function(a){this._soundTransform.volume=a;this._ns.soundTransform=this._soundTransform;return this._lastVolume=a},get_pan:function(){return this._ns.soundTransform.pan},
set_pan:function(a){this._soundTransform.pan=this.get_pan();this._ns.soundTransform=this._soundTransform;return a},get_mute:function(){return 0==this._ns.soundTransform.volume},set_mute:function(a){this._soundTransform.volume=a?0:this._lastVolume;this._ns.soundTransform=this._soundTransform;return a},get_soundTransform:function(){return this._ns.soundTransform},set_soundTransform:function(a){return this._ns.soundTransform=a},get_width:function(){return this._video.get_width()|0},set_width:function(a){this._video.set_width(a);
return a},get_height:function(){return this._video.get_height()|0},set_height:function(a){this._video.set_height(a);return a},get_container:function(){return this._container},get_time:function(){return this._ns.time},get_playing:function(){return this._playing},get_paused:function(){return this._paused},__class__:go,__properties__:{get_paused:"get_paused",get_playing:"get_playing",get_time:"get_time",get_container:"get_container",set_height:"set_height",get_height:"get_height",set_width:"set_width",
get_width:"get_width",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_mute:"set_mute",get_mute:"get_mute",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",get_volume:"get_volume",set_loop:"set_loop",get_loop:"get_loop",set_source:"set_source",get_source:"get_source"}};var nj=function(){};m["away3d.materials.utils.WireframeMapGenerator"]=nj;nj.__name__=["away3d","materials","utils","WireframeMapGenerator"];nj.generateTexturedMap=function(a,b,c,d){null==
d&&(d=2);null==c&&(c=16777215);b=b.clone();for(var e=0,f=a.get_subMeshes().get_length();e<f;){var k=e++;nj.drawLines(c,d,b,a.get_subMeshes().get(k).get_subGeometry())}return b};nj.generateSolidMap=function(a,b,c,d,e,f,k){null==k&&(k=512);null==f&&(f=512);null==e&&(e=0);null==d&&(d=0);null==c&&(c=2);null==b&&(b=16777215);1<e?e=1:0>e&&(e=0);d=new Ha(f,k,1==e?!1:!0,(e|0)<<24|d&16777215|0);e=0;for(f=a.get_subMeshes().get_length();e<f;)k=e++,nj.drawLines(b,c,d,a.get_subMeshes().get(k).get_subGeometry());
return d};nj.drawLines=function(a,b,c,d){var e=new Fb,f=e.get_graphics(),k=d.get_UVData(),p=0,w=k.get_length(),h=c.width,n=c.height,l=x.toFloatVector(null,w,!0);for(d=d.get_indexData();l.set(p,k.get(p)*h),++p,l.set(p,k.get(p)*n),++p<w;);w=d.get_length();k=x.toIntVector(null,w,!0);for(p=0;k.set(p,d.get(p)),++p<w;);f.lineStyle(b,a);f.drawTriangles(l,k,null,1);c.draw(e);f.clear()};var Bc=function(){this._geomDirty=this._uvDirty=!0;Zb.call(this);this._subGeometry=new Ac;this._subGeometry.set_autoGenerateDummyUVs(!1);
this.addSubGeometry(this._subGeometry)};m["away3d.primitives.PrimitiveBase"]=Bc;Bc.__name__=["away3d","primitives","PrimitiveBase"];Bc.__super__=Zb;Bc.prototype=z(Zb.prototype,{_geomDirty:null,_uvDirty:null,_subGeometry:null,get_subGeometries:function(){this._geomDirty&&this.updateGeometry();this._uvDirty&&this.updateUVs();return Zb.prototype.get_subGeometries.call(this)},clone:function(){this._geomDirty&&this.updateGeometry();this._uvDirty&&this.updateUVs();return Zb.prototype.clone.call(this)},
scale:function(a){this._geomDirty&&this.updateGeometry();Zb.prototype.scale.call(this,a)},scaleUV:function(a,b){null==b&&(b=1);null==a&&(a=1);this._uvDirty&&this.updateUVs();Zb.prototype.scaleUV.call(this,a,b)},applyTransformation:function(a){this._geomDirty&&this.updateGeometry();Zb.prototype.applyTransformation.call(this,a)},buildGeometry:function(a){throw new H(new bb);},buildUVs:function(a){throw new H(new bb);},invalidateGeometry:function(){this._geomDirty=!0},invalidateUVs:function(){this._uvDirty=
!0},updateGeometry:function(){this.buildGeometry(this._subGeometry);this._geomDirty=!1},updateUVs:function(){this.buildUVs(this._subGeometry);this._uvDirty=!1},validate:function(){this._geomDirty&&this.updateGeometry();this._uvDirty&&this.updateUVs()},__class__:Bc});var fn=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=15);null==c&&(c=16);null==b&&(b=100);null==a&&(a=50);Bc.call(this);this._radius=a;this._height=b;this._segmentsW=c;this._segmentsH=0==d%2?d+1:d;this._yUp=e};m["away3d.primitives.CapsuleGeometry"]=
fn;fn.__name__=["away3d","primitives","CapsuleGeometry"];fn.__super__=Bc;fn.prototype=z(Bc.prototype,{_radius:null,_height:null,_segmentsW:null,_segmentsH:null,_yUp:null,buildGeometry:function(a){var b,c,d=0;b=(this._segmentsH+1)*(this._segmentsW+1);c=a.get_vertexStride();var e=c-9,f=0,k=0,p=0,w=0,h=0,n=0;b==a.get_numVertices()?(b=a.get_vertexData(),c=a.get_indexData(),null==c&&(c=x.toIntVector(null,(this._segmentsH-1)*this._segmentsW*6,!0))):(b=x.toFloatVector(null,b*c,!0),c=x.toIntVector(null,(this._segmentsH-
1)*this._segmentsW*6,!0),this.invalidateUVs());for(var l=0,g=this._segmentsH+1;l<g;)for(var m=l++,k=Math.PI*m/this._segmentsH,r=-this._radius*Math.cos(k),q=this._radius*Math.sin(k),k=f,t=0,u=this._segmentsW+1;t<u;){var v=t++,p=2*Math.PI*v/this._segmentsW,y=q*Math.cos(p),z=m>this._segmentsH/2?this._height/2:-this._height/2,B=q*Math.sin(p),A=1/Math.sqrt(y*y+B*B+r*r),D=Math.sqrt(B*B+y*y);this._yUp?(h=0,n=.007<D?y/D:0,p=-r,w=B):(h=.007<D?y/D:0,n=0,p=B,w=r);v==this._segmentsW?(b.set(f++,b.get(k)),b.set(f++,
b.get(k+1)),b.set(f++,b.get(k+2)),b.set(f++,.5*(b.get(k+3)+y*A)),b.set(f++,.5*(b.get(k+4)+p*A)),b.set(f++,.5*(b.get(k+5)+w*A)),b.set(f++,.5*(b.get(k+6)+(.007<D?-B/D:1))),b.set(f++,.5*(b.get(k+7)+h)),b.set(f++,.5*(b.get(k+8)+n))):(b.set(f++,y),b.set(f++,this._yUp?p-z:p),b.set(f++,this._yUp?w:w+z),b.set(f++,y*A),b.set(f++,p*A),b.set(f++,w*A),b.set(f++,.007<D?-B/D:1),b.set(f++,h),b.set(f++,n));0<v&&0<m&&(p=(this._segmentsW+1)*m+v,w=(this._segmentsW+1)*m+v-1,h=(this._segmentsW+1)*(m-1)+v-1,v=(this._segmentsW+
1)*(m-1)+v,m==this._segmentsH?(b.set(f-9,b.get(k)),b.set(f-8,b.get(k+1)),b.set(f-7,b.get(k+2)),c.set(d++,p),c.set(d++,h),c.set(d++,v)):1==m?(c.set(d++,p),c.set(d++,w),c.set(d++,h)):(c.set(d++,p),c.set(d++,w),c.set(d++,h),c.set(d++,p),c.set(d++,h),c.set(d++,v)));f+=e}a.updateData(b);a.updateIndexData(c)},buildUVs:function(a){var b,c,d=a.get_UVStride();b=(this._segmentsH+1)*(this._segmentsW+1)*d;d-=2;null!=a.get_UVData()&&b==a.get_UVData().get_length()?c=a.get_UVData():(c=x.toFloatVector(null,b,!0),
this.invalidateGeometry());b=a.get_UVOffset();for(var e=0,f=this._segmentsH+1;e<f;)for(var k=e++,p=0,w=this._segmentsW+1;p<w;){var h=p++;c.set(b++,h/this._segmentsW*a.get_scaleU());c.set(b++,k/this._segmentsH*a.get_scaleV());b+=d}a.updateData(c)},get_radius:function(){return this._radius},set_radius:function(a){this._radius=a;this.invalidateGeometry();return a},get_height:function(){return this._height},set_height:function(a){this._height=a;this.invalidateGeometry();return a},get_segmentsW:function(){return this._segmentsW},
set_segmentsW:function(a){this._segmentsW=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsH:function(){return this._segmentsH},set_segmentsH:function(a){this._segmentsH=0==a%2?a+1:a;this.invalidateGeometry();this.invalidateUVs();return a},get_yUp:function(){return this._yUp},set_yUp:function(a){this._yUp=a;this.invalidateGeometry();return a},__class__:fn,__properties__:z(Bc.prototype.__properties__,{set_yUp:"set_yUp",get_yUp:"get_yUp",set_segmentsH:"set_segmentsH",get_segmentsH:"get_segmentsH",
set_segmentsW:"set_segmentsW",get_segmentsW:"get_segmentsW",set_height:"set_height",get_height:"get_height",set_radius:"set_radius",get_radius:"get_radius"})});var ef=function(a,b,c,d,e,f,k,p,w){null==w&&(w=!0);null==p&&(p=!0);null==k&&(k=!0);null==f&&(f=!0);null==e&&(e=1);null==d&&(d=16);null==c&&(c=100);null==b&&(b=50);null==a&&(a=50);Bc.call(this);this._topRadius=a;this._bottomRadius=b;this._height=c;this._segmentsW=d;this._segmentsH=e;this._topClosed=f;this._bottomClosed=k;this._surfaceClosed=
p;this._yUp=w};m["away3d.primitives.CylinderGeometry"]=ef;ef.__name__=["away3d","primitives","CylinderGeometry"];ef.__super__=Bc;ef.prototype=z(Bc.prototype,{_topRadius:null,_bottomRadius:null,_height:null,_segmentsW:null,_segmentsH:null,_topClosed:null,_bottomClosed:null,_surfaceClosed:null,_yUp:null,_rawData:null,_rawIndices:null,_nextVertexIndex:null,_currentIndex:null,_currentTriangleIndex:null,_numVertices:null,_stride:null,_vertexOffset:null,addVertex:function(a,b,c,d,e,f,k,p,w){var h=this._vertexOffset+
this._nextVertexIndex*this._stride;this._rawData.set(h++,a);this._rawData.set(h++,b);this._rawData.set(h++,c);this._rawData.set(h++,d);this._rawData.set(h++,e);this._rawData.set(h++,f);this._rawData.set(h++,k);this._rawData.set(h++,p);this._rawData.set(h++,w);this._nextVertexIndex++},addTriangleClockWise:function(a,b,c){this._rawIndices.set(this._currentIndex++,a);this._rawIndices.set(this._currentIndex++,b);this._rawIndices.set(this._currentIndex++,c);this._currentTriangleIndex++},buildGeometry:function(a){var b=
0,c=0,d=0,e=0,f=0,k=0,p=0,w=0,h=0,n=k=c=f=0,l=0;this._stride=a.get_vertexStride();this._vertexOffset=a.get_vertexOffset();this._currentTriangleIndex=this._currentIndex=this._nextVertexIndex=this._numVertices=0;this._surfaceClosed&&(this._numVertices+=(this._segmentsH+1)*(this._segmentsW+1),h+=this._segmentsH*this._segmentsW*2);this._topClosed&&(this._numVertices+=2*(this._segmentsW+1),h+=this._segmentsW);this._bottomClosed&&(this._numVertices+=2*(this._segmentsW+1),h+=this._segmentsW);this._numVertices==
a.get_numVertices()?(this._rawData=a.get_vertexData(),this._rawIndices=a.get_indexData(),null==this._rawIndices&&(this._rawIndices=x.toIntVector(null,3*h,!0))):(this._rawData=x.toFloatVector(null,this._numVertices*this._stride,!0),this._rawIndices=x.toIntVector(null,3*h,!0));h=2*Math.PI/this._segmentsW;if(this._topClosed&&0<this._topRadius)for(d=-.5*this._height,p=0,e=this._segmentsW+1;p<e;)w=p++,this._yUp?(n=1,l=0,f=-d,c=0):(n=0,l=-1,f=0,c=d),this.addVertex(0,f,c,0,n,l,1,0,0),f=w*h,b=this._topRadius*
Math.cos(f),c=this._topRadius*Math.sin(f),this._yUp?f=-d:(f=c,c=d),w==this._segmentsW?this.addVertex(this._rawData.get(k+this._stride),this._rawData.get(k+this._stride+1),this._rawData.get(k+this._stride+2),0,n,l,1,0,0):this.addVertex(b,f,c,0,n,l,1,0,0),0<w&&this.addTriangleClockWise(this._nextVertexIndex-1,this._nextVertexIndex-3,this._nextVertexIndex-2);if(this._bottomClosed&&0<this._bottomRadius)for(d=.5*this._height,k=this._vertexOffset+this._nextVertexIndex*this._stride,p=0,e=this._segmentsW+
1;p<e;)w=p++,this._yUp?(n=-1,l=0,f=-d,c=0):(n=0,l=1,f=0,c=d),this.addVertex(0,f,c,0,n,l,1,0,0),f=w*h,b=this._bottomRadius*Math.cos(f),c=this._bottomRadius*Math.sin(f),this._yUp?f=-d:(f=c,c=d),w==this._segmentsW?this.addVertex(b,this._rawData.get(k+1),this._rawData.get(k+2),0,n,l,1,0,0):this.addVertex(b,f,c,0,n,l,1,0,0),0<w&&this.addTriangleClockWise(this._nextVertexIndex-2,this._nextVertexIndex-3,this._nextVertexIndex-1);k=this._bottomRadius-this._topRadius;p=k/this._height;w=0==p?1:this._height/
k;if(this._surfaceClosed)for(var g,m,r,q,t=0,u=this._segmentsH+1;t<u;)for(var v=t++,e=this._topRadius-v/this._segmentsH*(this._topRadius-this._bottomRadius),d=-(this._height/2)+v/this._segmentsH*this._height,k=this._vertexOffset+this._nextVertexIndex*this._stride,y=0,z=this._segmentsW+1;y<z;){var B=y++,f=B*h,b=e*Math.cos(f),c=e*Math.sin(f);g=w*Math.cos(f);m=w*Math.sin(f);this._yUp?(n=0,l=-g,f=-d,r=p,q=m):(n=-g,l=0,f=c,c=d,r=m,q=p);B==this._segmentsW?this.addVertex(this._rawData.get(k),this._rawData.get(k+
1),this._rawData.get(k+2),g,p,m,m,n,l):this.addVertex(b,f,c,g,r,q,-m,n,l);0<B&&0<v&&(n=this._nextVertexIndex-1,l=this._nextVertexIndex-2,b=l-this._segmentsW-1,f=n-this._segmentsW-1,this.addTriangleClockWise(n,l,b),this.addTriangleClockWise(n,b,f))}a.updateData(this._rawData);a.updateIndexData(this._rawIndices)},buildUVs:function(a){var b,c,d=a.get_UVStride(),e=d-2,d=this._numVertices*d;null!=a.get_UVData()&&d==a.get_UVData().get_length()?d=a.get_UVData():(d=x.toFloatVector(null,d,!0),this.invalidateGeometry());
var f=2*Math.PI/this._segmentsW,k=a.get_UVOffset();if(this._topClosed)for(var p=0,w=this._segmentsW+1;p<w;)c=p++*f,b=.5+.5*-Math.cos(c),c=.5+.5*Math.sin(c),d.set(k++,.5*a.get_scaleU()),d.set(k++,.5*a.get_scaleV()),k+=e,d.set(k++,b*a.get_scaleU()),d.set(k++,c*a.get_scaleV()),k+=e;if(this._bottomClosed)for(p=0,w=this._segmentsW+1;p<w;)c=p++*f,b=.5+.5*Math.cos(c),c=.5+.5*Math.sin(c),d.set(k++,.5*a.get_scaleU()),d.set(k++,.5*a.get_scaleV()),k+=e,d.set(k++,b*a.get_scaleU()),d.set(k++,c*a.get_scaleV()),
k+=e;if(this._surfaceClosed)for(b=0,f=this._segmentsH+1;b<f;)for(c=b++,p=0,w=this._segmentsW+1;p<w;){var h=p++;d.set(k++,h/this._segmentsW*a.get_scaleU());d.set(k++,c/this._segmentsH*a.get_scaleV());k+=e}a.updateData(d)},get_topRadius:function(){return this._topRadius},set_topRadius:function(a){this._topRadius=a;this.invalidateGeometry();return a},get_bottomRadius:function(){return this._bottomRadius},set_bottomRadius:function(a){this._bottomRadius=a;this.invalidateGeometry();return a},get_height:function(){return this._height},
set_height:function(a){this._height=a;this.invalidateGeometry();return a},get_segmentsW:function(){return this._segmentsW},set_segmentsW:function(a){this._segmentsW=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsH:function(){return this._segmentsH},set_segmentsH:function(a){this._segmentsH=a;this.invalidateGeometry();this.invalidateUVs();return a},get_topClosed:function(){return this._topClosed},set_topClosed:function(a){this._topClosed=a;this.invalidateGeometry();return a},
get_bottomClosed:function(){return this._bottomClosed},set_bottomClosed:function(a){this._bottomClosed=a;this.invalidateGeometry();return a},get_yUp:function(){return this._yUp},set_yUp:function(a){this._yUp=a;this.invalidateGeometry();return a},__class__:ef,__properties__:z(Bc.prototype.__properties__,{set_yUp:"set_yUp",get_yUp:"get_yUp",set_bottomClosed:"set_bottomClosed",get_bottomClosed:"get_bottomClosed",set_topClosed:"set_topClosed",get_topClosed:"get_topClosed",set_segmentsH:"set_segmentsH",
get_segmentsH:"get_segmentsH",set_segmentsW:"set_segmentsW",get_segmentsW:"get_segmentsW",set_height:"set_height",get_height:"get_height",set_bottomRadius:"set_bottomRadius",get_bottomRadius:"get_bottomRadius",set_topRadius:"set_topRadius",get_topRadius:"get_topRadius"})});var Pk=function(a,b,c,d,e,f){null==f&&(f=!0);null==e&&(e=!0);null==d&&(d=1);null==c&&(c=16);null==b&&(b=100);null==a&&(a=50);ef.call(this,0,a,b,c,d,!1,e,!0,f)};m["away3d.primitives.ConeGeometry"]=Pk;Pk.__name__=["away3d","primitives",
"ConeGeometry"];Pk.__super__=ef;Pk.prototype=z(ef.prototype,{get_radius:function(){return this._bottomRadius},set_radius:function(a){this._bottomRadius=a;this.invalidateGeometry();return a},__class__:Pk,__properties__:z(ef.prototype.__properties__,{set_radius:"set_radius",get_radius:"get_radius"})});var dj=function(a,b,c,d,e,f,k){null==k&&(k=!0);null==f&&(f=1);null==e&&(e=1);null==d&&(d=1);null==c&&(c=100);null==b&&(b=100);null==a&&(a=100);Bc.call(this);this._width=a;this._height=b;this._depth=c;
this._segmentsW=d;this._segmentsH=e;this._segmentsD=f;this._tile6=k};m["away3d.primitives.CubeGeometry"]=dj;dj.__name__=["away3d","primitives","CubeGeometry"];dj.__super__=Bc;dj.prototype=z(Bc.prototype,{_width:null,_height:null,_depth:null,_tile6:null,_segmentsW:null,_segmentsH:null,_segmentsD:null,get_width:function(){return this._width},set_width:function(a){this._width=a;this.invalidateGeometry();return a},get_height:function(){return this._height},set_height:function(a){this._height=a;this.invalidateGeometry();
return a},get_depth:function(){return this._depth},set_depth:function(a){this._depth=a;this.invalidateGeometry();return a},get_tile6:function(){return this._tile6},set_tile6:function(a){this._tile6=a;this.invalidateUVs();return a},get_segmentsW:function(){return this._segmentsW},set_segmentsW:function(a){this._segmentsW=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsH:function(){return this._segmentsH},set_segmentsH:function(a){this._segmentsH=a;this.invalidateGeometry();this.invalidateUVs();
return a},get_segmentsD:function(){return this._segmentsD},set_segmentsD:function(a){this._segmentsD=a;this.invalidateGeometry();this.invalidateUVs();return a},buildGeometry:function(a){var b,c,d=0,e=0,f=0,k=0,p=0,w=0,h=0,n=0,l=0,g=0,m=0,r=0,q=0,t;b=2*((this._segmentsW+1)*(this._segmentsH+1)+(this._segmentsW+1)*(this._segmentsD+1)+(this._segmentsH+1)*(this._segmentsD+1));c=a.get_vertexStride();var u=c-9;b==a.get_numVertices()?(b=a.get_vertexData(),c=a.get_indexData(),null==c&&(c=x.toIntVector(null,
12*(this._segmentsW*this._segmentsH+this._segmentsW*this._segmentsD+this._segmentsH*this._segmentsD),!0))):(b=x.toFloatVector(null,b*c,!0),c=x.toIntVector(null,12*(this._segmentsW*this._segmentsH+this._segmentsW*this._segmentsD+this._segmentsH*this._segmentsD),!0),this.invalidateUVs());for(var w=a.get_vertexOffset(),h=0,n=this._width/2,l=this._height/2,g=this._depth/2,m=this._width/this._segmentsW,r=this._height/this._segmentsH,q=this._depth/this._segmentsD,v=0,y=this._segmentsW+1;v<y;){var z=v++;
t=-n+z*m;for(var B=0,A=this._segmentsH+1;B<A;)e=B++,b.set(w++,t),b.set(w++,-l+e*r),b.set(w++,-g),b.set(w++,0),b.set(w++,0),b.set(w++,-1),b.set(w++,1),b.set(w++,0),b.set(w++,0),w+=u,b.set(w++,t),b.set(w++,-l+e*r),b.set(w++,g),b.set(w++,0),b.set(w++,0),b.set(w++,1),b.set(w++,-1),b.set(w++,0),b.set(w++,0),w+=u,0<z&&0<e&&(d=2*((z-1)*(this._segmentsH+1)+(e-1))|0,e=2*(z*(this._segmentsH+1)+(e-1))|0,f=d+2,k=e+2,c.set(h++,d),c.set(h++,f),c.set(h++,k),c.set(h++,d),c.set(h++,k),c.set(h++,e),c.set(h++,e+1),
c.set(h++,k+1),c.set(h++,f+1),c.set(h++,e+1),c.set(h++,f+1),c.set(h++,d+1))}p+=2*(this._segmentsW+1)*(this._segmentsH+1)|0;v=0;for(y=this._segmentsW+1;v<y;)for(z=v++,t=-n+z*m,B=0,A=this._segmentsD+1;B<A;)e=B++,b.set(w++,t),b.set(w++,l),b.set(w++,-g+e*q),b.set(w++,0),b.set(w++,1),b.set(w++,0),b.set(w++,1),b.set(w++,0),b.set(w++,0),w+=u,b.set(w++,t),b.set(w++,-l),b.set(w++,-g+e*q),b.set(w++,0),b.set(w++,-1),b.set(w++,0),b.set(w++,1),b.set(w++,0),b.set(w++,0),w+=u,0<z&&0<e&&(d=p+2*((z-1)*(this._segmentsD+
1)+(e-1))|0,e=p+2*(z*(this._segmentsD+1)+(e-1))|0,f=d+2,k=e+2,c.set(h++,d),c.set(h++,f),c.set(h++,k),c.set(h++,d),c.set(h++,k),c.set(h++,e),c.set(h++,e+1),c.set(h++,k+1),c.set(h++,f+1),c.set(h++,e+1),c.set(h++,f+1),c.set(h++,d+1));p+=2*(this._segmentsW+1)*(this._segmentsD+1)|0;m=0;for(v=this._segmentsD+1;m<v;)for(y=m++,t=g-y*q,z=0,B=this._segmentsH+1;z<B;)e=z++,b.set(w++,-n),b.set(w++,-l+e*r),b.set(w++,t),b.set(w++,-1),b.set(w++,0),b.set(w++,0),b.set(w++,0),b.set(w++,0),b.set(w++,-1),w+=u,b.set(w++,
n),b.set(w++,-l+e*r),b.set(w++,t),b.set(w++,1),b.set(w++,0),b.set(w++,0),b.set(w++,0),b.set(w++,0),b.set(w++,1),w+=u,0<y&&0<e&&(d=p+2*((y-1)*(this._segmentsH+1)+(e-1))|0,e=p+2*(y*(this._segmentsH+1)+(e-1))|0,f=d+2,k=e+2,c.set(h++,d),c.set(h++,f),c.set(h++,k),c.set(h++,d),c.set(h++,k),c.set(h++,e),c.set(h++,e+1),c.set(h++,k+1),c.set(h++,f+1),c.set(h++,e+1),c.set(h++,f+1),c.set(h++,d+1));a.updateData(b);a.updateIndexData(c)},buildUVs:function(a){var b,c,d,e,f,k,p,w,h,n,l,g,m=a.get_UVStride();b=2*((this._segmentsW+
1)*(this._segmentsH+1)+(this._segmentsW+1)*(this._segmentsD+1)+(this._segmentsH+1)*(this._segmentsD+1))*m|0;m-=2;null!=a.get_UVData()&&b==a.get_UVData().get_length()?c=a.get_UVData():(c=x.toFloatVector(null,b,!0),this.invalidateGeometry());this._tile6?(d=f=.3333333333333333,e=k=.5):(d=e=1,f=k=0);b=a.get_UVOffset();p=f;w=k;h=2*f;n=0*k;l=d/this._segmentsW;g=e/this._segmentsH;for(var r=0,q=this._segmentsW+1;r<q;)for(var t=r++,u=0,v=this._segmentsH+1;u<v;){var y=u++;c.set(b++,(p+t*l)*a.get_scaleU());
c.set(b++,(w+(e-y*g))*a.get_scaleV());b+=m;c.set(b++,(h+(d-t*l))*a.get_scaleU());c.set(b++,(n+(e-y*g))*a.get_scaleV());b+=m}p=f;w=0*k;h=0*f;n=0*k;l=d/this._segmentsW;g=e/this._segmentsD;r=0;for(q=this._segmentsW+1;r<q;)for(t=r++,u=0,v=this._segmentsD+1;u<v;)y=u++,c.set(b++,(p+t*l)*a.get_scaleU()),c.set(b++,(w+(e-y*g))*a.get_scaleV()),b+=m,c.set(b++,(h+t*l)*a.get_scaleU()),c.set(b++,(n+y*g)*a.get_scaleV()),b+=m;p=0*f;w=k;h=2*f;n=k;l=d/this._segmentsD;g=e/this._segmentsH;f=0;for(k=this._segmentsD+1;f<
k;)for(r=f++,q=0,t=this._segmentsH+1;q<t;)u=q++,c.set(b++,(p+r*l)*a.get_scaleU()),c.set(b++,(w+(e-u*g))*a.get_scaleV()),b+=m,c.set(b++,(h+(d-r*l))*a.get_scaleU()),c.set(b++,(n+(e-u*g))*a.get_scaleV()),b+=m;a.updateData(c)},__class__:dj,__properties__:z(Bc.prototype.__properties__,{set_segmentsD:"set_segmentsD",get_segmentsD:"get_segmentsD",set_segmentsH:"set_segmentsH",get_segmentsH:"get_segmentsH",set_segmentsW:"set_segmentsW",get_segmentsW:"get_segmentsW",set_tile6:"set_tile6",get_tile6:"get_tile6",
set_depth:"set_depth",get_depth:"get_depth",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"})});var bl=function(a,b,c,d,e,f){null==f&&(f=1);null==e&&(e=3355443);null==d&&(d=3355443);this._index=this._subSetIndex=-1;this._thickness=.5*f;this._start=a;this._end=b;this.set_startColor(d);this.set_endColor(e)};m["away3d.primitives.data.Segment"]=bl;bl.__name__=["away3d","primitives","data","Segment"];bl.prototype={_segmentsBase:null,_thickness:null,_start:null,
_end:null,_startR:null,_startG:null,_startB:null,_endR:null,_endG:null,_endB:null,_index:null,_subSetIndex:null,_startColor:null,_endColor:null,updateSegment:function(a,b,c,d,e,f){null==f&&(f=1);null==e&&(e=3355443);null==d&&(d=3355443);this._start=a;this._end=b;this._startColor!=d&&this.set_startColor(d);this._endColor!=e&&this.set_endColor(e);this._thickness=.5*f;this.update()},get_start:function(){return this._start},set_start:function(a){this._start=a;this.update();return a},get_end:function(){return this._end},
set_end:function(a){this._end=a;this.update();return a},get_thickness:function(){return 2*this._thickness},set_thickness:function(a){this._thickness=.5*a;this.update();return a},get_startColor:function(){return this._startColor},set_startColor:function(a){this._startR=(a>>16&255)/255;this._startG=(a>>8&255)/255;this._startB=(a&255)/255;this._startColor=a;this.update();return a},get_endColor:function(){return this._endColor},set_endColor:function(a){this._endR=(a>>16&255)/255;this._endG=(a>>8&255)/
255;this._endB=(a&255)/255;this._endColor=a;this.update();return a},dispose:function(){this._end=this._start=null},get_index:function(){return this._index},set_index:function(a){return this._index=a},get_subSetIndex:function(){return this._subSetIndex},set_subSetIndex:function(a){return this._subSetIndex=a},set_segmentsBase:function(a){return this._segmentsBase=a},update:function(){null!=this._segmentsBase&&this._segmentsBase.updateSegment(this)},__class__:bl,__properties__:{set_segmentsBase:"set_segmentsBase",
set_subSetIndex:"set_subSetIndex",get_subSetIndex:"get_subSetIndex",set_index:"set_index",get_index:"get_index",set_endColor:"set_endColor",get_endColor:"get_endColor",set_startColor:"set_startColor",get_startColor:"get_startColor",set_thickness:"set_thickness",get_thickness:"get_thickness",set_end:"set_end",get_end:"get_end",set_start:"set_start",get_start:"get_start"}};var Ca=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=3355443);null==c&&(c=3355443);bl.call(this,a,b,null,c,d,e)};m["away3d.primitives.LineSegment"]=
Ca;Ca.__name__=["away3d","primitives","LineSegment"];Ca.__super__=bl;Ca.prototype=z(bl.prototype,{__class__:Ca});var cj=function(a,b,c,d,e,f){null==f&&(f=!1);null==e&&(e=!0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=100);null==a&&(a=100);Bc.call(this);this._segmentsW=c;this._segmentsH=d;this._yUp=e;this._width=a;this._height=b;this._doubleSided=f};m["away3d.primitives.PlaneGeometry"]=cj;cj.__name__=["away3d","primitives","PlaneGeometry"];cj.__super__=Bc;cj.prototype=z(Bc.prototype,{_segmentsW:null,
_segmentsH:null,_yUp:null,_width:null,_height:null,_doubleSided:null,get_segmentsW:function(){return this._segmentsW},set_segmentsW:function(a){this._segmentsW=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsH:function(){return this._segmentsH},set_segmentsH:function(a){this._segmentsH=a;this.invalidateGeometry();this.invalidateUVs();return a},get_yUp:function(){return this._yUp},set_yUp:function(a){this._yUp=a;this.invalidateGeometry();return a},get_doubleSided:function(){return this._doubleSided},
set_doubleSided:function(a){this._doubleSided=a;this.invalidateGeometry();return a},get_width:function(){return this._width},set_width:function(a){this._width=a;this.invalidateGeometry();return a},get_height:function(){return this._height},set_height:function(a){this._height=a;this.invalidateGeometry();return a},buildGeometry:function(a){var b,c,d,e,f,k,p=this._segmentsW+1;b=(this._segmentsH+1)*p;var w=a.get_vertexStride(),h=w-9;this._doubleSided&&(b*=2);f=this._segmentsH*this._segmentsW*6;this._doubleSided&&
(f<<=1);b==a.get_numVertices()?(b=a.get_vertexData(),c=a.get_indexData(),null==c&&(c=x.toIntVector(null,f,!0))):(b=x.toFloatVector(null,b*w,!0),c=x.toIntVector(null,f,!0),this.invalidateUVs());f=0;for(var n=a.get_vertexOffset(),l=0,g=this._segmentsH+1;l<g;)for(var m=l++,r=0,q=this._segmentsW+1;r<q;){k=r++;d=(k/this._segmentsW-.5)*this._width;e=(m/this._segmentsH-.5)*this._height;b.set(n++,d);this._yUp?(b.set(n++,0),b.set(n++,e)):(b.set(n++,e),b.set(n++,0));b.set(n++,0);this._yUp?(b.set(n++,1),b.set(n++,
0)):(b.set(n++,0),b.set(n++,-1));b.set(n++,1);b.set(n++,0);b.set(n++,0);n+=h;if(this._doubleSided){for(d=0;3>d;)d++,b.set(n,b.get(n-w)),++n;for(d=0;3>d;)d++,b.set(n,-b.get(n-w)),++n;for(d=0;3>d;)d++,b.set(n,-b.get(n-w)),++n;n+=h}k!=this._segmentsW&&m!=this._segmentsH&&(k+=m*p,d=this._doubleSided?2:1,c.set(f++,k*d),c.set(f++,(k+p)*d),c.set(f++,(k+p+1)*d),c.set(f++,k*d),c.set(f++,(k+p+1)*d),c.set(f++,(k+1)*d),this._doubleSided&&(c.set(f++,(k+p+1)*d+1),c.set(f++,(k+p)*d+1),c.set(f++,k*d+1),c.set(f++,
(k+1)*d+1),c.set(f++,(k+p+1)*d+1),c.set(f++,k*d+1)))}a.updateData(b);a.updateIndexData(c)},buildUVs:function(a){var b,c=a.get_UVStride();b=(this._segmentsH+1)*(this._segmentsW+1)*c;c-=2;this._doubleSided&&(b*=2);null!=a.get_UVData()&&b==a.get_UVData().get_length()?b=a.get_UVData():(b=x.toFloatVector(null,b,!0),this.invalidateGeometry());for(var d=a.get_UVOffset(),e=0,f=this._segmentsH+1;e<f;)for(var k=e++,p=0,w=this._segmentsW+1;p<w;){var h=p++;b.set(d++,h/this._segmentsW*a.get_scaleU());b.set(d++,
(1-k/this._segmentsH)*a.get_scaleV());d+=c;this._doubleSided&&(b.set(d++,h/this._segmentsW*a.get_scaleU()),b.set(d++,(1-k/this._segmentsH)*a.get_scaleV()),d+=c)}a.updateData(b)},__class__:cj,__properties__:z(Bc.prototype.__properties__,{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_doubleSided:"set_doubleSided",get_doubleSided:"get_doubleSided",set_yUp:"set_yUp",get_yUp:"get_yUp",set_segmentsH:"set_segmentsH",get_segmentsH:"get_segmentsH",set_segmentsW:"set_segmentsW",
get_segmentsW:"get_segmentsW"})});var Kg=function(a){this._uvTransform2=new cb;this._uvTransform=new cb;zc.call(this);this._material=new Yn(a);this._material.addOwner(this);this._geometry=new Uf;this.buildGeometry(this._geometry)};m["away3d.primitives.SkyBox"]=Kg;Kg.__name__=["away3d","primitives","SkyBox"];Kg.__interfaces__=[Vi];Kg.__super__=zc;Kg.prototype=z(zc.prototype,{_geometry:null,_material:null,_uvTransform:null,_uvTransform2:null,_animator:null,get_animator:function(){return this._animator},
getDefaultBoundingVolume:function(){return new Dg},activateVertexBuffer:function(a,b){this._geometry.activateVertexBuffer(a,b)},activateUVBuffer:function(a,b){},activateVertexNormalBuffer:function(a,b){},activateVertexTangentBuffer:function(a,b){},activateSecondaryUVBuffer:function(a,b){},getIndexBuffer:function(a){return this._geometry.getIndexBuffer(a)},get_numTriangles:function(){return this._geometry.get_numTriangles()},get_sourceEntity:function(){return null},get_material:function(){return this._material},
set_material:function(a){throw new H(new bb("Unsupported method!"));},get_assetType:function(){return"skybox"},invalidateBounds:function(){},createEntityPartitionNode:function(){return new Um(this)},updateBounds:function(){this._boundsInvalid=!1},buildGeometry:function(a){for(var b=[-1,1,-1,1,1,-1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1],c=x.toFloatVector(null),d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}c.fixed=!0;b=[0,1,2,2,3,0,6,5,4,4,7,6,2,6,7,7,3,2,4,5,1,1,0,4,4,0,3,3,7,4,2,1,5,5,6,2];
d=x.toIntVector(null);e=0;for(f=b.length;e<f;){var k=e++;d.set(k,b[k])}a.updateVertexData(c);a.updateIndexData(d)},get_castsShadows:function(){return!1},get_uvTransform:function(){return this._uvTransform},get_uvTransform2:function(){return this._uvTransform2},get_vertexData:function(){return this._geometry.get_vertexData()},get_indexData:function(){return this._geometry.get_indexData()},get_UVData:function(){return this._geometry.get_UVData()},get_numVertices:function(){return this._geometry.get_numVertices()},
get_vertexStride:function(){return this._geometry.get_vertexStride()},get_vertexNormalData:function(){return this._geometry.get_vertexNormalData()},get_vertexTangentData:function(){return this._geometry.get_vertexTangentData()},get_vertexOffset:function(){return this._geometry.get_vertexOffset()},get_vertexNormalOffset:function(){return this._geometry.get_vertexNormalOffset()},get_vertexTangentOffset:function(){return this._geometry.get_vertexTangentOffset()},getRenderSceneTransform:function(a){return this._sceneTransform},
__class__:Kg,__properties__:z(zc.prototype.__properties__,{get_vertexTangentOffset:"get_vertexTangentOffset",get_vertexNormalOffset:"get_vertexNormalOffset",get_vertexOffset:"get_vertexOffset",get_vertexTangentData:"get_vertexTangentData",get_vertexNormalData:"get_vertexNormalData",get_vertexStride:"get_vertexStride",get_numVertices:"get_numVertices",get_UVData:"get_UVData",get_indexData:"get_indexData",get_vertexData:"get_vertexData",get_uvTransform2:"get_uvTransform2",get_uvTransform:"get_uvTransform",
get_castsShadows:"get_castsShadows",set_material:"set_material",get_material:"get_material",get_sourceEntity:"get_sourceEntity",get_numTriangles:"get_numTriangles",get_animator:"get_animator"})});var Ok=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=12);null==b&&(b=16);null==a&&(a=50);Bc.call(this);this._radius=a;this._segmentsW=b;this._segmentsH=c;this._yUp=d};m["away3d.primitives.SphereGeometry"]=Ok;Ok.__name__=["away3d","primitives","SphereGeometry"];Ok.__super__=Bc;Ok.prototype=z(Bc.prototype,
{_radius:null,_segmentsW:null,_segmentsH:null,_yUp:null,buildGeometry:function(a){var b,c,d=0;b=(this._segmentsH+1)*(this._segmentsW+1);c=a.get_vertexStride();var e=c-9;b==a.get_numVertices()?(b=a.get_vertexData(),c=a.get_indexData(),null==c&&(c=x.toIntVector(null,(this._segmentsH-1)*this._segmentsW*6))):(b=x.toFloatVector(null,b*c,!0),c=x.toIntVector(null,(this._segmentsH-1)*this._segmentsW*6),this.invalidateGeometry());for(var f,k=a.get_vertexOffset(),p,h,g,n,l=0,m=this._segmentsH+1;l<m;){var r=
l++;f=k;for(var q=Math.PI*r/this._segmentsH,t=-this._radius*Math.cos(q),q=this._radius*Math.sin(q),u=0,v=this._segmentsW+1;u<v;){var y=u++;p=2*Math.PI*y/this._segmentsW;var z=q*Math.cos(p),B=q*Math.sin(p),A=1/Math.sqrt(z*z+B*B+t*t),D=Math.sqrt(B*B+z*z);this._yUp?(g=0,n=.007<D?z/D:0,p=-t,h=B):(g=.007<D?z/D:0,n=0,p=B,h=t);y==this._segmentsW?(b.set(k++,b.get(f)),b.set(k++,b.get(f+1)),b.set(k++,b.get(f+2)),b.set(k++,b.get(f+3)+z*A*.5),b.set(k++,b.get(f+4)+p*A*.5),b.set(k++,b.get(f+5)+h*A*.5)):(b.set(k++,
z),b.set(k++,p),b.set(k++,h),b.set(k++,z*A),b.set(k++,p*A),b.set(k++,h*A));b.set(k++,.007<D?-B/D:1);b.set(k++,g);b.set(k++,n);0<y&&0<r&&(z=(this._segmentsW+1)*r+y,p=(this._segmentsW+1)*r+y-1,h=(this._segmentsW+1)*(r-1)+y-1,y=(this._segmentsW+1)*(r-1)+y,r==this._segmentsH?(b.set(k-9,b.get(f)),b.set(k-8,b.get(f+1)),b.set(k-7,b.get(f+2)),c.set(d++,z),c.set(d++,h),c.set(d++,y)):1==r?(c.set(d++,z),c.set(d++,p),c.set(d++,h)):(c.set(d++,z),c.set(d++,p),c.set(d++,h),c.set(d++,z),c.set(d++,h),c.set(d++,y)));
k+=e}}a.updateData(b);a.updateIndexData(c)},buildUVs:function(a){var b=a.get_UVStride(),c=(this._segmentsH+1)*(this._segmentsW+1)*b,b=b-2;null!=a.get_UVData()&&c==a.get_UVData().get_length()?c=a.get_UVData():(c=x.toFloatVector(null,c,!0),this.invalidateGeometry());for(var d=a.get_UVOffset(),e=0,f=this._segmentsH+1;e<f;)for(var k=e++,p=0,h=this._segmentsW+1;p<h;){var g=p++;c.set(d++,g/this._segmentsW*a.get_scaleU());c.set(d++,k/this._segmentsH*a.get_scaleV());d+=b}a.updateData(c)},get_radius:function(){return this._radius},
set_radius:function(a){this._radius=a;this.invalidateGeometry();return a},get_segmentsW:function(){return this._segmentsW},set_segmentsW:function(a){this._segmentsW=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsH:function(){return this._segmentsH},set_segmentsH:function(a){this._segmentsH=a;this.invalidateGeometry();this.invalidateUVs();return a},get_yUp:function(){return this._yUp},set_yUp:function(a){this._yUp=a;this.invalidateGeometry();return a},__class__:Ok,__properties__:z(Bc.prototype.__properties__,
{set_yUp:"set_yUp",get_yUp:"get_yUp",set_segmentsH:"set_segmentsH",get_segmentsH:"get_segmentsH",set_segmentsW:"set_segmentsW",get_segmentsW:"get_segmentsW",set_radius:"set_radius",get_radius:"get_radius"})});var Qk=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=8);null==c&&(c=16);null==b&&(b=50);null==a&&(a=50);Bc.call(this);this._radius=a;this._tubeRadius=b;this._segmentsR=c;this._segmentsT=d;this._yUp=e};m["away3d.primitives.TorusGeometry"]=Qk;Qk.__name__=["away3d","primitives","TorusGeometry"];
Qk.__super__=Bc;Qk.prototype=z(Bc.prototype,{_radius:null,_tubeRadius:null,_segmentsR:null,_segmentsT:null,_yUp:null,_rawVertexData:null,_rawIndices:null,_nextVertexIndex:null,_currentIndex:null,_currentTriangleIndex:null,_numVertices:null,_vertexStride:null,_vertexOffset:null,addVertex:function(a,b,c,d,e,f,k,p,h){var g=this._vertexOffset+this._nextVertexIndex*this._vertexStride;this._rawVertexData.set(g++,a);this._rawVertexData.set(g++,b);this._rawVertexData.set(g++,c);this._rawVertexData.set(g++,
d);this._rawVertexData.set(g++,e);this._rawVertexData.set(g++,f);this._rawVertexData.set(g++,k);this._rawVertexData.set(g++,p);this._rawVertexData.set(g,h);this._nextVertexIndex++},addTriangleClockWise:function(a,b,c){this._rawIndices.set(this._currentIndex++,a);this._rawIndices.set(this._currentIndex++,b);this._rawIndices.set(this._currentIndex++,c);this._currentTriangleIndex++},buildGeometry:function(a){var b,c,d,e,f,k,p;this._currentTriangleIndex=this._currentIndex=this._nextVertexIndex=this._numVertices=
0;this._vertexStride=a.get_vertexStride();this._vertexOffset=a.get_vertexOffset();this._numVertices=(this._segmentsT+1)*(this._segmentsR+1);p=this._segmentsT*this._segmentsR*2;this._numVertices==a.get_numVertices()?(this._rawVertexData=a.get_vertexData(),this._rawIndices=a.get_indexData(),null==this._rawIndices&&(this._rawIndices=x.toIntVector(null,3*p,!0))):(this._rawVertexData=x.toFloatVector(null,this._numVertices*this._vertexStride,!0),this._rawIndices=x.toIntVector(null,3*p,!0),this.invalidateUVs());
p=2*Math.PI/this._segmentsR;for(var h=2*Math.PI/this._segmentsT,g,n,l,m,r,q,t,u=0,v=this._segmentsT+1;u<v;){var y=u++;r=this._vertexOffset+this._nextVertexIndex*this._vertexStride;for(var z=0,B=this._segmentsR+1;z<B;)t=z++,c=t*p,b=y*h,q=Math.cos(b),e=q*Math.cos(c),f=q*Math.sin(c),k=Math.sin(b),b=this._radius*Math.cos(c)+this._tubeRadius*e,c=this._radius*Math.sin(c)+this._tubeRadius*f,d=y==this._segmentsT?0:this._tubeRadius*k,this._yUp?(l=-k,m=f,g=0,n=0!=q?e/q:b/this._radius,k=-d,d=c):(l=f,m=k,g=0!=
q?e/q:b/this._radius,n=0,k=c),t==this._segmentsR?this.addVertex(b,this._rawVertexData.get(r+1),this._rawVertexData.get(r+2),e,l,m,-(0!=q?f/q:c/this._radius),g,n):this.addVertex(b,k,d,e,l,m,-(0!=q?f/q:c/this._radius),g,n),0<t&&0<y&&(e=this._nextVertexIndex-1,f=this._nextVertexIndex-2,q=f-this._segmentsR-1,t=e-this._segmentsR-1,this.addTriangleClockWise(e,f,q),this.addTriangleClockWise(e,q,t))}a.updateData(this._rawVertexData);a.updateIndexData(this._rawIndices)},buildUVs:function(a){var b;b=a.get_UVStride();
var c=a.get_UVOffset(),d=a.get_UVStride()-2;b*=this._numVertices;null!=a.get_UVData()&&b==a.get_UVData().get_length()?b=a.get_UVData():(b=x.toFloatVector(null,b,!0),this.invalidateGeometry());for(var e=0,f=this._segmentsT+1;e<f;)for(var k=e++,p=0,h=this._segmentsR+1;p<h;){var g=p++;b.set(c++,g/this._segmentsR*a.get_scaleU());b.set(c++,k/this._segmentsT*a.get_scaleV());c+=d}a.updateData(b)},get_radius:function(){return this._radius},set_radius:function(a){this._radius=a;this.invalidateGeometry();return a},
get_tubeRadius:function(){return this._tubeRadius},set_tubeRadius:function(a){this._tubeRadius=a;this.invalidateGeometry();return a},get_segmentsR:function(){return this._segmentsR},set_segmentsR:function(a){this._segmentsR=a;this.invalidateGeometry();this.invalidateUVs();return a},get_segmentsT:function(){return this._segmentsT},set_segmentsT:function(a){this._segmentsT=a;this.invalidateGeometry();this.invalidateUVs();return a},get_yUp:function(){return this._yUp},set_yUp:function(a){this._yUp=a;
this.invalidateGeometry();return a},__class__:Qk,__properties__:z(Bc.prototype.__properties__,{set_yUp:"set_yUp",get_yUp:"get_yUp",set_segmentsT:"set_segmentsT",get_segmentsT:"get_segmentsT",set_segmentsR:"set_segmentsR",get_segmentsR:"get_segmentsR",set_tubeRadius:"set_tubeRadius",get_tubeRadius:"get_tubeRadius",set_radius:"set_radius",get_radius:"get_radius"})});var eg=function(a,b){null==b&&(b=1);null==a&&(a=16777215);this._geomDirty=!0;0>=b&&(b=1);this._color=a;this._thickness=b;this.set_mouseEnabled(this.set_mouseChildren(!1));
Cc.call(this)};m["away3d.primitives.WireframePrimitiveBase"]=eg;eg.__name__=["away3d","primitives","WireframePrimitiveBase"];eg.__super__=Cc;eg.prototype=z(Cc.prototype,{_geomDirty:null,_color:null,_thickness:null,get_color:function(){return this._color},set_color:function(a){this._color=a;for(var b=this._segments.iterator();b.hasNext();){var c=b.next();c.segment.set_startColor(c.segment.set_endColor(a))}return a},get_thickness:function(){return this._thickness},set_thickness:function(a){this._thickness=
a;for(var b=this._segments.iterator();b.hasNext();){var c=b.next();c.segment.set_thickness(c.segment.set_thickness(a))}return a},removeAllSegments:function(){Cc.prototype.removeAllSegments.call(this)},get_bounds:function(){this._geomDirty&&this.updateGeometry();return Cc.prototype.get_bounds.call(this)},buildGeometry:function(){throw new H(new bb);},invalidateGeometry:function(){this._geomDirty=!0;this.invalidateBounds()},updateGeometry:function(){this.buildGeometry();this._geomDirty=!1},updateOrAddSegment:function(a,
b,c){var d,e;a=this.getSegment(a);null!=a?(d=a.get_start(),e=a.get_end(),d.x=b.x,d.y=b.y,d.z=b.z,e.x=c.x,e.y=c.y,e.z=c.z,a.updateSegment(d,e,null,this._color,this._color,this._thickness)):this.addSegment(new Ca(b.clone(),c.clone(),this._color,this._color,this._thickness))},updateMouseChildren:function(){this._ancestorsAllowMouseEnabled=!1},__class__:eg,__properties__:z(Cc.prototype.__properties__,{set_thickness:"set_thickness",get_thickness:"get_thickness",set_color:"set_color",get_color:"get_color"})});
var Km=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=16777215);null==c&&(c=100);null==b&&(b=100);null==a&&(a=100);eg.call(this,d,e);this._width=a;this._height=b;this._depth=c};m["away3d.primitives.WireframeCube"]=Km;Km.__name__=["away3d","primitives","WireframeCube"];Km.__super__=eg;Km.prototype=z(eg.prototype,{_width:null,_height:null,_depth:null,get_width:function(){return this._width},set_width:function(a){this._width=a;this.invalidateGeometry();return a},get_height:function(){return this._height},
set_height:function(a){if(0>=a)throw new H(new sa("Value needs to be greater than 0"));this._height=a;this.invalidateGeometry();return a},get_depth:function(){return this._depth},set_depth:function(a){this._depth=a;this.invalidateGeometry();return a},buildGeometry:function(){var a=new C,b=new C,c=.5*this._width,d=.5*this._height,e=.5*this._depth;a.x=-c;a.y=d;a.z=-e;b.x=-c;b.y=-d;b.z=-e;this.updateOrAddSegment(0,a,b);a.z=e;b.z=e;this.updateOrAddSegment(1,a,b);a.x=c;b.x=c;this.updateOrAddSegment(2,
a,b);a.z=-e;b.z=-e;this.updateOrAddSegment(3,a,b);a.x=-c;a.y=-d;a.z=-e;b.x=c;b.y=-d;b.z=-e;this.updateOrAddSegment(4,a,b);a.y=d;b.y=d;this.updateOrAddSegment(5,a,b);a.z=e;b.z=e;this.updateOrAddSegment(6,a,b);a.y=-d;b.y=-d;this.updateOrAddSegment(7,a,b);a.x=-c;a.y=-d;a.z=-e;b.x=-c;b.y=-d;b.z=e;this.updateOrAddSegment(8,a,b);a.y=d;b.y=d;this.updateOrAddSegment(9,a,b);a.x=c;b.x=c;this.updateOrAddSegment(10,a,b);a.y=-d;b.y=-d;this.updateOrAddSegment(11,a,b)},__class__:Km,__properties__:z(eg.prototype.__properties__,
{set_depth:"set_depth",get_depth:"get_depth",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"})});var Di=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=16777215);null==c&&(c=12);null==b&&(b=16);null==a&&(a=50);eg.call(this,d,e);this._radius=a;this._segmentsW=b;this._segmentsH=c};m["away3d.primitives.WireframeSphere"]=Di;Di.__name__=["away3d","primitives","WireframeSphere"];Di.__super__=eg;Di.prototype=z(eg.prototype,{_segmentsW:null,_segmentsH:null,_radius:null,
buildGeometry:function(){for(var a=x.toFloatVector(null),b=new C,c=new C,d=0,e=0,f,k,p,h,g=0,n=this._segmentsH+1;g<n;){k=g++;f=Math.PI*k/this._segmentsH;k=-this._radius*Math.cos(f);f=this._radius*Math.sin(f);for(var l=0,m=this._segmentsW+1;l<m;)h=l++,p=2*Math.PI*h/this._segmentsW,h=f*Math.cos(p),p=f*Math.sin(p),a.set(d++,h),a.set(d++,-k),a.set(d++,p)}k=1;for(f=this._segmentsH+1;k<f;)for(l=k++,m=1,h=this._segmentsH+1;m<h;)p=m++,d=3*((this._segmentsW+1)*l+p),g=3*((this._segmentsW+1)*l+p-1),n=3*((this._segmentsW+
1)*(l-1)+p-1),p=3*((this._segmentsW+1)*(l-1)+p),l==this._segmentsH?(b.x=a.get(n),b.y=a.get(n+1),b.z=a.get(n+2),c.x=a.get(p),c.y=a.get(p+1),c.z=a.get(p+2),this.updateOrAddSegment(e++,b,c),b.x=a.get(d),b.y=a.get(d+1),b.z=a.get(d+2)):1==l?(c.x=a.get(g),c.y=a.get(g+1),c.z=a.get(g+2),b.x=a.get(n),b.y=a.get(n+1),b.z=a.get(n+2)):(c.x=a.get(g),c.y=a.get(g+1),c.z=a.get(g+2),b.x=a.get(n),b.y=a.get(n+1),b.z=a.get(n+2),this.updateOrAddSegment(e++,b,c),c.x=a.get(p),c.y=a.get(p+1),c.z=a.get(p+2)),this.updateOrAddSegment(e++,
b,c)},__class__:Di});var Rq=function(a,b,c,d,e,f,k,p){this.mCharID=a;this.mXOffset=f;this.mYOffset=k;this.mXAdvance=p;this.mKernings=null;this.mX=b;this.mY=c;this.mWidth=d;this.mHeight=e};m["away3d.textfield.BitmapChar"]=Rq;Rq.__name__=["away3d","textfield","BitmapChar"];Rq.prototype={mCharID:null,mXOffset:null,mYOffset:null,mXAdvance:null,mKernings:null,mX:null,mY:null,mWidth:null,mHeight:null,addKerning:function(a,b){null==this.mKernings&&(this.mKernings=new fc);this.mKernings.h[a]=b},getKerning:function(a){return null==
this.mKernings||null==this.mKernings.h[a]?0:this.mKernings.h[a]},charID:null,get_charID:function(){return this.mCharID},xOffset:null,get_xOffset:function(){return this.mXOffset},yOffset:null,get_yOffset:function(){return this.mYOffset},xAdvance:null,get_xAdvance:function(){return this.mXAdvance},width:null,get_width:function(){return this.mWidth},height:null,get_height:function(){return this.mHeight},x:null,get_x:function(){return this.mX},y:null,get_y:function(){return this.mY},__class__:Rq,__properties__:{get_y:"get_y",
get_x:"get_x",get_height:"get_height",get_width:"get_width",get_xAdvance:"get_xAdvance",get_yOffset:"get_yOffset",get_xOffset:"get_xOffset",get_charID:"get_charID"}};var Jc=function(a,b){null==a&&null==b&&(a=Yd.get_texture(),b=Yd.get_xml());this.mName="unknown";this.mLineHeight=this.mSize=this.mBaseline=14;this.mOffsetX=this.mOffsetY=0;this.mFontMaterial=a;this.mChars=new fc;this.parseFontXml(b)};m["away3d.textfield.BitmapFont"]=Jc;Jc.__name__=["away3d","textfield","BitmapFont"];Jc.prototype={mFontMaterial:null,
mChars:null,mName:null,mSize:null,mLineHeight:null,mBaseline:null,mOffsetX:null,mOffsetY:null,dispose:function(){null!=this.mFontMaterial&&this.mFontMaterial.dispose()},parseFontXml:function(a){for(a=a.elementsNamed("font");a.hasNext();){var b=a.next();if(b.nodeType==ua.Element){for(var c=b.elementsNamed("info");c.hasNext();){var d=c.next();d.nodeType==ua.Element&&(this.mName=d.get("face"),this.mSize=parseFloat(d.get("size"))/1)}for(c=b.elementsNamed("common");c.hasNext();)d=c.next(),d.nodeType==
ua.Element&&(this.mLineHeight=parseFloat(d.get("lineHeight"))/1,this.mBaseline=parseFloat(d.get("base"))/1);for(c=b.elementsNamed("chars");c.hasNext();)if(d=c.next(),d.nodeType==ua.Element)for(d=d.elementsNamed("char");d.hasNext();){var e=d.next();if(e.nodeType==ua.Element){var f=h.parseInt(e.get("id")),k=parseFloat(e.get("xoffset"))/1,p=parseFloat(e.get("yoffset"))/1,w=parseFloat(e.get("xadvance"))/1,g=new ya;g.x=parseFloat(e.get("x"))/1+0;g.y=parseFloat(e.get("y"))/1+0;g.width=parseFloat(e.get("width"))/
1;g.height=parseFloat(e.get("height"))/1;e=new Rq(f,g.x,g.y,g.width,g.height,k,p,w);this.addChar(f,e)}}for(b=b.elementsNamed("kernings");b.hasNext();)if(c=b.next(),c.nodeType==ua.Element)for(c=c.elementsNamed("kerning");c.hasNext();)e=c.next(),e.nodeType==ua.Element&&(d=h.parseInt(e.get("first")),f=h.parseInt(e.get("second")),e=parseFloat(e.get("amount"))/1,this.mChars.h.hasOwnProperty(f)&&this.getChar(f).addKerning(d,e))}}},getChar:function(a){return this.mChars.h[a]},addChar:function(a,b){this.mChars.h[a]=
b},getCharIDs:function(a){null==a&&(a=x.toIntVector(null));for(var b=this.mChars.keys();b.hasNext();){var c=b.next();a.set(a.get_length(),c)}return a},hasChars:function(a){if(null==a)return!0;for(var b,c=0,d=a.length;c<d;)if(b=c++,b=da.cca(a,b),b!=Jc.CHAR_SPACE&&b!=Jc.CHAR_TAB&&b!=Jc.CHAR_NEWLINE&&b!=Jc.CHAR_CARRIAGE_RETURN&&null==this.getChar(b))return!1;return!0},fillBatched:function(a,b,c,d,e,f,k,p,h,g,n){null==n&&(n=0);null==g&&(g=!0);null==h&&(h=!0);null==p&&(p="center");null==k&&(k="center");
null==f&&(f=-1);c=this.arrangeChars(c,d,e,f,k,p,h,g,n);a.set_length(0);b.set_length(0);f=e=d=0;for(k=c.get_length();f<k;){p=f++;b.set(e++,4*p);b.set(e++,4*p+1);b.set(e++,4*p+2);b.set(e++,4*p);b.set(e++,4*p+2);b.set(e++,4*p+3);g=c.get(p);p=g.x;h=g.y;var l=g.scale;n=g["char"];g=n.get_width()*l;var l=n.get_height()*l,m=n.get_x()/this.mFontMaterial.get_texture().get_width(),r=(n.get_x()+n.get_width())/this.mFontMaterial.get_texture().get_width(),q=n.get_y()/this.mFontMaterial.get_texture().get_height();
n=(n.get_y()+n.get_height())/this.mFontMaterial.get_texture().get_height();a.set(d++,p);a.set(d++,0);a.set(d++,h+l);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,m);a.set(d++,n);a.set(d++,0);a.set(d++,0);a.set(d++,p);a.set(d++,0);a.set(d++,h);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,m);a.set(d++,q);a.set(d++,0);a.set(d++,0);a.set(d++,p+g);a.set(d++,0);a.set(d++,h);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,
0);a.set(d++,0);a.set(d++,0);a.set(d++,r);a.set(d++,q);a.set(d++,0);a.set(d++,0);a.set(d++,p+g);a.set(d++,0);a.set(d++,h+l);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,0);a.set(d++,r);a.set(d++,n);a.set(d++,0);a.set(d++,0)}ac.rechargePool()},getMaterialClone:function(){return new Qb(this.mFontMaterial.get_texture(),this.mFontMaterial.get_smooth(),this.mFontMaterial.get_repeat(),this.mFontMaterial.get_mipmap())},arrangeChars:function(a,b,c,d,e,f,k,p,h){null==p&&(p=!0);
null==k&&(k=!0);null==f&&(f="center");null==e&&(e="center");null==d&&(d=-1);null==e&&(e=ff.CENTER);null==f&&(f=gf.CENTER);if(null==c||0==c.length)return ac.vectorFromPool();0>d&&(d*=-this.mSize);for(var g=!1,n,l,m=h=0,r=1,q=0,t=0;!g;){Jc.sLines=x.toObjectVector(null);r=d/this.mSize;h=a/r;m=b/r;if(this.mLineHeight<=m){var u=-1,v=-1,t=q=0,y=ac.vectorFromPool();l=c.length;for(var z=0,B=l;z<B;){var A=z++,D=!1,E=da.cca(c,A),F=this.getChar(E);if(E==Jc.CHAR_NEWLINE||E==Jc.CHAR_CARRIAGE_RETURN)D=!0;else if(null==
F)Aa.trace("[BitmapFont] Missing character: "+E,{fileName:"BitmapFont.hx",lineNumber:389,className:"away3d.textfield.BitmapFont",methodName:"arrangeChars"});else{if(E==Jc.CHAR_SPACE||E==Jc.CHAR_TAB)u=A;p&&(q+=F.getKerning(v));n=ac.instanceFromPool(F);n.x=q+F.get_xOffset();n.y=t+F.get_yOffset();y.set(y.get_length(),n);q+=F.get_xAdvance();v=E;if(n.x+F.get_width()>h){if(k&&-1==u)break;n=-1==u?1:A-u;D=y.get_length()-n;y.splice(D,n);if(0==y.get_length())break;D=!0}}if(A==l-1)Jc.sLines.set(Jc.sLines.get_length(),
y),g=!0;else if(D)if(Jc.sLines.set(Jc.sLines.get_length(),y),u==A&&y.pop(),t+2*this.mLineHeight<=m)y=ac.vectorFromPool(),q=0,t+=this.mLineHeight,v=u=-1;else break}}k&&!g&&3<d?--d:g=!0}a=ac.vectorFromPool();b=Jc.sLines.get_length();l=t+this.mLineHeight;t=0;f==gf.BOTTOM?t=m-l|0:f==gf.CENTER&&(t=(m-l)/2|0);for(f=0;f<b;)if(l=f++,m=Jc.sLines.get(l),l=m.get_length(),0!=l)for(c=0,n=m.get(m.get_length()-1),n=n.x-n["char"].get_xOffset()+n["char"].get_xAdvance(),e==ff.RIGHT?c=h-n|0:e==ff.CENTER&&(c=(h-n)/2|
0),d=0;d<l;)n=d++,n=m.get(n),n.x=r*(n.x+c+this.mOffsetX),n.y=r*(n.y+t+this.mOffsetY),n.scale=r,0<n["char"].get_width()&&0<n["char"].get_height()&&a.set(a.get_length(),n);return a},name:null,get_name:function(){return this.mName},size:null,get_size:function(){return this.mSize},get_lineHeight:function(){return this.mLineHeight},set_lineHeight:function(a){return this.mLineHeight=a},get_baseline:function(){return this.mBaseline},set_baseline:function(a){return this.mBaseline=a},get_offsetX:function(){return this.mOffsetX},
set_offsetX:function(a){return this.mOffsetX=a},get_offsetY:function(){return this.mOffsetY},set_offsetY:function(a){return this.mOffsetY=a},fontMaterial:null,get_fontMaterial:function(){return this.mFontMaterial},__class__:Jc,__properties__:{get_fontMaterial:"get_fontMaterial",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_baseline:"set_baseline",get_baseline:"get_baseline",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",
get_size:"get_size",get_name:"get_name"}};var ac=function(a){this.reset(a)};m["away3d.textfield.CharLocation"]=ac;ac.__name__=["away3d","textfield","CharLocation"];ac.instanceFromPool=function(a){var b=0<ac.sInstancePool.length?ac.sInstancePool.pop():new ac(a);b.reset(a);return ac.sInstanceLoan[ac.sInstanceLoan.length]=b};ac.vectorFromPool=function(){var a=0<ac.sVectorPool.length?ac.sVectorPool.pop():x.toObjectVector(null);a.set_length(0);return ac.sVectorLoan[ac.sVectorLoan.length]=a};ac.rechargePool=
function(){for(var a;0<ac.sInstanceLoan.length;)a=ac.sInstanceLoan.pop(),a["char"]=null,ac.sInstancePool[ac.sInstancePool.length]=a;for(;0<ac.sVectorLoan.length;)a=ac.sVectorLoan.pop(),a.set_length(0),ac.sVectorPool[ac.sVectorPool.length]=a};ac.prototype={"char":null,scale:null,x:null,y:null,reset:function(a){this["char"]=a;return this},getChar:function(){return this["char"]},__class__:ac};var ff=function(){throw new H(new sa);};m["away3d.textfield.HAlign"]=ff;ff.__name__=["away3d","textfield","HAlign"];
ff.isValid=function(a){return a!=ff.LEFT&&a!=ff.CENTER?a==ff.RIGHT:!0};ff.prototype={__class__:ff};var oj=function(){};m["haxe.IMap"]=oj;oj.__name__=["haxe","IMap"];oj.prototype={get:null,set:null,exists:null,remove:null,keys:null,__class__:oj};var qa=function(){this.h={}};m["haxe.ds.StringMap"]=qa;qa.__name__=["haxe","ds","StringMap"];qa.__interfaces__=[oj];qa.prototype={h:null,rh:null,set:function(a,b){null!=t[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=t[a]?this.getReserved(a):
this.h[a]},exists:function(a){return null!=t[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=t[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},
keys:function(){return da.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:qa};var dh=function(){};m["haxe.xml.Parser"]=dh;dh.__name__=["haxe","xml","Parser"];dh.parse=function(a,b){null==b&&(b=!1);var c=ua.createDocument();dh.doParse(a,b,0,c);return c};dh.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,f=1,k=1,p=null,w=0,g=0,n=0,l=a.charCodeAt(c),
m=new $e,r=1,q=-1;l==l;){switch(f){case 0:switch(l){case 9:case 10:case 13:case 32:break;default:f=k;continue}break;case 1:if(60==l)f=0,k=2;else{w=c;f=13;continue}break;case 2:switch(l){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=da.substr(a,c,6).toUpperCase())throw new H(new Nd("Expected <![CDATA[",a,c));c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=da.substr(a,c+2,6).toUpperCase())throw new H(new Nd("Expected <!DOCTYPE",a,c));c+=8;f=16}else{if(45!=a.charCodeAt(c+
1)||45!=a.charCodeAt(c+2))throw new H(new Nd("Expected \x3c!--",a,c));c+=2;f=15}w=c+1;break;case 47:if(null==d)throw new H(new Nd("Expected node name",a,c));w=c+1;f=0;k=10;break;case 63:f=14;w=c;break;default:f=3;w=c;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(c==w)throw new H(new Nd("Expected node name",a,c));e=ua.createElement(da.substr(a,w,c-w));d.addChild(e);++g;f=0;k=4;continue}break;case 4:switch(l){case 47:f=11;break;case 62:f=9;break;
default:f=5;w=c;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(w==c)throw new H(new Nd("Expected attribute name",a,c));p=da.substr(a,w,c-w);if(e.exists(p))throw new H(new Nd("Duplicate attribute ["+p+"]",a,c));f=0;k=6;continue}break;case 6:if(61==l)f=0,k=7;else throw new H(new Nd("Expected =",a,c));break;case 7:switch(l){case 34:case 39:m=new $e;f=8;w=c+1;q=l;break;default:throw new H(new Nd('Expected "',a,c));}break;case 8:switch(l){case 38:r=
c-w;m.b+=null==r?da.substr(a,w,null):da.substr(a,w,r);f=18;r=8;w=c+1;break;case 60:case 62:if(b)throw new H(new Nd("Invalid unescaped "+String.fromCharCode(l)+" in attribute value",a,c));l==q&&(k=c-w,m.b+=null==k?da.substr(a,w,null):da.substr(a,w,k),k=m.b,m=new $e,e.set(p,k),f=0,k=4);break;default:l==q&&(k=c-w,m.b+=null==k?da.substr(a,w,null):da.substr(a,w,k),k=m.b,m=new $e,e.set(p,k),f=0,k=4)}break;case 9:w=c=dh.doParse(a,b,c,e);f=1;break;case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==
l||46==l||95==l||45==l)){if(w==c)throw new H(new Nd("Expected node name",a,c));k=da.substr(a,w,c-w);if(d.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+d.nodeType);if(k!=d.nodeName){if(d.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+d.nodeType);throw new H(new Nd("Expected </"+d.nodeName+">",a,c));}f=0;k=12;continue}break;case 11:if(62==l)f=1;else throw new H(new Nd("Expected >",a,c));break;case 12:if(62==l)return 0==g&&d.addChild(ua.createPCData("")),
c;throw new H(new Nd("Expected >",a,c));case 13:60==l?(k=c-w,m.b+=null==k?da.substr(a,w,null):da.substr(a,w,k),k=ua.createPCData(m.b),m=new $e,d.addChild(k),++g,f=0,k=2):38==l&&(r=c-w,m.b+=null==r?da.substr(a,w,null):da.substr(a,w,r),f=18,r=13,w=c+1);break;case 14:63==l&&62==a.charCodeAt(c+1)&&(++c,l=da.substr(a,w+1,c-w-2),d.addChild(ua.createProcessingInstruction(l)),++g,f=1);break;case 15:45==l&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(ua.createComment(da.substr(a,w,c-w))),++g,
c+=2,f=1);break;case 16:91==l?++n:93==l?--n:62==l&&0==n&&(d.addChild(ua.createDocType(da.substr(a,w,c-w))),++g,f=1);break;case 17:93==l&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(l=ua.createCData(da.substr(a,w,c-w)),d.addChild(l),++g,c+=2,f=1);break;case 18:if(59==l){w=da.substr(a,w,c-w);if(35==w.charCodeAt(0))w=120==w.charCodeAt(1)?h.parseInt("0"+da.substr(w,1,w.length-1)):h.parseInt(da.substr(w,1,w.length-1)),m.b+=String.fromCharCode(w);else if(l=dh.escapes,null!=t[w]?l.existsReserved(w):l.h.hasOwnProperty(w))l=
dh.escapes,w=null!=t[w]?l.getReserved(w):l.h[w],m.b+=h.string(w);else{if(b)throw new H(new Nd("Undefined entity: "+w,a,c));m.b+=h.string("&"+w+";")}w=c+1;f=r}else if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)&&35!=l){if(b)throw new H(new Nd("Invalid character in entity: "+String.fromCharCode(l),a,c));m.b+="&";l=c-w;m.b+=null==l?da.substr(a,w,null):da.substr(a,w,l);w=c--;f=r}}l=a.charCodeAt(++c)}1==f&&(w=c,f=13);if(13==f){if(c!=w||0==g)b=c-w,m.b+=null==b?da.substr(a,w,
null):da.substr(a,w,b),d.addChild(ua.createPCData(m.b));return c}if(!b&&18==f&&13==r)return m.b+="&",b=c-w,m.b+=null==b?da.substr(a,w,null):da.substr(a,w,b),d.addChild(ua.createPCData(m.b)),c;throw new H(new Nd("Unexpected end",a,c));};var Nd=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++,d=b.charCodeAt(d);10==d?(this.lineNumber++,this.positionAtLine=0):13!=d&&this.positionAtLine++}};m["haxe.xml.XmlParserException"]=Nd;Nd.__name__=
["haxe","xml","XmlParserException"];Nd.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return La.getClassName(y.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Nd};var y=function(){};m["js.Boot"]=y;y.__name__=["js","Boot"];y.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};y.__trace=function(a,b){var c=null!=b?b.fileName+":"+b.lineNumber+
": ":"",c=c+y.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,e=b.customParams;d<e.length;){var f=e[d];++d;c+=","+y.__string_rec(f,"")}var k;"undefined"!=typeof document?(k=document.getElementById("haxe:trace"),d=null!=k):d=!1;d?k.innerHTML+=y.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};y.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=y.__nativeClassName(a);return null!=a?y.__resolveNativeClass(a):
null};y.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+y.__string_rec(a[f],b)):c+y.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+y.__string_rec(a[f],b);return d+
"]"}try{d=a.toString}catch(k){return Qa.lastException=k,"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+y.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};y.__interfLoop=
function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||y.__interfLoop(f,b))return!0}return y.__interfLoop(a.__super__,b)};y.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case it:return"boolean"==typeof a;case Nt:return!0;case jt:return"number"==typeof a;case Sq:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=
a)if("function"==typeof b){if(a instanceof b||y.__interfLoop(y.getClass(a),b))return!0}else{if("object"==typeof b&&y.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Xh&&null!=a.__name__||b==Dt&&null!=a.__ename__?!0:a.__enum__==b}};y.__cast=function(a,b){if(y.__instanceof(a,b))return a;throw new H("Cannot cast "+h.string(a)+" to "+h.string(b));};y.__nativeClassName=function(a){a=y.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};y.__isNativeObj=
function(a){return null!=y.__nativeClassName(a)};y.__resolveNativeClass=function(a){return bk[a]};var Yd=function(){};m["away3d.textfield.MiniBitmapFont"]=Yd;Yd.__name__=["away3d","textfield","MiniBitmapFont"];Yd.__properties__={get_xml:"get_xml",get_texture:"get_texture"};Yd.get_texture=function(){var a=Yd.getBitmapData(),b=new Qb(new vb(a));a.dispose();return b};Yd.getBitmapData=function(){for(var a=new Ha(Yd.BITMAP_WIDTH,Yd.BITMAP_HEIGHT,!0,-65536),b=new lc(0),c=0,d=Yd.BITMAP_DATA.length;c<d;){var e=
c++;b.writeUnsignedInt(Yd.BITMAP_DATA[e])}b.uncompress();a.setPixels(new ya(0,0,Yd.BITMAP_WIDTH,Yd.BITMAP_HEIGHT),b);b.clear();return a};Yd.get_xml=function(){return Yd.Xml_DATA};var rh=function(a,b,c,d,e,f,k,p){null==p&&(p="left");null==k&&(k=!1);null==f&&(f=0);null==e&&(e=12);this._boundsRect=new ya;this.disposeMaterial=!0;this.mLetterSpacing=0;this.mText="";this.indexData=x.toIntVector(null);this.vertexData=x.toFloatVector(null);Pb.call(this,new Zb,d.get_fontMaterial());this.mText=c;this.mBitmapFont=
d;this.mWidth=a;this.mHeight=b;this.mFontSize=e;this.mColor=f;this.mHAlign=p;this.mVAlign=gf.TOP;this.mBorder=null;this.mKerning=!0;this.mBold=k;this.mAutoSize=2;this._subGeometry=new Ac;this._subGeometry.set_autoDeriveVertexNormals(!0);this._subGeometry.set_autoDeriveVertexTangents(!0);this.get_geometry().addSubGeometry(this._subGeometry);this.textureMaterial=d.get_fontMaterial();a=this.HexToRGB(f);null==this.textureMaterial.get_colorTransform()&&this.textureMaterial.set_colorTransform(new jc);b=
Q.toFloat(a.get(0))/Q.toFloat(255);this.textureMaterial.get_colorTransform().redMultiplier=b;b=Q.toFloat(a.get(1))/Q.toFloat(255);this.textureMaterial.get_colorTransform().greenMultiplier=b;a=Q.toFloat(a.get(2))/Q.toFloat(255);this.textureMaterial.get_colorTransform().blueMultiplier=a;this.textureMaterial.get_colorTransform().alphaMultiplier=this.textureMaterial.get_alpha();this.set_material(this.textureMaterial);this.get_material().set_alphaPremultiplied(!0);a=y.__instanceof(this.get_material(),
Wa)?this.get_material():null;null!=a&&a.set_alphaBlending(!0);this.updateText()};m["away3d.textfield.TextField"]=rh;rh.__name__=["away3d","textfield","TextField"];rh.__super__=Pb;rh.prototype=z(Pb.prototype,{vertexData:null,indexData:null,mText:null,mBitmapFont:null,mFontSize:null,mColor:null,mHAlign:null,mVAlign:null,mBold:null,mItalic:null,mUnderline:null,mAutoScale:null,mAutoSize:null,mKerning:null,mLetterSpacing:null,mBorder:null,mWidth:null,mHeight:null,disposeMaterial:null,_boundsRect:null,
_textHeight:null,_textWidth:null,_subGeometry:null,colorTransformMethod:null,textureMaterial:null,HexToRGB:function(a){var b=x.toIntVector(null),c=a>>>8&255,d=a&255;b.push(a>>>16&255);b.push(c);b.push(d);return b},dispose:function(){this.disposeMaterial&&this.get_material().dispose();Pb.prototype.dispose.call(this)},updateText:function(){this.mBitmapFont.fillBatched(this.vertexData,this.indexData,this.mWidth,this.mHeight,this.mText,this.mFontSize,this.mHAlign,this.mVAlign,this.mAutoScale,this.mKerning,
this.mLetterSpacing);this._subGeometry.updateData(this.vertexData);this._subGeometry.updateIndexData(this.indexData)},get_bold:function(){return this.mBold},set_bold:function(a){this.mBold!=a&&(this.mBold=a,this.updateText());return a},get_italic:function(){return this.mItalic},set_italic:function(a){this.mItalic!=a&&(this.mItalic=a,this.updateText());return a},get_underline:function(){return this.mUnderline},set_underline:function(a){this.mUnderline!=a&&(this.mUnderline=a,this.updateText());return a},
get_kerning:function(){return this.mKerning},set_kerning:function(a){this.mKerning!=a&&(this.mKerning=a,this.updateText());return a},get_letterSpacing:function(){return this.mLetterSpacing},set_letterSpacing:function(a){this.mLetterSpacing!=a&&(this.mLetterSpacing=a,this.updateText());return a},get_autoScale:function(){return this.mAutoScale},set_autoScale:function(a){this.mAutoScale!=a&&(this.mAutoScale=a,this.updateText());return a},get_autoSize:function(){return this.mAutoSize},set_autoSize:function(a){this.mAutoSize!=
a&&(this.mAutoSize=a,this.updateText());return a},textHeight:null,get_textHeight:function(){return this._textHeight=Math.abs(this.get_bounds().get_min().z-this.get_bounds().get_max().z)},textWidth:null,get_textWidth:function(){return this._textWidth=Math.abs(this.get_bounds().get_min().x-this.get_bounds().get_max().x)},boundsRect:null,get_boundsRect:function(){var a=this.get_bounds().get_min().x,b=this.get_bounds().get_max().x;this.get_bounds().get_min();this.get_bounds().get_max();var c=this.get_bounds().get_min().z,
d=this.get_bounds().get_max().z;this._boundsRect.setTo(a,c,b-a,d-c);return this._boundsRect},get_alpha:function(){return this.textureMaterial.get_colorTransform().alphaMultiplier},set_alpha:function(a){return this.textureMaterial.get_colorTransform().alphaMultiplier=a},__class__:rh,__properties__:z(Pb.prototype.__properties__,{set_alpha:"set_alpha",get_alpha:"get_alpha",get_boundsRect:"get_boundsRect",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",
set_autoScale:"set_autoScale",get_autoScale:"get_autoScale",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing",set_kerning:"set_kerning",get_kerning:"get_kerning",set_underline:"set_underline",get_underline:"get_underline",set_italic:"set_italic",get_italic:"get_italic",set_bold:"set_bold",get_bold:"get_bold"})});var gf=function(){throw new H(new sa);};m["away3d.textfield.VAlign"]=gf;gf.__name__=["away3d","textfield","VAlign"];gf.isValid=function(a){return a!=gf.TOP&&a!=gf.CENTER?
a==gf.BOTTOM:!0};gf.prototype={__class__:gf};var Ed=function(){};m["away3d.textfield.utils.AwayFont"]=Ed;Ed.__name__=["away3d","textfield","utils","AwayFont"];Ed.type=function(a,b,c){null==c&&(c=!0);null==b&&(b=!1);var d=Z.getProperty(a,"FAMILY"),e=Z.getProperty(a,"SIZE"),f=d+"_"+e,k=Ed.registeredBitmapFont,k=null!=t[f]?k.getReserved(f):k.h[f];if(1==b&&null!=k)return k;if(null==k)return f=Z.getProperty(a,"DATA"),f=ma.getText(f),f=ua.parse(f),a=Z.getProperty(a,"TEXTURE"),a=ma.getBitmapData(a),Ed.generate(d,
e,f,a,b,c);b=Ed.registeredTexture;c=new Qb(null!=t[f]?b.getReserved(f):b.h[f],!0,!1,c);c.set_smooth(!0);c.set_alphaBlending(!0);c.set_bothSides(!0);b=Ed.registeredData;return new Jc(c,null!=t[f]?b.getReserved(f):b.h[f])};Ed.gen=function(a,b,c){null==c&&(c=!0);null==b&&(b=!1);return Ed.generate(a.family,a.size,a.data,a.texture,b,c)};Ed.generate=function(a,b,c,d,e,f){null==e&&(e=!1);a=a+"_"+b;if(e)return e=Ed.registeredBitmapFont,e=null!=t[a]?e.getReserved(a):e.h[a],null==e&&(e=new vb(d,f),d=new Qb(e,
!0,!1,f),d.set_smooth(!0),d.set_alphaBlending(!0),d.set_bothSides(!0),e=new Jc(d,c),c=Ed.registeredBitmapFont,null!=t[a]?c.setReserved(a,e):c.h[a]=e),e;f=Ed.registeredTexture;e=null!=t[a]?f.getReserved(a):f.h[a];null==e&&(e=new vb(d),d=Ed.registeredTexture,null!=t[a]?d.setReserved(a,e):d.h[a]=e,d=Ed.registeredData,null!=t[a]?d.setReserved(a,c):d.h[a]=c);d=new Qb(e,!0,!1,!0);d.set_smooth(!0);d.set_alphaBlending(!0);d.set_bothSides(!0);c=Ed.registeredData;return new Jc(d,null!=t[a]?c.getReserved(a):
c.h[a])};Ed.prototype={__class__:Ed};var ho=function(){};m["away3d.textfield.utils.FontSize"]=ho;ho.__name__=["away3d","textfield","utils","FontSize"];ho.prototype={family:null,size:null,data:null,texture:null,FontSize:function(a){null==a&&(a=!0);if(a){a=y.getClass(this);try{this.family=Z.getProperty(a,"FAMILY");this.size=Z.getProperty(a,"SIZE");var b=Z.getProperty(a,"DATA"),c=Z.getProperty(a,"TEXTURE");this.data=y.__cast(La.createInstance(b,null),ua);this.texture=Ha.fromBytes(Na.fromBytes(y.__cast(La.createInstance(c,
[]),ab)))}catch(d){Qa.lastException=d;d instanceof H&&(d=d.val);if(y.__instanceof(d,sa))throw new H(new sa("Class inheriting from FontSize ("+h.string(a)+") should have PUBLIC static members FAMILY, SIZE, DATA and TEXTURE."));throw d;}}},__class__:ho};var cl=function(a){var b=a.readUTFBytes(3);if("ATF"!=b)throw new H(new sa("ATF parsing error, unknown format "+b));a.position=255==a.b[6]?12:6;var b=a.readUnsignedByte(),c=b>>7;switch(b&127){case 0:case 1:this.format=1;break;case 2:case 3:this.format=
3;break;case 4:case 5:this.format=4;break;default:throw new H(new sa("Invalid ATF format"));}switch(c){case 0:this.type=0;break;case 1:this.type=1;break;default:throw new H(new sa("Invalid ATF type"));}this.width=Math.pow(2,a.readUnsignedByte())|0;this.height=Math.pow(2,a.readUnsignedByte())|0;this.numTextures=a.readUnsignedByte();this.data=a};m["away3d.textures.ATFData"]=cl;cl.__name__=["away3d","textures","ATFData"];cl.prototype={type:null,format:null,width:null,height:null,numTextures:null,data:null,
__class__:cl};var ve=function(){this._hasMipmaps=!0;this._format=1;this._textures=x.toObjectVector(null,8);this._dirty=x.toObjectVector(null,8);Ka.call(this)};m["away3d.textures.TextureProxyBase"]=ve;ve.__name__=["away3d","textures","TextureProxyBase"];ve.__interfaces__=[bd];ve.__super__=Ka;ve.prototype=z(Ka.prototype,{_format:null,_hasMipmaps:null,_textures:null,_dirty:null,_width:null,_height:null,get_hasMipMaps:function(){return this._hasMipmaps},get_format:function(){return this._format},get_assetType:function(){return"texture"},
get_width:function(){return this._width},set_width:function(a){return a},get_height:function(){return this._height},set_height:function(a){return a},getTextureForStage3D:function(a){var b=a._stage3DIndex,c=this._textures.get(b);a=a._context3D;if(null==a)return null;if(null==c||this._dirty.get(b)!=a){var d=this._textures,c=this.createTexture(a);d.set(b,c);this._dirty.set(b,a);this.uploadContent(c)}return c},uploadContent:function(a){throw new H(new bb);},setSize:function(a,b){this._width==a&&this._height==
b||this.invalidateSize();this._width=a;this._height=b},invalidateContent:function(){for(var a=0;8>a;){var b=a++;this._dirty.set(b,null)}},invalidateSize:function(){for(var a,b=0;8>b;){var c=b++;a=this._textures.get(c);null!=a&&(a.dispose(),this._textures.set(c,null),this._dirty.set(c,null))}},createTexture:function(a){throw new H(new bb);},dispose:function(){for(var a=0;8>a;){var b=a++;null!=this._textures.get(b)&&this._textures.get(b).dispose()}},__class__:ve,__properties__:z(Ka.prototype.__properties__,
{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",get_assetType:"get_assetType",get_format:"get_format",get_hasMipMaps:"get_hasMipMaps"})});var Sc=function(){ve.call(this)};m["away3d.textures.Texture2DBase"]=Sc;Sc.__name__=["away3d","textures","Texture2DBase"];Sc.__super__=ve;Sc.prototype=z(ve.prototype,{createTexture:function(a){return a.createTexture(this._width,this._height,1,!1)},__class__:Sc});var cn=function(a){ve.call(this);this.set_atfData(new cl(a));
this._format=this.get_atfData().format;this._hasMipmaps=1<this._atfData.numTextures};m["away3d.textures.ATFTexture"]=cn;cn.__name__=["away3d","textures","ATFTexture"];cn.__super__=Sc;cn.prototype=z(Sc.prototype,{_atfData:null,get_atfData:function(){return this._atfData},set_atfData:function(a){this._atfData=a;this.invalidateContent();this.setSize(a.width,a.height);return a},uploadContent:function(a){y.__cast(a,Ff).uploadCompressedTextureFromByteArray(this._atfData.data,0,!1)},createTexture:function(a){return a.createTexture(this._width,
this._height,this.get_atfData().format,!1)},__class__:cn,__properties__:z(Sc.prototype.__properties__,{set_atfData:"set_atfData",get_atfData:"get_atfData"})});var ji={};m["away3d.textures._Anisotropy.Anisotropy_Impl_"]=ji;ji.__name__=["away3d","textures","_Anisotropy","Anisotropy_Impl_"];ji.fromString=function(a){switch(a){case "anisotropic16x":return 4;case "anisotropic2x":return 1;case "anisotropic4x":return 2;case "anisotropic8x":return 3;case "none":return 0;default:return null}};ji.toString=
function(a){switch(a){case 0:return"bool";case 1:return"anisotropic2x";case 2:return"anisotropic4x";case 3:return"anisotropic8x";case 4:return"anisotropic16x";default:return null}};var Mg=function(){ve.call(this)};m["away3d.textures.CubeTextureBase"]=Mg;Mg.__name__=["away3d","textures","CubeTextureBase"];Mg.__super__=ve;Mg.prototype=z(ve.prototype,{get_size:function(){return this._width},createTexture:function(a){return a.createCubeTexture(this.get_width(),1,!1)},__class__:Mg,__properties__:z(ve.prototype.__properties__,
{get_size:"get_size"})});var df=function(a,b,c,d,e,f){ve.call(this);this._bitmapDatas=x.toObjectVector(null,6,!0);this.testSize(this._bitmapDatas.set(0,a));this.testSize(this._bitmapDatas.set(1,b));this.testSize(this._bitmapDatas.set(2,c));this.testSize(this._bitmapDatas.set(3,d));this.testSize(this._bitmapDatas.set(4,e));this.testSize(this._bitmapDatas.set(5,f));this.setSize(a.width,a.height)};m["away3d.textures.BitmapCubeTexture"]=df;df.__name__=["away3d","textures","BitmapCubeTexture"];df.__super__=
Mg;df.prototype=z(Mg.prototype,{_bitmapDatas:null,get_positiveX:function(){return this._bitmapDatas.get(0)},set_positiveX:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(0,a);return a},get_negativeX:function(){return this._bitmapDatas.get(1)},set_negativeX:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(1,a);return a},get_positiveY:function(){return this._bitmapDatas.get(2)},set_positiveY:function(a){this.testSize(a);
this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(2,a);return a},get_negativeY:function(){return this._bitmapDatas.get(3)},set_negativeY:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(3,a);return a},get_positiveZ:function(){return this._bitmapDatas.get(4)},set_positiveZ:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(4,a);return a},get_negativeZ:function(){return this._bitmapDatas.get(5)},
set_negativeZ:function(a){this.testSize(a);this.invalidateContent();this.setSize(a.width,a.height);this._bitmapDatas.set(5,a);return a},testSize:function(a){if(a.width!=a.height)throw new H(new sa("BitmapData should have equal width and height!"));if(!Ld.isBitmapDataValid(a))throw new H(new sa("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048"));},uploadContent:function(a){for(var b=0;6>b;){var c=b++;ue.generateMipMaps(this._bitmapDatas.get(c),a,null,this._bitmapDatas.get(c).transparent,
c)}},__class__:df,__properties__:z(Mg.prototype.__properties__,{set_negativeZ:"set_negativeZ",get_negativeZ:"get_negativeZ",set_positiveZ:"set_positiveZ",get_positiveZ:"get_positiveZ",set_negativeY:"set_negativeY",get_negativeY:"get_negativeY",set_positiveY:"set_positiveY",get_positiveY:"get_positiveY",set_negativeX:"set_negativeX",get_negativeX:"get_negativeX",set_positiveX:"set_positiveX",get_positiveX:"get_positiveX"})});var vb=function(a,b){null==b&&(b=!0);ve.call(this);this.set_bitmapData(a);
this._generateMipmaps=this._hasMipmaps=b};m["away3d.textures.BitmapTexture"]=vb;vb.__name__=["away3d","textures","BitmapTexture"];vb.__super__=Sc;vb.prototype=z(Sc.prototype,{_bitmapData:null,_mipMapHolder:null,_generateMipmaps:null,get_bitmapData:function(){return this._bitmapData},set_bitmapData:function(a){if(a==this._bitmapData)return null;if(!Ld.isBitmapDataValid(a))throw new H(new sa("Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048"));this.invalidateContent();
this.setSize(a.width,a.height);this._bitmapData=a;this._generateMipmaps&&this.getMipMapHolder();return a},uploadContent:function(a){this._generateMipmaps?ue.generateMipMaps(this._bitmapData,a,this._mipMapHolder,!0):y.__cast(a,Ff).uploadFromBitmapData(this._bitmapData,0)},getMipMapHolder:function(){var a,b;a=this._bitmapData.width;b=this._bitmapData.height;if(null!=this._mipMapHolder){if(this._mipMapHolder.width==a&&this._bitmapData.height==b)return;this.freeMipMapHolder()}null==vb._mipMaps[a]&&(vb._mipMaps[a]=
[],vb._mipMapUses[a]=[]);null==vb._mipMaps[a][b]?(this._mipMapHolder=vb._mipMaps[a][b]=new Ha(a,b,!0),vb._mipMapUses[a][b]=1):(vb._mipMapUses[a][b]+=1,this._mipMapHolder=vb._mipMaps[a][b])},freeMipMapHolder:function(){var a=this._mipMapHolder.width,b=this._mipMapHolder.height;0==--vb._mipMapUses[a][b]&&(vb._mipMaps[a][b].dispose(),vb._mipMaps[a][b]=null)},dispose:function(){Sc.prototype.dispose.call(this);null!=this._mipMapHolder&&this.freeMipMapHolder()},__class__:vb,__properties__:z(Sc.prototype.__properties__,
{set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"})});var bn=function(a){ve.call(this);this.setSize(a,a)};m["away3d.textures.RenderCubeTexture"]=bn;bn.__name__=["away3d","textures","RenderCubeTexture"];bn.__super__=Mg;bn.prototype=z(Mg.prototype,{set_size:function(a){if(a==this._width)return a;if(!Ld.isDimensionValid(a))throw new H(new sa("Invalid size: Width and height must be power of 2 and cannot exceed 2048"));this.invalidateContent();this.setSize(a,a);return a},uploadContent:function(a){for(var b=
new Ha(this._width,this._height,!1,0),c=0;6>c;){var d=c++;ue.generateMipMaps(b,a,null,!1,d)}b.dispose()},createTexture:function(a){return a.createCubeTexture(this._width,1,!0)},__class__:bn});var an=function(a,b){ve.call(this);this.setSize(a,b)};m["away3d.textures.RenderTexture"]=an;an.__name__=["away3d","textures","RenderTexture"];an.__super__=Sc;an.prototype=z(Sc.prototype,{set_width:function(a){if(a==this._width)return a;if(!Ld.isDimensionValid(a))throw new H(new sa("Invalid size: Width and height must be power of 2 and cannot exceed 2048"));
this.invalidateContent();this.setSize(a,this._height);return a},set_height:function(a){if(a==this._height)return a;if(!Ld.isDimensionValid(a))throw new H(new sa("Invalid size: Width and height must be power of 2 and cannot exceed 2048"));this.invalidateContent();this.setSize(this._width,a);return a},uploadContent:function(a){},createTexture:function(a){return a.createTexture(this.get_width(),this.get_height(),1,!0)},__class__:an});var Tq=function(a,b,c,d,e,f){null==e&&(e=!1);null==d&&(d=!0);null==
c&&(c=256);null==b&&(b=256);this._broadcaster=new Fb;this._materialWidth=b;this._materialHeight=c;this._clippingRect=new ya(0,0,this._materialWidth,this._materialHeight);this._player=f;null==this._player&&(this._player=new go);this._player.set_loop(d);this._player.set_source(a);this._player.set_width(this._materialWidth);this._player.set_height(this._materialHeight);this._autoPlay=e;vb.call(this,new Ha(this._materialWidth,this._materialHeight,!0,0));e&&this._player.play();this.set_autoUpdate(!0)};
m["away3d.textures.VideoTexture"]=Tq;Tq.__name__=["away3d","textures","VideoTexture"];Tq.__super__=vb;Tq.prototype=z(vb.prototype,{_broadcaster:null,_autoPlay:null,_autoUpdate:null,_materialWidth:null,_materialHeight:null,_player:null,_clippingRect:null,update:function(){this._player.get_playing()&&!this._player.get_paused()&&(this.get_bitmapData().lock(),this.get_bitmapData().fillRect(this._clippingRect,0),this.get_bitmapData().draw(this._player.get_container(),null,null,null,this._clippingRect),
this.get_bitmapData().unlock(),this.invalidateContent())},dispose:function(){vb.prototype.dispose.call(this);this.set_autoUpdate(!1);this.get_bitmapData().dispose();this._player.dispose();this._clippingRect=this._broadcaster=this._player=null},autoUpdateHandler:function(a){this.update()},set_autoPlay:function(a){return this._autoPlay=a},get_autoPlay:function(){return this._autoPlay},get_materialWidth:function(){return this._materialWidth},set_materialWidth:function(a){this._materialWidth=this.validateMaterialSize(a);
this._player.set_width(this._materialWidth);this._clippingRect.width=this._materialWidth;return a},get_materialHeight:function(){return this._materialHeight},set_materialHeight:function(a){this._materialHeight=this.validateMaterialSize(a);this._player.set_width(this._materialHeight);this._clippingRect.width=this._materialHeight;return a},validateMaterialSize:function(a){if(!Ld.isDimensionValid(a)){var b=a;a=Ld.getBestPowerOf2(a);Aa.trace("Warning: "+b+" is not a valid material size. Updating to the closest supported resolution: "+
a,{fileName:"VideoTexture.hx",lineNumber:142,className:"away3d.textures.VideoTexture",methodName:"validateMaterialSize"})}return a},get_autoUpdate:function(){return this._autoUpdate},set_autoUpdate:function(a){if(a==this._autoUpdate)return a;(this._autoUpdate=a)?this._broadcaster.addEventListener("enterFrame",u(this,this.autoUpdateHandler),!1,0,!0):this._broadcaster.removeEventListener("enterFrame",u(this,this.autoUpdateHandler));return a},get_player:function(){return this._player},__class__:Tq,__properties__:z(vb.prototype.__properties__,
{get_player:"get_player",set_autoUpdate:"set_autoUpdate",get_autoUpdate:"get_autoUpdate",set_materialHeight:"set_materialHeight",get_materialHeight:"get_materialHeight",set_materialWidth:"set_materialWidth",get_materialWidth:"get_materialWidth",set_autoPlay:"set_autoPlay",get_autoPlay:"get_autoPlay"})});var Uq=function(){};m["away3d.tools.helpers.ParticleGeometryHelper"]=Uq;Uq.__name__=["away3d","tools","helpers","ParticleGeometryHelper"];Uq.generateGeometry=function(a,b){for(var c=x.toObjectVector(null),
d=x.toObjectVector(null),e=x.toIntVector(null),f=x.toObjectVector(null),k=x.toObjectVector(null),p=a.get_length(),h,g,n,l,m,r,q,t,u=x.toIntVector(null),v=new C,z=new C,B=new C,A=new Pa,D=0,E=p;D<E;){var F=D++;h=a.get(F).get_subGeometries();n=h.get_length();for(var I=0;I<n;){m=I++;u.get_length()<=m&&(u.push(k.get_length()),c.push(x.toFloatVector(null)),d.push(x.toIntVector(null)),k.push(new Ac),e.push(0));g=h.get(m);65535<(Q.toFloat(g.get_numVertices()+e.get(u.get(m)))|0)&&(u.set(m,k.get_length()),
c.push(x.toFloatVector(null)),d.push(x.toIntVector(null)),k.push(new Ac),e.push(0));t=u.get(m);l=c.get(t);m=d.get(t);r=e.get(t);q=k.get(t);var H=new dq;H.numVertices=g.get_numVertices();H.startVertexIndex=r;H.particleIndex=F;H.subGeometry=q;f.push(H);q=t;t=e;t.set(q,t.get(q)+g.get_numVertices());t=y.__instanceof(g,Ac)?g:null;if(null!=t)if(q=t.get_numVertices(),t.get_numTriangles(),t=t.get_vertexData(),null!=b)for(var G=b.get(F),H=G.get_vertexTransform(),J=G.get_invVertexTransform(),G=G.get_UVTransform(),
K=0,M=q;K<M;)q=13*K++,v.x=t.get(q),v.y=t.get(q+1),v.z=t.get(q+2),z.x=t.get(q+3),z.y=t.get(q+4),z.z=t.get(q+5),B.x=t.get(q+6),B.y=t.get(q+7),B.z=t.get(q+8),A.x=t.get(q+9),A.y=t.get(q+10),null!=H&&(v=H.transformVector(v),z=J.deltaTransformVector(z),B=J.deltaTransformVector(z)),null!=G&&(A=G.transformPoint(A)),l.push(v.x),l.push(v.y),l.push(v.z),l.push(z.x),l.push(z.y),l.push(z.z),l.push(B.x),l.push(B.y),l.push(B.z),l.push(A.x),l.push(A.y),l.push(t.get(q+11)),l.push(t.get(q+12));else for(H=0,J=q;H<J;)q=
13*H++,l.push(t.get(q)),l.push(t.get(q+1)),l.push(t.get(q+2)),l.push(t.get(q+3)),l.push(t.get(q+4)),l.push(t.get(q+5)),l.push(t.get(q+6)),l.push(t.get(q+7)),l.push(t.get(q+8)),l.push(t.get(q+9)),l.push(t.get(q+10)),l.push(t.get(q+11)),l.push(t.get(q+12));l=g.get_indexData();q=g.get_numTriangles();g=0;for(t=q;g<t;)q=3*g++,m.push(l.get(q)+r),m.push(l.get(q+1)+r),m.push(l.get(q+2)+r)}}e=new jk;e.particles=f;e.numParticles=p;p=k.get_length();for(f=0;f<p;)h=f++,q=k.get(h),q.updateData(c.get(h)),q.updateIndexData(d.get(h)),
e.addSubGeometry(q);return e};var us=function(){};m["away3d.tools.helpers.data.ParticleGeometryTransform"]=us;us.__name__=["away3d","tools","helpers","data","ParticleGeometryTransform"];us.prototype={_defaultVertexTransform:null,_defaultInvVertexTransform:null,_defaultUVTransform:null,set_vertexTransform:function(a){this._defaultVertexTransform=a;this._defaultInvVertexTransform=a.clone();this._defaultInvVertexTransform.invert();this._defaultInvVertexTransform.transpose();return a},set_UVTransform:function(a){return this._defaultUVTransform=
a},get_UVTransform:function(){return this._defaultUVTransform},get_vertexTransform:function(){return this._defaultVertexTransform},get_invVertexTransform:function(){return this._defaultInvVertexTransform},__class__:us,__properties__:{get_invVertexTransform:"get_invVertexTransform",set_UVTransform:"set_UVTransform",get_UVTransform:"get_UVTransform",set_vertexTransform:"set_vertexTransform",get_vertexTransform:"get_vertexTransform"}};var Te=function(){};m["away3d.tools.utils.GeomUtil"]=Te;Te.__name__=
["away3d","tools","utils","GeomUtil"];Te.fromVectors=function(a,b,c,d,e,f,k,p){null==p&&(p=0);var h=x.toObjectVector(null);null!=c&&0==c.get_length()&&(c=null);null!=d&&0==d.get_length()&&(d=null);null!=e&&0==e.get_length()&&(e=null);null!=f&&0==f.get_length()&&(f=null);null!=k&&0==k.get_length()&&(k=null);if(983025<=b.get_length()||196605<=a.get_length()){for(var g=0,n,l,m=x.toFloatVector(null),q=x.toIntVector(null),r=null!=c?x.toFloatVector(null):null,t=null!=d?x.toFloatVector(null):null,u=null!=
e?x.toFloatVector(null):null,v=null!=f?x.toFloatVector(null):null,y=null!=k?x.toFloatVector(null):null,z=x.toIntVector(null,a.get_length()/3|0,!0),g=z.get_length();0<g--;)z.set(g,-1);var B,A,D,E,F,I,H,G,J,C,K,M;l=0;n=b.get_length();for(g=0;g<n;){A=m.get_length()+6;if(983025<=l+2||196605<=A){h.push(Te.constructSubGeometry(m,q,r,t,u,v,y,p));m=x.toFloatVector(null);q=x.toIntVector(null);r=null!=c?x.toFloatVector(null):null;t=null!=d?x.toFloatVector(null):null;u=null!=e?x.toFloatVector(null):null;v=null!=
f?x.toFloatVector(null):null;y=null!=k?x.toFloatVector(null):null;for(l=z.get_length();0<l--;)z.set(l,-1);l=0}for(var O=0;3>O;){var N=O++;B=b.get(g+N);0<=z.get(B)?A=z.get(B):(D=3*B,E=3*B+1,F=3*B+2,A=m.get_length()/3|0,I=3*A,H=3*A+1,G=3*A+2,m.set(I,a.get(D)),m.set(H,a.get(E)),m.set(G,a.get(F)),null!=c&&(J=2*A,K=2*A+1,C=2*B,M=2*B+1,r.set(J,c.get(C)),r.set(K,c.get(M))),null!=d&&(t.set(I,d.get(D)),t.set(H,d.get(E)),t.set(G,d.get(F))),null!=e&&(u.set(I,e.get(D)),u.set(H,e.get(E)),u.set(G,e.get(F))),null!=
f&&(v.set(I,f.get(D)),v.set(H,f.get(E)),v.set(G,f.get(F))),null!=k&&(y.set(I,k.get(D)),y.set(H,k.get(E)),y.set(G,k.get(F))),z.set(B,A));q.set(l+N,A)}l+=3;g+=3}0<m.get_length()&&h.push(Te.constructSubGeometry(m,q,r,t,u,v,y,p))}else h.push(Te.constructSubGeometry(a,b,c,d,e,f,k,p));return h};Te.constructSubGeometry=function(a,b,c,d,e,f,k,p){null!=f&&null!=k?(p=new yf(f.get_length()/(a.get_length()/3)|0),y.__cast(p,yf).updateJointWeightsData(f),y.__cast(p,yf).updateJointIndexData(k)):p=new Ac;p.updateIndexData(b);
p.fromVectors(a,c,d,e);return p};Te.interleaveBuffers=function(a,b,c,d,e,f){for(var k,p,h,g=x.toFloatVector(null),n=0;n<a;)h=n++,p=2*h,k=3*h,h*=13,g.set(h,null!=b?b.get(k):0),g.set(h+1,null!=b?b.get(k+1):0),g.set(h+2,null!=b?b.get(k+2):0),g.set(h+3,null!=c?c.get(k):0),g.set(h+4,null!=c?c.get(k+1):0),g.set(h+5,null!=c?c.get(k+2):0),g.set(h+6,null!=d?d.get(k):0),g.set(h+7,null!=d?d.get(k+1):0),g.set(h+8,null!=d?d.get(k+2):0),g.set(h+9,null!=e?e.get(p):0),g.set(h+10,null!=e?e.get(p+1):0),g.set(h+11,
null!=f?f.get(p):0),g.set(h+12,null!=f?f.get(p+1):0);return g};Te.getMeshSubgeometryIndex=function(a){for(var b=0,c=a.get_parentGeometry().get_subGeometries(),d=0,e=c.get_length();d<e;){var f=d++;if(c.get(f)==a){b=f;break}}return b};Te.getMeshSubMeshIndex=function(a){for(var b=0,c=a.get_parentMesh().get_subMeshes(),d=0,e=c.get_length();d<e;){var f=d++;if(c.get(f)==a){b=f;break}}return b};var Ld=function(){};m["away3d.tools.utils.TextureUtils"]=Ld;Ld.__name__=["away3d","tools","utils","TextureUtils"];
Ld.isBitmapDataValid=function(a){return null==a?!0:Ld.isDimensionValid(a.width)?Ld.isDimensionValid(a.height):!1};Ld.isDimensionValid=function(a){return 1<=a&&4096>=a?Ld.isPowerOfTwo(a):!1};Ld.isPowerOfTwo=function(a){return 0<a?(a&-a)==a:!1};Ld.getBestPowerOf2=function(a){for(var b=1;b<a;)b<<=1;4096<b&&(b=4096);return b};var ea=function(){};m["away3d.utils.Cast"]=ea;ea.__name__=["away3d","utils","Cast"];ea.string=function(a){y.__instanceof(a,Xh)&&(a=La.createInstance(a,[]));return"string"==typeof a?
a:h.string(a)};ea.byteArray=function(a){y.__instanceof(a,Xh)&&(a=La.createInstance(a,[]));return y.__instanceof(a,lc)?a:y.__instanceof(a,ab)?y.__cast(a,lc):null};ea.isHex=function(a){for(var b=0,c=a.length;b<c;){var d=b++;if(-1==ea._hexChars.indexOf(a.charAt(d)))return!1}return!0};ea.tryColor=function(a){if("number"==typeof a&&(a|0)===a)return a;if("string"==typeof a){if("random"==a)return 16777216*Math.random()|0;if(null==ea._colorNames){ea._colorNames=new qa;var b=ea._colorNames;null!=t.steelblue?
b.setReserved("steelblue",4620980):b.h.steelblue=4620980;var c=ea._colorNames;null!=t.royalblue?c.setReserved("royalblue",267920):c.h.royalblue=267920;var d=ea._colorNames;null!=t.cornflowerblue?d.setReserved("cornflowerblue",6591981):d.h.cornflowerblue=6591981;var e=ea._colorNames;null!=t.lightsteelblue?e.setReserved("lightsteelblue",11584734):e.h.lightsteelblue=11584734;var f=ea._colorNames;null!=t.mediumslateblue?f.setReserved("mediumslateblue",8087790):f.h.mediumslateblue=8087790;var k=ea._colorNames;
null!=t.slateblue?k.setReserved("slateblue",6970061):k.h.slateblue=6970061;var p=ea._colorNames;null!=t.darkslateblue?p.setReserved("darkslateblue",4734347):p.h.darkslateblue=4734347;var w=ea._colorNames;null!=t.midnightblue?w.setReserved("midnightblue",1644912):w.h.midnightblue=1644912;var g=ea._colorNames;null!=t.navy?g.setReserved("navy",128):g.h.navy=128;var n=ea._colorNames;null!=t.darkblue?n.setReserved("darkblue",139):n.h.darkblue=139;var l=ea._colorNames;null!=t.mediumblue?l.setReserved("mediumblue",
205):l.h.mediumblue=205;var m=ea._colorNames;null!=t.blue?m.setReserved("blue",255):m.h.blue=255;var q=ea._colorNames;null!=t.dodgerblue?q.setReserved("dodgerblue",2003199):q.h.dodgerblue=2003199;var r=ea._colorNames;null!=t.deepskyblue?r.setReserved("deepskyblue",49151):r.h.deepskyblue=49151;var u=ea._colorNames;null!=t.lightskyblue?u.setReserved("lightskyblue",8900346):u.h.lightskyblue=8900346;var v=ea._colorNames;null!=t.skyblue?v.setReserved("skyblue",8900331):v.h.skyblue=8900331;var y=ea._colorNames;
null!=t.lightblue?y.setReserved("lightblue",11393254):y.h.lightblue=11393254;var x=ea._colorNames;null!=t.powderblue?x.setReserved("powderblue",11591910):x.h.powderblue=11591910;var z=ea._colorNames;null!=t.azure?z.setReserved("azure",15794175):z.h.azure=15794175;var B=ea._colorNames;null!=t.lightcyan?B.setReserved("lightcyan",14745599):B.h.lightcyan=14745599;var A=ea._colorNames;null!=t.paleturquoise?A.setReserved("paleturquoise",11529966):A.h.paleturquoise=11529966;var D=ea._colorNames;null!=t.mediumturquoise?
D.setReserved("mediumturquoise",4772300):D.h.mediumturquoise=4772300;var E=ea._colorNames;null!=t.lightseagreen?E.setReserved("lightseagreen",2142890):E.h.lightseagreen=2142890;var F=ea._colorNames;null!=t.darkcyan?F.setReserved("darkcyan",35723):F.h.darkcyan=35723;var I=ea._colorNames;null!=t.teal?I.setReserved("teal",32896):I.h.teal=32896;var H=ea._colorNames;null!=t.cadetblue?H.setReserved("cadetblue",6266528):H.h.cadetblue=6266528;var G=ea._colorNames;null!=t.darkturquoise?G.setReserved("darkturquoise",
52945):G.h.darkturquoise=52945;var J=ea._colorNames;null!=t.aqua?J.setReserved("aqua",65535):J.h.aqua=65535;var C=ea._colorNames;null!=t.cyan?C.setReserved("cyan",65535):C.h.cyan=65535;var K=ea._colorNames;null!=t.turquoise?K.setReserved("turquoise",4251856):K.h.turquoise=4251856;var M=ea._colorNames;null!=t.aquamarine?M.setReserved("aquamarine",8388564):M.h.aquamarine=8388564;var O=ea._colorNames;null!=t.mediumaquamarine?O.setReserved("mediumaquamarine",6737322):O.h.mediumaquamarine=6737322;var N=
ea._colorNames;null!=t.darkseagreen?N.setReserved("darkseagreen",9419919):N.h.darkseagreen=9419919;var Q=ea._colorNames;null!=t.mediumseagreen?Q.setReserved("mediumseagreen",3978097):Q.h.mediumseagreen=3978097;var P=ea._colorNames;null!=t.seagreen?P.setReserved("seagreen",3050327):P.h.seagreen=3050327;var R=ea._colorNames;null!=t.darkgreen?R.setReserved("darkgreen",25600):R.h.darkgreen=25600;var L=ea._colorNames;null!=t.green?L.setReserved("green",32768):L.h.green=32768;var S=ea._colorNames;null!=
t.forestgreen?S.setReserved("forestgreen",2263842):S.h.forestgreen=2263842;var V=ea._colorNames;null!=t.limegreen?V.setReserved("limegreen",3329330):V.h.limegreen=3329330;var U=ea._colorNames;null!=t.lime?U.setReserved("lime",65280):U.h.lime=65280;var T=ea._colorNames;null!=t.chartreuse?T.setReserved("chartreuse",8388352):T.h.chartreuse=8388352;var W=ea._colorNames;null!=t.lawngreen?W.setReserved("lawngreen",8190976):W.h.lawngreen=8190976;var X=ea._colorNames;null!=t.greenyellow?X.setReserved("greenyellow",
11403055):X.h.greenyellow=11403055;var Y=ea._colorNames;null!=t.yellowgreen?Y.setReserved("yellowgreen",10145074):Y.h.yellowgreen=10145074;var aa=ea._colorNames;null!=t.palegreen?aa.setReserved("palegreen",10025880):aa.h.palegreen=10025880;var Z=ea._colorNames;null!=t.lightgreen?Z.setReserved("lightgreen",9498256):Z.h.lightgreen=9498256;var ca=ea._colorNames;null!=t.springgreen?ca.setReserved("springgreen",65407):ca.h.springgreen=65407;var ba=ea._colorNames;null!=t.mediumspringgreen?ba.setReserved("mediumspringgreen",
64154):ba.h.mediumspringgreen=64154;var da=ea._colorNames;null!=t.darkolivegreen?da.setReserved("darkolivegreen",5597999):da.h.darkolivegreen=5597999;var fa=ea._colorNames;null!=t.olivedrab?fa.setReserved("olivedrab",7048739):fa.h.olivedrab=7048739;var ga=ea._colorNames;null!=t.olive?ga.setReserved("olive",8421376):ga.h.olive=8421376;var ka=ea._colorNames;null!=t.darkkhaki?ka.setReserved("darkkhaki",12433259):ka.h.darkkhaki=12433259;var la=ea._colorNames;null!=t.darkgoldenrod?la.setReserved("darkgoldenrod",
12092939):la.h.darkgoldenrod=12092939;var ha=ea._colorNames;null!=t.goldenrod?ha.setReserved("goldenrod",14329120):ha.h.goldenrod=14329120;var ia=ea._colorNames;null!=t.gold?ia.setReserved("gold",16766720):ia.h.gold=16766720;var ma=ea._colorNames;null!=t.yellow?ma.setReserved("yellow",16776960):ma.h.yellow=16776960;var ja=ea._colorNames;null!=t.khaki?ja.setReserved("khaki",15787660):ja.h.khaki=15787660;var na=ea._colorNames;null!=t.palegoldenrod?na.setReserved("palegoldenrod",15657130):na.h.palegoldenrod=
15657130;var oa=ea._colorNames;null!=t.blanchedalmond?oa.setReserved("blanchedalmond",16772045):oa.h.blanchedalmond=16772045;var pa=ea._colorNames;null!=t.moccasin?pa.setReserved("moccasin",16770229):pa.h.moccasin=16770229;var sa=ea._colorNames;null!=t.wheat?sa.setReserved("wheat",16113331):sa.h.wheat=16113331;var ra=ea._colorNames;null!=t.navajowhite?ra.setReserved("navajowhite",16768685):ra.h.navajowhite=16768685;var ta=ea._colorNames;null!=t.burlywood?ta.setReserved("burlywood",14596231):ta.h.burlywood=
14596231;var ua=ea._colorNames;null!=t.tan?ua.setReserved("tan",13808780):ua.h.tan=13808780;var va=ea._colorNames;null!=t.rosybrown?va.setReserved("rosybrown",12357519):va.h.rosybrown=12357519;var wa=ea._colorNames;null!=t.sienna?wa.setReserved("sienna",10506797):wa.h.sienna=10506797;var xa=ea._colorNames;null!=t.saddlebrown?xa.setReserved("saddlebrown",9127187):xa.h.saddlebrown=9127187;var ya=ea._colorNames;null!=t.chocolate?ya.setReserved("chocolate",13789470):ya.h.chocolate=13789470;var Aa=ea._colorNames;
null!=t.peru?Aa.setReserved("peru",13468991):Aa.h.peru=13468991;var Ca=ea._colorNames;null!=t.sandybrown?Ca.setReserved("sandybrown",16032864):Ca.h.sandybrown=16032864;var za=ea._colorNames;null!=t.darkred?za.setReserved("darkred",9109504):za.h.darkred=9109504;var Ba=ea._colorNames;null!=t.maroon?Ba.setReserved("maroon",8388608):Ba.h.maroon=8388608;var Da=ea._colorNames;null!=t.brown?Da.setReserved("brown",10824234):Da.h.brown=10824234;var Ea=ea._colorNames;null!=t.firebrick?Ea.setReserved("firebrick",
11674146):Ea.h.firebrick=11674146;var Ga=ea._colorNames;null!=t.indianred?Ga.setReserved("indianred",13458524):Ga.h.indianred=13458524;var Ha=ea._colorNames;null!=t.lightcoral?Ha.setReserved("lightcoral",15761536):Ha.h.lightcoral=15761536;var Ia=ea._colorNames;null!=t.salmon?Ia.setReserved("salmon",16416882):Ia.h.salmon=16416882;var Ja=ea._colorNames;null!=t.darksalmon?Ja.setReserved("darksalmon",15308410):Ja.h.darksalmon=15308410;var Ma=ea._colorNames;null!=t.lightsalmon?Ma.setReserved("lightsalmon",
16752762):Ma.h.lightsalmon=16752762;var Ka=ea._colorNames;null!=t.coral?Ka.setReserved("coral",16744272):Ka.h.coral=16744272;var La=ea._colorNames;null!=t.tomato?La.setReserved("tomato",16737095):La.h.tomato=16737095;var Fa=ea._colorNames;null!=t.darkorange?Fa.setReserved("darkorange",16747520):Fa.h.darkorange=16747520;var Na=ea._colorNames;null!=t.orange?Na.setReserved("orange",16753920):Na.h.orange=16753920;var Oa=ea._colorNames;null!=t.orangered?Oa.setReserved("orangered",16729344):Oa.h.orangered=
16729344;var Qa=ea._colorNames;null!=t.crimson?Qa.setReserved("crimson",14423100):Qa.h.crimson=14423100;var Pa=ea._colorNames;null!=t.red?Pa.setReserved("red",16711680):Pa.h.red=16711680;var Za=ea._colorNames;null!=t.deeppink?Za.setReserved("deeppink",16716947):Za.h.deeppink=16716947;var Sa=ea._colorNames;null!=t.fuchsia?Sa.setReserved("fuchsia",16711935):Sa.h.fuchsia=16711935;var Wa=ea._colorNames;null!=t.magenta?Wa.setReserved("magenta",16711935):Wa.h.magenta=16711935;var Xa=ea._colorNames;null!=
t.hotpink?Xa.setReserved("hotpink",16738740):Xa.h.hotpink=16738740;var Ta=ea._colorNames;null!=t.lightpink?Ta.setReserved("lightpink",16758465):Ta.h.lightpink=16758465;var ab=ea._colorNames;null!=t.pink?ab.setReserved("pink",16761035):ab.h.pink=16761035;var Ra=ea._colorNames;null!=t.palevioletred?Ra.setReserved("palevioletred",14381203):Ra.h.palevioletred=14381203;var Ua=ea._colorNames;null!=t.mediumvioletred?Ua.setReserved("mediumvioletred",13047173):Ua.h.mediumvioletred=13047173;var bb=ea._colorNames;
null!=t.purple?bb.setReserved("purple",8388736):bb.h.purple=8388736;var Ya=ea._colorNames;null!=t.darkmagenta?Ya.setReserved("darkmagenta",9109643):Ya.h.darkmagenta=9109643;var $a=ea._colorNames;null!=t.mediumpurple?$a.setReserved("mediumpurple",9662683):$a.h.mediumpurple=9662683;var cb=ea._colorNames;null!=t.blueviolet?cb.setReserved("blueviolet",9055202):cb.h.blueviolet=9055202;var db=ea._colorNames;null!=t.indigo?db.setReserved("indigo",4915330):db.h.indigo=4915330;var gb=ea._colorNames;null!=
t.darkviolet?gb.setReserved("darkviolet",9699539):gb.h.darkviolet=9699539;var Va=ea._colorNames;null!=t.darkorchid?Va.setReserved("darkorchid",10040012):Va.h.darkorchid=10040012;var fb=ea._colorNames;null!=t.mediumorchid?fb.setReserved("mediumorchid",12211667):fb.h.mediumorchid=12211667;var eb=ea._colorNames;null!=t.orchid?eb.setReserved("orchid",14315734):eb.h.orchid=14315734;var ib=ea._colorNames;null!=t.violet?ib.setReserved("violet",15631086):ib.h.violet=15631086;var kb=ea._colorNames;null!=t.plum?
kb.setReserved("plum",14524637):kb.h.plum=14524637;var jb=ea._colorNames;null!=t.thistle?jb.setReserved("thistle",14204888):jb.h.thistle=14204888;var nb=ea._colorNames;null!=t.lavender?nb.setReserved("lavender",15132410):nb.h.lavender=15132410;var mb=ea._colorNames;null!=t.ghostwhite?mb.setReserved("ghostwhite",16316671):mb.h.ghostwhite=16316671;var pb=ea._colorNames;null!=t.aliceblue?pb.setReserved("aliceblue",15792383):pb.h.aliceblue=15792383;var qb=ea._colorNames;null!=t.mintcream?qb.setReserved("mintcream",
16121850):qb.h.mintcream=16121850;var rb=ea._colorNames;null!=t.honeydew?rb.setReserved("honeydew",15794160):rb.h.honeydew=15794160;var lb=ea._colorNames;null!=t.lightgoldenrodyellow?lb.setReserved("lightgoldenrodyellow",16448210):lb.h.lightgoldenrodyellow=16448210;var hb=ea._colorNames;null!=t.lemonchiffon?hb.setReserved("lemonchiffon",16775885):hb.h.lemonchiffon=16775885;var tb=ea._colorNames;null!=t.cornsilk?tb.setReserved("cornsilk",16775388):tb.h.cornsilk=16775388;var sb=ea._colorNames;null!=
t.lightyellow?sb.setReserved("lightyellow",16777184):sb.h.lightyellow=16777184;var ob=ea._colorNames;null!=t.ivory?ob.setReserved("ivory",16777200):ob.h.ivory=16777200;var ub=ea._colorNames;null!=t.floralwhite?ub.setReserved("floralwhite",16775920):ub.h.floralwhite=16775920;var vb=ea._colorNames;null!=t.linen?vb.setReserved("linen",16445670):vb.h.linen=16445670;var xb=ea._colorNames;null!=t.oldlace?xb.setReserved("oldlace",16643558):xb.h.oldlace=16643558;var wb=ea._colorNames;null!=t.antiquewhite?
wb.setReserved("antiquewhite",16444375):wb.h.antiquewhite=16444375;var zb=ea._colorNames;null!=t.bisque?zb.setReserved("bisque",16770244):zb.h.bisque=16770244;var Db=ea._colorNames;null!=t.peachpuff?Db.setReserved("peachpuff",16767673):Db.h.peachpuff=16767673;var Ob=ea._colorNames;null!=t.papayawhip?Ob.setReserved("papayawhip",16773077):Ob.h.papayawhip=16773077;var Ab=ea._colorNames;null!=t.beige?Ab.setReserved("beige",16119260):Ab.h.beige=16119260;var Hb=ea._colorNames;null!=t.seashell?Hb.setReserved("seashell",
16774638):Hb.h.seashell=16774638;var yb=ea._colorNames;null!=t.lavenderblush?yb.setReserved("lavenderblush",16773365):yb.h.lavenderblush=16773365;var Bb=ea._colorNames;null!=t.mistyrose?Bb.setReserved("mistyrose",16770273):Bb.h.mistyrose=16770273;var Lb=ea._colorNames;null!=t.snow?Lb.setReserved("snow",16775930):Lb.h.snow=16775930;var Jb=ea._colorNames;null!=t.white?Jb.setReserved("white",16777215):Jb.h.white=16777215;var Eb=ea._colorNames;null!=t.whitesmoke?Eb.setReserved("whitesmoke",16119285):
Eb.h.whitesmoke=16119285;var Fb=ea._colorNames;null!=t.gainsboro?Fb.setReserved("gainsboro",14474460):Fb.h.gainsboro=14474460;var Nb=ea._colorNames;null!=t.lightgrey?Nb.setReserved("lightgrey",13882323):Nb.h.lightgrey=13882323;var Ib=ea._colorNames;null!=t.silver?Ib.setReserved("silver",12632256):Ib.h.silver=12632256;var Mb=ea._colorNames;null!=t.darkgrey?Mb.setReserved("darkgrey",11119017):Mb.h.darkgrey=11119017;var Gb=ea._colorNames;null!=t.grey?Gb.setReserved("grey",8421504):Gb.h.grey=8421504;
var Cb=ea._colorNames;null!=t.lightslategrey?Cb.setReserved("lightslategrey",7833753):Cb.h.lightslategrey=7833753;var Tb=ea._colorNames;null!=t.slategrey?Tb.setReserved("slategrey",7372944):Tb.h.slategrey=7372944;var Kb=ea._colorNames;null!=t.dimgrey?Kb.setReserved("dimgrey",6908265):Kb.h.dimgrey=6908265;var Qb=ea._colorNames;null!=t.darkslategrey?Qb.setReserved("darkslategrey",3100495):Qb.h.darkslategrey=3100495;var Pb=ea._colorNames;null!=t.black?Pb.setReserved("black",0):Pb.h.black=0;var Sb=ea._colorNames;
null!=t.transparent?Sb.setReserved("transparent",-16777216):Sb.h.transparent=-16777216}var Ub=ea._colorNames;if(null!=t[a]?Ub.existsReserved(a):Ub.h.hasOwnProperty(a)){var Vb=ea._colorNames;return null!=t[a]?Vb.getReserved(a):Vb.h[a]}if(6==a.length&&ea.isHex(a))return h.parseInt("0x"+a)}return 16777215};ea.color=function(a){var b=ea.tryColor(a);if(-1==b)throw new H(new Vh("Can't cast to color: "+h.string(a)));return b};ea.tryClass=function(a){var b=ea._notClasses;if(null!=t[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))return a;b=ea._classes;b=null!=t[a]?b.getReserved(a):b.h[a];if(null!=b)return b;try{var b=La.resolveClass(a),c=ea._classes,d=b;null!=t[a]?c.setReserved(a,d):c.h[a]=d;return b}catch(e){Qa.lastException=e}c=ea._notClasses;null!=t[a]?c.setReserved(a,!0):c.h[a]=!0;return a};ea.bitmapData=function(a){if(null==a)return null;"string"==typeof a&&(a=ma.getBitmapData(a));if(y.__instanceof(a,Xh))try{a=La.createInstance(a,[])}catch(b){Qa.lastException=b,a=La.createInstance(a,[0,0])}if(y.__instanceof(a,
Ha))return a;if(y.__instanceof(a,Id)&&null!=y.__cast(a,Id).bitmapData)return y.__cast(a,Id).bitmapData;if(y.__instanceof(a,Eb)){a=y.__cast(a,Eb);var c=new Ha(a.get_width()|0,a.get_height()|0,!0,65535),d=a.get_transform().get_matrix().clone();d.tx=0;d.ty=0;c.draw(a,d,a.get_transform().get_colorTransform(),a.get_blendMode(),c.rect,!0);return c}throw new H(new Vh("Can't cast to BitmapData: "+h.string(a)));};ea.bitmapTexture=function(a){if(null==a)return null;"string"==typeof a&&(a=ma.getBitmapData(a));
if(y.__instanceof(a,Xh))try{a=La.createInstance(a,[])}catch(b){Qa.lastException=b,a=La.createInstance(a,[0,0])}if(y.__instanceof(a,vb))return a;try{var c=ea.bitmapData(a);return new vb(c)}catch(d){if(Qa.lastException=d,d instanceof H&&(d=d.val),!y.__instanceof(d,Vh))throw d;}throw new H(new Vh("Can't cast to BitmapTexture: "+h.string(a)));};var Dc=function(){};m["commands.Addmodel"]=Dc;Dc.__name__=["commands","Addmodel"];Dc.run=function(a){a=a.split(",");for(var b=0,c=a.length;b<c;){var d=b++;a[d]=
ba.trimspaces(a[d])}c=1;1<a.length&&ba.isnumber(a[1])&&(c=h.parseInt(a[1]));for(b=0;b<c;)if(b++,"any"==a[0]){var d=fa.pick(Dc.models),e=N.readymodels,f=a[0];(null!=t[f]?e.existsReserved(f):e.h.hasOwnProperty(f))?(d=new we("model",d),e=d.get_entities_EntityModel(Nf),e.applyrules(),e.popin(),K.addobject(d),Dc.lastmodel=e.container):Fa.loadmodel(d)}else d=N.readymodels,e=a[0],(null!=t[e]?d.existsReserved(e):d.h.hasOwnProperty(e))?(d=new we("model",a[0]),e=d.get_entities_EntityModel(Nf),e.applyrules(),
e.popin(),K.addobject(d),Dc.lastmodel=e.container):Fa.loadmodel(a[0])};var td=function(){};m["commands.Changeparticlefield"]=td;td.__name__=["commands","Changeparticlefield"];td.run=function(a){""==a||td.currentparticlefield==a?td.changeparticles():td.changeparticles(a.split(","))};td.updatespeed=function(a){for(var b=0,c=K.entities.length;b<c;){var d=b++;if(K.entities[d].has(Rg)){K.entities[d].get_entities_EntityParticles(Rg).changespeed(a);break}}};td.moveparticlefield=function(a,b,c){for(var d=
0,e=K.entities.length;d<e;){var f=d++;if(K.entities[f].has(Rg)){K.entities[f].getfirstcomponent_entities_EntityComponent().position.x=a;K.entities[f].getfirstcomponent_entities_EntityComponent().position.y=b;K.entities[f].getfirstcomponent_entities_EntityComponent().position.z=c;break}}};td.removeparticlefield=function(){td.currentparticlefield="none";for(var a=0,b=K.entities.length;a<b;){var c=a++;if(K.entities[c].has(Rg)){K.entities[c].destroy();da.remove(K.entities,K.entities[c]);break}}};td.changeparticles=
function(a){if(null==a||0==a.length)td.removeparticlefield();else{td.removeparticlefield();td.currentparticlefield=ba.trimspaces(fa.pick(a));a=new we(td.currentparticlefield);var b=a.get_entities_EntityParticles(Rg);b.position=F.newposition(b);K.entities.push(a)}};var cc=function(){};m["commands.Changesky"]=cc;cc.__name__=["commands","Changesky"];cc.run=function(a){""==a?cc.changeskybox():cc.changeskybox(a.split(","))};cc.changeatmosphere=function(a){var b;b=!1;var c=I.atmospheremap;if(null!=t[a]?
c.existsReserved(a):c.h.hasOwnProperty(a))b=N.readysong,c=I.atmospheremap,c=null!=t[a]?c.getReserved(a):c.h[a],b=null!=t[c]?b.existsReserved(c):b.h.hasOwnProperty(c);if(b)b=I.atmospheremap,(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?(b=I.atmospheremap,b=null!=t[a]?b.getReserved(a):b.h[a]):(b=fa.pick(I.atmospheresounds),Aa.trace("no atmosphere mapped to "+a+", picked "+b+" at random",{fileName:"Changesky.hx",lineNumber:32,className:"commands.Changesky",methodName:"changeatmosphere"})),c=
I.atmospherestarttime,(null!=t[b]?c.existsReserved(b):c.h.hasOwnProperty(b))?(c=I.atmospheremap,"nothing"==(null!=t[a]?c.getReserved(a):c.h[a])?L.stopbackground():(a=I.atmospherestarttime,L.playbackground(b,null!=t[b]?a.getReserved(b):a.h[b]))):(c=I.atmospheremap,"nothing"==(null!=t[a]?c.getReserved(a):c.h[a])?L.stopbackground():L.playbackground(b));else if(b=I.atmospheremap,"nothing"==(null!=t[a]?b.getReserved(a):b.h[a]))L.stopbackground();else{a=[];for(b=N.readysong.keys();b.hasNext();)c=b.next(),
a.push(c);-1!=a.indexOf("amb/phone")&&da.remove(a,"amb/phone");-1!=a.indexOf("safehaven")&&da.remove(a,"safehaven");0==a.length?L.stopbackground():L.playbackground(fa.pick(a))}};cc.countskybox=function(){for(var a=0,b=0,c=K.entities.length;b<c;){var d=b++;"skybox"==K.entities[d].type&&++a}if(1<a)throw new H("Critical error: more than one skybox entity in scene");};cc.skyboxexists=function(){cc.countskybox();for(var a=0,b=K.entities.length;a<b;){var c=a++;if("skybox"==K.entities[c].type){a=K.entities[c].get_entities_EntitySkybox(Qe);
if("white"==a.currentskybox||"black"==a.currentskybox)break;return!0}}return!1};cc.getskybox=function(){cc.countskybox();for(var a=0,b=K.entities.length;a<b;){var c=a++;if("skybox"==K.entities[c].type)return K.entities[c]}a=new we("skybox");a.get_entities_EntitySkybox(Qe).changeskybox("black");K.entities.push(a);return a};cc.currentskyboxname=function(){return cc.getskybox().get_entities_EntitySkybox(Qe).currentskybox};cc.changeskybox=function(a){cc.countskybox();var b=cc.getskybox(),c=b.get_entities_EntitySkybox(Qe),
d=c.currentskybox;if(null==a||0==a.length){d=[];a=0;for(var e=cc.skytexturelist.length;a<e;){var f=a++;-1==["black","white","rainbow","gradient","blackwhitegradient"].indexOf(cc.skytexturelist[f])&&d.push(cc.skytexturelist[f])}1<d.length&&-1<d.indexOf(c.currentskybox)&&da.remove(d,c.currentskybox);d=ba.trimspaces(fa.pick(d));a=N.readysky;(null!=t[d]?a.existsReserved(d):a.h.hasOwnProperty(d))?(c.changeskybox(d),cc.changeatmosphere(c.currentskybox)):Fa.loadsky(d)}else 1<a.length&&-1<a.indexOf(c.currentskybox)&&
da.remove(a,c.currentskybox),d=ba.trimspaces(fa.pick(a)),d==c.currentskybox&&"gradient"!=d?ha.notify("we're already there"):(a=N.readysky,(null!=t[d]?a.existsReserved(d):a.h.hasOwnProperty(d))?(c.changeskybox(d),cc.changeatmosphere(c.currentskybox)):Fa.loadsky(d));-1==K.entities.indexOf(b)&&K.entities.push(b)};var is=function(){};m["commands.Makecone"]=is;is.__name__=["commands","Makecone"];is.run=function(a){ba.isnumber(a)||(a="1");var b=0;for(a=h.parseInt(a);b<a;){b++;var c=new we("cone"),d=c.get_entities_EntityCone(dl);
d.applyrules();d.set_colour(I.randomsystemcol());K.addobject(c)}};var Tp=function(){};m["commands.Makecube"]=Tp;Tp.__name__=["commands","Makecube"];Tp.run=function(a,b){null==b&&(b=!1);ba.isnumber(a)||(a="1");for(var c=0,d=h.parseInt(a);c<d;){c++;var e=new we("cube"),f=e.get_entities_EntityCube(el);f.applyrules();b?cc.skyboxexists()?f.environmentmap(cc.getskybox()):(f.set_colour(I.randomsystemcol()),f.set_alpha(.5)):(f.set_colour(I.randomsystemcol()),f.set_alpha(.5));K.addobject(e)}};var js=function(){};
m["commands.Makecylinder"]=js;js.__name__=["commands","Makecylinder"];js.run=function(a){ba.isnumber(a)||(a="1");var b=0;for(a=h.parseInt(a);b<a;){b++;var c=new we("cylinder"),d=c.get_entities_EntityCylinder(fl);d.applyrules();cc.skyboxexists()?d.environmentmap(cc.getskybox()):d.set_colour(I.randomsystemcol());K.addobject(c)}};var ks=function(){};m["commands.Makeline"]=ks;ks.__name__=["commands","Makeline"];ks.run=function(a){a=a.split(",");for(var b=0,c=h.parseInt(a[0]);b<c;){b++;var d=new we("line",
a[1]);d.get_entities_EntityLine(gl).applyrules();K.addobject(d)}};var ls=function(){};m["commands.Makepolyhedra"]=ls;ls.__name__=["commands","Makepolyhedra"];ls.run=function(a,b){for(var c=0;c<b;){c++;var d=new we("polyhedra",a);d.get_entities_EntityPolyhedra(hl).applyrules();K.addobject(d)}};var Up=function(){};m["commands.Makesphere"]=Up;Up.__name__=["commands","Makesphere"];Up.run=function(a,b){null==b&&(b=!1);ba.isnumber(a)||(a="1");for(var c=0,d=h.parseInt(a);c<d;){c++;var e=new we("sphere"),
f=e.get_entities_EntitySphere(Bg);b?(f.applyrules(),f.rotation(0,0,0),cc.skyboxexists()?f.environmentmap(cc.getskybox()):(f.set_colour(I.randomsystemcol()),f.set_alpha(.5))):(f.applyrules(),f.rotation(0,0,0),f.set_colour(I.randomsystemcol()),f.set_alpha(.5));K.addobject(e)}};var ms=function(){};m["commands.Makesquare"]=ms;ms.__name__=["commands","Makesquare"];ms.run=function(a){ba.isnumber(a)||(a="1");var b=0;for(a=h.parseInt(a);b<a;){b++;var c=new we("plane"),d=c.getfirstcomponent_entities_EntityPlane(),
e=fa["float"](700,1400),f=fa["float"](0,2*Math.PI),k=fa["float"](0,2*Math.PI),p=e*Math.cos(f)*Math.sin(k),f=e*Math.sin(f)*Math.sin(k),e=e*Math.cos(k);d.position=F.newposition(d);d.position.setTo(p,f,e);d.movetoposition(d.position,!1);d.facecenter();d.set_colour(I.randomsystemcol());K.addobject(c)}};var Vp=function(){};m["commands.Makestripe"]=Vp;Vp.__name__=["commands","Makestripe"];Vp.run=function(a,b){null==b&&(b=-1);ba.isnumber(a)||(a="1");for(var c=0,d=h.parseInt(a);c<d;){c++;var e=new we("stripe"),
f=e.get_entities_EntityStripe(il);f.applyrules();-1==b?f.set_colour(I.randomsystemcol()):f.set_colour(b);K.addobject(e)}};var ns=function(){};m["commands.Maketorus"]=ns;ns.__name__=["commands","Maketorus"];ns.run=function(a){ba.isnumber(a)||(a="1");var b=0;for(a=h.parseInt(a);b<a;){b++;var c=new we("torus"),d=c.get_entities_EntityTorus(jl);d.set_colour(I.randomsystemcol());d.set_alpha(.5);d.applyrules();K.addobject(c)}};var Dm=function(){};m["commands.Say"]=Dm;Dm.__name__=["commands","Say"];Dm.run=
function(a,b,c){null==c&&(c=-1);null==b&&(b=!1);a=a.split(",");for(var d=0,e=a.length;d<e;){var f=d++;a[f]=ba.trimspaces(a[f])}1==a.length?a.push("1"):ba.isnumber(a[1])||(a[1]="1");d=0;for(e=h.parseInt(a[1]);d<e;){d++;var f=new we("text"),k=f.get_entities_EntityText(Mh);k.set_colour(I.randomsystemcol());k.set_text(a[0]);-1!=c&&(k.life=c);b?(k.applyrules(),k.facecenter()):k.applyrules();K.entities.push(f)}};var qb=function(){};m["commands.Speed"]=qb;qb.__name__=["commands","Speed"];qb.reset=function(){qb.rate=
1;td.updatespeed(qb.rate)};qb.slower=function(){qb.rate=1<qb.rate?1:qb.rate/2;td.updatespeed(qb.rate)};qb.faster=function(){qb.rate=1>qb.rate?1:2*qb.rate;td.updatespeed(qb.rate)};qb.stop=function(){qb.rate=0;td.updatespeed(qb.rate)};var os=function(){};m["commands.Togglemusic"]=os;os.__name__=["commands","Togglemusic"];os.run=function(a){K.playingmusic?(L.stop(),K.playingmusic=!1):(a=N.readysong,(null!=t.safehaven?a.existsReserved("safehaven"):a.h.hasOwnProperty("safehaven"))?(L.play("safehaven",
.8),K.playingmusic=!0):Fa.loadmusic("safehaven"))};var sh=function(){};m["definitions.defaultfont.Defaultfont_100"]=sh;sh.__name__=["definitions","defaultfont","Defaultfont_100"];sh.__super__=ho;sh.prototype=z(ho.prototype,{__class__:sh});var we=function(a,b){this.deleteme=!1;this.components=[];this.active=!0;this.deleteme=!1;this.subtype=this.type=a;this.isparticles=this.isobject=!1;switch(this.type){case "cone":this.add(new dl(this,35,75));this.isobject=!0;break;case "cube":this.add(new el(this,
100));this.isobject=!0;break;case "cylinder":this.add(new fl(this,35,35,300));this.isobject=!0;break;case "light":this.add(new io(this));break;case "line":this.add(new gl(this,h.parseInt(b)));this.isobject=!0;break;case "model":this.add(new Nf(this,b));this.isobject=!0;this.subtype=b;break;case "plane":this.add(new jo(this,250,250));this.isobject=!0;break;case "polyhedra":this.add(new hl(this,h.parseInt(b)));this.isobject=!0;break;case "bubble":case "dust":case "fire":case "love":case "pollen":case "rain":case "smoke":case "snow":this.isparticles=
!0;this.add(new Rg(this,this.type));this.subtype=this.type;break;case "skybox":this.add(new Qe(this));break;case "sphere":this.add(new Bg(this,50));this.isobject=!0;break;case "stripe":this.add(new il(this,35,35));this.isobject=!0;break;case "text":this.add(new Mh(this));this.isobject=!0;break;case "torus":this.add(new jl(this,75,35)),this.isobject=!0}};m["entities.Entity"]=we;we.__name__=["entities","Entity"];we.prototype={get_entities_EntityTorus:function(a){for(var b=0,c=this.components;b<c.length;){var d=
c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityStripe:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityCylinder:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityCone:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntitySphere:function(a){for(var b=
0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityCube:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityPolyhedra:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityLine:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},
getfirstcomponent_entities_EntityPlane:function(){return 0<this.components.length?this.components[0]:null},get_entities_EntitySkybox:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},getfirstcomponent_entities_EntityComponent:function(){return 0<this.components.length?this.components[0]:null},get_entities_EntityModel:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityText:function(a){for(var b=
0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},get_entities_EntityParticles:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return d}return null},add:function(a){a.ent=this;this.components.push(a)},remove:function(a){da.remove(this.components,a)},has:function(a){for(var b=0,c=this.components;b<c.length;){var d=c[b];++b;if(y.__instanceof(d,a))return!0}return!1},isempty:function(){return 1>=this.components.length},
isactive:function(){return this.active},destroy:function(){this.active=!1;F.freeupposition(this);for(var a=0,b=this.components;a<b.length;){var c=b[a];++a;c.destroy()}for(;0<this.components.length;)this.components.pop()},update:function(){for(var a=0,b=this.components;a<b.length;){var c=b[a];++a;c.update();if(!this.active)break}},addtoscene:function(a){S.view.get_scene().addChild(a)},removefromscene:function(a){S.view.get_scene().removeChild(a)},active:null,type:null,subtype:null,isobject:null,isparticles:null,
components:null,deleteme:null,__class__:we};var wb=function(a){this.noisy=this.makingnoise=this.hasupdatefunction=!1;this.vx=this.vy=this.vz=0;this.ent=a;this.container=new Va;this.ent.addtoscene(this.container);this.position=null;this.intween=!0;this.facingplayer=!1;this.life=-1;this.makingnoise=this.noisy=!1};m["entities.EntityComponent"]=wb;wb.__name__=["entities","EntityComponent"];wb.prototype={ent:null,cleancontainer:function(){this.container.disposeWithChildren();this.container=new Va;this.ent.addtoscene(this.container)},
destroy:function(){this.ent.removefromscene(this.container);this.container.disposeWithChildren()},update:function(){this.hasupdatefunction&&this.extraupdate();null!=this.position&&(this.container.set_x(this.position.x),this.container.set_y(this.position.y),this.container.set_z(this.position.z));-1!=this.life&&(this.life-=I.deltatime,0>=this.life&&(this.life=-1,this.tidy()));if(0!=this.vx){var a=this.container;a.set_rotationX(a.get_rotationX()+this.vx*I.deltatime*qb.rate)}0!=this.vy&&(a=this.container,
a.set_rotationY(a.get_rotationY()+this.vy*I.deltatime*qb.rate));0!=this.vz&&(a=this.container,a.set_rotationZ(a.get_rotationZ()+this.vz*I.deltatime*qb.rate));this.facingplayer&&this.ent.isobject&&null!=this.position&&(a=new Va,a.set_position(this.position),a.lookAt(S.view.get_camera().get_position()),this.rotation(0,0,0),this.container.set_rotationX(a.get_rotationX()),this.container.set_rotationY(a.get_rotationY()),this.container.set_rotationZ(a.get_rotationZ()),this.container.yaw(90));if(this.makingnoise&&
(this.noiseclock--,0>=this.noiseclock)){this.noiseclock=T.noisespeed;this.wobble();I.playsound(this.noise);for(var a=0,b=K.entities;a<b.length;){var c=b[a];++a;c.isobject&&c.getfirstcomponent_entities_EntityComponent().noisy&&c.getfirstcomponent_entities_EntityComponent().noiseclock<T.minimumnoisegap&&(c.getfirstcomponent_entities_EntityComponent().noiseclock+=T.minimumnoisegap)}}},wobble:function(){this.intween=!0;for(var a=0,b=this.container.get_numChildren();a<b;){var c=a++,d=this.container.getChildAt(c).get_scaleX();
this.container.getChildAt(c).set_scaleX(1.3*d);this.container.getChildAt(c).set_scaleY(1.3*d);this.container.getChildAt(c).set_scaleZ(1.3*d);Sa.tween(this.container.getChildAt(c),.4,{scaleX:d,scaleY:d,scaleZ:d}).ease(Ag.get_easeOut())}},rotation:function(a,b,c){this.vx=a;this.vy=b;this.vz=c},applyrules:function(){this.position=F.newposition(this);this.movetoposition(this.position,!1);if("stripe"==this.ent.type)this.rotation(0,0,0);else if("random"==T.rotation)this.rotation(.25*fa["int"](-100,100),
.25*fa["int"](-100,100),.25*fa["int"](-100,100));else if("spin"==T.rotation)this.rotation(0,.25*fa.pickint(-100,100),0);else if("spinslow"==T.rotation)this.rotation(0,.05*fa.pickint(-50,50),0);else if("none"==T.rotation)this.rotation(0,0,0);else if("facing"==T.rotation){var a=new Va;a.lookAt(new C(0,0,0));this.rotation(a.get_rotationX(),a.get_rotationY(),a.get_rotationZ())}},popin:function(){this.intween=!0;for(var a=0,b=this.container.get_numChildren();a<b;){var c=a++,d=this.container.getChildAt(c).get_scaleX();
this.container.getChildAt(c).set_scaleX(.001);this.container.getChildAt(c).set_scaleY(.001);this.container.getChildAt(c).set_scaleZ(.001);Sa.tween(this.container.getChildAt(c),1,{scaleX:d,scaleY:d,scaleZ:d}).ease(wf.get_easeOut()).onComplete(u(this,this.finishtween))}},changescale:function(a,b,c){null==c&&(c=!1);if(c)if(0==a)for(a=0,c=this.container.get_numChildren();a<c;){var d=a++,e=this.container.getChildAt(d).get_scaleY()*b;this.container.getChildAt(d).set_scaleY(e)}else if(0==b)for(this.intween=
!0,b=0,c=this.container.get_numChildren();b<c;)d=b++,e=this.container.getChildAt(d).get_scaleX()*a,this.container.getChildAt(d).set_scaleX(e),this.container.getChildAt(d).set_scaleZ(e);else for(this.intween=!0,b=0,c=this.container.get_numChildren();b<c;)d=b++,e=this.container.getChildAt(d).get_scaleX()*a,this.container.getChildAt(d).set_scaleX(e),this.container.getChildAt(d).set_scaleY(e),this.container.getChildAt(d).set_scaleZ(e);else if(0==a)for(this.intween=!0,a=0,c=this.container.get_numChildren();a<
c;)d=a++,e=this.container.getChildAt(d).get_scaleY()*b,Sa.tween(this.container.getChildAt(d),1,{scaleY:e}).ease(wf.get_easeOut()).onComplete(u(this,this.finishtween));else if(0==b)for(this.intween=!0,b=0,c=this.container.get_numChildren();b<c;)d=b++,e=this.container.getChildAt(d).get_scaleX()*a,Sa.tween(this.container.getChildAt(d),1,{scaleX:e,scaleZ:e}).ease(wf.get_easeOut()).onComplete(u(this,this.finishtween));else for(this.intween=!0,b=0,c=this.container.get_numChildren();b<c;)d=b++,e=this.container.getChildAt(d).get_scaleX()*
a,Sa.tween(this.container.getChildAt(d),1,{scaleX:e,scaleY:e,scaleZ:e}).ease(wf.get_easeOut()).onComplete(u(this,this.finishtween))},tidy:function(){this.intween=!0;this.makingnoise=!1;this.container.get_scaleX();Sa.tween(this.container,.2,{scaleX:.001,scaleY:.001,scaleZ:.001}).ease(kl.get_easeOut()).onComplete(u(this,this.markfordeletion))},markfordeletion:function(){this.ent.deleteme=!0;this.intween=!1},finishtween:function(){this.polarposition=F.converttopolar(this.position);this.intween=!1},movetoposition:function(a,
b,c,d){null==d&&(d=.5);b?(this.intween=!0,Sa.tween(this.position,d,{x:a.x,y:a.y,z:a.z}).ease(Ag.get_easeOut()).onComplete(u(this,this.finishtween)),null!=c&&Sa.tween(this.container,d,{rotationX:c.x,rotationY:c.y,rotationZ:c.z}).ease(Ag.get_easeOut())):(this.position.x=a.x,this.position.y=a.y,this.position.z=a.z,null!=c&&(this.container.set_rotationX(c.x),this.container.set_rotationY(c.y),this.container.set_rotationZ(c.z)))},moveanddestroy:function(a,b,c){null==c&&(c=.5);b?(this.intween=!0,Sa.tween(this.position,
c,{x:a.x,y:a.y,z:a.z}).ease(wf.get_easeIn()).onComplete(u(this,this.tidy))):(this.position.x=a.x,this.position.y=a.y,this.position.z=a.z)},position:null,polarposition:null,intween:null,vx:null,vy:null,vz:null,container:null,setnoise:function(a){this.makingnoise=this.noisy=!0;this.noise=a;this.noiseclock=30+fa["int"](0,T.noisespeed)},facingplayer:null,noisy:null,makingnoise:null,noiseclock:null,noise:null,life:null,hasupdatefunction:null,extraupdate:function(){},__class__:wb};var dl=function(a,b,c){wb.call(this,
a);this.cleancontainer();this.mesh=new Pb(new Pk(b,c),null);this.set_colour(na.WHITE);this.container.addChild(this.mesh);this.popin()};m["entities.EntityCone"]=dl;dl.__name__=["entities","EntityCone"];dl.__super__=wb;dl.prototype=z(wb.prototype,{_colour:null,get_colour:function(){return this._colour},set_colour:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(a,.4))}return this._colour=a},mesh:null,__class__:dl,__properties__:{set_colour:"set_colour",
get_colour:"get_colour"}});var el=function(a,b){wb.call(this,a);this.cleancontainer();this.mesh=new Pb(new dj(b,b,b,1,1,1,!1),null);this.set_colour(na.WHITE);this.container.addChild(this.mesh);this.popin()};m["entities.EntityCube"]=el;el.__name__=["entities","EntityCube"];el.__super__=wb;el.prototype=z(wb.prototype,{wireframe:function(){for(var a=new Qb(new vb(nj.generateSolidMap(this.mesh,na.GREEN,3,na.DARKGREEN,1))),b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(a)}},
_colour:null,get_colour:function(){return this._colour},set_colour:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(a,this.get_alpha()))}return this._colour=a},_alpha:null,get_alpha:function(){return this._alpha},set_alpha:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(this.get_colour(),a))}return this._alpha=a},environmentmapfromtexture:function(a){var b=new Lb;b.addMethod(new pf(a));
a=0;for(var c=this.mesh.get_subMeshes();a<c.get_length();){var d=c.get(a);++a;d.set_material(b)}},environmentmap:function(a){var b=new Lb;b.addMethod(new pf(a.get_entities_EntitySkybox(Qe).skyboxtexture));a=0;for(var c=this.mesh.get_subMeshes();a<c.get_length();){var d=c.get(a);++a;d.set_material(b)}},mesh:null,__class__:el,__properties__:{set_alpha:"set_alpha",get_alpha:"get_alpha",set_colour:"set_colour",get_colour:"get_colour"}});var fl=function(a,b,c,d){wb.call(this,a);this.cleancontainer();this.mesh=
new Pb(new ef(b,c,d),null);this.set_colour(na.WHITE);this.container.addChild(this.mesh);this.popin()};m["entities.EntityCylinder"]=fl;fl.__name__=["entities","EntityCylinder"];fl.__super__=wb;fl.prototype=z(wb.prototype,{_colour:null,get_colour:function(){return this._colour},set_colour:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(a,.5))}return this._colour=a},environmentmapfromtexture:function(a){var b=new Lb;b.addMethod(new pf(a));
a=0;for(var c=this.mesh.get_subMeshes();a<c.get_length();){var d=c.get(a);++a;d.set_material(b)}},environmentmap:function(a){var b=new Lb;b.addMethod(new pf(a.get_entities_EntitySkybox(Qe).skyboxtexture));a=0;for(var c=this.mesh.get_subMeshes();a<c.get_length();){var d=c.get(a);++a;d.set_material(b)}},mesh:null,__class__:fl,__properties__:{set_colour:"set_colour",get_colour:"get_colour"}});var io=function(a){wb.call(this,a);this._light=new Ud(-1,-1,1);this._direction=new C(-1,-1,1);this._lightPicker=
new ej([this._light]);this.container.addChild(this._light)};m["entities.EntityLight"]=io;io.__name__=["entities","EntityLight"];io.__super__=wb;io.prototype=z(wb.prototype,{_light:null,_lightPicker:null,_direction:null,__class__:io});var gl=function(a,b){wb.call(this,a);this.hasupdatefunction=!0;this.cleancontainer();var c=[];null==b&&(b=2);if(2==b)c.push(new C(-250,-250,0)),c.push(new C(250,250,0));else for(var d=0,e=b;d<e;)d++,c.push(new C(fa["float"](-250,250),fa["float"](-250,250),fa["float"](-250,
250)));this.linehue=fa["int"](0,360);this._colour=na.hsl(this.linehue|0,.5,.5);this.linecontainer=new Cc;this.linesegments=[];d=0;for(e=b-1;d<e;){var f=d++;this.linesegments.push(new Ca(c[f],c[(f+1)%b],this.get_colour(),this.get_colour(),1));this.linecontainer.addSegment(this.linesegments[this.linesegments.length-1])}2<b&&(this.linesegments.push(new Ca(c[b-1],c[0],this.get_colour(),this.get_colour(),1)),this.linecontainer.addSegment(this.linesegments[this.linesegments.length-1]));this.container.addChild(this.linecontainer);
this.popin()};m["entities.EntityLine"]=gl;gl.__name__=["entities","EntityLine"];gl.__super__=wb;gl.prototype=z(wb.prototype,{_colour:null,get_colour:function(){return this._colour},set_colour:function(a){this._colour=a;if(null!=this.linesegments)for(var b=0,c=this.linesegments.length;b<c;){var d=b++;this.linesegments[d].set_startColor(a);this.linesegments[d].set_endColor(a)}return this._colour},_alpha:null,get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha},extraupdate:function(){this.linehue=
(this.linehue+25*I.deltatime)%360;this.set_colour(na.hsl(this.linehue|0,.5,.5))},linehue:null,linesegments:null,linecontainer:null,__class__:gl,__properties__:{set_alpha:"set_alpha",get_alpha:"get_alpha",set_colour:"set_colour",get_colour:"get_colour"}});var Nf=function(a,b){wb.call(this,a);this.modelname=b;this.cleancontainer();"any"==this.modelname?this.modelname=fa.pick(Dc.models):"test"==this.modelname&&(this.modelname=Dc.models[0]);var c=this.modelname,d=Nb.modelindex;(null!=t[c]?d.existsReserved(c):
d.h.hasOwnProperty(c))?(c=this.modelname,d=Nb.modelindex,c=null!=t[c]?d.getReserved(c):d.h[c],d=Nb.meshlist[c].clone(),d.scale(Nb.modelscale[c]),this.container.addChild(d)):Nb.load(this.modelname)};m["entities.EntityModel"]=Nf;Nf.__name__=["entities","EntityModel"];Nf.__super__=wb;Nf.prototype=z(wb.prototype,{modeldata_scale:null,modeldata_usingtexture:null,modeldata_ext:null,modeldata_modelfile:null,modeldata_ambientcolor:null,modelname:null,makemetallic:function(a){for(var b=0,c=a.get_subMeshes();b<
c.get_length();){var d=c.get(b);++b;d.set_material(null)}a.set_material(null);b=new Lb(16711680);b.addMethod(new pf(cc.getskybox().get_entities_EntitySkybox(Qe).skyboxtexture));c=0;for(d=a.get_subMeshes();c<d.get_length();){var e=d.get(c);++c;e.set_material(b)}a.set_material(b)},placeclone:function(a,b){},__class__:Nf});var Rg=function(a,b){wb.call(this,a);this.cleancontainer();this.type=b;this.colorchange=!1;switch(this.type){case "bubble":this.texturesize=10;this.billboarded=!0;this.numparticles=
2500;this.delayafterfinish=0;this.initfunction=u(this,this.bubbleinit);this.particletexture=ea.bitmapTexture("data/graphics/particles/tunel.png");this.alpha=.5;break;case "dust":this.texturesize=10;this.billboarded=!0;this.numparticles=2500;this.delayafterfinish=0;this.initfunction=u(this,this.dustinit);this.particletexture=ea.bitmapTexture("data/graphics/particles/pearl.png");this.alpha=.25;break;case "fire":this.texturesize=20;this.billboarded=!0;this.numparticles=1500;this.delayafterfinish=0;this.initfunction=
u(this,this.fireinit);this.colorchange=!0;this.particletexture=ea.bitmapTexture("data/graphics/particles/fire.png");this.alpha=.75;break;case "love":this.texturesize=40;this.billboarded=!0;this.numparticles=300;this.delayafterfinish=0;this.initfunction=u(this,this.loveinit);this.particletexture=ea.bitmapTexture("data/graphics/particles/heart.png");this.alpha=.2;break;case "pollen":this.texturesize=50;this.billboarded=!0;this.numparticles=150;this.delayafterfinish=0;this.initfunction=u(this,this.polleninit);
this.particletexture=ea.bitmapTexture("data/graphics/particles/pollen.png");this.alpha=.5;break;case "rain":this.texturesize=20;this.billboarded=!1;this.numparticles=2E4;this.delayafterfinish=0;this.initfunction=u(this,this.raininit);this.particletexture=ea.bitmapTexture("data/graphics/particles/thickrain.png");this.alpha=1;break;case "smoke":this.texturesize=200;this.billboarded=!0;this.numparticles=3E3;this.delayafterfinish=0;this.initfunction=u(this,this.polleninit);this.particletexture=ea.bitmapTexture("data/graphics/particles/smoketex.png");
this.alpha=.05;break;case "snow":this.texturesize=15,this.billboarded=!0,this.numparticles=2500,this.delayafterfinish=0,this.initfunction=u(this,this.snowinit),this.particletexture=ea.bitmapTexture("data/graphics/particles/x3.png"),this.alpha=.5}for(var c=new cj(this.texturesize,this.texturesize,1,1,!1,!this.billboarded),d=x.toObjectVector(null),e=0,f=this.numparticles;e<f;)e++,d.push(c);this._particleAnimationSet=new nf(!0,!0,0<this.delayafterfinish);this.billboarded&&this._particleAnimationSet.addAnimation(new ok);
this.colorchange&&(this._particleAnimationSet.addAnimation(new Ki(0,!1,!1,2.5,.5)),this._particleAnimationSet.addAnimation(new zf(0,!0,!0,!1,!1,new jc(0,0,0,1,255,51,1),new jc(0,0,0,1,34))));this._particleAnimationSet.addAnimation(new Ji(1));this._particleAnimationSet.addAnimation(new Li(1));this._particleAnimationSet.initParticleFunc=this.initfunction;c=new Qb(this.particletexture);c.set_blendMode(0);1>this.alpha&&c.set_alpha(this.alpha);this._particleAnimator=new Hi(this._particleAnimationSet);
this._particleMesh=new Pb(Uq.generateGeometry(d),c);this._particleMesh.set_animator(this._particleAnimator);this.container.addChild(this._particleMesh);this._particleAnimator.start();this._particleAnimator.set_playbackSpeed(qb.rate)};m["entities.EntityParticles"]=Rg;Rg.__name__=["entities","EntityParticles"];Rg.__super__=wb;Rg.prototype=z(wb.prototype,{changespeed:function(a){this._particleAnimator.set_playbackSpeed(a)},fireinit:function(a){a.startTime=5*Math.random()-5;a.duration=3*Math.random()+
2;var b=Math.random()*Math.PI*2,c=Math.random()*Math.PI*2,d=a.nodes,e=new C(fa["int"](-1200,1200),fa["int"](-1200,1200),fa["int"](-1200,1200));null!=t.PositionVector3D?d.setReserved("PositionVector3D",e):d.h.PositionVector3D=e;a=a.nodes;b=new C(15*Math.sin(b)*Math.cos(c),15*Math.cos(b)*Math.cos(c)+fa["int"](40,60),15*Math.sin(c));null!=t.VelocityVector3D?a.setReserved("VelocityVector3D",b):a.h.VelocityVector3D=b},loveinit:function(a){a.startTime=30*Math.random()-30;a.duration=30;var b=a.nodes,c=new C(fa["int"](-800,
800),-1E3+fa["int"](-800,800),fa["int"](-800,800));null!=t.PositionVector3D?b.setReserved("PositionVector3D",c):b.h.PositionVector3D=c;a=a.nodes;b=new C(fa["int"](-20,20),fa["int"](60,80),fa["int"](-20,20));null!=t.VelocityVector3D?a.setReserved("VelocityVector3D",b):a.h.VelocityVector3D=b},bubbleinit:function(a){a.startTime=20*Math.random()-20;a.duration=20;var b=a.nodes,c=new C(fa["int"](-800,800),-1E3+fa["int"](-800,800),fa["int"](-800,800));null!=t.PositionVector3D?b.setReserved("PositionVector3D",
c):b.h.PositionVector3D=c;a=a.nodes;b=new C(fa["int"](-20,20),fa["int"](60,80),fa["int"](-20,20));null!=t.VelocityVector3D?a.setReserved("VelocityVector3D",b):a.h.VelocityVector3D=b},dustinit:function(a){a.startTime=5*Math.random()-5;a.duration=25;var b=Math.random()*Math.PI,c=Math.random()*Math.PI*2,d=50*Math.random()+40,e=a.nodes,f=new C(fa["int"](-1200,1200),fa["int"](-1200,1200),fa["int"](-1200,1200));null!=t.PositionVector3D?e.setReserved("PositionVector3D",f):e.h.PositionVector3D=f;a=a.nodes;
b=new C(d*Math.sin(b)*Math.cos(c),d*Math.cos(b)*Math.cos(c),d*Math.sin(c));null!=t.VelocityVector3D?a.setReserved("VelocityVector3D",b):a.h.VelocityVector3D=b},raininit:function(a){a.startTime=5*Math.random()-5;a.duration=5;var b=a.nodes,c=new C(fa["int"](-800,800),fa["int"](-800,800),fa["int"](-800,800));null!=t.PositionVector3D?b.setReserved("PositionVector3D",c):b.h.PositionVector3D=c;a=a.nodes;b=new C(0,fa["int"](-1200,-1500),0);null!=t.VelocityVector3D?a.setReserved("VelocityVector3D",b):a.h.VelocityVector3D=
b},polleninit:function(a){a.startTime=5*Math.random()-5;a.duration=25;var b=Math.random()*Math.PI,c=Math.random()*Math.PI*2,d=50*Math.random()+40,e=a.nodes,f=new C(fa["int"](-1200,1200),fa["int"](-1200,1200),fa["int"](-1200,1200));null!=t.PositionVector3D?e.setReserved("PositionVector3D",f):e.h.PositionVector3D=f;a=a.nodes;b=new C(d*Math.sin(b)*Math.cos(c),d*Math.cos(b)*Math.cos(c),d*Math.sin(c));null!=t.VelocityVector3D?a.setReserved("VelocityVector3D",b):a.h.VelocityVector3D=b},snowinit:function(a){a.startTime=
20*Math.random()-20;a.duration=20;var b=a.nodes,c=new C(fa["int"](-800,800),1E3+fa["int"](-800,800),fa["int"](-800,800));null!=t.PositionVector3D?b.setReserved("PositionVector3D",c):b.h.PositionVector3D=c;a=a.nodes;b=new C(fa["int"](-20,20),fa["int"](-60,-80),fa["int"](-20,20));null!=t.VelocityVector3D?a.setReserved("VelocityVector3D",b):a.h.VelocityVector3D=b},_particleAnimationSet:null,_particleMesh:null,_particleAnimator:null,type:null,numparticles:null,billboarded:null,texturesize:null,delayafterfinish:null,
initfunction:null,particletexture:null,colorchange:null,alpha:null,__class__:Rg});var jo=function(a,b,c){wb.call(this,a);this.cleancontainer();this.mesh=new Pb(new cj(b,c,1,1,!0,!0),null);this.set_colour(na.WHITE);this.container.addChild(this.mesh);this.popin()};m["entities.EntityPlane"]=jo;jo.__name__=["entities","EntityPlane"];jo.__super__=wb;jo.prototype=z(wb.prototype,{facecenter:function(){var a=new C(this.position.x,this.position.y,this.position.z);a.scaleBy(10);this.mesh.lookAt(a);this.mesh.pitch(90)},
_colour:null,get_colour:function(){return this._colour},set_colour:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(a,.4))}return this._colour=a},mesh:null,__class__:jo,__properties__:{set_colour:"set_colour",get_colour:"get_colour"}});var hl=function(a,b){wb.call(this,a);this.hasupdatefunction=!0;this.cleancontainer();var c=[];this.linehue=fa["int"](0,360);this._colour=na.hsl(this.linehue|0,.5,.5);this.linecontainer=new Cc;this.linesegments=
[];var d=0;if(1==b)d=75/Math.sqrt(2),c.push(new C(-75,0,-d)),c.push(new C(75,0,-d)),c.push(new C(0,-75,d)),c.push(new C(0,75,d)),this.linesegments.push(new Ca(c[0],c[1],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[0],c[2],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[0],c[3],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[1],c[2],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[1],c[3],this.get_colour(),
this.get_colour(),1)),this.linesegments.push(new Ca(c[2],c[3],this.get_colour(),this.get_colour(),1));else if(2==b)c.push(new C(75,75,75)),c.push(new C(75,75,-75)),c.push(new C(-75,75,75)),c.push(new C(75,-75,75)),c.push(new C(75,-75,-75)),c.push(new C(-75,75,-75)),c.push(new C(-75,-75,75)),c.push(new C(-75,-75,-75)),this.linesegments.push(new Ca(c[0],c[1],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[0],c[2],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[0],
c[3],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[3],c[4],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[1],c[4],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[2],c[6],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[2],c[5],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[6],c[7],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[5],c[7],this.get_colour(),
this.get_colour(),1)),this.linesegments.push(new Ca(c[4],c[7],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[6],c[3],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[5],c[1],this.get_colour(),this.get_colour(),1));else if(3==b)c.push(new C(75,0,0)),c.push(new C(0,0,75)),c.push(new C(0,75,0)),c.push(new C(-75,0,0)),c.push(new C(0,-75,0)),c.push(new C(0,0,-75)),this.linesegments.push(new Ca(c[0],c[1],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[0],
c[4],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[0],c[2],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[0],c[5],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[3],c[1],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[3],c[4],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[3],c[2],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[3],c[5],this.get_colour(),
this.get_colour(),1)),this.linesegments.push(new Ca(c[1],c[4],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[4],c[5],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[5],c[2],this.get_colour(),this.get_colour(),1)),this.linesegments.push(new Ca(c[2],c[1],this.get_colour(),this.get_colour(),1));else if(4==b){var d=(1+Math.sqrt(5))/2,e=1/d*75,d=75*(2-d);c.push(new C(d,0,75));c.push(new C(-d,0,75));c.push(new C(-e,e,e));c.push(new C(0,75,d));c.push(new C(e,
e,e));c.push(new C(e,-e,e));c.push(new C(0,-75,d));c.push(new C(-e,-e,e));c.push(new C(d,0,-75));c.push(new C(-d,0,-75));c.push(new C(-e,-e,-e));c.push(new C(0,-75,-d));c.push(new C(e,-e,-e));c.push(new C(e,e,-e));c.push(new C(0,75,-d));c.push(new C(-e,e,-e));c.push(new C(75,d,0));c.push(new C(-75,d,0));c.push(new C(-75,-d,0));c.push(new C(75,-d,0));this.lineseg(c[0],c[1]);this.lineseg(c[0],c[4]);this.lineseg(c[0],c[5]);this.lineseg(c[1],c[2]);this.lineseg(c[1],c[7]);this.lineseg(c[2],c[3]);this.lineseg(c[2],
c[17]);this.lineseg(c[3],c[4]);this.lineseg(c[3],c[14]);this.lineseg(c[4],c[16]);this.lineseg(c[5],c[6]);this.lineseg(c[5],c[19]);this.lineseg(c[6],c[7]);this.lineseg(c[6],c[11]);this.lineseg(c[7],c[18]);this.lineseg(c[8],c[9]);this.lineseg(c[8],c[12]);this.lineseg(c[8],c[13]);this.lineseg(c[9],c[10]);this.lineseg(c[9],c[15]);this.lineseg(c[10],c[11]);this.lineseg(c[10],c[18]);this.lineseg(c[11],c[12]);this.lineseg(c[12],c[19]);this.lineseg(c[13],c[14]);this.lineseg(c[13],c[16]);this.lineseg(c[14],
c[15]);this.lineseg(c[15],c[17]);this.lineseg(c[16],c[19]);this.lineseg(c[17],c[18])}else 5==b&&(d=(1+Math.sqrt(5))/2,e=150/(2*d),c.push(new C(0,e,-75)),c.push(new C(e,75,0)),c.push(new C(-e,75,0)),c.push(new C(0,e,75)),c.push(new C(0,-e,75)),c.push(new C(-75,0,e)),c.push(new C(75,0,e)),c.push(new C(0,-e,-75)),c.push(new C(75,0,-e)),c.push(new C(-75,0,-e)),c.push(new C(e,-75,0)),c.push(new C(-e,-75,0)),this.lineseg(c[0],c[1]),this.lineseg(c[0],c[2]),this.lineseg(c[0],c[7]),this.lineseg(c[0],c[8]),
this.lineseg(c[0],c[9]),this.lineseg(c[1],c[2]),this.lineseg(c[1],c[3]),this.lineseg(c[1],c[6]),this.lineseg(c[1],c[8]),this.lineseg(c[2],c[3]),this.lineseg(c[2],c[5]),this.lineseg(c[2],c[9]),this.lineseg(c[3],c[4]),this.lineseg(c[3],c[5]),this.lineseg(c[3],c[6]),this.lineseg(c[4],c[5]),this.lineseg(c[4],c[6]),this.lineseg(c[4],c[10]),this.lineseg(c[4],c[11]),this.lineseg(c[5],c[9]),this.lineseg(c[5],c[11]),this.lineseg(c[6],c[8]),this.lineseg(c[6],c[10]),this.lineseg(c[7],c[8]),this.lineseg(c[7],
c[9]),this.lineseg(c[7],c[10]),this.lineseg(c[7],c[11]),this.lineseg(c[8],c[10]),this.lineseg(c[9],c[11]),this.lineseg(c[10],c[11]));c=0;for(e=this.linesegments.length;c<e;)d=c++,this.linecontainer.addSegment(this.linesegments[d]);this.container.addChild(this.linecontainer);this.popin()};m["entities.EntityPolyhedra"]=hl;hl.__name__=["entities","EntityPolyhedra"];hl.__super__=wb;hl.prototype=z(wb.prototype,{lineseg:function(a,b){this.linesegments.push(new Ca(a,b,this._colour,this._colour,1))},_colour:null,
get_colour:function(){return this._colour},set_colour:function(a){this._colour=a;if(null!=this.linesegments)for(var b=0,c=this.linesegments.length;b<c;){var d=b++;this.linesegments[d].set_startColor(a);this.linesegments[d].set_endColor(a)}return this._colour},_alpha:null,get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha},extraupdate:function(){this.linehue=(this.linehue+25*I.deltatime)%360;this.set_colour(na.hsl(this.linehue|0,.5,.5))},linehue:null,linesegments:null,
linecontainer:null,__class__:hl,__properties__:{set_alpha:"set_alpha",get_alpha:"get_alpha",set_colour:"set_colour",get_colour:"get_colour"}});var Qe=function(a){wb.call(this,a);this.currentskybox="";this.cleancontainer();a=new Ha(32,32,!1,0);this.skyboxtexture=new df(a,a,a,a,a,a);this.skymesh=new Kg(this.skyboxtexture);this.container.addChild(this.skymesh)};m["entities.EntitySkybox"]=Qe;Qe.__name__=["entities","EntitySkybox"];Qe.__super__=wb;Qe.prototype=z(wb.prototype,{texture:function(a,b,c,d,
e,f){this.skyboxtexture=new df(S.getbitmapdata(a),S.getbitmapdata(b),S.getbitmapdata(c),S.getbitmapdata(d),S.getbitmapdata(e),S.getbitmapdata(f));null!=this.skymesh&&this.skymesh.dispose();this.skymesh=new Kg(this.skyboxtexture);this.container.addChild(this.skymesh)},changeskybox:function(a){this.cleancontainer();this.currentskybox=a;switch(a){case "black":case "blackwhitegradient":case "gradient":case "rainbow":case "white":var b=na.BLACK;"white"==a&&(b=na.WHITE);null!=this.skymesh&&this.skymesh.dispose();
if("gradient"==a||"blackwhitegradient"==a){var b=I.randomsystemcol(),c=I.randomsystemcol();if(b==c||"blackwhitegradient"==a)b=X.topcol;c=na.BLACK;a=new Ha(128,128,!1,b);for(var d=new Ha(128,128,!1,c),e=new Ha(128,128,!1,0),f=new ya,k=na.gethue(b),p=na.gethue(c),h=k*Math.PI/180,p=p*Math.PI/180,h=180*-Math.atan2(Math.sin(h-p),Math.cos(h-p))/Math.PI,p=na.getlightness(b),g=na.getlightness(c),b=na.getsaturation(b),c=na.getsaturation(c),n=0;128>n;){var l=n++;f.setTo(0,l,128,1);e.fillRect(f,na.hsl(k+h*l/
128,b+(c-b)*l/128,p+(g-p)*l/128))}this.skyboxtexture=new df(e,e,a,d,e,e)}else if("rainbow"==a){a=new Ha(128,128,!1,0);d=new ya;for(e=0;128>e;)f=e++,d.setTo(0,f,128,1),a.fillRect(d,na.hsl(360*f/128,.5,.5));d=new Ha(128,128,!1,na.hsl(0,.5,.5));this.skyboxtexture=new df(a,a,d,d,a,a)}else a=new Ha(32,32,!1,b),this.skyboxtexture=new df(a,a,a,a,a,a);this.skymesh=new Kg(this.skyboxtexture);this.container.addChild(this.skymesh);break;case "heikoirrgang/darkstormy":this.texture("skybox/heikoirrgang/darkstormy/darkstormy_front",
"skybox/heikoirrgang/darkstormy/darkstormy_back","skybox/heikoirrgang/darkstormy/darkstormy_up","skybox/heikoirrgang/darkstormy/darkstormy_down","skybox/heikoirrgang/darkstormy/darkstormy_right","skybox/heikoirrgang/darkstormy/darkstormy_left");break;case "ame/ame_desert":case "ame/ame_emerald":case "ame/ame_greenhaze":case "ame/ame_leather":case "ame/ame_limon":case "ame/ame_majesty":case "ame/ame_mudskip":case "ame/ame_oasis":case "ame/ame_powder":case "ame/ame_purple":case "ame/ame_rapture":case "ame/ame_redplanet":case "ame/ame_shadow":case "axon/misty":case "hipshot/interstellar":case "hipshot/stormydays":case "hipshot/violentdays":case "mightypete/awup":case "necros/hell":case "skiingpenguins/indigo":case "slowhandd/mnight":case "speedy/morose":case "wtfmrgibs/darkskies":d=
ba.getroot(a,"/");a=ba.getbranch(a,"/");this.texture("skybox/"+d+"/"+a+"/"+a+"_ft","skybox/"+d+"/"+a+"/"+a+"_bk","skybox/"+d+"/"+a+"/"+a+"_up","skybox/"+d+"/"+a+"/"+a+"_dn","skybox/"+d+"/"+a+"/"+a+"_rt","skybox/"+d+"/"+a+"/"+a+"_lf");break;case "space":this.texture("skybox/space/space_positive_x","skybox/space/space_negative_x","skybox/space/space_positive_y","skybox/space/space_negative_y","skybox/space/space_positive_z","skybox/space/space_negative_z");break;default:this.texture("skybox/"+a+"/posx",
"skybox/"+a+"/negx","skybox/"+a+"/posy","skybox/"+a+"/negy","skybox/"+a+"/posz","skybox/"+a+"/negz")}},skymesh:null,currentskybox:null,skyboxtexture:null,__class__:Qe});var Bg=function(a,b){wb.call(this,a);this.cleancontainer();this.mesh=new Pb(new Ok(b,32,32),null);this.set_colour(na.WHITE);this.container.addChild(this.mesh);this.popin()};m["entities.EntitySphere"]=Bg;Bg.__name__=["entities","EntitySphere"];Bg.__super__=wb;Bg.prototype=z(wb.prototype,{_colour:null,get_colour:function(){return this._colour},
set_colour:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(a,this.get_alpha()))}return this._colour=a},_alpha:null,get_alpha:function(){return this._alpha},set_alpha:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(this.get_colour(),a))}return this._alpha=a},environmentmapfromtexture:function(a){var b=new Lb;b.addMethod(new pf(a));a=0;for(var c=this.mesh.get_subMeshes();a<
c.get_length();){var d=c.get(a);++a;d.set_material(b)}},environmentmap:function(a){var b=new Lb;b.addMethod(new pf(a.get_entities_EntitySkybox(Qe).skyboxtexture));a=0;for(var c=this.mesh.get_subMeshes();a<c.get_length();){var d=c.get(a);++a;d.set_material(b)}},mesh:null,__class__:Bg,__properties__:{set_alpha:"set_alpha",get_alpha:"get_alpha",set_colour:"set_colour",get_colour:"get_colour"}});var il=function(a,b,c){wb.call(this,a);this.cleancontainer();this.mesh=new Pb(new ef(b,c,1E4),null);this.set_colour(na.WHITE);
this.container.addChild(this.mesh);this.popin()};m["entities.EntityStripe"]=il;il.__name__=["entities","EntityStripe"];il.__super__=wb;il.prototype=z(wb.prototype,{_colour:null,get_colour:function(){return this._colour},set_colour:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(a,.2))}return this._colour=a},mesh:null,__class__:il,__properties__:{set_colour:"set_colour",get_colour:"get_colour"}});var Mh=function(a){wb.call(this,a);this.cleancontainer();
this._colour=na.WHITE};m["entities.EntityText"]=Mh;Mh.__name__=["entities","EntityText"];Mh.__super__=wb;Mh.prototype=z(wb.prototype,{initcreate:function(a,b){var c=Ed.type(sh,!1,!1),c=this.mesh=new rh(40*a.length,40,a,c,40,b,!1,ff.CENTER);c.set_x(c.get_x()-20*a.length);c=this.mesh;c.set_y(c.get_y()-20);this.container.addChild(this.mesh);this.popin()},_text:null,get_text:function(){return this._text},set_text:function(a){null==this.mesh?this.initcreate(a,this._colour):(y.__cast(this.mesh,rh).mText=
a,y.__cast(this.mesh,rh).updateText());return this._text=a},_colour:null,get_colour:function(){return this._colour},set_colour:function(a){null!=this.mesh&&(y.__cast(this.mesh,rh).mColor=a,y.__cast(this.mesh,rh).updateText());return this._colour=a},facecenter:function(){var a=new C(this.position.x,this.position.y,this.position.z);a.scaleBy(10);this.mesh.lookAt(a);this.mesh.pitch(90);this.rotation(0,0,0)},mesh:null,__class__:Mh,__properties__:{set_colour:"set_colour",get_colour:"get_colour",set_text:"set_text",
get_text:"get_text"}});var jl=function(a,b,c){wb.call(this,a);this.cleancontainer();this.mesh=new Pb(new Qk(b,c),null);this.set_colour(na.WHITE);this.container.addChild(this.mesh);this.popin()};m["entities.EntityTorus"]=jl;jl.__name__=["entities","EntityTorus"];jl.__super__=wb;jl.prototype=z(wb.prototype,{_colour:null,get_colour:function(){return this._colour},set_colour:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(a))}return this._colour=
a},_alpha:null,get_alpha:function(){return this._alpha},set_alpha:function(a){for(var b=0,c=this.mesh.get_subMeshes();b<c.get_length();){var d=c.get(b);++b;d.set_material(new Lb(this.get_colour(),a))}return this._alpha=a},mesh:null,__class__:jl,__properties__:{set_alpha:"set_alpha",get_alpha:"get_alpha",set_colour:"set_colour",get_colour:"get_colour"}});var cm=function(){cf.call(this);this._t=new ko;this.addTask(this._t)};m["filters.InvertFilter"]=cm;cm.__name__=["filters","InvertFilter"];cm.__super__=
cf;cm.prototype=z(cf.prototype,{_t:null,__class__:cm});var Yb=function(a){cf.call(this);this.addTask(a)};m["filters.SimpleFilter"]=Yb;Yb.__name__=["filters","SimpleFilter"];Yb.__super__=cf;Yb.prototype=z(cf.prototype,{__class__:Yb});var rm=function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this._redCoeff=this._greenCoeff=this._blueCoeff=1;Ba.call(this);this._exposure=a;this._brightness=b;this._scale=c;this._bias=d;a=[1,1,1,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<
d;){var e=c++;b.set(e,a[e])}this.fc0=b;a=[.299,.587,.114,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc1=b;a=[1,1,1,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc2=b;a=[1,1,1,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc3=b};m["filters.filtertasks.AnselTask"]=rm;rm.__name__=["filters","filtertasks","AnselTask"];rm.__super__=Ba;rm.prototype=z(Ba.prototype,{fc0:null,fc1:null,fc2:null,fc3:null,_exposure:null,
_brightness:null,_scale:null,_bias:null,_redCoeff:null,_greenCoeff:null,_blueCoeff:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone>  \nexp ft1, ft0  \nmul ft1, ft1, fc0.xxxx  \nmul ft0, ft0, ft1  \nmov ft1.xyz, fc2.xyz  \nmul ft1.xyz, ft1.xyz, fc1.xyz  \nmov ft1.w, fc1.w  \ndp3 ft2.x, ft0, ft1  \nmov ft2.yzw, ft2.xxx  \nmul ft2.xyz, ft2.xyz, fc0.yyy  \nadd ft2.xyz, ft2.xyz, fc3.yyy  \nmax ft2.xyz, ft2.xyz, fc1.www  \nmul ft2.xyz, ft2.xyz, fc3.xxx  \nmov ft2.w, ft0.w  \nmov oc, ft2"},
activate:function(a,b,c){this.fc0.set(0,this._exposure);this.fc0.set(1,this._brightness);this.fc2.set(0,this._redCoeff);this.fc2.set(1,this._greenCoeff);this.fc2.set(2,this._blueCoeff);this.fc3.set(0,this._scale);this.fc3.set(1,this._bias);a.get_context3D().setProgramConstantsFromVector(0,0,this.fc0,1);a.get_context3D().setProgramConstantsFromVector(0,1,this.fc1,1);a.get_context3D().setProgramConstantsFromVector(0,2,this.fc2,1);a.get_context3D().setProgramConstantsFromVector(0,3,this.fc3,1)},__class__:rm});
var xm=function(){Ba.call(this);for(var a=[.5,.5,1,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.fc0=b;a=[.5,.5,1,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc1=b};m["filters.filtertasks.ArtBorderTask"]=xm;xm.__name__=["filters","filtertasks","ArtBorderTask"];xm.__super__=Ba;xm.prototype=z(Ba.prototype,{fc0:null,fc1:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone> \nmov ft6, v0 \nfrc ft6.x, ft6.x \nsub ft6.x, ft6.x, fc2.z \nmul ft6.x, ft6.x, fc2.x \nadd ft6.x, ft6.x, fc2.z \nfrc ft6.y, ft6.y \nsub ft6.y, ft6.y, fc2.z \nmul ft6.y, ft6.y, fc2.y \nadd ft6.y, ft6.y, fc2.z \nsge ft2.x, ft6.y, fc0.x  \nslt ft2.y, ft6.y, fc0.y  \nsge ft2.z, ft6.x, fc1.x  \nslt ft2.w, ft6.x, fc1.y  \nmul ft0.rgba, ft0.rgba, ft2.xxxx \nmul ft0.rgba, ft0.rgba, ft2.yyyy \nmul ft0.rgba, ft0.rgba, ft2.zzzz \nmul ft0.rgba, ft0.rgba, ft2.wwww \nmov oc, ft0 \n"},
activate:function(a,b,c){this.fc0.set(0,.2/S.view.get_renderer().get_textureRatioY());this.fc0.set(1,1-this.fc0.get(0));this.fc1.set(0,.2/S.view.get_renderer().get_textureRatioX());this.fc1.set(1,1-this.fc1.get(0));a.get_context3D().setProgramConstantsFromVector(0,0,this.fc0);a.get_context3D().setProgramConstantsFromVector(0,1,this.fc1);a=a.get_context3D();b=[S.view.get_renderer().get_textureRatioX(),S.view.get_renderer().get_textureRatioY(),.5,1];c=x.toFloatVector(null);for(var d=0,e=b.length;d<
e;){var f=d++;c.set(f,b[f])}a.setProgramConstantsFromVector(0,2,c)},__class__:xm});var am=function(){Ba.call(this);for(var a=[0,0,0,.5],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.fc0=b;a=[-1,0,1,9];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc1=b;a=[.8,.8,.8,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this._color=b};m["filters.filtertasks.BloomTask"]=am;am.__name__=["filters","filtertasks","BloomTask"];am.__super__=
Ba;am.prototype=z(Ba.prototype,{fc0:null,fc1:null,_color:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone>  \nmov ft1, fc0.xxxx  \nmov ft2.x, fc0.y  \nmul ft2.x, ft2.x, fc0.w  \ndiv ft2.x, fc1.z, ft2.x  \nmov ft2.y, fc0.z  \nmul ft2.y, ft2.y, fc0.w  \ndiv ft2.y, fc1.z, ft2.y  \nmov ft3.xy, fc1.xx  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.xy  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.xz  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.yx  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.yy  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.yz  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.zx  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.zy  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \nmov ft3.xy, fc1.zz  \nmul ft3.xy, ft3.xy, ft2.xy  \nadd ft3.xy, ft3.xy, v0.xy  \ntex ft4, ft3.xy, fs0<2d, clamp, linear, mipnone>  \nadd ft1, ft1, ft4  \ndiv ft1, ft1, fc1.wwww  \nadd ft1, ft1, ft0  \nmul ft1, ft1, fc2 \nmov oc, ft1"},
activate:function(a,b,c){this.fc0.set(1,v.width);this.fc0.set(2,v.height);a.get_context3D().setProgramConstantsFromVector(0,0,this.fc0,1);a.get_context3D().setProgramConstantsFromVector(0,1,this.fc1,1);a.get_context3D().setProgramConstantsFromVector(0,2,this._color,1)},__class__:am});var dm=function(){this.redOffset=new Pa(.005,0);Ba.call(this);for(var a=[0,1,0,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.offsetVars=b;a=[0,0,0,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<
d;)e=c++,b.set(e,a[e]);this.zerovar=b};m["filters.filtertasks.ChromaticAberrationTask"]=dm;dm.__name__=["filters","filtertasks","ChromaticAberrationTask"];dm.__super__=Ba;dm.prototype=z(Ba.prototype,{offsetVars:null,zerovar:null,redOffset:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone> \nmov ft1, fc1 \nadd ft1.xy, v0.xy, fc0.xy \ntex ft3, ft1.xy, fs0<2d, clamp, linear, mipnone> \nmov ft0.x, ft3.x \nmov oc, ft0"},activate:function(a,b,c){this.offsetVars.set(0,-this.redOffset.x);
this.offsetVars.set(1,-this.redOffset.y);a.get_context3D().setProgramConstantsFromVector(0,0,this.offsetVars);a.get_context3D().setProgramConstantsFromVector(0,1,this.zerovar)},__class__:dm});var wm=function(){Ba.call(this);for(var a=[.5,.5,1,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.constants=b};m["filters.filtertasks.CinemaTask"]=wm;wm.__name__=["filters","filtertasks","CinemaTask"];wm.__super__=Ba;wm.prototype=z(Ba.prototype,{constants:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone> \nmov ft6, v0 \nfrc ft6.x, ft6.x \nsub ft6.x, ft6.x, fc1.z \nmul ft6.x, ft6.x, fc1.x \nadd ft6.x, ft6.x, fc1.z \nfrc ft6.y, ft6.y \nsub ft6.y, ft6.y, fc1.z \nmul ft6.y, ft6.y, fc1.y \nadd ft6.y, ft6.y, fc1.z \nsge ft2.x, ft6.y, fc0.x  \nslt ft2.y, ft6.y, fc0.y  \nmul ft0.rgba, ft0.rgba, ft2.xxxx \nmul ft0.rgba, ft0.rgba, ft2.yyyy \nmov oc, ft0 \n"},
activate:function(a,b,c){D.arton?this.constants.set(0,.22/S.view.get_renderer().get_textureRatioY()):this.constants.set(0,.2/S.view.get_renderer().get_textureRatioY());this.constants.set(1,1-this.constants.get(0));a.get_context3D().setProgramConstantsFromVector(0,0,this.constants);a=a.get_context3D();b=[S.view.get_renderer().get_textureRatioX(),S.view.get_renderer().get_textureRatioY(),.5,1];c=x.toFloatVector(null);for(var d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.setProgramConstantsFromVector(0,
1,c)},__class__:wm});var yd=function(a){Ba.call(this);this.mUserMatrix=x.toFloatVector(null);this.mShaderMatrix=x.toFloatVector(null);this.set_matrix(a)};m["filters.filtertasks.ColourMatrixTask"]=yd;yd.__name__=["filters","filtertasks","ColourMatrixTask"];yd.__super__=Ba;yd.prototype=z(Ba.prototype,{mUserMatrix:null,mShaderMatrix:null,getFragmentCode:function(){return"tex ft0, v0,  fs0 <2d, clamp, linear, mipnone>  \nmax ft0, ft0, fc5              \ndiv ft0.xyz, ft0.xyz, ft0.www  \nm44 ft0, ft0, fc0              \nadd ft0, ft0, fc4              \nmul ft0.xyz, ft0.xyz, ft0.www  \nmov oc, ft0"},
activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this.mShaderMatrix,5);a.get_context3D().setProgramConstantsFromVector(0,5,yd.MIN_COLOR)},invert:function(){return this.concatValues(-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0)},adjustSaturation:function(a){++a;var b=1-a,c=.299*b,d=.587*b,b=.114*b;return this.concatValues(c+a,d,b,0,0,c,d+a,b,0,0,c,d,b+a,0,0,0,0,0,1,0)},adjustContrast:function(a){a+=1;var b=128*(1-a);return this.concatValues(a,0,0,0,b,0,a,0,0,b,0,0,a,
0,b,0,0,0,1,0)},adjustBrightness:function(a){a*=255;return this.concatValues(1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0)},adjustHue:function(a){a*=Math.PI;var b=Math.cos(a);a=Math.sin(a);return this.concatValues(.299+.7010000000000001*b+-.299*a,.587+-.587*b+-.587*a,.114+-.114*b+.886*a,0,0,.299+-.299*b+.143*a,.587+.41300000000000003*b+.14*a,.114+-.114*b+-.283*a,0,0,.299+-.299*b+-.7010000000000001*a,.587+-.587*b+.587*a,.114+.886*b+.114*a,0,0,0,0,0,1,0)},tint:function(a,b){null==b&&(b=1);var c=1-b,d=(a>>
16&255)/255*b,e=(a>>8&255)/255*b,f=(a&255)/255*b;return this.concatValues(c+.299*d,.587*d,.114*d,0,0,.299*e,c+.587*e,.114*e,0,0,.299*f,.587*f,c+.114*f,0,0,0,0,0,1,0)},reset:function(){this.set_matrix(null);return this},concat:function(a){for(var b=0,c=0;4>c;){c++;for(var d=0;5>d;){var e=d++;yd.sTmpMatrix1.set(b+e,a.get(b)*this.mUserMatrix.get(e)+a.get(b+1)*this.mUserMatrix.get(e+5)+a.get(b+2)*this.mUserMatrix.get(e+10)+a.get(b+3)*this.mUserMatrix.get(e+15)+(4==e?a.get(b+4):0))}b+=5}this.copyMatrix(yd.sTmpMatrix1,
this.mUserMatrix);this.updateShaderMatrix();return this},concatValues:function(a,b,c,d,e,f,k,p,h,g,n,l,m,q,r,t,u,v,y,z){a=[a,b,c,d,e,f,k,p,h,g,n,l,m,q,r,t,u,v,y,z];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);yd.sTmpMatrix2=b;this.concat(yd.sTmpMatrix2);return this},copyMatrix:function(a,b){for(var c=0;20>c;){var d=c++;b.set(d,a.get(d))}},updateShaderMatrix:function(){for(var a=[this.mUserMatrix.get(0),this.mUserMatrix.get(1),this.mUserMatrix.get(2),this.mUserMatrix.get(3),
this.mUserMatrix.get(5),this.mUserMatrix.get(6),this.mUserMatrix.get(7),this.mUserMatrix.get(8),this.mUserMatrix.get(10),this.mUserMatrix.get(11),this.mUserMatrix.get(12),this.mUserMatrix.get(13),this.mUserMatrix.get(15),this.mUserMatrix.get(16),this.mUserMatrix.get(17),this.mUserMatrix.get(18),this.mUserMatrix.get(4)/255,this.mUserMatrix.get(9)/255,this.mUserMatrix.get(14)/255,this.mUserMatrix.get(19)/255],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.mShaderMatrix=b},
get_matrix:function(){return this.mUserMatrix},set_matrix:function(a){if(null!=a&&20!=a.get_length())throw new H("Error: ColourMatrixTask - Invalid matrix length: must be 20");null==a?this.mUserMatrix=yd.IDENTITY.copy():this.copyMatrix(a,this.mUserMatrix);this.updateShaderMatrix();return this.mUserMatrix},__class__:yd,__properties__:z(Ba.prototype.__properties__,{set_matrix:"set_matrix",get_matrix:"get_matrix"})});var fm=function(){Ba.call(this);this.amount=1;this.sample=new vb(S.getimagebitmapdata("data",
"colourmaps/crossprocessing"),!1)};m["filters.filtertasks.CrossProcessingTask"]=fm;fm.__name__=["filters","filtertasks","CrossProcessingTask"];fm.__super__=Ba;fm.prototype=z(Ba.prototype,{amount:null,sample:null,dispose:function(){this.sample.dispose();Ba.prototype.dispose.call(this)},getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone>  \nmov ft1.y, fc0.y  \nmov ft1.x, ft0.x  \ntex ft2, ft1.xy, fs1<2d, clamp, linear, mipnone>  \nmov ft3.x, ft2.x  \nmov ft1.x, ft0.y  \ntex ft2, ft1.xy, fs1<2d, clamp, linear, mipnone>  \nmov ft3.y, ft2.y  \nmov ft1.x, ft0.z  \ntex ft2, ft1.xy, fs1<2d, clamp, linear, mipnone>  \nmov ft3.z, ft2.z  \nsub ft2.xyz, ft3.xyz, ft0.xyz  \nmul ft2.xyz, ft2.xyz, fc0.x  \nadd ft2.xyz, ft2.xyz, ft0.xyz  \nmov ft0.xyz, ft2.xyz  \nmov oc, ft0"},
activate:function(a,b,c){b=a.get_context3D();c=[this.amount,.5,0,0];for(var d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}b.setProgramConstantsFromVector(0,0,d);a.get_context3D().setTextureAt(1,this.sample.getTextureForStage3D(a));a.get_context3D().setBlendFactors(7,5)},deactivate:function(a){a.get_context3D().setTextureAt(1,null);a.get_context3D().setBlendFactors(2,9)},__class__:fm});var tm=function(){this.autoZoom=!0;this._scale=128;this.zoom=0;this.centerX=this.centerY=.5;
this.radius2=4;this.radius1=-2;Ba.call(this);for(var a=[1,0,Math.PI,2*Math.PI],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.fc0=b;a=[1E-9,Math.PI/2,0,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc1=b;a=[0,0,.5,-.5];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc2=b;a=[0,0,0,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.fc3=b;a=[.1,.1,.5,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<
d;)e=c++,b.set(e,a[e]);this.fc4=b};m["filters.filtertasks.EscherTask"]=tm;tm.__name__=["filters","filtertasks","EscherTask"];tm.__super__=Ba;tm.prototype=z(Ba.prototype,{fc0:null,fc1:null,fc2:null,fc3:null,fc4:null,radius1:null,radius2:null,centerX:null,centerY:null,zoom:null,_scale:null,autoZoom:null,getFragmentCode:function(){return"mov ft0.xy, v0.xy  \nadd ft0.xy, ft0.xy, fc2.xy  \nmul ft1.x, ft0.x, ft0.x  \nmul ft1.y, ft0.y, ft0.y  \nadd ft1.x, ft1.x, ft1.y  \nlog ft1.x, ft1.x  \nmul ft1.x, ft1.x, fc2.z  \nmov ft2.xy, ft0.xy  \nadd ft2.x, ft2.x, fc1.x  \ndiv ft3.x, ft2.y, ft2.x  \nneg ft3.y, ft3.x         \nmul ft4.y, fc1.y, ft3.x  \nadd ft4.z, fc0.x, ft3.x  \ndiv ft5.x, ft4.y, ft4.z  \nmul ft4.y, fc1.7, ft3.y  \nadd ft4.z, fc0.x, ft3.y  \ndiv ft5.y, ft4.y, ft4.z  \nslt ft4.x, ft2.x, fc0.y  \nslt ft4.y, ft2.y, fc0.y  \nsub ft4.z, fc0.x, ft4.x  \nsub ft4.w, fc0.x, ft4.y  \nmul ft3.x, ft4.z, ft4.w  \nmul ft3.y, ft4.x, ft4.w  \nmul ft3.z, ft4.x, ft4.y  \nmul ft3.w, ft4.z, ft4.y  \nsub ft4.x, ft5.x, fc0.z  \nneg ft4.y, ft5.y         \nmov ft4.z, ft5.x         \nsub ft4.w, fc0.z, ft5.y  \nmul ft4, ft4, ft3        \nadd ft4.xy, ft4.xz, ft4.yw  \nadd ft4.x, ft4.x, ft4.y     \nmov ft1.y, ft4.x         \nmov ft2.x, fc3.w         \nmov ft2.y, fc3.y         \nlog ft2.y, ft2.y         \ndiv ft2.y, ft2.y, fc0.w  \nmul ft2.y, ft2.y, fc3.z  \nneg ft2.y, ft2.y         \nmul ft3.x, ft1.x, ft2.x  \nmul ft3.y, ft1.y, ft2.y  \nsub ft3.x, ft3.x, ft3.y  \nmul ft4.x, ft1.x, ft2.y  \nmul ft4.y, ft1.y, ft2.x  \nadd ft3.y, ft4.x, ft4.y  \nneg ft4.x, ft3.y         \ndiv ft4.x, ft4.x, fc0.w  \nmov ft4.y, fc3.y         \nlog ft4.y, ft4.y         \ndiv ft4.y, ft3.x, ft4.y  \nsub ft4.y, ft4.y, fc3.x  \nfrc ft4.x, ft4.x \nsub ft4.x, ft4.x, fc4.z \nmul ft4.x, ft4.x, fc4.x \nadd ft4.x, ft4.x, fc4.z \nfrc ft4.y, ft4.y \nsub ft4.y, ft4.y, fc4.z \nmul ft4.y, ft4.y, fc4.y \nadd ft4.y, ft4.y, fc4.z \ntex oc, ft4.xy, fs0<2d, repeat, linear, mipnone>"},
activate:function(a,b,c){this.fc2.set(0,-this.centerX);this.fc2.set(1,-this.centerY);this.fc3.set(0,this.zoom);this.fc3.set(1,this._scale);this.fc3.set(2,this.radius1);this.fc3.set(3,this.radius2);this.fc4.set(0,S.view.get_renderer().get_textureRatioX());this.fc4.set(1,S.view.get_renderer().get_textureRatioY());this.autoZoom&&(this.zoom+=I.deltatime/20*qb.rate);a.get_context3D().setProgramConstantsFromVector(0,0,this.fc0);a.get_context3D().setProgramConstantsFromVector(0,1,this.fc1);a.get_context3D().setProgramConstantsFromVector(0,
2,this.fc2);a.get_context3D().setProgramConstantsFromVector(0,3,this.fc3);a.get_context3D().setProgramConstantsFromVector(0,4,this.fc4)},__class__:tm});var pm=function(){Ba.call(this);for(var a=[1,1,1,1],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.vars=b};m["filters.filtertasks.FlipHTask"]=pm;pm.__name__=["filters","filtertasks","FlipHTask"];pm.__super__=Ba;pm.prototype=z(Ba.prototype,{vars:null,getFragmentCode:function(){return"mov ft1, v0 \nsub ft1.x, fc0.x, v0.x \ntex ft0, ft1, fs0<2d, clamp, linear, mipnone> \nmov oc, ft0 \n"},
activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this.vars)},__class__:pm});var qm=function(){Ba.call(this);for(var a=[1,1,1,1],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.vars=b};m["filters.filtertasks.FlipVTask"]=qm;qm.__name__=["filters","filtertasks","FlipVTask"];qm.__super__=Ba;qm.prototype=z(Ba.prototype,{vars:null,getFragmentCode:function(){return"mov ft1, v0 \nsub ft1.y, fc0.y, v0.y \ntex ft0, ft1, fs0<2d, clamp, linear, mipnone> \nmov oc, ft0 \n"},
activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this.vars)},__class__:qm});var ym=function(a){Ba.call(this);this.sampleimage=a;this.sample=new vb(S.getimagebitmapdata("data","colourmaps/"+this.sampleimage),!1)};m["filters.filtertasks.FourColourTask"]=ym;ym.__name__=["filters","filtertasks","FourColourTask"];ym.__super__=Ba;ym.prototype=z(Ba.prototype,{sample:null,sampleimage:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone>  \nmul ft0, ft0, fc0  \nmul ft1, ft0.x, fc1.x          \nmul ft2, ft0.y, fc1.y          \nadd ft1, ft1, ft2              \nmul ft2, ft0.z, fc1.z          \nadd ft1, ft1, ft2              \nmul ft1, ft1, fc2.x            \nmul ft0.xyz, ft0.xyz, fc2.y    \nadd ft0.xyz, ft0.xyz, ft1      \ntex ft1, ft1.r, fs1<2d, clamp, linear, mipnone>  \nmov oc, ft1"},
activate:function(a,b,c){b=a.get_context3D();c=[1.25,1.25,1.25,1.25];for(var d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}b.setProgramConstantsFromVector(0,0,d);b=a.get_context3D();c=[.3,.59,.11,0];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);b.setProgramConstantsFromVector(0,1,d);b=a.get_context3D();c=[1,0,0,0];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);b.setProgramConstantsFromVector(0,2,d);a.get_context3D().setTextureAt(1,
this.sample.getTextureForStage3D(a));a.get_context3D().setBlendFactors(7,5)},deactivate:function(a){a.get_context3D().setTextureAt(1,null);a.get_context3D().setBlendFactors(2,9)},__class__:ym});var om=function(){Ba.call(this)};m["filters.filtertasks.GammaTask"]=om;om.__name__=["filters","filtertasks","GammaTask"];om.__super__=Ba;om.prototype=z(Ba.prototype,{getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone>  \nmul ft0, ft0, fc0  \nmov oc, ft0"},activate:function(a,b,c){a=
a.get_context3D();b=[D.gamma,D.gamma,D.gamma,D.gamma];c=x.toFloatVector(null);for(var d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.setProgramConstantsFromVector(0,0,c)},__class__:om});var mm=function(a,b){null==a&&(a=30);this._density=2;this._exposure=.35;this._decay=.87;this._weight=.5;Ba.call(this);this.steps=a;for(var c=[.5,.5,1,1],d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}this.lightPos=d;c=[1,1,1,1];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);
this.vars1=d;c=[1,1,1,1];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);this.vars2=d};m["filters.filtertasks.GodRaysTask"]=mm;mm.__name__=["filters","filtertasks","GodRaysTask"];mm.__super__=Ba;mm.prototype=z(Ba.prototype,{steps:null,lightPos:null,vars1:null,vars2:null,_weight:null,_decay:null,_exposure:null,_density:null,getFragmentCode:function(){var a;a="sub ft0.xy, v0.xy, fc0.xy \nmul ft0.xy, ft0.xy, fc1.ww \n";a+="tex ft1,  v0, fs0 <2d, clamp, linear, mipnone> \n";a+="mov ft2.x, fc0.w \n";
a+="mov ft4.xy, v0.xy \n";for(var b=0,c=this.steps;b<c;)b++,a+="sub ft4.xy, ft4.xy, ft0.xy \n",a+="tex ft3,  ft4.xy, fs0 <2d, clamp, linear, mipnone> \n",a+="mul ft2.y, ft2.x, fc2.x \n",a+="mul ft3.xyz, ft3.xyz, ft2.yyy \n",a+="add ft1.xyz, ft1.xyz, ft3.xyz \n",a+="mul ft2.x, ft2.x, fc2.y \n";a+="mul ft1.xyz, ft1.xyz, fc2.zzz \n";return a+="mov oc, ft1"},activate:function(a,b,c){this.lightPos.set(0,.5);this.lightPos.set(1,.5);this.vars1.set(0,this.steps);this.vars1.set(1,this._density);this.vars1.set(2,
this.steps*this.vars1.get(1));this.vars1.set(3,1/this.vars1.get(2));this.vars2.set(0,this._weight);this.vars2.set(1,this._decay);this.vars2.set(2,this._exposure);a.get_context3D().setProgramConstantsFromVector(0,0,this.lightPos,1);a.get_context3D().setProgramConstantsFromVector(0,1,this.vars1,1);a.get_context3D().setProgramConstantsFromVector(0,2,this.vars2,1);a.get_context3D().setBlendFactors(7,5)},deactivate:function(a){a.get_context3D().setBlendFactors(2,9)},__class__:mm});var ko=function(){Ba.call(this)};
m["filters.filtertasks.InvertFilterTask"]=ko;ko.__name__=["filters","filtertasks","InvertFilterTask"];ko.__super__=Ba;ko.prototype=z(Ba.prototype,{getFragmentCode:function(){return"tex ft0, v0, fs0 <2d, clamp, linear, mipnone>  \nmax ft0, ft0, fc1              \ndiv ft0.xyz, ft0.xyz, ft0.www  \nsub ft0.xyz, fc0.xyz, ft0.xyz  \nmul ft0.xyz, ft0.xyz, ft0.www  \nmov oc, ft0                    \n"},activate:function(a,b,c){b=a.get_context3D();c=[1,1,1,1];for(var d=x.toFloatVector(null),e=0,f=c.length;e<
f;){var k=e++;d.set(k,c[k])}b.setProgramConstantsFromVector(0,0,d);a=a.get_context3D();b=[0,0,0,1E-4];c=x.toFloatVector(null);d=0;for(e=b.length;d<e;)f=d++,c.set(f,b[f]);a.setProgramConstantsFromVector(0,1,c)},__class__:ko});var gk=function(a){this.levels=3;this.speed=10;this.time=0;Ba.call(this);this.time=null==a?5.65:a};m["filters.filtertasks.KaleidoscopeTask"]=gk;gk.__name__=["filters","filtertasks","KaleidoscopeTask"];gk.__super__=Ba;gk.prototype=z(Ba.prototype,{time:null,speed:null,levels:null,
getFragmentCode:function(){return"mov ft2.xy, v0.xy\t\t\t\t\t\t\nmov ft2.w, fc2.x\t\t\t\t\t\t\nsub ft2.z, fc2.y, ft2.w\t\t\t\nmul ft2.z, ft2.z, ft2.x\t\t\t\nadd ft2.x, ft2.z, fc2.x\t\t\t\nsub ft2.z, fc2.y, ft2.w\t\t\t\nmul ft2.z, ft2.z, ft2.y\t\t\t\nadd ft2.y, ft2.z, fc2.x\t\t\t\ndiv ft2.x, ft2.x, fc3.w\t\t\t\nadd ft2.x, ft2.x, fc1.x\t\t\t\ndiv ft3.x, ft2.y, ft2.x\t\t\t\nneg ft3.y, ft3.x \t\t\t\t\t\t\nmul ft4.y, fc1.y, ft3.x \t\t\nadd ft4.z, fc0.x, ft3.x\t\t\t\ndiv ft5.x, ft4.y, ft4.z  \t\t\nmul ft4.y, fc1.y, ft3.y\t\t\t\nadd ft4.z, fc0.x, ft3.y\t\t\t\ndiv ft5.y, ft4.y, ft4.z  \t\t\nslt ft4.x, ft2.x, fc0.y\t\t\t\nslt ft4.y, ft2.y, fc0.y\t\t\t\nsub ft4.z, fc0.x, ft4.x\t\t\t\nsub ft4.w, fc0.x, ft4.y\t\t\t\nmul ft3.x, ft4.z, ft4.w\t\t\t\nmul ft3.y, ft4.x, ft4.w\t\t\t\nmul ft3.z, ft4.x, ft4.y\t\t\t\nmul ft3.w, ft4.z, ft4.y\t\t\t\nsub ft4.x, ft5.x, fc0.z \t\t\nneg ft4.y, ft5.y      \t\t\t\nmov ft4.z, ft5.x \t\t\t\t\t\t\nsub ft4.w, fc0.z, ft5.y \t\t\nmul ft4, ft4, ft3\t\t\t\t\t\t\nadd ft4.xy, ft4.xz, ft4.yw \t\nadd ft4.x, ft4.x, ft4.y\t\t\t\nmul ft0.x, ft2.x, ft2.x\t\t\t\nmul ft0.y, ft2.y, ft2.y\t\t\t\nadd ft0.x, ft0.x, ft0.y\t\t\t\nsqt ft0.x, ft0.x\t\t\t\t\t\t\nmov ft5.x, fc2.z\t\t\t\t\t\t\ndiv ft5.x, ft5.x, fc1.w\t\t\t\nadd ft5.x, ft4.x, ft5.x\t\t\t\ndiv ft5.y, ft5.x, fc2.z\t\t\t\nfrc ft5.y, ft5.y\t\t\t\t\t\t\nmul ft5.y, ft5.y, fc2.z\t\t\t\nmov ft5.x, fc2.z\t\t\t\t\t\t\ndiv ft5.x, ft5.x fc3.z\t\t\t\nsub ft5.x, ft5.y, ft5.x\t\t\t\nabs ft5.x, ft5.x\t\t\t\t\t\t\nadd ft5.y, ft0.x, fc2.y\t\t\t\ndiv ft4.x, ft5.x, ft5.y\t\t\t\nmul ft0.x, ft0.x, fc3.x\t\t\t\ncos ft1.x, ft4.x\t\t\t\t\t\t\nmul ft1.x, ft1.x, ft0.x\t\t\t\nsin ft1.y, ft4.x\t\t\t\t\t\t\nmul ft1.y, ft1.y, ft0.x\t\t\t\nmov ft4.x, fc2.w\t\t\t\t\t\t\ncos ft2.x, ft4.x\t\t\t\t\t\t\nsin ft2.y, ft4.x\t\t\t\t\t\t\nmul ft3.x, ft2.y, fc3.y\t\t\t\nmul ft3.y, ft1.y, ft2.y\t\t\t\nmul ft3.z, ft1.x, ft2.x\t\t\t\nsub ft6.x, ft3.z, ft3.y\t\t\t\nsub ft6.x, ft6.x, ft3.x\t\t\t\nmul ft3.x, ft2.x, fc3.y\t\t\t\nmul ft3.y, ft1.y, ft2.x\t\t\t\nmul ft3.z, ft1.x, ft2.y\t\t\t\nadd ft6.y, ft3.z, ft3.y\t\t\t\nadd ft6.y, ft6.y, ft3.x\t\t\t\nmul ft6.xy, ft6.xy, fc3.z\t\t\nfrc ft6.x, ft6.x \nsub ft6.x, ft6.x, fc4.z \nmul ft6.x, ft6.x, fc4.x \nadd ft6.x, ft6.x, fc4.z \nfrc ft6.y, ft6.y \nsub ft6.y, ft6.y, fc4.z \nmul ft6.y, ft6.y, fc4.y \nadd ft6.y, ft6.y, fc4.z \ntex oc, ft6.xy, fs0<2d, clamp, nearest, mipnone>"},
activate:function(a,b,c){this.time+=I.deltatime/100*qb.rate;b=a.get_context3D();c=[1,0,Math.PI,2*Math.PI];for(var d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}b.setProgramConstantsFromVector(0,0,d);b=a.get_context3D();c=[1E-10,Math.PI/2,0,4];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);b.setProgramConstantsFromVector(0,1,d);b=a.get_context3D();c=[-1,1,Math.PI/this.levels,this.time];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);b.setProgramConstantsFromVector(0,
2,d);b=a.get_context3D();c=[.1,.2,2,.51];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);b.setProgramConstantsFromVector(0,3,d);a=a.get_context3D();b=[S.view.get_renderer().get_textureRatioX(),S.view.get_renderer().get_textureRatioY(),.5,1];c=x.toFloatVector(null);d=0;for(e=b.length;d<e;)f=d++,c.set(f,b[f]);a.setProgramConstantsFromVector(0,4,c)},__class__:gk});var sm=function(a,b,c){null==c&&(c=.01);null==b&&(b=45);null==a&&(a=1);Ba.call(this);this.time=0;this._size=a;this._angle=
b;this._distance=c;a=[1,1,1,2];b=x.toFloatVector(null);c=0;for(var d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.vars=b};m["filters.filtertasks.LineGlitchTask"]=sm;sm.__name__=["filters","filtertasks","LineGlitchTask"];sm.__super__=Ba;sm.prototype=z(Ba.prototype,{vars:null,_size:null,_angle:null,_distance:null,getFragmentCode:function(){return"mov ft2.x, fc0.y  \ncos ft2.x, ft2.x  \nmov ft2.y, fc0.y  \nsin ft2.y, ft2.y  \nmul ft2.z, v0.x, ft2.x  \nmul ft1.x, v0.y, ft2.y  \nadd ft1.x, ft1.x, ft2.z  \nneg ft2.y, ft2.y  \nmul ft3.x, fc0.z, ft2.y  \nmul ft3.y, fc0.z, ft2.x  \nmov ft4.x, fc0.x  \nmul ft4.x, ft4.x, fc0.w  \ndiv ft5.x, ft1.x, ft4.x  \nfrc ft5.x, ft5.x  \nmul ft5.x, ft5.x, ft4.x  \nsub ft1.xy, v0.xy, ft3.xy  \ntex ft1, ft1.xy, fs0<2d, repeat, linear, mipnone>  \nadd ft2.xy, v0.xy, ft3.xy  \ntex ft2, ft2.xy, fs0<2d, repeat, linear, mipnone>  \nsge ft6.xyz, fc0.x, ft5.x  \nmul ft6.xyz, ft6.xyz, ft1.xyz  \nslt ft4.xxx, fc0.x, ft5.x  \nmul ft4.xxx, ft4.xxx, ft2.xyz  \nadd ft6.xyz, ft6.xyz, ft4.xxx  \nmov ft6.w, ft1.w  \nmov oc, ft6"},
activate:function(a,b,c){this.time+=qb.rate*I.deltatime*2;this._distance=Math.sin(this.time)/100;this._angle=(this._angle+60*qb.rate*I.deltatime)%360;b=Math.min(S.gfxstage.stageWidth,S.gfxstage.stageHeight);this.vars.set(0,this._size/b);this.vars.set(1,this._angle*Math.PI/180);this.vars.set(2,this._distance);a.get_context3D().setProgramConstantsFromVector(0,0,this.vars)},time:null,__class__:sm});var fk=function(a){Ba.call(this);this.pixelsize=a};m["filters.filtertasks.LowRezTask"]=fk;fk.__name__=
["filters","filtertasks","LowRezTask"];fk.__super__=Ba;fk.prototype=z(Ba.prototype,{getFragmentCode:function(){return"div ft0, v0, fc0  \nfrc ft1, ft0  \nsub ft0, ft0, ft1  \nmul ft0, ft0, fc0  \ntex oc, ft0, fs0<2d, clamp, linear>"},activate:function(a,b,c){a=a.get_context3D();b=[this.pixelsize/S.gfxstage.stageWidth,this.pixelsize/S.gfxstage.stageHeight,1,1];c=x.toFloatVector(null);for(var d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.setProgramConstantsFromVector(0,0,c)},pixelsize:null,__class__:fk});
var km=function(){Ba.call(this);for(var a=[.5,.5,1,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.constants=b};m["filters.filtertasks.MirrorReflectTask"]=km;km.__name__=["filters","filtertasks","MirrorReflectTask"];km.__super__=Ba;km.prototype=z(Ba.prototype,{constants:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone> \nmov ft2, v0 \nsub ft2.x, fc1.x, v0.x \ntex ft1, ft2, fs0<2d, clamp, linear, mipnone> \nmov ft3, v0 \nsub ft3.y, fc1.y, v0.y \ntex ft2, ft3, fs0<2d, clamp, linear, mipnone> \nmov ft4, v0 \nsub ft4.x, fc1.x, v0.x \nsub ft4.y, fc1.y, v0.y \ntex ft3, ft4, fs0<2d, clamp, linear, mipnone> \nsge ft4.x, v0.x, fc0.x  \nsub ft4.y, fc1.x, ft4.x \nsge ft5.x, v0.y, fc0.y  \nsub ft5.y, fc1.x, ft5.x \nmul ft0.rgba, ft0.rgba, ft4.yyyy \nmul ft0.rgba, ft0.rgba, ft5.yyyy \nmul ft1.rgba, ft1.rgba, ft4.xxxx \nmul ft1.rgba, ft1.rgba, ft5.yyyy \nmul ft2.rgba, ft2.rgba, ft4.yyyy \nmul ft2.rgba, ft2.rgba, ft5.xxxx \nmul ft3.rgba, ft3.rgba, ft4.xxxx \nmul ft3.rgba, ft3.rgba, ft5.xxxx \nadd ft4, ft0, ft1 \nadd ft1, ft4, ft2 \nadd ft0, ft1, ft3 \nmov oc, ft0 \n"},
activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this.constants);a=a.get_context3D();b=[1,1,1,1];c=x.toFloatVector(null);for(var d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.setProgramConstantsFromVector(0,1,c)},__class__:km});var im=function(){Ba.call(this);for(var a=[.5,.5,1,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.constants=b};m["filters.filtertasks.MirrorTask"]=im;im.__name__=["filters","filtertasks","MirrorTask"];im.__super__=
Ba;im.prototype=z(Ba.prototype,{constants:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone> \nmov ft2, v0 \nsub ft2.x, fc1.x, v0.x \ntex ft1, ft2, fs0<2d, clamp, linear, mipnone> \nsge ft3.x, v0.x, fc0.x  \nsub ft3.y, fc1.x, ft3.x \nmul ft0.rgba, ft0.rgba, ft3.yyyy \nmul ft1.rgba, ft1.rgba, ft3.xxxx \nadd ft2, ft0, ft1 \nmov oc, ft2 \n"},activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this.constants);a=a.get_context3D();b=[1,1,1,1];c=
x.toFloatVector(null);for(var d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.setProgramConstantsFromVector(0,1,c)},__class__:im});var nm=function(){Ba.call(this);this._size=180;this._scale=4;this._angle=Math.PI/2;for(var a=[1,1,1,1],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.vars=b;a=[4,5,10,3];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.constants=b};m["filters.filtertasks.NewsprintTask"]=nm;nm.__name__=["filters","filtertasks","NewsprintTask"];
nm.__super__=Ba;nm.prototype=z(Ba.prototype,{vars:null,constants:null,_size:null,_scale:null,_angle:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, nearest, nomip>  \nmov ft1, fc0.w  \nadd ft1.x, ft0.x, ft0.y  \nadd ft1.x, ft1.x, ft0.z  \ndiv ft1.x, ft1.x, fc1.w  \nmul ft2, ft1.x, fc1.z   \nsub ft2, ft2, fc1.y   \nmov ft5, fc0.w   \nmov ft5.x, fc0.x  \nsin ft5.x, ft5.x  \nmov ft5.y, fc0.x   \ncos ft5.y, ft5.y  \nmul ft6, v0, fc0.z  \nsub ft6, ft6, fc0.w   \nmov ft7, fc0.w  \nmul ft7.z, ft5.y, ft6.x  \nmul ft7.w, ft5.x, ft6.y  \nsub ft7.x, ft7.z, ft7.w  \nmul ft7.x, ft7.x, fc0.y   \nmul ft7.z, ft5.x, ft6.x  \nmul ft7.w, ft5.y, ft6.y   \nadd ft7.y, ft7.z, ft7.w   \nmul ft7.y, ft7.y, fc0.y  \nsin ft6.x, ft7.x  \nsin ft6.y, ft7.y  \nmul ft3, ft6.x, ft6.y  \nmul ft3, ft3, fc1.x   \nadd ft2, ft2, ft3  \nmov ft2.w, ft0.w  \nmov oc, ft2"},
activate:function(a,b,c){this.vars.set(0,this._angle);this.vars.set(1,this._scale);this.vars.set(2,this._size);a.get_context3D().setProgramConstantsFromVector(0,0,this.vars);a.get_context3D().setProgramConstantsFromVector(0,1,this.constants)},__class__:nm});var jm=function(){Ba.call(this);for(var a=[.5,.5,1,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.constants=b};m["filters.filtertasks.ReflectTask"]=jm;jm.__name__=["filters","filtertasks","ReflectTask"];jm.__super__=
Ba;jm.prototype=z(Ba.prototype,{vars:null,constants:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone> \nmov ft2, v0 \nsub ft2.y, fc1.y, v0.y \ntex ft1, ft2, fs0<2d, clamp, linear, mipnone> \nsge ft3.x, v0.y, fc0.y  \nsub ft3.y, fc1.x, ft3.x \nmul ft0.rgba, ft0.rgba, ft3.yyyy \nmul ft1.rgba, ft1.rgba, ft3.xxxx \nadd ft2, ft0, ft1 \nmov oc, ft2 \n"},activate:function(a,b,c){a.get_context3D().setProgramConstantsFromVector(0,0,this.constants);a=a.get_context3D();b=[1,
1,1,1];c=x.toFloatVector(null);for(var d=0,e=b.length;d<e;){var f=d++;c.set(f,b[f])}a.setProgramConstantsFromVector(0,1,c)},__class__:jm});var um=function(){Ba.call(this);for(var a=[.1,.1,.5,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.fc0=b};m["filters.filtertasks.RepeatscreenTask"]=um;um.__name__=["filters","filtertasks","RepeatscreenTask"];um.__super__=Ba;um.prototype=z(Ba.prototype,{fc0:null,getFragmentCode:function(){return"mov ft0.xy, v0.xy \nsub ft0.x, ft0.x, fc0.z \ndiv ft0.x, ft0.x, fc0.x \nadd ft0.x, ft0.x, fc0.z \nsub ft0.y, ft0.y, fc0.z \ndiv ft0.y, ft0.y, fc0.y \nsub ft0.y, ft0.y, fc0.z \nmul ft0.x, ft0.x, fc0.w \nmul ft0.y, ft0.y, fc0.w \nfrc ft0.x, ft0.x \nsub ft0.x, ft0.x, fc0.z \nmul ft0.x, ft0.x, fc0.x \nadd ft0.x, ft0.x, fc0.z \nfrc ft0.y, ft0.y \nsub ft0.y, ft0.y, fc0.z \nmul ft0.y, ft0.y, fc0.y \nadd ft0.y, ft0.y, fc0.z \ntex oc, ft0.xy, fs0<2d, repeat, linear, mipnone>"},
activate:function(a,b,c){this.fc0.set(0,S.view.get_renderer().get_textureRatioX());this.fc0.set(1,S.view.get_renderer().get_textureRatioY());this.fc0.set(3,D.screenrepeatvalue);a.get_context3D().setProgramConstantsFromVector(0,0,this.fc0)},__class__:um});var hm=function(a){null==a&&(a=1);Ba.call(this);this._spacing=a;a=[1,1,1,1];for(var b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.vars=b};m["filters.filtertasks.ScanlineTask"]=hm;hm.__name__=["filters","filtertasks","ScanlineTask"];
hm.__super__=Ba;hm.prototype=z(Ba.prototype,{vars:null,_spacing:null,getFragmentCode:function(){return"div ft0.x, v0.y, fc0.x \nfrc ft0.x, ft0.x \nsub ft0.x, ft0.x, fc0.w \nabs ft0.x, ft0.x \ntex ft1, v0, fs0<2d, clamp, linear, mipnone> \nsub ft2.xyz, fc0.www, ft1.xyz \nmul ft2.xyz, ft2.xyz, ft0.xxx \nadd ft2.xyz, ft2.xyz, ft1.xyz \nmul ft1.xyz, ft1.xyz, ft2.xyz \nmov oc, ft1"},activate:function(a,b,c){this.vars.set(0,this._spacing/S.gfxstage.stageHeight);a.get_context3D().setProgramConstantsFromVector(0,
0,this.vars)},__class__:hm});var em=function(){this.redOffset=new Pa(.001,0);this._trackingAmount=24;this._trackingBlur=1.25;this._tracking=4;this._snow=.4;Ba.call(this);this.time=0;for(var a=[1,1,1,1],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.snowVars=b;a=[0,1,0,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.offsetVars=b;a=[1,3,1,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.trackingVars=b;a=[12.9898,4.1414,
43758.5453,1];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.randVars=b};m["filters.filtertasks.VCRTask"]=em;em.__name__=["filters","filtertasks","VCRTask"];em.__super__=Ba;em.prototype=z(Ba.prototype,{snowVars:null,offsetVars:null,trackingVars:null,randVars:null,_snow:null,_tracking:null,_trackingBlur:null,_trackingAmount:null,redOffset:null,getFragmentCode:function(){return"tex ft0, v0, fs0<2d, clamp, linear, mipnone> \nadd ft1.xy, v0.xy, fc1.xy \ntex ft3, ft1.xy, fs0<2d, clamp, linear, mipnone> \nmov ft0.x, ft3.x \nmov ft1.xy, v0.xy \nadd ft1.xy, ft1.xy, fc0.xy \nmov ft1.zw, fc1.zz \nmov ft6.xy, fc3.xy \nmov ft6.zw, fc1.zz \ndp3 ft1.x, ft1, ft6 \nsin ft1.x, ft1.x \nmul ft1.x, ft1.x, fc3.z \nfrc ft1.x, ft1.x \nmov ft2.xyz, ft1.xxx \nmov ft2.w, ft0.w \nmul ft2.xyz, ft2.xyz, fc0.zzz \nadd oc, ft0, ft2 \n"},
activate:function(a,b,c){0<qb.rate?(this.snowVars.set(0,Math.random()),this.snowVars.set(1,Math.random())):ga.cameraismoving()&&(this.snowVars.set(0,Math.random()),this.snowVars.set(1,Math.random()));this.snowVars.set(2,this._snow);this.offsetVars.set(0,-this.redOffset.x);this.offsetVars.set(1,-this.redOffset.y);this.time+=I.deltatime/1E3*qb.rate;this.trackingVars.set(0,this.time);this.trackingVars.set(1,this._trackingAmount);this.trackingVars.set(2,this._tracking);this.trackingVars.set(3,this._trackingBlur);
a.get_context3D().setProgramConstantsFromVector(0,0,this.snowVars);a.get_context3D().setProgramConstantsFromVector(0,1,this.offsetVars);a.get_context3D().setProgramConstantsFromVector(0,2,this.trackingVars);a.get_context3D().setProgramConstantsFromVector(0,3,this.randVars)},time:null,__class__:em});var vm=function(){Ba.call(this);for(var a=[.1,.1,.5,0],b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.fc0=b};m["filters.filtertasks.VRTask"]=vm;vm.__name__=["filters","filtertasks",
"VRTask"];vm.__super__=Ba;vm.prototype=z(Ba.prototype,{fc0:null,getFragmentCode:function(){return"mov ft0.xy, v0.xy \nsub ft0.x, ft0.x, fc0.z \ndiv ft0.x, ft0.x, fc0.x \nadd ft0.x, ft0.x, fc0.z \nmul ft0.x, ft0.x, fc0.w \nfrc ft0.x, ft0.x \nsub ft0.x, ft0.x, fc0.z \nmul ft0.x, ft0.x, fc0.x \nadd ft0.x, ft0.x, fc0.z \ntex oc, ft0.xy, fs0<2d, repeat, linear, mipnone>"},activate:function(a,b,c){this.fc0.set(0,S.view.get_renderer().get_textureRatioX());this.fc0.set(1,S.view.get_renderer().get_textureRatioY());
this.fc0.set(3,2);a.get_context3D().setProgramConstantsFromVector(0,0,this.fc0)},__class__:vm});var gm=function(a,b,c){null==c&&(c=.4);null==b&&(b=1);null==a&&(a=.7);Ba.call(this);this._amount=a;this._radius=b;this._size=c;a=[1,1,1,1];b=x.toFloatVector(null);c=0;for(var d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.mCenter=b;a=[.5,.5,.5,.5];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.mVars=b;a=[.393,.769,.189,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,
a[e]);this.mSepia1=b;a=[.349,.686,.168,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.mSepia2=b;a=[.272,.534,.131,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.mSepia3=b;a=[1,0,0,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.mNoSepia1=b;a=[0,1,0,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);this.mNoSepia2=b;a=[0,0,1,0];b=x.toFloatVector(null);c=0;for(d=a.length;c<d;)e=c++,b.set(e,a[e]);
this.mNoSepia3=b};m["filters.filtertasks.VignetteTask"]=gm;gm.__name__=["filters","filtertasks","VignetteTask"];gm.__super__=Ba;gm.prototype=z(Ba.prototype,{mVars:null,mCenter:null,mSepia1:null,mSepia2:null,mSepia3:null,mNoSepia1:null,mNoSepia2:null,mNoSepia3:null,_amount:null,_size:null,_radius:null,getFragmentCode:function(){return"sub ft0.xy, v0.xy, fc0.xy \nmov ft2.x, fc1.w \nmul ft2.x, ft2.x, fc1.z \nsub ft3.xy, ft0.xy, ft2.x    \nmul ft4.x, ft3.x, ft3.x \nmul ft4.y, ft3.y, ft3.y \nadd ft4.x, ft4.x, ft4.y \nsqt ft4.x, ft4.x \ndp3 ft4.y, ft2.xx, ft2.xx \nsqt ft4.y, ft4.y \ndiv ft5.x, ft4.x, ft4.y \npow ft5.y, ft5.x, fc1.y \nmul ft5.z, fc1.x, ft5.y \nsat ft5.z, ft5.z \nmin ft5.z, ft5.z, fc0.z \nsub ft6, fc0.z, ft5.z \ntex ft1, v0, fs0<2d, clamp, linear, mipnone> \ndp3 ft2.x, ft1, fc2 \ndp3 ft2.y, ft1, fc3 \ndp3 ft2.z, ft1, fc4 \nmul ft6.xyz, ft6.xyz, ft2.xyz \nmov ft6.w, ft1.w \nmov oc, ft6"},
activate:function(a,b,c){b=.5*this._size;c=.5-b;this.mCenter.set(0,.5-b);this.mCenter.set(1,c);this.mVars.set(0,this._amount);this.mVars.set(1,this._radius);this.mVars.set(3,D.vignetteon?this._size:100);b=D.sepiaon?this.mSepia1:this.mNoSepia1;c=D.sepiaon?this.mSepia2:this.mNoSepia2;var d=D.sepiaon?this.mSepia3:this.mNoSepia3;a.get_context3D().setProgramConstantsFromVector(0,0,this.mCenter,1);a.get_context3D().setProgramConstantsFromVector(0,1,this.mVars,1);a.get_context3D().setProgramConstantsFromVector(0,
2,b,1);a.get_context3D().setProgramConstantsFromVector(0,3,c,1);a.get_context3D().setProgramConstantsFromVector(0,4,d,1)},__class__:gm});var lm=function(a,b){null==b&&(b=0);null==a&&(a=0);this._isHorizontal=!0;Ba.call(this);this._amplitude=a;this._frequency=b;this._ticker=0;this.updateticker();for(var c=[1,1,1,1],d=x.toFloatVector(null),e=0,f=c.length;e<f;){var k=e++;d.set(k,c[k])}this.vars=d;c=[1,1,.9,.05];d=x.toFloatVector(null);e=0;for(f=c.length;e<f;)k=e++,d.set(k,c[k]);this.booleans=d};m["filters.filtertasks.WobbleTask"]=
lm;lm.__name__=["filters","filtertasks","WobbleTask"];lm.__super__=Ba;lm.prototype=z(Ba.prototype,{vars:null,booleans:null,_amplitude:null,_ticker:null,_frequency:null,_isHorizontal:null,updateticker:function(){this._ticker+=I.deltatime/6*qb.rate},getFragmentCode:function(){return"mov ft0, v0  \nsub ft1.x, v0.y, fc0.z  \nmul ft1.x, ft1.x, fc0.w  \nsin ft1.x, ft1.x  \nmul ft1.x, ft1.x, fc0.y  \nmul ft1.y, ft1.x, fc1.x  \nadd ft0.x, ft0.x, ft1.y  \nmul ft0.x, ft0.x, fc1.z  \nadd ft0.x, ft0.x, fc1.w  \nmul ft1.z, ft1.x, fc1.y  \nadd ft0.y, ft0.y, ft1.z  \ntex oc, ft0, fs0<2d, repeat, linear, mipnone>"},
activate:function(a,b,c){this.updateticker();this.vars.set(1,this._amplitude/S.gfxstage.stageHeight);this.vars.set(2,this._ticker);this.vars.set(3,this._frequency);this.booleans.set(0,this._isHorizontal?1:0);this.booleans.set(1,1-this.booleans.get(0));a.get_context3D().setProgramConstantsFromVector(0,0,this.vars);a.get_context3D().setProgramConstantsFromVector(0,1,this.booleans)},__class__:lm});var Zd=m["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos",
"Method","LocalFunction"]};Zd.CFunction=["CFunction",0];Zd.CFunction.toString=U;Zd.CFunction.__enum__=Zd;Zd.Module=function(a){a=["Module",1,a];a.__enum__=Zd;a.toString=U;return a};Zd.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=Zd;a.toString=U;return a};Zd.Method=function(a,b){var c=["Method",3,a,b];c.__enum__=Zd;c.toString=U;return c};Zd.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=Zd;a.toString=U;return a};Zd.__empty_constructs__=[Zd.CFunction];var Qa=function(){};m["haxe.CallStack"]=
Qa;Qa.__name__=["haxe","CallStack"];Qa.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var e=[],f=0;f<b.length;){var k=b[f];++f;null!=Qa.wrapCallSite&&(k=Qa.wrapCallSite(k));var p=null,h=k.getFunctionName();if(null!=h){var g=h.lastIndexOf(".");0<=g&&(p=da.substr(h,0,g),h=da.substr(h,g+1,null),p=Zd.Method(p,h))}e.push(Zd.FilePos(p,k.getFileName(),k.getLineNumber()))}return e};a=Qa.makeStack(a.stack);Error.prepareStackTrace=b;return a};
Qa.callStack=function(){try{throw Error();}catch(a){Qa.lastException=a;a instanceof H&&(a=a.val);var b=Qa.getStack(a);b.shift();return b}};Qa.exceptionStack=function(){return Qa.getStack(Qa.lastException)};Qa.toString=function(a){for(var b=new $e,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";Qa.itemToString(b,d)}return b.b};Qa.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=b[2];a.b+="module ";a.b+=null==c?"null":""+c;break;case 2:var c=b[4],d=b[3],e=
b[2];null!=e&&(Qa.itemToString(a,e),a.b+=" (");a.b+=null==d?"null":""+d;a.b+=" line ";a.b+=null==c?"null":""+c;null!=e&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b+=null==d?"null":""+d;a.b+=".";a.b+=null==c?"null":""+c;break;case 4:c=b[2],a.b+="local function #",a.b+=null==c?"null":""+c}};Qa.makeStack=function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=[],c=new Za("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),d=0;d<a.length;){var e=
a[d];++d;if(c.match(e)){var e=c.matched(1).split("."),f=e.pop(),k=c.matched(2),p=h.parseInt(c.matched(3));b.push(Zd.FilePos("Anonymous function"==f?Zd.LocalFunction():"Global code"==f?null:Zd.Method(e.join("."),f),k,p))}else b.push(Zd.Module(Da.trim(e)))}return b}return a};var Ga=function(a,b){this.high=a;this.low=b};m["haxe._Int64.___Int64"]=Ga;Ga.__name__=["haxe","_Int64","___Int64"];Ga.prototype={high:null,low:null,__class__:Ga};var Aa=function(){};m["haxe.Log"]=Aa;Aa.__name__=["haxe","Log"];Aa.trace=
function(a,b){y.__trace(a,b)};var xe=function(){this.buf=new $e;this.cache=[];this.useCache=xe.USE_CACHE;this.useEnumIndex=xe.USE_ENUM_INDEX;this.shash=new qa;this.scount=0};m["haxe.Serializer"]=xe;xe.__name__=["haxe","Serializer"];xe.run=function(a){var b=new xe;b.serialize(a);return b.toString()};xe.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=t[a]?b.getReserved(a):
b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=t[a]?b.setReserved(a,c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=h.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=
0,c=Z.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(Z.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=La["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(y.__instanceof(a,Xh))a=La.getClassName(a),
this.buf.b+="A",this.serializeString(a);else if(y.__instanceof(a,Dt))this.buf.b+="B",this.serializeString(La.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new H("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+=
"u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=h.string(a.getTime());break;case Bd:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case fc:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case Hb:this.buf.b+=
"M";for(b=a.keys();b.hasNext();)c=b.next(),d=Z.field(c,"__id__"),Z.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case qa:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=t[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case ab:this.buf.b+="s";this.buf.b+=h.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=xe.BASE64_CODES;if(null==b){for(var b=Array(xe.BASE64.length),e=
0,f=xe.BASE64.length;e<f;){var k=e++;b[k]=da.cca(xe.BASE64,k)}xe.BASE64_CODES=b}for(;c<d;)e=a.b[c++],f=a.b[c++],k=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>2]),this.buf.b+=String.fromCharCode(b[(e<<4|f>>4)&63]),this.buf.b+=String.fromCharCode(b[(f<<2|k>>6)&63]),this.buf.b+=String.fromCharCode(b[k&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=
String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(La.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(La.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=h.string(this.useEnumIndex?
"j":"w");this.serializeString(La.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=h.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=h.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new H("Cannot serialize "+h.string(a));}},__class__:xe};var hf=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=hf;hf.__name__=["haxe","Timer"];hf.delay=function(a,b){var c=new hf(b);
c.run=function(){c.stop();a()};return c};hf.measure=function(a,b){var c=window.performance.now()/1E3,d=a();Aa.trace(window.performance.now()/1E3-c+"s",b);return d};hf.stamp=function(){return window.performance.now()/1E3};hf.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:hf};var lo=function(){};m["haxe._Unserializer.DefaultResolver"]=lo;lo.__name__=["haxe","_Unserializer","DefaultResolver"];lo.prototype={resolveClass:function(a){return La.resolveClass(a)},
resolveEnum:function(a){return La.resolveEnum(a)},__class__:lo};var ye=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=ye.DEFAULT_RESOLVER;null==a&&(a=new lo,ye.DEFAULT_RESOLVER=a);this.resolver=a};m["haxe.Unserializer"]=ye;ye.__name__=["haxe","Unserializer"];ye.initCodes=function(){for(var a=[],b=0,c=ye.BASE64.length;b<c;){var d=b++;a[ye.BASE64.charCodeAt(d)]=d}return a};ye.run=function(a){return(new ye(a)).unserialize()};ye.prototype={buf:null,pos:null,length:null,
cache:null,scache:null,resolver:null,setResolver:function(a){null==a?(null==pj.instance&&(pj.instance=new pj),this.resolver=pj.instance):this.resolver=a},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(da.substr(this.buf,
a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new H("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new H("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new H("Invalid enum format");var c=this.readDigits();if(0==c)return La.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return La.createEnum(a,
b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new H("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new H("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new H("Class not found "+a);a=La.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new H("Invalid custom data");
return a;case 77:a=new Hb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new H("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new qa;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);){var b=this.unserialize(),c=this.unserialize();null!=t[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new H("Class not found "+a);a=La.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new H("Enum not found "+
a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];if(null==d)throw new H("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new Bd;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new fc;this.cache.push(a);for(b=
this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new H("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new H("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new H("Invalid bytes length");var e=ye.CODES;null==e&&(e=ye.initCodes(),ye.CODES=e);for(var f=this.pos,
k=a&3,p=f+(a-k),b=new ab(new He(3*(a>>2)+(2<=k?k-1:0))),c=0;f<p;){var h=e[d.charCodeAt(f++)],g=e[d.charCodeAt(f++)];b.b[c++]=(h<<2|g>>4)&255;h=e[d.charCodeAt(f++)];b.b[c++]=(g<<4|h>>2)&255;g=e[d.charCodeAt(f++)];b.b[c++]=(h<<6|g)&255}2<=k&&(g=e[d.charCodeAt(f++)],p=e[d.charCodeAt(f++)],b.b[c++]=(g<<2|p>>4)&255,3==k&&(d=e[d.charCodeAt(f++)],b.b[c++]=(p<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&
48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=da.strDate(da.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new H("Enum not found "+a);a=this.unserializeEnum(b,
this.unserialize());this.cache.push(a);return a;case 120:throw H.wrap(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new H("Invalid string length");b=da.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new H("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:ye};var pj=function(){};m["haxe._Unserializer.NullResolver"]=
pj;pj.__name__=["haxe","_Unserializer","NullResolver"];pj.prototype={resolveClass:function(a){return null},resolveEnum:function(a){return null},__class__:pj};var Vq=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw new H("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};m["haxe.crypto.BaseCode"]=Vq;Vq.__name__=["haxe","crypto","BaseCode"];Vq.prototype={base:null,nbits:null,encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=new ab(new He(d+
(0==8*a.length%b?0:1))),f=0,k=0,p=(1<<b)-1,h=0,g=0;g<d;){for(;k<b;)k+=8,f<<=8,f|=a.b[h++];k-=b;e.b[g++]=c.b[f>>k&p]&255}0<k&&(e.b[g++]=c.b[f<<b-k&p]&255);return e},__class__:Vq};var mo=function(){};m["haxe.ds.BalancedTree"]=mo;mo.__name__=["haxe","ds","BalancedTree"];mo.prototype={root:null,set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null},remove:function(a){try{return this.root=
this.removeLoop(a,this.root),!0}catch(b){Qa.lastException=b;b instanceof H&&(b=b.val);if(y.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return!0;b=0>c?b.left:b.right}return!1},keys:function(){var a=[];this.keysLoop(this.root,a);return da.iter(a)},setLoop:function(a,b,c){if(null==c)return new Ie(null,a,b,null);var d=this.compare(a,c.key);if(0==d)return new Ie(c.left,a,b,c.right,null==c?0:c._height);if(0>d)return a=this.setLoop(a,
b,c.left),this.balance(a,c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,c.key,c.value,a)},removeLoop:function(a,b){if(null==b)throw new H("Not_found");var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,b.left),b.key,b.value,b.right):this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},keysLoop:function(a,b){null!=a&&(this.keysLoop(a.left,b),b.push(a.key),this.keysLoop(a.right,b))},merge:function(a,b){if(null==
a)return b;if(null==b)return a;var c=this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw new H("Not_found");return null==a.left?a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),a.key,a.value,a.right)},balance:function(a,b,c,d){var e=null==a?0:a._height,f=null==d?0:d._height;return e>f+2?(e=a.left,f=a.right,(null==e?0:e._height)>=(null==f?0:f._height)?
new Ie(a.left,a.key,a.value,new Ie(a.right,b,c,d)):new Ie(new Ie(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new Ie(a.right.right,b,c,d))):f>e+2?(e=d.right,f=d.left,(null==e?0:e._height)>(null==f?0:f._height)?new Ie(new Ie(a,b,c,d.left),d.key,d.value,d.right):new Ie(new Ie(a,b,c,d.left.left),d.left.key,d.left.value,new Ie(d.left.right,d.key,d.value,d.right))):new Ie(a,b,c,d,(e>f?e:f)+1)},compare:function(a,b){return Z.compare(a,b)},__class__:mo};var Ie=function(a,b,c,d,e){null==e&&
(e=-1);this.left=a;this.key=b;this.value=c;this.right=d;-1==e?(a=this.left,b=this.right,a=(null==a?0:a._height)>(null==b?0:b._height)?this.left:this.right,a=null==a?0:a._height,this._height=a+1):this._height=e};m["haxe.ds.TreeNode"]=Ie;Ie.__name__=["haxe","ds","TreeNode"];Ie.prototype={left:null,right:null,key:null,value:null,_height:null,__class__:Ie};var qj=function(){};m["haxe.ds.EnumValueMap"]=qj;qj.__name__=["haxe","ds","EnumValueMap"];qj.__interfaces__=[oj];qj.__super__=mo;qj.prototype=z(mo.prototype,
{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<d;){var e=c++,e=this.compareArg(a[e],b[e]);if(0!=e)return e}return 0},compareArg:function(a,b){return Z.isEnumValue(a)&&Z.isEnumValue(b)?this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):Z.compare(a,b)},
__class__:qj});var fc=function(){this.h={}};m["haxe.ds.IntMap"]=fc;fc.__name__=["haxe","ds","IntMap"];fc.__interfaces__=[oj];fc.prototype={h:null,set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return da.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},
next:function(){var a=this.it.next();return this.ref[a]}}},__class__:fc};var Hb=function(){this.h={__keys__:{}}};m["haxe.ds.ObjectMap"]=Hb;Hb.__name__=["haxe","ds","ObjectMap"];Hb.__interfaces__=[oj];Hb.assignId=function(a){return a.__id__=++Hb.count};Hb.getId=function(a){return a.__id__};Hb.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++Hb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},
remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return da.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Hb};var Bi=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};m["haxe.ds._StringMap.StringMapIterator"]=
Bi;Bi.__name__=["haxe","ds","_StringMap","StringMapIterator"];Bi.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=t[b]?a.getReserved(b):a.h[b]},__class__:Bi};var ab=function(a){this.length=a.byteLength;this.b=new Db(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};m["haxe.io.Bytes"]=ab;ab.__name__=["haxe","io","Bytes"];ab.alloc=function(a){return new ab(new He(a))};ab.ofString=
function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new ab((new Db(b)).buffer)};ab.ofData=function(a){var b=a.hxBytes;return null!=b?b:new ab(a)};ab.fastGet=function(a,b){return a.bytes[b]};ab.prototype={length:null,b:null,data:null,get:function(a){return this.b[a]},set:function(a,
b){this.b[a]=b&255},blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new H(Fd.OutsideBounds);0==c&&d==b.b.byteLength?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+d),a)},fill:function(a,b,c){for(var d=0;d<b;)d++,this.b[a++]=c&255},sub:function(a,b){if(0>a||0>b||a+b>this.length)throw new H(Fd.OutsideBounds);return new ab(this.b.buffer.slice(a+this.b.byteOffset,a+this.b.byteOffset+b))},compare:function(a){for(var b=this.b,c=a.b,d=0,e=this.length<a.length?this.length:a.length;d<
e;){var f=d++;if(b[f]!=c[f])return b[f]-c[f]}return this.length-a.length},initData:function(){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength))},getDouble:function(a){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getFloat64(a,!0)},getFloat:function(a){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getFloat32(a,!0)},setDouble:function(a,b){null==this.data&&
(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setFloat64(a,b,!0)},setFloat:function(a,b){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setFloat32(a,b,!0)},getUInt16:function(a){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getUint16(a,!0)},setUInt16:function(a,b){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setUint16(a,
b,!0)},getInt32:function(a){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));return this.data.getInt32(a,!0)},setInt32:function(a,b){null==this.data&&(this.data=new ki(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setInt32(a,b,!0)},getInt64:function(a){return new Ga(this.getInt32(a+4),this.getInt32(a))},setInt64:function(a,b){this.setInt32(a,b.low);this.setInt32(a+4,b.high)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new H(Fd.OutsideBounds);
for(var c="",d=this.b,e=String.fromCharCode,f=a,k=a+b;f<k;){var p=d[f++];if(128>p){if(0==p)break;c+=e(p)}else if(224>p)c+=e((p&63)<<6|d[f++]&127);else if(240>p)var h=d[f++],c=c+e((p&31)<<12|(h&127)<<6|d[f++]&127);else var h=d[f++],g=d[f++],p=(p&15)<<18|(h&127)<<12|(g&127)<<6|d[f++]&127,c=c+e((p>>10)+55232),c=c+e(p&1023|56320)}return c},readString:function(a,b){return this.getString(a,b)},toString:function(){return this.getString(0,this.length)},toHex:function(){for(var a="",b=[],c=0;16>c;){var d=
c++;b.push(da.cca("0123456789abcdef",d))}c=0;for(d=this.length;c<d;)var e=c++,e=this.b[e],a=a+String.fromCharCode(b[e>>4]),a=a+String.fromCharCode(b[e&15]);return a},getData:function(){return this.b.bufferValue},__class__:ab};var vs=function(){};m["haxe.io.Eof"]=vs;vs.__name__=["haxe","io","Eof"];vs.prototype={toString:function(){return"Eof"},__class__:vs};var Fd=m["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Fd.Blocked=["Blocked",
0];Fd.Blocked.toString=U;Fd.Blocked.__enum__=Fd;Fd.Overflow=["Overflow",1];Fd.Overflow.toString=U;Fd.Overflow.__enum__=Fd;Fd.OutsideBounds=["OutsideBounds",2];Fd.OutsideBounds.toString=U;Fd.OutsideBounds.__enum__=Fd;Fd.Custom=function(a){a=["Custom",3,a];a.__enum__=Fd;a.toString=U;return a};Fd.__empty_constructs__=[Fd.Blocked,Fd.Overflow,Fd.OutsideBounds];var Gd=function(){};m["haxe.io.FPHelper"]=Gd;Gd.__name__=["haxe","io","FPHelper"];Gd.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==
c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Gd.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};Gd.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Gd.doubleToI64=
function(a){var b=Gd.i64tmp;if(0==a)b.low=0,b.high=0;else if(isFinite(a)){var c=0>a?-a:a,d=Math.floor(Math.log(c)/.6931471805599453),c=Math.round(4503599627370496*(c/Math.pow(2,d)-1));b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}else 0<a?(b.low=0,b.high=2146435072):(b.low=0,b.high=-1048576);return b};var rj=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=da.substr(a,0,c),a=da.substr(a,c+1,null),
this.backslash=!0):c<b?(this.dir=da.substr(a,0,b),a=da.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=da.substr(a,b+1,null),this.file=da.substr(a,0,b)):(this.ext=null,this.file=a)};m["haxe.io.Path"]=rj;rj.__name__=["haxe","io","Path"];rj.directory=function(a){a=new rj(a);return null==a.dir?"":a.dir};rj.prototype={dir:null,file:null,ext:null,backslash:null,__class__:rj};var Wq=function(a){this.__x=a};m["haxe.xml._Fast.NodeAccess"]=Wq;Wq.__name__=["haxe","xml","_Fast","NodeAccess"];
Wq.prototype={__x:null,resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b){if(this.__x.nodeType==ua.Document)b="Document";else{b=this.__x;if(b.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+b.nodeType);b=b.nodeName}throw new H(b+" is missing element "+a);}return new ei(b)},__class__:Wq};var Xq=function(a){this.__x=a};m["haxe.xml._Fast.AttribAccess"]=Xq;Xq.__name__=["haxe","xml","_Fast","AttribAccess"];Xq.prototype={__x:null,resolve:function(a){if(this.__x.nodeType==
ua.Document)throw new H("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b){b=this.__x;if(b.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+b.nodeType);throw new H(b.nodeName+" is missing attribute "+a);}return b},__class__:Xq};var Yq=function(a){this.__x=a};m["haxe.xml._Fast.HasAttribAccess"]=Yq;Yq.__name__=["haxe","xml","_Fast","HasAttribAccess"];Yq.prototype={__x:null,resolve:function(a){if(this.__x.nodeType==ua.Document)throw new H("Cannot access document attribute "+
a);return this.__x.exists(a)},__class__:Yq};var Zq=function(a){this.__x=a};m["haxe.xml._Fast.HasNodeAccess"]=Zq;Zq.__name__=["haxe","xml","_Fast","HasNodeAccess"];Zq.prototype={__x:null,resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:Zq};var $q=function(a){this.__x=a};m["haxe.xml._Fast.NodeListAccess"]=$q;$q.__name__=["haxe","xml","_Fast","NodeListAccess"];$q.prototype={__x:null,resolve:function(a){var b=new Bd;for(a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();
b.add(new ei(c))}return b},__class__:$q};var ei=function(a){if(a.nodeType!=ua.Document&&a.nodeType!=ua.Element)throw new H("Invalid nodeType "+a.nodeType);this.x=a;this.node=new Wq(a);this.nodes=new $q(a);this.att=new Xq(a);this.has=new Yq(a);this.hasNode=new Zq(a)};m["haxe.xml.Fast"]=ei;ei.__name__=["haxe","xml","Fast"];ei.prototype={x:null,node:null,nodes:null,att:null,has:null,hasNode:null,get_name:function(){if(this.x.nodeType==ua.Document)return"Document";var a=this.x;if(a.nodeType!=ua.Element)throw new H("Bad node type, expected Element but found "+
a.nodeType);return a.nodeName},get_innerData:function(){var a=this.x;if(a.nodeType!=ua.Document&&a.nodeType!=ua.Element)throw new H("Bad node type, expected Element or Document but found "+a.nodeType);a=da.iter(a.children);if(!a.hasNext())throw new H(this.get_name()+" does not have data");var b=a.next();if(a.hasNext()){var c=a.next();if(b.nodeType==ua.PCData&&c.nodeType==ua.CData){if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+b.nodeType);b=""==Da.trim(b.nodeValue)}else b=
!1;if(b){if(!a.hasNext()){if(c.nodeType==ua.Document||c.nodeType==ua.Element)throw new H("Bad node type, unexpected "+c.nodeType);return c.nodeValue}b=a.next();if(b.nodeType==ua.PCData){if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+b.nodeType);b=""==Da.trim(b.nodeValue)}else b=!1;if(b&&!a.hasNext()){if(c.nodeType==ua.Document||c.nodeType==ua.Element)throw new H("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new H(this.get_name()+" does not only have data");
}if(b.nodeType!=ua.PCData&&b.nodeType!=ua.CData)throw new H(this.get_name()+" does not have data");if(b.nodeType==ua.Document||b.nodeType==ua.Element)throw new H("Bad node type, unexpected "+b.nodeType);return b.nodeValue},get_elements:function(){var a=this.x.elements();return{hasNext:u(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new ei(b)}}},__class__:ei,__properties__:{get_elements:"get_elements",get_innerData:"get_innerData",get_name:"get_name"}};var na=function(){};m["haxegon.Col"]=
na;na.__name__=["haxegon","Col"];na.getred=function(a){return a>>16&255};na.getgreen=function(a){return a>>8&255};na.getblue=function(a){return a&255};na.shiftred=function(a,b){return na.rgb(Math.min(255,Math.max((a>>16&255)+b,0))|0,a>>8&255,a&255)};na.shiftgreen=function(a,b){return na.rgb(a>>16&255,Math.min(255,Math.max((a>>8&255)+b,0))|0,a&255)};na.shiftblue=function(a,b){return na.rgb(a>>16&255,a>>8&255,Math.min(255,Math.max((a&255)+b,0))|0)};na.shifthue=function(a,b){if(0>b)for(;0>b;)b+=360;
return na.hsl((na.gethue(a)+(b|0))%360,na.getsaturation(a),na.getlightness(a))};na.shiftsaturation=function(a,b){return na.hsl(na.gethue(a),Math.min(1,Math.max(na.getsaturation(a)+b,0)),na.getlightness(a))};na.shiftlightness=function(a,b){return na.hsl(na.gethue(a),na.getsaturation(a),Math.min(1,Math.max(na.getlightness(a)+b,0)))};na.gethue=function(a){var b=(a>>16&255)/255,c=(a>>8&255)/255;a=(a&255)/255;var d=Math.max(Math.max(b,c),a),e=Math.min(Math.min(b,c),a),f=(d+e)/2;d!=e&&(e=d-e,d==b?f=(c-
a)/e+(c<a?6:0):d==c?f=(a-b)/e+2:d==a&&(f=(b-c)/e+4),f/=6);return 360*f|0};na.getsaturation=function(a){var b=(a>>16&255)/255,c=(a>>8&255)/255,d=(a&255)/255;a=Math.max(Math.max(b,c),d);b=Math.min(Math.min(b,c),d);c=(a+b)/2;a==b?a=0:(d=a-b,a=.5<c?d/(2-a-b):d/(a+b));return a};na.getlightness=function(a){var b=(a>>16&255)/255,c=(a>>8&255)/255,d=(a&255)/255;a=Math.max(Math.max(b,c),d);b=Math.min(Math.min(b,c),d);return(a+b)/2};na.rgb=function(a,b,c){return c|b<<8|a<<16};na.hsl=function(a,b,c){b=.5>c?c*
(1+b):c+b-c*b;c=2*c-b;a=a%360/360;na.hslval[0]=a+.3333333333333333;na.hslval[1]=a;na.hslval[2]=a-.3333333333333333;for(a=0;3>a;){var d=a++;0>na.hslval[d]&&(na.hslval[d]+=1);1<na.hslval[d]&&--na.hslval[d];na.hslval[d]=.16666666666666666>na.hslval[d]?c+6*(b-c)*na.hslval[d]:.5>na.hslval[d]?b:.6666666666666666>na.hslval[d]?c+6*(b-c)*(.6666666666666666-na.hslval[d]):c}return na.rgb(255*na.hslval[0]|0,255*na.hslval[1]|0,255*na.hslval[2]|0)};var Gb=function(){};m["haxegon.Data"]=Gb;Gb.__name__=["haxegon",
"Data"];Gb.loadtext=function(a){if(ma.exists("data/text/"+a+".txt"))Gb.tempstring=ma.getText("data/text/"+a+".txt");else return Aa.trace('ERROR: In loadtext, cannot find "data/text/'+a+'.txt".',{fileName:"Data.hx",lineNumber:16,className:"haxegon.Data",methodName:"loadtext"}),[""];Gb.tempstring=ba.replacechar(Gb.tempstring,"\r","");return Gb.tempstring.split("\n")};Gb.mid=function(a,b,c){null==c&&(c=1);null==b&&(b=0);return da.substr(a,b,c)};Gb.replacechar=function(a,b,c){null==c&&(c="");null==b&&
(b="|");for(var d="",e=0,f=a.length;e<f;)var k=e++,d=Gb.mid(a,k)==b?d+c:d+Gb.mid(a,k);return d};Gb.initassets=function(){Gb.embeddedassets_original=ma.list();Gb.embeddedassets=[];for(var a=0,b=Gb.embeddedassets_original.length;a<b;){var c=a++;Gb.embeddedassets.push(Gb.embeddedassets_original[c].toLowerCase())}};Gb.assetexists=function(a){a=a.toLowerCase();return 0<=Gb.embeddedassets.indexOf(a)};Gb.assetexists_infolder=function(a,b){b=b.toLowerCase();a=a.toLowerCase();for(var c=a.length,d=b.length,
e=0,f=Gb.embeddedassets.length;e<f;){var k=e++;if(ba.left(Gb.embeddedassets[k],c)==a&&ba.right(Gb.embeddedassets[k],d)==b)return!0}return!1};Gb.getsoundasset=function(a){a=a.toLowerCase();a=Gb.embeddedassets_original[Gb.embeddedassets.indexOf(a)];return ma.getSound(a)};Gb.getgraphicsasset=function(a){a=a.toLowerCase();a=Gb.embeddedassets_original[Gb.embeddedassets.indexOf(a)];return ma.getBitmapData(a)};Gb.getfontasset=function(a){a=a.toLowerCase();a=Gb.embeddedassets_original[Gb.embeddedassets.indexOf(a)];
return ma.getFont(a)};Gb.gettextasset=function(a){a=a.toLowerCase();a=Gb.embeddedassets_original[Gb.embeddedassets.indexOf(a)];return ma.getText(a)};var qe=function(){};m["haxegon.Geom"]=qe;qe.__name__=["haxegon","Geom"];qe.inbox=function(a,b,c,d,e,f){return a>=c&&a<c+e&&b>=d&&b<d+f?!0:!1};qe.clamp=function(a,b,c){return Math.min(c,Math.max(a,b))};qe.overlap=function(a,b,c,d,e,f,k,p){qe.rect1.setTo(a,b,c,d);qe.rect2.setTo(e,f,k,p);return qe.rect1.intersects(qe.rect2)};qe.distance=function(a,b,c,d){return Math.sqrt(Math.pow(c-
a,2)+Math.pow(d-b,2))};qe.getangle=function(a,b,c,d){return(2*Math.PI-Math.atan2(d-b,c-a))%(2*Math.PI)};qe.todegrees=function(a){return 180*a/Math.PI};qe.toradians=function(a){return a*Math.PI/180};qe.anglebetween=function(a,b){return-Math.atan2(Math.sin(a-b),Math.cos(a-b))};var Ra=m["haxegon.Keystate"]={__ename__:["haxegon","Keystate"],__constructs__:["justreleased","notpressed","pressed","justpressed","forcerelease"]};Ra.justreleased=["justreleased",0];Ra.justreleased.toString=U;Ra.justreleased.__enum__=
Ra;Ra.notpressed=["notpressed",1];Ra.notpressed.toString=U;Ra.notpressed.__enum__=Ra;Ra.pressed=["pressed",2];Ra.pressed.toString=U;Ra.pressed.__enum__=Ra;Ra.justpressed=["justpressed",3];Ra.justpressed.toString=U;Ra.justpressed.__enum__=Ra;Ra.forcerelease=["forcerelease",4];Ra.forcerelease.toString=U;Ra.forcerelease.__enum__=Ra;Ra.__empty_constructs__=[Ra.justreleased,Ra.notpressed,Ra.pressed,Ra.justpressed,Ra.forcerelease];var J=function(){};m["haxegon.Input"]=J;J.__name__=["haxegon","Input"];J.pressed=
function(a){if(a==B.ANY){for(a=J.keymap.keys();a.hasNext();){var b=a.next();if(0<=J.keyheld[J.keymap.get(b)])return!0}return!1}return 0<=J.keyheld[J.keymap.get(a)]};J.justpressed=function(a){if(a==B.ANY){for(a=J.keymap.keys();a.hasNext();){var b=a.next();if(J.current[J.keymap.get(b)]==Ra.justpressed)return!0}return!1}return J.current[J.keymap.get(a)]==Ra.justpressed?!0:!1};J.justreleased=function(a){if(a==B.ANY){for(a=J.keymap.keys();a.hasNext();){var b=a.next();if(J.current[J.keymap.get(b)]==Ra.justreleased)return J.current[J.keymap.get(b)]=
Ra.notpressed,!0}return!1}return J.current[J.keymap.get(a)]==Ra.justreleased?(J.current[J.keymap.get(a)]=Ra.notpressed,!0):!1};J.forcerelease=function(a){if(null!=a||a==B.ANY)J.keycode=J.keymap.get(a),0<=J.keyheld[J.keycode]&&(J.current[J.keycode]=Ra.forcerelease,J.last[J.keycode]=Ra.forcerelease,J.keyheld[J.keycode]=-1);else{a=0;for(var b=J.keyheld.length;a<b;){var c=a++;0<=J.keyheld[c]&&(J.current[c]=Ra.forcerelease,J.last[c]=Ra.forcerelease,J.keyheld[c]=-1)}}};J.pressheldtime=function(a){if(a==
B.ANY){a=0;for(var b=J.keymap.keys();b.hasNext();){var c=b.next();c!=B.ANY&&J.keyheld[J.keymap.get(c)]>a&&(a=J.keyheld[J.keymap.get(c)])}return a}J.keycode=J.keymap.get(a);return J.keyheld[J.keycode]};J.delaypressed=function(a,b){if(a==B.ANY){for(var c=J.keymap.keys();c.hasNext();){var d=c.next();if(d!=B.ANY&&J.pressed(d))return J.delaypressed(d,b)}return!1}J.keycode=J.keymap.get(a);return 1<=J.keyheld[J.keycode]&&(1>=J.keyheld[J.keycode]||0==J.keyheld[J.keycode]%b)?!0:!1};J.init=function(a){J.flashstage=
a;J.flashstage.addEventListener("keyDown",J.handlekeydown);J.flashstage.addEventListener("keyUp",J.handlekeyup);J.clipboardbuffer=[""];J.cut=!1;J.paste=!1;J.selectall=!1;J.undo=!1;J.redo=!1;J.flashstage.addEventListener("activate",J.handlefocusin);J.flashstage.addEventListener("deactivate",J.handlefocusout);J.resetKeys()};J.unload=function(){J.flashstage.removeEventListener("keyDown",J.handlekeydown);J.flashstage.removeEventListener("keyUp",J.handlekeyup);J.flashstage.removeEventListener("deactivate",
J.handledeactivate)};J.update=function(){-1==J.lastcharcode?J.lastcharcode=J.charcode:J.charcode==J.lastcharcode?(J.lastcharcode=-1,J.charcode=-1):J.lastcharcode=J.charcode;for(var a=0,b=J.numletters;a<b;){var c=a++;J.lookup.h.hasOwnProperty(c)&&(J.last[c]==Ra.justreleased&&J.current[c]==Ra.justreleased?J.current[c]=Ra.notpressed:J.last[c]==Ra.justpressed&&J.current[c]==Ra.justpressed&&(J.current[c]=Ra.pressed),J.last[c]=J.current[c],J.current[c]!=Ra.justpressed&&J.current[c]!=Ra.pressed||++J.keyheld[c])}};
J.reset=function(){for(var a=0,b=J.numletters;a<b;){var c=a++;J.lookup.h.hasOwnProperty(c)&&(J.current[c]=Ra.notpressed,J.last[c]=Ra.notpressed,J.keyheld[c]=-1)}};J.iskeycodeheld=function(a){return a==Ra.justpressed||a==Ra.pressed?!0:!1};J.handlecut=function(a){J.handlecopy(a);J.cut=!0};J.handlecopy=function(a){J.current[J.keymap.get(B.CONTROL)]=Ra.notpressed;J.keyheld[J.keymap.get(B.CONTROL)]=-1};J.handlepaste=function(a){J.current[J.keymap.get(B.CONTROL)]=Ra.notpressed;J.keyheld[J.keymap.get(B.CONTROL)]=
-1};J.handlefocusin=function(a){a=0;for(var b=J.current.length;a<b;){var c=a++;J.current[c]=Ra.notpressed;J.keyheld[c]=-1}};J.handlefocusout=function(a){};J.handleselectall=function(a){J.selectall=!0};J.handlekeydown=function(a){a.preventDefault();a.stopPropagation();if("BODY"==document.activeElement.nodeName){J.charcode=a.charCode;8==J.charcode&&a.preventDefault();if(91==J.charcode||93==J.charcode||224==J.charcode||17==J.charcode)for(var b=0,c=J.numletters;b<c;){var d=b++;J.iskeycodeheld(J.current[d])?
J.current[d]=Ra.justreleased:J.current[d]=Ra.notpressed;J.keyheld[d]=-1}J.charcode=a.charCode;J.keycode=a.keyCode;if(J.iskeycodeheld(J.current[J.keymap.get(B.CONTROL)])){if(90==J.keycode){J.undo=!0;return}if(89==J.keycode){J.redo=!0;return}}J.lookup.h.hasOwnProperty(J.keycode)&&J.current[J.keycode]!=Ra.forcerelease&&(J.iskeycodeheld(J.current[J.keycode])?J.current[J.keycode]=Ra.pressed:(J.current[J.keycode]=Ra.justpressed,J.keyheld[J.keycode]=0));1==I.gamestate&&(8==J.keycode?0<J.keybuffer.length&&
(J.keybuffer=da.substr(J.keybuffer,0,J.keybuffer.length-1),I.playsound("key13")):32<=J.charcode&&126>=J.charcode&&(a=String.fromCharCode(J.charcode),"["!=a&&"]"!=a&&J.keybuffer.length<v.inputmaxlength&&(J.keybuffer+=a,K.keysounds())))}};J.handledeactivate=function(a){a=0;for(var b=J.numletters;a<b;){var c=a++;J.current[c]=Ra.notpressed;J.keyheld[c]=-1}};J.getchar=function(){return-1==J.lastcharcode?"":String.fromCharCode(J.lastcharcode)};J.handlekeyup=function(a){J.keycode=a.keyCode;J.lookup.h.hasOwnProperty(J.keycode)&&
(J.iskeycodeheld(J.current[J.keycode])?J.current[J.keycode]=Ra.justreleased:J.current[J.keycode]=Ra.notpressed,J.keyheld[J.keycode]=-1)};J.addkey=function(a,b){J.keymap.set(a,b);J.lookup.h[b]=a;J.current[b]=Ra.notpressed;J.last[b]=Ra.notpressed;J.keyheld[b]=-1};J.resetKeys=function(){J.keymap=new qj;J.lookup=new fc;J.current=[];J.last=[];J.keyheld=[];J.lastcharcode=-1;for(var a=0,b=J.numletters;a<b;)a++,J.current.push(Ra.notpressed),J.last.push(Ra.notpressed),J.keyheld.push(-1);J.addkey(B.A,65);J.addkey(B.B,
66);J.addkey(B.C,67);J.addkey(B.D,68);J.addkey(B.E,69);J.addkey(B.F,70);J.addkey(B.G,71);J.addkey(B.H,72);J.addkey(B.I,73);J.addkey(B.J,74);J.addkey(B.K,75);J.addkey(B.L,76);J.addkey(B.M,77);J.addkey(B.N,78);J.addkey(B.O,79);J.addkey(B.P,80);J.addkey(B.Q,81);J.addkey(B.R,82);J.addkey(B.S,83);J.addkey(B.T,84);J.addkey(B.U,85);J.addkey(B.V,86);J.addkey(B.W,87);J.addkey(B.X,88);J.addkey(B.Y,89);J.addkey(B.Z,90);J.addkey(B.ZERO,48);J.addkey(B.ONE,49);J.addkey(B.TWO,50);J.addkey(B.THREE,51);J.addkey(B.FOUR,
52);J.addkey(B.FIVE,53);J.addkey(B.SIX,54);J.addkey(B.SEVEN,55);J.addkey(B.EIGHT,56);J.addkey(B.NINE,57);J.addkey(B.F1,112);J.addkey(B.F2,113);J.addkey(B.F3,114);J.addkey(B.F4,115);J.addkey(B.F5,116);J.addkey(B.F6,117);J.addkey(B.F7,118);J.addkey(B.F8,119);J.addkey(B.F9,120);J.addkey(B.F10,121);J.addkey(B.F11,122);J.addkey(B.F12,123);J.addkey(B.ESCAPE,27);J.addkey(B.MINUS,189);J.addkey(B.PLUS,187);J.addkey(B.DELETE,46);J.addkey(B.BACKSPACE,8);J.addkey(B.LBRACKET,219);J.addkey(B.RBRACKET,221);J.addkey(B.BACKSLASH,
220);J.addkey(B.CAPSLOCK,20);J.addkey(B.SEMICOLON,186);J.addkey(B.QUOTE,222);J.addkey(B.ENTER,13);J.addkey(B.SHIFT,16);J.addkey(B.COMMA,188);J.addkey(B.PERIOD,190);J.addkey(B.SLASH,191);J.addkey(B.CONTROL,17);J.addkey(B.ALT,18);J.addkey(B.SPACE,32);J.addkey(B.UP,38);J.addkey(B.DOWN,40);J.addkey(B.LEFT,37);J.addkey(B.RIGHT,39);J.addkey(B.TAB,9);J.addkey(B.HOME,36);J.addkey(B.END,35);J.addkey(B.PAGEUP,33);J.addkey(B.PAGEDOWN,34)};J.keyname=function(a){switch(a[1]){case 0:return"Any Key";case 1:return"A";
case 2:return"B";case 3:return"C";case 4:return"D";case 5:return"E";case 6:return"F";case 7:return"G";case 8:return"H";case 9:return"I";case 10:return"J";case 11:return"K";case 12:return"L";case 13:return"M";case 14:return"N";case 15:return"O";case 16:return"P";case 17:return"Q";case 18:return"R";case 19:return"S";case 20:return"T";case 21:return"U";case 22:return"V";case 23:return"W";case 24:return"X";case 25:return"Y";case 26:return"Z";case 27:return"0";case 28:return"1";case 29:return"2";case 30:return"3";
case 31:return"4";case 32:return"5";case 33:return"6";case 34:return"7";case 35:return"8";case 36:return"9";case 37:return"F1";case 38:return"F2";case 39:return"F3";case 40:return"F4";case 41:return"F5";case 42:return"F6";case 43:return"F7";case 44:return"F8";case 45:return"F9";case 46:return"F10";case 47:return"F11";case 48:return"F12";case 49:return"Esc";case 50:return"-";case 51:return"+";case 52:return"Del";case 53:return"Backspace";case 54:return"[";case 55:return"]";case 56:return"\\";case 57:return"Caps Lock";
case 58:return";";case 59:return"'";case 60:return"Enter";case 61:return"Shift";case 62:return",";case 63:return".";case 64:return"/";case 65:return"Ctrl";case 66:return"Alt";case 67:return"Space";case 68:return"Up";case 69:return"Down";case 70:return"Left";case 71:return"Right";case 72:return"Tab";case 73:return"Home";case 74:return"End";case 75:return"Page Up";case 76:return"Page Down"}};var B=m["haxegon.Key"]={__ename__:["haxegon","Key"],__constructs__:"ANY A B C D E F G H I J K L M N O P Q R S T U V W X Y Z ZERO ONE TWO THREE FOUR FIVE SIX SEVEN EIGHT NINE F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 ESCAPE MINUS PLUS DELETE BACKSPACE LBRACKET RBRACKET BACKSLASH CAPSLOCK SEMICOLON QUOTE ENTER SHIFT COMMA PERIOD SLASH CONTROL ALT SPACE UP DOWN LEFT RIGHT TAB HOME END PAGEUP PAGEDOWN".split(" ")};
B.ANY=["ANY",0];B.ANY.toString=U;B.ANY.__enum__=B;B.A=["A",1];B.A.toString=U;B.A.__enum__=B;B.B=["B",2];B.B.toString=U;B.B.__enum__=B;B.C=["C",3];B.C.toString=U;B.C.__enum__=B;B.D=["D",4];B.D.toString=U;B.D.__enum__=B;B.E=["E",5];B.E.toString=U;B.E.__enum__=B;B.F=["F",6];B.F.toString=U;B.F.__enum__=B;B.G=["G",7];B.G.toString=U;B.G.__enum__=B;B.H=["H",8];B.H.toString=U;B.H.__enum__=B;B.I=["I",9];B.I.toString=U;B.I.__enum__=B;B.J=["J",10];B.J.toString=U;B.J.__enum__=B;B.K=["K",11];B.K.toString=U;B.K.__enum__=
B;B.L=["L",12];B.L.toString=U;B.L.__enum__=B;B.M=["M",13];B.M.toString=U;B.M.__enum__=B;B.N=["N",14];B.N.toString=U;B.N.__enum__=B;B.O=["O",15];B.O.toString=U;B.O.__enum__=B;B.P=["P",16];B.P.toString=U;B.P.__enum__=B;B.Q=["Q",17];B.Q.toString=U;B.Q.__enum__=B;B.R=["R",18];B.R.toString=U;B.R.__enum__=B;B.S=["S",19];B.S.toString=U;B.S.__enum__=B;B.T=["T",20];B.T.toString=U;B.T.__enum__=B;B.U=["U",21];B.U.toString=U;B.U.__enum__=B;B.V=["V",22];B.V.toString=U;B.V.__enum__=B;B.W=["W",23];B.W.toString=
U;B.W.__enum__=B;B.X=["X",24];B.X.toString=U;B.X.__enum__=B;B.Y=["Y",25];B.Y.toString=U;B.Y.__enum__=B;B.Z=["Z",26];B.Z.toString=U;B.Z.__enum__=B;B.ZERO=["ZERO",27];B.ZERO.toString=U;B.ZERO.__enum__=B;B.ONE=["ONE",28];B.ONE.toString=U;B.ONE.__enum__=B;B.TWO=["TWO",29];B.TWO.toString=U;B.TWO.__enum__=B;B.THREE=["THREE",30];B.THREE.toString=U;B.THREE.__enum__=B;B.FOUR=["FOUR",31];B.FOUR.toString=U;B.FOUR.__enum__=B;B.FIVE=["FIVE",32];B.FIVE.toString=U;B.FIVE.__enum__=B;B.SIX=["SIX",33];B.SIX.toString=
U;B.SIX.__enum__=B;B.SEVEN=["SEVEN",34];B.SEVEN.toString=U;B.SEVEN.__enum__=B;B.EIGHT=["EIGHT",35];B.EIGHT.toString=U;B.EIGHT.__enum__=B;B.NINE=["NINE",36];B.NINE.toString=U;B.NINE.__enum__=B;B.F1=["F1",37];B.F1.toString=U;B.F1.__enum__=B;B.F2=["F2",38];B.F2.toString=U;B.F2.__enum__=B;B.F3=["F3",39];B.F3.toString=U;B.F3.__enum__=B;B.F4=["F4",40];B.F4.toString=U;B.F4.__enum__=B;B.F5=["F5",41];B.F5.toString=U;B.F5.__enum__=B;B.F6=["F6",42];B.F6.toString=U;B.F6.__enum__=B;B.F7=["F7",43];B.F7.toString=
U;B.F7.__enum__=B;B.F8=["F8",44];B.F8.toString=U;B.F8.__enum__=B;B.F9=["F9",45];B.F9.toString=U;B.F9.__enum__=B;B.F10=["F10",46];B.F10.toString=U;B.F10.__enum__=B;B.F11=["F11",47];B.F11.toString=U;B.F11.__enum__=B;B.F12=["F12",48];B.F12.toString=U;B.F12.__enum__=B;B.ESCAPE=["ESCAPE",49];B.ESCAPE.toString=U;B.ESCAPE.__enum__=B;B.MINUS=["MINUS",50];B.MINUS.toString=U;B.MINUS.__enum__=B;B.PLUS=["PLUS",51];B.PLUS.toString=U;B.PLUS.__enum__=B;B.DELETE=["DELETE",52];B.DELETE.toString=U;B.DELETE.__enum__=
B;B.BACKSPACE=["BACKSPACE",53];B.BACKSPACE.toString=U;B.BACKSPACE.__enum__=B;B.LBRACKET=["LBRACKET",54];B.LBRACKET.toString=U;B.LBRACKET.__enum__=B;B.RBRACKET=["RBRACKET",55];B.RBRACKET.toString=U;B.RBRACKET.__enum__=B;B.BACKSLASH=["BACKSLASH",56];B.BACKSLASH.toString=U;B.BACKSLASH.__enum__=B;B.CAPSLOCK=["CAPSLOCK",57];B.CAPSLOCK.toString=U;B.CAPSLOCK.__enum__=B;B.SEMICOLON=["SEMICOLON",58];B.SEMICOLON.toString=U;B.SEMICOLON.__enum__=B;B.QUOTE=["QUOTE",59];B.QUOTE.toString=U;B.QUOTE.__enum__=B;B.ENTER=
["ENTER",60];B.ENTER.toString=U;B.ENTER.__enum__=B;B.SHIFT=["SHIFT",61];B.SHIFT.toString=U;B.SHIFT.__enum__=B;B.COMMA=["COMMA",62];B.COMMA.toString=U;B.COMMA.__enum__=B;B.PERIOD=["PERIOD",63];B.PERIOD.toString=U;B.PERIOD.__enum__=B;B.SLASH=["SLASH",64];B.SLASH.toString=U;B.SLASH.__enum__=B;B.CONTROL=["CONTROL",65];B.CONTROL.toString=U;B.CONTROL.__enum__=B;B.ALT=["ALT",66];B.ALT.toString=U;B.ALT.__enum__=B;B.SPACE=["SPACE",67];B.SPACE.toString=U;B.SPACE.__enum__=B;B.UP=["UP",68];B.UP.toString=U;B.UP.__enum__=
B;B.DOWN=["DOWN",69];B.DOWN.toString=U;B.DOWN.__enum__=B;B.LEFT=["LEFT",70];B.LEFT.toString=U;B.LEFT.__enum__=B;B.RIGHT=["RIGHT",71];B.RIGHT.toString=U;B.RIGHT.__enum__=B;B.TAB=["TAB",72];B.TAB.toString=U;B.TAB.__enum__=B;B.HOME=["HOME",73];B.HOME.toString=U;B.HOME.__enum__=B;B.END=["END",74];B.END.toString=U;B.END.__enum__=B;B.PAGEUP=["PAGEUP",75];B.PAGEUP.toString=U;B.PAGEUP.__enum__=B;B.PAGEDOWN=["PAGEDOWN",76];B.PAGEDOWN.toString=U;B.PAGEDOWN.__enum__=B;B.__empty_constructs__=[B.ANY,B.A,B.B,B.C,
B.D,B.E,B.F,B.G,B.H,B.I,B.J,B.K,B.L,B.M,B.N,B.O,B.P,B.Q,B.R,B.S,B.T,B.U,B.V,B.W,B.X,B.Y,B.Z,B.ZERO,B.ONE,B.TWO,B.THREE,B.FOUR,B.FIVE,B.SIX,B.SEVEN,B.EIGHT,B.NINE,B.F1,B.F2,B.F3,B.F4,B.F5,B.F6,B.F7,B.F8,B.F9,B.F10,B.F11,B.F12,B.ESCAPE,B.MINUS,B.PLUS,B.DELETE,B.BACKSPACE,B.LBRACKET,B.RBRACKET,B.BACKSLASH,B.CAPSLOCK,B.SEMICOLON,B.QUOTE,B.ENTER,B.SHIFT,B.COMMA,B.PERIOD,B.SLASH,B.CONTROL,B.ALT,B.SPACE,B.UP,B.DOWN,B.LEFT,B.RIGHT,B.TAB,B.HOME,B.END,B.PAGEUP,B.PAGEDOWN];var aa=function(){};m["haxegon.Mouse"]=
aa;aa.__name__=["haxegon","Mouse"];aa.cursormoved=function(){return aa._cursormoved};aa.leftheld=function(){return 0<aa._current};aa.leftclick=function(){return 2==aa._current};aa.leftreleased=function(){return aa.released?(aa.released=!1,!0):-1==aa._current};aa.leftheldpresstime=function(){return aa._held};aa.rightheld=function(){return 0<aa._rightcurrent};aa.rightclick=function(){return 2==aa._rightcurrent};aa.rightreleased=function(){return-1==aa._rightcurrent};aa.middleheld=function(){return 0<
aa._middlecurrent};aa.middleclick=function(){return 2==aa._middlecurrent};aa.middlereleased=function(){return-1==aa._middlecurrent};aa.init=function(a){a.addEventListener("rightMouseDown",aa.handleRightMouseDown);a.addEventListener("rightMouseUp",aa.handleRightMouseUp);a.addEventListener("mouseDown",aa.handleMouseDown);a.addEventListener("mouseUp",aa.handleMouseUp);a.addEventListener("middleMouseDown",aa.handleMiddleMouseDown);a.addEventListener("middleMouseUp",aa.handleMiddleMouseUp);a.addEventListener("mouseWheel",
aa.mousewheelHandler);a.addEventListener("mouseMove",aa.mouseOver);a.addEventListener("mouseLeave",aa.mouseLeave);aa.x=0;aa.y=0;aa.previousx=0;aa.previousy=0;aa.deltax=0;aa.deltay=0;aa.released=!1;aa._cursormoved=!1;aa._rightcurrent=0;aa._rightlast=0;aa._middlecurrent=0;aa._middlelast=0;aa._current=0;aa._held=0;aa._last=0};aa.unload=function(a){a.removeEventListener("rightMouseDown",aa.handleRightMouseDown);a.removeEventListener("rightMouseUp",aa.handleRightMouseUp);a.removeEventListener("mouseDown",
aa.handleMouseDown);a.removeEventListener("mouseUp",aa.handleMouseUp);a.removeEventListener("middleMouseDown",aa.handleMiddleMouseDown);a.removeEventListener("middleMouseUp",aa.handleMiddleMouseUp);a.removeEventListener("mouseWheel",aa.mousewheelHandler);a.removeEventListener("mouseMove",aa.mouseOver);a.removeEventListener("mouseLeave",aa.mouseLeave)};aa.mouseLeave=function(a){aa.mouseoffstage=!0;aa._current=0;aa._last=0;aa.isdragging=!1;aa._rightcurrent=0;aa._rightlast=0;aa._middlecurrent=0;aa._middlelast=
0;aa.deltax=0;aa.deltay=0};aa.mouseOver=function(a){aa.mouseoffstage=!1};aa.mousewheelHandler=function(a){aa.mousewheel=a.delta};aa.visitsite=function(a){aa.gotosite=a};aa.show=function(){jf.show()};aa.hide=function(){jf.hide()};aa.update=function(a,b){aa.x=a;aa.y=b;aa.x==aa.previousx&&aa.y==aa.previousy?(aa.deltax=0,aa.deltay=0):(aa.deltax=aa.x-aa.previousx,aa.deltay=aa.y-aa.previousy,aa.previousx=aa.x,aa.previousy=aa.y,aa._cursormoved=!0);-1==aa._last&&-1==aa._current?aa._current=0:2==aa._last&&
2==aa._current&&(aa._current=1);aa._last=aa._current;-1==aa._rightlast&&-1==aa._rightcurrent?aa._rightcurrent=0:2==aa._rightlast&&2==aa._rightcurrent&&(aa._rightcurrent=1);aa._rightlast=aa._rightcurrent;-1==aa._middlelast&&-1==aa._middlecurrent?aa._middlecurrent=0:2==aa._middlelast&&2==aa._middlecurrent&&(aa._middlecurrent=1);aa._middlelast=aa._middlecurrent;0<aa._current&&++aa._held};aa.reset=function(){aa._current=0;aa._held=0;aa._last=0;aa._rightcurrent=0;aa._rightlast=0;aa._middlecurrent=0;aa._middlelast=
0};aa.handleRightMouseDown=function(a){aa._rightcurrent=0<aa._rightcurrent?1:2};aa.handleRightMouseUp=function(a){aa._rightcurrent=0<aa._rightcurrent?-1:0};aa.handleMiddleMouseDown=function(a){aa._middlecurrent=0<aa._middlecurrent?1:2};aa.handleMiddleMouseUp=function(a){aa._middlecurrent=0<aa._middlecurrent?-1:0};aa.handleMouseDown=function(a){aa._current=0<aa._current?1:2;2==aa._current&&(aa._held=0,aa._cursormoved=!1,aa.previousx=xa.current.get_mouseX()|0,aa.previousy=xa.current.get_mouseY()|0,
""!=aa.gotosite&&(a=new Fe(aa.gotosite),xa.getURL(a),aa.gotosite=""))};aa.handleMouseUp=function(a){aa._rightcurrent=0<aa._rightcurrent?-1:0;aa._current=0<aa._current?-1:0;aa.deltax=0;aa.deltay=0;aa.released=!0};var L=function(){};m["haxegon.Music"]=L;L.__name__=["haxegon","Music"];L.playsound=function(a,b){null==b&&(b=0);var c=L.effectindex;L.temptransform=new od(L.volumelevels[(null!=t[a]?c.getReserved(a):c.h[a])|0]*L.globalsound);c=L.effectindex;L.efchannel[L.currentefchan]=L.efchan[(null!=t[a]?
c.getReserved(a):c.h[a])|0].play(b);L.efchannel[L.currentefchan].set_soundTransform(L.temptransform);L.currentefchan++;15<L.currentefchan&&(L.currentefchan-=16)};L.stopsound=function(){L.temptransform=new od(0);for(var a=0;16>a;){var b=a++;null!=L.efchannel[b]&&L.efchannel[b].set_soundTransform(L.temptransform)}};L.loadsoundasync=function(a,b,c){null==c&&(c=1);var d=L.numeffects,e=L.effectindex;null!=t[b]?e.setReserved(b,d):e.h[b]=d;L.volumelevels.push(c);L.efchan.push(a);L.numeffects++};L.loadsound=
function(a,b){null==b&&(b=1);var c=L.numeffects,d=L.effectindex;null!=t[a]?d.setReserved(a,c):d.h[a]=c;L.volumelevels.push(b);L.efchan.push(ma.getSound("data/sounds/"+a+".ogg"));L.numeffects++};L.loadsongasync=function(a,b,c){null==c&&(c=1);var d=L.numsongs,e=L.songindex;null!=t[b]?e.setReserved(b,d):e.h[b]=d;L.reversesongindex.push(b);L.songvolumelevels.push(c);L.musicchan.push(a);L.numsongs++};L.loadsong=function(a,b){null==b&&(b=1);var c=L.numsongs,d=L.songindex;null!=t[a]?d.setReserved(a,c):d.h[a]=
c;L.reversesongindex.push(a);L.songvolumelevels.push(b);L.musicchan.push(ma.getMusic("data/music/"+a+".ogg"));L.numsongs++};L.playbackground=function(a,b){null==b&&(b=0);if(L.currentbackgroundsong!=a)if("nothing"!=L.currentbackgroundsong&&(L.musicbackgroundchannel.stop(),L.musicbackgroundchannel.removeEventListener("soundComplete",L.loopbackgroundmusic)),"nothing"!=a){L.currentbackgroundsong=a;var c=L.songindex,c=L.musicchan[(null!=t[a]?c.getReserved(a):c.h[a])|0],d=L.songindex;L.musicbackgroundchannel=
c.play(1E3*b%L.musicchan[(null!=t[a]?d.getReserved(a):d.h[a])|0].get_length());c=L.songindex;L.musicbackgroundchannel.set_soundTransform(new od(L.songvolumelevels[(null!=t[a]?c.getReserved(a):c.h[a])|0]*L.globalsound));L.musicbackgroundchannel.addEventListener("soundComplete",L.loopbackgroundmusic)}else L.currentbackgroundsong="nothing"};L.play=function(a,b){null==b&&(b=0);if(L.currentsong!=a)if("nothing"!=L.currentsong&&(L.musicchannel.stop(),L.musicchannel.removeEventListener("soundComplete",L.loopmusic)),
"nothing"!=a){L.currentsong=a;var c=L.songindex,c=L.musicchan[(null!=t[a]?c.getReserved(a):c.h[a])|0],d=L.songindex;L.musicchannel=c.play((1E3*b|0)%L.musicchan[(null!=t[a]?d.getReserved(a):d.h[a])|0].get_length());c=L.songindex;L.musicchannel.set_soundTransform(new od(L.songvolumelevels[(null!=t[a]?c.getReserved(a):c.h[a])|0]*L.globalsound));L.musicchannel.addEventListener("soundComplete",L.loopmusic)}else L.currentsong="nothing"};L.stop=function(){"nothing"!=L.currentsong&&(L.musicchannel.removeEventListener("soundComplete",
L.stopmusic),L.musicchannel.stop(),L.currentsong="nothing")};L.stopbackground=function(){"nothing"!=L.currentbackgroundsong&&(L.musicbackgroundchannel.removeEventListener("soundComplete",L.stopbackgroundmusic),L.musicbackgroundchannel.stop(),L.currentbackgroundsong="nothing")};L.fadeout=function(){0==L.musicfade&&(L.musicfade=31)};L.init=function(){L.currentsong="nothing";L.musicfade=0;L.currentbackgroundsong="nothing";L.currentefchan=0;L.usingtickertext=!1;L.globalsound=1;L.muted=!1;L.numplays=0;
L.numeffects=0;L.numsongs=0};L.loopmusic=function(a){L.musicchannel.removeEventListener("soundComplete",L.loopmusic);if("nothing"!=L.currentsong){a=L.currentsong;var b=L.songindex;L.musicchannel=L.musicchan[(null!=t[a]?b.getReserved(a):b.h[a])|0].play();a=L.currentsong;b=L.songindex;L.musicchannel.set_soundTransform(new od(L.songvolumelevels[(null!=t[a]?b.getReserved(a):b.h[a])|0]*L.globalsound));L.musicchannel.addEventListener("soundComplete",L.loopmusic)}};L.loopbackgroundmusic=function(a){L.musicbackgroundchannel.removeEventListener("soundComplete",
L.loopbackgroundmusic);if("nothing"!=L.currentbackgroundsong){a=L.currentbackgroundsong;var b=L.songindex;L.musicbackgroundchannel=L.musicchan[(null!=t[a]?b.getReserved(a):b.h[a])|0].play();a=L.currentbackgroundsong;b=L.songindex;L.musicbackgroundchannel.set_soundTransform(new od(L.songvolumelevels[(null!=t[a]?b.getReserved(a):b.h[a])|0]*L.globalsound));L.musicbackgroundchannel.addEventListener("soundComplete",L.loopbackgroundmusic)}};L.stopmusic=function(a){L.musicchannel.removeEventListener("soundComplete",
L.stopmusic);L.musicchannel.stop();L.currentsong="nothing"};L.stopbackgroundmusic=function(a){L.musicbackgroundchannel.removeEventListener("soundComplete",L.stopbackgroundmusic);L.musicbackgroundchannel.stop();L.currentbackgroundsong="nothing"};L.processmusicfade=function(){L.musicfade--;0<L.musicfade?L.musicchannel.set_soundTransform(new od(L.musicfade/30*L.globalsound)):(L.musicchannel.stop(),L.currentsong="nothing")};L.processmusicfadein=function(){L.musicfadein--;0<L.musicfadein?L.musicchannel.set_soundTransform(new od((60-
L.musicfadein)/60*L.globalsound)):L.musicchannel.set_soundTransform(new od(L.globalsound))};L.processmusic=function(){0<L.musicfade&&L.processmusicfade();0<L.musicfadein&&L.processmusicfadein()};L.updateallvolumes=function(){if("nothing"!=L.currentsong){var a=L.currentsong,b=L.songindex;L.musicchannel.set_soundTransform(new od(L.songvolumelevels[(null!=t[a]?b.getReserved(a):b.h[a])|0]*L.globalsound))}"nothing"!=L.currentbackgroundsong&&(a=L.currentsong,b=L.songindex,L.musicbackgroundchannel.set_soundTransform(new od(L.songvolumelevels[(null!=
t[a]?b.getReserved(a):b.h[a])|0]*L.globalsound)))};L.processmute=function(){L.muted&&1==L.globalsound&&(L.globalsound=0,L.updateallvolumes());!L.muted&&1>L.globalsound&&(L.globalsound+=.05,1<L.globalsound&&(L.globalsound=1),L.updateallvolumes())};var fa=function(){};m["haxegon.Random"]=fa;fa.__name__=["haxegon","Random"];fa.shufflearray_String=function(a){for(var b,c,d=a.length;0<--d;)c=fa["int"](0,d),b=a[d],a[d]=a[c],a[c]=b};fa.bool=function(){return.5>fa.random()};fa.occasional=function(){return.2>
fa.random()};fa.rare=function(){return.05>fa.random()};fa.chance=function(a){return fa["int"](0,100)<=a};fa["int"]=function(a,b){return a+Math.floor((b-a+1)*fa.random())};fa["float"]=function(a,b){return a+(b-a)*fa.random()};fa.string=function(a,b){null==b&&(b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789");for(var c="",d=0;d<a;)d++,c+=b.charAt(fa["int"](0,b.length-1));return c};fa.pickstring=function(a,b,c,d,e,f,k,p,h,g,n,l){fa.temp=2;null!=c&&(fa.temp=3);null!=d&&(fa.temp=4);null!=
e&&(fa.temp=5);null!=f&&(fa.temp=6);null!=k&&(fa.temp=7);null!=p&&(fa.temp=8);null!=h&&(fa.temp=9);null!=g&&(fa.temp=10);null!=n&&(fa.temp=11);null!=l&&(fa.temp=12);switch(fa["int"](1,fa.temp)){case 2:return b;case 3:return c;case 4:return d;case 5:return e;case 6:return f;case 7:return k;case 8:return p;case 9:return h;case 10:return g;case 11:return n;case 12:return l}return a};fa.pickint=function(a,b,c,d,e,f,k,p,h,g,n,l){null==l&&(l=-1E4);null==n&&(n=-1E4);null==g&&(g=-1E4);null==h&&(h=-1E4);null==
p&&(p=-1E4);null==k&&(k=-1E4);null==f&&(f=-1E4);null==e&&(e=-1E4);null==d&&(d=-1E4);null==c&&(c=-1E4);fa.temp=2;-1E4!=c&&(fa.temp=3);-1E4!=d&&(fa.temp=4);-1E4!=e&&(fa.temp=5);-1E4!=f&&(fa.temp=6);-1E4!=k&&(fa.temp=7);-1E4!=p&&(fa.temp=8);-1E4!=h&&(fa.temp=9);-1E4!=g&&(fa.temp=10);-1E4!=n&&(fa.temp=11);-1E4!=l&&(fa.temp=12);switch(fa["int"](1,fa.temp)){case 2:return b;case 3:return c;case 4:return d;case 5:return e;case 6:return f;case 7:return k;case 8:return p;case 9:return h;case 10:return g;case 11:return n;
case 12:return l}return a};fa.pickfloat=function(a,b,c,d,e,f,k,p,h,g,n,l){null==l&&(l=-1E4);null==n&&(n=-1E4);null==g&&(g=-1E4);null==h&&(h=-1E4);null==p&&(p=-1E4);null==k&&(k=-1E4);null==f&&(f=-1E4);null==e&&(e=-1E4);null==d&&(d=-1E4);null==c&&(c=-1E4);fa.temp=2;-1E4!=c&&(fa.temp=3);-1E4!=d&&(fa.temp=4);-1E4!=e&&(fa.temp=5);-1E4!=f&&(fa.temp=6);-1E4!=k&&(fa.temp=7);-1E4!=p&&(fa.temp=8);-1E4!=h&&(fa.temp=9);-1E4!=g&&(fa.temp=10);-1E4!=n&&(fa.temp=11);-1E4!=l&&(fa.temp=12);switch(fa["int"](1,fa.temp)){case 2:return b;
case 3:return c;case 4:return d;case 5:return e;case 6:return f;case 7:return k;case 8:return p;case 9:return h;case 10:return g;case 11:return n;case 12:return l}return a};fa.pick=function(a){return a[fa["int"](0,a.length-1)]};fa.random=function(){fa.seed=16807*fa.seed%2147483647;return Math.abs(fa.seed/2147483647)};fa.setseed=function(a){fa.seed=Math.abs(a%2147483647)|0;Math.random()};var ba=function(){};m["haxegon.S"]=ba;ba.__name__=["haxegon","S"];ba.uppercase=function(a){return a.toUpperCase()};
ba.lowercase=function(a){return a.toLowerCase()};ba.split=function(a,b){return a.split(b)};ba.removefromstring=function(a,b){return-1==ba.positioninstring(a,b)?a:ba.removefromstring(ba.getroot(a,b)+ba.getbranch(a,b),b)};ba.isinstring=function(a,b){return-1!=ba.positioninstring(a,b)?!0:!1};ba.positioninstring=function(a,b,c){null==c&&(c=0);return a.indexOf(b,c)};ba.letterat=function(a,b){null==b&&(b=0);return da.substr(a,b,1)};ba.mid=function(a,b,c){null==c&&(c=1);null==b&&(b=0);return da.substr(a,
b,c)};ba.left=function(a,b){null==b&&(b=1);return da.substr(a,0,b)};ba.right=function(a,b){null==b&&(b=1);return da.substr(a,a.length-b,b)};ba.removefromleft=function(a,b){null==b&&(b=1);return ba.right(a,a.length-b)};ba.removefromright=function(a,b){null==b&&(b=1);return ba.left(a,a.length-b)};ba.reversetext=function(a){for(var b="",c=0,d=a.length;c<d;)var e=c++,b=b+ba.mid(a,a.length-e-1,1);return b};ba.replacechar=function(a,b,c){null==c&&(c="");null==b&&(b="|");return Da.replace(a,b,c)};ba.getlastbranch=
function(a,b){for(var c=a.length-1;0<=c;){if(ba.mid(a,c,1)==b)return ba.mid(a,c+1,a.length-c-1);--c}return a};ba.getroot=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(ba.mid(a,e,1)==b)return ba.mid(a,0,e)}return a};ba.getbranch=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(ba.mid(a,e,1)==b)return ba.mid(a,e+1,a.length-e-1)}return a};ba.getbetweenbrackets=function(a){for(;"("!=ba.mid(a,0,1)&&0<a.length;)a=ba.mid(a,1,a.length-1);for(;")"!=ba.mid(a,a.length-1,1)&&0<a.length;)a=ba.mid(a,
0,a.length-1);return 0>=a.length?"":ba.mid(a,1,a.length-2)};ba.trimspaces=function(a){for(;" "==ba.mid(a,0,1)&&0<a.length;)a=ba.mid(a,1,a.length-1);for(;" "==ba.mid(a,a.length-1,1)&&0<a.length;)a=ba.mid(a,0,a.length-1);for(;"\t"==ba.mid(a,0,1)&&0<a.length;)a=ba.mid(a,1,a.length-1);for(;"\t"==ba.mid(a,a.length-1,1)&&0<a.length;)a=ba.mid(a,0,a.length-1);return 0>=a.length?"":a};ba.isnumber=function(a){return isNaN(parseFloat(a))?!1:!0};var S=function(){};m["haxegon3D.Gfx3D"]=S;S.__name__=["haxegon3D",
"Gfx3D"];S.__properties__={set_fps:"set_fps",get_fps:"get_fps",set_mipmaps:"set_mipmaps",get_mipmaps:"get_mipmaps"};S.clear=function(){};S.addcube=function(a,b,c,d,e,f,k){S.objectnum=S.objects.length;var p=S.objectnum,h=S.objectindex;null!=t[a]?h.setReserved(a,p):h.h[a]=p;S.objects.push(new Pb(new dj(e,f,k,1,1,1,!1),null));S.objects[S.objectnum].set_x(b);S.objects[S.objectnum].set_y(c);S.objects[S.objectnum].set_z(d);S.view.get_scene().addChild(S.objects[S.objectnum])};S.loadimage=function(a,b){var c;
if(Gb.assetexists(a+"/graphics/"+b+".png"))c=(new Id(ma.getBitmapData(a+"/graphics/"+b+".png"))).bitmapData;else if(Gb.assetexists(a+"/graphics/"+b+".jpg"))c=(new Id(ma.getBitmapData(a+"/graphics/"+b+".jpg"))).bitmapData;else{Aa.trace('ERROR: In loadimage, cannot find "'+a+"/graphics/"+b+'.png" or "'+a+"/graphics/"+b+'.jpg"',{fileName:"Gfx3D.hx",lineNumber:58,className:"haxegon3D.Gfx3D",methodName:"loadimage"});return}var d=S.images.length,e=S.imageindex;null!=t[b]?e.setReserved(b,d):e.h[b]=d;d=new Ha(c.width,
c.height,!0,0);d.copyPixels(c,c.rect,new Pa(0,0));S.images.push(d)};S.getimagebitmapdata=function(a,b){var c=S.imageindex;(null!=t[b]?c.existsReserved(b):c.h.hasOwnProperty(b))||S.loadimage(a,b);c=S.imageindex;S.imagenum=null!=t[b]?c.getReserved(b):c.h[b];return S.images[S.imagenum]};S.getbitmapdata=function(a){return S.getimagebitmapdata("assets",a)};S.applycolour=function(a,b){var c=S.objectindex;if(null!=t[a]?!c.existsReserved(a):!c.h.hasOwnProperty(a))throw new H('ERROR: In Gfx3D.applytexture(), cannot find object with label "'+
a+'".');c=S.objectindex;S.objectnum=null!=t[a]?c.getReserved(a):c.h[a];for(var c=0,d=S.objects[S.objectnum].get_subMeshes();c<d.get_length();){var e=d.get(c);++c;e.set_material(new Lb(b))}};S.remove=function(a){var b=S.objectindex;if(null!=t[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))throw new H('ERROR: In Gfx3D.remove(), cannot find object with label "'+a+'".');b=S.objectindex;S.objectnum=null!=t[a]?b.getReserved(a):b.h[a];S.view.get_scene().removeChild(S.objects[S.objectnum]);S.objectindex.remove(a)};
S.exists=function(a){var b=S.objectindex;return(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?!0:!1};S.movecamera=function(a,b,c){S.view.get_camera().set_x(a);S.view.get_camera().set_y(b);S.view.get_camera().set_z(c)};S.pointcamera=function(a,b,c){S.view.get_camera().set_rotationX(b);S.view.get_camera().set_rotationY(a);S.view.get_camera().set_rotationZ(c)};S.get_mipmaps=function(){return S.usemipmaps};S.set_mipmaps=function(a){if(a){S.usemipmaps=!0;for(var b=S.textureindex.keys();b.hasNext();){var c=
b.next(),d=S.textureindex;S.textures[null!=t[c]?d.getReserved(c):d.h[c]].set_mipmap(!0)}}else for(S.usemipmaps=!1,b=S.textureindex.keys();b.hasNext();)c=b.next(),d=S.textureindex,S.textures[null!=t[c]?d.getReserved(c):d.h[c]].set_mipmap(!1);return a};S.get_fps=function(){return S.fpscounter_visible};S.set_fps=function(a){a?S.fpscounter_visible||(null==S.fpscounter&&(S.fpscounter=new ed(S.view)),S.gfxstage.addChild(S.fpscounter),S.fpscounter_visible=!0):S.fpscounter_visible&&(null!=S.fpscounter&&(S.gfxstage.removeChild(S.fpscounter),
S.fpscounter=null),S.fpscounter_visible=!1);return a};S.init3d=function(a){S.gfxstage=a;S.images=[];S.imagenum=0;S.imageindex=new qa;S.sharedscene=new yk;S.view=new Th(S.sharedscene);S.view.set_layeredView(!0);S.view.set_antiAlias(0);S.gfxstage.addChild(S.view);S.movecamera(0,0,0);S.view.get_camera().set_z(-1E3);S.view.get_camera().set_y(0);S.view.get_camera().lookAt(new C);S.view.get_camera().set_lens(new hd(60));S.view.get_camera().get_lens().set_far(1E4);S.view.set_width(S.gfxstage.stageWidth);
S.view.set_height(S.gfxstage.stageHeight);S.originalwidth=S.gfxstage.stageWidth|0;S.originalheight=S.gfxstage.stageHeight|0};var Ta=function(){};m["haxegonaddons.Easing"]=Ta;Ta.__name__=["haxegonaddons","Easing"];Ta.easeLinear=function(a,b,c,d){return c*a/d+b};Ta.easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*Ta.PI_D2)+c+b};Ta.easeOutSine=function(a,b,c,d){return c*Math.sin(a/d*Ta.PI_D2)+b};Ta.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};Ta.easeInQuint=function(a,b,
c,d){return c*(a/=d)*a*a*a*a+b};Ta.easeOutQuint=function(a,b,c,d){a=a/d-1;return c*(a*a*a*a*a+1)+b};Ta.easeInOutQuint=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};Ta.easeInQuart=function(a,b,c,d){return c*(a/=d)*a*a*a+b};Ta.easeOutQuart=function(a,b,c,d){a=a/d-1;return-c*(a*a*a*a-1)+b};Ta.easeInOutQuart=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};Ta.easeInQuad=function(a,b,c,d){return c*(a/=d)*a+b};Ta.easeOutQuad=function(a,b,c,d){return-c*
(a/=d)*(a-2)+b};Ta.easeInOutQuad=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};Ta.easeInExpo=function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b};Ta.easeOutExpo=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b};Ta.easeInOutExpo=function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};Ta.easeInCircular=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b};Ta.easeOutCircular=function(a,b,c,d){a=a/d-1;
return c*Math.sqrt(1-a*a)+b};Ta.easeInOutCircular=function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};Ta.easeInBack=function(a,b,c,d,e){null==e&&(e=1.70158);return c*(a/=d)*a*((e+1)*a-e)+b};Ta.easeOutBack=function(a,b,c,d,e){null==e&&(e=1.70158);a=a/d-1;return c*(a*a*((e+1)*a+e)+1)+b};Ta.easeInOutBack=function(a,b,c,d,e){null==e&&(e=1.70158);return 1>(a/=d/2)?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b};Ta.easeInBounce=function(a,
b,c,d){return c-Ta.easeOutBounce(d-a,0,c,d)+b};Ta.easeOutBounce=function(a,b,c,d){return.36363636363636365>(a/=d)?7.5625*c*a*a+b:.7272727272727273>a?c*(7.5625*(a-=.5454545454545454)*a+.75)+b:.9090909090909091>a?c*(7.5625*(a-=.8181818181818182)*a+.9375)+b:c*(7.5625*(a-=.9545454545454546)*a+.984375)+b};Ta.easeInOutBounce=function(a,b,c,d){return a<d/2?.5*Ta.easeInBounce(2*a,0,c,d)+b:.5*Ta.easeOutBounce(2*a-d,0,c,d)+.5*c+b};Ta.easeInCubic=function(a,b,c,d){return c*(a/=d)*a*a+b};Ta.easeOutCubic=function(a,
b,c,d){a=a/d-1;return c*(a*a*a+1)+b};Ta.easeInOutCubic=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};var Oa=function(){};m["haxegonaddons.Lerp"]=Oa;Oa.__name__=["haxegonaddons","Lerp"];Oa.init=function(){Oa.lerptimer=[];Oa.lerptimermax=[];Oa.completelist=[]};Oa.to=function(a,b,c,d){null==d&&(d="linear");if(Oa.incompletelist(c))return b|0;var e=Oa.timerindex;if(null!=t[c]?!e.existsReserved(c):!e.h.hasOwnProperty(c))return a|0;e=Oa.timerindex;c=null!=t[c]?e.getReserved(c):e.h[c];
return Oa.to_value(a,b,Oa.lerptimer[c],Oa.lerptimermax[c],d)|0};Oa.from=function(a,b,c,d){null==d&&(d="linear");return Oa.to(b,a,c,d)};Oa.to_float=function(a,b,c,d){null==d&&(d="linear");if(Oa.incompletelist(c))return b;var e=Oa.timerindex;if(null!=t[c]?!e.existsReserved(c):!e.h.hasOwnProperty(c))return a;e=Oa.timerindex;c=null!=t[c]?e.getReserved(c):e.h[c];return Oa.to_value(a,b,Oa.lerptimer[c],Oa.lerptimermax[c],d)};Oa.from_float=function(a,b,c,d){null==d&&(d="linear");return Oa.to_float(b,a,c,
d)};Oa.to_value=function(a,b,c,d,e){null==e&&(e="linear");if(0<=c&&c<=d)switch(e){case "back_in":return Ta.easeInBack(c,a,b-a,d);case "back_inout":return Ta.easeInOutBack(c,a,b-a,d);case "back_out":return Ta.easeOutBack(c,a,b-a,d);case "bounce_in":return Ta.easeInBounce(c,a,b-a,d);case "bounce_inout":return Ta.easeInOutBounce(c,a,b-a,d);case "bounce_out":return Ta.easeOutBounce(c,a,b-a,d);case "circular_in":return Ta.easeInCircular(c,a,b-a,d);case "circular_inout":return Ta.easeInOutCircular(c,a,
b-a,d);case "circular_out":return Ta.easeOutCircular(c,a,b-a,d);case "cubic_in":return Ta.easeInCubic(c,a,b-a,d);case "cubic_inout":return Ta.easeInOutCubic(c,a,b-a,d);case "cubic_out":return Ta.easeOutCubic(c,a,b-a,d);case "expo_in":return Ta.easeInExpo(c,a,b-a,d);case "expo_inout":return Ta.easeInOutExpo(c,a,b-a,d);case "expo_out":return Ta.easeOutExpo(c,a,b-a,d);case "linear":return b+(d-c)/d*(a-b);case "quad_in":return Ta.easeInQuad(c,a,b-a,d);case "quad_inout":return Ta.easeInOutQuad(c,a,b-a,
d);case "quad_out":return Ta.easeOutQuad(c,a,b-a,d);case "quart_in":return Ta.easeInQuart(c,a,b-a,d);case "quart_inout":return Ta.easeInOutQuart(c,a,b-a,d);case "quart_out":return Ta.easeOutQuart(c,a,b-a,d);case "quint_in":return Ta.easeInQuint(c,a,b-a,d);case "quint_inout":return Ta.easeInOutQuint(c,a,b-a,d);case "quint_out":return Ta.easeOutQuint(c,a,b-a,d);case "sine_in":return Ta.easeInSine(c,a,b-a,d);case "sine_inout":return Ta.easeInOutSine(c,a,b-a,d);case "sine_out":return Ta.easeOutSine(c,
a,b-a,d)}return a};Oa.from_value=function(a,b,c,d,e){null==e&&(e="linear");return Oa.to_value(b,a,c,d,e)};Oa.update=function(){for(var a,b=Oa.timerindex.keys();b.hasNext();){var c=b.next();a=Oa.timerindex;a=null!=t[c]?a.getReserved(c):a.h[c];Oa.lerptimer[a]<Oa.lerptimermax[a]?Oa.lerptimer[a]++:(Oa.addtocomplete(c),Oa.timerindex.remove(c))}};Oa.finished=function(a){var b=Oa.timerindex;return(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?!1:!0};Oa.justfinished=function(a){return Oa.incompletelist(a)?
(Oa.removefromcomplete(a),!0):!1};Oa.start=function(a,b){var c=Oa.timerindex;if(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))c=Oa.timerindex,Oa.lerptimermax[null!=t[a]?c.getReserved(a):c.h[a]]=b,c=Oa.timerindex,Oa.lerptimer[null!=t[a]?c.getReserved(a):c.h[a]]=0;else{Oa.lerptimermax.push(b);Oa.lerptimer.push(0);var c=Oa.lerptimer.length-1,d=Oa.timerindex;null!=t[a]?d.setReserved(a,c):d.h[a]=c}Oa.mode=a};Oa.addtocomplete=function(a){-1==Oa.completelist.indexOf(a)&&Oa.completelist.push(a)};Oa.removefromcomplete=
function(a){-1!=Oa.completelist.indexOf(a)&&Oa.completelist.splice(Oa.completelist.indexOf(a),1);var b=Oa.timerindex;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=Oa.timerindex,Oa.lerptimer.splice(null!=t[a]?b.getReserved(a):b.h[a],1),b=Oa.timerindex,Oa.lerptimermax.splice(null!=t[a]?b.getReserved(a):b.h[a],1),Oa.timerindex.remove(a)};Oa.incompletelist=function(a){return-1!=Oa.completelist.indexOf(a)?!0:!1};var H=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&
Error.captureStackTrace(this,H)};m["js._Boot.HaxeError"]=H;H.__name__=["js","_Boot","HaxeError"];H.wrap=function(a){return a instanceof Error?a:new H(a)};H.__super__=Error;H.prototype=z(Error.prototype,{val:null,__class__:H});var ws=function(){};m["js.Browser"]=ws;ws.__name__=["js","Browser"];ws.alert=function(a){window.alert(y.__string_rec(a,""))};var xs=function(){};m["js.html._CanvasElement.CanvasUtil"]=xs;xs.__name__=["js","html","_CanvasElement","CanvasUtil"];xs.getContextWebGL=function(a,b){for(var c=
0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var $d=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};m["js.html.compat.ArrayBuffer"]=$d;$d.__name__=["js","html","compat","ArrayBuffer"];$d.sliceImpl=function(a,b){var c=new Db(this,a,null==b?null:b-a),d=new He(c.byteLength);(new Db(d)).set(c);return d};$d.prototype={byteLength:null,
a:null,slice:function(a,b){return new $d(this.a.slice(a,b))},__class__:$d};var ar=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new H(Fd.OutsideBounds);this.byteLength=this.length;this.byteOffset=this.offset;this.buffer=this.buf};m["js.html.compat.DataView"]=ar;ar.__name__=["js","html","compat","DataView"];ar.prototype={buf:null,offset:null,length:null,byteLength:null,byteOffset:null,
buffer:null,getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<
24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Gd.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return Gd.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;
c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Gd.floatToI32(b),c)},setFloat64:function(a,b,c){b=Gd.doubleToI64(b);c?(this.setUint32(a,
b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:ar};var th=function(){};m["js.html.compat.Float32Array"]=th;th.__name__=["js","html","compat","Float32Array"];th._new=function(a,b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=d.length<<2;d.byteOffset=0;a=[];b=0;for(e=d.length<<2;b<e;)b++,a.push(0);d.buffer=new $d(a)}else if(y.__instanceof(a,$d)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>2);d=[];for(e=0;e<c;){e++;var f=
a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push(Gd.i32ToFloat(f))}d.byteLength=d.length<<2;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=Gd.floatToI32(e),a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<2;d.byteOffset=0;d.buffer=new $d(a)}else throw new H("TODO "+h.string(a));d.subarray=th._subarray;d.set=th._set;return d};th._set=function(a,b){if(y.__instanceof(a.buffer,$d)){if(a.byteLength+
b>this.byteLength)throw new H("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new H("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new H("TODO");};th._subarray=function(a,b){var c=th._new(this.slice(a,b));c.byteOffset=4*a;return c};var uh=function(){};m["js.html.compat.Float64Array"]=uh;uh.__name__=["js","html","compat","Float64Array"];uh._new=function(a,
b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=d.length<<3;d.byteOffset=0;a=[];b=0;for(e=d.length<<3;b<e;)b++,a.push(0);d.buffer=new $d(a)}else if(y.__instanceof(a,$d)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>3);d=[];for(e=0;e<c;){e++;var f=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24,k=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push(Gd.i64ToDouble(f,k))}d.byteLength=d.length<<3;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=
a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=Gd.doubleToI64(e),c=e.low,a.push(c&255),a.push(c>>8&255),a.push(c>>16&255),a.push(c>>>24),e=e.high,a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<3;d.byteOffset=0;d.buffer=new $d(a)}else throw new H("TODO "+h.string(a));d.subarray=uh._subarray;d.set=uh._set;return d};uh._set=function(a,b){if(y.__instanceof(a.buffer,$d)){if(a.byteLength+b>this.byteLength)throw new H("set() outside of range");for(var c=0,d=a.byteLength;c<
d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new H("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new H("TODO");};uh._subarray=function(a,b){var c=uh._new(this.slice(a,b));c.byteOffset=8*a;return c};var vh=function(){};m["js.html.compat.Uint8Array"]=vh;vh.__name__=["js","html","compat","Uint8Array"];vh._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;
c.byteOffset=0;c.buffer=new $d(c)}else if(y.__instanceof(a,$d))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new $d(c);else throw new H("TODO "+h.string(a));c.subarray=vh._subarray;c.set=vh._set;return c};vh._set=function(a,b){if(y.__instanceof(a.buffer,$d)){if(a.byteLength+b>this.byteLength)throw new H("set() outside of range");
for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new H("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new H("TODO");};vh._subarray=function(a,b){var c=vh._new(this.slice(a,b));c.byteOffset=a;return c};var Np=function(){this.connected=!0;this.buttons=[];this.axes=[]};m["lime._backend.html5.GameDeviceData"]=Np;Np.__name__=["lime","_backend","html5","GameDeviceData"];Np.prototype=
{connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:Np};var br=function(a){this.parent=a;this.id=-1;this.gain=1;this.position=new Rb};m["lime._backend.html5.HTML5AudioSource"]=br;br.__name__=["lime","_backend","html5","HTML5AudioSource"];br.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,position:null,dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer){this.playing=!0;var a=this.getCurrentTime();
this.completed=!1;var b=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=this.parent.get_gain();this.id=this.parent.buffer.__srcHowl.play();this.parent.buffer.__srcHowl._volume=b;this.setPosition(this.parent.get_position());this.parent.buffer.__srcHowl.on("end",u(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},pause:function(){this.playing=!1;this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1;this.parent.buffer.__srcHowl.stop(this.id)},howl_onEnd:function(){this.playing=
!1;0<this.loops?(this.loops--,this.stop(),this.play()):(this.parent.buffer.__srcHowl.stop(this.id),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();var a=(1E3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>a?0:a},setCurrentTime:function(a){if(null!=this.parent.buffer){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},
setGain:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.volume(a,this.id);return this.gain=a},getLength:function(){return 0!=this.length?this.length:1E3*this.parent.buffer.__srcHowl.duration()|0},setLength:function(a){return this.length=a},getLoops:function(){return this.loops},setLoops:function(a){return this.loops=a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;return this.position},
__class__:br};var no=function(a){this.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447;this.INVALID_INDEX=this.TIMEOUT_IGNORED=-1;this.DEPTH32F_STENCIL8=36013;this.DEPTH_COMPONENT32F=36012;this.DYNAMIC_COPY=35050;this.DYNAMIC_READ=35049;this.STATIC_COPY=35046;this.STATIC_READ=35045;this.STREAM_COPY=35042;this.STREAM_READ=35041;this.DEPTH_COMPONENT24=33190;this.MAX=32776;this.MIN=32775;this.STENCIL=6146;this.DEPTH=6145;this.COLOR=6144;this.SYNC_FLUSH_COMMANDS_BIT=1;this.WAIT_FAILED=37149;this.CONDITION_SATISFIED=
37148;this.TIMEOUT_EXPIRED=37147;this.ALREADY_SIGNALED=37146;this.SIGNALED=37145;this.UNSIGNALED=37144;this.SYNC_GPU_COMMANDS_COMPLETE=37143;this.SYNC_FENCE=37142;this.SYNC_FLAGS=37141;this.SYNC_STATUS=37140;this.SYNC_CONDITION=37139;this.OBJECT_TYPE=37138;this.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398;this.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396;this.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395;this.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394;this.UNIFORM_BLOCK_DATA_SIZE=35392;this.UNIFORM_BLOCK_BINDING=
35391;this.UNIFORM_IS_ROW_MAJOR=35390;this.UNIFORM_MATRIX_STRIDE=35389;this.UNIFORM_ARRAY_STRIDE=35388;this.UNIFORM_OFFSET=35387;this.UNIFORM_BLOCK_INDEX=35386;this.UNIFORM_SIZE=35384;this.UNIFORM_TYPE=35383;this.ACTIVE_UNIFORM_BLOCKS=35382;this.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380;this.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379;this.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377;this.MAX_UNIFORM_BLOCK_SIZE=35376;this.MAX_UNIFORM_BUFFER_BINDINGS=35375;this.MAX_COMBINED_UNIFORM_BLOCKS=35374;this.MAX_FRAGMENT_UNIFORM_BLOCKS=
35373;this.MAX_VERTEX_UNIFORM_BLOCKS=35371;this.UNIFORM_BUFFER_SIZE=35370;this.UNIFORM_BUFFER_START=35369;this.UNIFORM_BUFFER_BINDING=35368;this.UNIFORM_BUFFER=35345;this.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182;this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052;this.RENDERBUFFER_SAMPLES=36011;this.READ_FRAMEBUFFER_BINDING=36010;this.DRAW_FRAMEBUFFER=36009;this.READ_FRAMEBUFFER=36008;this.DRAW_FRAMEBUFFER_BINDING=36006;this.DEPTH24_STENCIL8=35056;this.FRAMEBUFFER_DEFAULT=33304;this.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=
33303;this.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302;this.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301;this.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300;this.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299;this.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298;this.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297;this.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296;this.TRANSFORM_FEEDBACK_BINDING=36389;this.TRANSFORM_FEEDBACK_ACTIVE=36388;this.TRANSFORM_FEEDBACK_PAUSED=36387;this.TRANSFORM_FEEDBACK=36386;this.TRANSFORM_FEEDBACK_BUFFER_BINDING=
35983;this.TRANSFORM_FEEDBACK_BUFFER=35982;this.SEPARATE_ATTRIBS=35981;this.INTERLEAVED_ATTRIBS=35980;this.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979;this.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978;this.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976;this.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973;this.TRANSFORM_FEEDBACK_BUFFER_START=35972;this.TRANSFORM_FEEDBACK_VARYINGS=35971;this.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968;this.TRANSFORM_FEEDBACK_BUFFER_MODE=35967;this.VERTEX_ATTRIB_ARRAY_DIVISOR=
35070;this.VERTEX_ATTRIB_ARRAY_INTEGER=35069;this.SIGNED_NORMALIZED=36764;this.UNSIGNED_NORMALIZED=35863;this.UNSIGNED_INT_VEC4=36296;this.UNSIGNED_INT_VEC3=36295;this.UNSIGNED_INT_VEC2=36294;this.FLOAT_MAT4x3=35690;this.FLOAT_MAT4x2=35689;this.FLOAT_MAT3x4=35688;this.FLOAT_MAT3x2=35687;this.FLOAT_MAT2x4=35686;this.FLOAT_MAT2x3=35685;this.COPY_WRITE_BUFFER_BINDING=36663;this.COPY_READ_BUFFER_BINDING=36662;this.COPY_WRITE_BUFFER=36663;this.COPY_READ_BUFFER=36662;this.PIXEL_UNPACK_BUFFER_BINDING=35055;
this.PIXEL_PACK_BUFFER_BINDING=35053;this.PIXEL_UNPACK_BUFFER=35052;this.PIXEL_PACK_BUFFER=35051;this.SAMPLER_BINDING=35097;this.MAX_SAMPLES=36183;this.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311;this.UNSIGNED_INT_SAMPLER_CUBE=36308;this.UNSIGNED_INT_SAMPLER_3D=36307;this.UNSIGNED_INT_SAMPLER_2D=36306;this.INT_SAMPLER_2D_ARRAY=36303;this.INT_SAMPLER_CUBE=36300;this.INT_SAMPLER_3D=36299;this.INT_SAMPLER_2D=36298;this.SAMPLER_CUBE_SHADOW=36293;this.SAMPLER_2D_ARRAY_SHADOW=36292;this.SAMPLER_2D_ARRAY=36289;
this.SAMPLER_2D_SHADOW=35682;this.SAMPLER_3D=35679;this.COLOR_ATTACHMENT15=36079;this.COLOR_ATTACHMENT14=36078;this.COLOR_ATTACHMENT13=36077;this.COLOR_ATTACHMENT12=36076;this.COLOR_ATTACHMENT11=36075;this.COLOR_ATTACHMENT10=36074;this.COLOR_ATTACHMENT9=36073;this.COLOR_ATTACHMENT8=36072;this.COLOR_ATTACHMENT7=36071;this.COLOR_ATTACHMENT6=36070;this.COLOR_ATTACHMENT5=36069;this.COLOR_ATTACHMENT4=36068;this.COLOR_ATTACHMENT3=36067;this.COLOR_ATTACHMENT2=36066;this.COLOR_ATTACHMENT1=36065;this.MAX_COLOR_ATTACHMENTS=
36063;this.DRAW_BUFFER15=34868;this.DRAW_BUFFER14=34867;this.DRAW_BUFFER13=34866;this.DRAW_BUFFER12=34865;this.DRAW_BUFFER11=34864;this.DRAW_BUFFER10=34863;this.DRAW_BUFFER9=34862;this.DRAW_BUFFER8=34861;this.DRAW_BUFFER7=34860;this.DRAW_BUFFER6=34859;this.DRAW_BUFFER5=34858;this.DRAW_BUFFER4=34857;this.DRAW_BUFFER3=34856;this.DRAW_BUFFER2=34855;this.DRAW_BUFFER1=34854;this.DRAW_BUFFER0=34853;this.MAX_DRAW_BUFFERS=34852;this.ANY_SAMPLES_PASSED_CONSERVATIVE=36202;this.ANY_SAMPLES_PASSED=35887;this.QUERY_RESULT_AVAILABLE=
34919;this.QUERY_RESULT=34918;this.CURRENT_QUERY=34917;this.INT_2_10_10_10_REV=36255;this.RG_INTEGER=33320;this.RG=33319;this.HALF_FLOAT=5131;this.UNSIGNED_INT_24_8=34042;this.FLOAT_32_UNSIGNED_INT_24_8_REV=36269;this.UNSIGNED_INT_5_9_9_9_REV=35902;this.UNSIGNED_INT_10F_11F_11F_REV=35899;this.UNSIGNED_INT_2_10_10_10_REV=33640;this.TEXTURE_IMMUTABLE_LEVELS=33503;this.TEXTURE_IMMUTABLE_FORMAT=37167;this.RGB10_A2UI=36975;this.RGBA8_SNORM=36759;this.RGB8_SNORM=36758;this.RG8_SNORM=36757;this.R8_SNORM=
36756;this.RG32UI=33340;this.RG32I=33339;this.RG16UI=33338;this.RG16I=33337;this.RG8UI=33336;this.RG8I=33335;this.R32UI=33334;this.R32I=33333;this.R16UI=33332;this.R16I=33331;this.R8UI=33330;this.R8I=33329;this.RG32F=33328;this.RG16F=33327;this.R32F=33326;this.R16F=33325;this.RG8=33323;this.R8=33321;this.RGBA_INTEGER=36249;this.RGB_INTEGER=36248;this.RED_INTEGER=36244;this.RGB8I=36239;this.RGBA8I=36238;this.RGB16I=36233;this.RGBA16I=36232;this.RGB32I=36227;this.RGBA32I=36226;this.RGB8UI=36221;this.RGBA8UI=
36220;this.RGB16UI=36215;this.RGBA16UI=36214;this.RGB32UI=36209;this.RGBA32UI=36208;this.RGB9_E5=35901;this.R11F_G11F_B10F=35898;this.TEXTURE_BINDING_2D_ARRAY=35869;this.TEXTURE_2D_ARRAY=35866;this.RGB16F=34843;this.RGBA16F=34842;this.RGB32F=34837;this.RGBA32F=34836;this.COMPARE_REF_TO_TEXTURE=34894;this.SRGB8_ALPHA8=35907;this.SRGB8=35905;this.SRGB=35904;this.TEXTURE_COMPARE_FUNC=34893;this.TEXTURE_COMPARE_MODE=34892;this.TEXTURE_MAX_LEVEL=33085;this.TEXTURE_BASE_LEVEL=33084;this.TEXTURE_MAX_LOD=
33083;this.TEXTURE_MIN_LOD=33082;this.TEXTURE_WRAP_R=32882;this.TEXTURE_3D=32879;this.RGB10_A2=32857;this.RGBA8=32856;this.RGB8=32849;this.RED=6403;this.MAX_ELEMENT_INDEX=36203;this.MAX_SERVER_WAIT_TIMEOUT=37137;this.MAX_FRAGMENT_INPUT_COMPONENTS=37157;this.MAX_VERTEX_OUTPUT_COMPONENTS=37154;this.VERTEX_ARRAY_BINDING=34229;this.RASTERIZER_DISCARD=35977;this.FRAGMENT_SHADER_DERIVATIVE_HINT=35723;this.MAX_VARYING_COMPONENTS=35659;this.MAX_PROGRAM_TEXEL_OFFSET=35077;this.MIN_PROGRAM_TEXEL_OFFSET=35076;
this.MAX_ARRAY_TEXTURE_LAYERS=35071;this.MAX_VERTEX_UNIFORM_COMPONENTS=35658;this.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657;this.MAX_TEXTURE_LOD_BIAS=34045;this.MAX_ELEMENTS_INDICES=33001;this.MAX_ELEMENTS_VERTICES=33E3;this.MAX_3D_TEXTURE_SIZE=32883;this.UNPACK_IMAGE_HEIGHT=32878;this.UNPACK_SKIP_IMAGES=32877;this.TEXTURE_BINDING_3D=32874;this.PACK_SKIP_PIXELS=3332;this.PACK_SKIP_ROWS=3331;this.PACK_ROW_LENGTH=3330;this.UNPACK_SKIP_PIXELS=3316;this.UNPACK_SKIP_ROWS=3315;this.UNPACK_ROW_LENGTH=3314;this.READ_BUFFER=
3074;this.BROWSER_DEFAULT_WEBGL=37444;this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443;this.CONTEXT_LOST_WEBGL=37442;this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;this.UNPACK_FLIP_Y_WEBGL=37440;this.INVALID_FRAMEBUFFER_OPERATION=1286;this.MAX_RENDERBUFFER_SIZE=34024;this.RENDERBUFFER_BINDING=36007;this.FRAMEBUFFER_BINDING=36006;this.FRAMEBUFFER_UNSUPPORTED=36061;this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;
this.FRAMEBUFFER_COMPLETE=36053;this.NONE=0;this.DEPTH_STENCIL_ATTACHMENT=33306;this.STENCIL_ATTACHMENT=36128;this.DEPTH_ATTACHMENT=36096;this.COLOR_ATTACHMENT0=36064;this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;this.RENDERBUFFER_STENCIL_SIZE=36181;this.RENDERBUFFER_DEPTH_SIZE=36180;this.RENDERBUFFER_ALPHA_SIZE=36179;this.RENDERBUFFER_BLUE_SIZE=36178;
this.RENDERBUFFER_GREEN_SIZE=36177;this.RENDERBUFFER_RED_SIZE=36176;this.RENDERBUFFER_INTERNAL_FORMAT=36164;this.RENDERBUFFER_HEIGHT=36163;this.RENDERBUFFER_WIDTH=36162;this.DEPTH_STENCIL=34041;this.STENCIL_INDEX8=36168;this.STENCIL_INDEX=6401;this.DEPTH_COMPONENT16=33189;this.RGB565=36194;this.RGB5_A1=32855;this.RGBA4=32854;this.RENDERBUFFER=36161;this.FRAMEBUFFER=36160;this.HIGH_INT=36341;this.MEDIUM_INT=36340;this.LOW_INT=36339;this.HIGH_FLOAT=36338;this.MEDIUM_FLOAT=36337;this.LOW_FLOAT=36336;
this.COMPILE_STATUS=35713;this.POINT_SPRITE=34913;this.VERTEX_PROGRAM_POINT_SIZE=34370;this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;this.VERTEX_ATTRIB_ARRAY_POINTER=34373;this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;this.VERTEX_ATTRIB_ARRAY_TYPE=34341;this.VERTEX_ATTRIB_ARRAY_STRIDE=34340;this.VERTEX_ATTRIB_ARRAY_SIZE=34339;this.VERTEX_ATTRIB_ARRAY_ENABLED=34338;this.SAMPLER_CUBE=35680;this.SAMPLER_2D=35678;this.FLOAT_MAT4=35676;this.FLOAT_MAT3=35675;this.FLOAT_MAT2=35674;this.BOOL_VEC4=35673;this.BOOL_VEC3=
35672;this.BOOL_VEC2=35671;this.BOOL=35670;this.INT_VEC4=35669;this.INT_VEC3=35668;this.INT_VEC2=35667;this.FLOAT_VEC4=35666;this.FLOAT_VEC3=35665;this.FLOAT_VEC2=35664;this.MIRRORED_REPEAT=33648;this.CLAMP_TO_EDGE=33071;this.REPEAT=10497;this.ACTIVE_TEXTURE=34016;this.TEXTURE31=34015;this.TEXTURE30=34014;this.TEXTURE29=34013;this.TEXTURE28=34012;this.TEXTURE27=34011;this.TEXTURE26=34010;this.TEXTURE25=34009;this.TEXTURE24=34008;this.TEXTURE23=34007;this.TEXTURE22=34006;this.TEXTURE21=34005;this.TEXTURE20=
34004;this.TEXTURE19=34003;this.TEXTURE18=34002;this.TEXTURE17=34001;this.TEXTURE16=34E3;this.TEXTURE15=33999;this.TEXTURE14=33998;this.TEXTURE13=33997;this.TEXTURE12=33996;this.TEXTURE11=33995;this.TEXTURE10=33994;this.TEXTURE9=33993;this.TEXTURE8=33992;this.TEXTURE7=33991;this.TEXTURE6=33990;this.TEXTURE5=33989;this.TEXTURE4=33988;this.TEXTURE3=33987;this.TEXTURE2=33986;this.TEXTURE1=33985;this.TEXTURE0=33984;this.MAX_CUBE_MAP_TEXTURE_SIZE=34076;this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;this.TEXTURE_CUBE_MAP_POSITIVE_Z=
34073;this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;this.TEXTURE_CUBE_MAP_POSITIVE_X=34069;this.TEXTURE_BINDING_CUBE_MAP=34068;this.TEXTURE_CUBE_MAP=34067;this.TEXTURE=5890;this.TEXTURE_2D=3553;this.TEXTURE_WRAP_T=10243;this.TEXTURE_WRAP_S=10242;this.TEXTURE_MIN_FILTER=10241;this.TEXTURE_MAG_FILTER=10240;this.LINEAR_MIPMAP_LINEAR=9987;this.NEAREST_MIPMAP_LINEAR=9986;this.LINEAR_MIPMAP_NEAREST=9985;this.NEAREST_MIPMAP_NEAREST=9984;
this.LINEAR=9729;this.NEAREST=9728;this.VERSION=7938;this.RENDERER=7937;this.VENDOR=7936;this.DECR_WRAP=34056;this.INCR_WRAP=34055;this.INVERT=5386;this.DECR=7683;this.INCR=7682;this.REPLACE=7681;this.KEEP=7680;this.ALWAYS=519;this.GEQUAL=518;this.NOTEQUAL=517;this.GREATER=516;this.LEQUAL=515;this.EQUAL=514;this.LESS=513;this.NEVER=512;this.CURRENT_PROGRAM=35725;this.SHADING_LANGUAGE_VERSION=35724;this.ACTIVE_ATTRIBUTES=35721;this.ACTIVE_UNIFORMS=35718;this.ATTACHED_SHADERS=35717;this.VALIDATE_STATUS=
35715;this.LINK_STATUS=35714;this.DELETE_STATUS=35712;this.SHADER_TYPE=35663;this.MAX_FRAGMENT_UNIFORM_VECTORS=36349;this.MAX_TEXTURE_IMAGE_UNITS=34930;this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;this.MAX_VARYING_VECTORS=36348;this.MAX_VERTEX_UNIFORM_VECTORS=36347;this.MAX_VERTEX_ATTRIBS=34921;this.VERTEX_SHADER=35633;this.FRAGMENT_SHADER=35632;this.UNSIGNED_SHORT_5_6_5=33635;this.UNSIGNED_SHORT_5_5_5_1=32820;this.UNSIGNED_SHORT_4_4_4_4=32819;this.LUMINANCE_ALPHA=
6410;this.LUMINANCE=6409;this.RGBA=6408;this.RGB=6407;this.ALPHA=6406;this.DEPTH_COMPONENT=6402;this.FLOAT=5126;this.UNSIGNED_INT=5125;this.INT=5124;this.UNSIGNED_SHORT=5123;this.SHORT=5122;this.UNSIGNED_BYTE=5121;this.BYTE=5120;this.GENERATE_MIPMAP_HINT=33170;this.NICEST=4354;this.FASTEST=4353;this.DONT_CARE=4352;this.COMPRESSED_TEXTURE_FORMATS=34467;this.SAMPLE_COVERAGE_INVERT=32939;this.SAMPLE_COVERAGE_VALUE=32938;this.SAMPLES=32937;this.SAMPLE_BUFFERS=32936;this.TEXTURE_BINDING_2D=32873;this.POLYGON_OFFSET_FACTOR=
32824;this.POLYGON_OFFSET_UNITS=10752;this.STENCIL_BITS=3415;this.DEPTH_BITS=3414;this.ALPHA_BITS=3413;this.BLUE_BITS=3412;this.GREEN_BITS=3411;this.RED_BITS=3410;this.SUBPIXEL_BITS=3408;this.MAX_VIEWPORT_DIMS=3386;this.MAX_TEXTURE_SIZE=3379;this.PACK_ALIGNMENT=3333;this.UNPACK_ALIGNMENT=3317;this.COLOR_WRITEMASK=3107;this.COLOR_CLEAR_VALUE=3106;this.SCISSOR_BOX=3088;this.VIEWPORT=2978;this.STENCIL_BACK_WRITEMASK=36005;this.STENCIL_BACK_VALUE_MASK=36004;this.STENCIL_BACK_REF=36003;this.STENCIL_BACK_PASS_DEPTH_PASS=
34819;this.STENCIL_BACK_PASS_DEPTH_FAIL=34818;this.STENCIL_BACK_FAIL=34817;this.STENCIL_BACK_FUNC=34816;this.STENCIL_WRITEMASK=2968;this.STENCIL_VALUE_MASK=2963;this.STENCIL_REF=2967;this.STENCIL_PASS_DEPTH_PASS=2966;this.STENCIL_PASS_DEPTH_FAIL=2965;this.STENCIL_FAIL=2964;this.STENCIL_FUNC=2962;this.STENCIL_CLEAR_VALUE=2961;this.DEPTH_FUNC=2932;this.DEPTH_CLEAR_VALUE=2931;this.DEPTH_WRITEMASK=2930;this.DEPTH_RANGE=2928;this.FRONT_FACE=2886;this.CULL_FACE_MODE=2885;this.ALIASED_LINE_WIDTH_RANGE=33902;
this.ALIASED_POINT_SIZE_RANGE=33901;this.LINE_WIDTH=2849;this.CCW=2305;this.CW=2304;this.OUT_OF_MEMORY=1285;this.INVALID_OPERATION=1282;this.INVALID_VALUE=1281;this.INVALID_ENUM=1280;this.NO_ERROR=0;this.SAMPLE_COVERAGE=32928;this.SAMPLE_ALPHA_TO_COVERAGE=32926;this.POLYGON_OFFSET_FILL=32823;this.SCISSOR_TEST=3089;this.DEPTH_TEST=2929;this.STENCIL_TEST=2960;this.DITHER=3024;this.BLEND=3042;this.CULL_FACE=2884;this.FRONT_AND_BACK=1032;this.BACK=1029;this.FRONT=1028;this.CURRENT_VERTEX_ATTRIB=34342;
this.BUFFER_USAGE=34661;this.BUFFER_SIZE=34660;this.DYNAMIC_DRAW=35048;this.STATIC_DRAW=35044;this.STREAM_DRAW=35040;this.ELEMENT_ARRAY_BUFFER_BINDING=34965;this.ARRAY_BUFFER_BINDING=34964;this.ELEMENT_ARRAY_BUFFER=34963;this.ARRAY_BUFFER=34962;this.BLEND_COLOR=32773;this.ONE_MINUS_CONSTANT_ALPHA=32772;this.CONSTANT_ALPHA=32771;this.ONE_MINUS_CONSTANT_COLOR=32770;this.CONSTANT_COLOR=32769;this.BLEND_SRC_ALPHA=32971;this.BLEND_DST_ALPHA=32970;this.BLEND_SRC_RGB=32969;this.BLEND_DST_RGB=32968;this.FUNC_REVERSE_SUBTRACT=
32779;this.FUNC_SUBTRACT=32778;this.BLEND_EQUATION_ALPHA=34877;this.BLEND_EQUATION=this.BLEND_EQUATION_RGB=32777;this.FUNC_ADD=32774;this.SRC_ALPHA_SATURATE=776;this.ONE_MINUS_DST_COLOR=775;this.DST_COLOR=774;this.ONE_MINUS_DST_ALPHA=773;this.DST_ALPHA=772;this.ONE_MINUS_SRC_ALPHA=771;this.SRC_ALPHA=770;this.ONE_MINUS_SRC_COLOR=769;this.SRC_COLOR=768;this.ONE=1;this.ZERO=0;this.TRIANGLE_FAN=6;this.TRIANGLE_STRIP=5;this.TRIANGLES=4;this.LINE_STRIP=3;this.LINE_LOOP=2;this.LINES=1;this.POINTS=0;this.COLOR_BUFFER_BIT=
16384;this.STENCIL_BUFFER_BIT=1024;this.DEPTH_BUFFER_BIT=256;this.__context=a;this.version=1;this.type=me.WEBGL;if(null!=a){var b=a;Object.prototype.hasOwnProperty.call(b,"rawgl")&&(b=Z.field(a,"rawgl"));Object.prototype.hasOwnProperty.call(window,"WebGL2RenderingContext")&&y.__instanceof(b,WebGL2RenderingContext)&&(this.version=2)}};m["lime._backend.html5.HTML5GLRenderContext"]=no;no.__name__=["lime","_backend","html5","HTML5GLRenderContext"];no.prototype={DEPTH_BUFFER_BIT:null,STENCIL_BUFFER_BIT:null,
COLOR_BUFFER_BIT:null,POINTS:null,LINES:null,LINE_LOOP:null,LINE_STRIP:null,TRIANGLES:null,TRIANGLE_STRIP:null,TRIANGLE_FAN:null,ZERO:null,ONE:null,SRC_COLOR:null,ONE_MINUS_SRC_COLOR:null,SRC_ALPHA:null,ONE_MINUS_SRC_ALPHA:null,DST_ALPHA:null,ONE_MINUS_DST_ALPHA:null,DST_COLOR:null,ONE_MINUS_DST_COLOR:null,SRC_ALPHA_SATURATE:null,FUNC_ADD:null,BLEND_EQUATION:null,BLEND_EQUATION_RGB:null,BLEND_EQUATION_ALPHA:null,FUNC_SUBTRACT:null,FUNC_REVERSE_SUBTRACT:null,BLEND_DST_RGB:null,BLEND_SRC_RGB:null,BLEND_DST_ALPHA:null,
BLEND_SRC_ALPHA:null,CONSTANT_COLOR:null,ONE_MINUS_CONSTANT_COLOR:null,CONSTANT_ALPHA:null,ONE_MINUS_CONSTANT_ALPHA:null,BLEND_COLOR:null,ARRAY_BUFFER:null,ELEMENT_ARRAY_BUFFER:null,ARRAY_BUFFER_BINDING:null,ELEMENT_ARRAY_BUFFER_BINDING:null,STREAM_DRAW:null,STATIC_DRAW:null,DYNAMIC_DRAW:null,BUFFER_SIZE:null,BUFFER_USAGE:null,CURRENT_VERTEX_ATTRIB:null,FRONT:null,BACK:null,FRONT_AND_BACK:null,CULL_FACE:null,BLEND:null,DITHER:null,STENCIL_TEST:null,DEPTH_TEST:null,SCISSOR_TEST:null,POLYGON_OFFSET_FILL:null,
SAMPLE_ALPHA_TO_COVERAGE:null,SAMPLE_COVERAGE:null,NO_ERROR:null,INVALID_ENUM:null,INVALID_VALUE:null,INVALID_OPERATION:null,OUT_OF_MEMORY:null,CW:null,CCW:null,LINE_WIDTH:null,ALIASED_POINT_SIZE_RANGE:null,ALIASED_LINE_WIDTH_RANGE:null,CULL_FACE_MODE:null,FRONT_FACE:null,DEPTH_RANGE:null,DEPTH_WRITEMASK:null,DEPTH_CLEAR_VALUE:null,DEPTH_FUNC:null,STENCIL_CLEAR_VALUE:null,STENCIL_FUNC:null,STENCIL_FAIL:null,STENCIL_PASS_DEPTH_FAIL:null,STENCIL_PASS_DEPTH_PASS:null,STENCIL_REF:null,STENCIL_VALUE_MASK:null,
STENCIL_WRITEMASK:null,STENCIL_BACK_FUNC:null,STENCIL_BACK_FAIL:null,STENCIL_BACK_PASS_DEPTH_FAIL:null,STENCIL_BACK_PASS_DEPTH_PASS:null,STENCIL_BACK_REF:null,STENCIL_BACK_VALUE_MASK:null,STENCIL_BACK_WRITEMASK:null,VIEWPORT:null,SCISSOR_BOX:null,COLOR_CLEAR_VALUE:null,COLOR_WRITEMASK:null,UNPACK_ALIGNMENT:null,PACK_ALIGNMENT:null,MAX_TEXTURE_SIZE:null,MAX_VIEWPORT_DIMS:null,SUBPIXEL_BITS:null,RED_BITS:null,GREEN_BITS:null,BLUE_BITS:null,ALPHA_BITS:null,DEPTH_BITS:null,STENCIL_BITS:null,POLYGON_OFFSET_UNITS:null,
POLYGON_OFFSET_FACTOR:null,TEXTURE_BINDING_2D:null,SAMPLE_BUFFERS:null,SAMPLES:null,SAMPLE_COVERAGE_VALUE:null,SAMPLE_COVERAGE_INVERT:null,COMPRESSED_TEXTURE_FORMATS:null,DONT_CARE:null,FASTEST:null,NICEST:null,GENERATE_MIPMAP_HINT:null,BYTE:null,UNSIGNED_BYTE:null,SHORT:null,UNSIGNED_SHORT:null,INT:null,UNSIGNED_INT:null,FLOAT:null,DEPTH_COMPONENT:null,ALPHA:null,RGB:null,RGBA:null,LUMINANCE:null,LUMINANCE_ALPHA:null,UNSIGNED_SHORT_4_4_4_4:null,UNSIGNED_SHORT_5_5_5_1:null,UNSIGNED_SHORT_5_6_5:null,
FRAGMENT_SHADER:null,VERTEX_SHADER:null,MAX_VERTEX_ATTRIBS:null,MAX_VERTEX_UNIFORM_VECTORS:null,MAX_VARYING_VECTORS:null,MAX_COMBINED_TEXTURE_IMAGE_UNITS:null,MAX_VERTEX_TEXTURE_IMAGE_UNITS:null,MAX_TEXTURE_IMAGE_UNITS:null,MAX_FRAGMENT_UNIFORM_VECTORS:null,SHADER_TYPE:null,DELETE_STATUS:null,LINK_STATUS:null,VALIDATE_STATUS:null,ATTACHED_SHADERS:null,ACTIVE_UNIFORMS:null,ACTIVE_ATTRIBUTES:null,SHADING_LANGUAGE_VERSION:null,CURRENT_PROGRAM:null,NEVER:null,LESS:null,EQUAL:null,LEQUAL:null,GREATER:null,
NOTEQUAL:null,GEQUAL:null,ALWAYS:null,KEEP:null,REPLACE:null,INCR:null,DECR:null,INVERT:null,INCR_WRAP:null,DECR_WRAP:null,VENDOR:null,RENDERER:null,VERSION:null,NEAREST:null,LINEAR:null,NEAREST_MIPMAP_NEAREST:null,LINEAR_MIPMAP_NEAREST:null,NEAREST_MIPMAP_LINEAR:null,LINEAR_MIPMAP_LINEAR:null,TEXTURE_MAG_FILTER:null,TEXTURE_MIN_FILTER:null,TEXTURE_WRAP_S:null,TEXTURE_WRAP_T:null,TEXTURE_2D:null,TEXTURE:null,TEXTURE_CUBE_MAP:null,TEXTURE_BINDING_CUBE_MAP:null,TEXTURE_CUBE_MAP_POSITIVE_X:null,TEXTURE_CUBE_MAP_NEGATIVE_X:null,
TEXTURE_CUBE_MAP_POSITIVE_Y:null,TEXTURE_CUBE_MAP_NEGATIVE_Y:null,TEXTURE_CUBE_MAP_POSITIVE_Z:null,TEXTURE_CUBE_MAP_NEGATIVE_Z:null,MAX_CUBE_MAP_TEXTURE_SIZE:null,TEXTURE0:null,TEXTURE1:null,TEXTURE2:null,TEXTURE3:null,TEXTURE4:null,TEXTURE5:null,TEXTURE6:null,TEXTURE7:null,TEXTURE8:null,TEXTURE9:null,TEXTURE10:null,TEXTURE11:null,TEXTURE12:null,TEXTURE13:null,TEXTURE14:null,TEXTURE15:null,TEXTURE16:null,TEXTURE17:null,TEXTURE18:null,TEXTURE19:null,TEXTURE20:null,TEXTURE21:null,TEXTURE22:null,TEXTURE23:null,
TEXTURE24:null,TEXTURE25:null,TEXTURE26:null,TEXTURE27:null,TEXTURE28:null,TEXTURE29:null,TEXTURE30:null,TEXTURE31:null,ACTIVE_TEXTURE:null,REPEAT:null,CLAMP_TO_EDGE:null,MIRRORED_REPEAT:null,FLOAT_VEC2:null,FLOAT_VEC3:null,FLOAT_VEC4:null,INT_VEC2:null,INT_VEC3:null,INT_VEC4:null,BOOL:null,BOOL_VEC2:null,BOOL_VEC3:null,BOOL_VEC4:null,FLOAT_MAT2:null,FLOAT_MAT3:null,FLOAT_MAT4:null,SAMPLER_2D:null,SAMPLER_CUBE:null,VERTEX_ATTRIB_ARRAY_ENABLED:null,VERTEX_ATTRIB_ARRAY_SIZE:null,VERTEX_ATTRIB_ARRAY_STRIDE:null,
VERTEX_ATTRIB_ARRAY_TYPE:null,VERTEX_ATTRIB_ARRAY_NORMALIZED:null,VERTEX_ATTRIB_ARRAY_POINTER:null,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:null,VERTEX_PROGRAM_POINT_SIZE:null,POINT_SPRITE:null,COMPILE_STATUS:null,LOW_FLOAT:null,MEDIUM_FLOAT:null,HIGH_FLOAT:null,LOW_INT:null,MEDIUM_INT:null,HIGH_INT:null,FRAMEBUFFER:null,RENDERBUFFER:null,RGBA4:null,RGB5_A1:null,RGB565:null,DEPTH_COMPONENT16:null,STENCIL_INDEX:null,STENCIL_INDEX8:null,DEPTH_STENCIL:null,RENDERBUFFER_WIDTH:null,RENDERBUFFER_HEIGHT:null,
RENDERBUFFER_INTERNAL_FORMAT:null,RENDERBUFFER_RED_SIZE:null,RENDERBUFFER_GREEN_SIZE:null,RENDERBUFFER_BLUE_SIZE:null,RENDERBUFFER_ALPHA_SIZE:null,RENDERBUFFER_DEPTH_SIZE:null,RENDERBUFFER_STENCIL_SIZE:null,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:null,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:null,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:null,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:null,COLOR_ATTACHMENT0:null,DEPTH_ATTACHMENT:null,STENCIL_ATTACHMENT:null,DEPTH_STENCIL_ATTACHMENT:null,NONE:null,FRAMEBUFFER_COMPLETE:null,
FRAMEBUFFER_INCOMPLETE_ATTACHMENT:null,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:null,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:null,FRAMEBUFFER_UNSUPPORTED:null,FRAMEBUFFER_BINDING:null,RENDERBUFFER_BINDING:null,MAX_RENDERBUFFER_SIZE:null,INVALID_FRAMEBUFFER_OPERATION:null,UNPACK_FLIP_Y_WEBGL:null,UNPACK_PREMULTIPLY_ALPHA_WEBGL:null,CONTEXT_LOST_WEBGL:null,UNPACK_COLORSPACE_CONVERSION_WEBGL:null,BROWSER_DEFAULT_WEBGL:null,READ_BUFFER:null,UNPACK_ROW_LENGTH:null,UNPACK_SKIP_ROWS:null,UNPACK_SKIP_PIXELS:null,
PACK_ROW_LENGTH:null,PACK_SKIP_ROWS:null,PACK_SKIP_PIXELS:null,TEXTURE_BINDING_3D:null,UNPACK_SKIP_IMAGES:null,UNPACK_IMAGE_HEIGHT:null,MAX_3D_TEXTURE_SIZE:null,MAX_ELEMENTS_VERTICES:null,MAX_ELEMENTS_INDICES:null,MAX_TEXTURE_LOD_BIAS:null,MAX_FRAGMENT_UNIFORM_COMPONENTS:null,MAX_VERTEX_UNIFORM_COMPONENTS:null,MAX_ARRAY_TEXTURE_LAYERS:null,MIN_PROGRAM_TEXEL_OFFSET:null,MAX_PROGRAM_TEXEL_OFFSET:null,MAX_VARYING_COMPONENTS:null,FRAGMENT_SHADER_DERIVATIVE_HINT:null,RASTERIZER_DISCARD:null,VERTEX_ARRAY_BINDING:null,
MAX_VERTEX_OUTPUT_COMPONENTS:null,MAX_FRAGMENT_INPUT_COMPONENTS:null,MAX_SERVER_WAIT_TIMEOUT:null,MAX_ELEMENT_INDEX:null,RED:null,RGB8:null,RGBA8:null,RGB10_A2:null,TEXTURE_3D:null,TEXTURE_WRAP_R:null,TEXTURE_MIN_LOD:null,TEXTURE_MAX_LOD:null,TEXTURE_BASE_LEVEL:null,TEXTURE_MAX_LEVEL:null,TEXTURE_COMPARE_MODE:null,TEXTURE_COMPARE_FUNC:null,SRGB:null,SRGB8:null,SRGB8_ALPHA8:null,COMPARE_REF_TO_TEXTURE:null,RGBA32F:null,RGB32F:null,RGBA16F:null,RGB16F:null,TEXTURE_2D_ARRAY:null,TEXTURE_BINDING_2D_ARRAY:null,
R11F_G11F_B10F:null,RGB9_E5:null,RGBA32UI:null,RGB32UI:null,RGBA16UI:null,RGB16UI:null,RGBA8UI:null,RGB8UI:null,RGBA32I:null,RGB32I:null,RGBA16I:null,RGB16I:null,RGBA8I:null,RGB8I:null,RED_INTEGER:null,RGB_INTEGER:null,RGBA_INTEGER:null,R8:null,RG8:null,R16F:null,R32F:null,RG16F:null,RG32F:null,R8I:null,R8UI:null,R16I:null,R16UI:null,R32I:null,R32UI:null,RG8I:null,RG8UI:null,RG16I:null,RG16UI:null,RG32I:null,RG32UI:null,R8_SNORM:null,RG8_SNORM:null,RGB8_SNORM:null,RGBA8_SNORM:null,RGB10_A2UI:null,
TEXTURE_IMMUTABLE_FORMAT:null,TEXTURE_IMMUTABLE_LEVELS:null,UNSIGNED_INT_2_10_10_10_REV:null,UNSIGNED_INT_10F_11F_11F_REV:null,UNSIGNED_INT_5_9_9_9_REV:null,FLOAT_32_UNSIGNED_INT_24_8_REV:null,UNSIGNED_INT_24_8:null,HALF_FLOAT:null,RG:null,RG_INTEGER:null,INT_2_10_10_10_REV:null,CURRENT_QUERY:null,QUERY_RESULT:null,QUERY_RESULT_AVAILABLE:null,ANY_SAMPLES_PASSED:null,ANY_SAMPLES_PASSED_CONSERVATIVE:null,MAX_DRAW_BUFFERS:null,DRAW_BUFFER0:null,DRAW_BUFFER1:null,DRAW_BUFFER2:null,DRAW_BUFFER3:null,DRAW_BUFFER4:null,
DRAW_BUFFER5:null,DRAW_BUFFER6:null,DRAW_BUFFER7:null,DRAW_BUFFER8:null,DRAW_BUFFER9:null,DRAW_BUFFER10:null,DRAW_BUFFER11:null,DRAW_BUFFER12:null,DRAW_BUFFER13:null,DRAW_BUFFER14:null,DRAW_BUFFER15:null,MAX_COLOR_ATTACHMENTS:null,COLOR_ATTACHMENT1:null,COLOR_ATTACHMENT2:null,COLOR_ATTACHMENT3:null,COLOR_ATTACHMENT4:null,COLOR_ATTACHMENT5:null,COLOR_ATTACHMENT6:null,COLOR_ATTACHMENT7:null,COLOR_ATTACHMENT8:null,COLOR_ATTACHMENT9:null,COLOR_ATTACHMENT10:null,COLOR_ATTACHMENT11:null,COLOR_ATTACHMENT12:null,
COLOR_ATTACHMENT13:null,COLOR_ATTACHMENT14:null,COLOR_ATTACHMENT15:null,SAMPLER_3D:null,SAMPLER_2D_SHADOW:null,SAMPLER_2D_ARRAY:null,SAMPLER_2D_ARRAY_SHADOW:null,SAMPLER_CUBE_SHADOW:null,INT_SAMPLER_2D:null,INT_SAMPLER_3D:null,INT_SAMPLER_CUBE:null,INT_SAMPLER_2D_ARRAY:null,UNSIGNED_INT_SAMPLER_2D:null,UNSIGNED_INT_SAMPLER_3D:null,UNSIGNED_INT_SAMPLER_CUBE:null,UNSIGNED_INT_SAMPLER_2D_ARRAY:null,MAX_SAMPLES:null,SAMPLER_BINDING:null,PIXEL_PACK_BUFFER:null,PIXEL_UNPACK_BUFFER:null,PIXEL_PACK_BUFFER_BINDING:null,
PIXEL_UNPACK_BUFFER_BINDING:null,COPY_READ_BUFFER:null,COPY_WRITE_BUFFER:null,COPY_READ_BUFFER_BINDING:null,COPY_WRITE_BUFFER_BINDING:null,FLOAT_MAT2x3:null,FLOAT_MAT2x4:null,FLOAT_MAT3x2:null,FLOAT_MAT3x4:null,FLOAT_MAT4x2:null,FLOAT_MAT4x3:null,UNSIGNED_INT_VEC2:null,UNSIGNED_INT_VEC3:null,UNSIGNED_INT_VEC4:null,UNSIGNED_NORMALIZED:null,SIGNED_NORMALIZED:null,VERTEX_ATTRIB_ARRAY_INTEGER:null,VERTEX_ATTRIB_ARRAY_DIVISOR:null,TRANSFORM_FEEDBACK_BUFFER_MODE:null,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:null,
TRANSFORM_FEEDBACK_VARYINGS:null,TRANSFORM_FEEDBACK_BUFFER_START:null,TRANSFORM_FEEDBACK_BUFFER_SIZE:null,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:null,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:null,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:null,INTERLEAVED_ATTRIBS:null,SEPARATE_ATTRIBS:null,TRANSFORM_FEEDBACK_BUFFER:null,TRANSFORM_FEEDBACK_BUFFER_BINDING:null,TRANSFORM_FEEDBACK:null,TRANSFORM_FEEDBACK_PAUSED:null,TRANSFORM_FEEDBACK_ACTIVE:null,TRANSFORM_FEEDBACK_BINDING:null,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:null,
FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:null,FRAMEBUFFER_ATTACHMENT_RED_SIZE:null,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:null,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:null,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:null,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:null,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:null,FRAMEBUFFER_DEFAULT:null,DEPTH24_STENCIL8:null,DRAW_FRAMEBUFFER_BINDING:null,READ_FRAMEBUFFER:null,DRAW_FRAMEBUFFER:null,READ_FRAMEBUFFER_BINDING:null,RENDERBUFFER_SAMPLES:null,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:null,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:null,
UNIFORM_BUFFER:null,UNIFORM_BUFFER_BINDING:null,UNIFORM_BUFFER_START:null,UNIFORM_BUFFER_SIZE:null,MAX_VERTEX_UNIFORM_BLOCKS:null,MAX_FRAGMENT_UNIFORM_BLOCKS:null,MAX_COMBINED_UNIFORM_BLOCKS:null,MAX_UNIFORM_BUFFER_BINDINGS:null,MAX_UNIFORM_BLOCK_SIZE:null,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:null,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:null,UNIFORM_BUFFER_OFFSET_ALIGNMENT:null,ACTIVE_UNIFORM_BLOCKS:null,UNIFORM_TYPE:null,UNIFORM_SIZE:null,UNIFORM_BLOCK_INDEX:null,UNIFORM_OFFSET:null,UNIFORM_ARRAY_STRIDE:null,
UNIFORM_MATRIX_STRIDE:null,UNIFORM_IS_ROW_MAJOR:null,UNIFORM_BLOCK_BINDING:null,UNIFORM_BLOCK_DATA_SIZE:null,UNIFORM_BLOCK_ACTIVE_UNIFORMS:null,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:null,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:null,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:null,OBJECT_TYPE:null,SYNC_CONDITION:null,SYNC_STATUS:null,SYNC_FLAGS:null,SYNC_FENCE:null,SYNC_GPU_COMMANDS_COMPLETE:null,UNSIGNALED:null,SIGNALED:null,ALREADY_SIGNALED:null,TIMEOUT_EXPIRED:null,CONDITION_SATISFIED:null,WAIT_FAILED:null,
SYNC_FLUSH_COMMANDS_BIT:null,COLOR:null,DEPTH:null,STENCIL:null,MIN:null,MAX:null,DEPTH_COMPONENT24:null,STREAM_READ:null,STREAM_COPY:null,STATIC_READ:null,STATIC_COPY:null,DYNAMIC_READ:null,DYNAMIC_COPY:null,DEPTH_COMPONENT32F:null,DEPTH32F_STENCIL8:null,INVALID_INDEX:null,TIMEOUT_IGNORED:null,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:null,type:null,version:null,__context:null,__contextLost:null,activeTexture:function(a){this.__context.activeTexture(a)},attachShader:function(a,b){this.__context.attachShader(a,
b)},beginQuery:function(a,b){this.__context.beginQuery(a,b)},beginTransformFeedback:function(a){this.__context.beginTransformFeedback(a)},bindAttribLocation:function(a,b,c){this.__context.bindAttribLocation(a,b,c)},bindBuffer:function(a,b){this.__context.bindBuffer(a,b)},bindBufferBase:function(a,b,c){this.__context.bindBufferBase(a,b,c)},bindBufferRange:function(a,b,c,d,e){this.__context.bindBufferRange(a,b,c,E.fromInt(E.toValue(d)),E.fromInt(e))},bindFramebuffer:function(a,b){this.__context.bindFramebuffer(a,
b)},bindRenderbuffer:function(a,b){this.__context.bindRenderbuffer(a,b)},bindSampler:function(a,b){this.__context.bindSampler(a,b)},bindTexture:function(a,b){this.__context.bindTexture(a,b)},bindTransformFeedback:function(a,b){this.__context.bindTransformFeedback(a,b)},bindVertexArray:function(a){this.__context.bindVertexArray(a)},blendColor:function(a,b,c,d){this.__context.blendColor(a,b,c,d)},blendEquation:function(a){this.__context.blendEquation(a)},blendEquationSeparate:function(a,b){this.__context.blendEquationSeparate(a,
b)},blendFunc:function(a,b){this.__context.blendFunc(a,b)},blendFuncSeparate:function(a,b,c,d){this.__context.blendFuncSeparate(a,b,c,d)},blitFramebuffer:function(a,b,c,d,e,f,k,p,h,g){this.__context.blitFramebuffer(a,b,c,d,e,f,k,p,h,g)},bufferData:function(a,b,c,d){this.__context.bufferData(a,E.toBufferView(c,b),d)},bufferDataWEBGL:function(a,b,c,d,e){null!=d?this.__context.bufferData(a,b,c,d,e):this.__context.bufferData(a,b,c)},bufferSubData:function(a,b,c,d){this.__context.bufferSubData(a,b,E.toBufferView(d,
c))},bufferSubDataWEBGL:function(a,b,c,d,e){null!=d?this.__context.bufferSubData(a,b,c,d,e):this.__context.bufferSubData(a,b,c)},checkFramebufferStatus:function(a){return this.__context.checkFramebufferStatus(a)},clear:function(a){this.__context.clear(a)},clearBufferfi:function(a,b,c,d){this.__context.clearBufferfi(a,b,c,d)},clearBufferfv:function(a,b,c){this.__context.clearBufferfv(a,b,E.toFloat32Array(c))},clearBufferfvWEBGL:function(a,b,c,d){this.__context.clearBufferfv(a,b,c,d)},clearBufferiv:function(a,
b,c){this.__context.clearBufferiv(a,b,E.toInt32Array(c))},clearBufferivWEBGL:function(a,b,c,d){this.__context.clearBufferiv(a,b,c,d)},clearBufferuiv:function(a,b,c){this.__context.clearBufferuiv(a,b,E.toUInt32Array(c))},clearBufferuivWEBGL:function(a,b,c,d){this.__context.clearBufferuiv(a,b,c,d)},clearColor:function(a,b,c,d){this.__context.clearColor(a,b,c,d)},clearDepth:function(a){this.__context.clearDepth(a)},clearDepthf:function(a){this.__context.clearDepth(a)},clearStencil:function(a){this.__context.clearStencil(a)},
clientWaitSync:function(a,b,c){return this.__context.clientWaitSync(a,b,c)},copyBufferSubData:function(a,b,c,d,e){},colorMask:function(a,b,c,d){this.__context.colorMask(a,b,c,d)},compileShader:function(a){this.__context.compileShader(a)},compressedTexImage2D:function(a,b,c,d,e,f,k,p){this.__context.compressedTexImage2D(a,b,c,d,e,f,E.toBufferView(p,k))},compressedTexImage2DWEBGL:function(a,b,c,d,e,f,k,p,h){null!=p?this.__context.compressedTexImage2D(a,b,c,d,e,f,k,p,h):this.__context.compressedTexImage2D(a,
b,c,d,e,f,k)},compressedTexImage3D:function(a,b,c,d,e,f,k,p,h){this.__context.compressedTexImage3D(a,b,c,d,e,f,k,E.toBufferView(h,p))},compressedTexImage3DWEBGL:function(a,b,c,d,e,f,k,p,h,g){this.__context.compressedTexImage3D(a,b,c,d,e,f,k,p,h,g)},compressedTexSubImage2D:function(a,b,c,d,e,f,k,p,h){this.__context.compressedTexSubImage2D(a,b,c,d,e,f,k,E.toBufferView(h,p))},compressedTexSubImage2DWEBGL:function(a,b,c,d,e,f,k,p,h,g){null!=h?this.__context.compressedTexSubImage2D(a,b,c,d,e,f,k,p,h,g):
this.__context.compressedTexSubImage2D(a,b,c,d,e,f,k,p)},compressedTexSubImage3D:function(a,b,c,d,e,f,k,p,h,g,n){this.__context.compressedTexSubImage3D(a,b,c,d,e,f,k,p,h,E.toBufferView(n,g))},compressedTexSubImage3DWEBGL:function(a,b,c,d,e,f,k,p,h,g,n,l){this.__context.compressedTexSubImage3D(a,b,c,d,e,f,k,p,h,g,n,l)},copySubBufferData:function(a,b,c,d,e){this.__context.copySubBufferData(a,b,E.fromInt(E.toValue(c)),E.fromInt(E.toValue(d)),e)},copyTexImage2D:function(a,b,c,d,e,f,k,p){this.__context.copyTexImage2D(a,
b,c,d,e,f,k,p)},copyTexSubImage2D:function(a,b,c,d,e,f,k,p){this.__context.copyTexSubImage2D(a,b,c,d,e,f,k,p)},copyTexSubImage3D:function(a,b,c,d,e,f,k,p,h){this.__context.copyTexSubImage3D(a,b,c,d,e,f,k,p,h)},createBuffer:function(){return this.__context.createBuffer()},createFramebuffer:function(){return this.__context.createFramebuffer()},createProgram:function(){return this.__context.createProgram()},createQuery:function(){return this.__context.createQuery()},createRenderbuffer:function(){return this.__context.createRenderbuffer()},
createSampler:function(){return this.__context.createSampler()},createShader:function(a){return this.__context.createShader(a)},createTexture:function(){return this.__context.createTexture()},createTransformFeedback:function(){return this.__context.createTransformFeedback()},createVertexArray:function(){return this.__context.createVertexArray()},cullFace:function(a){this.__context.cullFace(a)},deleteBuffer:function(a){this.__context.deleteBuffer(a)},deleteFramebuffer:function(a){this.__context.deleteFramebuffer(a)},
deleteProgram:function(a){this.__context.deleteProgram(a)},deleteQuery:function(a){this.__context.deleteQuery(a)},deleteRenderbuffer:function(a){this.__context.deleteRenderbuffer(a)},deleteSampler:function(a){this.__context.deleteSampler(a)},deleteShader:function(a){this.__context.deleteShader(a)},deleteSync:function(a){this.__context.deleteSync(a)},deleteTexture:function(a){this.__context.deleteTexture(a)},deleteTransformFeedback:function(a){this.__context.deleteTransformFeedback(a)},deleteVertexArray:function(a){this.__context.deleteVertexArray(a)},
depthFunc:function(a){this.__context.depthFunc(a)},depthMask:function(a){this.__context.depthMask(a)},depthRange:function(a,b){this.__context.depthRange(a,b)},depthRangef:function(a,b){this.__context.depthRange(a,b)},detachShader:function(a,b){this.__context.detachShader(a,b)},disable:function(a){this.__context.disable(a)},disableVertexAttribArray:function(a){this.__context.disableVertexAttribArray(a)},drawArrays:function(a,b,c){this.__context.drawArrays(a,b,c)},drawArraysInstanced:function(a,b,c,
d){this.__context.drawArraysInstanced(a,b,c,d)},drawBuffers:function(a){this.__context.drawBuffers(a)},drawElements:function(a,b,c,d){this.__context.drawElements(a,b,c,E.toValue(d))},drawElementsInstanced:function(a,b,c,d,e){this.__context.drawElementsInstanced(a,b,c,E.fromInt(E.toValue(d)),e)},drawRangeElements:function(a,b,c,d,e,f){this.__context.drawRangeElements(a,b,c,d,e,E.fromInt(E.toValue(f)))},enable:function(a){this.__context.enable(a)},enableVertexAttribArray:function(a){this.__context.enableVertexAttribArray(a)},
endQuery:function(a){this.__context.endQuery(a)},endTransformFeedback:function(){this.__context.endTransformFeedback()},fenceSync:function(a,b){return this.__context.fenceSync(a,b)},finish:function(){this.__context.finish()},flush:function(){this.__context.flush()},framebufferRenderbuffer:function(a,b,c,d){this.__context.framebufferRenderbuffer(a,b,c,d)},framebufferTexture2D:function(a,b,c,d,e){this.__context.framebufferTexture2D(a,b,c,d,e)},framebufferTextureLayer:function(a,b,c,d,e){this.__context.framebufferTextureLayer(a,
b,c,d,e)},frontFace:function(a){this.__context.frontFace(a)},generateMipmap:function(a){this.__context.generateMipmap(a)},getActiveAttrib:function(a,b){return this.__context.getActiveAttrib(a,b)},getActiveUniform:function(a,b){return this.__context.getActiveUniform(a,b)},getActiveUniformBlocki:function(a,b,c){return this.__context.getActiveUniformBlockParameter(a,b,c)},getActiveUniformBlockiv:function(a,b,c,d){E.toInt32Array(d)[0]=this.__context.getActiveUniformBlockParameter(a,b,c)},getActiveUniformBlockName:function(a,
b){return this.__context.getActiveUniformBlockName(a,b)},getActiveUniformBlockParameter:function(a,b,c){return this.__context.getActiveUniformBlockParameter(a,b,c)},getActiveUniforms:function(a,b,c){return this.__context.getActiveUniforms(a,b,c)},getActiveUniformsiv:function(a,b,c,d){},getAttachedShaders:function(a){return this.__context.getAttachedShaders(a)},getAttribLocation:function(a,b){return this.__context.getAttribLocation(a,b)},getBoolean:function(a){return this.__context.getParameter(a)},
getBooleanv:function(a,b){var c=E.toUInt8Array(b),d=this.__context.getParameter(a);if(d instanceof Array&&null==d.__enum__)for(var e=0,f=d.length;e<f;){var k=e++;c[k]=d[k]?1:0}else c[0]=y.__cast(d,it)?1:0},getBufferParameter:function(a,b){return this.__context.getBufferParameter(a,b)},getBufferParameteri:function(a,b){return this.__context.getBufferParameter(a,b)},getBufferParameteri64v:function(a,b,c){},getBufferParameteriv:function(a,b,c){E.toInt32Array(c)[0]=this.__context.getBufferParameter(a,
b)},getBufferPointerv:function(a,b){return E.fromInt(0)},getBufferSubData:function(a,b,c,d){this.__context.getBufferSubData(a,E.fromInt(E.toValue(b)),E.toBufferView(d,c))},getBufferSubDataWEBGL:function(a,b,c,d,e){null!=d?this.__context.getBufferSubData(a,b,c,d,e):this.__context.getBufferSubData(a,b,c)},getContextAttributes:function(){return this.__context.getContextAttributes()},getError:function(){return this.__context.getError()},getExtension:function(a){return this.__context.getExtension(a)},
getFloat:function(a){return this.__context.getParameter(a)},getFloatv:function(a,b){var c=E.toFloat32Array(b),d=this.__context.getParameter(a);if(y.__instanceof(d,ArrayBufferView))for(var e=0,f=d.length;e<f;){var k=e++;c[k]=d[k]}else c[0]=y.__cast(d,jt)},getFragDataLocation:function(a,b){return this.__context.getFragDataLocation(a,b)},getFramebufferAttachmentParameter:function(a,b,c){return this.__context.getFramebufferAttachmentParameter(a,b,c)},getFramebufferAttachmentParameteri:function(a,b,c){return this.__context.getFramebufferAttachmentParameter(a,
b,c)},getFramebufferAttachmentParameteriv:function(a,b,c,d){a=this.__context.getFramebufferAttachmentParameter(a,b,c);E.toInt32Array(d)[0]=a},getIndexedParameter:function(a,b){return this.__context.getIndexedParameter(a,b)},getInteger:function(a){return this.__context.getParameter(a)},getInteger64:function(a){return new Ga(0,0)},getInteger64i:function(a){return new Ga(0,0)},getInteger64i_v:function(a,b,c){},getInteger64v:function(a,b){},getIntegeri:function(a){return 0},getIntegeri_v:function(a,b,
c){},getIntegerv:function(a,b){var c=E.toInt32Array(b),d=this.__context.getParameter(a);if(y.__instanceof(d,ArrayBufferView))for(var e=0,f=d.length;e<f;){var k=e++;c[k]=d[k]}else c[0]=y.__cast(d,Sq)},getInternalformati:function(a,b,c){return 0},getInternalformativ:function(a,b,c,d,e){},getInternalformatParameter:function(a,b,c){return this.__context.getInternalformatParameter(a,b,c)},getParameter:function(a){return this.__context.getParameter(a)},getProgramBinary:function(a,b){return null},getProgrami:function(a,
b){return this.__context.getProgramParameter(a,b)},getProgramiv:function(a,b,c){E.toInt32Array(c)[0]=this.__context.getProgramParameter(a,b)},getProgramInfoLog:function(a){return this.__context.getProgramInfoLog(a)},getProgramParameter:function(a,b){return this.__context.getProgramParameter(a,b)},getQuery:function(a,b){return this.__context.getQuery(a,b)},getQueryi:function(a,b){return 0},getQueryiv:function(a,b,c){},getQueryObjectui:function(a,b){return 0},getQueryObjectuiv:function(a,b,c){},getQueryParameter:function(a,
b){return this.__context.getQueryParameter(a,b)},getRenderbufferParameter:function(a,b){return this.__context.getRenderbufferParameter(a,b)},getRenderbufferParameteri:function(a,b){return this.__context.getRenderbufferParameter(a,b)},getRenderbufferParameteriv:function(a,b,c){E.toInt32Array(c)[0]=this.__context.getRenderbufferParameter(a,b)},getSamplerParameter:function(a,b){return this.__context.getSamplerParameter(a,b)},getSamplerParameterf:function(a,b){return 0},getSamplerParameterfv:function(a,
b,c){},getSamplerParameteri:function(a,b){return 0},getSamplerParameteriv:function(a,b,c){},getShaderi:function(a,b){return this.__context.getShaderParameter(a,b)},getShaderiv:function(a,b,c){E.toInt32Array(c)[0]=this.__context.getShaderParameter(a,b)},getShaderInfoLog:function(a){return this.__context.getShaderInfoLog(a)},getShaderParameter:function(a,b){return this.__context.getShaderParameter(a,b)},getShaderPrecisionFormat:function(a,b){return this.__context.getShaderPrecisionFormat(a,b)},getShaderSource:function(a){return this.__context.getShaderSource(a)},
getString:function(a){return 7939==a?this.__context.getSupportedExtensions().join(" "):this.__context.getParameter(a)},getStringi:function(a,b){return null},getSupportedExtensions:function(){return this.__context.getSupportedExtensions()},getSyncParameter:function(a,b){return this.__context.getSyncParameter(a,b)},getSyncParameteri:function(a,b){return 0},getSyncParameteriv:function(a,b,c){},getTexParameter:function(a,b){return this.__context.getTexParameter(a,b)},getTexParameterf:function(a,b){return this.__context.getTexParameter(a,
b)},getTexParameterfv:function(a,b,c){E.toFloat32Array(c)[0]=this.__context.getTexParameter(a,b)},getTexParameteri:function(a,b){return this.__context.getTexParameter(a,b)},getTexParameteriv:function(a,b,c){E.toInt32Array(c)[0]=this.__context.getTexParameter(a,b)},getTransformFeedbackVarying:function(a,b){return this.__context.getTransformFeedbackVarying(a,b)},getUniform:function(a,b){return this.__context.getUniform(a,b)},getUniformf:function(a,b){return this.__context.getUniform(a,b)},getUniformfv:function(a,
b,c){E.toFloat32Array(c)[0]=this.__context.getUniform(a,b)},getUniformi:function(a,b){return this.__context.getUniform(a,b)},getUniformiv:function(a,b,c){a=this.__context.getUniform(a,b);E.toInt32Array(c)[0]=a},getUniformui:function(a,b){return 0},getUniformuiv:function(a,b,c){},getUniformBlockIndex:function(a,b){return this.__context.getUniformBlockIndex(a,b)},getUniformIndices:function(a,b){return this.__context.getUniformIndices(a,b)},getUniformLocation:function(a,b){return this.__context.getUniformLocation(a,
b)},getVertexAttrib:function(a,b){return this.__context.getVertexAttrib(a,b)},getVertexAttribf:function(a,b){return 0},getVertexAttribfv:function(a,b,c){},getVertexAttribi:function(a,b){return 0},getVertexAttribIi:function(a,b){return 0},getVertexAttribIiv:function(a,b,c){},getVertexAttribIui:function(a,b){return 0},getVertexAttribIuiv:function(a,b,c){},getVertexAttribiv:function(a,b,c){},getVertexAttribOffset:function(a,b){return E.fromInt(this.__context.getVertexAttribOffset(a,b))},getVertexAttribPointerv:function(a,
b){return E.fromInt(this.__context.getVertexAttribOffset(a,b))},hint:function(a,b){this.__context.hint(a,b)},invalidateFramebuffer:function(a,b){this.__context.invalidateFramebuffer(a,b)},invalidateSubFramebuffer:function(a,b,c,d,e,f){this.__context.invalidateSubFramebuffer(a,b,c,d,e,f)},isBuffer:function(a){return this.__context.isBuffer(a)},isContextLost:function(){return this.__contextLost?!0:this.__context.isContextLost()},isEnabled:function(a){return this.__context.isEnabled(a)},isFramebuffer:function(a){return this.__context.isFramebuffer(a)},
isProgram:function(a){return this.__context.isProgram(a)},isQuery:function(a){return this.__context.isQuery(a)},isRenderbuffer:function(a){return this.__context.isRenderbuffer(a)},isSampler:function(a){return this.__context.isSampler(a)},isShader:function(a){return this.__context.isShader(a)},isSync:function(a){return this.__context.isSync(a)},isTexture:function(a){return this.__context.isTexture(a)},isTransformFeedback:function(a){return this.__context.isTransformFeedback(a)},isVertexArray:function(a){return this.__context.isVertexArray(a)},
lineWidth:function(a){this.__context.lineWidth(a)},linkProgram:function(a){this.__context.linkProgram(a)},mapBufferRange:function(a,b,c,d){return E.fromInt(0)},pauseTransformFeedback:function(){this.__context.pauseTransformFeedback()},pixelStorei:function(a,b){this.__context.pixelStorei(a,b)},polygonOffset:function(a,b){this.__context.polygonOffset(a,b)},programBinary:function(a,b,c,d){},programParameteri:function(a,b,c){},readBuffer:function(a){this.__context.readBuffer(a)},readPixels:function(a,
b,c,d,e,f,k){this.__context.readPixels(a,b,c,d,e,f,E.toBufferView(k))},readPixelsWEBGL:function(a,b,c,d,e,f,k,p){null!=p?this.__context.readPixels(a,b,c,d,e,f,k,p):this.__context.readPixels(a,b,c,d,e,f,k)},releaseShaderCompiler:function(){},renderbufferStorage:function(a,b,c,d){this.__context.renderbufferStorage(a,b,c,d)},renderbufferStorageMultisample:function(a,b,c,d,e){this.__context.renderbufferStorageMultisample(a,b,c,d,e)},resumeTransformFeedback:function(){this.__context.resumeTransformFeedback()},
sampleCoverage:function(a,b){this.__context.sampleCoverage(a,b)},samplerParameterf:function(a,b,c){this.__context.samplerParameterf(a,b,c)},samplerParameteri:function(a,b,c){this.__context.samplerParameteri(a,b,c)},scissor:function(a,b,c,d){this.__context.scissor(a,b,c,d)},shaderBinary:function(a,b,c,d){},shaderSource:function(a,b){this.__context.shaderSource(a,b)},stencilFunc:function(a,b,c){this.__context.stencilFunc(a,b,c)},stencilFuncSeparate:function(a,b,c,d){this.__context.stencilFuncSeparate(a,
b,c,d)},stencilMask:function(a){this.__context.stencilMask(a)},stencilMaskSeparate:function(a,b){this.__context.stencilMaskSeparate(a,b)},stencilOp:function(a,b,c){this.__context.stencilOp(a,b,c)},stencilOpSeparate:function(a,b,c,d){this.__context.stencilOpSeparate(a,b,c,d)},texImage2D:function(a,b,c,d,e,f,k,p,h){this.__context.texImage2D(a,b,c,d,e,f,k,p,E.toBufferView(h))},texImage2DWEBGL:function(a,b,c,d,e,f,k,p,h,g){null!=g?this.__context.texImage2D(a,b,c,d,e,f,k,p,h,g):null!=k?this.__context.texImage2D(a,
b,c,d,e,f,k,p,h):this.__context.texImage2D(a,b,c,d,e,f)},texImage3D:function(a,b,c,d,e,f,k,p,h,g){this.__context.texImage3D(a,b,c,d,e,f,k,p,h,E.toBufferView(g))},texImage3DWEBGL:function(a,b,c,d,e,f,k,p,h,g,n){this.__context.texImage3D(a,b,c,d,e,f,k,p,h,g,n)},texStorage2D:function(a,b,c,d,e){this.__context.texStorage2D(a,b,c,d,e)},texStorage3D:function(a,b,c,d,e,f){this.__context.texStorage3D(a,b,c,d,e,f)},texParameterf:function(a,b,c){this.__context.texParameterf(a,b,c)},texParameteri:function(a,
b,c){this.__context.texParameteri(a,b,c)},texSubImage2D:function(a,b,c,d,e,f,k,p,h){this.__context.texSubImage2D(a,b,c,d,e,f,k,p,E.toBufferView(h))},texSubImage2DWEBGL:function(a,b,c,d,e,f,k,p,h,g){null!=g?this.__context.texSubImage2D(a,b,c,d,e,f,k,p,h,g):null!=p?this.__context.texSubImage2D(a,b,c,d,e,f,k,p,h):this.__context.texSubImage2D(a,b,c,d,e,f,k)},texSubImage3D:function(a,b,c,d,e,f,k,p,h,g,n){this.__context.texSubImage3D(a,b,c,d,e,f,k,p,h,g,E.toBufferView(n))},texSubImage3DWEBGL:function(a,
b,c,d,e,f,k,p,h,g,n,l){this.__context.texSubImage3D(a,b,c,d,e,f,k,p,h,g,n,l)},transformFeedbackVaryings:function(a,b,c){this.__context.transformFeedbackVaryings(a,b,c)},uniform1f:function(a,b){this.__context.uniform1f(a,b)},uniform1fv:function(a,b,c){this.__context.uniform1fv(a,E.toFloat32Array(c,4*b))},uniform1fvWEBGL:function(a,b,c,d){null!=c?this.__context.uniform1fv(a,b,c,d):this.__context.uniform1fv(a,b)},uniform1i:function(a,b){this.__context.uniform1i(a,b)},uniform1iv:function(a,b,c){this.__context.uniform1iv(a,
E.toInt32Array(c,4*b))},uniform1ivWEBGL:function(a,b,c,d){null!=c?this.__context.uniform1iv(a,b,c,d):this.__context.uniform1iv(a,b)},uniform1ui:function(a,b){this.__context.uniform1ui(a,b)},uniform1uiv:function(a,b,c){this.__context.uniform1uiv(a,E.toUInt32Array(c,4*b))},uniform1uivWEBGL:function(a,b,c,d){this.__context.uniform1uiv(a,b,c,d)},uniform2f:function(a,b,c){this.__context.uniform2f(a,b,c)},uniform2fv:function(a,b,c){this.__context.uniform2fv(a,E.toFloat32Array(c,8*b))},uniform2fvWEBGL:function(a,
b,c,d){null!=c?this.__context.uniform2fv(a,b,c,d):this.__context.uniform2fv(a,b)},uniform2i:function(a,b,c){this.__context.uniform2i(a,b,c)},uniform2iv:function(a,b,c){this.__context.uniform2iv(a,E.toInt32Array(c,8*b))},uniform2ivWEBGL:function(a,b,c,d){null!=c?this.__context.uniform2iv(a,b,c,d):this.__context.uniform2iv(a,b)},uniform2ui:function(a,b,c){this.__context.uniform2ui(a,b,c)},uniform2uiv:function(a,b,c){this.__context.uniform2uiv(a,E.toUInt32Array(c,8*b))},uniform2uivWEBGL:function(a,b,
c,d){this.__context.uniform2uiv(a,b,c,d)},uniform3f:function(a,b,c,d){this.__context.uniform3f(a,b,c,d)},uniform3fv:function(a,b,c){this.__context.uniform3fv(a,E.toFloat32Array(c,12*b))},uniform3fvWEBGL:function(a,b,c,d){null!=c?this.__context.uniform3fv(a,b,c,d):this.__context.uniform3fv(a,b)},uniform3i:function(a,b,c,d){this.__context.uniform3i(a,b,c,d)},uniform3iv:function(a,b,c){this.__context.uniform3iv(a,E.toInt32Array(c,12*b))},uniform3ivWEBGL:function(a,b,c,d){null!=c?this.__context.uniform3iv(a,
b,c,d):this.__context.uniform3iv(a,b)},uniform3ui:function(a,b,c,d){this.__context.uniform3ui(a,b,c,d)},uniform3uiv:function(a,b,c){this.__context.uniform3uiv(a,E.toUInt32Array(c,12*b))},uniform3uivWEBGL:function(a,b,c,d){this.__context.uniform3uiv(a,b,c,d)},uniform4f:function(a,b,c,d,e){this.__context.uniform4f(a,b,c,d,e)},uniform4fv:function(a,b,c){this.__context.uniform4fv(a,E.toFloat32Array(c,16*b))},uniform4fvWEBGL:function(a,b,c,d){null!=c?this.__context.uniform4fv(a,b,c,d):this.__context.uniform4fv(a,
b)},uniform4i:function(a,b,c,d,e){this.__context.uniform4i(a,b,c,d,e)},uniform4iv:function(a,b,c){this.__context.uniform4iv(a,E.toInt32Array(c,16*b))},uniform4ivWEBGL:function(a,b,c,d){null!=c?this.__context.uniform4iv(a,b,c,d):this.__context.uniform4iv(a,b)},uniform4ui:function(a,b,c,d,e){this.__context.uniform4ui(a,b,c,d,e)},uniform4uiv:function(a,b,c){this.__context.uniform4uiv(a,E.toUInt32Array(c,16*b))},uniform4uivWEBGL:function(a,b,c,d){this.__context.uniform4uiv(a,b,c,d)},uniformBlockBinding:function(a,
b,c){this.__context.uniformBlockBinding(a,b,c)},uniformMatrix2fv:function(a,b,c,d){this.__context.uniformMatrix2fv(a,c,E.toFloat32Array(d,16*b))},uniformMatrix2fvWEBGL:function(a,b,c,d,e){null!=d?this.__context.uniformMatrix2fv(a,b,c,d,e):this.__context.uniformMatrix2fv(a,b,c)},uniformMatrix2x3fv:function(a,b,c,d){this.__context.uniformMatrix2x3fv(a,c,E.toFloat32Array(d,24*b))},uniformMatrix2x3fvWEBGL:function(a,b,c,d,e){this.__context.uniformMatrix2x3fv(a,b,c,d,e)},uniformMatrix2x4fv:function(a,
b,c,d){this.__context.uniformMatrix2x4fv(a,c,E.toFloat32Array(d,32*b))},uniformMatrix2x4fvWEBGL:function(a,b,c,d,e){this.__context.uniformMatrix2x4fv(a,b,c,d,e)},uniformMatrix3fv:function(a,b,c,d){this.__context.uniformMatrix3fv(a,c,E.toFloat32Array(d,36*b))},uniformMatrix3fvWEBGL:function(a,b,c,d,e){null!=d?this.__context.uniformMatrix3fv(a,b,c,d,e):this.__context.uniformMatrix3fv(a,b,c)},uniformMatrix3x2fv:function(a,b,c,d){this.__context.uniformMatrix3x2fv(a,c,E.toFloat32Array(d,24*b))},uniformMatrix3x2fvWEBGL:function(a,
b,c,d,e){this.__context.uniformMatrix3x2fv(a,b,c,d,e)},uniformMatrix3x4fv:function(a,b,c,d){this.__context.uniformMatrix3x4fv(a,c,E.toFloat32Array(d,48*b))},uniformMatrix3x4fvWEBGL:function(a,b,c,d,e){this.__context.uniformMatrix3x4fv(a,b,c,d,e)},uniformMatrix4fv:function(a,b,c,d){this.__context.uniformMatrix4fv(a,c,E.toFloat32Array(d,64*b))},uniformMatrix4fvWEBGL:function(a,b,c,d,e){null!=d?this.__context.uniformMatrix4fv(a,b,c,d,e):this.__context.uniformMatrix4fv(a,b,c)},uniformMatrix4x2fv:function(a,
b,c,d){this.__context.uniformMatrix4x2fv(a,c,E.toFloat32Array(d,32*b))},uniformMatrix4x2fvWEBGL:function(a,b,c,d,e){null!=d?this.__context.uniformMatrix4x2fv(a,b,c,d,e):this.__context.uniformMatrix4x2fv(a,b,c)},uniformMatrix4x3fv:function(a,b,c,d){this.__context.uniformMatrix4x3fv(a,c,E.toFloat32Array(d,48*b))},uniformMatrix4x3fvWEBGL:function(a,b,c,d,e){this.__context.uniformMatrix4x3fv(a,b,c,d,e)},unmapBuffer:function(a){return!1},useProgram:function(a){this.__context.useProgram(a)},validateProgram:function(a){this.__context.validateProgram(a)},
vertexAttrib1f:function(a,b){this.__context.vertexAttrib1f(a,b)},vertexAttrib1fv:function(a,b){this.__context.vertexAttrib1fv(a,E.toFloat32Array(b))},vertexAttrib1fvWEBGL:function(a,b){this.__context.vertexAttrib1fv(a,b)},vertexAttrib2f:function(a,b,c){this.__context.vertexAttrib2f(a,b,c)},vertexAttrib2fv:function(a,b){this.__context.vertexAttrib2fv(a,E.toFloat32Array(b))},vertexAttrib2fvWEBGL:function(a,b){this.__context.vertexAttrib2fv(a,b)},vertexAttrib3f:function(a,b,c,d){this.__context.vertexAttrib3f(a,
b,c,d)},vertexAttrib3fv:function(a,b){this.__context.vertexAttrib3fv(a,E.toFloat32Array(b))},vertexAttrib3fvWEBGL:function(a,b){this.__context.vertexAttrib3fv(a,b)},vertexAttrib4f:function(a,b,c,d,e){this.__context.vertexAttrib4f(a,b,c,d,e)},vertexAttrib4fv:function(a,b){this.__context.vertexAttrib4fv(a,E.toFloat32Array(b))},vertexAttrib4fvWEBGL:function(a,b){this.__context.vertexAttrib4fv(a,b)},vertexAttribDivisor:function(a,b){this.__context.vertexAttribDivisor(a,b)},vertexAttribI4i:function(a,
b,c,d,e){this.__context.vertexAttribI4i(a,b,c,d,e)},vertexAttribI4iv:function(a,b){this.__context.vertexAttribI4iv(a,E.toInt32Array(b))},vertexAttribI4ivWEBGL:function(a,b){this.__context.vertexAttribI4iv(a,b)},vertexAttribI4ui:function(a,b,c,d,e){this.__context.vertexAttribI4ui(a,b,c,d,e)},vertexAttribI4uiv:function(a,b){this.__context.vertexAttribI4uiv(a,E.toUInt32Array(b))},vertexAttribI4uivWEBGL:function(a,b){this.__context.vertexAttribI4uiv(a,b)},vertexAttribIPointer:function(a,b,c,d,e){this.__context.vertexAttribIPointer(a,
b,c,d,E.fromInt(E.toValue(e)))},vertexAttribPointer:function(a,b,c,d,e,f){this.__context.vertexAttribPointer(a,b,c,d,e,E.toValue(f))},viewport:function(a,b,c,d){this.__context.viewport(a,b,c,d)},waitSync:function(a,b,c){this.__context.waitSync(a,b,c)},get_canvas:function(){return this.__context.canvas},get_drawingBufferHeight:function(){return this.__context.drawingBufferHeight},get_drawingBufferWidth:function(){return this.__context.drawingBufferWidth},__class__:no,__properties__:{get_drawingBufferWidth:"get_drawingBufferWidth",
get_drawingBufferHeight:"get_drawingBufferHeight",get_canvas:"get_canvas"}};var Ua=function(){};m["lime._backend.html5.HTML5HTTPRequest"]=Ua;Ua.__name__=["lime","_backend","html5","HTML5HTTPRequest"];Ua.loadImage=function(a){var b=new jd;Ua.activeRequests<Ua.requestLimit?(Ua.activeRequests++,Ua.__loadImage(a,b)):Ua.requestQueue.add({instance:null,uri:a,promise:b,type:"IMAGE"});return b.future};Ua.processQueue=function(){if(Ua.activeRequests<Ua.requestLimit&&0<Ua.requestQueue.length){Ua.activeRequests++;
var a=Ua.requestQueue.pop();switch(a.type){case "BINARY":a.instance.__loadData(a.uri,a.promise);break;case "IMAGE":Ua.__loadImage(a.uri,a.promise);break;case "TEXT":a.instance.__loadText(a.uri,a.promise);break;default:Ua.activeRequests--}}};Ua.__fixHostname=function(a){return null==a?"":a};Ua.__fixPort=function(a,b){if(null==a||""==a)switch(b){case "ftp:":return"21";case "gopher:":return"70";case "http:":return"80";case "https:":return"443";case "ws:":return"80";case "wss:":return"443";default:return""}return a};
Ua.__fixProtocol=function(a){return null==a||""==a?"http:":a};Ua.__isSameOrigin=function(a){null==Ua.originElement&&(Ua.originElement=window.document.createElement("a"),Ua.originHostname=Ua.__fixHostname(window.location.hostname),Ua.originProtocol=Ua.__fixProtocol(window.location.protocol),Ua.originPort=Ua.__fixPort(window.location.port,Ua.originProtocol));var b=Ua.originElement;b.href=a;""==b.hostname&&(b.href=b.href);a=Ua.__fixHostname(b.hostname);var c=Ua.__fixProtocol(b.protocol),b=Ua.__fixPort(b.port,
c);return"file:"!=c&&a==Ua.originHostname&&c==Ua.originProtocol&&b==Ua.originPort};Ua.__loadImage=function(a,b){var c=new Image;Ua.__isSameOrigin(a)||(c.crossOrigin="Anonymous");c.addEventListener("load",function(a){a=new Gf(null,c.width,c.height);a.__srcImage=c;Ua.activeRequests--;Ua.processQueue();b.complete(new db(a))},!1);c.addEventListener("progress",function(a){b.progress(a.loaded,a.total)},!1);c.addEventListener("error",function(a){Ua.activeRequests--;Ua.processQueue();b.error(a.detail)},!1);
c.src=a};Ua.prototype={binary:null,parent:null,request:null,cancel:function(){null!=this.request&&this.request.abort()},init:function(a){this.parent=a},load:function(a,b,c){this.request=new XMLHttpRequest;this.request.addEventListener("progress",b,!1);this.request.onreadystatechange=c;b="";if(null==this.parent.data){for(c=this.parent.formData.keys();c.hasNext();){var d=c.next();0<b.length&&(b+="&");var e=encodeURIComponent(d)+"=",f=this.parent.formData,d=h.string(null!=t[d]?f.getReserved(d):f.h[d]);
b+=e+encodeURIComponent(d)}"GET"==this.parent.method&&""!=b&&(a=-1<a.indexOf("?")?a+("&"+b):a+("?"+b),b="")}this.request.open(h.string(this.parent.method),a,!0);0<this.parent.timeout&&(this.request.timeout=this.parent.timeout);this.binary&&(this.request.responseType="arraybuffer");a=null;c=0;for(e=this.parent.headers;c<e.length;)d=e[c],++c,"Content-Type"==d.name?a=d.value:this.request.setRequestHeader(d.name,d.value);null!=this.parent.contentType&&(a=this.parent.contentType);null==a&&(null!=this.parent.data?
a="application/octet-stream":""!=b&&(a="application/x-www-form-urlencoded"));null!=a&&this.request.setRequestHeader("Content-Type",a);null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):this.request.send(b)},loadData:function(a){var b=new jd;Ua.activeRequests<Ua.requestLimit?(Ua.activeRequests++,this.__loadData(a,b)):Ua.requestQueue.add({instance:this,uri:a,promise:b,type:"BINARY"});return b.future},loadText:function(a){var b=new jd;Ua.activeRequests<Ua.requestLimit?(Ua.activeRequests++,
this.__loadText(a,b)):Ua.requestQueue.add({instance:this,uri:a,promise:b,type:"TEXT"});return b.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var a,b,c=0,d=this.request.getAllResponseHeaders().split("\n");c<d.length;)b=d[c],++c,a=Da.trim(da.substr(b,0,b.indexOf(":"))),b=Da.trim(da.substr(b,b.indexOf(":")+1,null)),""!=a&&this.parent.responseHeaders.push(new oo(a,b))}this.parent.responseStatus=this.request.status},__loadData:function(a,b){var c=
this;this.binary=!0;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&200<=c.request.status&&400>=c.request.status?(a=""==c.request.responseType?ab.ofString(c.request.responseText):ab.ofData(c.request.response),c.processResponse(),b.complete(a)):(c.processResponse(),b.error(c.request.status)),c.request=null,Ua.activeRequests--,Ua.processQueue())})},__loadText:function(a,b){var c=this;this.binary=!1;this.load(a,function(a){b.progress(a.loaded,
a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&200<=c.request.status&&400>=c.request.status?(c.processResponse(),b.complete(c.request.responseText)):(c.processResponse(),b.error(c.request.status)),c.request=null,Ua.activeRequests--,Ua.processQueue())})},__class__:Ua};var Gc=function(){};m["lime._backend.html5.HTML5Mouse"]=Gc;Gc.__name__=["lime","_backend","html5","HTML5Mouse"];Gc.hide=function(){if(!Gc.__hidden){Gc.__hidden=!0;for(var a=0,b=Ce.current.__windows;a<b.length;){var c=
b[a];++a;c.backend.element.style.cursor="none"}}};Gc.show=function(){if(Gc.__hidden){Gc.__hidden=!1;var a=Gc.__cursor;Gc.__cursor=null;Gc.set_cursor(a)}};Gc.warp=function(a,b,c){};Gc.get_cursor=function(){return null==Gc.__cursor?Ia.DEFAULT:Gc.__cursor};Gc.set_cursor=function(a){if(Gc.__cursor!=a){if(!Gc.__hidden)for(var b=0,c=Ce.current.__windows;b<c.length;){var d=c[b];++b;var e;switch(a[1]){case 0:e="default";break;case 1:e="crosshair";break;case 3:e="move";break;case 4:e="pointer";break;case 5:e=
"nesw-resize";break;case 6:e="ns-resize";break;case 7:e="nwse-resize";break;case 8:e="ew-resize";break;case 9:e="text";break;case 10:e="wait";break;case 11:e="wait";break;default:e="auto"}d.backend.element.style.cursor=e}Gc.__cursor=a}return Gc.__cursor};Gc.get_lock=function(){return!1};Gc.set_lock=function(a){return a};var cr=function(a){this.parent=a};m["lime._backend.html5.HTML5Renderer"]=cr;cr.__name__=["lime","_backend","html5","HTML5Renderer"];cr.prototype={parent:null,create:function(){this.createContext();
0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",u(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",u(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=vd.DOM(this.parent.window.backend.div),this.parent.type=Vb.DOM;else if(null!=this.parent.window.backend.canvas){var a=null;if(!Object.prototype.hasOwnProperty.call(this.parent.window.config,
"hardware")||this.parent.window.config.hardware)for(var b={alpha:Object.prototype.hasOwnProperty.call(this.parent.window.config,"background")&&null==this.parent.window.config.background,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")?this.parent.window.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,
"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1},c=0,d=["webgl2","webgl","experimental-webgl"];c<d.length&&(a=d[c],++c,a=this.parent.window.backend.canvas.getContext(a,b),null==a););null==a?(this.parent.context=vd.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=Vb.CANVAS):(g.context=new no(a),this.parent.context=vd.OPENGL(g.context),this.parent.type=Vb.OPENGL)}},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();
null!=g.context&&(g.context.__contextLost=!0);this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},readPixels:function(a){if(null!=this.parent.window.backend.canvas&&(null==a?a=new ld(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height):a.__contract(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height),0<a.width&&
0<a.height)){var b=window.document.createElement("canvas");b.width=a.width|0;b.height=a.height|0;b.getContext("2d").drawImage(this.parent.window.backend.canvas,-a.x,-a.y);return db.fromCanvas(b)}return null},render:function(){},__class__:cr};var eb=function(a){this.unusedTouchesPool=new Bd;this.scale=1;this.currentTouches=new fc;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element);null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,
"allowHighDPI")&&a.config.allowHighDPI&&(this.scale=window.devicePixelRatio);a.__scale=this.scale;this.cacheMouseY=this.cacheMouseX=0};m["lime._backend.html5.HTML5Window"]=eb;eb.__name__=["lime","_backend","html5","HTML5Window"];eb.prototype={canvas:null,div:null,element:null,cacheElementHeight:null,cacheElementWidth:null,cacheMouseX:null,cacheMouseY:null,currentTouches:null,enableTextEvents:null,isFullscreen:null,parent:null,primaryTouch:null,requestedFullscreen:null,resizeElement:null,scale:null,
setHeight:null,setWidth:null,unusedTouchesPool:null,alert:function(a,b){null!=a&&ws.alert(a)},close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=eb.windowID++;y.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform",
"translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),
this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.cacheElementWidth=this.parent.__width,this.cacheElementHeight=this.parent.__height,this.resizeElement=!0);null!=this.canvas?(this.canvas.width=Math.round(this.parent.__width*this.scale),this.canvas.height=Math.round(this.parent.__height*this.scale),this.canvas.style.width=this.parent.__width+"px",this.canvas.style.height=this.parent.__height+"px"):(this.div.style.width=
this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.updateSize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,u(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?
(a.preventDefault(),!1):!0},!1);this.element.addEventListener("contextmenu",u(this,this.handleContextMenuEvent),!0);this.element.addEventListener("touchstart",u(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",u(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",u(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",u(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",u(this,this.handleGamepadEvent),
!0)}},focus:function(){},getDisplay:function(){return nb.getDisplay(0)},getDisplayMode:function(){return nb.getDisplay(0).currentMode},setDisplayMode:function(a){return a},getEnableTextEvents:function(){return this.enableTextEvents},handleContextMenuEvent:function(a){this.parent.onMouseUp.canceled&&a.preventDefault()},handleCutOrCopyEvent:function(a){a.clipboardData.setData("text/plain",ae.get_text());a.preventDefault()},handleFocusEvent:function(a){this.enableTextEvents&&hf.delay(function(){eb.textInput.focus()},
20)},handleFullscreenEvent:function(a){if(null!=(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement))this.isFullscreen=!0,this.parent.__fullscreen=!0,this.requestedFullscreen&&(this.requestedFullscreen=!1,this.parent.onFullscreen.dispatch());else{this.isFullscreen=!1;this.parent.__fullscreen=!1;a=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"];for(var b=["fullscreenerror","mozfullscreenerror",
"webkitfullscreenerror","MSFullscreenError"],c=0,d=a.length;c<d;){var e=c++;window.document.removeEventListener(a[e],u(this,this.handleFullscreenEvent),!1);window.document.removeEventListener(b[e],u(this,this.handleFullscreenEvent),!1)}}},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":ic.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&Qc.__connect(a.gamepad.index);break;case "gamepaddisconnected":ic.__disconnect(a.gamepad.index),Qc.__disconnect(a.gamepad.index)}},
handleInputEvent:function(a){eb.textInput.value!=eb.dummyCharacter&&(eb.textInput.value.charAt(0)==eb.dummyCharacter?this.parent.onTextInput.dispatch(da.substr(eb.textInput.value,1,null)):this.parent.onTextInput.dispatch(eb.textInput.value),eb.textInput.value=eb.dummyCharacter)},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type){null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-
c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY);switch(a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);this.parent.onMouseDown.canceled&&a.preventDefault();break;case "mouseenter":a.target==this.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&
a.preventDefault());break;case "mouseleave":a.target==this.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&a.preventDefault());break;case "mousemove":if(b!=this.cacheMouseX||c!=this.cacheMouseY)this.parent.onMouseMove.dispatch(b,c),this.parent.onMouseMoveRelative.dispatch(b-this.cacheMouseX,c-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&a.preventDefault();break;case "mouseup":this.parent.onMouseUp.dispatch(b,c,a.button),this.parent.onMouseUp.canceled&&
a.preventDefault()}this.cacheMouseX=b;this.cacheMouseY=c}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY),this.parent.onMouseWheel.canceled&&a.preventDefault()},handlePasteEvent:function(a){if(-1<a.clipboardData.types.indexOf("text/plain")){var b=a.clipboardData.getData("text/plain");ae.set_text(b);this.enableTextEvents&&this.parent.onTextInput.dispatch(b);a.preventDefault()}},handleResizeEvent:function(a){this.primaryTouch=null;this.updateSize()},handleTouchEvent:function(a){a.preventDefault();
var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=0,f=a.changedTouches;e<f.length;){var k=f[e];++e;var p=0,h=0;null!=b?(p=c/b.width*(k.clientX-b.left),h=d/b.height*(k.clientY-b.top)):(p=k.clientX,h=k.clientY);switch(a.type){case "touchend":var g=this.currentTouches.get(k.identifier);
if(null!=g){var n=g.x,l=g.y;g.x=p/c;g.y=h/d;g.dx=g.x-n;g.dy=g.y-l;g.pressure=k.force;wd.onEnd.dispatch(g);this.currentTouches.remove(k.identifier);this.unusedTouchesPool.add(g);g==this.primaryTouch&&(this.parent.onMouseUp.dispatch(p,h,0),this.primaryTouch=null)}break;case "touchmove":g=this.currentTouches.get(k.identifier);null!=g&&(n=g.x,l=g.y,g.x=p/c,g.y=h/d,g.dx=g.x-n,g.dy=g.y-l,g.pressure=k.force,wd.onMove.dispatch(g),g==this.primaryTouch&&this.parent.onMouseMove.dispatch(p,h));break;case "touchstart":g=
this.unusedTouchesPool.pop(),null==g?g=new wd(p/c,h/d,k.identifier,0,0,k.force,this.parent.id):(g.x=p/c,g.y=h/d,g.id=k.identifier,g.dx=0,g.dy=0,g.pressure=k.force,g.device=this.parent.id),this.currentTouches.set(k.identifier,g),wd.onStart.dispatch(g),null==this.primaryTouch&&(this.primaryTouch=g),g==this.primaryTouch&&this.parent.onMouseDown.dispatch(p,h,0)}}},move:function(a,b){},resize:function(a,b){},setBorderless:function(a){return a},setClipboard:function(a){var b=this.enableTextEvents;this.setEnableTextEvents(!0);
var c=eb.textInput.value;eb.textInput.value=a;eb.textInput.select();window.document.queryCommandEnabled("copy")&&window.document.execCommand("copy");eb.textInput.value=c;this.setEnableTextEvents(b)},setEnableTextEvents:function(a){a?(null==eb.textInput&&(eb.textInput=window.document.createElement("input"),eb.textInput.type="text",eb.textInput.style.position="absolute",eb.textInput.style.opacity="0",eb.textInput.style.color="transparent",eb.textInput.value=eb.dummyCharacter,eb.textInput.autocapitalize=
"off",eb.textInput.autocorrect="off",eb.textInput.autocomplete="off",eb.textInput.style.left="0px",eb.textInput.style.top="50%",(new Za("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(eb.textInput.style.fontSize="0px",eb.textInput.style.width="0px",eb.textInput.style.height="0px"):(eb.textInput.style.width="1px",eb.textInput.style.height="1px"),eb.textInput.style.pointerEvents="none",eb.textInput.style.zIndex="-10000000",window.document.body.appendChild(eb.textInput)),this.enableTextEvents||
(eb.textInput.addEventListener("input",u(this,this.handleInputEvent),!0),eb.textInput.addEventListener("blur",u(this,this.handleFocusEvent),!0),eb.textInput.addEventListener("cut",u(this,this.handleCutOrCopyEvent),!0),eb.textInput.addEventListener("copy",u(this,this.handleCutOrCopyEvent),!0),eb.textInput.addEventListener("paste",u(this,this.handlePasteEvent),!0)),eb.textInput.focus(),eb.textInput.select()):null!=eb.textInput&&(eb.textInput.removeEventListener("input",u(this,this.handleInputEvent),
!0),eb.textInput.removeEventListener("blur",u(this,this.handleFocusEvent),!0),eb.textInput.removeEventListener("cut",u(this,this.handleCutOrCopyEvent),!0),eb.textInput.removeEventListener("copy",u(this,this.handleCutOrCopyEvent),!0),eb.textInput.removeEventListener("paste",u(this,this.handlePasteEvent),!0),eb.textInput.blur());return this.enableTextEvents=a},setFullscreen:function(a){a?this.requestedFullscreen||this.isFullscreen||(this.requestedFullscreen=!0,(Cb=this.element,u(Cb,Cb.requestFullscreen))?
(document.addEventListener("fullscreenchange",u(this,this.handleFullscreenEvent),!1),document.addEventListener("fullscreenerror",u(this,this.handleFullscreenEvent),!1),this.element.requestFullscreen()):this.element.mozRequestFullScreen?(document.addEventListener("mozfullscreenchange",u(this,this.handleFullscreenEvent),!1),document.addEventListener("mozfullscreenerror",u(this,this.handleFullscreenEvent),!1),this.element.mozRequestFullScreen()):this.element.webkitRequestFullscreen?(document.addEventListener("webkitfullscreenchange",
u(this,this.handleFullscreenEvent),!1),document.addEventListener("webkitfullscreenerror",u(this,this.handleFullscreenEvent),!1),this.element.webkitRequestFullscreen()):this.element.msRequestFullscreen&&(document.addEventListener("MSFullscreenChange",u(this,this.handleFullscreenEvent),!1),document.addEventListener("MSFullscreenError",u(this,this.handleFullscreenEvent),!1),this.element.msRequestFullscreen())):this.isFullscreen&&(this.requestedFullscreen=!1,document.exitFullscreen?document.exitFullscreen():
document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen());return a},setIcon:function(a){ta.convertToCanvas(a);var b=window.document.querySelector("link[rel*='icon']");null==b&&(b=window.document.createElement("link"));b.type="image/x-icon";b.rel="shortcut icon";b.href=a.buffer.get_src().toDataURL("image/x-icon");window.document.getElementsByTagName("head")[0].appendChild(b)},setMaximized:function(a){return!1},
setMinimized:function(a){return!1},setResizable:function(a){return a},setTitle:function(a){null!=a&&(window.document.title=a);return a},updateSize:function(){var a,b;null!=this.element?(a=this.element.clientWidth,b=this.element.clientHeight):(a=window.innerWidth,b=window.innerHeight);if(a!=this.cacheElementWidth||b!=this.cacheElementHeight){this.cacheElementWidth=a;this.cacheElementHeight=b;var c=this.resizeElement||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=
this.div&&c))if(c){if(this.parent.__width!=a||this.parent.__height!=b)this.parent.set_width(a),this.parent.set_height(b),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=Math.round(a*this.scale),this.canvas.height=Math.round(b*this.scale),this.canvas.style.width=a+"px",this.canvas.style.height=b+"px"):(this.div.style.width=a+"px",this.div.style.height=b+"px"),this.parent.onResize.dispatch(a,b)}else{var c=0!=this.setWidth?a/this.setWidth:1,d=0!=this.setHeight?b/this.setHeight:1,e=a,
f=b,k=0,p=0;c<d?(f=Math.floor(this.setHeight*c),p=Math.floor((b-f)/2)):(e=Math.floor(this.setWidth*d),k=Math.floor((a-e)/2));null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=e+"px",this.canvas.style.height=f+"px",this.canvas.style.marginLeft=k+"px",this.canvas.style.marginTop=p+"px"):(this.div.style.width=e+"px",this.div.style.height=f+"px",this.div.style.marginLeft=k+"px",this.div.style.marginTop=p+"px")}}},__class__:eb};var Et=function(){};m["lime._backend.native.NativeCFFI"]=
Et;Et.__name__=["lime","_backend","native","NativeCFFI"];var Ft=function(){};m["lime._macros.AssetsMacro"]=Ft;Ft.__name__=["lime","_macros","AssetsMacro"];var ys=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app.Event"]=ys;ys.__name__=["lime","app","Event"];ys.prototype={canceled:null,__listeners:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},dispatch:null,has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,
1))},__class__:ys};var hb=function(a,b){null==b&&(b=!1);if(null!=a)if(b){var c=new jd;c.future=this;ze.queue({promise:c,work:a})}else try{this.value=a(),this.isComplete=!0}catch(d){Qa.lastException=d,d instanceof H&&(d=d.val),this.error=d,this.isError=!0}};m["lime.app.Future"]=hb;hb.__name__=["lime","app","Future"];hb.ofEvents=function(a,b,c){var d=new jd;a.add(function(a){d.complete(a)},!0);null!=b&&b.add(function(a){d.error(a)},!0);null!=c&&c.add(function(a,b){d.progress(a,b)},!0);return d.future};
hb.withError=function(a){var b=new hb;b.isError=!0;b.error=a;return b};hb.withValue=function(a){var b=new hb;b.isComplete=!0;b.value=a;return b};hb.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?
a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},ready:function(a){this.isComplete||this.isError||rb.warn("Cannot block thread in JavaScript",{fileName:"Future.hx",lineNumber:157,className:"lime.app.Future",methodName:"ready"});return this},result:function(a){null==a&&(a=-1);
this.ready(a);return this.isComplete?this.value:null},then:function(a){if(this.isComplete)return a(this.value);if(this.isError){var b=new hb;b.onError(this.error);return b}var c=new jd;this.onError(u(c,c.error));this.onProgress(u(c,c.progress));this.onComplete(function(b){b=a(b);b.onError(u(c,c.error));b.onComplete(u(c,c.complete))});return c.future},__class__:hb};var ze=function(){};m["lime.app._Future.FutureWork"]=ze;ze.__name__=["lime","app","_Future","FutureWork"];ze.queue=function(a){null==ze.threadPool&&
(ze.threadPool=new dr,ze.threadPool.doWork.add(ze.threadPool_doWork),ze.threadPool.onComplete.add(ze.threadPool_onComplete),ze.threadPool.onError.add(ze.threadPool_onError));ze.threadPool.queue(a)};ze.threadPool_doWork=function(a){try{var b=a.work();ze.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){Qa.lastException=c,c instanceof H&&(c=c.val),ze.threadPool.sendError({promise:a.promise,error:c})}};ze.threadPool_onComplete=function(a){a.promise.complete(a.result)};ze.threadPool_onError=
function(a){a.promise.error(a.error)};var li=function(){this.bytesTotalCache=new qa;this.bytesLoadedCache2=new qa;this.bytesLoadedCache=new Hb;this.onProgress=new po;this.onComplete=new fd;this.bytesTotal=this.bytesLoaded=0;this.libraries=[];this.libraryNames=[];this.onProgress.add(u(this,this.update))};m["lime.app.Preloader"]=li;li.__name__=["lime","app","Preloader"];li.prototype={complete:null,onComplete:null,onProgress:null,bytesLoaded:null,bytesLoadedCache:null,bytesLoadedCache2:null,bytesTotal:null,
bytesTotalCache:null,initLibraryNames:null,libraries:null,libraryNames:null,loadedLibraries:null,loadedStage:null,preloadComplete:null,preloadStarted:null,simulateProgress:null,addLibrary:function(a){this.libraries.push(a)},addLibraryName:function(a){-1==this.libraryNames.indexOf(a)&&this.libraryNames.push(a)},create:function(a){},load:function(){for(var a=this,b=0,c=this.libraries;b<c.length;){var d=c[b];++b;this.bytesTotal+=d.bytesTotal}this.loadedLibraries=-1;this.preloadStarted=!1;b=0;for(c=this.libraries;b<
c.length;)d=[c[b]],++b,rb.verbose("Preloading asset library",{fileName:"Preloader.hx",lineNumber:153,className:"lime.app.Preloader",methodName:"load"}),d[0].load().onProgress(function(b){return function(c,d){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+c:a.bytesLoaded+(c-a.bytesLoadedCache.h[b[0].__id__]);a.bytesLoadedCache.set(b[0],c);a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}(d)).onComplete(function(b){return function(c){a.bytesLoaded=
null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+b[0].bytesTotal:a.bytesLoaded+(b[0].bytesTotal-a.bytesLoadedCache.h[b[0].__id__]);a.loadedAssetLibrary()}}(d)).onError(function(){return function(a){rb.error(a,{fileName:"Preloader.hx",lineNumber:191,className:"lime.app.Preloader",methodName:"load"})}}());b=0;for(c=this.libraryNames;b<c.length;)++b,this.bytesTotal+=200;this.loadedLibraries++;this.preloadStarted=!0;this.updateProgress()},loadedAssetLibrary:function(a){this.loadedLibraries++;
var b=this.loadedLibraries;this.preloadStarted||++b;var c=this.libraries.length+this.libraryNames.length;null!=a?rb.verbose("Loaded asset library: "+a+" ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:223,className:"lime.app.Preloader",methodName:"loadedAssetLibrary"}):rb.verbose("Loaded asset library ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:227,className:"lime.app.Preloader",methodName:"loadedAssetLibrary"});this.updateProgress()},start:function(){this.complete||(this.complete=!0,this.onComplete.dispatch())},
update:function(a,b){},updateProgress:function(){var a=this;this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal);if(this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var b=0,c=this.libraryNames;b<c.length;){var d=[c[b]];++b;rb.verbose("Preloading asset library: "+d[0],{fileName:"Preloader.hx",lineNumber:276,className:"lime.app.Preloader",methodName:"updateProgress"});ra.loadLibrary(d[0]).onProgress(function(b){return function(c,
d){if(0<d){var p=a.bytesTotalCache;(null!=t[b[0]]?p.existsReserved(b[0]):p.h.hasOwnProperty(b[0]))||(p=a.bytesTotalCache,null!=t[b[0]]?p.setReserved(b[0],d):p.h[b[0]]=d,a.bytesTotal+=d-200);c>d&&(c=d);p=a.bytesLoadedCache2;(null!=t[b[0]]?p.existsReserved(b[0]):p.h.hasOwnProperty(b[0]))?(p=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=t[b[0]]?p.getReserved(b[0]):p.h[b[0]])):a.bytesLoaded+=c;p=a.bytesLoadedCache2;null!=t[b[0]]?p.setReserved(b[0],c):p.h[b[0]]=c;a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,
a.bytesTotal)}}}(d)).onComplete(function(b){return function(c){c=200;var d=a.bytesTotalCache;if(null!=t[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))c=a.bytesTotalCache,c=null!=t[b[0]]?c.getReserved(b[0]):c.h[b[0]];d=a.bytesLoadedCache2;(null!=t[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))?(d=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=t[b[0]]?d.getReserved(b[0]):d.h[b[0]])):a.bytesLoaded+=c;a.loadedAssetLibrary(b[0])}}(d)).onError(function(){return function(a){rb.error(a,{fileName:"Preloader.hx",
lineNumber:335,className:"lime.app.Preloader",methodName:"updateProgress"})}}())}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,rb.verbose("Preload complete",{fileName:"Preloader.hx",lineNumber:349,className:"lime.app.Preloader",methodName:"updateProgress"})),this.start())},__class__:li};var jd=function(){this.future=new hb};m["lime.app.Promise"]=jd;jd.__name__=["lime","app","Promise"];jd.prototype={future:null,
isComplete:null,isError:null,complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},completeWith:function(a){a.onComplete(u(this,this.complete));a.onError(u(this,this.error));a.onProgress(u(this,this.progress));return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,
this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,d=this.future.__progressListeners;c<d.length;){var e=d[c];++c;e(a,b)}return this},get_isComplete:function(){return this.future.isComplete},get_isError:function(){return this.future.isError},__class__:jd,
__properties__:{get_isError:"get_isError",get_isComplete:"get_isComplete"}};var sj=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Dynamic_Void"]=sj;sj.__name__=["lime","app","_Event_Dynamic_Void"];sj.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:sj};var qo=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Float_Float_Int_Void"]=qo;qo.__name__=["lime","app","_Event_Float_Float_Int_Void"];qo.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,
dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?++f:this.remove(d[f]),!this.canceled););},__class__:qo};var tj=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Float_Float_Void"]=tj;tj.__name__=["lime","app","_Event_Float_Float_Void"];tj.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),
this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:tj};var er=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Int_Float_Float_Void"]=er;er.__name__=["lime","app","_Event_Int_Float_Float_Void"];er.prototype={canceled:null,__repeat:null,__priorities:null,
add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=
--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?++f:this.remove(d[f]),!this.canceled););},__class__:er};var fr=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Int_Float_Void"]=fr;fr.__name__=["lime","app","_Event_Int_Float_Void"];
fr.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,
a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:fr};var po=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Int_Int_Void"]=
po;po.__name__=["lime","app","_Event_Int_Int_Void"];po.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<
c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:po};var zi=function(){this.canceled=!1;this.__listeners=[];
this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Int_Void"]=zi;zi.__name__=["lime","app","_Event_Int_Void"];zi.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=
!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:zi};var gr=
function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=gr;gr.__name__=["lime","app","_Event_Int_lime_ui_JoystickHatPosition_Void"];gr.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,
!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,
d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:gr};var hr=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_String_Int_Int_Void"]=hr;hr.__name__=["lime","app","_Event_String_Int_Int_Void"];hr.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,
dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?++f:this.remove(d[f]),!this.canceled););},__class__:hr};var ro=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_String_Void"]=ro;ro.__name__=["lime","app","_Event_String_Void"];ro.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),
this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ro};var fd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_Void_Void"]=fd;fd.__name__=["lime","app","_Event_Void_Void"];fd.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==
c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?++c:this.remove(a[c]),!this.canceled););},__class__:fd};var ir=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_lime_graphics_RenderContext_Void"]=ir;ir.__name__=["lime","app","_Event_lime_graphics_RenderContext_Void"];ir.prototype=
{canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},
remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ir};var jr=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=
jr;jr.__name__=["lime","app","_Event_lime_ui_GamepadAxis_Float_Void"];jr.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,
c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:jr};var so=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_lime_ui_GamepadButton_Void"]=so;so.__name__=["lime","app","_Event_lime_ui_GamepadButton_Void"];so.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:
this.remove(b[d]),!this.canceled););},__class__:so};var kr=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_lime_ui_Gamepad_Void"]=kr;kr.__name__=["lime","app","_Event_lime_ui_Gamepad_Void"];kr.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,
c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:kr};var lr=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_lime_ui_Joystick_Void"]=lr;lr.__name__=["lime","app","_Event_lime_ui_Joystick_Void"];lr.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>
this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:lr};var to=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=to;to.__name__=["lime","app","_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];to.prototype={canceled:null,__repeat:null,__priorities:null,
add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=
--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:to};var ll=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_lime_ui_Touch_Void"]=ll;ll.__name__=["lime","app","_Event_lime_ui_Touch_Void"];
ll.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(Z.compareMethods(d,
a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ll};var zs=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};m["lime.app._Event_ofEvents_T_Void"]=
zs;zs.__name__=["lime","app","_Event_ofEvents_T_Void"];zs.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},has:function(a){for(var b=0,c=this.__listeners;b<
c.length;){var d=c[b];++b;if(Z.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)Z.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:zs};var As=function(){};m["lime.graphics.ConsoleRenderContext"]=
As;As.__name__=["lime","graphics","ConsoleRenderContext"];As.prototype={createIndexBuffer:function(a,b){return new mr},createVertexBuffer:function(a,b){return new nr},lookupShader:function(a){return new or},clear:function(a,b,c,d,e,f){},bindShader:function(a){},setViewport:function(a,b,c,d,e,f){},setVertexShaderConstantF:function(a,b,c){},setVertexSource:function(a){},setIndexSource:function(a){},draw:function(a,b,c){},drawIndexed:function(a,b,c,d){},get_width:function(){return 0},get_height:function(){return 0},
__class__:As,__properties__:{get_height:"get_height",get_width:"get_width"}};var Bs=function(){};m["lime.graphics.FlashRenderContext"]=Bs;Bs.__name__=["lime","graphics","FlashRenderContext"];Bs.prototype={accessibilityImplementation:null,accessibilityProperties:null,alpha:null,blendMode:null,blendShader:null,buttonMode:null,cacheAsBitmap:null,contextMenu:null,doubleClickEnabled:null,dropTarget:null,filters:null,focusRect:null,graphics:null,height:null,hitArea:null,loaderInfo:null,mask:null,mouseChildren:null,
mouseEnabled:null,mouseX:null,mouseY:null,name:null,needsSoftKeyboard:null,numChildren:null,opaqueBackground:null,parent:null,root:null,rotation:null,rotationX:null,rotationY:null,rotationZ:null,scale9Grid:null,scaleX:null,scaleY:null,scaleZ:null,scrollRect:null,softKeyboardInputAreaOfInterest:null,soundTransform:null,stage:null,tabChildren:null,tabEnabled:null,tabIndex:null,textSnapshot:null,transform:null,useHandCursor:null,visible:null,width:null,x:null,y:null,z:null,addChild:function(a){return null},
addChildAt:function(a,b){return null},addEventListener:function(a,b,c,d,e){},areInaccessibleObjectsUnderPoint:function(a){return!1},contains:function(a){return!1},dispatchEvent:function(a){return!1},getBounds:function(a){return null},getChildAt:function(a){return null},getChildByName:function(a){return null},getChildIndex:function(a){return 0},getObjectsUnderPoint:function(a){return null},getRect:function(a){return null},globalToLocal:function(a){return null},globalToLocal3D:function(a){return null},
hasEventListener:function(a){return!1},hitTestObject:function(a){return!1},hitTestPoint:function(a,b,c){return!1},local3DToGlobal:function(a){return null},localToGlobal:function(a){return null},removeChild:function(a){return null},removeChildAt:function(a){return null},removeChildren:function(a,b){},removeEventListener:function(a,b,c){},requestSoftKeyboard:function(){return!1},setChildIndex:function(a,b){},startDrag:function(a,b){},startTouchDrag:function(a,b,c){},stopAllMovieClips:function(){},stopDrag:function(){},
stopTouchDrag:function(a){},swapChildren:function(a,b){},swapChildrenAt:function(a,b){},toString:function(){return null},willTrigger:function(a){return!1},__class__:Bs};var db=function(a,b,c,d,e,f,k){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;this.version=0;null==k&&(k=hc.CANVAS);this.type=k;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new Gf(null,d,e);ta.createCanvas(this,d,e);null!=f&&0!=f&&this.fillRect(new ld(0,
0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new Db(a):null,this.buffer=new Gf(a,d,e),null!=f&&0!=f&&this.fillRect(new ld(0,0,d,e),f)}}else this.__fromImageBuffer(a)};m["lime.graphics.Image"]=db;db.__name__=["lime","graphics","Image"];db.fromBase64=function(a,b){if(null==a)return null;var c=new db;c.__fromBase64(a,b);return c};db.fromBitmapData=function(a){return null==a?null:a.image};db.fromBytes=function(a){if(null==a)return null;var b=new db;b.__fromBytes(a);return b};db.fromCanvas=function(a){if(null==
a)return null;var b=new Gf(null,a.width,a.height);b.set_src(a);a=new db(b);a.type=hc.CANVAS;return a};db.fromFile=function(a){if(null==a)return null;var b=new db;b.__fromFile(a);return b};db.fromImageElement=function(a){if(null==a)return null;var b=new Gf(null,a.width,a.height);b.set_src(a);a=new db(b);a.type=hc.CANVAS;return a};db.loadFromBase64=function(a,b){return null==a||null==b?hb.withValue(null):Ua.loadImage("data:"+b+";base64,"+a)};db.loadFromBytes=function(a){if(null==a)return hb.withValue(null);
var b="";if(db.__isPNG(a))b="image/png";else if(db.__isJPG(a))b="image/jpeg";else if(db.__isGIF(a))b="image/gif";else if(db.__isWebP(a))b="image/webp";else return hb.withValue(null);return db.loadFromBase64(db.__base64Encode(a),b)};db.loadFromFile=function(a){return null==a?hb.withValue(null):Ua.loadImage(a)};db.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==db.__base64Encoder&&(db.__base64Encoder=new Vq(ab.ofString(db.__base64Chars)));
return db.__base64Encoder.encodeBytes(a).toString()+b};db.__isGIF=function(a){if(null==a||6>a.length)return!1;a=a.getString(0,6);return"GIF87a"!=a?"GIF89a"==a:!0};db.__isJPG=function(a){return null==a||4>a.length?!1:255==a.b[0]&&216==a.b[1]&&255==a.b[a.length-2]?217==a.b[a.length-1]:!1};db.__isPNG=function(a){return null==a||8>a.length?!1:137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]?10==a.b[7]:!1};db.__isWebP=function(a){return null==a||16>a.length?!1:"RIFF"==
a.getString(0,4)?"WEBP"==a.getString(8,4):!1};db.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,rect:null,type:null,version:null,width:null,x:null,y:null,clone:function(){if(null!=this.buffer){this.type==hc.CANVAS?ta.convertToCanvas(this):ta.convertToData(this);var a=new db(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new db(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},
colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:ta.colorTransform(this,a,b);break;case 1:ta.convertToData(this);fb.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),gb.__toFlashColorTransform(b))}},copyChannel:function(a,b,c,d,e){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(e==nc.ALPHA&&!this.get_transparent()||0>=b.width||0>=b.height))switch(b.x+
b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type[1]){case 0:ta.copyChannel(this,a,b,c,d,e);break;case 1:ta.convertToData(this);ta.convertToData(a);fb.copyChannel(this,a,b,c,d,e);break;case 2:var f;switch(d[1]){case 0:f=1;break;case 1:f=2;break;case 2:f=4;break;case 3:f=8}var k;switch(e[1]){case 0:k=1;break;case 1:k=2;break;case 2:k=4;break;case 3:k=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),
b.__toFlashRectangle(),c.__toFlashPoint(),f,k)}},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);if(null!=this.buffer&&null!=a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),c.x+b.width>this.width&&(b.width=this.width-c.x),c.y+b.height>this.height&&(b.height=this.height-c.y),0>c.x&&(b.width+=c.x,b.x-=c.x,c.x=0),0>c.y&&(b.height+=c.y,
b.y-=c.y,c.y=0),a==this&&c.x<b.get_right()&&c.y<b.get_bottom()&&(a=this.clone()),this.type[1]){case 0:ta.convertToData(this);ta.convertToData(a);null!=d&&ta.convertToData(d);fb.copyPixels(this,a,b,c,d,e,f);break;case 1:ta.convertToData(this);ta.convertToData(a);null!=d&&ta.convertToData(d);fb.copyPixels(this,a,b,c,d,e,f);break;case 2:b.offset(a.offsetX,a.offsetY),c.offset(this.offsetX,this.offsetY),null!=d&&null!=e&&e.offset(d.offsetX,d.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,
b.__toFlashRectangle(),c.__toFlashPoint(),null!=d?d.buffer.get_src():null,null!=e?e.__toFlashPoint():null,f)}},encode:function(a,b){null==b&&(b=90);null==a&&(a="png");switch(a){case "bmp":return Cs.encode(this);case "jpeg":case "jpg":return uo.encode(this,b);case "png":return vo.encode(this)}return null},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:ta.fillRect(this,a,b,c);break;case 1:ta.convertToData(this);if(0==this.buffer.data.length)break;
fb.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null==c)b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255;else switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>>8&255)<<16|(b>>>16&255)<<8|b>>>24&255;break;default:b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255}this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},floodFill:function(a,b,c,d){if(null!=this.buffer)switch(this.type[1]){case 0:ta.floodFill(this,a,b,c,d);break;case 1:ta.convertToData(this);
fb.floodFill(this,a,b,c,d);break;case 2:if(null==d)c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255;else switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>>8&255)<<16|(c>>>16&255)<<8|c>>>24&255;break;default:c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255}this.buffer.__srcBitmapData.floodFill(a+this.offsetX,b+this.offsetY,c)}},getColorBoundsRect:function(a,b,c,d){null==c&&(c=!0);if(null==this.buffer)return null;switch(this.type[1]){case 0:return ta.convertToData(this),fb.getColorBoundsRect(this,
a,b,c,d);case 1:return fb.getColorBoundsRect(this,a,b,c,d);case 2:return a=this.buffer.__srcBitmapData.getColorBoundsRect(a,b,c),new ld(a.x,a.y,a.width,a.height);default:return null}},getPixel:function(a,b,c){if(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height)return 0;switch(this.type[1]){case 0:return ta.getPixel(this,a,b,c);case 1:return ta.convertToData(this),fb.getPixel(this,a,b,c);case 2:a=this.buffer.__srcBitmapData.getPixel(a+this.offsetX,b+this.offsetY);if(null==c)return(a>>>16&
255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255;switch(c){case 1:return a;case 2:return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255;default:return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255}default:return 0}},getPixel32:function(a,b,c){if(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height)return 0;switch(this.type[1]){case 0:return ta.getPixel32(this,a,b,c);case 1:return ta.convertToData(this),fb.getPixel32(this,a,b,c);case 2:a=this.buffer.__srcBitmapData.getPixel32(a+
this.offsetX,b+this.offsetY);if(null==c)return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255;switch(c){case 1:return a;case 2:return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255;default:return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255}default:return 0}},getPixels:function(a,b){if(null==this.buffer)return null;switch(this.type[1]){case 0:return ta.getPixels(this,a,b);case 1:return ta.convertToData(this),fb.getPixels(this,a,b);case 2:return null;default:return null}},merge:function(a,
b,c,d,e,f,k){if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:ta.convertToCanvas(this);ta.merge(this,a,b,c,d,e,f,k);break;case 1:ta.convertToData(this);ta.convertToData(a);fb.merge(this,a,b,c,d,e,f,k);break;case 2:b.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(a.buffer.__srcBitmapData,b.__toFlashRectangle(),c.__toFlashPoint(),d,e,f,k)}},resize:function(a,b){switch(this.type[1]){case 0:ta.resize(this,a,b);break;case 1:fb.resize(this,a,b)}this.buffer.width=a;this.buffer.height=
b;this.offsetY=this.offsetX=0;this.width=a;this.height=b},scroll:function(a,b){if(null!=this.buffer)switch(this.type[1]){case 0:ta.scroll(this,a,b);break;case 1:this.copyPixels(this,this.get_rect(),new Oc(a,b));break;case 2:this.buffer.__srcBitmapData.scroll(a+this.offsetX,b+this.offsetX)}},setPixel:function(a,b,c,d){if(!(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height))switch(this.type[1]){case 0:ta.setPixel(this,a,b,c,d);break;case 1:ta.convertToData(this);fb.setPixel(this,a,b,c,d);break;
case 2:if(null==d)c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255;else switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>>8&255)<<16|(c>>>16&255)<<8|c>>>24&255;break;default:c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255}this.buffer.__srcBitmapData.setPixel(a+this.offsetX,b+this.offsetX,c)}},setPixel32:function(a,b,c,d){if(!(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height))switch(this.type[1]){case 0:ta.setPixel32(this,a,b,c,d);break;case 1:ta.convertToData(this);fb.setPixel32(this,
a,b,c,d);break;case 2:if(null==d)c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255;else switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>>8&255)<<16|(c>>>16&255)<<8|c>>>24&255;break;default:c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255}this.buffer.__srcBitmapData.setPixel32(a+this.offsetX,b+this.offsetY,c)}},setPixels:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:ta.setPixels(this,a,b,c);break;case 1:ta.convertToData(this),fb.setPixels(this,
a,b,c)}},threshold:function(a,b,c,d,e,f,k,p,h){null==p&&(p=!1);null==k&&(k=-1);null==f&&(f=0);if(null==this.buffer||null==a||null==b)return 0;switch(this.type[1]){case 0:case 1:return ta.convertToData(this),ta.convertToData(a),fb.threshold(this,a,b,c,d,e,f,k,p,h);case 2:if(null==h)f=(f&255)<<24|(f>>>24&255)<<16|(f>>>16&255)<<8|f>>>8&255;else switch(h){case 1:break;case 2:f=(f&255)<<24|(f>>>8&255)<<16|(f>>>16&255)<<8|f>>>24&255;break;default:f=(f&255)<<24|(f>>>24&255)<<16|(f>>>16&255)<<8|f>>>8&255}if(null==
h)k=(k&255)<<24|(k>>>24&255)<<16|(k>>>16&255)<<8|k>>>8&255;else switch(h){case 1:break;case 2:k=(k&255)<<24|(k>>>8&255)<<16|(k>>>16&255)<<8|k>>>24&255;break;default:k=(k&255)<<24|(k>>>24&255)<<16|(k>>>16&255)<<8|k>>>8&255}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);return this.buffer.__srcBitmapData.threshold(a.buffer.get_src(),b.__toFlashRectangle(),c.__toFlashPoint(),d,e,f,k,p)}return 0},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>
a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,e=new Image;e.addEventListener("load",function(a){d.buffer=new Gf(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){var c=
"";if(db.__isPNG(a))c="image/png";else if(db.__isJPG(a))c="image/jpeg";else if(db.__isGIF(a))c="image/gif";else return;this.__fromBase64(db.__base64Encode(a),c,b)},__fromFile:function(a,b,c){var d=this,e=new Image;Ua.__isSameOrigin(a)||(e.crossOrigin="Anonymous");e.onload=function(a){d.buffer=new Gf(null,e.width,e.height);d.buffer.__srcImage=e;d.width=e.width;d.height=e.height;null!=b&&b(d)};e.onerror=function(a){null!=c&&c()};e.src=a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&
(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&ta.convertToData(this);return this.buffer.data},set_data:function(a){return this.buffer.data=a},get_format:function(){return this.buffer.format},set_format:function(a){this.buffer.format!=a&&1==this.type[1]&&fb.setFormat(this,a);return this.buffer.format=a},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+
1)==this.buffer.width?0!=this.buffer.height?(this.buffer.height&~this.buffer.height+1)==this.buffer.height:!1:!1},set_powerOfTwo:function(a){if(a!=this.get_powerOfTwo()){for(var b=1,c=1;b<this.buffer.width;)b<<=1;for(;c<this.buffer.height;)c<<=1;switch(this.type[1]){case 1:fb.resizeBuffer(this,b,c)}}return a},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 0:case 1:ta.convertToData(this),fb.multiplyAlpha(this)}else!a&&
this.buffer.premultiplied&&1==this.type[1]&&(ta.convertToData(this),fb.unmultiplyAlpha(this));return a},get_rect:function(){return new ld(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&ta.convertToCanvas(this);return this.buffer.get_src()},set_src:function(a){return this.buffer.set_src(a)},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:db,__properties__:{set_transparent:"set_transparent",
get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var Gf=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.premultiplied=!1;this.transparent=
!0};m["lime.graphics.ImageBuffer"]=Gf;Gf.__name__=["lime","graphics","ImageBuffer"];Gf.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcCustom:null,__srcImage:null,__srcImageData:null,clone:function(){var a=new Gf(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,b=null!=b?new Db(b):null;a.data=b;b=this.data;b=null!=b?new Db(b):
null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),
a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){y.__instanceof(a,Image)?this.__srcImage=a:y.__instanceof(a,
HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:Gf,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var nc=m["lime.graphics.ImageChannel"]={__ename__:["lime","graphics","ImageChannel"],__constructs__:["RED","GREEN","BLUE","ALPHA"]};nc.RED=["RED",0];nc.RED.toString=U;nc.RED.__enum__=nc;nc.GREEN=["GREEN",1];nc.GREEN.toString=U;nc.GREEN.__enum__=nc;nc.BLUE=["BLUE",
2];nc.BLUE.toString=U;nc.BLUE.__enum__=nc;nc.ALPHA=["ALPHA",3];nc.ALPHA.toString=U;nc.ALPHA.__enum__=nc;nc.__empty_constructs__=[nc.RED,nc.GREEN,nc.BLUE,nc.ALPHA];var hc=m["lime.graphics.ImageType"]={__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};hc.CANVAS=["CANVAS",0];hc.CANVAS.toString=U;hc.CANVAS.__enum__=hc;hc.DATA=["DATA",1];hc.DATA.toString=U;hc.DATA.__enum__=hc;hc.FLASH=["FLASH",2];hc.FLASH.toString=U;hc.FLASH.__enum__=hc;hc.CUSTOM=["CUSTOM",3];
hc.CUSTOM.toString=U;hc.CUSTOM.__enum__=hc;hc.__empty_constructs__=[hc.CANVAS,hc.DATA,hc.FLASH,hc.CUSTOM];var vd=m["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};vd.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=vd;a.toString=U;return a};vd.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=vd;a.toString=U;return a};vd.DOM=function(a){a=["DOM",2,a];a.__enum__=vd;a.toString=U;return a};vd.FLASH=
function(a){a=["FLASH",3,a];a.__enum__=vd;a.toString=U;return a};vd.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=vd;a.toString=U;return a};vd.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=vd;a.toString=U;return a};vd.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=vd;a.toString=U;return a};vd.NONE=["NONE",7];vd.NONE.toString=U;vd.NONE.__enum__=vd;vd.__empty_constructs__=[vd.NONE];var Op=function(a){this.onRender=new fd;this.onContextRestored=new ir;this.onContextLost=new fd;this.window=a;this.backend=
new cr(this);this.window.renderer=this};m["lime.graphics.Renderer"]=Op;Op.__name__=["lime","graphics","Renderer"];Op.prototype={context:null,onContextLost:null,onContextRestored:null,onRender:null,type:null,window:null,backend:null,create:function(){this.backend.create()},flip:function(){this.backend.flip()},readPixels:function(a){return this.backend.readPixels(a)},render:function(){this.backend.render()},__class__:Op};var Vb=m["lime.graphics.RendererType"]={__ename__:["lime","graphics","RendererType"],
__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};Vb.OPENGL=["OPENGL",0];Vb.OPENGL.toString=U;Vb.OPENGL.__enum__=Vb;Vb.CANVAS=["CANVAS",1];Vb.CANVAS.toString=U;Vb.CANVAS.__enum__=Vb;Vb.DOM=["DOM",2];Vb.DOM.toString=U;Vb.DOM.__enum__=Vb;Vb.FLASH=["FLASH",3];Vb.FLASH.toString=U;Vb.FLASH.__enum__=Vb;Vb.CAIRO=["CAIRO",4];Vb.CAIRO.toString=U;Vb.CAIRO.__enum__=Vb;Vb.CONSOLE=["CONSOLE",5];Vb.CONSOLE.toString=U;Vb.CONSOLE.__enum__=Vb;Vb.CUSTOM=["CUSTOM",6];Vb.CUSTOM.toString=U;Vb.CUSTOM.__enum__=
Vb;Vb.__empty_constructs__=[Vb.OPENGL,Vb.CANVAS,Vb.DOM,Vb.FLASH,Vb.CAIRO,Vb.CONSOLE,Vb.CUSTOM];var ml=function(a){};m["lime.graphics.cairo.Cairo"]=ml;ml.__name__=["lime","graphics","cairo","Cairo"];ml.__properties__={get_versionString:"get_versionString",get_version:"get_version"};ml.get_version=function(){return 0};ml.get_versionString=function(){return""};ml.prototype={target:null,userData:null,handle:null,arc:function(a,b,c,d,e){},arcNegative:function(a,b,c,d,e){},clip:function(){},clipExtents:function(a,
b,c,d){},clipPreserve:function(){},closePath:function(){},copyPage:function(){},curveTo:function(a,b,c,d,e,f){},fill:function(){},fillExtents:function(a,b,c,d){},fillPreserve:function(){},identityMatrix:function(){},inClip:function(a,b){return!1},inFill:function(a,b){return!1},inStroke:function(a,b){return!1},lineTo:function(a,b){},moveTo:function(a,b){},mask:function(a){},maskSurface:function(a,b,c){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},popGroup:function(){return null},
popGroupToSource:function(){},pushGroup:function(){},pushGroupWithContent:function(a){},recreate:function(a){},rectangle:function(a,b,c,d){},relCurveTo:function(a,b,c,d,e,f){},relLineTo:function(a,b){},relMoveTo:function(a,b){},resetClip:function(){},restore:function(){},save:function(){},setFontSize:function(a){},setSourceRGB:function(a,b,c){},setSourceRGBA:function(a,b,c,d){},setSourceSurface:function(a,b,c){},showGlyphs:function(a){},showPage:function(){},showText:function(a){},status:function(){return 0},
stroke:function(){},strokeExtents:function(a,b,c,d){},strokePreserve:function(){},textPath:function(a){},transform:function(a){},rotate:function(a){},scale:function(a,b){},translate:function(a,b){},get_antialias:function(){return 0},set_antialias:function(a){return a},get_currentPoint:function(){return null},get_dash:function(){return[]},set_dash:function(a){return a},get_dashCount:function(){return 0},get_fillRule:function(){return 0},set_fillRule:function(a){return a},get_fontFace:function(){return 0},
set_fontFace:function(a){return a},get_fontOptions:function(){return null},set_fontOptions:function(a){return a},get_groupTarget:function(){return 0},get_hasCurrentPoint:function(){return!1},get_lineCap:function(){return 0},set_lineCap:function(a){return a},get_lineJoin:function(){return 0},set_lineJoin:function(a){return a},get_lineWidth:function(){return 0},set_lineWidth:function(a){return a},get_matrix:function(){return null},set_matrix:function(a){return a},get_miterLimit:function(){return 0},
set_miterLimit:function(a){return a},get_operator:function(){return 0},set_operator:function(a){return a},get_source:function(){return 0},set_source:function(a){return a},get_target:function(){return 0},get_tolerance:function(){return 0},set_tolerance:function(a){return a},__class__:ml,__properties__:{set_tolerance:"set_tolerance",get_tolerance:"get_tolerance",get_target:"get_target",set_source:"set_source",get_source:"get_source",set_operator:"set_operator",get_operator:"get_operator",set_miterLimit:"set_miterLimit",
get_miterLimit:"get_miterLimit",set_matrix:"set_matrix",get_matrix:"get_matrix",set_lineWidth:"set_lineWidth",get_lineWidth:"get_lineWidth",set_lineJoin:"set_lineJoin",get_lineJoin:"get_lineJoin",set_lineCap:"set_lineCap",get_lineCap:"get_lineCap",get_hasCurrentPoint:"get_hasCurrentPoint",get_groupTarget:"get_groupTarget",set_fontOptions:"set_fontOptions",get_fontOptions:"get_fontOptions",set_fontFace:"set_fontFace",get_fontFace:"get_fontFace",set_fillRule:"set_fillRule",get_fillRule:"get_fillRule",
get_dashCount:"get_dashCount",set_dash:"set_dash",get_dash:"get_dash",get_currentPoint:"get_currentPoint",set_antialias:"set_antialias",get_antialias:"get_antialias"}};var pr={};m["lime.graphics.cairo._CairoFTFontFace.CairoFTFontFace_Impl_"]=pr;pr.__name__=["lime","graphics","cairo","_CairoFTFontFace","CairoFTFontFace_Impl_"];pr._new=function(){return 0};pr.create=function(a,b){return 0};var Ds={};m["lime.graphics.cairo._CairoFontFace.CairoFontFace_Impl_"]=Ds;Ds.__name__=["lime","graphics","cairo",
"_CairoFontFace","CairoFontFace_Impl_"];Ds._new=function(){return null};Ds.status=function(a){return 0};var fg={};m["lime.graphics.cairo._CairoFontOptions.CairoFontOptions_Impl_"]=fg;fg.__name__=["lime","graphics","cairo","_CairoFontOptions","CairoFontOptions_Impl_"];fg.__properties__={set_subpixelOrder:"set_subpixelOrder",get_subpixelOrder:"get_subpixelOrder",set_hintStyle:"set_hintStyle",get_hintStyle:"get_hintStyle",set_hintMetrics:"set_hintMetrics",get_hintMetrics:"get_hintMetrics",set_antialias:"set_antialias",
get_antialias:"get_antialias"};fg._new=function(){return null};fg.get_antialias=function(a){return 0};fg.set_antialias=function(a,b){return b};fg.get_hintMetrics=function(a){return 0};fg.set_hintMetrics=function(a,b){return b};fg.get_hintStyle=function(a){return 0};fg.set_hintStyle=function(a,b){return b};fg.get_subpixelOrder=function(a){return 0};fg.set_subpixelOrder=function(a,b){return b};var Es=function(a,b,c){null==c&&(c=0);null==b&&(b=0);this.index=a;this.x=b;this.y=c};m["lime.graphics.cairo.CairoGlyph"]=
Es;Es.__name__=["lime","graphics","cairo","CairoGlyph"];Es.prototype={index:null,x:null,y:null,__class__:Es};var gg={};m["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=gg;gg.__name__=["lime","graphics","cairo","_CairoImageSurface","CairoImageSurface_Impl_"];gg.__properties__={get_width:"get_width",get_stride:"get_stride",get_height:"get_height",get_format:"get_format",get_data:"get_data"};gg._new=function(a,b,c){return 0};gg.create=function(a,b,c,d,e){return 0};gg.fromImage=function(a){return null};
gg.get_data=function(a){return E.fromInt(0)};gg.get_format=function(a){return 0};gg.get_height=function(a){return 0};gg.get_stride=function(a){return 0};gg.get_width=function(a){return 0};var wc={};m["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=wc;wc.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"];wc.__properties__={set_matrix:"set_matrix",get_matrix:"get_matrix",set_filter:"set_filter",get_filter:"get_filter",set_extend:"set_extend",get_extend:"get_extend",get_colorStopCount:"get_colorStopCount"};
wc._new=function(a){return a};wc.addColorStopRGB=function(a,b,c,d,e){};wc.addColorStopRGBA=function(a,b,c,d,e,f){};wc.createForSurface=function(a){return 0};wc.createLinear=function(a,b,c,d){return 0};wc.createRadial=function(a,b,c,d,e,f){return 0};wc.createRGB=function(a,b,c){return 0};wc.createRGBA=function(a,b,c,d){return 0};wc.get_colorStopCount=function(a){return 0};wc.get_extend=function(a){return 0};wc.set_extend=function(a,b){return b};wc.get_filter=function(a){return 0};wc.set_filter=function(a,
b){return b};wc.get_matrix=function(a){return null};wc.set_matrix=function(a,b){return b};var Fs={};m["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=Fs;Fs.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"];Fs.flush=function(a){};var mr=function(){};m["lime.graphics.console.IndexBuffer"]=mr;mr.__name__=["lime","graphics","console","IndexBuffer"];mr.prototype={__class__:mr};var Wc=m["lime.graphics.console.Primitive"]={__ename__:["lime","graphics","console","Primitive"],
__constructs__:["Point","Line","LineStrip","Triangle","TriangleStrip"]};Wc.Point=["Point",0];Wc.Point.toString=U;Wc.Point.__enum__=Wc;Wc.Line=["Line",1];Wc.Line.toString=U;Wc.Line.__enum__=Wc;Wc.LineStrip=["LineStrip",2];Wc.LineStrip.toString=U;Wc.LineStrip.__enum__=Wc;Wc.Triangle=["Triangle",3];Wc.Triangle.toString=U;Wc.Triangle.__enum__=Wc;Wc.TriangleStrip=["TriangleStrip",4];Wc.TriangleStrip.toString=U;Wc.TriangleStrip.__enum__=Wc;Wc.__empty_constructs__=[Wc.Point,Wc.Line,Wc.LineStrip,Wc.Triangle,
Wc.TriangleStrip];var or=function(){};m["lime.graphics.console.Shader"]=or;or.__name__=["lime","graphics","console","Shader"];or.prototype={__class__:or};var Gs=function(){};m["lime.graphics.console.Texture"]=Gs;Gs.__name__=["lime","graphics","console","Texture"];Gs.prototype={__class__:Gs};var nr=function(){};m["lime.graphics.console.VertexBuffer"]=nr;nr.__name__=["lime","graphics","console","VertexBuffer"];nr.prototype={lock:function(){return new qr},unlock:function(){},__class__:nr};var qr=function(){};
m["lime.graphics.console.VertexOutput"]=qr;qr.__name__=["lime","graphics","console","VertexOutput"];qr.prototype={vec2:function(a,b){},vec3:function(a,b,c){},color:function(a,b,c,d){},__class__:qr};var Cs=function(){};m["lime.graphics.format.BMP"]=Cs;Cs.__name__=["lime","graphics","format","BMP"];Cs.encode=function(a,b){if(a.get_premultiplied()||0!=a.get_format())a=a.clone(),a.set_premultiplied(!1),a.set_format(0);null==b&&(b=Od.RGB);var c=14,d=40,e=a.width*a.height*4;if(null!=b)switch(b[1]){case 0:e=
3*a.width+3*a.width%4+3*a.height+3*a.height;break;case 1:d=108;break;case 2:c=0,e+=a.width*a.height}var f=new ab(new He(c+d+e)),k=0;0<c&&(f.b[k++]=66,f.b[k++]=77,f.setInt32(k,f.length),k+=4,f.setUInt16(k,0),k+=2,f.setUInt16(k,0),k+=2,f.setInt32(k,c+d),k+=4);f.setInt32(k,d);k+=4;f.setInt32(k,a.width);k+=4;f.setInt32(k,b==Od.ICO?2*a.height:a.height);k+=4;f.setUInt16(k,1);k+=2;f.setUInt16(k,b==Od.RGB?24:32);k+=2;f.setInt32(k,b==Od.BITFIELD?3:0);k+=4;f.setInt32(k,e);k+=4;f.setInt32(k,11824);k+=4;f.setInt32(k,
11824);k+=4;f.setInt32(k,0);k+=4;f.setInt32(k,0);k+=4;if(b==Od.BITFIELD)for(f.setInt32(k,16711680),k+=4,f.setInt32(k,65280),k+=4,f.setInt32(k,255),k+=4,f.setInt32(k,-16777216),k+=4,f.b[k++]=32,f.b[k++]=110,f.b[k++]=105,f.b[k++]=87,c=0;48>c;)c++,f.b[k++]=0;var c=a.getPixels(new ld(0,0,a.width,a.height),1),d=0,p,h,g;if(null!=b)switch(b[1]){case 0:p=0;for(var n=a.height;p<n;){for(var d=p++,d=4*(a.height-1-d)*a.width,l=0,m=a.width;l<m;)l++,d++,e=c.b[d++],h=c.b[d++],g=c.b[d++],f.b[k++]=g&255,f.b[k++]=
h&255,f.b[k++]=e&255;d=0;for(e=3*a.width%4;d<e;)d++,f.b[k++]=0}break;case 1:n=0;for(l=a.height;n<l;)for(var d=n++,d=4*(a.height-1-d)*a.width,m=0,q=a.width;m<q;)m++,p=c.b[d++],e=c.b[d++],h=c.b[d++],g=c.b[d++],f.b[k++]=g&255,f.b[k++]=h&255,f.b[k++]=e&255,f.b[k++]=p&255;break;case 2:n=new ab(new He(a.width*a.height));m=l=0;for(q=a.height;m<q;)for(var d=m++,d=4*(a.height-1-d)*a.width,r=0,t=a.width;r<t;)r++,p=c.b[d++],e=c.b[d++],h=c.b[d++],g=c.b[d++],f.b[k++]=g&255,f.b[k++]=h&255,f.b[k++]=e&255,f.b[k++]=
p&255,n.b[l++]=0;f.blit(k,n,0,a.width*a.height)}return f};var Od=m["lime.graphics.format.BMPType"]={__ename__:["lime","graphics","format","BMPType"],__constructs__:["RGB","BITFIELD","ICO"]};Od.RGB=["RGB",0];Od.RGB.toString=U;Od.RGB.__enum__=Od;Od.BITFIELD=["BITFIELD",1];Od.BITFIELD.toString=U;Od.BITFIELD.__enum__=Od;Od.ICO=["ICO",2];Od.ICO.toString=U;Od.ICO.__enum__=Od;Od.__empty_constructs__=[Od.RGB,Od.BITFIELD,Od.ICO];var uo=function(){};m["lime.graphics.format.JPEG"]=uo;uo.__name__=["lime","graphics",
"format","JPEG"];uo.decodeBytes=function(a,b){return null};uo.decodeFile=function(a,b){return null};uo.encode=function(a,b){if(a.get_premultiplied()||0!=a.get_format())a=a.clone(),a.set_premultiplied(!1),a.set_format(0);ta.sync(a,!1);if(null!=a.buffer.__srcCanvas){for(var c=a.buffer.__srcCanvas.toDataURL("image/jpeg",b/100),c=window.atob(c.split(";base64,")[1]),d=new ab(new He(c.length)),e=0,f=c.length;e<f;){var k=e++,p=da.cca(c,k);d.b[k]=p&255}return d}return null};var vo=function(){};m["lime.graphics.format.PNG"]=
vo;vo.__name__=["lime","graphics","format","PNG"];vo.decodeBytes=function(a,b){return null};vo.decodeFile=function(a,b){return null};vo.encode=function(a){if(a.get_premultiplied()||0!=a.get_format())a=a.clone(),a.set_premultiplied(!1),a.set_format(0);ta.sync(a,!1);if(null!=a.buffer.__srcCanvas){a=a.buffer.__srcCanvas.toDataURL("image/png");a=window.atob(a.split(";base64,")[1]);for(var b=new ab(new He(a.length)),c=0,d=a.length;c<d;){var e=c++,f=da.cca(a,e);b.b[e]=f&255}return b}return null};var g=
function(){};m["lime.graphics.opengl.GL"]=g;g.__name__=["lime","graphics","opengl","GL"];g.__properties__={get_version:"get_version",get_type:"get_type"};g.activeTexture=function(a){g.context.__context.activeTexture(a)};g.attachShader=function(a,b){g.context.__context.attachShader(a,b)};g.beginQuery=function(a,b){g.context.__context.beginQuery(a,b)};g.beginTransformFeedback=function(a){g.context.__context.beginTransformFeedback(a)};g.bindAttribLocation=function(a,b,c){g.context.__context.bindAttribLocation(a,
b,c)};g.bindBuffer=function(a,b){g.context.__context.bindBuffer(a,b)};g.bindBufferBase=function(a,b,c){g.context.__context.bindBufferBase(a,b,c)};g.bindBufferRange=function(a,b,c,d,e){g.context.__context.bindBufferRange(a,b,c,E.fromInt(E.toValue(d)),E.fromInt(e))};g.bindFramebuffer=function(a,b){g.context.__context.bindFramebuffer(a,b)};g.bindRenderbuffer=function(a,b){g.context.__context.bindRenderbuffer(a,b)};g.bindSampler=function(a,b){g.context.__context.bindSampler(a,b)};g.bindTexture=function(a,
b){g.context.__context.bindTexture(a,b)};g.bindTransformFeedback=function(a,b){g.context.__context.bindTransformFeedback(a,b)};g.bindVertexArray=function(a){g.context.__context.bindVertexArray(a)};g.blitFramebuffer=function(a,b,c,d,e,f,k,p,h,m){g.context.__context.blitFramebuffer(a,b,c,d,e,f,k,p,h,m)};g.blendColor=function(a,b,c,d){g.context.__context.blendColor(a,b,c,d)};g.blendEquation=function(a){g.context.__context.blendEquation(a)};g.blendEquationSeparate=function(a,b){g.context.__context.blendEquationSeparate(a,
b)};g.blendFunc=function(a,b){g.context.__context.blendFunc(a,b)};g.blendFuncSeparate=function(a,b,c,d){g.context.__context.blendFuncSeparate(a,b,c,d)};g.bufferData=function(a,b,c,d){g.context.__context.bufferData(a,E.toBufferView(c,b),d)};g.bufferDataWEBGL=function(a,b,c,d,e){g.context.bufferDataWEBGL(a,b,c,d,e)};g.bufferSubData=function(a,b,c,d){g.context.__context.bufferSubData(a,b,E.toBufferView(d,c))};g.bufferSubDataWEBGL=function(a,b,c,d,e){g.context.bufferSubDataWEBGL(a,b,c,d,e)};g.checkFramebufferStatus=
function(a){return g.context.__context.checkFramebufferStatus(a)};g.clear=function(a){g.context.__context.clear(a)};g.clearBufferfi=function(a,b,c,d){g.context.__context.clearBufferfi(a,b,c,d)};g.clearBufferfv=function(a,b,c){g.context.__context.clearBufferfv(a,b,E.toFloat32Array(c))};g.clearBufferfvWEBGL=function(a,b,c,d){g.context.__context.clearBufferfv(a,b,c,d)};g.clearBufferiv=function(a,b,c){g.context.__context.clearBufferiv(a,b,E.toInt32Array(c))};g.clearBufferivWEBGL=function(a,b,c,d){g.context.__context.clearBufferiv(a,
b,c,d)};g.clearBufferuiv=function(a,b,c){g.context.__context.clearBufferuiv(a,b,E.toUInt32Array(c))};g.clearBufferuivWEBGL=function(a,b,c,d){g.context.__context.clearBufferuiv(a,b,c,d)};g.clearColor=function(a,b,c,d){g.context.__context.clearColor(a,b,c,d)};g.clearDepth=function(a){g.context.__context.clearDepth(a)};g.clearDepthf=function(a){g.context.__context.clearDepth(a)};g.clearStencil=function(a){g.context.__context.clearStencil(a)};g.clientWaitSync=function(a,b,c){return g.context.__context.clientWaitSync(a,
b,c)};g.colorMask=function(a,b,c,d){g.context.__context.colorMask(a,b,c,d)};g.compileShader=function(a){g.context.__context.compileShader(a)};g.compressedTexImage2D=function(a,b,c,d,e,f,k,p){g.context.__context.compressedTexImage2D(a,b,c,d,e,f,E.toBufferView(p,k))};g.compressedTexImage2DWEBGL=function(a,b,c,d,e,f,k,p,h){g.context.compressedTexImage2DWEBGL(a,b,c,d,e,f,k,p,h)};g.compressedTexImage3D=function(a,b,c,d,e,f,k,p,h){g.context.__context.compressedTexImage3D(a,b,c,d,e,f,k,E.toBufferView(h,
p))};g.compressedTexImage3DWEBGL=function(a,b,c,d,e,f,k,p,h,m){g.context.__context.compressedTexImage3D(a,b,c,d,e,f,k,p,h,m)};g.compressedTexSubImage2D=function(a,b,c,d,e,f,k,p,h){g.context.__context.compressedTexSubImage2D(a,b,c,d,e,f,k,E.toBufferView(h,p))};g.compressedTexSubImage2DWEBGL=function(a,b,c,d,e,f,k,p,h,m){g.context.compressedTexSubImage2DWEBGL(a,b,c,d,e,f,k,p,h,m)};g.compressedTexSubImage3D=function(a,b,c,d,e,f,k,p,h,m,n){g.context.__context.compressedTexSubImage3D(a,b,c,d,e,f,k,p,h,
E.toBufferView(n,m))};g.compressedTexSubImage3DWEBGL=function(a,b,c,d,e,f,k,p,h,m,n,l){g.context.__context.compressedTexSubImage3D(a,b,c,d,e,f,k,p,h,m,n,l)};g.copyBufferSubData=function(a,b,c,d,e){};g.copyTexImage2D=function(a,b,c,d,e,f,k,p){g.context.__context.copyTexImage2D(a,b,c,d,e,f,k,p)};g.copyTexSubImage2D=function(a,b,c,d,e,f,k,p){g.context.__context.copyTexSubImage2D(a,b,c,d,e,f,k,p)};g.copyTexSubImage3D=function(a,b,c,d,e,f,k,p,h){g.context.__context.copyTexSubImage3D(a,b,c,d,e,f,k,p,h)};
g.createBuffer=function(){return g.context.__context.createBuffer()};g.createFramebuffer=function(){return g.context.__context.createFramebuffer()};g.createProgram=function(){return g.context.__context.createProgram()};g.createQuery=function(){return g.context.__context.createQuery()};g.createRenderbuffer=function(){return g.context.__context.createRenderbuffer()};g.createSampler=function(){return g.context.__context.createSampler()};g.createShader=function(a){return g.context.__context.createShader(a)};
g.createTexture=function(){return g.context.__context.createTexture()};g.createTransformFeedback=function(){return g.context.__context.createTransformFeedback()};g.createVertexArray=function(){return g.context.__context.createVertexArray()};g.cullFace=function(a){g.context.__context.cullFace(a)};g.deleteBuffer=function(a){g.context.__context.deleteBuffer(a)};g.deleteFramebuffer=function(a){g.context.__context.deleteFramebuffer(a)};g.deleteProgram=function(a){g.context.__context.deleteProgram(a)};
g.deleteQuery=function(a){g.context.__context.deleteQuery(a)};g.deleteRenderbuffer=function(a){g.context.__context.deleteRenderbuffer(a)};g.deleteSampler=function(a){g.context.__context.deleteSampler(a)};g.deleteShader=function(a){g.context.__context.deleteShader(a)};g.deleteSync=function(a){g.context.__context.deleteSync(a)};g.deleteTexture=function(a){g.context.__context.deleteTexture(a)};g.deleteTransformFeedback=function(a){g.context.__context.deleteTransformFeedback(a)};g.deleteVertexArray=function(a){g.context.__context.deleteVertexArray(a)};
g.depthFunc=function(a){g.context.__context.depthFunc(a)};g.depthMask=function(a){g.context.__context.depthMask(a)};g.depthRange=function(a,b){g.context.__context.depthRange(a,b)};g.depthRangef=function(a,b){g.context.__context.depthRange(a,b)};g.detachShader=function(a,b){g.context.__context.detachShader(a,b)};g.disable=function(a){g.context.__context.disable(a)};g.disableVertexAttribArray=function(a){g.context.__context.disableVertexAttribArray(a)};g.drawArrays=function(a,b,c){g.context.__context.drawArrays(a,
b,c)};g.drawArraysInstanced=function(a,b,c,d){g.context.__context.drawArraysInstanced(a,b,c,d)};g.drawBuffers=function(a){g.context.__context.drawBuffers(a)};g.drawElements=function(a,b,c,d){var e=g.context;d=E.fromInt(d);e.__context.drawElements(a,b,c,E.toValue(d))};g.drawElementsInstanced=function(a,b,c,d,e){g.context.__context.drawElementsInstanced(a,b,c,E.fromInt(E.toValue(d)),e)};g.drawRangeElements=function(a,b,c,d,e,f){g.context.__context.drawRangeElements(a,b,c,d,e,E.fromInt(E.toValue(f)))};
g.enable=function(a){g.context.__context.enable(a)};g.enableVertexAttribArray=function(a){g.context.__context.enableVertexAttribArray(a)};g.endQuery=function(a){g.context.__context.endQuery(a)};g.endTransformFeedback=function(){g.context.__context.endTransformFeedback()};g.fenceSync=function(a,b){return g.context.__context.fenceSync(a,b)};g.finish=function(){g.context.__context.finish()};g.flush=function(){g.context.__context.flush()};g.framebufferRenderbuffer=function(a,b,c,d){g.context.__context.framebufferRenderbuffer(a,
b,c,d)};g.framebufferTexture2D=function(a,b,c,d,e){g.context.__context.framebufferTexture2D(a,b,c,d,e)};g.framebufferTextureLayer=function(a,b,c,d,e){g.context.__context.framebufferTextureLayer(a,b,c,d,e)};g.frontFace=function(a){g.context.__context.frontFace(a)};g.generateMipmap=function(a){g.context.__context.generateMipmap(a)};g.getActiveAttrib=function(a,b){return g.context.__context.getActiveAttrib(a,b)};g.getActiveUniform=function(a,b){return g.context.__context.getActiveUniform(a,b)};g.getActiveUniformBlocki=
function(a,b,c){return g.context.__context.getActiveUniformBlockParameter(a,b,c)};g.getActiveUniformBlockiv=function(a,b,c,d){g.context.getActiveUniformBlockiv(a,b,c,d)};g.getActiveUniformBlockName=function(a,b){return g.context.__context.getActiveUniformBlockName(a,b)};g.getActiveUniformBlockParameter=function(a,b,c){return g.context.__context.getActiveUniformBlockParameter(a,b,c)};g.getActiveUniforms=function(a,b,c){return g.context.__context.getActiveUniforms(a,b,c)};g.getActiveUniformsiv=function(a,
b,c,d){};g.getAttachedShaders=function(a){return g.context.__context.getAttachedShaders(a)};g.getAttribLocation=function(a,b){return g.context.__context.getAttribLocation(a,b)};g.getBoolean=function(a){return g.context.__context.getParameter(a)};g.getBooleanv=function(a,b){g.context.getBooleanv(a,b)};g.getBufferParameter=function(a,b){return g.context.__context.getBufferParameter(a,b)};g.getBufferParameteri=function(a,b){return g.context.__context.getBufferParameter(a,b)};g.getBufferParameteri64v=
function(a,b,c){g.context.getBufferParameteri64v(a,b,c)};g.getBufferParameteriv=function(a,b,c){g.context.getBufferParameteriv(a,b,c)};g.getBufferPointerv=function(a,b){return E.fromInt(0)};g.getBufferSubData=function(a,b,c,d){g.context.__context.getBufferSubData(a,E.fromInt(E.toValue(b)),E.toBufferView(d,c))};g.getBufferSubDataWEBGL=function(a,b,c,d,e){g.context.getBufferSubDataWEBGL(a,b,c,d,e)};g.getContextAttributes=function(){return g.context.__context.getContextAttributes()};g.getError=function(){return g.context.__context.getError()};
g.getExtension=function(a){return g.context.__context.getExtension(a)};g.getFloat=function(a){return g.context.__context.getParameter(a)};g.getFloatv=function(a,b){g.context.getFloatv(a,b)};g.getFragDataLocation=function(a,b){return g.context.__context.getFragDataLocation(a,b)};g.getFramebufferAttachmentParameter=function(a,b,c){return g.context.__context.getFramebufferAttachmentParameter(a,b,c)};g.getFramebufferAttachmentParameteri=function(a,b,c){return g.context.__context.getFramebufferAttachmentParameter(a,
b,c)};g.getFramebufferAttachmentParameteriv=function(a,b,c,d){g.context.getFramebufferAttachmentParameteriv(a,b,c,d)};g.getIndexedParameter=function(a,b){return g.context.__context.getIndexedParameter(a,b)};g.getInteger=function(a){return g.context.__context.getParameter(a)};g.getInteger64=function(a){return new Ga(0,0)};g.getInteger64i=function(a){return new Ga(0,0)};g.getInteger64i_v=function(a,b,c){};g.getInteger64v=function(a,b){g.context.getInteger64v(a,b)};g.getIntegeri_v=function(a,b,c){};
g.getIntegerv=function(a,b){g.context.getIntegerv(a,b)};g.getInternalformati=function(a,b,c){return 0};g.getInternalformativ=function(a,b,c,d,e){g.context.getInternalformativ(a,b,c,d,e)};g.getInternalformatParameter=function(a,b,c){return g.context.__context.getInternalformatParameter(a,b,c)};g.getParameter=function(a){return g.context.__context.getParameter(a)};g.getProgrami=function(a,b){return g.context.__context.getProgramParameter(a,b)};g.getProgramiv=function(a,b,c){g.context.getProgramiv(a,
b,c)};g.getProgramBinary=function(a,b){return null};g.getProgramInfoLog=function(a){return g.context.__context.getProgramInfoLog(a)};g.getProgramParameter=function(a,b){return g.context.__context.getProgramParameter(a,b)};g.getQuery=function(a,b){return g.context.__context.getQuery(a,b)};g.getQueryi=function(a,b){return 0};g.getQueryiv=function(a,b,c){g.context.getQueryiv(a,b,c)};g.getQueryObjectui=function(a,b){return 0};g.getQueryObjectuiv=function(a,b,c){g.context.getQueryObjectuiv(a,b,c)};g.getQueryParameter=
function(a,b){return g.context.__context.getQueryParameter(a,b)};g.getRenderbufferParameter=function(a,b){return g.context.__context.getRenderbufferParameter(a,b)};g.getRenderbufferParameteri=function(a,b){return g.context.__context.getRenderbufferParameter(a,b)};g.getRenderbufferParameteriv=function(a,b,c){g.context.getRenderbufferParameteriv(a,b,c)};g.getSamplerParameter=function(a,b){return g.context.__context.getSamplerParameter(a,b)};g.getSamplerParameterf=function(a,b){return 0};g.getSamplerParameterfv=
function(a,b,c){g.context.getSamplerParameterfv(a,b,c)};g.getSamplerParameteri=function(a,b){return 0};g.getSamplerParameteriv=function(a,b,c){g.context.getSamplerParameteriv(a,b,c)};g.getShaderi=function(a,b){return g.context.__context.getShaderParameter(a,b)};g.getShaderiv=function(a,b,c){g.context.getShaderiv(a,b,c)};g.getShaderInfoLog=function(a){return g.context.__context.getShaderInfoLog(a)};g.getShaderParameter=function(a,b){return g.context.__context.getShaderParameter(a,b)};g.getShaderPrecisionFormat=
function(a,b){return g.context.__context.getShaderPrecisionFormat(a,b)};g.getShaderSource=function(a){return g.context.__context.getShaderSource(a)};g.getString=function(a){return g.context.getString(a)};g.getStringi=function(a,b){return null};g.getSupportedExtensions=function(){return g.context.__context.getSupportedExtensions()};g.getSyncParameter=function(a,b){return g.context.__context.getSyncParameter(a,b)};g.getSyncParameteri=function(a,b){return 0};g.getSyncParameteriv=function(a,b,c){g.context.getSyncParameteriv(a,
b,c)};g.getTexParameter=function(a,b){return g.context.__context.getTexParameter(a,b)};g.getTexParameterf=function(a,b){return g.context.__context.getTexParameter(a,b)};g.getTexParameterfv=function(a,b,c){g.context.getTexParameterfv(a,b,c)};g.getTexParameteri=function(a,b){return g.context.__context.getTexParameter(a,b)};g.getTexParameteriv=function(a,b,c){g.context.getTexParameteriv(a,b,c)};g.getTransformFeedbackVarying=function(a,b){return g.context.__context.getTransformFeedbackVarying(a,b)};g.getUniform=
function(a,b){return g.context.__context.getUniform(a,b)};g.getUniformf=function(a,b){return g.context.__context.getUniform(a,b)};g.getUniformfv=function(a,b,c){g.context.getUniformfv(a,b,c)};g.getUniformi=function(a,b){return g.context.__context.getUniform(a,b)};g.getUniformiv=function(a,b,c){g.context.getUniformiv(a,b,c)};g.getUniformui=function(a,b){return 0};g.getUniformuiv=function(a,b,c){g.context.getUniformuiv(a,b,c)};g.getUniformBlockIndex=function(a,b){return g.context.__context.getUniformBlockIndex(a,
b)};g.getUniformIndices=function(a,b){return g.context.__context.getUniformIndices(a,b)};g.getUniformLocation=function(a,b){return g.context.__context.getUniformLocation(a,b)};g.getVertexAttrib=function(a,b){return g.context.__context.getVertexAttrib(a,b)};g.getVertexAttribf=function(a,b){return 0};g.getVertexAttribfv=function(a,b,c){g.context.getVertexAttribfv(a,b,c)};g.getVertexAttribi=function(a,b){return 0};g.getVertexAttribIi=function(a,b){return 0};g.getVertexAttribIiv=function(a,b,c){};g.getVertexAttribIui=
function(a,b){return 0};g.getVertexAttribIuiv=function(a,b,c){};g.getVertexAttribiv=function(a,b,c){g.context.getVertexAttribiv(a,b,c)};g.getVertexAttribOffset=function(a,b){return E.fromInt(g.context.__context.getVertexAttribOffset(a,b))};g.getVertexAttribPointerv=function(a,b){return E.fromInt(g.context.__context.getVertexAttribOffset(a,b))};g.hint=function(a,b){g.context.__context.hint(a,b)};g.invalidateFramebuffer=function(a,b){g.context.__context.invalidateFramebuffer(a,b)};g.invalidateSubFramebuffer=
function(a,b,c,d,e,f){g.context.__context.invalidateSubFramebuffer(a,b,c,d,e,f)};g.isBuffer=function(a){return g.context.__context.isBuffer(a)};g.isContextLost=function(){var a=g.context;return a.__contextLost?!0:a.__context.isContextLost()};g.isEnabled=function(a){return g.context.__context.isEnabled(a)};g.isFramebuffer=function(a){return g.context.__context.isFramebuffer(a)};g.isProgram=function(a){return g.context.__context.isProgram(a)};g.isQuery=function(a){return g.context.__context.isQuery(a)};
g.isRenderbuffer=function(a){return g.context.__context.isRenderbuffer(a)};g.isSampler=function(a){return g.context.__context.isSampler(a)};g.isShader=function(a){return g.context.__context.isShader(a)};g.isSync=function(a){return g.context.__context.isSync(a)};g.isTexture=function(a){return g.context.__context.isTexture(a)};g.isTransformFeedback=function(a){return g.context.__context.isTransformFeedback(a)};g.isVertexArray=function(a){return g.context.__context.isVertexArray(a)};g.lineWidth=function(a){g.context.__context.lineWidth(a)};
g.linkProgram=function(a){g.context.__context.linkProgram(a)};g.mapBufferRange=function(a,b,c,d){return E.fromInt(0)};g.pauseTransformFeedback=function(){g.context.__context.pauseTransformFeedback()};g.pixelStorei=function(a,b){g.context.__context.pixelStorei(a,b)};g.polygonOffset=function(a,b){g.context.__context.polygonOffset(a,b)};g.programBinary=function(a,b,c,d){};g.programParameteri=function(a,b,c){};g.readBuffer=function(a){g.context.__context.readBuffer(a)};g.readPixels=function(a,b,c,d,e,
f,k){var p=g.context;k=E.fromBytesPointer(k);p.__context.readPixels(a,b,c,d,e,f,E.toBufferView(k))};g.readPixelsWEBGL=function(a,b,c,d,e,f,k,p){g.context.readPixelsWEBGL(a,b,c,d,e,f,k,p)};g.releaseShaderCompiler=function(){};g.renderbufferStorage=function(a,b,c,d){g.context.__context.renderbufferStorage(a,b,c,d)};g.renderbufferStorageMultisample=function(a,b,c,d,e){g.context.__context.renderbufferStorageMultisample(a,b,c,d,e)};g.resumeTransformFeedback=function(){g.context.__context.resumeTransformFeedback()};
g.sampleCoverage=function(a,b){g.context.__context.sampleCoverage(a,b)};g.samplerParameterf=function(a,b,c){g.context.__context.samplerParameterf(a,b,c)};g.samplerParameteri=function(a,b,c){g.context.__context.samplerParameteri(a,b,c)};g.scissor=function(a,b,c,d){g.context.__context.scissor(a,b,c,d)};g.shaderBinary=function(a,b,c,d){};g.shaderSource=function(a,b){g.context.__context.shaderSource(a,b)};g.stencilFunc=function(a,b,c){g.context.__context.stencilFunc(a,b,c)};g.stencilFuncSeparate=function(a,
b,c,d){g.context.__context.stencilFuncSeparate(a,b,c,d)};g.stencilMask=function(a){g.context.__context.stencilMask(a)};g.stencilMaskSeparate=function(a,b){g.context.__context.stencilMaskSeparate(a,b)};g.stencilOp=function(a,b,c){g.context.__context.stencilOp(a,b,c)};g.stencilOpSeparate=function(a,b,c,d){g.context.__context.stencilOpSeparate(a,b,c,d)};g.texImage2D=function(a,b,c,d,e,f,k,p,h){g.context.__context.texImage2D(a,b,c,d,e,f,k,p,E.toBufferView(h))};g.texImage2DWEBGL=function(a,b,c,d,e,f,k,
p,h,m){g.context.texImage2DWEBGL(a,b,c,d,e,f,k,p,h,m)};g.texImage3D=function(a,b,c,d,e,f,k,p,h,m){g.context.__context.texImage3D(a,b,c,d,e,f,k,p,h,E.toBufferView(m))};g.texImage3DWEBGL=function(a,b,c,d,e,f,k,p,h,m,n){g.context.__context.texImage3D(a,b,c,d,e,f,k,p,h,m,n)};g.texStorage2D=function(a,b,c,d,e){g.context.__context.texStorage2D(a,b,c,d,e)};g.texStorage3D=function(a,b,c,d,e,f){g.context.__context.texStorage3D(a,b,c,d,e,f)};g.texParameterf=function(a,b,c){g.context.__context.texParameterf(a,
b,c)};g.texParameteri=function(a,b,c){g.context.__context.texParameteri(a,b,c)};g.texSubImage2D=function(a,b,c,d,e,f,k,p,h){var m=g.context;h=E.fromArrayBufferView(h);m.__context.texSubImage2D(a,b,c,d,e,f,k,p,E.toBufferView(h))};g.texSubImage2DWEBGL=function(a,b,c,d,e,f,k,p,h,m){g.context.texSubImage2DWEBGL(a,b,c,d,e,f,k,p,h,m)};g.texSubImage3D=function(a,b,c,d,e,f,k,p,h,m,n){g.context.__context.texSubImage3D(a,b,c,d,e,f,k,p,h,m,E.toBufferView(n))};g.texSubImage3DWEBGL=function(a,b,c,d,e,f,k,p,h,
m,n,l){g.context.__context.texSubImage3D(a,b,c,d,e,f,k,p,h,m,n,l)};g.transformFeedbackVaryings=function(a,b,c){g.context.__context.transformFeedbackVaryings(a,b,c)};g.uniform1f=function(a,b){g.context.__context.uniform1f(a,b)};g.uniform1fv=function(a,b,c){g.context.__context.uniform1fv(a,E.toFloat32Array(c,4*b))};g.uniform1fvWEBGL=function(a,b,c,d){g.context.uniform1fvWEBGL(a,b,c,d)};g.uniform1i=function(a,b){g.context.__context.uniform1i(a,b)};g.uniform1iv=function(a,b,c){g.context.__context.uniform1iv(a,
E.toInt32Array(c,4*b))};g.uniform1ivWEBGL=function(a,b,c,d){g.context.uniform1ivWEBGL(a,b,c,d)};g.uniform1ui=function(a,b){g.context.__context.uniform1ui(a,b)};g.uniform1uiv=function(a,b,c){g.context.__context.uniform1uiv(a,E.toUInt32Array(c,4*b))};g.uniform1uivWEBGL=function(a,b,c,d){g.context.__context.uniform1uiv(a,b,c,d)};g.uniform2f=function(a,b,c){g.context.__context.uniform2f(a,b,c)};g.uniform2fv=function(a,b,c){g.context.__context.uniform2fv(a,E.toFloat32Array(c,8*b))};g.uniform2fvWEBGL=function(a,
b,c,d){g.context.uniform2fvWEBGL(a,b,c,d)};g.uniform2i=function(a,b,c){g.context.__context.uniform2i(a,b,c)};g.uniform2iv=function(a,b,c){g.context.__context.uniform2iv(a,E.toInt32Array(c,8*b))};g.uniform2ivWEBGL=function(a,b,c,d){g.context.uniform2ivWEBGL(a,b,c,d)};g.uniform2ui=function(a,b,c){g.context.__context.uniform2ui(a,b,c)};g.uniform2uiv=function(a,b,c){g.context.__context.uniform2uiv(a,E.toUInt32Array(c,8*b))};g.uniform2uivWEBGL=function(a,b,c,d){g.context.__context.uniform2uiv(a,b,c,d)};
g.uniform3f=function(a,b,c,d){g.context.__context.uniform3f(a,b,c,d)};g.uniform3fv=function(a,b,c){g.context.__context.uniform3fv(a,E.toFloat32Array(c,12*b))};g.uniform3fvWEBGL=function(a,b,c,d){g.context.uniform3fvWEBGL(a,b,c,d)};g.uniform3i=function(a,b,c,d){g.context.__context.uniform3i(a,b,c,d)};g.uniform3iv=function(a,b,c){g.context.__context.uniform3iv(a,E.toInt32Array(c,12*b))};g.uniform3ivWEBGL=function(a,b,c,d){g.context.uniform3ivWEBGL(a,b,c,d)};g.uniform3ui=function(a,b,c,d){g.context.__context.uniform3ui(a,
b,c,d)};g.uniform3uiv=function(a,b,c){g.context.__context.uniform3uiv(a,E.toUInt32Array(c,12*b))};g.uniform3uivWEBGL=function(a,b,c,d){g.context.__context.uniform3uiv(a,b,c,d)};g.uniform4f=function(a,b,c,d,e){g.context.__context.uniform4f(a,b,c,d,e)};g.uniform4fv=function(a,b,c){g.context.__context.uniform4fv(a,E.toFloat32Array(c,16*b))};g.uniform4fvWEBGL=function(a,b,c,d){g.context.uniform4fvWEBGL(a,b,c,d)};g.uniform4i=function(a,b,c,d,e){g.context.__context.uniform4i(a,b,c,d,e)};g.uniform4iv=function(a,
b,c){g.context.__context.uniform4iv(a,E.toInt32Array(c,16*b))};g.uniform4ivWEBGL=function(a,b,c,d){g.context.uniform4ivWEBGL(a,b,c,d)};g.uniform4ui=function(a,b,c,d,e){g.context.__context.uniform4ui(a,b,c,d,e)};g.uniform4uiv=function(a,b,c){g.context.__context.uniform4uiv(a,E.toUInt32Array(c,16*b))};g.uniform4uivWEBGL=function(a,b,c,d){g.context.__context.uniform4uiv(a,b,c,d)};g.uniformBlockBinding=function(a,b,c){g.context.__context.uniformBlockBinding(a,b,c)};g.uniformMatrix2fv=function(a,b,c,d){g.context.__context.uniformMatrix2fv(a,
c,E.toFloat32Array(d,16*b))};g.uniformMatrix2fvWEBGL=function(a,b,c,d,e){g.context.uniformMatrix2fvWEBGL(a,b,c,d,e)};g.uniformMatrix2x3fv=function(a,b,c,d){g.context.__context.uniformMatrix2x3fv(a,c,E.toFloat32Array(d,24*b))};g.uniformMatrix2x3fvWEBGL=function(a,b,c,d,e){g.context.__context.uniformMatrix2x3fv(a,b,c,d,e)};g.uniformMatrix2x4fv=function(a,b,c,d){g.context.__context.uniformMatrix2x4fv(a,c,E.toFloat32Array(d,32*b))};g.uniformMatrix2x4fvWEBGL=function(a,b,c,d,e){g.context.__context.uniformMatrix2x4fv(a,
b,c,d,e)};g.uniformMatrix3fv=function(a,b,c,d){g.context.__context.uniformMatrix3fv(a,c,E.toFloat32Array(d,36*b))};g.uniformMatrix3fvWEBGL=function(a,b,c,d,e){g.context.uniformMatrix3fvWEBGL(a,b,c,d,e)};g.uniformMatrix3x2fv=function(a,b,c,d){g.context.__context.uniformMatrix3x2fv(a,c,E.toFloat32Array(d,24*b))};g.uniformMatrix3x2fvWEBGL=function(a,b,c,d,e){g.context.__context.uniformMatrix3x2fv(a,b,c,d,e)};g.uniformMatrix3x4fv=function(a,b,c,d){g.context.__context.uniformMatrix3x4fv(a,c,E.toFloat32Array(d,
48*b))};g.uniformMatrix3x4fvWEBGL=function(a,b,c,d,e){g.context.__context.uniformMatrix3x4fv(a,b,c,d,e)};g.uniformMatrix4fv=function(a,b,c,d){g.context.__context.uniformMatrix4fv(a,c,E.toFloat32Array(d,64*b))};g.uniformMatrix4fvWEBGL=function(a,b,c,d,e){g.context.uniformMatrix4fvWEBGL(a,b,c,d,e)};g.uniformMatrix4x2fv=function(a,b,c,d){g.context.__context.uniformMatrix4x2fv(a,c,E.toFloat32Array(d,32*b))};g.uniformMatrix4x2fvWEBGL=function(a,b,c,d,e){g.context.uniformMatrix4x2fvWEBGL(a,b,c,d,e)};g.uniformMatrix4x3fv=
function(a,b,c,d){g.context.__context.uniformMatrix4x3fv(a,c,E.toFloat32Array(d,48*b))};g.uniformMatrix4x3fvWEBGL=function(a,b,c,d,e){g.context.__context.uniformMatrix4x3fv(a,b,c,d,e)};g.unmapBuffer=function(a){return!1};g.useProgram=function(a){g.__currentProgram=a;g.context.__context.useProgram(a)};g.validateProgram=function(a){g.context.__context.validateProgram(a)};g.vertexAttrib1f=function(a,b){g.context.__context.vertexAttrib1f(a,b)};g.vertexAttrib1fv=function(a,b){g.context.__context.vertexAttrib1fv(a,
E.toFloat32Array(b))};g.vertexAttrib1fvWEBGL=function(a,b){g.context.__context.vertexAttrib1fv(a,E.toFloat32Array(b))};g.vertexAttrib2f=function(a,b,c){g.context.__context.vertexAttrib2f(a,b,c)};g.vertexAttrib2fv=function(a,b){g.context.__context.vertexAttrib2fv(a,E.toFloat32Array(b))};g.vertexAttrib2fvWEBGL=function(a,b){g.context.__context.vertexAttrib2fv(a,E.toFloat32Array(b))};g.vertexAttrib3f=function(a,b,c,d){g.context.__context.vertexAttrib3f(a,b,c,d)};g.vertexAttrib3fv=function(a,b){g.context.__context.vertexAttrib3fv(a,
E.toFloat32Array(b))};g.vertexAttrib3fvWEBGL=function(a,b){g.context.__context.vertexAttrib3fv(a,E.toFloat32Array(b))};g.vertexAttrib4f=function(a,b,c,d,e){g.context.__context.vertexAttrib4f(a,b,c,d,e)};g.vertexAttrib4fv=function(a,b){g.context.__context.vertexAttrib4fv(a,E.toFloat32Array(b))};g.vertexAttrib4fvWEBGL=function(a,b){g.context.__context.vertexAttrib4fv(a,E.toFloat32Array(b))};g.vertexAttribDivisor=function(a,b){g.context.__context.vertexAttribDivisor(a,b)};g.vertexAttribI4i=function(a,
b,c,d,e){g.context.__context.vertexAttribI4i(a,b,c,d,e)};g.vertexAttribI4iv=function(a,b){g.context.__context.vertexAttribI4iv(a,E.toInt32Array(b))};g.vertexAttribI4ivWEBGL=function(a,b){g.context.__context.vertexAttribI4iv(a,E.toInt32Array(b))};g.vertexAttribI4ui=function(a,b,c,d,e){g.context.__context.vertexAttribI4ui(a,b,c,d,e)};g.vertexAttribI4uiv=function(a,b){g.context.__context.vertexAttribI4uiv(a,E.toUInt32Array(b))};g.vertexAttribI4uivWEBGL=function(a,b){g.context.__context.vertexAttribI4uiv(a,
E.toUInt32Array(b))};g.vertexAttribIPointer=function(a,b,c,d,e){g.context.__context.vertexAttribIPointer(a,b,c,d,E.fromInt(E.toValue(e)))};g.vertexAttribPointer=function(a,b,c,d,e,f){g.context.__context.vertexAttribPointer(a,b,c,d,e,E.toValue(f))};g.viewport=function(a,b,c,d){g.context.__context.viewport(a,b,c,d)};g.waitSync=function(a,b,c){g.context.__context.waitSync(a,b,c)};g.get_type=function(){return g.context.type};g.get_version=function(){return g.context.version};g.__getObjectID=function(a){return null==
a?0:a.id};var me=m["lime.graphics.opengl.GLContextType"]={__ename__:["lime","graphics","opengl","GLContextType"],__constructs__:["OPENGL","GLES","WEBGL"]};me.OPENGL=["OPENGL",0];me.OPENGL.toString=U;me.OPENGL.__enum__=me;me.GLES=["GLES",1];me.GLES.toString=U;me.GLES.__enum__=me;me.WEBGL=["WEBGL",2];me.WEBGL.toString=U;me.WEBGL.__enum__=me;me.__empty_constructs__=[me.OPENGL,me.GLES,me.WEBGL];var kt={};m["lime.graphics.opengl._GLES2Context.GLES2Context_Impl_"]=kt;kt.__name__=["lime","graphics","opengl",
"_GLES2Context","GLES2Context_Impl_"];kt.fromGL=function(a){return g.context};var r={};m["lime.graphics.opengl._GLES3Context.GLES3Context_Impl_"]=r;r.__name__=["lime","graphics","opengl","_GLES3Context","GLES3Context_Impl_"];r.__properties__={get_version:"get_version",get_type:"get_type",get_MAX_CLIENT_WAIT_TIMEOUT_WEBGL:"get_MAX_CLIENT_WAIT_TIMEOUT_WEBGL",get_TIMEOUT_IGNORED:"get_TIMEOUT_IGNORED",get_INVALID_INDEX:"get_INVALID_INDEX",get_DEPTH32F_STENCIL8:"get_DEPTH32F_STENCIL8",get_DEPTH_COMPONENT32F:"get_DEPTH_COMPONENT32F",
get_DYNAMIC_COPY:"get_DYNAMIC_COPY",get_DYNAMIC_READ:"get_DYNAMIC_READ",get_STATIC_COPY:"get_STATIC_COPY",get_STATIC_READ:"get_STATIC_READ",get_STREAM_COPY:"get_STREAM_COPY",get_STREAM_READ:"get_STREAM_READ",get_DEPTH_COMPONENT24:"get_DEPTH_COMPONENT24",get_MAX:"get_MAX",get_MIN:"get_MIN",get_STENCIL:"get_STENCIL",get_DEPTH:"get_DEPTH",get_COLOR:"get_COLOR",get_SYNC_FLUSH_COMMANDS_BIT:"get_SYNC_FLUSH_COMMANDS_BIT",get_WAIT_FAILED:"get_WAIT_FAILED",get_CONDITION_SATISFIED:"get_CONDITION_SATISFIED",
get_TIMEOUT_EXPIRED:"get_TIMEOUT_EXPIRED",get_ALREADY_SIGNALED:"get_ALREADY_SIGNALED",get_SIGNALED:"get_SIGNALED",get_UNSIGNALED:"get_UNSIGNALED",get_SYNC_GPU_COMMANDS_COMPLETE:"get_SYNC_GPU_COMMANDS_COMPLETE",get_SYNC_FENCE:"get_SYNC_FENCE",get_SYNC_FLAGS:"get_SYNC_FLAGS",get_SYNC_STATUS:"get_SYNC_STATUS",get_SYNC_CONDITION:"get_SYNC_CONDITION",get_OBJECT_TYPE:"get_OBJECT_TYPE",get_UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:"get_UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",get_UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:"get_UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",
get_UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:"get_UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",get_UNIFORM_BLOCK_ACTIVE_UNIFORMS:"get_UNIFORM_BLOCK_ACTIVE_UNIFORMS",get_UNIFORM_BLOCK_DATA_SIZE:"get_UNIFORM_BLOCK_DATA_SIZE",get_UNIFORM_BLOCK_BINDING:"get_UNIFORM_BLOCK_BINDING",get_UNIFORM_IS_ROW_MAJOR:"get_UNIFORM_IS_ROW_MAJOR",get_UNIFORM_MATRIX_STRIDE:"get_UNIFORM_MATRIX_STRIDE",get_UNIFORM_ARRAY_STRIDE:"get_UNIFORM_ARRAY_STRIDE",get_UNIFORM_OFFSET:"get_UNIFORM_OFFSET",get_UNIFORM_BLOCK_INDEX:"get_UNIFORM_BLOCK_INDEX",
get_UNIFORM_SIZE:"get_UNIFORM_SIZE",get_UNIFORM_TYPE:"get_UNIFORM_TYPE",get_ACTIVE_UNIFORM_BLOCKS:"get_ACTIVE_UNIFORM_BLOCKS",get_UNIFORM_BUFFER_OFFSET_ALIGNMENT:"get_UNIFORM_BUFFER_OFFSET_ALIGNMENT",get_MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:"get_MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",get_MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:"get_MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",get_MAX_UNIFORM_BLOCK_SIZE:"get_MAX_UNIFORM_BLOCK_SIZE",get_MAX_UNIFORM_BUFFER_BINDINGS:"get_MAX_UNIFORM_BUFFER_BINDINGS",
get_MAX_COMBINED_UNIFORM_BLOCKS:"get_MAX_COMBINED_UNIFORM_BLOCKS",get_MAX_FRAGMENT_UNIFORM_BLOCKS:"get_MAX_FRAGMENT_UNIFORM_BLOCKS",get_MAX_VERTEX_UNIFORM_BLOCKS:"get_MAX_VERTEX_UNIFORM_BLOCKS",get_UNIFORM_BUFFER_SIZE:"get_UNIFORM_BUFFER_SIZE",get_UNIFORM_BUFFER_START:"get_UNIFORM_BUFFER_START",get_UNIFORM_BUFFER_BINDING:"get_UNIFORM_BUFFER_BINDING",get_UNIFORM_BUFFER:"get_UNIFORM_BUFFER",get_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:"get_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:"get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",
get_RENDERBUFFER_SAMPLES:"get_RENDERBUFFER_SAMPLES",get_READ_FRAMEBUFFER_BINDING:"get_READ_FRAMEBUFFER_BINDING",get_DRAW_FRAMEBUFFER:"get_DRAW_FRAMEBUFFER",get_READ_FRAMEBUFFER:"get_READ_FRAMEBUFFER",get_DRAW_FRAMEBUFFER_BINDING:"get_DRAW_FRAMEBUFFER_BINDING",get_DEPTH24_STENCIL8:"get_DEPTH24_STENCIL8",get_FRAMEBUFFER_DEFAULT:"get_FRAMEBUFFER_DEFAULT",get_FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:"get_FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",get_FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:"get_FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",
get_FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:"get_FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",get_FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:"get_FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",get_FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:"get_FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",get_FRAMEBUFFER_ATTACHMENT_RED_SIZE:"get_FRAMEBUFFER_ATTACHMENT_RED_SIZE",get_FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:"get_FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",get_FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:"get_FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",get_TRANSFORM_FEEDBACK_BINDING:"get_TRANSFORM_FEEDBACK_BINDING",
get_TRANSFORM_FEEDBACK_ACTIVE:"get_TRANSFORM_FEEDBACK_ACTIVE",get_TRANSFORM_FEEDBACK_PAUSED:"get_TRANSFORM_FEEDBACK_PAUSED",get_TRANSFORM_FEEDBACK:"get_TRANSFORM_FEEDBACK",get_TRANSFORM_FEEDBACK_BUFFER_BINDING:"get_TRANSFORM_FEEDBACK_BUFFER_BINDING",get_TRANSFORM_FEEDBACK_BUFFER:"get_TRANSFORM_FEEDBACK_BUFFER",get_SEPARATE_ATTRIBS:"get_SEPARATE_ATTRIBS",get_INTERLEAVED_ATTRIBS:"get_INTERLEAVED_ATTRIBS",get_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:"get_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",get_MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:"get_MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",
get_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:"get_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",get_TRANSFORM_FEEDBACK_BUFFER_SIZE:"get_TRANSFORM_FEEDBACK_BUFFER_SIZE",get_TRANSFORM_FEEDBACK_BUFFER_START:"get_TRANSFORM_FEEDBACK_BUFFER_START",get_TRANSFORM_FEEDBACK_VARYINGS:"get_TRANSFORM_FEEDBACK_VARYINGS",get_MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:"get_MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",get_TRANSFORM_FEEDBACK_BUFFER_MODE:"get_TRANSFORM_FEEDBACK_BUFFER_MODE",get_VERTEX_ATTRIB_ARRAY_DIVISOR:"get_VERTEX_ATTRIB_ARRAY_DIVISOR",
get_VERTEX_ATTRIB_ARRAY_INTEGER:"get_VERTEX_ATTRIB_ARRAY_INTEGER",get_SIGNED_NORMALIZED:"get_SIGNED_NORMALIZED",get_UNSIGNED_NORMALIZED:"get_UNSIGNED_NORMALIZED",get_UNSIGNED_INT_VEC4:"get_UNSIGNED_INT_VEC4",get_UNSIGNED_INT_VEC3:"get_UNSIGNED_INT_VEC3",get_UNSIGNED_INT_VEC2:"get_UNSIGNED_INT_VEC2",get_FLOAT_MAT4x3:"get_FLOAT_MAT4x3",get_FLOAT_MAT4x2:"get_FLOAT_MAT4x2",get_FLOAT_MAT3x4:"get_FLOAT_MAT3x4",get_FLOAT_MAT3x2:"get_FLOAT_MAT3x2",get_FLOAT_MAT2x4:"get_FLOAT_MAT2x4",get_FLOAT_MAT2x3:"get_FLOAT_MAT2x3",
get_COPY_WRITE_BUFFER_BINDING:"get_COPY_WRITE_BUFFER_BINDING",get_COPY_READ_BUFFER_BINDING:"get_COPY_READ_BUFFER_BINDING",get_COPY_WRITE_BUFFER:"get_COPY_WRITE_BUFFER",get_COPY_READ_BUFFER:"get_COPY_READ_BUFFER",get_PIXEL_UNPACK_BUFFER_BINDING:"get_PIXEL_UNPACK_BUFFER_BINDING",get_PIXEL_PACK_BUFFER_BINDING:"get_PIXEL_PACK_BUFFER_BINDING",get_PIXEL_UNPACK_BUFFER:"get_PIXEL_UNPACK_BUFFER",get_PIXEL_PACK_BUFFER:"get_PIXEL_PACK_BUFFER",get_SAMPLER_BINDING:"get_SAMPLER_BINDING",get_MAX_SAMPLES:"get_MAX_SAMPLES",
get_UNSIGNED_INT_SAMPLER_2D_ARRAY:"get_UNSIGNED_INT_SAMPLER_2D_ARRAY",get_UNSIGNED_INT_SAMPLER_CUBE:"get_UNSIGNED_INT_SAMPLER_CUBE",get_UNSIGNED_INT_SAMPLER_3D:"get_UNSIGNED_INT_SAMPLER_3D",get_UNSIGNED_INT_SAMPLER_2D:"get_UNSIGNED_INT_SAMPLER_2D",get_INT_SAMPLER_2D_ARRAY:"get_INT_SAMPLER_2D_ARRAY",get_INT_SAMPLER_CUBE:"get_INT_SAMPLER_CUBE",get_INT_SAMPLER_3D:"get_INT_SAMPLER_3D",get_INT_SAMPLER_2D:"get_INT_SAMPLER_2D",get_SAMPLER_CUBE_SHADOW:"get_SAMPLER_CUBE_SHADOW",get_SAMPLER_2D_ARRAY_SHADOW:"get_SAMPLER_2D_ARRAY_SHADOW",
get_SAMPLER_2D_ARRAY:"get_SAMPLER_2D_ARRAY",get_SAMPLER_2D_SHADOW:"get_SAMPLER_2D_SHADOW",get_SAMPLER_3D:"get_SAMPLER_3D",get_COLOR_ATTACHMENT15:"get_COLOR_ATTACHMENT15",get_COLOR_ATTACHMENT14:"get_COLOR_ATTACHMENT14",get_COLOR_ATTACHMENT13:"get_COLOR_ATTACHMENT13",get_COLOR_ATTACHMENT12:"get_COLOR_ATTACHMENT12",get_COLOR_ATTACHMENT11:"get_COLOR_ATTACHMENT11",get_COLOR_ATTACHMENT10:"get_COLOR_ATTACHMENT10",get_COLOR_ATTACHMENT9:"get_COLOR_ATTACHMENT9",get_COLOR_ATTACHMENT8:"get_COLOR_ATTACHMENT8",
get_COLOR_ATTACHMENT7:"get_COLOR_ATTACHMENT7",get_COLOR_ATTACHMENT6:"get_COLOR_ATTACHMENT6",get_COLOR_ATTACHMENT5:"get_COLOR_ATTACHMENT5",get_COLOR_ATTACHMENT4:"get_COLOR_ATTACHMENT4",get_COLOR_ATTACHMENT3:"get_COLOR_ATTACHMENT3",get_COLOR_ATTACHMENT2:"get_COLOR_ATTACHMENT2",get_COLOR_ATTACHMENT1:"get_COLOR_ATTACHMENT1",get_MAX_COLOR_ATTACHMENTS:"get_MAX_COLOR_ATTACHMENTS",get_DRAW_BUFFER15:"get_DRAW_BUFFER15",get_DRAW_BUFFER14:"get_DRAW_BUFFER14",get_DRAW_BUFFER13:"get_DRAW_BUFFER13",get_DRAW_BUFFER12:"get_DRAW_BUFFER12",
get_DRAW_BUFFER11:"get_DRAW_BUFFER11",get_DRAW_BUFFER10:"get_DRAW_BUFFER10",get_DRAW_BUFFER9:"get_DRAW_BUFFER9",get_DRAW_BUFFER8:"get_DRAW_BUFFER8",get_DRAW_BUFFER7:"get_DRAW_BUFFER7",get_DRAW_BUFFER6:"get_DRAW_BUFFER6",get_DRAW_BUFFER5:"get_DRAW_BUFFER5",get_DRAW_BUFFER4:"get_DRAW_BUFFER4",get_DRAW_BUFFER3:"get_DRAW_BUFFER3",get_DRAW_BUFFER2:"get_DRAW_BUFFER2",get_DRAW_BUFFER1:"get_DRAW_BUFFER1",get_DRAW_BUFFER0:"get_DRAW_BUFFER0",get_MAX_DRAW_BUFFERS:"get_MAX_DRAW_BUFFERS",get_ANY_SAMPLES_PASSED_CONSERVATIVE:"get_ANY_SAMPLES_PASSED_CONSERVATIVE",
get_ANY_SAMPLES_PASSED:"get_ANY_SAMPLES_PASSED",get_QUERY_RESULT_AVAILABLE:"get_QUERY_RESULT_AVAILABLE",get_QUERY_RESULT:"get_QUERY_RESULT",get_CURRENT_QUERY:"get_CURRENT_QUERY",get_INT_2_10_10_10_REV:"get_INT_2_10_10_10_REV",get_RG_INTEGER:"get_RG_INTEGER",get_RG:"get_RG",get_HALF_FLOAT:"get_HALF_FLOAT",get_UNSIGNED_INT_24_8:"get_UNSIGNED_INT_24_8",get_FLOAT_32_UNSIGNED_INT_24_8_REV:"get_FLOAT_32_UNSIGNED_INT_24_8_REV",get_UNSIGNED_INT_5_9_9_9_REV:"get_UNSIGNED_INT_5_9_9_9_REV",get_UNSIGNED_INT_10F_11F_11F_REV:"get_UNSIGNED_INT_10F_11F_11F_REV",
get_UNSIGNED_INT_2_10_10_10_REV:"get_UNSIGNED_INT_2_10_10_10_REV",get_TEXTURE_IMMUTABLE_LEVELS:"get_TEXTURE_IMMUTABLE_LEVELS",get_TEXTURE_IMMUTABLE_FORMAT:"get_TEXTURE_IMMUTABLE_FORMAT",get_RGB10_A2UI:"get_RGB10_A2UI",get_RGBA8_SNORM:"get_RGBA8_SNORM",get_RGB8_SNORM:"get_RGB8_SNORM",get_RG8_SNORM:"get_RG8_SNORM",get_R8_SNORM:"get_R8_SNORM",get_RG32UI:"get_RG32UI",get_RG32I:"get_RG32I",get_RG16UI:"get_RG16UI",get_RG16I:"get_RG16I",get_RG8UI:"get_RG8UI",get_RG8I:"get_RG8I",get_R32UI:"get_R32UI",get_R32I:"get_R32I",
get_R16UI:"get_R16UI",get_R16I:"get_R16I",get_R8UI:"get_R8UI",get_R8I:"get_R8I",get_RG32F:"get_RG32F",get_RG16F:"get_RG16F",get_R32F:"get_R32F",get_R16F:"get_R16F",get_RG8:"get_RG8",get_R8:"get_R8",get_RGBA_INTEGER:"get_RGBA_INTEGER",get_RGB_INTEGER:"get_RGB_INTEGER",get_RED_INTEGER:"get_RED_INTEGER",get_RGB8I:"get_RGB8I",get_RGBA8I:"get_RGBA8I",get_RGB16I:"get_RGB16I",get_RGBA16I:"get_RGBA16I",get_RGB32I:"get_RGB32I",get_RGBA32I:"get_RGBA32I",get_RGB8UI:"get_RGB8UI",get_RGBA8UI:"get_RGBA8UI",get_RGB16UI:"get_RGB16UI",
get_RGBA16UI:"get_RGBA16UI",get_RGB32UI:"get_RGB32UI",get_RGBA32UI:"get_RGBA32UI",get_RGB9_E5:"get_RGB9_E5",get_R11F_G11F_B10F:"get_R11F_G11F_B10F",get_TEXTURE_BINDING_2D_ARRAY:"get_TEXTURE_BINDING_2D_ARRAY",get_TEXTURE_2D_ARRAY:"get_TEXTURE_2D_ARRAY",get_RGB16F:"get_RGB16F",get_RGBA16F:"get_RGBA16F",get_RGB32F:"get_RGB32F",get_RGBA32F:"get_RGBA32F",get_COMPARE_REF_TO_TEXTURE:"get_COMPARE_REF_TO_TEXTURE",get_SRGB8_ALPHA8:"get_SRGB8_ALPHA8",get_SRGB8:"get_SRGB8",get_SRGB:"get_SRGB",get_TEXTURE_COMPARE_FUNC:"get_TEXTURE_COMPARE_FUNC",
get_TEXTURE_COMPARE_MODE:"get_TEXTURE_COMPARE_MODE",get_TEXTURE_MAX_LEVEL:"get_TEXTURE_MAX_LEVEL",get_TEXTURE_BASE_LEVEL:"get_TEXTURE_BASE_LEVEL",get_TEXTURE_MAX_LOD:"get_TEXTURE_MAX_LOD",get_TEXTURE_MIN_LOD:"get_TEXTURE_MIN_LOD",get_TEXTURE_WRAP_R:"get_TEXTURE_WRAP_R",get_TEXTURE_3D:"get_TEXTURE_3D",get_RGB10_A2:"get_RGB10_A2",get_RGBA8:"get_RGBA8",get_RGB8:"get_RGB8",get_RED:"get_RED",get_MAX_ELEMENT_INDEX:"get_MAX_ELEMENT_INDEX",get_MAX_SERVER_WAIT_TIMEOUT:"get_MAX_SERVER_WAIT_TIMEOUT",get_MAX_FRAGMENT_INPUT_COMPONENTS:"get_MAX_FRAGMENT_INPUT_COMPONENTS",
get_MAX_VERTEX_OUTPUT_COMPONENTS:"get_MAX_VERTEX_OUTPUT_COMPONENTS",get_VERTEX_ARRAY_BINDING:"get_VERTEX_ARRAY_BINDING",get_RASTERIZER_DISCARD:"get_RASTERIZER_DISCARD",get_FRAGMENT_SHADER_DERIVATIVE_HINT:"get_FRAGMENT_SHADER_DERIVATIVE_HINT",get_MAX_VARYING_COMPONENTS:"get_MAX_VARYING_COMPONENTS",get_MAX_PROGRAM_TEXEL_OFFSET:"get_MAX_PROGRAM_TEXEL_OFFSET",get_MIN_PROGRAM_TEXEL_OFFSET:"get_MIN_PROGRAM_TEXEL_OFFSET",get_MAX_ARRAY_TEXTURE_LAYERS:"get_MAX_ARRAY_TEXTURE_LAYERS",get_MAX_VERTEX_UNIFORM_COMPONENTS:"get_MAX_VERTEX_UNIFORM_COMPONENTS",
get_MAX_FRAGMENT_UNIFORM_COMPONENTS:"get_MAX_FRAGMENT_UNIFORM_COMPONENTS",get_MAX_TEXTURE_LOD_BIAS:"get_MAX_TEXTURE_LOD_BIAS",get_MAX_ELEMENTS_INDICES:"get_MAX_ELEMENTS_INDICES",get_MAX_ELEMENTS_VERTICES:"get_MAX_ELEMENTS_VERTICES",get_MAX_3D_TEXTURE_SIZE:"get_MAX_3D_TEXTURE_SIZE",get_UNPACK_IMAGE_HEIGHT:"get_UNPACK_IMAGE_HEIGHT",get_UNPACK_SKIP_IMAGES:"get_UNPACK_SKIP_IMAGES",get_TEXTURE_BINDING_3D:"get_TEXTURE_BINDING_3D",get_PACK_SKIP_PIXELS:"get_PACK_SKIP_PIXELS",get_PACK_SKIP_ROWS:"get_PACK_SKIP_ROWS",
get_PACK_ROW_LENGTH:"get_PACK_ROW_LENGTH",get_UNPACK_SKIP_PIXELS:"get_UNPACK_SKIP_PIXELS",get_UNPACK_SKIP_ROWS:"get_UNPACK_SKIP_ROWS",get_UNPACK_ROW_LENGTH:"get_UNPACK_ROW_LENGTH",get_READ_BUFFER:"get_READ_BUFFER",get_BROWSER_DEFAULT_WEBGL:"get_BROWSER_DEFAULT_WEBGL",get_UNPACK_COLORSPACE_CONVERSION_WEBGL:"get_UNPACK_COLORSPACE_CONVERSION_WEBGL",get_CONTEXT_LOST_WEBGL:"get_CONTEXT_LOST_WEBGL",get_UNPACK_PREMULTIPLY_ALPHA_WEBGL:"get_UNPACK_PREMULTIPLY_ALPHA_WEBGL",get_UNPACK_FLIP_Y_WEBGL:"get_UNPACK_FLIP_Y_WEBGL",
get_INVALID_FRAMEBUFFER_OPERATION:"get_INVALID_FRAMEBUFFER_OPERATION",get_MAX_RENDERBUFFER_SIZE:"get_MAX_RENDERBUFFER_SIZE",get_RENDERBUFFER_BINDING:"get_RENDERBUFFER_BINDING",get_FRAMEBUFFER_BINDING:"get_FRAMEBUFFER_BINDING",get_FRAMEBUFFER_UNSUPPORTED:"get_FRAMEBUFFER_UNSUPPORTED",get_FRAMEBUFFER_INCOMPLETE_DIMENSIONS:"get_FRAMEBUFFER_INCOMPLETE_DIMENSIONS",get_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:"get_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",get_FRAMEBUFFER_INCOMPLETE_ATTACHMENT:"get_FRAMEBUFFER_INCOMPLETE_ATTACHMENT",
get_FRAMEBUFFER_COMPLETE:"get_FRAMEBUFFER_COMPLETE",get_NONE:"get_NONE",get_DEPTH_STENCIL_ATTACHMENT:"get_DEPTH_STENCIL_ATTACHMENT",get_STENCIL_ATTACHMENT:"get_STENCIL_ATTACHMENT",get_DEPTH_ATTACHMENT:"get_DEPTH_ATTACHMENT",get_COLOR_ATTACHMENT0:"get_COLOR_ATTACHMENT0",get_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:"get_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:"get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",get_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:"get_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",
get_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:"get_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",get_RENDERBUFFER_STENCIL_SIZE:"get_RENDERBUFFER_STENCIL_SIZE",get_RENDERBUFFER_DEPTH_SIZE:"get_RENDERBUFFER_DEPTH_SIZE",get_RENDERBUFFER_ALPHA_SIZE:"get_RENDERBUFFER_ALPHA_SIZE",get_RENDERBUFFER_BLUE_SIZE:"get_RENDERBUFFER_BLUE_SIZE",get_RENDERBUFFER_GREEN_SIZE:"get_RENDERBUFFER_GREEN_SIZE",get_RENDERBUFFER_RED_SIZE:"get_RENDERBUFFER_RED_SIZE",get_RENDERBUFFER_INTERNAL_FORMAT:"get_RENDERBUFFER_INTERNAL_FORMAT",get_RENDERBUFFER_HEIGHT:"get_RENDERBUFFER_HEIGHT",
get_RENDERBUFFER_WIDTH:"get_RENDERBUFFER_WIDTH",get_DEPTH_STENCIL:"get_DEPTH_STENCIL",get_STENCIL_INDEX8:"get_STENCIL_INDEX8",get_STENCIL_INDEX:"get_STENCIL_INDEX",get_DEPTH_COMPONENT16:"get_DEPTH_COMPONENT16",get_RGB565:"get_RGB565",get_RGB5_A1:"get_RGB5_A1",get_RGBA4:"get_RGBA4",get_RENDERBUFFER:"get_RENDERBUFFER",get_FRAMEBUFFER:"get_FRAMEBUFFER",get_HIGH_INT:"get_HIGH_INT",get_MEDIUM_INT:"get_MEDIUM_INT",get_LOW_INT:"get_LOW_INT",get_HIGH_FLOAT:"get_HIGH_FLOAT",get_MEDIUM_FLOAT:"get_MEDIUM_FLOAT",
get_LOW_FLOAT:"get_LOW_FLOAT",get_COMPILE_STATUS:"get_COMPILE_STATUS",get_POINT_SPRITE:"get_POINT_SPRITE",get_VERTEX_PROGRAM_POINT_SIZE:"get_VERTEX_PROGRAM_POINT_SIZE",get_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:"get_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",get_VERTEX_ATTRIB_ARRAY_POINTER:"get_VERTEX_ATTRIB_ARRAY_POINTER",get_VERTEX_ATTRIB_ARRAY_NORMALIZED:"get_VERTEX_ATTRIB_ARRAY_NORMALIZED",get_VERTEX_ATTRIB_ARRAY_TYPE:"get_VERTEX_ATTRIB_ARRAY_TYPE",get_VERTEX_ATTRIB_ARRAY_STRIDE:"get_VERTEX_ATTRIB_ARRAY_STRIDE",
get_VERTEX_ATTRIB_ARRAY_SIZE:"get_VERTEX_ATTRIB_ARRAY_SIZE",get_VERTEX_ATTRIB_ARRAY_ENABLED:"get_VERTEX_ATTRIB_ARRAY_ENABLED",get_SAMPLER_CUBE:"get_SAMPLER_CUBE",get_SAMPLER_2D:"get_SAMPLER_2D",get_FLOAT_MAT4:"get_FLOAT_MAT4",get_FLOAT_MAT3:"get_FLOAT_MAT3",get_FLOAT_MAT2:"get_FLOAT_MAT2",get_BOOL_VEC4:"get_BOOL_VEC4",get_BOOL_VEC3:"get_BOOL_VEC3",get_BOOL_VEC2:"get_BOOL_VEC2",get_BOOL:"get_BOOL",get_INT_VEC4:"get_INT_VEC4",get_INT_VEC3:"get_INT_VEC3",get_INT_VEC2:"get_INT_VEC2",get_FLOAT_VEC4:"get_FLOAT_VEC4",
get_FLOAT_VEC3:"get_FLOAT_VEC3",get_FLOAT_VEC2:"get_FLOAT_VEC2",get_MIRRORED_REPEAT:"get_MIRRORED_REPEAT",get_CLAMP_TO_EDGE:"get_CLAMP_TO_EDGE",get_REPEAT:"get_REPEAT",get_ACTIVE_TEXTURE:"get_ACTIVE_TEXTURE",get_TEXTURE31:"get_TEXTURE31",get_TEXTURE30:"get_TEXTURE30",get_TEXTURE29:"get_TEXTURE29",get_TEXTURE28:"get_TEXTURE28",get_TEXTURE27:"get_TEXTURE27",get_TEXTURE26:"get_TEXTURE26",get_TEXTURE25:"get_TEXTURE25",get_TEXTURE24:"get_TEXTURE24",get_TEXTURE23:"get_TEXTURE23",get_TEXTURE22:"get_TEXTURE22",
get_TEXTURE21:"get_TEXTURE21",get_TEXTURE20:"get_TEXTURE20",get_TEXTURE19:"get_TEXTURE19",get_TEXTURE18:"get_TEXTURE18",get_TEXTURE17:"get_TEXTURE17",get_TEXTURE16:"get_TEXTURE16",get_TEXTURE15:"get_TEXTURE15",get_TEXTURE14:"get_TEXTURE14",get_TEXTURE13:"get_TEXTURE13",get_TEXTURE12:"get_TEXTURE12",get_TEXTURE11:"get_TEXTURE11",get_TEXTURE10:"get_TEXTURE10",get_TEXTURE9:"get_TEXTURE9",get_TEXTURE8:"get_TEXTURE8",get_TEXTURE7:"get_TEXTURE7",get_TEXTURE6:"get_TEXTURE6",get_TEXTURE5:"get_TEXTURE5",get_TEXTURE4:"get_TEXTURE4",
get_TEXTURE3:"get_TEXTURE3",get_TEXTURE2:"get_TEXTURE2",get_TEXTURE1:"get_TEXTURE1",get_TEXTURE0:"get_TEXTURE0",get_MAX_CUBE_MAP_TEXTURE_SIZE:"get_MAX_CUBE_MAP_TEXTURE_SIZE",get_TEXTURE_CUBE_MAP_NEGATIVE_Z:"get_TEXTURE_CUBE_MAP_NEGATIVE_Z",get_TEXTURE_CUBE_MAP_POSITIVE_Z:"get_TEXTURE_CUBE_MAP_POSITIVE_Z",get_TEXTURE_CUBE_MAP_NEGATIVE_Y:"get_TEXTURE_CUBE_MAP_NEGATIVE_Y",get_TEXTURE_CUBE_MAP_POSITIVE_Y:"get_TEXTURE_CUBE_MAP_POSITIVE_Y",get_TEXTURE_CUBE_MAP_NEGATIVE_X:"get_TEXTURE_CUBE_MAP_NEGATIVE_X",
get_TEXTURE_CUBE_MAP_POSITIVE_X:"get_TEXTURE_CUBE_MAP_POSITIVE_X",get_TEXTURE_BINDING_CUBE_MAP:"get_TEXTURE_BINDING_CUBE_MAP",get_TEXTURE_CUBE_MAP:"get_TEXTURE_CUBE_MAP",get_TEXTURE:"get_TEXTURE",get_TEXTURE_2D:"get_TEXTURE_2D",get_TEXTURE_WRAP_T:"get_TEXTURE_WRAP_T",get_TEXTURE_WRAP_S:"get_TEXTURE_WRAP_S",get_TEXTURE_MIN_FILTER:"get_TEXTURE_MIN_FILTER",get_TEXTURE_MAG_FILTER:"get_TEXTURE_MAG_FILTER",get_LINEAR_MIPMAP_LINEAR:"get_LINEAR_MIPMAP_LINEAR",get_NEAREST_MIPMAP_LINEAR:"get_NEAREST_MIPMAP_LINEAR",
get_LINEAR_MIPMAP_NEAREST:"get_LINEAR_MIPMAP_NEAREST",get_NEAREST_MIPMAP_NEAREST:"get_NEAREST_MIPMAP_NEAREST",get_LINEAR:"get_LINEAR",get_NEAREST:"get_NEAREST",get_VERSION:"get_VERSION",get_RENDERER:"get_RENDERER",get_VENDOR:"get_VENDOR",get_DECR_WRAP:"get_DECR_WRAP",get_INCR_WRAP:"get_INCR_WRAP",get_INVERT:"get_INVERT",get_DECR:"get_DECR",get_INCR:"get_INCR",get_REPLACE:"get_REPLACE",get_KEEP:"get_KEEP",get_ALWAYS:"get_ALWAYS",get_GEQUAL:"get_GEQUAL",get_NOTEQUAL:"get_NOTEQUAL",get_GREATER:"get_GREATER",
get_LEQUAL:"get_LEQUAL",get_EQUAL:"get_EQUAL",get_LESS:"get_LESS",get_NEVER:"get_NEVER",get_CURRENT_PROGRAM:"get_CURRENT_PROGRAM",get_SHADING_LANGUAGE_VERSION:"get_SHADING_LANGUAGE_VERSION",get_ACTIVE_ATTRIBUTES:"get_ACTIVE_ATTRIBUTES",get_ACTIVE_UNIFORMS:"get_ACTIVE_UNIFORMS",get_ATTACHED_SHADERS:"get_ATTACHED_SHADERS",get_VALIDATE_STATUS:"get_VALIDATE_STATUS",get_LINK_STATUS:"get_LINK_STATUS",get_DELETE_STATUS:"get_DELETE_STATUS",get_SHADER_TYPE:"get_SHADER_TYPE",get_MAX_FRAGMENT_UNIFORM_VECTORS:"get_MAX_FRAGMENT_UNIFORM_VECTORS",
get_MAX_TEXTURE_IMAGE_UNITS:"get_MAX_TEXTURE_IMAGE_UNITS",get_MAX_VERTEX_TEXTURE_IMAGE_UNITS:"get_MAX_VERTEX_TEXTURE_IMAGE_UNITS",get_MAX_COMBINED_TEXTURE_IMAGE_UNITS:"get_MAX_COMBINED_TEXTURE_IMAGE_UNITS",get_MAX_VARYING_VECTORS:"get_MAX_VARYING_VECTORS",get_MAX_VERTEX_UNIFORM_VECTORS:"get_MAX_VERTEX_UNIFORM_VECTORS",get_MAX_VERTEX_ATTRIBS:"get_MAX_VERTEX_ATTRIBS",get_VERTEX_SHADER:"get_VERTEX_SHADER",get_FRAGMENT_SHADER:"get_FRAGMENT_SHADER",get_UNSIGNED_SHORT_5_6_5:"get_UNSIGNED_SHORT_5_6_5",get_UNSIGNED_SHORT_5_5_5_1:"get_UNSIGNED_SHORT_5_5_5_1",
get_UNSIGNED_SHORT_4_4_4_4:"get_UNSIGNED_SHORT_4_4_4_4",get_LUMINANCE_ALPHA:"get_LUMINANCE_ALPHA",get_LUMINANCE:"get_LUMINANCE",get_RGBA:"get_RGBA",get_RGB:"get_RGB",get_ALPHA:"get_ALPHA",get_DEPTH_COMPONENT:"get_DEPTH_COMPONENT",get_FLOAT:"get_FLOAT",get_UNSIGNED_INT:"get_UNSIGNED_INT",get_INT:"get_INT",get_UNSIGNED_SHORT:"get_UNSIGNED_SHORT",get_SHORT:"get_SHORT",get_UNSIGNED_BYTE:"get_UNSIGNED_BYTE",get_BYTE:"get_BYTE",get_GENERATE_MIPMAP_HINT:"get_GENERATE_MIPMAP_HINT",get_NICEST:"get_NICEST",
get_FASTEST:"get_FASTEST",get_DONT_CARE:"get_DONT_CARE",get_COMPRESSED_TEXTURE_FORMATS:"get_COMPRESSED_TEXTURE_FORMATS",get_SAMPLE_COVERAGE_INVERT:"get_SAMPLE_COVERAGE_INVERT",get_SAMPLE_COVERAGE_VALUE:"get_SAMPLE_COVERAGE_VALUE",get_SAMPLES:"get_SAMPLES",get_SAMPLE_BUFFERS:"get_SAMPLE_BUFFERS",get_TEXTURE_BINDING_2D:"get_TEXTURE_BINDING_2D",get_POLYGON_OFFSET_FACTOR:"get_POLYGON_OFFSET_FACTOR",get_POLYGON_OFFSET_UNITS:"get_POLYGON_OFFSET_UNITS",get_STENCIL_BITS:"get_STENCIL_BITS",get_DEPTH_BITS:"get_DEPTH_BITS",
get_ALPHA_BITS:"get_ALPHA_BITS",get_BLUE_BITS:"get_BLUE_BITS",get_GREEN_BITS:"get_GREEN_BITS",get_RED_BITS:"get_RED_BITS",get_SUBPIXEL_BITS:"get_SUBPIXEL_BITS",get_MAX_VIEWPORT_DIMS:"get_MAX_VIEWPORT_DIMS",get_MAX_TEXTURE_SIZE:"get_MAX_TEXTURE_SIZE",get_PACK_ALIGNMENT:"get_PACK_ALIGNMENT",get_UNPACK_ALIGNMENT:"get_UNPACK_ALIGNMENT",get_COLOR_WRITEMASK:"get_COLOR_WRITEMASK",get_COLOR_CLEAR_VALUE:"get_COLOR_CLEAR_VALUE",get_SCISSOR_BOX:"get_SCISSOR_BOX",get_VIEWPORT:"get_VIEWPORT",get_STENCIL_BACK_WRITEMASK:"get_STENCIL_BACK_WRITEMASK",
get_STENCIL_BACK_VALUE_MASK:"get_STENCIL_BACK_VALUE_MASK",get_STENCIL_BACK_REF:"get_STENCIL_BACK_REF",get_STENCIL_BACK_PASS_DEPTH_PASS:"get_STENCIL_BACK_PASS_DEPTH_PASS",get_STENCIL_BACK_PASS_DEPTH_FAIL:"get_STENCIL_BACK_PASS_DEPTH_FAIL",get_STENCIL_BACK_FAIL:"get_STENCIL_BACK_FAIL",get_STENCIL_BACK_FUNC:"get_STENCIL_BACK_FUNC",get_STENCIL_WRITEMASK:"get_STENCIL_WRITEMASK",get_STENCIL_VALUE_MASK:"get_STENCIL_VALUE_MASK",get_STENCIL_REF:"get_STENCIL_REF",get_STENCIL_PASS_DEPTH_PASS:"get_STENCIL_PASS_DEPTH_PASS",
get_STENCIL_PASS_DEPTH_FAIL:"get_STENCIL_PASS_DEPTH_FAIL",get_STENCIL_FAIL:"get_STENCIL_FAIL",get_STENCIL_FUNC:"get_STENCIL_FUNC",get_STENCIL_CLEAR_VALUE:"get_STENCIL_CLEAR_VALUE",get_DEPTH_FUNC:"get_DEPTH_FUNC",get_DEPTH_CLEAR_VALUE:"get_DEPTH_CLEAR_VALUE",get_DEPTH_WRITEMASK:"get_DEPTH_WRITEMASK",get_DEPTH_RANGE:"get_DEPTH_RANGE",get_FRONT_FACE:"get_FRONT_FACE",get_CULL_FACE_MODE:"get_CULL_FACE_MODE",get_ALIASED_LINE_WIDTH_RANGE:"get_ALIASED_LINE_WIDTH_RANGE",get_ALIASED_POINT_SIZE_RANGE:"get_ALIASED_POINT_SIZE_RANGE",
get_LINE_WIDTH:"get_LINE_WIDTH",get_CCW:"get_CCW",get_CW:"get_CW",get_OUT_OF_MEMORY:"get_OUT_OF_MEMORY",get_INVALID_OPERATION:"get_INVALID_OPERATION",get_INVALID_VALUE:"get_INVALID_VALUE",get_INVALID_ENUM:"get_INVALID_ENUM",get_NO_ERROR:"get_NO_ERROR",get_SAMPLE_COVERAGE:"get_SAMPLE_COVERAGE",get_SAMPLE_ALPHA_TO_COVERAGE:"get_SAMPLE_ALPHA_TO_COVERAGE",get_POLYGON_OFFSET_FILL:"get_POLYGON_OFFSET_FILL",get_SCISSOR_TEST:"get_SCISSOR_TEST",get_DEPTH_TEST:"get_DEPTH_TEST",get_STENCIL_TEST:"get_STENCIL_TEST",
get_DITHER:"get_DITHER",get_BLEND:"get_BLEND",get_CULL_FACE:"get_CULL_FACE",get_FRONT_AND_BACK:"get_FRONT_AND_BACK",get_BACK:"get_BACK",get_FRONT:"get_FRONT",get_CURRENT_VERTEX_ATTRIB:"get_CURRENT_VERTEX_ATTRIB",get_BUFFER_USAGE:"get_BUFFER_USAGE",get_BUFFER_SIZE:"get_BUFFER_SIZE",get_DYNAMIC_DRAW:"get_DYNAMIC_DRAW",get_STATIC_DRAW:"get_STATIC_DRAW",get_STREAM_DRAW:"get_STREAM_DRAW",get_ELEMENT_ARRAY_BUFFER_BINDING:"get_ELEMENT_ARRAY_BUFFER_BINDING",get_ARRAY_BUFFER_BINDING:"get_ARRAY_BUFFER_BINDING",
get_ELEMENT_ARRAY_BUFFER:"get_ELEMENT_ARRAY_BUFFER",get_ARRAY_BUFFER:"get_ARRAY_BUFFER",get_BLEND_COLOR:"get_BLEND_COLOR",get_ONE_MINUS_CONSTANT_ALPHA:"get_ONE_MINUS_CONSTANT_ALPHA",get_CONSTANT_ALPHA:"get_CONSTANT_ALPHA",get_ONE_MINUS_CONSTANT_COLOR:"get_ONE_MINUS_CONSTANT_COLOR",get_CONSTANT_COLOR:"get_CONSTANT_COLOR",get_BLEND_SRC_ALPHA:"get_BLEND_SRC_ALPHA",get_BLEND_DST_ALPHA:"get_BLEND_DST_ALPHA",get_BLEND_SRC_RGB:"get_BLEND_SRC_RGB",get_BLEND_DST_RGB:"get_BLEND_DST_RGB",get_FUNC_REVERSE_SUBTRACT:"get_FUNC_REVERSE_SUBTRACT",
get_FUNC_SUBTRACT:"get_FUNC_SUBTRACT",get_BLEND_EQUATION_ALPHA:"get_BLEND_EQUATION_ALPHA",get_BLEND_EQUATION_RGB:"get_BLEND_EQUATION_RGB",get_BLEND_EQUATION:"get_BLEND_EQUATION",get_FUNC_ADD:"get_FUNC_ADD",get_SRC_ALPHA_SATURATE:"get_SRC_ALPHA_SATURATE",get_ONE_MINUS_DST_COLOR:"get_ONE_MINUS_DST_COLOR",get_DST_COLOR:"get_DST_COLOR",get_ONE_MINUS_DST_ALPHA:"get_ONE_MINUS_DST_ALPHA",get_DST_ALPHA:"get_DST_ALPHA",get_ONE_MINUS_SRC_ALPHA:"get_ONE_MINUS_SRC_ALPHA",get_SRC_ALPHA:"get_SRC_ALPHA",get_ONE_MINUS_SRC_COLOR:"get_ONE_MINUS_SRC_COLOR",
get_SRC_COLOR:"get_SRC_COLOR",get_ONE:"get_ONE",get_ZERO:"get_ZERO",get_TRIANGLE_FAN:"get_TRIANGLE_FAN",get_TRIANGLE_STRIP:"get_TRIANGLE_STRIP",get_TRIANGLES:"get_TRIANGLES",get_LINE_STRIP:"get_LINE_STRIP",get_LINE_LOOP:"get_LINE_LOOP",get_LINES:"get_LINES",get_POINTS:"get_POINTS",get_COLOR_BUFFER_BIT:"get_COLOR_BUFFER_BIT",get_STENCIL_BUFFER_BIT:"get_STENCIL_BUFFER_BIT",get_DEPTH_BUFFER_BIT:"get_DEPTH_BUFFER_BIT",get_EXTENSIONS:"get_EXTENSIONS"};r.get_EXTENSIONS=function(a){return 7939};r.get_DEPTH_BUFFER_BIT=
function(a){return a.DEPTH_BUFFER_BIT};r.get_STENCIL_BUFFER_BIT=function(a){return a.STENCIL_BUFFER_BIT};r.get_COLOR_BUFFER_BIT=function(a){return a.COLOR_BUFFER_BIT};r.get_POINTS=function(a){return a.POINTS};r.get_LINES=function(a){return a.LINES};r.get_LINE_LOOP=function(a){return a.LINE_LOOP};r.get_LINE_STRIP=function(a){return a.LINE_STRIP};r.get_TRIANGLES=function(a){return a.TRIANGLES};r.get_TRIANGLE_STRIP=function(a){return a.TRIANGLE_STRIP};r.get_TRIANGLE_FAN=function(a){return a.TRIANGLE_FAN};
r.get_ZERO=function(a){return a.ZERO};r.get_ONE=function(a){return a.ONE};r.get_SRC_COLOR=function(a){return a.SRC_COLOR};r.get_ONE_MINUS_SRC_COLOR=function(a){return a.ONE_MINUS_SRC_COLOR};r.get_SRC_ALPHA=function(a){return a.SRC_ALPHA};r.get_ONE_MINUS_SRC_ALPHA=function(a){return a.ONE_MINUS_SRC_ALPHA};r.get_DST_ALPHA=function(a){return a.DST_ALPHA};r.get_ONE_MINUS_DST_ALPHA=function(a){return a.ONE_MINUS_DST_ALPHA};r.get_DST_COLOR=function(a){return a.DST_COLOR};r.get_ONE_MINUS_DST_COLOR=function(a){return a.ONE_MINUS_DST_COLOR};
r.get_SRC_ALPHA_SATURATE=function(a){return a.SRC_ALPHA_SATURATE};r.get_FUNC_ADD=function(a){return a.FUNC_ADD};r.get_BLEND_EQUATION=function(a){return a.BLEND_EQUATION};r.get_BLEND_EQUATION_RGB=function(a){return a.BLEND_EQUATION_RGB};r.get_BLEND_EQUATION_ALPHA=function(a){return a.BLEND_EQUATION_ALPHA};r.get_FUNC_SUBTRACT=function(a){return a.FUNC_SUBTRACT};r.get_FUNC_REVERSE_SUBTRACT=function(a){return a.FUNC_REVERSE_SUBTRACT};r.get_BLEND_DST_RGB=function(a){return a.BLEND_DST_RGB};r.get_BLEND_SRC_RGB=
function(a){return a.BLEND_SRC_RGB};r.get_BLEND_DST_ALPHA=function(a){return a.BLEND_DST_ALPHA};r.get_BLEND_SRC_ALPHA=function(a){return a.BLEND_SRC_ALPHA};r.get_CONSTANT_COLOR=function(a){return a.CONSTANT_COLOR};r.get_ONE_MINUS_CONSTANT_COLOR=function(a){return a.ONE_MINUS_CONSTANT_COLOR};r.get_CONSTANT_ALPHA=function(a){return a.CONSTANT_ALPHA};r.get_ONE_MINUS_CONSTANT_ALPHA=function(a){return a.ONE_MINUS_CONSTANT_ALPHA};r.get_BLEND_COLOR=function(a){return a.BLEND_COLOR};r.get_ARRAY_BUFFER=function(a){return a.ARRAY_BUFFER};
r.get_ELEMENT_ARRAY_BUFFER=function(a){return a.ELEMENT_ARRAY_BUFFER};r.get_ARRAY_BUFFER_BINDING=function(a){return a.ARRAY_BUFFER_BINDING};r.get_ELEMENT_ARRAY_BUFFER_BINDING=function(a){return a.ELEMENT_ARRAY_BUFFER_BINDING};r.get_STREAM_DRAW=function(a){return a.STREAM_DRAW};r.get_STATIC_DRAW=function(a){return a.STATIC_DRAW};r.get_DYNAMIC_DRAW=function(a){return a.DYNAMIC_DRAW};r.get_BUFFER_SIZE=function(a){return a.BUFFER_SIZE};r.get_BUFFER_USAGE=function(a){return a.BUFFER_USAGE};r.get_CURRENT_VERTEX_ATTRIB=
function(a){return a.CURRENT_VERTEX_ATTRIB};r.get_FRONT=function(a){return a.FRONT};r.get_BACK=function(a){return a.BACK};r.get_FRONT_AND_BACK=function(a){return a.FRONT_AND_BACK};r.get_CULL_FACE=function(a){return a.CULL_FACE};r.get_BLEND=function(a){return a.BLEND};r.get_DITHER=function(a){return a.DITHER};r.get_STENCIL_TEST=function(a){return a.STENCIL_TEST};r.get_DEPTH_TEST=function(a){return a.DEPTH_TEST};r.get_SCISSOR_TEST=function(a){return a.SCISSOR_TEST};r.get_POLYGON_OFFSET_FILL=function(a){return a.POLYGON_OFFSET_FILL};
r.get_SAMPLE_ALPHA_TO_COVERAGE=function(a){return a.SAMPLE_ALPHA_TO_COVERAGE};r.get_SAMPLE_COVERAGE=function(a){return a.SAMPLE_COVERAGE};r.get_NO_ERROR=function(a){return a.NO_ERROR};r.get_INVALID_ENUM=function(a){return a.INVALID_ENUM};r.get_INVALID_VALUE=function(a){return a.INVALID_VALUE};r.get_INVALID_OPERATION=function(a){return a.INVALID_OPERATION};r.get_OUT_OF_MEMORY=function(a){return a.OUT_OF_MEMORY};r.get_CW=function(a){return a.CW};r.get_CCW=function(a){return a.CCW};r.get_LINE_WIDTH=
function(a){return a.LINE_WIDTH};r.get_ALIASED_POINT_SIZE_RANGE=function(a){return a.ALIASED_POINT_SIZE_RANGE};r.get_ALIASED_LINE_WIDTH_RANGE=function(a){return a.ALIASED_LINE_WIDTH_RANGE};r.get_CULL_FACE_MODE=function(a){return a.CULL_FACE_MODE};r.get_FRONT_FACE=function(a){return a.FRONT_FACE};r.get_DEPTH_RANGE=function(a){return a.DEPTH_RANGE};r.get_DEPTH_WRITEMASK=function(a){return a.DEPTH_WRITEMASK};r.get_DEPTH_CLEAR_VALUE=function(a){return a.DEPTH_CLEAR_VALUE};r.get_DEPTH_FUNC=function(a){return a.DEPTH_FUNC};
r.get_STENCIL_CLEAR_VALUE=function(a){return a.STENCIL_CLEAR_VALUE};r.get_STENCIL_FUNC=function(a){return a.STENCIL_FUNC};r.get_STENCIL_FAIL=function(a){return a.STENCIL_FAIL};r.get_STENCIL_PASS_DEPTH_FAIL=function(a){return a.STENCIL_PASS_DEPTH_FAIL};r.get_STENCIL_PASS_DEPTH_PASS=function(a){return a.STENCIL_PASS_DEPTH_PASS};r.get_STENCIL_REF=function(a){return a.STENCIL_REF};r.get_STENCIL_VALUE_MASK=function(a){return a.STENCIL_VALUE_MASK};r.get_STENCIL_WRITEMASK=function(a){return a.STENCIL_WRITEMASK};
r.get_STENCIL_BACK_FUNC=function(a){return a.STENCIL_BACK_FUNC};r.get_STENCIL_BACK_FAIL=function(a){return a.STENCIL_BACK_FAIL};r.get_STENCIL_BACK_PASS_DEPTH_FAIL=function(a){return a.STENCIL_BACK_PASS_DEPTH_FAIL};r.get_STENCIL_BACK_PASS_DEPTH_PASS=function(a){return a.STENCIL_BACK_PASS_DEPTH_PASS};r.get_STENCIL_BACK_REF=function(a){return a.STENCIL_BACK_REF};r.get_STENCIL_BACK_VALUE_MASK=function(a){return a.STENCIL_BACK_VALUE_MASK};r.get_STENCIL_BACK_WRITEMASK=function(a){return a.STENCIL_BACK_WRITEMASK};
r.get_VIEWPORT=function(a){return a.VIEWPORT};r.get_SCISSOR_BOX=function(a){return a.SCISSOR_BOX};r.get_COLOR_CLEAR_VALUE=function(a){return a.COLOR_CLEAR_VALUE};r.get_COLOR_WRITEMASK=function(a){return a.COLOR_WRITEMASK};r.get_UNPACK_ALIGNMENT=function(a){return a.UNPACK_ALIGNMENT};r.get_PACK_ALIGNMENT=function(a){return a.PACK_ALIGNMENT};r.get_MAX_TEXTURE_SIZE=function(a){return a.MAX_TEXTURE_SIZE};r.get_MAX_VIEWPORT_DIMS=function(a){return a.MAX_VIEWPORT_DIMS};r.get_SUBPIXEL_BITS=function(a){return a.SUBPIXEL_BITS};
r.get_RED_BITS=function(a){return a.RED_BITS};r.get_GREEN_BITS=function(a){return a.GREEN_BITS};r.get_BLUE_BITS=function(a){return a.BLUE_BITS};r.get_ALPHA_BITS=function(a){return a.ALPHA_BITS};r.get_DEPTH_BITS=function(a){return a.DEPTH_BITS};r.get_STENCIL_BITS=function(a){return a.STENCIL_BITS};r.get_POLYGON_OFFSET_UNITS=function(a){return a.POLYGON_OFFSET_UNITS};r.get_POLYGON_OFFSET_FACTOR=function(a){return a.POLYGON_OFFSET_FACTOR};r.get_TEXTURE_BINDING_2D=function(a){return a.TEXTURE_BINDING_2D};
r.get_SAMPLE_BUFFERS=function(a){return a.SAMPLE_BUFFERS};r.get_SAMPLES=function(a){return a.SAMPLES};r.get_SAMPLE_COVERAGE_VALUE=function(a){return a.SAMPLE_COVERAGE_VALUE};r.get_SAMPLE_COVERAGE_INVERT=function(a){return a.SAMPLE_COVERAGE_INVERT};r.get_COMPRESSED_TEXTURE_FORMATS=function(a){return a.COMPRESSED_TEXTURE_FORMATS};r.get_DONT_CARE=function(a){return a.DONT_CARE};r.get_FASTEST=function(a){return a.FASTEST};r.get_NICEST=function(a){return a.NICEST};r.get_GENERATE_MIPMAP_HINT=function(a){return a.GENERATE_MIPMAP_HINT};
r.get_BYTE=function(a){return a.BYTE};r.get_UNSIGNED_BYTE=function(a){return a.UNSIGNED_BYTE};r.get_SHORT=function(a){return a.SHORT};r.get_UNSIGNED_SHORT=function(a){return a.UNSIGNED_SHORT};r.get_INT=function(a){return a.INT};r.get_UNSIGNED_INT=function(a){return a.UNSIGNED_INT};r.get_FLOAT=function(a){return a.FLOAT};r.get_DEPTH_COMPONENT=function(a){return a.DEPTH_COMPONENT};r.get_ALPHA=function(a){return a.ALPHA};r.get_RGB=function(a){return a.RGB};r.get_RGBA=function(a){return a.RGBA};r.get_LUMINANCE=
function(a){return a.LUMINANCE};r.get_LUMINANCE_ALPHA=function(a){return a.LUMINANCE_ALPHA};r.get_UNSIGNED_SHORT_4_4_4_4=function(a){return a.UNSIGNED_SHORT_4_4_4_4};r.get_UNSIGNED_SHORT_5_5_5_1=function(a){return a.UNSIGNED_SHORT_5_5_5_1};r.get_UNSIGNED_SHORT_5_6_5=function(a){return a.UNSIGNED_SHORT_5_6_5};r.get_FRAGMENT_SHADER=function(a){return a.FRAGMENT_SHADER};r.get_VERTEX_SHADER=function(a){return a.VERTEX_SHADER};r.get_MAX_VERTEX_ATTRIBS=function(a){return a.MAX_VERTEX_ATTRIBS};r.get_MAX_VERTEX_UNIFORM_VECTORS=
function(a){return a.MAX_VERTEX_UNIFORM_VECTORS};r.get_MAX_VARYING_VECTORS=function(a){return a.MAX_VARYING_VECTORS};r.get_MAX_COMBINED_TEXTURE_IMAGE_UNITS=function(a){return a.MAX_COMBINED_TEXTURE_IMAGE_UNITS};r.get_MAX_VERTEX_TEXTURE_IMAGE_UNITS=function(a){return a.MAX_VERTEX_TEXTURE_IMAGE_UNITS};r.get_MAX_TEXTURE_IMAGE_UNITS=function(a){return a.MAX_TEXTURE_IMAGE_UNITS};r.get_MAX_FRAGMENT_UNIFORM_VECTORS=function(a){return a.MAX_FRAGMENT_UNIFORM_VECTORS};r.get_SHADER_TYPE=function(a){return a.SHADER_TYPE};
r.get_DELETE_STATUS=function(a){return a.DELETE_STATUS};r.get_LINK_STATUS=function(a){return a.LINK_STATUS};r.get_VALIDATE_STATUS=function(a){return a.VALIDATE_STATUS};r.get_ATTACHED_SHADERS=function(a){return a.ATTACHED_SHADERS};r.get_ACTIVE_UNIFORMS=function(a){return a.ACTIVE_UNIFORMS};r.get_ACTIVE_ATTRIBUTES=function(a){return a.ACTIVE_ATTRIBUTES};r.get_SHADING_LANGUAGE_VERSION=function(a){return a.SHADING_LANGUAGE_VERSION};r.get_CURRENT_PROGRAM=function(a){return a.CURRENT_PROGRAM};r.get_NEVER=
function(a){return a.NEVER};r.get_LESS=function(a){return a.LESS};r.get_EQUAL=function(a){return a.EQUAL};r.get_LEQUAL=function(a){return a.LEQUAL};r.get_GREATER=function(a){return a.GREATER};r.get_NOTEQUAL=function(a){return a.NOTEQUAL};r.get_GEQUAL=function(a){return a.GEQUAL};r.get_ALWAYS=function(a){return a.ALWAYS};r.get_KEEP=function(a){return a.KEEP};r.get_REPLACE=function(a){return a.REPLACE};r.get_INCR=function(a){return a.INCR};r.get_DECR=function(a){return a.DECR};r.get_INVERT=function(a){return a.INVERT};
r.get_INCR_WRAP=function(a){return a.INCR_WRAP};r.get_DECR_WRAP=function(a){return a.DECR_WRAP};r.get_VENDOR=function(a){return a.VENDOR};r.get_RENDERER=function(a){return a.RENDERER};r.get_VERSION=function(a){return a.VERSION};r.get_NEAREST=function(a){return a.NEAREST};r.get_LINEAR=function(a){return a.LINEAR};r.get_NEAREST_MIPMAP_NEAREST=function(a){return a.NEAREST_MIPMAP_NEAREST};r.get_LINEAR_MIPMAP_NEAREST=function(a){return a.LINEAR_MIPMAP_NEAREST};r.get_NEAREST_MIPMAP_LINEAR=function(a){return a.NEAREST_MIPMAP_LINEAR};
r.get_LINEAR_MIPMAP_LINEAR=function(a){return a.LINEAR_MIPMAP_LINEAR};r.get_TEXTURE_MAG_FILTER=function(a){return a.TEXTURE_MAG_FILTER};r.get_TEXTURE_MIN_FILTER=function(a){return a.TEXTURE_MIN_FILTER};r.get_TEXTURE_WRAP_S=function(a){return a.TEXTURE_WRAP_S};r.get_TEXTURE_WRAP_T=function(a){return a.TEXTURE_WRAP_T};r.get_TEXTURE_2D=function(a){return a.TEXTURE_2D};r.get_TEXTURE=function(a){return a.TEXTURE};r.get_TEXTURE_CUBE_MAP=function(a){return a.TEXTURE_CUBE_MAP};r.get_TEXTURE_BINDING_CUBE_MAP=
function(a){return a.TEXTURE_BINDING_CUBE_MAP};r.get_TEXTURE_CUBE_MAP_POSITIVE_X=function(a){return a.TEXTURE_CUBE_MAP_POSITIVE_X};r.get_TEXTURE_CUBE_MAP_NEGATIVE_X=function(a){return a.TEXTURE_CUBE_MAP_NEGATIVE_X};r.get_TEXTURE_CUBE_MAP_POSITIVE_Y=function(a){return a.TEXTURE_CUBE_MAP_POSITIVE_Y};r.get_TEXTURE_CUBE_MAP_NEGATIVE_Y=function(a){return a.TEXTURE_CUBE_MAP_NEGATIVE_Y};r.get_TEXTURE_CUBE_MAP_POSITIVE_Z=function(a){return a.TEXTURE_CUBE_MAP_POSITIVE_Z};r.get_TEXTURE_CUBE_MAP_NEGATIVE_Z=
function(a){return a.TEXTURE_CUBE_MAP_NEGATIVE_Z};r.get_MAX_CUBE_MAP_TEXTURE_SIZE=function(a){return a.MAX_CUBE_MAP_TEXTURE_SIZE};r.get_TEXTURE0=function(a){return a.TEXTURE0};r.get_TEXTURE1=function(a){return a.TEXTURE1};r.get_TEXTURE2=function(a){return a.TEXTURE2};r.get_TEXTURE3=function(a){return a.TEXTURE3};r.get_TEXTURE4=function(a){return a.TEXTURE4};r.get_TEXTURE5=function(a){return a.TEXTURE5};r.get_TEXTURE6=function(a){return a.TEXTURE6};r.get_TEXTURE7=function(a){return a.TEXTURE7};r.get_TEXTURE8=
function(a){return a.TEXTURE8};r.get_TEXTURE9=function(a){return a.TEXTURE9};r.get_TEXTURE10=function(a){return a.TEXTURE10};r.get_TEXTURE11=function(a){return a.TEXTURE11};r.get_TEXTURE12=function(a){return a.TEXTURE12};r.get_TEXTURE13=function(a){return a.TEXTURE13};r.get_TEXTURE14=function(a){return a.TEXTURE14};r.get_TEXTURE15=function(a){return a.TEXTURE15};r.get_TEXTURE16=function(a){return a.TEXTURE16};r.get_TEXTURE17=function(a){return a.TEXTURE17};r.get_TEXTURE18=function(a){return a.TEXTURE18};
r.get_TEXTURE19=function(a){return a.TEXTURE19};r.get_TEXTURE20=function(a){return a.TEXTURE20};r.get_TEXTURE21=function(a){return a.TEXTURE21};r.get_TEXTURE22=function(a){return a.TEXTURE22};r.get_TEXTURE23=function(a){return a.TEXTURE23};r.get_TEXTURE24=function(a){return a.TEXTURE24};r.get_TEXTURE25=function(a){return a.TEXTURE25};r.get_TEXTURE26=function(a){return a.TEXTURE26};r.get_TEXTURE27=function(a){return a.TEXTURE27};r.get_TEXTURE28=function(a){return a.TEXTURE28};r.get_TEXTURE29=function(a){return a.TEXTURE29};
r.get_TEXTURE30=function(a){return a.TEXTURE30};r.get_TEXTURE31=function(a){return a.TEXTURE31};r.get_ACTIVE_TEXTURE=function(a){return a.ACTIVE_TEXTURE};r.get_REPEAT=function(a){return a.REPEAT};r.get_CLAMP_TO_EDGE=function(a){return a.CLAMP_TO_EDGE};r.get_MIRRORED_REPEAT=function(a){return a.MIRRORED_REPEAT};r.get_FLOAT_VEC2=function(a){return a.FLOAT_VEC2};r.get_FLOAT_VEC3=function(a){return a.FLOAT_VEC3};r.get_FLOAT_VEC4=function(a){return a.FLOAT_VEC4};r.get_INT_VEC2=function(a){return a.INT_VEC2};
r.get_INT_VEC3=function(a){return a.INT_VEC3};r.get_INT_VEC4=function(a){return a.INT_VEC4};r.get_BOOL=function(a){return a.BOOL};r.get_BOOL_VEC2=function(a){return a.BOOL_VEC2};r.get_BOOL_VEC3=function(a){return a.BOOL_VEC3};r.get_BOOL_VEC4=function(a){return a.BOOL_VEC4};r.get_FLOAT_MAT2=function(a){return a.FLOAT_MAT2};r.get_FLOAT_MAT3=function(a){return a.FLOAT_MAT3};r.get_FLOAT_MAT4=function(a){return a.FLOAT_MAT4};r.get_SAMPLER_2D=function(a){return a.SAMPLER_2D};r.get_SAMPLER_CUBE=function(a){return a.SAMPLER_CUBE};
r.get_VERTEX_ATTRIB_ARRAY_ENABLED=function(a){return a.VERTEX_ATTRIB_ARRAY_ENABLED};r.get_VERTEX_ATTRIB_ARRAY_SIZE=function(a){return a.VERTEX_ATTRIB_ARRAY_SIZE};r.get_VERTEX_ATTRIB_ARRAY_STRIDE=function(a){return a.VERTEX_ATTRIB_ARRAY_STRIDE};r.get_VERTEX_ATTRIB_ARRAY_TYPE=function(a){return a.VERTEX_ATTRIB_ARRAY_TYPE};r.get_VERTEX_ATTRIB_ARRAY_NORMALIZED=function(a){return a.VERTEX_ATTRIB_ARRAY_NORMALIZED};r.get_VERTEX_ATTRIB_ARRAY_POINTER=function(a){return a.VERTEX_ATTRIB_ARRAY_POINTER};r.get_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=
function(a){return a.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING};r.get_VERTEX_PROGRAM_POINT_SIZE=function(a){return 0};r.get_POINT_SPRITE=function(a){return 0};r.get_COMPILE_STATUS=function(a){return a.COMPILE_STATUS};r.get_LOW_FLOAT=function(a){return a.LOW_FLOAT};r.get_MEDIUM_FLOAT=function(a){return a.MEDIUM_FLOAT};r.get_HIGH_FLOAT=function(a){return a.HIGH_FLOAT};r.get_LOW_INT=function(a){return a.LOW_INT};r.get_MEDIUM_INT=function(a){return a.MEDIUM_INT};r.get_HIGH_INT=function(a){return a.HIGH_INT};
r.get_FRAMEBUFFER=function(a){return a.FRAMEBUFFER};r.get_RENDERBUFFER=function(a){return a.RENDERBUFFER};r.get_RGBA4=function(a){return a.RGBA4};r.get_RGB5_A1=function(a){return a.RGB5_A1};r.get_RGB565=function(a){return a.RGB565};r.get_DEPTH_COMPONENT16=function(a){return a.DEPTH_COMPONENT16};r.get_STENCIL_INDEX=function(a){return a.STENCIL_INDEX};r.get_STENCIL_INDEX8=function(a){return a.STENCIL_INDEX8};r.get_DEPTH_STENCIL=function(a){return a.DEPTH_STENCIL};r.get_RENDERBUFFER_WIDTH=function(a){return a.RENDERBUFFER_WIDTH};
r.get_RENDERBUFFER_HEIGHT=function(a){return a.RENDERBUFFER_HEIGHT};r.get_RENDERBUFFER_INTERNAL_FORMAT=function(a){return a.RENDERBUFFER_INTERNAL_FORMAT};r.get_RENDERBUFFER_RED_SIZE=function(a){return a.RENDERBUFFER_RED_SIZE};r.get_RENDERBUFFER_GREEN_SIZE=function(a){return a.RENDERBUFFER_GREEN_SIZE};r.get_RENDERBUFFER_BLUE_SIZE=function(a){return a.RENDERBUFFER_BLUE_SIZE};r.get_RENDERBUFFER_ALPHA_SIZE=function(a){return a.RENDERBUFFER_ALPHA_SIZE};r.get_RENDERBUFFER_DEPTH_SIZE=function(a){return a.RENDERBUFFER_DEPTH_SIZE};
r.get_RENDERBUFFER_STENCIL_SIZE=function(a){return a.RENDERBUFFER_STENCIL_SIZE};r.get_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=function(a){return a.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE};r.get_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=function(a){return a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME};r.get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=function(a){return a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL};r.get_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=function(a){return a.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE};r.get_COLOR_ATTACHMENT0=
function(a){return a.COLOR_ATTACHMENT0};r.get_DEPTH_ATTACHMENT=function(a){return a.DEPTH_ATTACHMENT};r.get_STENCIL_ATTACHMENT=function(a){return a.STENCIL_ATTACHMENT};r.get_DEPTH_STENCIL_ATTACHMENT=function(a){return a.DEPTH_STENCIL_ATTACHMENT};r.get_NONE=function(a){return a.NONE};r.get_FRAMEBUFFER_COMPLETE=function(a){return a.FRAMEBUFFER_COMPLETE};r.get_FRAMEBUFFER_INCOMPLETE_ATTACHMENT=function(a){return a.FRAMEBUFFER_INCOMPLETE_ATTACHMENT};r.get_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=function(a){return a.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT};
r.get_FRAMEBUFFER_INCOMPLETE_DIMENSIONS=function(a){return a.FRAMEBUFFER_INCOMPLETE_DIMENSIONS};r.get_FRAMEBUFFER_UNSUPPORTED=function(a){return a.FRAMEBUFFER_UNSUPPORTED};r.get_FRAMEBUFFER_BINDING=function(a){return a.FRAMEBUFFER_BINDING};r.get_RENDERBUFFER_BINDING=function(a){return a.RENDERBUFFER_BINDING};r.get_MAX_RENDERBUFFER_SIZE=function(a){return a.MAX_RENDERBUFFER_SIZE};r.get_INVALID_FRAMEBUFFER_OPERATION=function(a){return a.INVALID_FRAMEBUFFER_OPERATION};r.get_UNPACK_FLIP_Y_WEBGL=function(a){return a.UNPACK_FLIP_Y_WEBGL};
r.get_UNPACK_PREMULTIPLY_ALPHA_WEBGL=function(a){return a.UNPACK_PREMULTIPLY_ALPHA_WEBGL};r.get_CONTEXT_LOST_WEBGL=function(a){return a.CONTEXT_LOST_WEBGL};r.get_UNPACK_COLORSPACE_CONVERSION_WEBGL=function(a){return a.UNPACK_COLORSPACE_CONVERSION_WEBGL};r.get_BROWSER_DEFAULT_WEBGL=function(a){return a.BROWSER_DEFAULT_WEBGL};r.get_type=function(a){return a.type};r.get_version=function(a){return a.version};r.get_READ_BUFFER=function(a){return a.READ_BUFFER};r.get_UNPACK_ROW_LENGTH=function(a){return a.UNPACK_ROW_LENGTH};
r.get_UNPACK_SKIP_ROWS=function(a){return a.UNPACK_SKIP_ROWS};r.get_UNPACK_SKIP_PIXELS=function(a){return a.UNPACK_SKIP_PIXELS};r.get_PACK_ROW_LENGTH=function(a){return a.PACK_ROW_LENGTH};r.get_PACK_SKIP_ROWS=function(a){return a.PACK_SKIP_ROWS};r.get_PACK_SKIP_PIXELS=function(a){return a.PACK_SKIP_PIXELS};r.get_TEXTURE_BINDING_3D=function(a){return a.TEXTURE_BINDING_3D};r.get_UNPACK_SKIP_IMAGES=function(a){return a.UNPACK_SKIP_IMAGES};r.get_UNPACK_IMAGE_HEIGHT=function(a){return a.UNPACK_IMAGE_HEIGHT};
r.get_MAX_3D_TEXTURE_SIZE=function(a){return a.MAX_3D_TEXTURE_SIZE};r.get_MAX_ELEMENTS_VERTICES=function(a){return a.MAX_ELEMENTS_VERTICES};r.get_MAX_ELEMENTS_INDICES=function(a){return a.MAX_ELEMENTS_INDICES};r.get_MAX_TEXTURE_LOD_BIAS=function(a){return a.MAX_TEXTURE_LOD_BIAS};r.get_MAX_FRAGMENT_UNIFORM_COMPONENTS=function(a){return a.MAX_FRAGMENT_UNIFORM_COMPONENTS};r.get_MAX_VERTEX_UNIFORM_COMPONENTS=function(a){return a.MAX_VERTEX_UNIFORM_COMPONENTS};r.get_MAX_ARRAY_TEXTURE_LAYERS=function(a){return a.MAX_ARRAY_TEXTURE_LAYERS};
r.get_MIN_PROGRAM_TEXEL_OFFSET=function(a){return a.MIN_PROGRAM_TEXEL_OFFSET};r.get_MAX_PROGRAM_TEXEL_OFFSET=function(a){return a.MAX_PROGRAM_TEXEL_OFFSET};r.get_MAX_VARYING_COMPONENTS=function(a){return a.MAX_VARYING_COMPONENTS};r.get_FRAGMENT_SHADER_DERIVATIVE_HINT=function(a){return a.FRAGMENT_SHADER_DERIVATIVE_HINT};r.get_RASTERIZER_DISCARD=function(a){return a.RASTERIZER_DISCARD};r.get_VERTEX_ARRAY_BINDING=function(a){return a.VERTEX_ARRAY_BINDING};r.get_MAX_VERTEX_OUTPUT_COMPONENTS=function(a){return a.MAX_VERTEX_OUTPUT_COMPONENTS};
r.get_MAX_FRAGMENT_INPUT_COMPONENTS=function(a){return a.MAX_FRAGMENT_INPUT_COMPONENTS};r.get_MAX_SERVER_WAIT_TIMEOUT=function(a){return a.MAX_SERVER_WAIT_TIMEOUT};r.get_MAX_ELEMENT_INDEX=function(a){return a.MAX_ELEMENT_INDEX};r.get_RED=function(a){return a.RED};r.get_RGB8=function(a){return a.RGB8};r.get_RGBA8=function(a){return a.RGBA8};r.get_RGB10_A2=function(a){return a.RGB10_A2};r.get_TEXTURE_3D=function(a){return a.TEXTURE_3D};r.get_TEXTURE_WRAP_R=function(a){return a.TEXTURE_WRAP_R};r.get_TEXTURE_MIN_LOD=
function(a){return a.TEXTURE_MIN_LOD};r.get_TEXTURE_MAX_LOD=function(a){return a.TEXTURE_MAX_LOD};r.get_TEXTURE_BASE_LEVEL=function(a){return a.TEXTURE_BASE_LEVEL};r.get_TEXTURE_MAX_LEVEL=function(a){return a.TEXTURE_MAX_LEVEL};r.get_TEXTURE_COMPARE_MODE=function(a){return a.TEXTURE_COMPARE_MODE};r.get_TEXTURE_COMPARE_FUNC=function(a){return a.TEXTURE_COMPARE_FUNC};r.get_SRGB=function(a){return a.SRGB};r.get_SRGB8=function(a){return a.SRGB8};r.get_SRGB8_ALPHA8=function(a){return a.SRGB8_ALPHA8};r.get_COMPARE_REF_TO_TEXTURE=
function(a){return a.COMPARE_REF_TO_TEXTURE};r.get_RGBA32F=function(a){return a.RGBA32F};r.get_RGB32F=function(a){return a.RGB32F};r.get_RGBA16F=function(a){return a.RGBA16F};r.get_RGB16F=function(a){return a.RGB16F};r.get_TEXTURE_2D_ARRAY=function(a){return a.TEXTURE_2D_ARRAY};r.get_TEXTURE_BINDING_2D_ARRAY=function(a){return a.TEXTURE_BINDING_2D_ARRAY};r.get_R11F_G11F_B10F=function(a){return a.R11F_G11F_B10F};r.get_RGB9_E5=function(a){return a.RGB9_E5};r.get_RGBA32UI=function(a){return a.RGBA32UI};
r.get_RGB32UI=function(a){return a.RGB32UI};r.get_RGBA16UI=function(a){return a.RGBA16UI};r.get_RGB16UI=function(a){return a.RGB16UI};r.get_RGBA8UI=function(a){return a.RGBA8UI};r.get_RGB8UI=function(a){return a.RGB8UI};r.get_RGBA32I=function(a){return a.RGBA32I};r.get_RGB32I=function(a){return a.RGB32I};r.get_RGBA16I=function(a){return a.RGBA16I};r.get_RGB16I=function(a){return a.RGB16I};r.get_RGBA8I=function(a){return a.RGBA8I};r.get_RGB8I=function(a){return a.RGB8I};r.get_RED_INTEGER=function(a){return a.RED_INTEGER};
r.get_RGB_INTEGER=function(a){return a.RGB_INTEGER};r.get_RGBA_INTEGER=function(a){return a.RGBA_INTEGER};r.get_R8=function(a){return a.R8};r.get_RG8=function(a){return a.RG8};r.get_R16F=function(a){return a.R16F};r.get_R32F=function(a){return a.R32F};r.get_RG16F=function(a){return a.RG16F};r.get_RG32F=function(a){return a.RG32F};r.get_R8I=function(a){return a.R8I};r.get_R8UI=function(a){return a.R8UI};r.get_R16I=function(a){return a.R16I};r.get_R16UI=function(a){return a.R16UI};r.get_R32I=function(a){return a.R32I};
r.get_R32UI=function(a){return a.R32UI};r.get_RG8I=function(a){return a.RG8I};r.get_RG8UI=function(a){return a.RG8UI};r.get_RG16I=function(a){return a.RG16I};r.get_RG16UI=function(a){return a.RG16UI};r.get_RG32I=function(a){return a.RG32I};r.get_RG32UI=function(a){return a.RG32UI};r.get_R8_SNORM=function(a){return a.R8_SNORM};r.get_RG8_SNORM=function(a){return a.RG8_SNORM};r.get_RGB8_SNORM=function(a){return a.RGB8_SNORM};r.get_RGBA8_SNORM=function(a){return a.RGBA8_SNORM};r.get_RGB10_A2UI=function(a){return a.RGB10_A2UI};
r.get_TEXTURE_IMMUTABLE_FORMAT=function(a){return a.TEXTURE_IMMUTABLE_FORMAT};r.get_TEXTURE_IMMUTABLE_LEVELS=function(a){return a.TEXTURE_IMMUTABLE_LEVELS};r.get_UNSIGNED_INT_2_10_10_10_REV=function(a){return a.UNSIGNED_INT_2_10_10_10_REV};r.get_UNSIGNED_INT_10F_11F_11F_REV=function(a){return a.UNSIGNED_INT_10F_11F_11F_REV};r.get_UNSIGNED_INT_5_9_9_9_REV=function(a){return a.UNSIGNED_INT_5_9_9_9_REV};r.get_FLOAT_32_UNSIGNED_INT_24_8_REV=function(a){return a.FLOAT_32_UNSIGNED_INT_24_8_REV};r.get_UNSIGNED_INT_24_8=
function(a){return a.UNSIGNED_INT_24_8};r.get_HALF_FLOAT=function(a){return a.HALF_FLOAT};r.get_RG=function(a){return a.RG};r.get_RG_INTEGER=function(a){return a.RG_INTEGER};r.get_INT_2_10_10_10_REV=function(a){return a.INT_2_10_10_10_REV};r.get_CURRENT_QUERY=function(a){return a.CURRENT_QUERY};r.get_QUERY_RESULT=function(a){return a.QUERY_RESULT};r.get_QUERY_RESULT_AVAILABLE=function(a){return a.QUERY_RESULT_AVAILABLE};r.get_ANY_SAMPLES_PASSED=function(a){return a.ANY_SAMPLES_PASSED};r.get_ANY_SAMPLES_PASSED_CONSERVATIVE=
function(a){return a.ANY_SAMPLES_PASSED_CONSERVATIVE};r.get_MAX_DRAW_BUFFERS=function(a){return a.MAX_DRAW_BUFFERS};r.get_DRAW_BUFFER0=function(a){return a.DRAW_BUFFER0};r.get_DRAW_BUFFER1=function(a){return a.DRAW_BUFFER1};r.get_DRAW_BUFFER2=function(a){return a.DRAW_BUFFER2};r.get_DRAW_BUFFER3=function(a){return a.DRAW_BUFFER3};r.get_DRAW_BUFFER4=function(a){return a.DRAW_BUFFER4};r.get_DRAW_BUFFER5=function(a){return a.DRAW_BUFFER5};r.get_DRAW_BUFFER6=function(a){return a.DRAW_BUFFER6};r.get_DRAW_BUFFER7=
function(a){return a.DRAW_BUFFER7};r.get_DRAW_BUFFER8=function(a){return a.DRAW_BUFFER8};r.get_DRAW_BUFFER9=function(a){return a.DRAW_BUFFER9};r.get_DRAW_BUFFER10=function(a){return a.DRAW_BUFFER10};r.get_DRAW_BUFFER11=function(a){return a.DRAW_BUFFER11};r.get_DRAW_BUFFER12=function(a){return a.DRAW_BUFFER12};r.get_DRAW_BUFFER13=function(a){return a.DRAW_BUFFER13};r.get_DRAW_BUFFER14=function(a){return a.DRAW_BUFFER14};r.get_DRAW_BUFFER15=function(a){return a.DRAW_BUFFER15};r.get_MAX_COLOR_ATTACHMENTS=
function(a){return a.MAX_COLOR_ATTACHMENTS};r.get_COLOR_ATTACHMENT1=function(a){return a.COLOR_ATTACHMENT1};r.get_COLOR_ATTACHMENT2=function(a){return a.COLOR_ATTACHMENT2};r.get_COLOR_ATTACHMENT3=function(a){return a.COLOR_ATTACHMENT3};r.get_COLOR_ATTACHMENT4=function(a){return a.COLOR_ATTACHMENT4};r.get_COLOR_ATTACHMENT5=function(a){return a.COLOR_ATTACHMENT5};r.get_COLOR_ATTACHMENT6=function(a){return a.COLOR_ATTACHMENT6};r.get_COLOR_ATTACHMENT7=function(a){return a.COLOR_ATTACHMENT7};r.get_COLOR_ATTACHMENT8=
function(a){return a.COLOR_ATTACHMENT8};r.get_COLOR_ATTACHMENT9=function(a){return a.COLOR_ATTACHMENT9};r.get_COLOR_ATTACHMENT10=function(a){return a.COLOR_ATTACHMENT10};r.get_COLOR_ATTACHMENT11=function(a){return a.COLOR_ATTACHMENT11};r.get_COLOR_ATTACHMENT12=function(a){return a.COLOR_ATTACHMENT12};r.get_COLOR_ATTACHMENT13=function(a){return a.COLOR_ATTACHMENT13};r.get_COLOR_ATTACHMENT14=function(a){return a.COLOR_ATTACHMENT14};r.get_COLOR_ATTACHMENT15=function(a){return a.COLOR_ATTACHMENT15};r.get_SAMPLER_3D=
function(a){return a.SAMPLER_3D};r.get_SAMPLER_2D_SHADOW=function(a){return a.SAMPLER_2D_SHADOW};r.get_SAMPLER_2D_ARRAY=function(a){return a.SAMPLER_2D_ARRAY};r.get_SAMPLER_2D_ARRAY_SHADOW=function(a){return a.SAMPLER_2D_ARRAY_SHADOW};r.get_SAMPLER_CUBE_SHADOW=function(a){return a.SAMPLER_CUBE_SHADOW};r.get_INT_SAMPLER_2D=function(a){return a.INT_SAMPLER_2D};r.get_INT_SAMPLER_3D=function(a){return a.INT_SAMPLER_3D};r.get_INT_SAMPLER_CUBE=function(a){return a.INT_SAMPLER_CUBE};r.get_INT_SAMPLER_2D_ARRAY=
function(a){return a.INT_SAMPLER_2D_ARRAY};r.get_UNSIGNED_INT_SAMPLER_2D=function(a){return a.UNSIGNED_INT_SAMPLER_2D};r.get_UNSIGNED_INT_SAMPLER_3D=function(a){return a.UNSIGNED_INT_SAMPLER_3D};r.get_UNSIGNED_INT_SAMPLER_CUBE=function(a){return a.UNSIGNED_INT_SAMPLER_CUBE};r.get_UNSIGNED_INT_SAMPLER_2D_ARRAY=function(a){return a.UNSIGNED_INT_SAMPLER_2D_ARRAY};r.get_MAX_SAMPLES=function(a){return a.MAX_SAMPLES};r.get_SAMPLER_BINDING=function(a){return a.SAMPLER_BINDING};r.get_PIXEL_PACK_BUFFER=function(a){return a.PIXEL_PACK_BUFFER};
r.get_PIXEL_UNPACK_BUFFER=function(a){return a.PIXEL_UNPACK_BUFFER};r.get_PIXEL_PACK_BUFFER_BINDING=function(a){return a.PIXEL_PACK_BUFFER_BINDING};r.get_PIXEL_UNPACK_BUFFER_BINDING=function(a){return a.PIXEL_UNPACK_BUFFER_BINDING};r.get_COPY_READ_BUFFER=function(a){return a.COPY_READ_BUFFER};r.get_COPY_WRITE_BUFFER=function(a){return a.COPY_WRITE_BUFFER};r.get_COPY_READ_BUFFER_BINDING=function(a){return a.COPY_READ_BUFFER_BINDING};r.get_COPY_WRITE_BUFFER_BINDING=function(a){return a.COPY_WRITE_BUFFER_BINDING};
r.get_FLOAT_MAT2x3=function(a){return a.FLOAT_MAT2x3};r.get_FLOAT_MAT2x4=function(a){return a.FLOAT_MAT2x4};r.get_FLOAT_MAT3x2=function(a){return a.FLOAT_MAT3x2};r.get_FLOAT_MAT3x4=function(a){return a.FLOAT_MAT3x4};r.get_FLOAT_MAT4x2=function(a){return a.FLOAT_MAT4x2};r.get_FLOAT_MAT4x3=function(a){return a.FLOAT_MAT4x3};r.get_UNSIGNED_INT_VEC2=function(a){return a.UNSIGNED_INT_VEC2};r.get_UNSIGNED_INT_VEC3=function(a){return a.UNSIGNED_INT_VEC3};r.get_UNSIGNED_INT_VEC4=function(a){return a.UNSIGNED_INT_VEC4};
r.get_UNSIGNED_NORMALIZED=function(a){return a.UNSIGNED_NORMALIZED};r.get_SIGNED_NORMALIZED=function(a){return a.SIGNED_NORMALIZED};r.get_VERTEX_ATTRIB_ARRAY_INTEGER=function(a){return a.VERTEX_ATTRIB_ARRAY_INTEGER};r.get_VERTEX_ATTRIB_ARRAY_DIVISOR=function(a){return a.VERTEX_ATTRIB_ARRAY_DIVISOR};r.get_TRANSFORM_FEEDBACK_BUFFER_MODE=function(a){return a.TRANSFORM_FEEDBACK_BUFFER_MODE};r.get_MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=function(a){return a.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS};
r.get_TRANSFORM_FEEDBACK_VARYINGS=function(a){return a.TRANSFORM_FEEDBACK_VARYINGS};r.get_TRANSFORM_FEEDBACK_BUFFER_START=function(a){return a.TRANSFORM_FEEDBACK_BUFFER_START};r.get_TRANSFORM_FEEDBACK_BUFFER_SIZE=function(a){return a.TRANSFORM_FEEDBACK_BUFFER_SIZE};r.get_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=function(a){return a.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN};r.get_MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=function(a){return a.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS};r.get_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=
function(a){return a.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS};r.get_INTERLEAVED_ATTRIBS=function(a){return a.INTERLEAVED_ATTRIBS};r.get_SEPARATE_ATTRIBS=function(a){return a.SEPARATE_ATTRIBS};r.get_TRANSFORM_FEEDBACK_BUFFER=function(a){return a.TRANSFORM_FEEDBACK_BUFFER};r.get_TRANSFORM_FEEDBACK_BUFFER_BINDING=function(a){return a.TRANSFORM_FEEDBACK_BUFFER_BINDING};r.get_TRANSFORM_FEEDBACK=function(a){return a.TRANSFORM_FEEDBACK};r.get_TRANSFORM_FEEDBACK_PAUSED=function(a){return a.TRANSFORM_FEEDBACK_PAUSED};
r.get_TRANSFORM_FEEDBACK_ACTIVE=function(a){return a.TRANSFORM_FEEDBACK_ACTIVE};r.get_TRANSFORM_FEEDBACK_BINDING=function(a){return a.TRANSFORM_FEEDBACK_BINDING};r.get_FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=function(a){return a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING};r.get_FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=function(a){return a.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE};r.get_FRAMEBUFFER_ATTACHMENT_RED_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_RED_SIZE};r.get_FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=
function(a){return a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE};r.get_FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE};r.get_FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE};r.get_FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE};r.get_FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE};r.get_FRAMEBUFFER_DEFAULT=function(a){return a.FRAMEBUFFER_DEFAULT};
r.get_DEPTH24_STENCIL8=function(a){return a.DEPTH24_STENCIL8};r.get_DRAW_FRAMEBUFFER_BINDING=function(a){return a.DRAW_FRAMEBUFFER_BINDING};r.get_READ_FRAMEBUFFER=function(a){return a.READ_FRAMEBUFFER};r.get_DRAW_FRAMEBUFFER=function(a){return a.DRAW_FRAMEBUFFER};r.get_READ_FRAMEBUFFER_BINDING=function(a){return a.READ_FRAMEBUFFER_BINDING};r.get_RENDERBUFFER_SAMPLES=function(a){return a.RENDERBUFFER_SAMPLES};r.get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=function(a){return a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER};
r.get_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=function(a){return a.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE};r.get_UNIFORM_BUFFER=function(a){return a.UNIFORM_BUFFER};r.get_UNIFORM_BUFFER_BINDING=function(a){return a.UNIFORM_BUFFER_BINDING};r.get_UNIFORM_BUFFER_START=function(a){return a.UNIFORM_BUFFER_START};r.get_UNIFORM_BUFFER_SIZE=function(a){return a.UNIFORM_BUFFER_SIZE};r.get_MAX_VERTEX_UNIFORM_BLOCKS=function(a){return a.MAX_VERTEX_UNIFORM_BLOCKS};r.get_MAX_FRAGMENT_UNIFORM_BLOCKS=function(a){return a.MAX_FRAGMENT_UNIFORM_BLOCKS};
r.get_MAX_COMBINED_UNIFORM_BLOCKS=function(a){return a.MAX_COMBINED_UNIFORM_BLOCKS};r.get_MAX_UNIFORM_BUFFER_BINDINGS=function(a){return a.MAX_UNIFORM_BUFFER_BINDINGS};r.get_MAX_UNIFORM_BLOCK_SIZE=function(a){return a.MAX_UNIFORM_BLOCK_SIZE};r.get_MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=function(a){return a.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS};r.get_MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=function(a){return a.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS};r.get_UNIFORM_BUFFER_OFFSET_ALIGNMENT=function(a){return a.UNIFORM_BUFFER_OFFSET_ALIGNMENT};
r.get_ACTIVE_UNIFORM_BLOCKS=function(a){return a.ACTIVE_UNIFORM_BLOCKS};r.get_UNIFORM_TYPE=function(a){return a.UNIFORM_TYPE};r.get_UNIFORM_SIZE=function(a){return a.UNIFORM_SIZE};r.get_UNIFORM_BLOCK_INDEX=function(a){return a.UNIFORM_BLOCK_INDEX};r.get_UNIFORM_OFFSET=function(a){return a.UNIFORM_OFFSET};r.get_UNIFORM_ARRAY_STRIDE=function(a){return a.UNIFORM_ARRAY_STRIDE};r.get_UNIFORM_MATRIX_STRIDE=function(a){return a.UNIFORM_MATRIX_STRIDE};r.get_UNIFORM_IS_ROW_MAJOR=function(a){return a.UNIFORM_IS_ROW_MAJOR};
r.get_UNIFORM_BLOCK_BINDING=function(a){return a.UNIFORM_BLOCK_BINDING};r.get_UNIFORM_BLOCK_DATA_SIZE=function(a){return a.UNIFORM_BLOCK_DATA_SIZE};r.get_UNIFORM_BLOCK_ACTIVE_UNIFORMS=function(a){return a.UNIFORM_BLOCK_ACTIVE_UNIFORMS};r.get_UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=function(a){return a.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES};r.get_UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=function(a){return a.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER};r.get_UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=function(a){return a.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER};
r.get_OBJECT_TYPE=function(a){return a.OBJECT_TYPE};r.get_SYNC_CONDITION=function(a){return a.SYNC_CONDITION};r.get_SYNC_STATUS=function(a){return a.SYNC_STATUS};r.get_SYNC_FLAGS=function(a){return a.SYNC_FLAGS};r.get_SYNC_FENCE=function(a){return a.SYNC_FENCE};r.get_SYNC_GPU_COMMANDS_COMPLETE=function(a){return a.SYNC_GPU_COMMANDS_COMPLETE};r.get_UNSIGNALED=function(a){return a.UNSIGNALED};r.get_SIGNALED=function(a){return a.SIGNALED};r.get_ALREADY_SIGNALED=function(a){return a.ALREADY_SIGNALED};
r.get_TIMEOUT_EXPIRED=function(a){return a.TIMEOUT_EXPIRED};r.get_CONDITION_SATISFIED=function(a){return a.CONDITION_SATISFIED};r.get_WAIT_FAILED=function(a){return a.WAIT_FAILED};r.get_SYNC_FLUSH_COMMANDS_BIT=function(a){return a.SYNC_FLUSH_COMMANDS_BIT};r.get_COLOR=function(a){return a.COLOR};r.get_DEPTH=function(a){return a.DEPTH};r.get_STENCIL=function(a){return a.STENCIL};r.get_MIN=function(a){return a.MIN};r.get_MAX=function(a){return a.MAX};r.get_DEPTH_COMPONENT24=function(a){return a.DEPTH_COMPONENT24};
r.get_STREAM_READ=function(a){return a.STREAM_READ};r.get_STREAM_COPY=function(a){return a.STREAM_COPY};r.get_STATIC_READ=function(a){return a.STATIC_READ};r.get_STATIC_COPY=function(a){return a.STATIC_COPY};r.get_DYNAMIC_READ=function(a){return a.DYNAMIC_READ};r.get_DYNAMIC_COPY=function(a){return a.DYNAMIC_COPY};r.get_DEPTH_COMPONENT32F=function(a){return a.DEPTH_COMPONENT32F};r.get_DEPTH32F_STENCIL8=function(a){return a.DEPTH32F_STENCIL8};r.get_INVALID_INDEX=function(a){return a.INVALID_INDEX};
r.get_TIMEOUT_IGNORED=function(a){return a.TIMEOUT_IGNORED};r.get_MAX_CLIENT_WAIT_TIMEOUT_WEBGL=function(a){return a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL};r.activeTexture=function(a,b){a.__context.activeTexture(b)};r.attachShader=function(a,b,c){a.__context.attachShader(b,c)};r.beginQuery=function(a,b,c){a.__context.beginQuery(b,c)};r.beginTransformFeedback=function(a,b){a.__context.beginTransformFeedback(b)};r.bindAttribLocation=function(a,b,c,d){a.__context.bindAttribLocation(b,c,d)};r.bindBuffer=function(a,
b,c){a.__context.bindBuffer(b,c)};r.bindBufferBase=function(a,b,c,d){a.__context.bindBufferBase(b,c,d)};r.bindBufferRange=function(a,b,c,d,e,f){a.__context.bindBufferRange(b,c,d,E.fromInt(E.toValue(e)),E.fromInt(f))};r.bindFramebuffer=function(a,b,c){a.__context.bindFramebuffer(b,c)};r.bindRenderbuffer=function(a,b,c){a.__context.bindRenderbuffer(b,c)};r.bindSampler=function(a,b,c){a.__context.bindSampler(b,c)};r.bindTexture=function(a,b,c){a.__context.bindTexture(b,c)};r.bindTransformFeedback=function(a,
b,c){a.__context.bindTransformFeedback(b,c)};r.bindVertexArray=function(a,b){a.__context.bindVertexArray(b)};r.blendColor=function(a,b,c,d,e){a.__context.blendColor(b,c,d,e)};r.blendEquation=function(a,b){a.__context.blendEquation(b)};r.blendEquationSeparate=function(a,b,c){a.__context.blendEquationSeparate(b,c)};r.blendFunc=function(a,b,c){a.__context.blendFunc(b,c)};r.blendFuncSeparate=function(a,b,c,d,e){a.__context.blendFuncSeparate(b,c,d,e)};r.blitFramebuffer=function(a,b,c,d,e,f,k,p,h,g,n){a.__context.blitFramebuffer(b,
c,d,e,f,k,p,h,g,n)};r.bufferData=function(a,b,c,d,e){a.__context.bufferData(b,E.toBufferView(d,c),e)};r.bufferSubData=function(a,b,c,d,e){a.__context.bufferSubData(b,c,E.toBufferView(e,d))};r.checkFramebufferStatus=function(a,b){return a.__context.checkFramebufferStatus(b)};r.clear=function(a,b){a.__context.clear(b)};r.clearBufferfi=function(a,b,c,d,e){a.__context.clearBufferfi(b,c,d,e)};r.clearBufferfv=function(a,b,c,d){a.__context.clearBufferfv(b,c,E.toFloat32Array(d))};r.clearBufferiv=function(a,
b,c,d){a.__context.clearBufferiv(b,c,E.toInt32Array(d))};r.clearBufferuiv=function(a,b,c,d){a.__context.clearBufferuiv(b,c,E.toUInt32Array(d))};r.clearColor=function(a,b,c,d,e){a.__context.clearColor(b,c,d,e)};r.clearDepthf=function(a,b){a.__context.clearDepth(b)};r.clearStencil=function(a,b){a.__context.clearStencil(b)};r.clientWaitSync=function(a,b,c,d){return a.__context.clientWaitSync(b,c,d)};r.colorMask=function(a,b,c,d,e){a.__context.colorMask(b,c,d,e)};r.compileShader=function(a,b){a.__context.compileShader(b)};
r.compressedTexImage2D=function(a,b,c,d,e,f,k,p,h){a.__context.compressedTexImage2D(b,c,d,e,f,k,E.toBufferView(h,p))};r.compressedTexImage3D=function(a,b,c,d,e,f,k,p,h,g){a.__context.compressedTexImage3D(b,c,d,e,f,k,p,E.toBufferView(g,h))};r.compressedTexSubImage2D=function(a,b,c,d,e,f,k,p,h,g){a.__context.compressedTexSubImage2D(b,c,d,e,f,k,p,E.toBufferView(g,h))};r.compressedTexSubImage3D=function(a,b,c,d,e,f,k,p,h,g,n,l){a.__context.compressedTexSubImage3D(b,c,d,e,f,k,p,h,g,E.toBufferView(l,n))};
r.copyBufferSubData=function(a,b,c,d,e,f){};r.copyTexImage2D=function(a,b,c,d,e,f,k,p,h){a.__context.copyTexImage2D(b,c,d,e,f,k,p,h)};r.copyTexSubImage2D=function(a,b,c,d,e,f,k,p,h){a.__context.copyTexSubImage2D(b,c,d,e,f,k,p,h)};r.copyTexSubImage3D=function(a,b,c,d,e,f,k,p,h,g){a.__context.copyTexSubImage3D(b,c,d,e,f,k,p,h,g)};r.createBuffer=function(a){return a.__context.createBuffer()};r.createFramebuffer=function(a){return a.__context.createFramebuffer()};r.createProgram=function(a){return a.__context.createProgram()};
r.createQuery=function(a){return a.__context.createQuery()};r.createRenderbuffer=function(a){return a.__context.createRenderbuffer()};r.createSampler=function(a){return a.__context.createSampler()};r.createShader=function(a,b){return a.__context.createShader(b)};r.createTexture=function(a){return a.__context.createTexture()};r.createTransformFeedback=function(a){return a.__context.createTransformFeedback()};r.createVertexArray=function(a){return a.__context.createVertexArray()};r.cullFace=function(a,
b){a.__context.cullFace(b)};r.deleteBuffer=function(a,b){a.__context.deleteBuffer(b)};r.deleteFramebuffer=function(a,b){a.__context.deleteFramebuffer(b)};r.deleteProgram=function(a,b){a.__context.deleteProgram(b)};r.deleteQuery=function(a,b){a.__context.deleteQuery(b)};r.deleteRenderbuffer=function(a,b){a.__context.deleteRenderbuffer(b)};r.deleteSampler=function(a,b){a.__context.deleteSampler(b)};r.deleteShader=function(a,b){a.__context.deleteShader(b)};r.deleteSync=function(a,b){a.__context.deleteSync(b)};
r.deleteTexture=function(a,b){a.__context.deleteTexture(b)};r.deleteTransformFeedback=function(a,b){a.__context.deleteTransformFeedback(b)};r.deleteVertexArray=function(a,b){a.__context.deleteVertexArray(b)};r.depthFunc=function(a,b){a.__context.depthFunc(b)};r.depthMask=function(a,b){a.__context.depthMask(b)};r.depthRangef=function(a,b,c){a.__context.depthRange(b,c)};r.detachShader=function(a,b,c){a.__context.detachShader(b,c)};r.disable=function(a,b){a.__context.disable(b)};r.disableVertexAttribArray=
function(a,b){a.__context.disableVertexAttribArray(b)};r.drawArrays=function(a,b,c,d){a.__context.drawArrays(b,c,d)};r.drawArraysInstanced=function(a,b,c,d,e){a.__context.drawArraysInstanced(b,c,d,e)};r.drawBuffers=function(a,b){a.__context.drawBuffers(b)};r.drawElements=function(a,b,c,d,e){a.__context.drawElements(b,c,d,E.toValue(e))};r.drawElementsInstanced=function(a,b,c,d,e,f){a.__context.drawElementsInstanced(b,c,d,E.fromInt(E.toValue(e)),f)};r.drawRangeElements=function(a,b,c,d,e,f,k){a.__context.drawRangeElements(b,
c,d,e,f,E.fromInt(E.toValue(k)))};r.enable=function(a,b){a.__context.enable(b)};r.enableVertexAttribArray=function(a,b){a.__context.enableVertexAttribArray(b)};r.endQuery=function(a,b){a.__context.endQuery(b)};r.endTransformFeedback=function(a){a.__context.endTransformFeedback()};r.fenceSync=function(a,b,c){return a.__context.fenceSync(b,c)};r.finish=function(a){a.__context.finish()};r.flush=function(a){a.__context.flush()};r.framebufferRenderbuffer=function(a,b,c,d,e){a.__context.framebufferRenderbuffer(b,
c,d,e)};r.framebufferTexture2D=function(a,b,c,d,e,f){a.__context.framebufferTexture2D(b,c,d,e,f)};r.framebufferTextureLayer=function(a,b,c,d,e,f){a.__context.framebufferTextureLayer(b,c,d,e,f)};r.frontFace=function(a,b){a.__context.frontFace(b)};r.genBuffers=function(a,b,c){null==c&&(c=[]);for(var d=0;d<b;){var e=d++;c[e]=a.__context.createBuffer()}return c};r.generateMipmap=function(a,b){a.__context.generateMipmap(b)};r.genFramebuffers=function(a,b,c){null==c&&(c=[]);for(var d=0;d<b;){var e=d++;
c[e]=a.__context.createFramebuffer()}return c};r.genQueries=function(a,b,c){null==c&&(c=[]);for(var d=0;d<b;){var e=d++;c[e]=a.__context.createQuery()}return c};r.genRenderbuffers=function(a,b,c){null==c&&(c=[]);for(var d=0;d<b;){var e=d++;c[e]=a.__context.createRenderbuffer()}return c};r.genSamplers=function(a,b,c){null==c&&(c=[]);for(var d=0;d<b;){var e=d++;c[e]=a.__context.createSampler()}return c};r.genTextures=function(a,b,c){null==c&&(c=[]);for(var d=0;d<b;){var e=d++;c[e]=a.__context.createTexture()}return c};
r.genTransformFeedbacks=function(a,b,c){null==c&&(c=[]);for(var d=0;d<b;){var e=d++;c[e]=a.__context.createTransformFeedback()}return c};r.getActiveAttrib=function(a,b,c){return a.__context.getActiveAttrib(b,c)};r.getActiveUniform=function(a,b,c){return a.__context.getActiveUniform(b,c)};r.getActiveUniformBlocki=function(a,b,c,d){return a.__context.getActiveUniformBlockParameter(b,c,d)};r.getActiveUniformBlockiv=function(a,b,c,d,e){a.getActiveUniformBlockiv(b,c,d,e)};r.getActiveUniformBlockName=function(a,
b,c){return a.__context.getActiveUniformBlockName(b,c)};r.getActiveUniformsiv=function(a,b,c,d,e){};r.getAttachedShaders=function(a,b){return a.__context.getAttachedShaders(b)};r.getAttribLocation=function(a,b,c){return a.__context.getAttribLocation(b,c)};r.getBoolean=function(a,b){return a.__context.getParameter(b)};r.getBooleanv=function(a,b,c){a.getBooleanv(b,c)};r.getBufferParameteri=function(a,b,c){return a.__context.getBufferParameter(b,c)};r.getBufferParameteri64v=function(a,b,c,d){a.getBufferParameteri64v(b,
c,d)};r.getBufferParameteriv=function(a,b,c,d){a.getBufferParameteriv(b,c,d)};r.getBufferPointerv=function(a,b,c){return E.fromInt(0)};r.getError=function(a){return a.__context.getError()};r.getFloat=function(a,b){return a.__context.getParameter(b)};r.getFloatv=function(a,b,c){a.getFloatv(b,c)};r.getExtension=function(a,b){return a.__context.getExtension(b)};r.getFragDataLocation=function(a,b,c){return a.__context.getFragDataLocation(b,c)};r.getFramebufferAttachmentParameteri=function(a,b,c,d){return a.__context.getFramebufferAttachmentParameter(b,
c,d)};r.getFramebufferAttachmentParameteriv=function(a,b,c,d,e){a.getFramebufferAttachmentParameteriv(b,c,d,e)};r.getInteger=function(a,b){return a.__context.getParameter(b)};r.getInteger64=function(a,b){return new Ga(0,0)};r.getInteger64i=function(a,b){return new Ga(0,0)};r.getInteger64i_v=function(a,b,c,d){};r.getInteger64v=function(a,b,c){a.getInteger64v(b,c)};r.getIntegeri_v=function(a,b,c,d){};r.getIntegerv=function(a,b,c){a.getIntegerv(b,c)};r.getInternalformati=function(a,b,c,d){return a.__context.getInternalformatParameter(b,
c,d)};r.getInternalformativ=function(a,b,c,d,e,f){a.getInternalformativ(b,c,d,e,f)};r.getProgramBinary=function(a,b,c){return null};r.getProgrami=function(a,b,c){return a.__context.getProgramParameter(b,c)};r.getProgramInfoLog=function(a,b){return a.__context.getProgramInfoLog(b)};r.getProgramiv=function(a,b,c,d){a.getProgramiv(b,c,d)};r.getQueryi=function(a,b,c){return 0};r.getQueryiv=function(a,b,c,d){a.getQueryiv(b,c,d)};r.getQueryObjectui=function(a,b,c){return 0};r.getQueryObjectuiv=function(a,
b,c,d){a.getQueryObjectuiv(b,c,d)};r.getRenderbufferParameteri=function(a,b,c){return a.__context.getRenderbufferParameter(b,c)};r.getRenderbufferParameteriv=function(a,b,c,d){a.getRenderbufferParameteriv(b,c,d)};r.getSamplerParameteri=function(a,b,c){return 0};r.getSamplerParameteriv=function(a,b,c,d){a.getSamplerParameteriv(b,c,d)};r.getSamplerParameterf=function(a,b,c){return 0};r.getSamplerParameterfv=function(a,b,c,d){a.getSamplerParameterfv(b,c,d)};r.getShaderInfoLog=function(a,b){return a.__context.getShaderInfoLog(b)};
r.getShaderi=function(a,b,c){return a.__context.getShaderParameter(b,c)};r.getShaderiv=function(a,b,c,d){a.getShaderiv(b,c,d)};r.getShaderPrecisionFormat=function(a,b,c){return a.__context.getShaderPrecisionFormat(b,c)};r.getShaderSource=function(a,b){return a.__context.getShaderSource(b)};r.getString=function(a,b){return a.getString(b)};r.getStringi=function(a,b,c){return null};r.getSyncParameteri=function(a,b,c){return 0};r.getSyncParameteriv=function(a,b,c,d){a.getSyncParameteriv(b,c,d)};r.getTexParameterf=
function(a,b,c){return a.__context.getTexParameter(b,c)};r.getTexParameterfv=function(a,b,c,d){a.getTexParameterfv(b,c,d)};r.getTexParameteri=function(a,b,c){return a.__context.getTexParameter(b,c)};r.getTexParameteriv=function(a,b,c,d){a.getTexParameteriv(b,c,d)};r.getTransformFeedbackVarying=function(a,b,c){return a.__context.getTransformFeedbackVarying(b,c)};r.getUniformf=function(a,b,c){return a.__context.getUniform(b,c)};r.getUniformfv=function(a,b,c,d){a.getUniformfv(b,c,d)};r.getUniformi=function(a,
b,c){return a.__context.getUniform(b,c)};r.getUniformiv=function(a,b,c,d){a.getUniformiv(b,c,d)};r.getUniformui=function(a,b,c){return 0};r.getUniformuiv=function(a,b,c,d){a.getUniformuiv(b,c,d)};r.getUniformBlockIndex=function(a,b,c){return a.__context.getUniformBlockIndex(b,c)};r.getUniformIndices=function(a,b,c){return a.__context.getUniformIndices(b,c)};r.getUniformLocation=function(a,b,c){return a.__context.getUniformLocation(b,c)};r.getVertexAttribf=function(a,b,c){return 0};r.getVertexAttribfv=
function(a,b,c,d){a.getVertexAttribfv(b,c,d)};r.getVertexAttribi=function(a,b,c){return a.__context.getVertexAttrib(b,c)};r.getVertexAttribIi=function(a,b,c){return 0};r.getVertexAttribIiv=function(a,b,c,d){};r.getVertexAttribIui=function(a,b,c){return 0};r.getVertexAttribIuiv=function(a,b,c,d){};r.getVertexAttribiv=function(a,b,c,d){a.getVertexAttribiv(b,c,d)};r.getVertexAttribPointerv=function(a,b,c){return E.fromInt(a.__context.getVertexAttribOffset(b,c))};r.hint=function(a,b,c){a.__context.hint(b,
c)};r.invalidateFramebuffer=function(a,b,c){a.__context.invalidateFramebuffer(b,c)};r.invalidateSubFramebuffer=function(a,b,c,d,e,f,k){a.__context.invalidateSubFramebuffer(b,c,d,e,f,k)};r.isBuffer=function(a,b){return a.__context.isBuffer(b)};r.isEnabled=function(a,b){return a.__context.isEnabled(b)};r.isFramebuffer=function(a,b){return a.__context.isFramebuffer(b)};r.isProgram=function(a,b){return a.__context.isProgram(b)};r.isQuery=function(a,b){return a.__context.isQuery(b)};r.isRenderbuffer=function(a,
b){return a.__context.isRenderbuffer(b)};r.isSampler=function(a,b){return a.__context.isSampler(b)};r.isShader=function(a,b){return a.__context.isShader(b)};r.isTexture=function(a,b){return a.__context.isTexture(b)};r.isTransformFeedback=function(a,b){return a.__context.isTransformFeedback(b)};r.isVertexArray=function(a,b){return a.__context.isVertexArray(b)};r.lineWidth=function(a,b){a.__context.lineWidth(b)};r.linkProgram=function(a,b){a.__context.linkProgram(b)};r.mapBufferRange=function(a,b,c,
d,e){return E.fromInt(0)};r.pauseTransformFeedback=function(a){a.__context.pauseTransformFeedback()};r.pixelStorei=function(a,b,c){a.__context.pixelStorei(b,c)};r.polygonOffset=function(a,b,c){a.__context.polygonOffset(b,c)};r.programBinary=function(a,b,c,d,e){};r.programParameteri=function(a,b,c,d){};r.readBuffer=function(a,b){a.__context.readBuffer(b)};r.readPixels=function(a,b,c,d,e,f,k,h){a.__context.readPixels(b,c,d,e,f,k,E.toBufferView(h))};r.releaseShaderCompiler=function(a){};r.renderbufferStorage=
function(a,b,c,d,e){a.__context.renderbufferStorage(b,c,d,e)};r.renderbufferStorageMultisample=function(a,b,c,d,e,f){a.__context.renderbufferStorageMultisample(b,c,d,e,f)};r.resumeTransformFeedback=function(a){a.__context.resumeTransformFeedback()};r.sampleCoverage=function(a,b,c){a.__context.sampleCoverage(b,c)};r.samplerParameterf=function(a,b,c,d){a.__context.samplerParameterf(b,c,d)};r.samplerParameteri=function(a,b,c,d){a.__context.samplerParameteri(b,c,d)};r.scissor=function(a,b,c,d,e){a.__context.scissor(b,
c,d,e)};r.shaderBinary=function(a,b,c,d,e){};r.shaderSource=function(a,b,c){a.__context.shaderSource(b,c)};r.stencilFunc=function(a,b,c,d){a.__context.stencilFunc(b,c,d)};r.stencilFuncSeparate=function(a,b,c,d,e){a.__context.stencilFuncSeparate(b,c,d,e)};r.stencilMask=function(a,b){a.__context.stencilMask(b)};r.stencilMaskSeparate=function(a,b,c){a.__context.stencilMaskSeparate(b,c)};r.stencilOp=function(a,b,c,d){a.__context.stencilOp(b,c,d)};r.stencilOpSeparate=function(a,b,c,d,e){a.__context.stencilOpSeparate(b,
c,d,e)};r.texImage2D=function(a,b,c,d,e,f,k,h,g,m){a.__context.texImage2D(b,c,d,e,f,k,h,g,E.toBufferView(m))};r.texImage3D=function(a,b,c,d,e,f,k,h,g,m,n){a.__context.texImage3D(b,c,d,e,f,k,h,g,m,E.toBufferView(n))};r.texStorage2D=function(a,b,c,d,e,f){a.__context.texStorage2D(b,c,d,e,f)};r.texStorage3D=function(a,b,c,d,e,f,k){a.__context.texStorage3D(b,c,d,e,f,k)};r.texParameterf=function(a,b,c,d){a.__context.texParameterf(b,c,d)};r.texParameteri=function(a,b,c,d){a.__context.texParameteri(b,c,d)};
r.texSubImage2D=function(a,b,c,d,e,f,k,h,g,m){a.__context.texSubImage2D(b,c,d,e,f,k,h,g,E.toBufferView(m))};r.texSubImage3D=function(a,b,c,d,e,f,k,h,g,m,n,l){a.__context.texSubImage3D(b,c,d,e,f,k,h,g,m,n,E.toBufferView(l))};r.transformFeedbackVaryings=function(a,b,c,d){a.__context.transformFeedbackVaryings(b,c,d)};r.uniform1f=function(a,b,c){a.__context.uniform1f(b,c)};r.uniform1fv=function(a,b,c,d){a.__context.uniform1fv(b,E.toFloat32Array(d,4*c))};r.uniform1i=function(a,b,c){a.__context.uniform1i(b,
c)};r.uniform1iv=function(a,b,c,d){a.__context.uniform1iv(b,E.toInt32Array(d,4*c))};r.uniform1ui=function(a,b,c){a.__context.uniform1ui(b,c)};r.uniform1uiv=function(a,b,c,d){a.__context.uniform1uiv(b,E.toUInt32Array(d,4*c))};r.uniform2f=function(a,b,c,d){a.__context.uniform2f(b,c,d)};r.uniform2fv=function(a,b,c,d){a.__context.uniform2fv(b,E.toFloat32Array(d,8*c))};r.uniform2i=function(a,b,c,d){a.__context.uniform2i(b,c,d)};r.uniform2iv=function(a,b,c,d){a.__context.uniform2iv(b,E.toInt32Array(d,8*
c))};r.uniform2ui=function(a,b,c,d){a.__context.uniform2ui(b,c,d)};r.uniform2uiv=function(a,b,c,d){a.__context.uniform2uiv(b,E.toUInt32Array(d,8*c))};r.uniform3f=function(a,b,c,d,e){a.__context.uniform3f(b,c,d,e)};r.uniform3fv=function(a,b,c,d){a.__context.uniform3fv(b,E.toFloat32Array(d,12*c))};r.uniform3i=function(a,b,c,d,e){a.__context.uniform3i(b,c,d,e)};r.uniform3iv=function(a,b,c,d){a.__context.uniform3iv(b,E.toInt32Array(d,12*c))};r.uniform3ui=function(a,b,c,d,e){a.__context.uniform3ui(b,c,
d,e)};r.uniform3uiv=function(a,b,c,d){a.__context.uniform3uiv(b,E.toUInt32Array(d,12*c))};r.uniform4f=function(a,b,c,d,e,f){a.__context.uniform4f(b,c,d,e,f)};r.uniform4fv=function(a,b,c,d){a.__context.uniform4fv(b,E.toFloat32Array(d,16*c))};r.uniform4i=function(a,b,c,d,e,f){a.__context.uniform4i(b,c,d,e,f)};r.uniform4iv=function(a,b,c,d){a.__context.uniform4iv(b,E.toInt32Array(d,16*c))};r.uniform4ui=function(a,b,c,d,e,f){a.__context.uniform4ui(b,c,d,e,f)};r.uniform4uiv=function(a,b,c,d){a.__context.uniform4uiv(b,
E.toUInt32Array(d,16*c))};r.uniformBlockBinding=function(a,b,c,d){a.__context.uniformBlockBinding(b,c,d)};r.uniformMatrix2fv=function(a,b,c,d,e){a.__context.uniformMatrix2fv(b,d,E.toFloat32Array(e,16*c))};r.uniformMatrix2x3fv=function(a,b,c,d,e){a.__context.uniformMatrix2x3fv(b,d,E.toFloat32Array(e,24*c))};r.uniformMatrix2x4fv=function(a,b,c,d,e){a.__context.uniformMatrix2x4fv(b,d,E.toFloat32Array(e,32*c))};r.uniformMatrix3fv=function(a,b,c,d,e){a.__context.uniformMatrix3fv(b,d,E.toFloat32Array(e,
36*c))};r.uniformMatrix3x2fv=function(a,b,c,d,e){a.__context.uniformMatrix3x2fv(b,d,E.toFloat32Array(e,24*c))};r.uniformMatrix3x4fv=function(a,b,c,d,e){a.__context.uniformMatrix3x4fv(b,d,E.toFloat32Array(e,48*c))};r.uniformMatrix4fv=function(a,b,c,d,e){a.__context.uniformMatrix4fv(b,d,E.toFloat32Array(e,64*c))};r.uniformMatrix4x2fv=function(a,b,c,d,e){a.__context.uniformMatrix4x2fv(b,d,E.toFloat32Array(e,32*c))};r.uniformMatrix4x3fv=function(a,b,c,d,e){a.__context.uniformMatrix4x3fv(b,d,E.toFloat32Array(e,
48*c))};r.unmapBuffer=function(a,b){return!1};r.useProgram=function(a,b){a.__context.useProgram(b)};r.validateProgram=function(a,b){a.__context.validateProgram(b)};r.vertexAttrib1f=function(a,b,c){a.__context.vertexAttrib1f(b,c)};r.vertexAttrib1fv=function(a,b,c){a.__context.vertexAttrib1fv(b,E.toFloat32Array(c))};r.vertexAttrib2f=function(a,b,c,d){a.__context.vertexAttrib2f(b,c,d)};r.vertexAttrib2fv=function(a,b,c){a.__context.vertexAttrib2fv(b,E.toFloat32Array(c))};r.vertexAttrib3f=function(a,b,
c,d,e){a.__context.vertexAttrib3f(b,c,d,e)};r.vertexAttrib3fv=function(a,b,c){a.__context.vertexAttrib3fv(b,E.toFloat32Array(c))};r.vertexAttrib4f=function(a,b,c,d,e,f){a.__context.vertexAttrib4f(b,c,d,e,f)};r.vertexAttrib4fv=function(a,b,c){a.__context.vertexAttrib4fv(b,E.toFloat32Array(c))};r.vertexAttribDivisor=function(a,b,c){a.__context.vertexAttribDivisor(b,c)};r.vertexAttribI4i=function(a,b,c,d,e,f){a.__context.vertexAttribI4i(b,c,d,e,f)};r.vertexAttribI4iv=function(a,b,c){a.__context.vertexAttribI4iv(b,
E.toInt32Array(c))};r.vertexAttribI4ui=function(a,b,c,d,e,f){a.__context.vertexAttribI4ui(b,c,d,e,f)};r.vertexAttribI4uiv=function(a,b,c){a.__context.vertexAttribI4uiv(b,E.toUInt32Array(c))};r.vertexAttribIPointer=function(a,b,c,d,e,f){a.__context.vertexAttribIPointer(b,c,d,e,E.fromInt(E.toValue(f)))};r.vertexAttribPointer=function(a,b,c,d,e,f,k){a.__context.vertexAttribPointer(b,c,d,e,f,E.toValue(k))};r.viewport=function(a,b,c,d,e){a.__context.viewport(b,c,d,e)};r.waitSync=function(a,b,c,d){a.__context.waitSync(b,
c,d)};r.fromGL=function(a){return g.context};var kf=function(a,b){this.bytes=a;this.offset=b};m["lime.utils.BytePointerData"]=kf;kf.__name__=["lime","utils","BytePointerData"];kf.prototype={bytes:null,offset:null,__class__:kf};var q={};m["lime.graphics.opengl._WebGL2Context.WebGL2Context_Impl_"]=q;q.__name__=["lime","graphics","opengl","_WebGL2Context","WebGL2Context_Impl_"];q.__properties__={get_version:"get_version",get_type:"get_type",get_MAX_CLIENT_WAIT_TIMEOUT_WEBGL:"get_MAX_CLIENT_WAIT_TIMEOUT_WEBGL",
get_TIMEOUT_IGNORED:"get_TIMEOUT_IGNORED",get_INVALID_INDEX:"get_INVALID_INDEX",get_DEPTH32F_STENCIL8:"get_DEPTH32F_STENCIL8",get_DEPTH_COMPONENT32F:"get_DEPTH_COMPONENT32F",get_DYNAMIC_COPY:"get_DYNAMIC_COPY",get_DYNAMIC_READ:"get_DYNAMIC_READ",get_STATIC_COPY:"get_STATIC_COPY",get_STATIC_READ:"get_STATIC_READ",get_STREAM_COPY:"get_STREAM_COPY",get_STREAM_READ:"get_STREAM_READ",get_DEPTH_COMPONENT24:"get_DEPTH_COMPONENT24",get_MAX:"get_MAX",get_MIN:"get_MIN",get_STENCIL:"get_STENCIL",get_DEPTH:"get_DEPTH",
get_COLOR:"get_COLOR",get_SYNC_FLUSH_COMMANDS_BIT:"get_SYNC_FLUSH_COMMANDS_BIT",get_WAIT_FAILED:"get_WAIT_FAILED",get_CONDITION_SATISFIED:"get_CONDITION_SATISFIED",get_TIMEOUT_EXPIRED:"get_TIMEOUT_EXPIRED",get_ALREADY_SIGNALED:"get_ALREADY_SIGNALED",get_SIGNALED:"get_SIGNALED",get_UNSIGNALED:"get_UNSIGNALED",get_SYNC_GPU_COMMANDS_COMPLETE:"get_SYNC_GPU_COMMANDS_COMPLETE",get_SYNC_FENCE:"get_SYNC_FENCE",get_SYNC_FLAGS:"get_SYNC_FLAGS",get_SYNC_STATUS:"get_SYNC_STATUS",get_SYNC_CONDITION:"get_SYNC_CONDITION",
get_OBJECT_TYPE:"get_OBJECT_TYPE",get_UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:"get_UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",get_UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:"get_UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",get_UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:"get_UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",get_UNIFORM_BLOCK_ACTIVE_UNIFORMS:"get_UNIFORM_BLOCK_ACTIVE_UNIFORMS",get_UNIFORM_BLOCK_DATA_SIZE:"get_UNIFORM_BLOCK_DATA_SIZE",get_UNIFORM_BLOCK_BINDING:"get_UNIFORM_BLOCK_BINDING",get_UNIFORM_IS_ROW_MAJOR:"get_UNIFORM_IS_ROW_MAJOR",
get_UNIFORM_MATRIX_STRIDE:"get_UNIFORM_MATRIX_STRIDE",get_UNIFORM_ARRAY_STRIDE:"get_UNIFORM_ARRAY_STRIDE",get_UNIFORM_OFFSET:"get_UNIFORM_OFFSET",get_UNIFORM_BLOCK_INDEX:"get_UNIFORM_BLOCK_INDEX",get_UNIFORM_SIZE:"get_UNIFORM_SIZE",get_UNIFORM_TYPE:"get_UNIFORM_TYPE",get_ACTIVE_UNIFORM_BLOCKS:"get_ACTIVE_UNIFORM_BLOCKS",get_UNIFORM_BUFFER_OFFSET_ALIGNMENT:"get_UNIFORM_BUFFER_OFFSET_ALIGNMENT",get_MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:"get_MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",get_MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:"get_MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",
get_MAX_UNIFORM_BLOCK_SIZE:"get_MAX_UNIFORM_BLOCK_SIZE",get_MAX_UNIFORM_BUFFER_BINDINGS:"get_MAX_UNIFORM_BUFFER_BINDINGS",get_MAX_COMBINED_UNIFORM_BLOCKS:"get_MAX_COMBINED_UNIFORM_BLOCKS",get_MAX_FRAGMENT_UNIFORM_BLOCKS:"get_MAX_FRAGMENT_UNIFORM_BLOCKS",get_MAX_VERTEX_UNIFORM_BLOCKS:"get_MAX_VERTEX_UNIFORM_BLOCKS",get_UNIFORM_BUFFER_SIZE:"get_UNIFORM_BUFFER_SIZE",get_UNIFORM_BUFFER_START:"get_UNIFORM_BUFFER_START",get_UNIFORM_BUFFER_BINDING:"get_UNIFORM_BUFFER_BINDING",get_UNIFORM_BUFFER:"get_UNIFORM_BUFFER",
get_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:"get_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:"get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",get_RENDERBUFFER_SAMPLES:"get_RENDERBUFFER_SAMPLES",get_READ_FRAMEBUFFER_BINDING:"get_READ_FRAMEBUFFER_BINDING",get_DRAW_FRAMEBUFFER:"get_DRAW_FRAMEBUFFER",get_READ_FRAMEBUFFER:"get_READ_FRAMEBUFFER",get_DRAW_FRAMEBUFFER_BINDING:"get_DRAW_FRAMEBUFFER_BINDING",get_DEPTH24_STENCIL8:"get_DEPTH24_STENCIL8",get_FRAMEBUFFER_DEFAULT:"get_FRAMEBUFFER_DEFAULT",
get_FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:"get_FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",get_FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:"get_FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",get_FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:"get_FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",get_FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:"get_FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",get_FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:"get_FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",get_FRAMEBUFFER_ATTACHMENT_RED_SIZE:"get_FRAMEBUFFER_ATTACHMENT_RED_SIZE",get_FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:"get_FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",
get_FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:"get_FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",get_TRANSFORM_FEEDBACK_BINDING:"get_TRANSFORM_FEEDBACK_BINDING",get_TRANSFORM_FEEDBACK_ACTIVE:"get_TRANSFORM_FEEDBACK_ACTIVE",get_TRANSFORM_FEEDBACK_PAUSED:"get_TRANSFORM_FEEDBACK_PAUSED",get_TRANSFORM_FEEDBACK:"get_TRANSFORM_FEEDBACK",get_TRANSFORM_FEEDBACK_BUFFER_BINDING:"get_TRANSFORM_FEEDBACK_BUFFER_BINDING",get_TRANSFORM_FEEDBACK_BUFFER:"get_TRANSFORM_FEEDBACK_BUFFER",get_SEPARATE_ATTRIBS:"get_SEPARATE_ATTRIBS",
get_INTERLEAVED_ATTRIBS:"get_INTERLEAVED_ATTRIBS",get_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:"get_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",get_MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:"get_MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",get_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:"get_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",get_TRANSFORM_FEEDBACK_BUFFER_SIZE:"get_TRANSFORM_FEEDBACK_BUFFER_SIZE",get_TRANSFORM_FEEDBACK_BUFFER_START:"get_TRANSFORM_FEEDBACK_BUFFER_START",get_TRANSFORM_FEEDBACK_VARYINGS:"get_TRANSFORM_FEEDBACK_VARYINGS",
get_MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:"get_MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",get_TRANSFORM_FEEDBACK_BUFFER_MODE:"get_TRANSFORM_FEEDBACK_BUFFER_MODE",get_VERTEX_ATTRIB_ARRAY_DIVISOR:"get_VERTEX_ATTRIB_ARRAY_DIVISOR",get_VERTEX_ATTRIB_ARRAY_INTEGER:"get_VERTEX_ATTRIB_ARRAY_INTEGER",get_SIGNED_NORMALIZED:"get_SIGNED_NORMALIZED",get_UNSIGNED_NORMALIZED:"get_UNSIGNED_NORMALIZED",get_UNSIGNED_INT_VEC4:"get_UNSIGNED_INT_VEC4",get_UNSIGNED_INT_VEC3:"get_UNSIGNED_INT_VEC3",get_UNSIGNED_INT_VEC2:"get_UNSIGNED_INT_VEC2",
get_FLOAT_MAT4x3:"get_FLOAT_MAT4x3",get_FLOAT_MAT4x2:"get_FLOAT_MAT4x2",get_FLOAT_MAT3x4:"get_FLOAT_MAT3x4",get_FLOAT_MAT3x2:"get_FLOAT_MAT3x2",get_FLOAT_MAT2x4:"get_FLOAT_MAT2x4",get_FLOAT_MAT2x3:"get_FLOAT_MAT2x3",get_COPY_WRITE_BUFFER_BINDING:"get_COPY_WRITE_BUFFER_BINDING",get_COPY_READ_BUFFER_BINDING:"get_COPY_READ_BUFFER_BINDING",get_COPY_WRITE_BUFFER:"get_COPY_WRITE_BUFFER",get_COPY_READ_BUFFER:"get_COPY_READ_BUFFER",get_PIXEL_UNPACK_BUFFER_BINDING:"get_PIXEL_UNPACK_BUFFER_BINDING",get_PIXEL_PACK_BUFFER_BINDING:"get_PIXEL_PACK_BUFFER_BINDING",
get_PIXEL_UNPACK_BUFFER:"get_PIXEL_UNPACK_BUFFER",get_PIXEL_PACK_BUFFER:"get_PIXEL_PACK_BUFFER",get_SAMPLER_BINDING:"get_SAMPLER_BINDING",get_MAX_SAMPLES:"get_MAX_SAMPLES",get_UNSIGNED_INT_SAMPLER_2D_ARRAY:"get_UNSIGNED_INT_SAMPLER_2D_ARRAY",get_UNSIGNED_INT_SAMPLER_CUBE:"get_UNSIGNED_INT_SAMPLER_CUBE",get_UNSIGNED_INT_SAMPLER_3D:"get_UNSIGNED_INT_SAMPLER_3D",get_UNSIGNED_INT_SAMPLER_2D:"get_UNSIGNED_INT_SAMPLER_2D",get_INT_SAMPLER_2D_ARRAY:"get_INT_SAMPLER_2D_ARRAY",get_INT_SAMPLER_CUBE:"get_INT_SAMPLER_CUBE",
get_INT_SAMPLER_3D:"get_INT_SAMPLER_3D",get_INT_SAMPLER_2D:"get_INT_SAMPLER_2D",get_SAMPLER_CUBE_SHADOW:"get_SAMPLER_CUBE_SHADOW",get_SAMPLER_2D_ARRAY_SHADOW:"get_SAMPLER_2D_ARRAY_SHADOW",get_SAMPLER_2D_ARRAY:"get_SAMPLER_2D_ARRAY",get_SAMPLER_2D_SHADOW:"get_SAMPLER_2D_SHADOW",get_SAMPLER_3D:"get_SAMPLER_3D",get_COLOR_ATTACHMENT15:"get_COLOR_ATTACHMENT15",get_COLOR_ATTACHMENT14:"get_COLOR_ATTACHMENT14",get_COLOR_ATTACHMENT13:"get_COLOR_ATTACHMENT13",get_COLOR_ATTACHMENT12:"get_COLOR_ATTACHMENT12",
get_COLOR_ATTACHMENT11:"get_COLOR_ATTACHMENT11",get_COLOR_ATTACHMENT10:"get_COLOR_ATTACHMENT10",get_COLOR_ATTACHMENT9:"get_COLOR_ATTACHMENT9",get_COLOR_ATTACHMENT8:"get_COLOR_ATTACHMENT8",get_COLOR_ATTACHMENT7:"get_COLOR_ATTACHMENT7",get_COLOR_ATTACHMENT6:"get_COLOR_ATTACHMENT6",get_COLOR_ATTACHMENT5:"get_COLOR_ATTACHMENT5",get_COLOR_ATTACHMENT4:"get_COLOR_ATTACHMENT4",get_COLOR_ATTACHMENT3:"get_COLOR_ATTACHMENT3",get_COLOR_ATTACHMENT2:"get_COLOR_ATTACHMENT2",get_COLOR_ATTACHMENT1:"get_COLOR_ATTACHMENT1",
get_MAX_COLOR_ATTACHMENTS:"get_MAX_COLOR_ATTACHMENTS",get_DRAW_BUFFER15:"get_DRAW_BUFFER15",get_DRAW_BUFFER14:"get_DRAW_BUFFER14",get_DRAW_BUFFER13:"get_DRAW_BUFFER13",get_DRAW_BUFFER12:"get_DRAW_BUFFER12",get_DRAW_BUFFER11:"get_DRAW_BUFFER11",get_DRAW_BUFFER10:"get_DRAW_BUFFER10",get_DRAW_BUFFER9:"get_DRAW_BUFFER9",get_DRAW_BUFFER8:"get_DRAW_BUFFER8",get_DRAW_BUFFER7:"get_DRAW_BUFFER7",get_DRAW_BUFFER6:"get_DRAW_BUFFER6",get_DRAW_BUFFER5:"get_DRAW_BUFFER5",get_DRAW_BUFFER4:"get_DRAW_BUFFER4",get_DRAW_BUFFER3:"get_DRAW_BUFFER3",
get_DRAW_BUFFER2:"get_DRAW_BUFFER2",get_DRAW_BUFFER1:"get_DRAW_BUFFER1",get_DRAW_BUFFER0:"get_DRAW_BUFFER0",get_MAX_DRAW_BUFFERS:"get_MAX_DRAW_BUFFERS",get_ANY_SAMPLES_PASSED_CONSERVATIVE:"get_ANY_SAMPLES_PASSED_CONSERVATIVE",get_ANY_SAMPLES_PASSED:"get_ANY_SAMPLES_PASSED",get_QUERY_RESULT_AVAILABLE:"get_QUERY_RESULT_AVAILABLE",get_QUERY_RESULT:"get_QUERY_RESULT",get_CURRENT_QUERY:"get_CURRENT_QUERY",get_INT_2_10_10_10_REV:"get_INT_2_10_10_10_REV",get_RG_INTEGER:"get_RG_INTEGER",get_RG:"get_RG",get_HALF_FLOAT:"get_HALF_FLOAT",
get_UNSIGNED_INT_24_8:"get_UNSIGNED_INT_24_8",get_FLOAT_32_UNSIGNED_INT_24_8_REV:"get_FLOAT_32_UNSIGNED_INT_24_8_REV",get_UNSIGNED_INT_5_9_9_9_REV:"get_UNSIGNED_INT_5_9_9_9_REV",get_UNSIGNED_INT_10F_11F_11F_REV:"get_UNSIGNED_INT_10F_11F_11F_REV",get_UNSIGNED_INT_2_10_10_10_REV:"get_UNSIGNED_INT_2_10_10_10_REV",get_TEXTURE_IMMUTABLE_LEVELS:"get_TEXTURE_IMMUTABLE_LEVELS",get_TEXTURE_IMMUTABLE_FORMAT:"get_TEXTURE_IMMUTABLE_FORMAT",get_RGB10_A2UI:"get_RGB10_A2UI",get_RGBA8_SNORM:"get_RGBA8_SNORM",get_RGB8_SNORM:"get_RGB8_SNORM",
get_RG8_SNORM:"get_RG8_SNORM",get_R8_SNORM:"get_R8_SNORM",get_RG32UI:"get_RG32UI",get_RG32I:"get_RG32I",get_RG16UI:"get_RG16UI",get_RG16I:"get_RG16I",get_RG8UI:"get_RG8UI",get_RG8I:"get_RG8I",get_R32UI:"get_R32UI",get_R32I:"get_R32I",get_R16UI:"get_R16UI",get_R16I:"get_R16I",get_R8UI:"get_R8UI",get_R8I:"get_R8I",get_RG32F:"get_RG32F",get_RG16F:"get_RG16F",get_R32F:"get_R32F",get_R16F:"get_R16F",get_RG8:"get_RG8",get_R8:"get_R8",get_RGBA_INTEGER:"get_RGBA_INTEGER",get_RGB_INTEGER:"get_RGB_INTEGER",
get_RED_INTEGER:"get_RED_INTEGER",get_RGB8I:"get_RGB8I",get_RGBA8I:"get_RGBA8I",get_RGB16I:"get_RGB16I",get_RGBA16I:"get_RGBA16I",get_RGB32I:"get_RGB32I",get_RGBA32I:"get_RGBA32I",get_RGB8UI:"get_RGB8UI",get_RGBA8UI:"get_RGBA8UI",get_RGB16UI:"get_RGB16UI",get_RGBA16UI:"get_RGBA16UI",get_RGB32UI:"get_RGB32UI",get_RGBA32UI:"get_RGBA32UI",get_RGB9_E5:"get_RGB9_E5",get_R11F_G11F_B10F:"get_R11F_G11F_B10F",get_TEXTURE_BINDING_2D_ARRAY:"get_TEXTURE_BINDING_2D_ARRAY",get_TEXTURE_2D_ARRAY:"get_TEXTURE_2D_ARRAY",
get_RGB16F:"get_RGB16F",get_RGBA16F:"get_RGBA16F",get_RGB32F:"get_RGB32F",get_RGBA32F:"get_RGBA32F",get_COMPARE_REF_TO_TEXTURE:"get_COMPARE_REF_TO_TEXTURE",get_SRGB8_ALPHA8:"get_SRGB8_ALPHA8",get_SRGB8:"get_SRGB8",get_SRGB:"get_SRGB",get_TEXTURE_COMPARE_FUNC:"get_TEXTURE_COMPARE_FUNC",get_TEXTURE_COMPARE_MODE:"get_TEXTURE_COMPARE_MODE",get_TEXTURE_MAX_LEVEL:"get_TEXTURE_MAX_LEVEL",get_TEXTURE_BASE_LEVEL:"get_TEXTURE_BASE_LEVEL",get_TEXTURE_MAX_LOD:"get_TEXTURE_MAX_LOD",get_TEXTURE_MIN_LOD:"get_TEXTURE_MIN_LOD",
get_TEXTURE_WRAP_R:"get_TEXTURE_WRAP_R",get_TEXTURE_3D:"get_TEXTURE_3D",get_RGB10_A2:"get_RGB10_A2",get_RGBA8:"get_RGBA8",get_RGB8:"get_RGB8",get_RED:"get_RED",get_MAX_ELEMENT_INDEX:"get_MAX_ELEMENT_INDEX",get_MAX_SERVER_WAIT_TIMEOUT:"get_MAX_SERVER_WAIT_TIMEOUT",get_MAX_FRAGMENT_INPUT_COMPONENTS:"get_MAX_FRAGMENT_INPUT_COMPONENTS",get_MAX_VERTEX_OUTPUT_COMPONENTS:"get_MAX_VERTEX_OUTPUT_COMPONENTS",get_VERTEX_ARRAY_BINDING:"get_VERTEX_ARRAY_BINDING",get_RASTERIZER_DISCARD:"get_RASTERIZER_DISCARD",
get_FRAGMENT_SHADER_DERIVATIVE_HINT:"get_FRAGMENT_SHADER_DERIVATIVE_HINT",get_MAX_VARYING_COMPONENTS:"get_MAX_VARYING_COMPONENTS",get_MAX_PROGRAM_TEXEL_OFFSET:"get_MAX_PROGRAM_TEXEL_OFFSET",get_MIN_PROGRAM_TEXEL_OFFSET:"get_MIN_PROGRAM_TEXEL_OFFSET",get_MAX_ARRAY_TEXTURE_LAYERS:"get_MAX_ARRAY_TEXTURE_LAYERS",get_MAX_VERTEX_UNIFORM_COMPONENTS:"get_MAX_VERTEX_UNIFORM_COMPONENTS",get_MAX_FRAGMENT_UNIFORM_COMPONENTS:"get_MAX_FRAGMENT_UNIFORM_COMPONENTS",get_MAX_TEXTURE_LOD_BIAS:"get_MAX_TEXTURE_LOD_BIAS",
get_MAX_ELEMENTS_INDICES:"get_MAX_ELEMENTS_INDICES",get_MAX_ELEMENTS_VERTICES:"get_MAX_ELEMENTS_VERTICES",get_MAX_3D_TEXTURE_SIZE:"get_MAX_3D_TEXTURE_SIZE",get_UNPACK_IMAGE_HEIGHT:"get_UNPACK_IMAGE_HEIGHT",get_UNPACK_SKIP_IMAGES:"get_UNPACK_SKIP_IMAGES",get_TEXTURE_BINDING_3D:"get_TEXTURE_BINDING_3D",get_PACK_SKIP_PIXELS:"get_PACK_SKIP_PIXELS",get_PACK_SKIP_ROWS:"get_PACK_SKIP_ROWS",get_PACK_ROW_LENGTH:"get_PACK_ROW_LENGTH",get_UNPACK_SKIP_PIXELS:"get_UNPACK_SKIP_PIXELS",get_UNPACK_SKIP_ROWS:"get_UNPACK_SKIP_ROWS",
get_UNPACK_ROW_LENGTH:"get_UNPACK_ROW_LENGTH",get_READ_BUFFER:"get_READ_BUFFER",get_BROWSER_DEFAULT_WEBGL:"get_BROWSER_DEFAULT_WEBGL",get_UNPACK_COLORSPACE_CONVERSION_WEBGL:"get_UNPACK_COLORSPACE_CONVERSION_WEBGL",get_CONTEXT_LOST_WEBGL:"get_CONTEXT_LOST_WEBGL",get_UNPACK_PREMULTIPLY_ALPHA_WEBGL:"get_UNPACK_PREMULTIPLY_ALPHA_WEBGL",get_UNPACK_FLIP_Y_WEBGL:"get_UNPACK_FLIP_Y_WEBGL",get_INVALID_FRAMEBUFFER_OPERATION:"get_INVALID_FRAMEBUFFER_OPERATION",get_MAX_RENDERBUFFER_SIZE:"get_MAX_RENDERBUFFER_SIZE",
get_RENDERBUFFER_BINDING:"get_RENDERBUFFER_BINDING",get_FRAMEBUFFER_BINDING:"get_FRAMEBUFFER_BINDING",get_FRAMEBUFFER_UNSUPPORTED:"get_FRAMEBUFFER_UNSUPPORTED",get_FRAMEBUFFER_INCOMPLETE_DIMENSIONS:"get_FRAMEBUFFER_INCOMPLETE_DIMENSIONS",get_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:"get_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",get_FRAMEBUFFER_INCOMPLETE_ATTACHMENT:"get_FRAMEBUFFER_INCOMPLETE_ATTACHMENT",get_FRAMEBUFFER_COMPLETE:"get_FRAMEBUFFER_COMPLETE",get_NONE:"get_NONE",get_DEPTH_STENCIL_ATTACHMENT:"get_DEPTH_STENCIL_ATTACHMENT",
get_STENCIL_ATTACHMENT:"get_STENCIL_ATTACHMENT",get_DEPTH_ATTACHMENT:"get_DEPTH_ATTACHMENT",get_COLOR_ATTACHMENT0:"get_COLOR_ATTACHMENT0",get_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:"get_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:"get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",get_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:"get_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",get_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:"get_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",get_RENDERBUFFER_STENCIL_SIZE:"get_RENDERBUFFER_STENCIL_SIZE",
get_RENDERBUFFER_DEPTH_SIZE:"get_RENDERBUFFER_DEPTH_SIZE",get_RENDERBUFFER_ALPHA_SIZE:"get_RENDERBUFFER_ALPHA_SIZE",get_RENDERBUFFER_BLUE_SIZE:"get_RENDERBUFFER_BLUE_SIZE",get_RENDERBUFFER_GREEN_SIZE:"get_RENDERBUFFER_GREEN_SIZE",get_RENDERBUFFER_RED_SIZE:"get_RENDERBUFFER_RED_SIZE",get_RENDERBUFFER_INTERNAL_FORMAT:"get_RENDERBUFFER_INTERNAL_FORMAT",get_RENDERBUFFER_HEIGHT:"get_RENDERBUFFER_HEIGHT",get_RENDERBUFFER_WIDTH:"get_RENDERBUFFER_WIDTH",get_DEPTH_STENCIL:"get_DEPTH_STENCIL",get_STENCIL_INDEX8:"get_STENCIL_INDEX8",
get_STENCIL_INDEX:"get_STENCIL_INDEX",get_DEPTH_COMPONENT16:"get_DEPTH_COMPONENT16",get_RGB565:"get_RGB565",get_RGB5_A1:"get_RGB5_A1",get_RGBA4:"get_RGBA4",get_RENDERBUFFER:"get_RENDERBUFFER",get_FRAMEBUFFER:"get_FRAMEBUFFER",get_HIGH_INT:"get_HIGH_INT",get_MEDIUM_INT:"get_MEDIUM_INT",get_LOW_INT:"get_LOW_INT",get_HIGH_FLOAT:"get_HIGH_FLOAT",get_MEDIUM_FLOAT:"get_MEDIUM_FLOAT",get_LOW_FLOAT:"get_LOW_FLOAT",get_COMPILE_STATUS:"get_COMPILE_STATUS",get_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:"get_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",
get_VERTEX_ATTRIB_ARRAY_POINTER:"get_VERTEX_ATTRIB_ARRAY_POINTER",get_VERTEX_ATTRIB_ARRAY_NORMALIZED:"get_VERTEX_ATTRIB_ARRAY_NORMALIZED",get_VERTEX_ATTRIB_ARRAY_TYPE:"get_VERTEX_ATTRIB_ARRAY_TYPE",get_VERTEX_ATTRIB_ARRAY_STRIDE:"get_VERTEX_ATTRIB_ARRAY_STRIDE",get_VERTEX_ATTRIB_ARRAY_SIZE:"get_VERTEX_ATTRIB_ARRAY_SIZE",get_VERTEX_ATTRIB_ARRAY_ENABLED:"get_VERTEX_ATTRIB_ARRAY_ENABLED",get_SAMPLER_CUBE:"get_SAMPLER_CUBE",get_SAMPLER_2D:"get_SAMPLER_2D",get_FLOAT_MAT4:"get_FLOAT_MAT4",get_FLOAT_MAT3:"get_FLOAT_MAT3",
get_FLOAT_MAT2:"get_FLOAT_MAT2",get_BOOL_VEC4:"get_BOOL_VEC4",get_BOOL_VEC3:"get_BOOL_VEC3",get_BOOL_VEC2:"get_BOOL_VEC2",get_BOOL:"get_BOOL",get_INT_VEC4:"get_INT_VEC4",get_INT_VEC3:"get_INT_VEC3",get_INT_VEC2:"get_INT_VEC2",get_FLOAT_VEC4:"get_FLOAT_VEC4",get_FLOAT_VEC3:"get_FLOAT_VEC3",get_FLOAT_VEC2:"get_FLOAT_VEC2",get_MIRRORED_REPEAT:"get_MIRRORED_REPEAT",get_CLAMP_TO_EDGE:"get_CLAMP_TO_EDGE",get_REPEAT:"get_REPEAT",get_ACTIVE_TEXTURE:"get_ACTIVE_TEXTURE",get_TEXTURE31:"get_TEXTURE31",get_TEXTURE30:"get_TEXTURE30",
get_TEXTURE29:"get_TEXTURE29",get_TEXTURE28:"get_TEXTURE28",get_TEXTURE27:"get_TEXTURE27",get_TEXTURE26:"get_TEXTURE26",get_TEXTURE25:"get_TEXTURE25",get_TEXTURE24:"get_TEXTURE24",get_TEXTURE23:"get_TEXTURE23",get_TEXTURE22:"get_TEXTURE22",get_TEXTURE21:"get_TEXTURE21",get_TEXTURE20:"get_TEXTURE20",get_TEXTURE19:"get_TEXTURE19",get_TEXTURE18:"get_TEXTURE18",get_TEXTURE17:"get_TEXTURE17",get_TEXTURE16:"get_TEXTURE16",get_TEXTURE15:"get_TEXTURE15",get_TEXTURE14:"get_TEXTURE14",get_TEXTURE13:"get_TEXTURE13",
get_TEXTURE12:"get_TEXTURE12",get_TEXTURE11:"get_TEXTURE11",get_TEXTURE10:"get_TEXTURE10",get_TEXTURE9:"get_TEXTURE9",get_TEXTURE8:"get_TEXTURE8",get_TEXTURE7:"get_TEXTURE7",get_TEXTURE6:"get_TEXTURE6",get_TEXTURE5:"get_TEXTURE5",get_TEXTURE4:"get_TEXTURE4",get_TEXTURE3:"get_TEXTURE3",get_TEXTURE2:"get_TEXTURE2",get_TEXTURE1:"get_TEXTURE1",get_TEXTURE0:"get_TEXTURE0",get_MAX_CUBE_MAP_TEXTURE_SIZE:"get_MAX_CUBE_MAP_TEXTURE_SIZE",get_TEXTURE_CUBE_MAP_NEGATIVE_Z:"get_TEXTURE_CUBE_MAP_NEGATIVE_Z",get_TEXTURE_CUBE_MAP_POSITIVE_Z:"get_TEXTURE_CUBE_MAP_POSITIVE_Z",
get_TEXTURE_CUBE_MAP_NEGATIVE_Y:"get_TEXTURE_CUBE_MAP_NEGATIVE_Y",get_TEXTURE_CUBE_MAP_POSITIVE_Y:"get_TEXTURE_CUBE_MAP_POSITIVE_Y",get_TEXTURE_CUBE_MAP_NEGATIVE_X:"get_TEXTURE_CUBE_MAP_NEGATIVE_X",get_TEXTURE_CUBE_MAP_POSITIVE_X:"get_TEXTURE_CUBE_MAP_POSITIVE_X",get_TEXTURE_BINDING_CUBE_MAP:"get_TEXTURE_BINDING_CUBE_MAP",get_TEXTURE_CUBE_MAP:"get_TEXTURE_CUBE_MAP",get_TEXTURE:"get_TEXTURE",get_TEXTURE_2D:"get_TEXTURE_2D",get_TEXTURE_WRAP_T:"get_TEXTURE_WRAP_T",get_TEXTURE_WRAP_S:"get_TEXTURE_WRAP_S",
get_TEXTURE_MIN_FILTER:"get_TEXTURE_MIN_FILTER",get_TEXTURE_MAG_FILTER:"get_TEXTURE_MAG_FILTER",get_LINEAR_MIPMAP_LINEAR:"get_LINEAR_MIPMAP_LINEAR",get_NEAREST_MIPMAP_LINEAR:"get_NEAREST_MIPMAP_LINEAR",get_LINEAR_MIPMAP_NEAREST:"get_LINEAR_MIPMAP_NEAREST",get_NEAREST_MIPMAP_NEAREST:"get_NEAREST_MIPMAP_NEAREST",get_LINEAR:"get_LINEAR",get_NEAREST:"get_NEAREST",get_VERSION:"get_VERSION",get_RENDERER:"get_RENDERER",get_VENDOR:"get_VENDOR",get_DECR_WRAP:"get_DECR_WRAP",get_INCR_WRAP:"get_INCR_WRAP",get_INVERT:"get_INVERT",
get_DECR:"get_DECR",get_INCR:"get_INCR",get_REPLACE:"get_REPLACE",get_KEEP:"get_KEEP",get_ALWAYS:"get_ALWAYS",get_GEQUAL:"get_GEQUAL",get_NOTEQUAL:"get_NOTEQUAL",get_GREATER:"get_GREATER",get_LEQUAL:"get_LEQUAL",get_EQUAL:"get_EQUAL",get_LESS:"get_LESS",get_NEVER:"get_NEVER",get_CURRENT_PROGRAM:"get_CURRENT_PROGRAM",get_SHADING_LANGUAGE_VERSION:"get_SHADING_LANGUAGE_VERSION",get_ACTIVE_ATTRIBUTES:"get_ACTIVE_ATTRIBUTES",get_ACTIVE_UNIFORMS:"get_ACTIVE_UNIFORMS",get_ATTACHED_SHADERS:"get_ATTACHED_SHADERS",
get_VALIDATE_STATUS:"get_VALIDATE_STATUS",get_LINK_STATUS:"get_LINK_STATUS",get_DELETE_STATUS:"get_DELETE_STATUS",get_SHADER_TYPE:"get_SHADER_TYPE",get_MAX_FRAGMENT_UNIFORM_VECTORS:"get_MAX_FRAGMENT_UNIFORM_VECTORS",get_MAX_TEXTURE_IMAGE_UNITS:"get_MAX_TEXTURE_IMAGE_UNITS",get_MAX_VERTEX_TEXTURE_IMAGE_UNITS:"get_MAX_VERTEX_TEXTURE_IMAGE_UNITS",get_MAX_COMBINED_TEXTURE_IMAGE_UNITS:"get_MAX_COMBINED_TEXTURE_IMAGE_UNITS",get_MAX_VARYING_VECTORS:"get_MAX_VARYING_VECTORS",get_MAX_VERTEX_UNIFORM_VECTORS:"get_MAX_VERTEX_UNIFORM_VECTORS",
get_MAX_VERTEX_ATTRIBS:"get_MAX_VERTEX_ATTRIBS",get_VERTEX_SHADER:"get_VERTEX_SHADER",get_FRAGMENT_SHADER:"get_FRAGMENT_SHADER",get_UNSIGNED_SHORT_5_6_5:"get_UNSIGNED_SHORT_5_6_5",get_UNSIGNED_SHORT_5_5_5_1:"get_UNSIGNED_SHORT_5_5_5_1",get_UNSIGNED_SHORT_4_4_4_4:"get_UNSIGNED_SHORT_4_4_4_4",get_LUMINANCE_ALPHA:"get_LUMINANCE_ALPHA",get_LUMINANCE:"get_LUMINANCE",get_RGBA:"get_RGBA",get_RGB:"get_RGB",get_ALPHA:"get_ALPHA",get_DEPTH_COMPONENT:"get_DEPTH_COMPONENT",get_FLOAT:"get_FLOAT",get_UNSIGNED_INT:"get_UNSIGNED_INT",
get_INT:"get_INT",get_UNSIGNED_SHORT:"get_UNSIGNED_SHORT",get_SHORT:"get_SHORT",get_UNSIGNED_BYTE:"get_UNSIGNED_BYTE",get_BYTE:"get_BYTE",get_GENERATE_MIPMAP_HINT:"get_GENERATE_MIPMAP_HINT",get_NICEST:"get_NICEST",get_FASTEST:"get_FASTEST",get_DONT_CARE:"get_DONT_CARE",get_COMPRESSED_TEXTURE_FORMATS:"get_COMPRESSED_TEXTURE_FORMATS",get_SAMPLE_COVERAGE_INVERT:"get_SAMPLE_COVERAGE_INVERT",get_SAMPLE_COVERAGE_VALUE:"get_SAMPLE_COVERAGE_VALUE",get_SAMPLES:"get_SAMPLES",get_SAMPLE_BUFFERS:"get_SAMPLE_BUFFERS",
get_TEXTURE_BINDING_2D:"get_TEXTURE_BINDING_2D",get_POLYGON_OFFSET_FACTOR:"get_POLYGON_OFFSET_FACTOR",get_POLYGON_OFFSET_UNITS:"get_POLYGON_OFFSET_UNITS",get_STENCIL_BITS:"get_STENCIL_BITS",get_DEPTH_BITS:"get_DEPTH_BITS",get_ALPHA_BITS:"get_ALPHA_BITS",get_BLUE_BITS:"get_BLUE_BITS",get_GREEN_BITS:"get_GREEN_BITS",get_RED_BITS:"get_RED_BITS",get_SUBPIXEL_BITS:"get_SUBPIXEL_BITS",get_MAX_VIEWPORT_DIMS:"get_MAX_VIEWPORT_DIMS",get_MAX_TEXTURE_SIZE:"get_MAX_TEXTURE_SIZE",get_PACK_ALIGNMENT:"get_PACK_ALIGNMENT",
get_UNPACK_ALIGNMENT:"get_UNPACK_ALIGNMENT",get_COLOR_WRITEMASK:"get_COLOR_WRITEMASK",get_COLOR_CLEAR_VALUE:"get_COLOR_CLEAR_VALUE",get_SCISSOR_BOX:"get_SCISSOR_BOX",get_VIEWPORT:"get_VIEWPORT",get_STENCIL_BACK_WRITEMASK:"get_STENCIL_BACK_WRITEMASK",get_STENCIL_BACK_VALUE_MASK:"get_STENCIL_BACK_VALUE_MASK",get_STENCIL_BACK_REF:"get_STENCIL_BACK_REF",get_STENCIL_BACK_PASS_DEPTH_PASS:"get_STENCIL_BACK_PASS_DEPTH_PASS",get_STENCIL_BACK_PASS_DEPTH_FAIL:"get_STENCIL_BACK_PASS_DEPTH_FAIL",get_STENCIL_BACK_FAIL:"get_STENCIL_BACK_FAIL",
get_STENCIL_BACK_FUNC:"get_STENCIL_BACK_FUNC",get_STENCIL_WRITEMASK:"get_STENCIL_WRITEMASK",get_STENCIL_VALUE_MASK:"get_STENCIL_VALUE_MASK",get_STENCIL_REF:"get_STENCIL_REF",get_STENCIL_PASS_DEPTH_PASS:"get_STENCIL_PASS_DEPTH_PASS",get_STENCIL_PASS_DEPTH_FAIL:"get_STENCIL_PASS_DEPTH_FAIL",get_STENCIL_FAIL:"get_STENCIL_FAIL",get_STENCIL_FUNC:"get_STENCIL_FUNC",get_STENCIL_CLEAR_VALUE:"get_STENCIL_CLEAR_VALUE",get_DEPTH_FUNC:"get_DEPTH_FUNC",get_DEPTH_CLEAR_VALUE:"get_DEPTH_CLEAR_VALUE",get_DEPTH_WRITEMASK:"get_DEPTH_WRITEMASK",
get_DEPTH_RANGE:"get_DEPTH_RANGE",get_FRONT_FACE:"get_FRONT_FACE",get_CULL_FACE_MODE:"get_CULL_FACE_MODE",get_ALIASED_LINE_WIDTH_RANGE:"get_ALIASED_LINE_WIDTH_RANGE",get_ALIASED_POINT_SIZE_RANGE:"get_ALIASED_POINT_SIZE_RANGE",get_LINE_WIDTH:"get_LINE_WIDTH",get_CCW:"get_CCW",get_CW:"get_CW",get_OUT_OF_MEMORY:"get_OUT_OF_MEMORY",get_INVALID_OPERATION:"get_INVALID_OPERATION",get_INVALID_VALUE:"get_INVALID_VALUE",get_INVALID_ENUM:"get_INVALID_ENUM",get_NO_ERROR:"get_NO_ERROR",get_SAMPLE_COVERAGE:"get_SAMPLE_COVERAGE",
get_SAMPLE_ALPHA_TO_COVERAGE:"get_SAMPLE_ALPHA_TO_COVERAGE",get_POLYGON_OFFSET_FILL:"get_POLYGON_OFFSET_FILL",get_SCISSOR_TEST:"get_SCISSOR_TEST",get_DEPTH_TEST:"get_DEPTH_TEST",get_STENCIL_TEST:"get_STENCIL_TEST",get_DITHER:"get_DITHER",get_BLEND:"get_BLEND",get_CULL_FACE:"get_CULL_FACE",get_FRONT_AND_BACK:"get_FRONT_AND_BACK",get_BACK:"get_BACK",get_FRONT:"get_FRONT",get_CURRENT_VERTEX_ATTRIB:"get_CURRENT_VERTEX_ATTRIB",get_BUFFER_USAGE:"get_BUFFER_USAGE",get_BUFFER_SIZE:"get_BUFFER_SIZE",get_DYNAMIC_DRAW:"get_DYNAMIC_DRAW",
get_STATIC_DRAW:"get_STATIC_DRAW",get_STREAM_DRAW:"get_STREAM_DRAW",get_ELEMENT_ARRAY_BUFFER_BINDING:"get_ELEMENT_ARRAY_BUFFER_BINDING",get_ARRAY_BUFFER_BINDING:"get_ARRAY_BUFFER_BINDING",get_ELEMENT_ARRAY_BUFFER:"get_ELEMENT_ARRAY_BUFFER",get_ARRAY_BUFFER:"get_ARRAY_BUFFER",get_BLEND_COLOR:"get_BLEND_COLOR",get_ONE_MINUS_CONSTANT_ALPHA:"get_ONE_MINUS_CONSTANT_ALPHA",get_CONSTANT_ALPHA:"get_CONSTANT_ALPHA",get_ONE_MINUS_CONSTANT_COLOR:"get_ONE_MINUS_CONSTANT_COLOR",get_CONSTANT_COLOR:"get_CONSTANT_COLOR",
get_BLEND_SRC_ALPHA:"get_BLEND_SRC_ALPHA",get_BLEND_DST_ALPHA:"get_BLEND_DST_ALPHA",get_BLEND_SRC_RGB:"get_BLEND_SRC_RGB",get_BLEND_DST_RGB:"get_BLEND_DST_RGB",get_FUNC_REVERSE_SUBTRACT:"get_FUNC_REVERSE_SUBTRACT",get_FUNC_SUBTRACT:"get_FUNC_SUBTRACT",get_BLEND_EQUATION_ALPHA:"get_BLEND_EQUATION_ALPHA",get_BLEND_EQUATION_RGB:"get_BLEND_EQUATION_RGB",get_BLEND_EQUATION:"get_BLEND_EQUATION",get_FUNC_ADD:"get_FUNC_ADD",get_SRC_ALPHA_SATURATE:"get_SRC_ALPHA_SATURATE",get_ONE_MINUS_DST_COLOR:"get_ONE_MINUS_DST_COLOR",
get_DST_COLOR:"get_DST_COLOR",get_ONE_MINUS_DST_ALPHA:"get_ONE_MINUS_DST_ALPHA",get_DST_ALPHA:"get_DST_ALPHA",get_ONE_MINUS_SRC_ALPHA:"get_ONE_MINUS_SRC_ALPHA",get_SRC_ALPHA:"get_SRC_ALPHA",get_ONE_MINUS_SRC_COLOR:"get_ONE_MINUS_SRC_COLOR",get_SRC_COLOR:"get_SRC_COLOR",get_ONE:"get_ONE",get_ZERO:"get_ZERO",get_TRIANGLE_FAN:"get_TRIANGLE_FAN",get_TRIANGLE_STRIP:"get_TRIANGLE_STRIP",get_TRIANGLES:"get_TRIANGLES",get_LINE_STRIP:"get_LINE_STRIP",get_LINE_LOOP:"get_LINE_LOOP",get_LINES:"get_LINES",get_POINTS:"get_POINTS",
get_COLOR_BUFFER_BIT:"get_COLOR_BUFFER_BIT",get_STENCIL_BUFFER_BIT:"get_STENCIL_BUFFER_BIT",get_DEPTH_BUFFER_BIT:"get_DEPTH_BUFFER_BIT"};q.get_DEPTH_BUFFER_BIT=function(a){return a.DEPTH_BUFFER_BIT};q.get_STENCIL_BUFFER_BIT=function(a){return a.STENCIL_BUFFER_BIT};q.get_COLOR_BUFFER_BIT=function(a){return a.COLOR_BUFFER_BIT};q.get_POINTS=function(a){return a.POINTS};q.get_LINES=function(a){return a.LINES};q.get_LINE_LOOP=function(a){return a.LINE_LOOP};q.get_LINE_STRIP=function(a){return a.LINE_STRIP};
q.get_TRIANGLES=function(a){return a.TRIANGLES};q.get_TRIANGLE_STRIP=function(a){return a.TRIANGLE_STRIP};q.get_TRIANGLE_FAN=function(a){return a.TRIANGLE_FAN};q.get_ZERO=function(a){return a.ZERO};q.get_ONE=function(a){return a.ONE};q.get_SRC_COLOR=function(a){return a.SRC_COLOR};q.get_ONE_MINUS_SRC_COLOR=function(a){return a.ONE_MINUS_SRC_COLOR};q.get_SRC_ALPHA=function(a){return a.SRC_ALPHA};q.get_ONE_MINUS_SRC_ALPHA=function(a){return a.ONE_MINUS_SRC_ALPHA};q.get_DST_ALPHA=function(a){return a.DST_ALPHA};
q.get_ONE_MINUS_DST_ALPHA=function(a){return a.ONE_MINUS_DST_ALPHA};q.get_DST_COLOR=function(a){return a.DST_COLOR};q.get_ONE_MINUS_DST_COLOR=function(a){return a.ONE_MINUS_DST_COLOR};q.get_SRC_ALPHA_SATURATE=function(a){return a.SRC_ALPHA_SATURATE};q.get_FUNC_ADD=function(a){return a.FUNC_ADD};q.get_BLEND_EQUATION=function(a){return a.BLEND_EQUATION};q.get_BLEND_EQUATION_RGB=function(a){return a.BLEND_EQUATION_RGB};q.get_BLEND_EQUATION_ALPHA=function(a){return a.BLEND_EQUATION_ALPHA};q.get_FUNC_SUBTRACT=
function(a){return a.FUNC_SUBTRACT};q.get_FUNC_REVERSE_SUBTRACT=function(a){return a.FUNC_REVERSE_SUBTRACT};q.get_BLEND_DST_RGB=function(a){return a.BLEND_DST_RGB};q.get_BLEND_SRC_RGB=function(a){return a.BLEND_SRC_RGB};q.get_BLEND_DST_ALPHA=function(a){return a.BLEND_DST_ALPHA};q.get_BLEND_SRC_ALPHA=function(a){return a.BLEND_SRC_ALPHA};q.get_CONSTANT_COLOR=function(a){return a.CONSTANT_COLOR};q.get_ONE_MINUS_CONSTANT_COLOR=function(a){return a.ONE_MINUS_CONSTANT_COLOR};q.get_CONSTANT_ALPHA=function(a){return a.CONSTANT_ALPHA};
q.get_ONE_MINUS_CONSTANT_ALPHA=function(a){return a.ONE_MINUS_CONSTANT_ALPHA};q.get_BLEND_COLOR=function(a){return a.BLEND_COLOR};q.get_ARRAY_BUFFER=function(a){return a.ARRAY_BUFFER};q.get_ELEMENT_ARRAY_BUFFER=function(a){return a.ELEMENT_ARRAY_BUFFER};q.get_ARRAY_BUFFER_BINDING=function(a){return a.ARRAY_BUFFER_BINDING};q.get_ELEMENT_ARRAY_BUFFER_BINDING=function(a){return a.ELEMENT_ARRAY_BUFFER_BINDING};q.get_STREAM_DRAW=function(a){return a.STREAM_DRAW};q.get_STATIC_DRAW=function(a){return a.STATIC_DRAW};
q.get_DYNAMIC_DRAW=function(a){return a.DYNAMIC_DRAW};q.get_BUFFER_SIZE=function(a){return a.BUFFER_SIZE};q.get_BUFFER_USAGE=function(a){return a.BUFFER_USAGE};q.get_CURRENT_VERTEX_ATTRIB=function(a){return a.CURRENT_VERTEX_ATTRIB};q.get_FRONT=function(a){return a.FRONT};q.get_BACK=function(a){return a.BACK};q.get_FRONT_AND_BACK=function(a){return a.FRONT_AND_BACK};q.get_CULL_FACE=function(a){return a.CULL_FACE};q.get_BLEND=function(a){return a.BLEND};q.get_DITHER=function(a){return a.DITHER};q.get_STENCIL_TEST=
function(a){return a.STENCIL_TEST};q.get_DEPTH_TEST=function(a){return a.DEPTH_TEST};q.get_SCISSOR_TEST=function(a){return a.SCISSOR_TEST};q.get_POLYGON_OFFSET_FILL=function(a){return a.POLYGON_OFFSET_FILL};q.get_SAMPLE_ALPHA_TO_COVERAGE=function(a){return a.SAMPLE_ALPHA_TO_COVERAGE};q.get_SAMPLE_COVERAGE=function(a){return a.SAMPLE_COVERAGE};q.get_NO_ERROR=function(a){return a.NO_ERROR};q.get_INVALID_ENUM=function(a){return a.INVALID_ENUM};q.get_INVALID_VALUE=function(a){return a.INVALID_VALUE};
q.get_INVALID_OPERATION=function(a){return a.INVALID_OPERATION};q.get_OUT_OF_MEMORY=function(a){return a.OUT_OF_MEMORY};q.get_CW=function(a){return a.CW};q.get_CCW=function(a){return a.CCW};q.get_LINE_WIDTH=function(a){return a.LINE_WIDTH};q.get_ALIASED_POINT_SIZE_RANGE=function(a){return a.ALIASED_POINT_SIZE_RANGE};q.get_ALIASED_LINE_WIDTH_RANGE=function(a){return a.ALIASED_LINE_WIDTH_RANGE};q.get_CULL_FACE_MODE=function(a){return a.CULL_FACE_MODE};q.get_FRONT_FACE=function(a){return a.FRONT_FACE};
q.get_DEPTH_RANGE=function(a){return a.DEPTH_RANGE};q.get_DEPTH_WRITEMASK=function(a){return a.DEPTH_WRITEMASK};q.get_DEPTH_CLEAR_VALUE=function(a){return a.DEPTH_CLEAR_VALUE};q.get_DEPTH_FUNC=function(a){return a.DEPTH_FUNC};q.get_STENCIL_CLEAR_VALUE=function(a){return a.STENCIL_CLEAR_VALUE};q.get_STENCIL_FUNC=function(a){return a.STENCIL_FUNC};q.get_STENCIL_FAIL=function(a){return a.STENCIL_FAIL};q.get_STENCIL_PASS_DEPTH_FAIL=function(a){return a.STENCIL_PASS_DEPTH_FAIL};q.get_STENCIL_PASS_DEPTH_PASS=
function(a){return a.STENCIL_PASS_DEPTH_PASS};q.get_STENCIL_REF=function(a){return a.STENCIL_REF};q.get_STENCIL_VALUE_MASK=function(a){return a.STENCIL_VALUE_MASK};q.get_STENCIL_WRITEMASK=function(a){return a.STENCIL_WRITEMASK};q.get_STENCIL_BACK_FUNC=function(a){return a.STENCIL_BACK_FUNC};q.get_STENCIL_BACK_FAIL=function(a){return a.STENCIL_BACK_FAIL};q.get_STENCIL_BACK_PASS_DEPTH_FAIL=function(a){return a.STENCIL_BACK_PASS_DEPTH_FAIL};q.get_STENCIL_BACK_PASS_DEPTH_PASS=function(a){return a.STENCIL_BACK_PASS_DEPTH_PASS};
q.get_STENCIL_BACK_REF=function(a){return a.STENCIL_BACK_REF};q.get_STENCIL_BACK_VALUE_MASK=function(a){return a.STENCIL_BACK_VALUE_MASK};q.get_STENCIL_BACK_WRITEMASK=function(a){return a.STENCIL_BACK_WRITEMASK};q.get_VIEWPORT=function(a){return a.VIEWPORT};q.get_SCISSOR_BOX=function(a){return a.SCISSOR_BOX};q.get_COLOR_CLEAR_VALUE=function(a){return a.COLOR_CLEAR_VALUE};q.get_COLOR_WRITEMASK=function(a){return a.COLOR_WRITEMASK};q.get_UNPACK_ALIGNMENT=function(a){return a.UNPACK_ALIGNMENT};q.get_PACK_ALIGNMENT=
function(a){return a.PACK_ALIGNMENT};q.get_MAX_TEXTURE_SIZE=function(a){return a.MAX_TEXTURE_SIZE};q.get_MAX_VIEWPORT_DIMS=function(a){return a.MAX_VIEWPORT_DIMS};q.get_SUBPIXEL_BITS=function(a){return a.SUBPIXEL_BITS};q.get_RED_BITS=function(a){return a.RED_BITS};q.get_GREEN_BITS=function(a){return a.GREEN_BITS};q.get_BLUE_BITS=function(a){return a.BLUE_BITS};q.get_ALPHA_BITS=function(a){return a.ALPHA_BITS};q.get_DEPTH_BITS=function(a){return a.DEPTH_BITS};q.get_STENCIL_BITS=function(a){return a.STENCIL_BITS};
q.get_POLYGON_OFFSET_UNITS=function(a){return a.POLYGON_OFFSET_UNITS};q.get_POLYGON_OFFSET_FACTOR=function(a){return a.POLYGON_OFFSET_FACTOR};q.get_TEXTURE_BINDING_2D=function(a){return a.TEXTURE_BINDING_2D};q.get_SAMPLE_BUFFERS=function(a){return a.SAMPLE_BUFFERS};q.get_SAMPLES=function(a){return a.SAMPLES};q.get_SAMPLE_COVERAGE_VALUE=function(a){return a.SAMPLE_COVERAGE_VALUE};q.get_SAMPLE_COVERAGE_INVERT=function(a){return a.SAMPLE_COVERAGE_INVERT};q.get_COMPRESSED_TEXTURE_FORMATS=function(a){return a.COMPRESSED_TEXTURE_FORMATS};
q.get_DONT_CARE=function(a){return a.DONT_CARE};q.get_FASTEST=function(a){return a.FASTEST};q.get_NICEST=function(a){return a.NICEST};q.get_GENERATE_MIPMAP_HINT=function(a){return a.GENERATE_MIPMAP_HINT};q.get_BYTE=function(a){return a.BYTE};q.get_UNSIGNED_BYTE=function(a){return a.UNSIGNED_BYTE};q.get_SHORT=function(a){return a.SHORT};q.get_UNSIGNED_SHORT=function(a){return a.UNSIGNED_SHORT};q.get_INT=function(a){return a.INT};q.get_UNSIGNED_INT=function(a){return a.UNSIGNED_INT};q.get_FLOAT=function(a){return a.FLOAT};
q.get_DEPTH_COMPONENT=function(a){return a.DEPTH_COMPONENT};q.get_ALPHA=function(a){return a.ALPHA};q.get_RGB=function(a){return a.RGB};q.get_RGBA=function(a){return a.RGBA};q.get_LUMINANCE=function(a){return a.LUMINANCE};q.get_LUMINANCE_ALPHA=function(a){return a.LUMINANCE_ALPHA};q.get_UNSIGNED_SHORT_4_4_4_4=function(a){return a.UNSIGNED_SHORT_4_4_4_4};q.get_UNSIGNED_SHORT_5_5_5_1=function(a){return a.UNSIGNED_SHORT_5_5_5_1};q.get_UNSIGNED_SHORT_5_6_5=function(a){return a.UNSIGNED_SHORT_5_6_5};q.get_FRAGMENT_SHADER=
function(a){return a.FRAGMENT_SHADER};q.get_VERTEX_SHADER=function(a){return a.VERTEX_SHADER};q.get_MAX_VERTEX_ATTRIBS=function(a){return a.MAX_VERTEX_ATTRIBS};q.get_MAX_VERTEX_UNIFORM_VECTORS=function(a){return a.MAX_VERTEX_UNIFORM_VECTORS};q.get_MAX_VARYING_VECTORS=function(a){return a.MAX_VARYING_VECTORS};q.get_MAX_COMBINED_TEXTURE_IMAGE_UNITS=function(a){return a.MAX_COMBINED_TEXTURE_IMAGE_UNITS};q.get_MAX_VERTEX_TEXTURE_IMAGE_UNITS=function(a){return a.MAX_VERTEX_TEXTURE_IMAGE_UNITS};q.get_MAX_TEXTURE_IMAGE_UNITS=
function(a){return a.MAX_TEXTURE_IMAGE_UNITS};q.get_MAX_FRAGMENT_UNIFORM_VECTORS=function(a){return a.MAX_FRAGMENT_UNIFORM_VECTORS};q.get_SHADER_TYPE=function(a){return a.SHADER_TYPE};q.get_DELETE_STATUS=function(a){return a.DELETE_STATUS};q.get_LINK_STATUS=function(a){return a.LINK_STATUS};q.get_VALIDATE_STATUS=function(a){return a.VALIDATE_STATUS};q.get_ATTACHED_SHADERS=function(a){return a.ATTACHED_SHADERS};q.get_ACTIVE_UNIFORMS=function(a){return a.ACTIVE_UNIFORMS};q.get_ACTIVE_ATTRIBUTES=function(a){return a.ACTIVE_ATTRIBUTES};
q.get_SHADING_LANGUAGE_VERSION=function(a){return a.SHADING_LANGUAGE_VERSION};q.get_CURRENT_PROGRAM=function(a){return a.CURRENT_PROGRAM};q.get_NEVER=function(a){return a.NEVER};q.get_LESS=function(a){return a.LESS};q.get_EQUAL=function(a){return a.EQUAL};q.get_LEQUAL=function(a){return a.LEQUAL};q.get_GREATER=function(a){return a.GREATER};q.get_NOTEQUAL=function(a){return a.NOTEQUAL};q.get_GEQUAL=function(a){return a.GEQUAL};q.get_ALWAYS=function(a){return a.ALWAYS};q.get_KEEP=function(a){return a.KEEP};
q.get_REPLACE=function(a){return a.REPLACE};q.get_INCR=function(a){return a.INCR};q.get_DECR=function(a){return a.DECR};q.get_INVERT=function(a){return a.INVERT};q.get_INCR_WRAP=function(a){return a.INCR_WRAP};q.get_DECR_WRAP=function(a){return a.DECR_WRAP};q.get_VENDOR=function(a){return a.VENDOR};q.get_RENDERER=function(a){return a.RENDERER};q.get_VERSION=function(a){return a.VERSION};q.get_NEAREST=function(a){return a.NEAREST};q.get_LINEAR=function(a){return a.LINEAR};q.get_NEAREST_MIPMAP_NEAREST=
function(a){return a.NEAREST_MIPMAP_NEAREST};q.get_LINEAR_MIPMAP_NEAREST=function(a){return a.LINEAR_MIPMAP_NEAREST};q.get_NEAREST_MIPMAP_LINEAR=function(a){return a.NEAREST_MIPMAP_LINEAR};q.get_LINEAR_MIPMAP_LINEAR=function(a){return a.LINEAR_MIPMAP_LINEAR};q.get_TEXTURE_MAG_FILTER=function(a){return a.TEXTURE_MAG_FILTER};q.get_TEXTURE_MIN_FILTER=function(a){return a.TEXTURE_MIN_FILTER};q.get_TEXTURE_WRAP_S=function(a){return a.TEXTURE_WRAP_S};q.get_TEXTURE_WRAP_T=function(a){return a.TEXTURE_WRAP_T};
q.get_TEXTURE_2D=function(a){return a.TEXTURE_2D};q.get_TEXTURE=function(a){return a.TEXTURE};q.get_TEXTURE_CUBE_MAP=function(a){return a.TEXTURE_CUBE_MAP};q.get_TEXTURE_BINDING_CUBE_MAP=function(a){return a.TEXTURE_BINDING_CUBE_MAP};q.get_TEXTURE_CUBE_MAP_POSITIVE_X=function(a){return a.TEXTURE_CUBE_MAP_POSITIVE_X};q.get_TEXTURE_CUBE_MAP_NEGATIVE_X=function(a){return a.TEXTURE_CUBE_MAP_NEGATIVE_X};q.get_TEXTURE_CUBE_MAP_POSITIVE_Y=function(a){return a.TEXTURE_CUBE_MAP_POSITIVE_Y};q.get_TEXTURE_CUBE_MAP_NEGATIVE_Y=
function(a){return a.TEXTURE_CUBE_MAP_NEGATIVE_Y};q.get_TEXTURE_CUBE_MAP_POSITIVE_Z=function(a){return a.TEXTURE_CUBE_MAP_POSITIVE_Z};q.get_TEXTURE_CUBE_MAP_NEGATIVE_Z=function(a){return a.TEXTURE_CUBE_MAP_NEGATIVE_Z};q.get_MAX_CUBE_MAP_TEXTURE_SIZE=function(a){return a.MAX_CUBE_MAP_TEXTURE_SIZE};q.get_TEXTURE0=function(a){return a.TEXTURE0};q.get_TEXTURE1=function(a){return a.TEXTURE1};q.get_TEXTURE2=function(a){return a.TEXTURE2};q.get_TEXTURE3=function(a){return a.TEXTURE3};q.get_TEXTURE4=function(a){return a.TEXTURE4};
q.get_TEXTURE5=function(a){return a.TEXTURE5};q.get_TEXTURE6=function(a){return a.TEXTURE6};q.get_TEXTURE7=function(a){return a.TEXTURE7};q.get_TEXTURE8=function(a){return a.TEXTURE8};q.get_TEXTURE9=function(a){return a.TEXTURE9};q.get_TEXTURE10=function(a){return a.TEXTURE10};q.get_TEXTURE11=function(a){return a.TEXTURE11};q.get_TEXTURE12=function(a){return a.TEXTURE12};q.get_TEXTURE13=function(a){return a.TEXTURE13};q.get_TEXTURE14=function(a){return a.TEXTURE14};q.get_TEXTURE15=function(a){return a.TEXTURE15};
q.get_TEXTURE16=function(a){return a.TEXTURE16};q.get_TEXTURE17=function(a){return a.TEXTURE17};q.get_TEXTURE18=function(a){return a.TEXTURE18};q.get_TEXTURE19=function(a){return a.TEXTURE19};q.get_TEXTURE20=function(a){return a.TEXTURE20};q.get_TEXTURE21=function(a){return a.TEXTURE21};q.get_TEXTURE22=function(a){return a.TEXTURE22};q.get_TEXTURE23=function(a){return a.TEXTURE23};q.get_TEXTURE24=function(a){return a.TEXTURE24};q.get_TEXTURE25=function(a){return a.TEXTURE25};q.get_TEXTURE26=function(a){return a.TEXTURE26};
q.get_TEXTURE27=function(a){return a.TEXTURE27};q.get_TEXTURE28=function(a){return a.TEXTURE28};q.get_TEXTURE29=function(a){return a.TEXTURE29};q.get_TEXTURE30=function(a){return a.TEXTURE30};q.get_TEXTURE31=function(a){return a.TEXTURE31};q.get_ACTIVE_TEXTURE=function(a){return a.ACTIVE_TEXTURE};q.get_REPEAT=function(a){return a.REPEAT};q.get_CLAMP_TO_EDGE=function(a){return a.CLAMP_TO_EDGE};q.get_MIRRORED_REPEAT=function(a){return a.MIRRORED_REPEAT};q.get_FLOAT_VEC2=function(a){return a.FLOAT_VEC2};
q.get_FLOAT_VEC3=function(a){return a.FLOAT_VEC3};q.get_FLOAT_VEC4=function(a){return a.FLOAT_VEC4};q.get_INT_VEC2=function(a){return a.INT_VEC2};q.get_INT_VEC3=function(a){return a.INT_VEC3};q.get_INT_VEC4=function(a){return a.INT_VEC4};q.get_BOOL=function(a){return a.BOOL};q.get_BOOL_VEC2=function(a){return a.BOOL_VEC2};q.get_BOOL_VEC3=function(a){return a.BOOL_VEC3};q.get_BOOL_VEC4=function(a){return a.BOOL_VEC4};q.get_FLOAT_MAT2=function(a){return a.FLOAT_MAT2};q.get_FLOAT_MAT3=function(a){return a.FLOAT_MAT3};
q.get_FLOAT_MAT4=function(a){return a.FLOAT_MAT4};q.get_SAMPLER_2D=function(a){return a.SAMPLER_2D};q.get_SAMPLER_CUBE=function(a){return a.SAMPLER_CUBE};q.get_VERTEX_ATTRIB_ARRAY_ENABLED=function(a){return a.VERTEX_ATTRIB_ARRAY_ENABLED};q.get_VERTEX_ATTRIB_ARRAY_SIZE=function(a){return a.VERTEX_ATTRIB_ARRAY_SIZE};q.get_VERTEX_ATTRIB_ARRAY_STRIDE=function(a){return a.VERTEX_ATTRIB_ARRAY_STRIDE};q.get_VERTEX_ATTRIB_ARRAY_TYPE=function(a){return a.VERTEX_ATTRIB_ARRAY_TYPE};q.get_VERTEX_ATTRIB_ARRAY_NORMALIZED=
function(a){return a.VERTEX_ATTRIB_ARRAY_NORMALIZED};q.get_VERTEX_ATTRIB_ARRAY_POINTER=function(a){return a.VERTEX_ATTRIB_ARRAY_POINTER};q.get_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=function(a){return a.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING};q.get_COMPILE_STATUS=function(a){return a.COMPILE_STATUS};q.get_LOW_FLOAT=function(a){return a.LOW_FLOAT};q.get_MEDIUM_FLOAT=function(a){return a.MEDIUM_FLOAT};q.get_HIGH_FLOAT=function(a){return a.HIGH_FLOAT};q.get_LOW_INT=function(a){return a.LOW_INT};q.get_MEDIUM_INT=
function(a){return a.MEDIUM_INT};q.get_HIGH_INT=function(a){return a.HIGH_INT};q.get_FRAMEBUFFER=function(a){return a.FRAMEBUFFER};q.get_RENDERBUFFER=function(a){return a.RENDERBUFFER};q.get_RGBA4=function(a){return a.RGBA4};q.get_RGB5_A1=function(a){return a.RGB5_A1};q.get_RGB565=function(a){return a.RGB565};q.get_DEPTH_COMPONENT16=function(a){return a.DEPTH_COMPONENT16};q.get_STENCIL_INDEX=function(a){return a.STENCIL_INDEX};q.get_STENCIL_INDEX8=function(a){return a.STENCIL_INDEX8};q.get_DEPTH_STENCIL=
function(a){return a.DEPTH_STENCIL};q.get_RENDERBUFFER_WIDTH=function(a){return a.RENDERBUFFER_WIDTH};q.get_RENDERBUFFER_HEIGHT=function(a){return a.RENDERBUFFER_HEIGHT};q.get_RENDERBUFFER_INTERNAL_FORMAT=function(a){return a.RENDERBUFFER_INTERNAL_FORMAT};q.get_RENDERBUFFER_RED_SIZE=function(a){return a.RENDERBUFFER_RED_SIZE};q.get_RENDERBUFFER_GREEN_SIZE=function(a){return a.RENDERBUFFER_GREEN_SIZE};q.get_RENDERBUFFER_BLUE_SIZE=function(a){return a.RENDERBUFFER_BLUE_SIZE};q.get_RENDERBUFFER_ALPHA_SIZE=
function(a){return a.RENDERBUFFER_ALPHA_SIZE};q.get_RENDERBUFFER_DEPTH_SIZE=function(a){return a.RENDERBUFFER_DEPTH_SIZE};q.get_RENDERBUFFER_STENCIL_SIZE=function(a){return a.RENDERBUFFER_STENCIL_SIZE};q.get_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=function(a){return a.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE};q.get_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=function(a){return a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME};q.get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=function(a){return a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL};q.get_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=
function(a){return a.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE};q.get_COLOR_ATTACHMENT0=function(a){return a.COLOR_ATTACHMENT0};q.get_DEPTH_ATTACHMENT=function(a){return a.DEPTH_ATTACHMENT};q.get_STENCIL_ATTACHMENT=function(a){return a.STENCIL_ATTACHMENT};q.get_DEPTH_STENCIL_ATTACHMENT=function(a){return a.DEPTH_STENCIL_ATTACHMENT};q.get_NONE=function(a){return a.NONE};q.get_FRAMEBUFFER_COMPLETE=function(a){return a.FRAMEBUFFER_COMPLETE};q.get_FRAMEBUFFER_INCOMPLETE_ATTACHMENT=function(a){return a.FRAMEBUFFER_INCOMPLETE_ATTACHMENT};
q.get_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=function(a){return a.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT};q.get_FRAMEBUFFER_INCOMPLETE_DIMENSIONS=function(a){return a.FRAMEBUFFER_INCOMPLETE_DIMENSIONS};q.get_FRAMEBUFFER_UNSUPPORTED=function(a){return a.FRAMEBUFFER_UNSUPPORTED};q.get_FRAMEBUFFER_BINDING=function(a){return a.FRAMEBUFFER_BINDING};q.get_RENDERBUFFER_BINDING=function(a){return a.RENDERBUFFER_BINDING};q.get_MAX_RENDERBUFFER_SIZE=function(a){return a.MAX_RENDERBUFFER_SIZE};q.get_INVALID_FRAMEBUFFER_OPERATION=
function(a){return a.INVALID_FRAMEBUFFER_OPERATION};q.get_UNPACK_FLIP_Y_WEBGL=function(a){return a.UNPACK_FLIP_Y_WEBGL};q.get_UNPACK_PREMULTIPLY_ALPHA_WEBGL=function(a){return a.UNPACK_PREMULTIPLY_ALPHA_WEBGL};q.get_CONTEXT_LOST_WEBGL=function(a){return a.CONTEXT_LOST_WEBGL};q.get_UNPACK_COLORSPACE_CONVERSION_WEBGL=function(a){return a.UNPACK_COLORSPACE_CONVERSION_WEBGL};q.get_BROWSER_DEFAULT_WEBGL=function(a){return a.BROWSER_DEFAULT_WEBGL};q.get_type=function(a){return a.type};q.get_version=function(a){return a.version};
q.get_READ_BUFFER=function(a){return a.READ_BUFFER};q.get_UNPACK_ROW_LENGTH=function(a){return a.UNPACK_ROW_LENGTH};q.get_UNPACK_SKIP_ROWS=function(a){return a.UNPACK_SKIP_ROWS};q.get_UNPACK_SKIP_PIXELS=function(a){return a.UNPACK_SKIP_PIXELS};q.get_PACK_ROW_LENGTH=function(a){return a.PACK_ROW_LENGTH};q.get_PACK_SKIP_ROWS=function(a){return a.PACK_SKIP_ROWS};q.get_PACK_SKIP_PIXELS=function(a){return a.PACK_SKIP_PIXELS};q.get_TEXTURE_BINDING_3D=function(a){return a.TEXTURE_BINDING_3D};q.get_UNPACK_SKIP_IMAGES=
function(a){return a.UNPACK_SKIP_IMAGES};q.get_UNPACK_IMAGE_HEIGHT=function(a){return a.UNPACK_IMAGE_HEIGHT};q.get_MAX_3D_TEXTURE_SIZE=function(a){return a.MAX_3D_TEXTURE_SIZE};q.get_MAX_ELEMENTS_VERTICES=function(a){return a.MAX_ELEMENTS_VERTICES};q.get_MAX_ELEMENTS_INDICES=function(a){return a.MAX_ELEMENTS_INDICES};q.get_MAX_TEXTURE_LOD_BIAS=function(a){return a.MAX_TEXTURE_LOD_BIAS};q.get_MAX_FRAGMENT_UNIFORM_COMPONENTS=function(a){return a.MAX_FRAGMENT_UNIFORM_COMPONENTS};q.get_MAX_VERTEX_UNIFORM_COMPONENTS=
function(a){return a.MAX_VERTEX_UNIFORM_COMPONENTS};q.get_MAX_ARRAY_TEXTURE_LAYERS=function(a){return a.MAX_ARRAY_TEXTURE_LAYERS};q.get_MIN_PROGRAM_TEXEL_OFFSET=function(a){return a.MIN_PROGRAM_TEXEL_OFFSET};q.get_MAX_PROGRAM_TEXEL_OFFSET=function(a){return a.MAX_PROGRAM_TEXEL_OFFSET};q.get_MAX_VARYING_COMPONENTS=function(a){return a.MAX_VARYING_COMPONENTS};q.get_FRAGMENT_SHADER_DERIVATIVE_HINT=function(a){return a.FRAGMENT_SHADER_DERIVATIVE_HINT};q.get_RASTERIZER_DISCARD=function(a){return a.RASTERIZER_DISCARD};
q.get_VERTEX_ARRAY_BINDING=function(a){return a.VERTEX_ARRAY_BINDING};q.get_MAX_VERTEX_OUTPUT_COMPONENTS=function(a){return a.MAX_VERTEX_OUTPUT_COMPONENTS};q.get_MAX_FRAGMENT_INPUT_COMPONENTS=function(a){return a.MAX_FRAGMENT_INPUT_COMPONENTS};q.get_MAX_SERVER_WAIT_TIMEOUT=function(a){return a.MAX_SERVER_WAIT_TIMEOUT};q.get_MAX_ELEMENT_INDEX=function(a){return a.MAX_ELEMENT_INDEX};q.get_RED=function(a){return a.RED};q.get_RGB8=function(a){return a.RGB8};q.get_RGBA8=function(a){return a.RGBA8};q.get_RGB10_A2=
function(a){return a.RGB10_A2};q.get_TEXTURE_3D=function(a){return a.TEXTURE_3D};q.get_TEXTURE_WRAP_R=function(a){return a.TEXTURE_WRAP_R};q.get_TEXTURE_MIN_LOD=function(a){return a.TEXTURE_MIN_LOD};q.get_TEXTURE_MAX_LOD=function(a){return a.TEXTURE_MAX_LOD};q.get_TEXTURE_BASE_LEVEL=function(a){return a.TEXTURE_BASE_LEVEL};q.get_TEXTURE_MAX_LEVEL=function(a){return a.TEXTURE_MAX_LEVEL};q.get_TEXTURE_COMPARE_MODE=function(a){return a.TEXTURE_COMPARE_MODE};q.get_TEXTURE_COMPARE_FUNC=function(a){return a.TEXTURE_COMPARE_FUNC};
q.get_SRGB=function(a){return a.SRGB};q.get_SRGB8=function(a){return a.SRGB8};q.get_SRGB8_ALPHA8=function(a){return a.SRGB8_ALPHA8};q.get_COMPARE_REF_TO_TEXTURE=function(a){return a.COMPARE_REF_TO_TEXTURE};q.get_RGBA32F=function(a){return a.RGBA32F};q.get_RGB32F=function(a){return a.RGB32F};q.get_RGBA16F=function(a){return a.RGBA16F};q.get_RGB16F=function(a){return a.RGB16F};q.get_TEXTURE_2D_ARRAY=function(a){return a.TEXTURE_2D_ARRAY};q.get_TEXTURE_BINDING_2D_ARRAY=function(a){return a.TEXTURE_BINDING_2D_ARRAY};
q.get_R11F_G11F_B10F=function(a){return a.R11F_G11F_B10F};q.get_RGB9_E5=function(a){return a.RGB9_E5};q.get_RGBA32UI=function(a){return a.RGBA32UI};q.get_RGB32UI=function(a){return a.RGB32UI};q.get_RGBA16UI=function(a){return a.RGBA16UI};q.get_RGB16UI=function(a){return a.RGB16UI};q.get_RGBA8UI=function(a){return a.RGBA8UI};q.get_RGB8UI=function(a){return a.RGB8UI};q.get_RGBA32I=function(a){return a.RGBA32I};q.get_RGB32I=function(a){return a.RGB32I};q.get_RGBA16I=function(a){return a.RGBA16I};q.get_RGB16I=
function(a){return a.RGB16I};q.get_RGBA8I=function(a){return a.RGBA8I};q.get_RGB8I=function(a){return a.RGB8I};q.get_RED_INTEGER=function(a){return a.RED_INTEGER};q.get_RGB_INTEGER=function(a){return a.RGB_INTEGER};q.get_RGBA_INTEGER=function(a){return a.RGBA_INTEGER};q.get_R8=function(a){return a.R8};q.get_RG8=function(a){return a.RG8};q.get_R16F=function(a){return a.R16F};q.get_R32F=function(a){return a.R32F};q.get_RG16F=function(a){return a.RG16F};q.get_RG32F=function(a){return a.RG32F};q.get_R8I=
function(a){return a.R8I};q.get_R8UI=function(a){return a.R8UI};q.get_R16I=function(a){return a.R16I};q.get_R16UI=function(a){return a.R16UI};q.get_R32I=function(a){return a.R32I};q.get_R32UI=function(a){return a.R32UI};q.get_RG8I=function(a){return a.RG8I};q.get_RG8UI=function(a){return a.RG8UI};q.get_RG16I=function(a){return a.RG16I};q.get_RG16UI=function(a){return a.RG16UI};q.get_RG32I=function(a){return a.RG32I};q.get_RG32UI=function(a){return a.RG32UI};q.get_R8_SNORM=function(a){return a.R8_SNORM};
q.get_RG8_SNORM=function(a){return a.RG8_SNORM};q.get_RGB8_SNORM=function(a){return a.RGB8_SNORM};q.get_RGBA8_SNORM=function(a){return a.RGBA8_SNORM};q.get_RGB10_A2UI=function(a){return a.RGB10_A2UI};q.get_TEXTURE_IMMUTABLE_FORMAT=function(a){return a.TEXTURE_IMMUTABLE_FORMAT};q.get_TEXTURE_IMMUTABLE_LEVELS=function(a){return a.TEXTURE_IMMUTABLE_LEVELS};q.get_UNSIGNED_INT_2_10_10_10_REV=function(a){return a.UNSIGNED_INT_2_10_10_10_REV};q.get_UNSIGNED_INT_10F_11F_11F_REV=function(a){return a.UNSIGNED_INT_10F_11F_11F_REV};
q.get_UNSIGNED_INT_5_9_9_9_REV=function(a){return a.UNSIGNED_INT_5_9_9_9_REV};q.get_FLOAT_32_UNSIGNED_INT_24_8_REV=function(a){return a.FLOAT_32_UNSIGNED_INT_24_8_REV};q.get_UNSIGNED_INT_24_8=function(a){return a.UNSIGNED_INT_24_8};q.get_HALF_FLOAT=function(a){return a.HALF_FLOAT};q.get_RG=function(a){return a.RG};q.get_RG_INTEGER=function(a){return a.RG_INTEGER};q.get_INT_2_10_10_10_REV=function(a){return a.INT_2_10_10_10_REV};q.get_CURRENT_QUERY=function(a){return a.CURRENT_QUERY};q.get_QUERY_RESULT=
function(a){return a.QUERY_RESULT};q.get_QUERY_RESULT_AVAILABLE=function(a){return a.QUERY_RESULT_AVAILABLE};q.get_ANY_SAMPLES_PASSED=function(a){return a.ANY_SAMPLES_PASSED};q.get_ANY_SAMPLES_PASSED_CONSERVATIVE=function(a){return a.ANY_SAMPLES_PASSED_CONSERVATIVE};q.get_MAX_DRAW_BUFFERS=function(a){return a.MAX_DRAW_BUFFERS};q.get_DRAW_BUFFER0=function(a){return a.DRAW_BUFFER0};q.get_DRAW_BUFFER1=function(a){return a.DRAW_BUFFER1};q.get_DRAW_BUFFER2=function(a){return a.DRAW_BUFFER2};q.get_DRAW_BUFFER3=
function(a){return a.DRAW_BUFFER3};q.get_DRAW_BUFFER4=function(a){return a.DRAW_BUFFER4};q.get_DRAW_BUFFER5=function(a){return a.DRAW_BUFFER5};q.get_DRAW_BUFFER6=function(a){return a.DRAW_BUFFER6};q.get_DRAW_BUFFER7=function(a){return a.DRAW_BUFFER7};q.get_DRAW_BUFFER8=function(a){return a.DRAW_BUFFER8};q.get_DRAW_BUFFER9=function(a){return a.DRAW_BUFFER9};q.get_DRAW_BUFFER10=function(a){return a.DRAW_BUFFER10};q.get_DRAW_BUFFER11=function(a){return a.DRAW_BUFFER11};q.get_DRAW_BUFFER12=function(a){return a.DRAW_BUFFER12};
q.get_DRAW_BUFFER13=function(a){return a.DRAW_BUFFER13};q.get_DRAW_BUFFER14=function(a){return a.DRAW_BUFFER14};q.get_DRAW_BUFFER15=function(a){return a.DRAW_BUFFER15};q.get_MAX_COLOR_ATTACHMENTS=function(a){return a.MAX_COLOR_ATTACHMENTS};q.get_COLOR_ATTACHMENT1=function(a){return a.COLOR_ATTACHMENT1};q.get_COLOR_ATTACHMENT2=function(a){return a.COLOR_ATTACHMENT2};q.get_COLOR_ATTACHMENT3=function(a){return a.COLOR_ATTACHMENT3};q.get_COLOR_ATTACHMENT4=function(a){return a.COLOR_ATTACHMENT4};q.get_COLOR_ATTACHMENT5=
function(a){return a.COLOR_ATTACHMENT5};q.get_COLOR_ATTACHMENT6=function(a){return a.COLOR_ATTACHMENT6};q.get_COLOR_ATTACHMENT7=function(a){return a.COLOR_ATTACHMENT7};q.get_COLOR_ATTACHMENT8=function(a){return a.COLOR_ATTACHMENT8};q.get_COLOR_ATTACHMENT9=function(a){return a.COLOR_ATTACHMENT9};q.get_COLOR_ATTACHMENT10=function(a){return a.COLOR_ATTACHMENT10};q.get_COLOR_ATTACHMENT11=function(a){return a.COLOR_ATTACHMENT11};q.get_COLOR_ATTACHMENT12=function(a){return a.COLOR_ATTACHMENT12};q.get_COLOR_ATTACHMENT13=
function(a){return a.COLOR_ATTACHMENT13};q.get_COLOR_ATTACHMENT14=function(a){return a.COLOR_ATTACHMENT14};q.get_COLOR_ATTACHMENT15=function(a){return a.COLOR_ATTACHMENT15};q.get_SAMPLER_3D=function(a){return a.SAMPLER_3D};q.get_SAMPLER_2D_SHADOW=function(a){return a.SAMPLER_2D_SHADOW};q.get_SAMPLER_2D_ARRAY=function(a){return a.SAMPLER_2D_ARRAY};q.get_SAMPLER_2D_ARRAY_SHADOW=function(a){return a.SAMPLER_2D_ARRAY_SHADOW};q.get_SAMPLER_CUBE_SHADOW=function(a){return a.SAMPLER_CUBE_SHADOW};q.get_INT_SAMPLER_2D=
function(a){return a.INT_SAMPLER_2D};q.get_INT_SAMPLER_3D=function(a){return a.INT_SAMPLER_3D};q.get_INT_SAMPLER_CUBE=function(a){return a.INT_SAMPLER_CUBE};q.get_INT_SAMPLER_2D_ARRAY=function(a){return a.INT_SAMPLER_2D_ARRAY};q.get_UNSIGNED_INT_SAMPLER_2D=function(a){return a.UNSIGNED_INT_SAMPLER_2D};q.get_UNSIGNED_INT_SAMPLER_3D=function(a){return a.UNSIGNED_INT_SAMPLER_3D};q.get_UNSIGNED_INT_SAMPLER_CUBE=function(a){return a.UNSIGNED_INT_SAMPLER_CUBE};q.get_UNSIGNED_INT_SAMPLER_2D_ARRAY=function(a){return a.UNSIGNED_INT_SAMPLER_2D_ARRAY};
q.get_MAX_SAMPLES=function(a){return a.MAX_SAMPLES};q.get_SAMPLER_BINDING=function(a){return a.SAMPLER_BINDING};q.get_PIXEL_PACK_BUFFER=function(a){return a.PIXEL_PACK_BUFFER};q.get_PIXEL_UNPACK_BUFFER=function(a){return a.PIXEL_UNPACK_BUFFER};q.get_PIXEL_PACK_BUFFER_BINDING=function(a){return a.PIXEL_PACK_BUFFER_BINDING};q.get_PIXEL_UNPACK_BUFFER_BINDING=function(a){return a.PIXEL_UNPACK_BUFFER_BINDING};q.get_COPY_READ_BUFFER=function(a){return a.COPY_READ_BUFFER};q.get_COPY_WRITE_BUFFER=function(a){return a.COPY_WRITE_BUFFER};
q.get_COPY_READ_BUFFER_BINDING=function(a){return a.COPY_READ_BUFFER_BINDING};q.get_COPY_WRITE_BUFFER_BINDING=function(a){return a.COPY_WRITE_BUFFER_BINDING};q.get_FLOAT_MAT2x3=function(a){return a.FLOAT_MAT2x3};q.get_FLOAT_MAT2x4=function(a){return a.FLOAT_MAT2x4};q.get_FLOAT_MAT3x2=function(a){return a.FLOAT_MAT3x2};q.get_FLOAT_MAT3x4=function(a){return a.FLOAT_MAT3x4};q.get_FLOAT_MAT4x2=function(a){return a.FLOAT_MAT4x2};q.get_FLOAT_MAT4x3=function(a){return a.FLOAT_MAT4x3};q.get_UNSIGNED_INT_VEC2=
function(a){return a.UNSIGNED_INT_VEC2};q.get_UNSIGNED_INT_VEC3=function(a){return a.UNSIGNED_INT_VEC3};q.get_UNSIGNED_INT_VEC4=function(a){return a.UNSIGNED_INT_VEC4};q.get_UNSIGNED_NORMALIZED=function(a){return a.UNSIGNED_NORMALIZED};q.get_SIGNED_NORMALIZED=function(a){return a.SIGNED_NORMALIZED};q.get_VERTEX_ATTRIB_ARRAY_INTEGER=function(a){return a.VERTEX_ATTRIB_ARRAY_INTEGER};q.get_VERTEX_ATTRIB_ARRAY_DIVISOR=function(a){return a.VERTEX_ATTRIB_ARRAY_DIVISOR};q.get_TRANSFORM_FEEDBACK_BUFFER_MODE=
function(a){return a.TRANSFORM_FEEDBACK_BUFFER_MODE};q.get_MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=function(a){return a.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS};q.get_TRANSFORM_FEEDBACK_VARYINGS=function(a){return a.TRANSFORM_FEEDBACK_VARYINGS};q.get_TRANSFORM_FEEDBACK_BUFFER_START=function(a){return a.TRANSFORM_FEEDBACK_BUFFER_START};q.get_TRANSFORM_FEEDBACK_BUFFER_SIZE=function(a){return a.TRANSFORM_FEEDBACK_BUFFER_SIZE};q.get_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=function(a){return a.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN};
q.get_MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=function(a){return a.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS};q.get_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=function(a){return a.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS};q.get_INTERLEAVED_ATTRIBS=function(a){return a.INTERLEAVED_ATTRIBS};q.get_SEPARATE_ATTRIBS=function(a){return a.SEPARATE_ATTRIBS};q.get_TRANSFORM_FEEDBACK_BUFFER=function(a){return a.TRANSFORM_FEEDBACK_BUFFER};q.get_TRANSFORM_FEEDBACK_BUFFER_BINDING=function(a){return a.TRANSFORM_FEEDBACK_BUFFER_BINDING};
q.get_TRANSFORM_FEEDBACK=function(a){return a.TRANSFORM_FEEDBACK};q.get_TRANSFORM_FEEDBACK_PAUSED=function(a){return a.TRANSFORM_FEEDBACK_PAUSED};q.get_TRANSFORM_FEEDBACK_ACTIVE=function(a){return a.TRANSFORM_FEEDBACK_ACTIVE};q.get_TRANSFORM_FEEDBACK_BINDING=function(a){return a.TRANSFORM_FEEDBACK_BINDING};q.get_FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=function(a){return a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING};q.get_FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=function(a){return a.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE};
q.get_FRAMEBUFFER_ATTACHMENT_RED_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_RED_SIZE};q.get_FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE};q.get_FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE};q.get_FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE};q.get_FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=function(a){return a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE};q.get_FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=
function(a){return a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE};q.get_FRAMEBUFFER_DEFAULT=function(a){return a.FRAMEBUFFER_DEFAULT};q.get_DEPTH24_STENCIL8=function(a){return a.DEPTH24_STENCIL8};q.get_DRAW_FRAMEBUFFER_BINDING=function(a){return a.DRAW_FRAMEBUFFER_BINDING};q.get_READ_FRAMEBUFFER=function(a){return a.READ_FRAMEBUFFER};q.get_DRAW_FRAMEBUFFER=function(a){return a.DRAW_FRAMEBUFFER};q.get_READ_FRAMEBUFFER_BINDING=function(a){return a.READ_FRAMEBUFFER_BINDING};q.get_RENDERBUFFER_SAMPLES=function(a){return a.RENDERBUFFER_SAMPLES};
q.get_FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=function(a){return a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER};q.get_FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=function(a){return a.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE};q.get_UNIFORM_BUFFER=function(a){return a.UNIFORM_BUFFER};q.get_UNIFORM_BUFFER_BINDING=function(a){return a.UNIFORM_BUFFER_BINDING};q.get_UNIFORM_BUFFER_START=function(a){return a.UNIFORM_BUFFER_START};q.get_UNIFORM_BUFFER_SIZE=function(a){return a.UNIFORM_BUFFER_SIZE};q.get_MAX_VERTEX_UNIFORM_BLOCKS=
function(a){return a.MAX_VERTEX_UNIFORM_BLOCKS};q.get_MAX_FRAGMENT_UNIFORM_BLOCKS=function(a){return a.MAX_FRAGMENT_UNIFORM_BLOCKS};q.get_MAX_COMBINED_UNIFORM_BLOCKS=function(a){return a.MAX_COMBINED_UNIFORM_BLOCKS};q.get_MAX_UNIFORM_BUFFER_BINDINGS=function(a){return a.MAX_UNIFORM_BUFFER_BINDINGS};q.get_MAX_UNIFORM_BLOCK_SIZE=function(a){return a.MAX_UNIFORM_BLOCK_SIZE};q.get_MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=function(a){return a.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS};q.get_MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=
function(a){return a.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS};q.get_UNIFORM_BUFFER_OFFSET_ALIGNMENT=function(a){return a.UNIFORM_BUFFER_OFFSET_ALIGNMENT};q.get_ACTIVE_UNIFORM_BLOCKS=function(a){return a.ACTIVE_UNIFORM_BLOCKS};q.get_UNIFORM_TYPE=function(a){return a.UNIFORM_TYPE};q.get_UNIFORM_SIZE=function(a){return a.UNIFORM_SIZE};q.get_UNIFORM_BLOCK_INDEX=function(a){return a.UNIFORM_BLOCK_INDEX};q.get_UNIFORM_OFFSET=function(a){return a.UNIFORM_OFFSET};q.get_UNIFORM_ARRAY_STRIDE=function(a){return a.UNIFORM_ARRAY_STRIDE};
q.get_UNIFORM_MATRIX_STRIDE=function(a){return a.UNIFORM_MATRIX_STRIDE};q.get_UNIFORM_IS_ROW_MAJOR=function(a){return a.UNIFORM_IS_ROW_MAJOR};q.get_UNIFORM_BLOCK_BINDING=function(a){return a.UNIFORM_BLOCK_BINDING};q.get_UNIFORM_BLOCK_DATA_SIZE=function(a){return a.UNIFORM_BLOCK_DATA_SIZE};q.get_UNIFORM_BLOCK_ACTIVE_UNIFORMS=function(a){return a.UNIFORM_BLOCK_ACTIVE_UNIFORMS};q.get_UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=function(a){return a.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES};q.get_UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=
function(a){return a.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER};q.get_UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=function(a){return a.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER};q.get_OBJECT_TYPE=function(a){return a.OBJECT_TYPE};q.get_SYNC_CONDITION=function(a){return a.SYNC_CONDITION};q.get_SYNC_STATUS=function(a){return a.SYNC_STATUS};q.get_SYNC_FLAGS=function(a){return a.SYNC_FLAGS};q.get_SYNC_FENCE=function(a){return a.SYNC_FENCE};q.get_SYNC_GPU_COMMANDS_COMPLETE=function(a){return a.SYNC_GPU_COMMANDS_COMPLETE};
q.get_UNSIGNALED=function(a){return a.UNSIGNALED};q.get_SIGNALED=function(a){return a.SIGNALED};q.get_ALREADY_SIGNALED=function(a){return a.ALREADY_SIGNALED};q.get_TIMEOUT_EXPIRED=function(a){return a.TIMEOUT_EXPIRED};q.get_CONDITION_SATISFIED=function(a){return a.CONDITION_SATISFIED};q.get_WAIT_FAILED=function(a){return a.WAIT_FAILED};q.get_SYNC_FLUSH_COMMANDS_BIT=function(a){return a.SYNC_FLUSH_COMMANDS_BIT};q.get_COLOR=function(a){return a.COLOR};q.get_DEPTH=function(a){return a.DEPTH};q.get_STENCIL=
function(a){return a.STENCIL};q.get_MIN=function(a){return a.MIN};q.get_MAX=function(a){return a.MAX};q.get_DEPTH_COMPONENT24=function(a){return a.DEPTH_COMPONENT24};q.get_STREAM_READ=function(a){return a.STREAM_READ};q.get_STREAM_COPY=function(a){return a.STREAM_COPY};q.get_STATIC_READ=function(a){return a.STATIC_READ};q.get_STATIC_COPY=function(a){return a.STATIC_COPY};q.get_DYNAMIC_READ=function(a){return a.DYNAMIC_READ};q.get_DYNAMIC_COPY=function(a){return a.DYNAMIC_COPY};q.get_DEPTH_COMPONENT32F=
function(a){return a.DEPTH_COMPONENT32F};q.get_DEPTH32F_STENCIL8=function(a){return a.DEPTH32F_STENCIL8};q.get_INVALID_INDEX=function(a){return a.INVALID_INDEX};q.get_TIMEOUT_IGNORED=function(a){return a.TIMEOUT_IGNORED};q.get_MAX_CLIENT_WAIT_TIMEOUT_WEBGL=function(a){return a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL};q.activeTexture=function(a,b){a.__context.activeTexture(b)};q.attachShader=function(a,b,c){a.__context.attachShader(b,c)};q.beginQuery=function(a,b,c){a.__context.beginQuery(b,c)};q.beginTransformFeedback=
function(a,b){a.__context.beginTransformFeedback(b)};q.bindAttribLocation=function(a,b,c,d){a.__context.bindAttribLocation(b,c,d)};q.bindBuffer=function(a,b,c){a.__context.bindBuffer(b,c)};q.bindBufferBase=function(a,b,c,d){a.__context.bindBufferBase(b,c,d)};q.bindBufferRange=function(a,b,c,d,e,f){a.__context.bindBufferRange(b,c,d,E.fromInt(E.toValue(e)),E.fromInt(f))};q.bindFramebuffer=function(a,b,c){a.__context.bindFramebuffer(b,c)};q.bindRenderbuffer=function(a,b,c){a.__context.bindRenderbuffer(b,
c)};q.bindSampler=function(a,b,c){a.__context.bindSampler(b,c)};q.bindTexture=function(a,b,c){a.__context.bindTexture(b,c)};q.bindTransformFeedback=function(a,b,c){a.__context.bindTransformFeedback(b,c)};q.bindVertexArray=function(a,b){a.__context.bindVertexArray(b)};q.blendColor=function(a,b,c,d,e){a.__context.blendColor(b,c,d,e)};q.blendEquation=function(a,b){a.__context.blendEquation(b)};q.blendEquationSeparate=function(a,b,c){a.__context.blendEquationSeparate(b,c)};q.blendFunc=function(a,b,c){a.__context.blendFunc(b,
c)};q.blendFuncSeparate=function(a,b,c,d,e){a.__context.blendFuncSeparate(b,c,d,e)};q.blitFramebuffer=function(a,b,c,d,e,f,k,h,g,m,n){a.__context.blitFramebuffer(b,c,d,e,f,k,h,g,m,n)};q.bufferData=function(a,b,c,d,e,f){a.bufferDataWEBGL(b,c,d,e,f)};q.bufferSubData=function(a,b,c,d,e,f){a.bufferSubDataWEBGL(b,c,d,e,f)};q.checkFramebufferStatus=function(a,b){return a.__context.checkFramebufferStatus(b)};q.clear=function(a,b){a.__context.clear(b)};q.clearBufferfi=function(a,b,c,d,e){a.__context.clearBufferfi(b,
c,d,e)};q.clearBufferfv=function(a,b,c,d,e){a.__context.clearBufferfv(b,c,d,e)};q.clearBufferiv=function(a,b,c,d,e){a.__context.clearBufferiv(b,c,d,e)};q.clearBufferuiv=function(a,b,c,d,e){a.__context.clearBufferuiv(b,c,d,e)};q.clearColor=function(a,b,c,d,e){a.__context.clearColor(b,c,d,e)};q.clearDepth=function(a,b){a.__context.clearDepth(b)};q.clearStencil=function(a,b){a.__context.clearStencil(b)};q.clientWaitSync=function(a,b,c,d){return a.__context.clientWaitSync(b,c,d)};q.colorMask=function(a,
b,c,d,e){a.__context.colorMask(b,c,d,e)};q.compileShader=function(a,b){a.__context.compileShader(b)};q.compressedTexImage2D=function(a,b,c,d,e,f,k,h,g,m){a.compressedTexImage2DWEBGL(b,c,d,e,f,k,h,g,m)};q.compressedTexImage3D=function(a,b,c,d,e,f,k,h,g,m,n){a.__context.compressedTexImage3D(b,c,d,e,f,k,h,g,m,n)};q.compressedTexSubImage2D=function(a,b,c,d,e,f,k,h,g,m,n){a.compressedTexSubImage2DWEBGL(b,c,d,e,f,k,h,g,m,n)};q.compressedTexSubImage3D=function(a,b,c,d,e,f,k,h,g,m,n,l,q){a.__context.compressedTexSubImage3D(b,
c,d,e,f,k,h,g,m,n,l,q)};q.copyBufferSubData=function(a,b,c,d,e,f){};q.copyTexImage2D=function(a,b,c,d,e,f,k,h,g){a.__context.copyTexImage2D(b,c,d,e,f,k,h,g)};q.copyTexSubImage2D=function(a,b,c,d,e,f,k,h,g){a.__context.copyTexSubImage2D(b,c,d,e,f,k,h,g)};q.copyTexSubImage3D=function(a,b,c,d,e,f,k,h,g,m){a.__context.copyTexSubImage3D(b,c,d,e,f,k,h,g,m)};q.createBuffer=function(a){return a.__context.createBuffer()};q.createFramebuffer=function(a){return a.__context.createFramebuffer()};q.createProgram=
function(a){return a.__context.createProgram()};q.createQuery=function(a){return a.__context.createQuery()};q.createRenderbuffer=function(a){return a.__context.createRenderbuffer()};q.createSampler=function(a){return a.__context.createSampler()};q.createShader=function(a,b){return a.__context.createShader(b)};q.createTexture=function(a){return a.__context.createTexture()};q.createTransformFeedback=function(a){return a.__context.createTransformFeedback()};q.createVertexArray=function(a){return a.__context.createVertexArray()};
q.cullFace=function(a,b){a.__context.cullFace(b)};q.deleteBuffer=function(a,b){a.__context.deleteBuffer(b)};q.deleteFramebuffer=function(a,b){a.__context.deleteFramebuffer(b)};q.deleteProgram=function(a,b){a.__context.deleteProgram(b)};q.deleteQuery=function(a,b){a.__context.deleteQuery(b)};q.deleteRenderbuffer=function(a,b){a.__context.deleteRenderbuffer(b)};q.deleteSampler=function(a,b){a.__context.deleteSampler(b)};q.deleteShader=function(a,b){a.__context.deleteShader(b)};q.deleteSync=function(a,
b){a.__context.deleteSync(b)};q.deleteTexture=function(a,b){a.__context.deleteTexture(b)};q.deleteTransformFeedback=function(a,b){a.__context.deleteTransformFeedback(b)};q.deleteVertexArray=function(a,b){a.__context.deleteVertexArray(b)};q.depthFunc=function(a,b){a.__context.depthFunc(b)};q.depthMask=function(a,b){a.__context.depthMask(b)};q.depthRange=function(a,b,c){a.__context.depthRange(b,c)};q.detachShader=function(a,b,c){a.__context.detachShader(b,c)};q.disable=function(a,b){a.__context.disable(b)};
q.disableVertexAttribArray=function(a,b){a.__context.disableVertexAttribArray(b)};q.drawArrays=function(a,b,c,d){a.__context.drawArrays(b,c,d)};q.drawArraysInstanced=function(a,b,c,d,e){a.__context.drawArraysInstanced(b,c,d,e)};q.drawBuffers=function(a,b){a.__context.drawBuffers(b)};q.drawElements=function(a,b,c,d,e){a.__context.drawElements(b,c,d,E.toValue(e))};q.drawElementsInstanced=function(a,b,c,d,e,f){a.__context.drawElementsInstanced(b,c,d,E.fromInt(E.toValue(e)),f)};q.drawRangeElements=function(a,
b,c,d,e,f,k){a.__context.drawRangeElements(b,c,d,e,f,E.fromInt(E.toValue(k)))};q.enable=function(a,b){a.__context.enable(b)};q.enableVertexAttribArray=function(a,b){a.__context.enableVertexAttribArray(b)};q.endQuery=function(a,b){a.__context.endQuery(b)};q.endTransformFeedback=function(a){a.__context.endTransformFeedback()};q.fenceSync=function(a,b,c){return a.__context.fenceSync(b,c)};q.finish=function(a){a.__context.finish()};q.flush=function(a){a.__context.flush()};q.framebufferRenderbuffer=function(a,
b,c,d,e){a.__context.framebufferRenderbuffer(b,c,d,e)};q.framebufferTexture2D=function(a,b,c,d,e,f){a.__context.framebufferTexture2D(b,c,d,e,f)};q.framebufferTextureLayer=function(a,b,c,d,e,f){a.__context.framebufferTextureLayer(b,c,d,e,f)};q.frontFace=function(a,b){a.__context.frontFace(b)};q.generateMipmap=function(a,b){a.__context.generateMipmap(b)};q.getActiveAttrib=function(a,b,c){return a.__context.getActiveAttrib(b,c)};q.getActiveUniform=function(a,b,c){return a.__context.getActiveUniform(b,
c)};q.getActiveUniformBlockName=function(a,b,c){return a.__context.getActiveUniformBlockName(b,c)};q.getActiveUniformBlockParameter=function(a,b,c,d){return a.__context.getActiveUniformBlockParameter(b,c,d)};q.getActiveUniforms=function(a,b,c,d){return a.__context.getActiveUniforms(b,c,d)};q.getAttachedShaders=function(a,b){return a.__context.getAttachedShaders(b)};q.getAttribLocation=function(a,b,c){return a.__context.getAttribLocation(b,c)};q.getBufferParameter=function(a,b,c){return a.__context.getBufferParameter(b,
c)};q.getBufferSubData=function(a,b,c,d,e,f){a.getBufferSubDataWEBGL(b,c,d,e,f)};q.getContextAttributes=function(a){return a.__context.getContextAttributes()};q.getError=function(a){return a.__context.getError()};q.getExtension=function(a,b){return a.__context.getExtension(b)};q.getFragDataLocation=function(a,b,c){return a.__context.getFragDataLocation(b,c)};q.getFramebufferAttachmentParameter=function(a,b,c,d){return a.__context.getFramebufferAttachmentParameter(b,c,d)};q.getIndexedParameter=function(a,
b,c){return a.__context.getIndexedParameter(b,c)};q.getInternalformatParameter=function(a,b,c,d){return a.__context.getInternalformatParameter(b,c,d)};q.getParameter=function(a,b){return a.__context.getParameter(b)};q.getProgramInfoLog=function(a,b){return a.__context.getProgramInfoLog(b)};q.getProgramParameter=function(a,b,c){return a.__context.getProgramParameter(b,c)};q.getQuery=function(a,b,c){return a.__context.getQuery(b,c)};q.getQueryParameter=function(a,b,c){return a.__context.getQueryParameter(b,
c)};q.getRenderbufferParameter=function(a,b,c){return a.__context.getRenderbufferParameter(b,c)};q.getSamplerParameter=function(a,b,c){return a.__context.getSamplerParameter(b,c)};q.getShaderInfoLog=function(a,b){return a.__context.getShaderInfoLog(b)};q.getShaderParameter=function(a,b,c){return a.__context.getShaderParameter(b,c)};q.getShaderPrecisionFormat=function(a,b,c){return a.__context.getShaderPrecisionFormat(b,c)};q.getShaderSource=function(a,b){return a.__context.getShaderSource(b)};q.getSupportedExtensions=
function(a){return a.__context.getSupportedExtensions()};q.getSyncParameter=function(a,b,c){return a.__context.getSyncParameter(b,c)};q.getTexParameter=function(a,b,c){return a.__context.getTexParameter(b,c)};q.getTransformFeedbackVarying=function(a,b,c){return a.__context.getTransformFeedbackVarying(b,c)};q.getUniform=function(a,b,c){return a.__context.getUniform(b,c)};q.getUniformBlockIndex=function(a,b,c){return a.__context.getUniformBlockIndex(b,c)};q.getUniformIndices=function(a,b,c){return a.__context.getUniformIndices(b,
c)};q.getUniformLocation=function(a,b,c){return a.__context.getUniformLocation(b,c)};q.getVertexAttrib=function(a,b,c){return a.__context.getVertexAttrib(b,c)};q.getVertexAttribOffset=function(a,b,c){return E.fromInt(a.__context.getVertexAttribOffset(b,c))};q.hint=function(a,b,c){a.__context.hint(b,c)};q.invalidateFramebuffer=function(a,b,c){a.__context.invalidateFramebuffer(b,c)};q.invalidateSubFramebuffer=function(a,b,c,d,e,f,k){a.__context.invalidateSubFramebuffer(b,c,d,e,f,k)};q.isBuffer=function(a,
b){return a.__context.isBuffer(b)};q.isContextLost=function(a){return a.__contextLost?!0:a.__context.isContextLost()};q.isEnabled=function(a,b){return a.__context.isEnabled(b)};q.isFramebuffer=function(a,b){return a.__context.isFramebuffer(b)};q.isProgram=function(a,b){return a.__context.isProgram(b)};q.isQuery=function(a,b){return a.__context.isQuery(b)};q.isRenderbuffer=function(a,b){return a.__context.isRenderbuffer(b)};q.isSampler=function(a,b){return a.__context.isSampler(b)};q.isShader=function(a,
b){return a.__context.isShader(b)};q.isTexture=function(a,b){return a.__context.isTexture(b)};q.isTransformFeedback=function(a,b){return a.__context.isTransformFeedback(b)};q.isVertexArray=function(a,b){return a.__context.isVertexArray(b)};q.lineWidth=function(a,b){a.__context.lineWidth(b)};q.linkProgram=function(a,b){a.__context.linkProgram(b)};q.pauseTransformFeedback=function(a){a.__context.pauseTransformFeedback()};q.pixelStorei=function(a,b,c){a.__context.pixelStorei(b,c)};q.polygonOffset=function(a,
b,c){a.__context.polygonOffset(b,c)};q.readBuffer=function(a,b){a.__context.readBuffer(b)};q.readPixels=function(a,b,c,d,e,f,k,h,g){a.readPixelsWEBGL(b,c,d,e,f,k,h,g)};q.renderbufferStorage=function(a,b,c,d,e){a.__context.renderbufferStorage(b,c,d,e)};q.renderbufferStorageMultisample=function(a,b,c,d,e,f){a.__context.renderbufferStorageMultisample(b,c,d,e,f)};q.resumeTransformFeedback=function(a){a.__context.resumeTransformFeedback()};q.sampleCoverage=function(a,b,c){a.__context.sampleCoverage(b,
c)};q.samplerParameterf=function(a,b,c,d){a.__context.samplerParameterf(b,c,d)};q.samplerParameteri=function(a,b,c,d){a.__context.samplerParameteri(b,c,d)};q.scissor=function(a,b,c,d,e){a.__context.scissor(b,c,d,e)};q.shaderSource=function(a,b,c){a.__context.shaderSource(b,c)};q.stencilFunc=function(a,b,c,d){a.__context.stencilFunc(b,c,d)};q.stencilFuncSeparate=function(a,b,c,d,e){a.__context.stencilFuncSeparate(b,c,d,e)};q.stencilMask=function(a,b){a.__context.stencilMask(b)};q.stencilMaskSeparate=
function(a,b,c){a.__context.stencilMaskSeparate(b,c)};q.stencilOp=function(a,b,c,d){a.__context.stencilOp(b,c,d)};q.stencilOpSeparate=function(a,b,c,d,e){a.__context.stencilOpSeparate(b,c,d,e)};q.texImage2D=function(a,b,c,d,e,f,k,h,g,m,n){a.texImage2DWEBGL(b,c,d,e,f,k,h,g,m,n)};q.texImage3D=function(a,b,c,d,e,f,k,h,g,m,n,l){a.__context.texImage3D(b,c,d,e,f,k,h,g,m,n,l)};q.texStorage2D=function(a,b,c,d,e,f){a.__context.texStorage2D(b,c,d,e,f)};q.texStorage3D=function(a,b,c,d,e,f,k){a.__context.texStorage3D(b,
c,d,e,f,k)};q.texParameterf=function(a,b,c,d){a.__context.texParameterf(b,c,d)};q.texParameteri=function(a,b,c,d){a.__context.texParameteri(b,c,d)};q.texSubImage2D=function(a,b,c,d,e,f,k,h,g,m,n){a.texSubImage2DWEBGL(b,c,d,e,f,k,h,g,m,n)};q.texSubImage3D=function(a,b,c,d,e,f,k,h,g,m,n,l,q){a.__context.texSubImage3D(b,c,d,e,f,k,h,g,m,n,l,q)};q.transformFeedbackVaryings=function(a,b,c,d){a.__context.transformFeedbackVaryings(b,c,d)};q.uniform1f=function(a,b,c){a.__context.uniform1f(b,c)};q.uniform1fv=
function(a,b,c){a.uniform1fvWEBGL(b,c)};q.uniform1i=function(a,b,c){a.__context.uniform1i(b,c)};q.uniform1iv=function(a,b,c){a.uniform1ivWEBGL(b,c)};q.uniform1ui=function(a,b,c){a.__context.uniform1ui(b,c)};q.uniform1uiv=function(a,b,c){a.__context.uniform1uiv(b,c,null,null)};q.uniform2f=function(a,b,c,d){a.__context.uniform2f(b,c,d)};q.uniform2fv=function(a,b,c){a.uniform2fvWEBGL(b,c)};q.uniform2i=function(a,b,c,d){a.__context.uniform2i(b,c,d)};q.uniform2iv=function(a,b,c){a.uniform2fvWEBGL(b,c)};
q.uniform2ui=function(a,b,c,d){a.__context.uniform2ui(b,c,d)};q.uniform2uiv=function(a,b,c){a.__context.uniform2uiv(b,c,null,null)};q.uniform3f=function(a,b,c,d,e){a.__context.uniform3f(b,c,d,e)};q.uniform3fv=function(a,b,c){a.uniform3fvWEBGL(b,c)};q.uniform3i=function(a,b,c,d,e){a.__context.uniform3i(b,c,d,e)};q.uniform3iv=function(a,b,c){a.uniform3ivWEBGL(b,c)};q.uniform3ui=function(a,b,c,d,e){a.__context.uniform3ui(b,c,d,e)};q.uniform3uiv=function(a,b,c){a.__context.uniform3uiv(b,c,null,null)};
q.uniform4f=function(a,b,c,d,e,f){a.__context.uniform4f(b,c,d,e,f)};q.uniform4fv=function(a,b,c){a.uniform4fvWEBGL(b,c)};q.uniform4i=function(a,b,c,d,e,f){a.__context.uniform4i(b,c,d,e,f)};q.uniform4iv=function(a,b,c){a.uniform4ivWEBGL(b,c)};q.uniform4ui=function(a,b,c,d,e,f){a.__context.uniform4ui(b,c,d,e,f)};q.uniform4uiv=function(a,b,c){a.__context.uniform4uiv(b,c,null,null)};q.uniformBlockBinding=function(a,b,c,d){a.__context.uniformBlockBinding(b,c,d)};q.uniformMatrix2fv=function(a,b,c,d,e,f){a.uniformMatrix2fvWEBGL(b,
c,d,e,f)};q.uniformMatrix2x3fv=function(a,b,c,d,e,f){a.__context.uniformMatrix2x3fv(b,c,d,e,f)};q.uniformMatrix2x4fv=function(a,b,c,d,e,f){a.__context.uniformMatrix2x4fv(b,c,d,e,f)};q.uniformMatrix3fv=function(a,b,c,d,e,f){a.uniformMatrix3fvWEBGL(b,c,d,e,f)};q.uniformMatrix3x2fv=function(a,b,c,d,e,f){a.__context.uniformMatrix3x2fv(b,c,d,e,f)};q.uniformMatrix3x4fv=function(a,b,c,d,e,f){a.__context.uniformMatrix3x4fv(b,c,d,e,f)};q.uniformMatrix4fv=function(a,b,c,d,e,f){a.uniformMatrix4fvWEBGL(b,c,d,
e,f)};q.uniformMatrix4x2fv=function(a,b,c,d,e,f){a.uniformMatrix4x2fvWEBGL(b,c,d,e,f)};q.uniformMatrix4x3fv=function(a,b,c,d,e,f){a.__context.uniformMatrix4x3fv(b,c,d,e,f)};q.useProgram=function(a,b){a.__context.useProgram(b)};q.validateProgram=function(a,b){a.__context.validateProgram(b)};q.vertexAttrib1f=function(a,b,c){a.__context.vertexAttrib1f(b,c)};q.vertexAttrib1fv=function(a,b,c){c=E.fromArrayBufferView(c);a.__context.vertexAttrib1fv(b,E.toFloat32Array(c))};q.vertexAttrib2f=function(a,b,c,
d){a.__context.vertexAttrib2f(b,c,d)};q.vertexAttrib2fv=function(a,b,c){c=E.fromArrayBufferView(c);a.__context.vertexAttrib2fv(b,E.toFloat32Array(c))};q.vertexAttrib3f=function(a,b,c,d,e){a.__context.vertexAttrib3f(b,c,d,e)};q.vertexAttrib3fv=function(a,b,c){c=E.fromArrayBufferView(c);a.__context.vertexAttrib3fv(b,E.toFloat32Array(c))};q.vertexAttrib4f=function(a,b,c,d,e,f){a.__context.vertexAttrib4f(b,c,d,e,f)};q.vertexAttrib4fv=function(a,b,c){c=E.fromArrayBufferView(c);a.__context.vertexAttrib4fv(b,
E.toFloat32Array(c))};q.vertexAttribDivisor=function(a,b,c){a.__context.vertexAttribDivisor(b,c)};q.vertexAttribI4i=function(a,b,c,d,e,f){a.__context.vertexAttribI4i(b,c,d,e,f)};q.vertexAttribI4iv=function(a,b,c){c=E.fromArrayBufferView(c);a.__context.vertexAttribI4iv(b,E.toInt32Array(c))};q.vertexAttribI4ui=function(a,b,c,d,e,f){a.__context.vertexAttribI4ui(b,c,d,e,f)};q.vertexAttribI4uiv=function(a,b,c){c=E.fromArrayBufferView(c);a.__context.vertexAttribI4uiv(b,E.toUInt32Array(c))};q.vertexAttribPointer=
function(a,b,c,d,e,f,k){a.__context.vertexAttribPointer(b,c,d,e,f,E.toValue(k))};q.viewport=function(a,b,c,d,e){a.__context.viewport(b,c,d,e)};q.waitSync=function(a,b,c,d){a.__context.waitSync(b,c,d)};q.fromGL=function(a){return g.context};q.fromGLES3Context=function(a){return a};q.toWebGLContext=function(a){return a};var pd={};m["lime.graphics.opengl._WebGLContext.WebGLContext_Impl_"]=pd;pd.__name__=["lime","graphics","opengl","_WebGLContext","WebGLContext_Impl_"];pd.bufferData=function(a,b,c,d){a.bufferDataWEBGL(b,
c,d,null,null)};pd.bufferSubData=function(a,b,c,d){a.bufferSubDataWEBGL(b,c,d,null,null)};pd.compressedTexImage2D=function(a,b,c,d,e,f,k,h){a.compressedTexImage2DWEBGL(b,c,d,e,f,k,h,null,null)};pd.compressedTexSubImage2D=function(a,b,c,d,e,f,k,h,g){a.compressedTexSubImage2DWEBGL(b,c,d,e,f,k,h,g,null,null)};pd.readPixels=function(a,b,c,d,e,f,k,h){a.readPixelsWEBGL(b,c,d,e,f,k,h,null)};pd.texImage2D=function(a,b,c,d,e,f,k,h,g,m){a.texImage2DWEBGL(b,c,d,e,f,k,h,g,m,null)};pd.texSubImage2D=function(a,
b,c,d,e,f,k,h,g,m){a.texSubImage2DWEBGL(b,c,d,e,f,k,h,g,m,null)};pd.uniformMatrix2fv=function(a,b,c,d){a.uniformMatrix2fvWEBGL(b,c,d,null,null)};pd.uniformMatrix3fv=function(a,b,c,d){a.uniformMatrix3fvWEBGL(b,c,d,null,null)};pd.uniformMatrix4fv=function(a,b,c,d){a.uniformMatrix4fvWEBGL(b,c,d,null,null)};pd.fromGL=function(a){return g.context};pd.fromGLES2Context=function(a){return a};pd.fromGLES3Context=function(a){return a};var ta=function(){};m["lime.graphics.utils.ImageCanvasUtil"]=ta;ta.__name__=
["lime","graphics","utils","ImageCanvasUtil"];ta.colorTransform=function(a,b,c){ta.convertToData(a);fb.colorTransform(a,b,c)};ta.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==c.__srcCanvas&&(ta.createCanvas(a,c.__srcImage.width,c.__srcImage.height),c.__srcContext.drawImage(c.__srcImage,0,0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),ta.createCanvas(a,c.width,c.height),ta.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,
0,0)):a.type==hc.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);a.type=hc.CANVAS};ta.convertToData=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&ta.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)ta.createImageData(a),a.type==hc.CANVAS&&(a.dirty=!1);else if(a.type==hc.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==
c.__srcImageData)ta.createImageData(a);else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);var d=c.__srcImageData.data.buffer,d=null!=d?new Db(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);a.type=hc.DATA};ta.copyChannel=function(a,b,c,d,e,f){ta.convertToData(b);ta.convertToData(a);fb.copyChannel(a,b,c,d,e,f)};ta.copyPixels=function(a,b,c,d,e,f,k){null==k&&(k=!1);null==d||d.x>=a.width||d.y>=a.height||null==c||1>c.width||1>c.height||(null!=
e&&e.get_transparent()&&(null==f&&(f=new Oc),b=a.clone(),b.copyChannel(e,new ld(f.x,f.y,c.width,c.height),new Oc(c.x,c.y),nc.ALPHA,nc.ALPHA)),ta.convertToCanvas(a,!0),k||a.get_transparent()&&b.get_transparent()&&a.buffer.__srcContext.clearRect(d.x+a.offsetX,d.y+a.offsetY,c.width+a.offsetX,c.height+a.offsetY),ta.convertToCanvas(b),null!=b.buffer.get_src()&&a.buffer.__srcContext.drawImage(b.buffer.get_src(),c.x+b.offsetX|0,c.y+b.offsetY|0,c.width|0,c.height|0,d.x+a.offsetX|0,d.y+a.offsetY|0,c.width|
0,c.height|0),a.dirty=!0,a.version++)};ta.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=
!1)};ta.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new Db(b):null;a.data=b}};ta.fillRect=function(a,b,c,d){ta.convertToCanvas(a);var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?
c&255:255);0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==c?a.buffer.__srcCanvas.width=a.buffer.width:(255>c&&a.buffer.__srcContext.clearRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),0<c&&(a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)),a.dirty=!0,a.version++)};ta.floodFill=function(a,b,c,d,e){ta.convertToData(a);fb.floodFill(a,
b,c,d,e)};ta.getPixel=function(a,b,c,d){ta.convertToData(a);return fb.getPixel(a,b,c,d)};ta.getPixel32=function(a,b,c,d){ta.convertToData(a);return fb.getPixel32(a,b,c,d)};ta.getPixels=function(a,b,c){ta.convertToData(a);return fb.getPixels(a,b,c)};ta.merge=function(a,b,c,d,e,f,k,h){ta.convertToData(b);ta.convertToData(a);fb.merge(a,b,c,d,e,f,k,h)};ta.resize=function(a,b,c){var d=a.buffer;if(null==d.__srcCanvas)ta.createCanvas(a,b,c),d.__srcContext.drawImage(d.get_src(),0,0,b,c);else{ta.convertToCanvas(a,
!0);var e=d.__srcCanvas;d.__srcCanvas=null;ta.createCanvas(a,b,c);d.__srcContext.drawImage(e,0,0,b,c)}d.__srcImageData=null;d.data=null;a.dirty=!0;a.version++};ta.scroll=function(a,b,c){if(0!=b%a.width||0!=c%a.height){var d=a.clone();ta.convertToCanvas(a,!0);a.buffer.__srcContext.clearRect(b,c,a.width,a.height);a.buffer.__srcContext.drawImage(d.get_src(),b,c);a.dirty=!0;a.version++}};ta.setPixel=function(a,b,c,d,e){ta.convertToData(a);fb.setPixel(a,b,c,d,e)};ta.setPixel32=function(a,b,c,d,e){ta.convertToData(a);
fb.setPixel32(a,b,c,d,e)};ta.setPixels=function(a,b,c,d){ta.convertToData(a);fb.setPixels(a,b,c,d)};ta.sync=function(a,b){null!=a&&(a.type==hc.CANVAS?ta.convertToCanvas(a,b):ta.convertToData(a,b))};var fb=function(){};m["lime.graphics.utils.ImageDataUtil"]=fb;fb.__name__=["lime","graphics","utils","ImageDataUtil"];fb.colorTransform=function(a,b,c){var d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new Je(a,b);var k=gb.getAlphaTable(c),h=gb.getRedTable(c),g=gb.getGreenTable(c);
c=gb.getBlueTable(c);for(var m,n,l,q=0,r=b.height;q<r;){m=q++;m=b.offset+b.stride*m;for(var t=0,u=b.width;t<u;){n=t++;n=m+4*n;switch(e){case 0:l=(d[n]&255)<<24|(d[n+1]&255)<<16|(d[n+2]&255)<<8|d[n+3]&255;break;case 1:l=(d[n+1]&255)<<24|(d[n+2]&255)<<16|(d[n+3]&255)<<8|d[n]&255;break;case 2:l=(d[n+2]&255)<<24|(d[n+1]&255)<<16|(d[n]&255)<<8|d[n+3]&255}f&&0!=(l&255)&&255!=(l&255)&&(O.unmult=255/(l&255),l=(O.__clamp[Math.round((l>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((l>>>16&255)*O.unmult)]&
255)<<16|(O.__clamp[Math.round((l>>>8&255)*O.unmult)]&255)<<8|l&255);l=(h[l>>>24&255]&255)<<24|(g[l>>>16&255]&255)<<16|(c[l>>>8&255]&255)<<8|k[l&255]&255;f&&(0==(l&255)?0!=l&&(l=0):255!=(l&255)&&(O.a16=O.__alpha16[l&255],l=((l>>>24&255)*O.a16>>16&255)<<24|((l>>>16&255)*O.a16>>16&255)<<16|((l>>>8&255)*O.a16>>16&255)<<8|l&255));switch(e){case 0:d[n]=l>>>24&255;d[n+1]=l>>>16&255;d[n+2]=l>>>8&255;d[n+3]=l&255;break;case 1:d[n]=l&255;d[n+1]=l>>>24&255;d[n+2]=l>>>16&255;d[n+3]=l>>>8&255;break;case 2:d[n]=
l>>>8&255,d[n+1]=l>>>16&255,d[n+2]=l>>>24&255,d[n+3]=l&255}}}a.dirty=!0;a.version++}};fb.copyChannel=function(a,b,c,d,e,f){var k;switch(f[1]){case 0:k=0;break;case 1:k=1;break;case 2:k=2;break;case 3:k=3}var h;switch(e[1]){case 0:h=0;break;case 1:h=1;break;case 2:h=2;break;case 3:h=3}e=b.buffer.data;f=a.buffer.data;if(null!=e&&null!=f){c=new Je(b,c);d=new Je(a,new ld(d.x,d.y,c.width,c.height));var g=b.buffer.format,m=a.buffer.format;b=b.buffer.premultiplied;for(var n=a.buffer.premultiplied,l,q,r,
t,u=0,v=0,y=d.height;v<y;){q=v++;l=c.offset+c.stride*q;q=d.offset+d.stride*q;for(var x=0,z=d.width;x<z;){x++;switch(g){case 0:r=(e[l]&255)<<24|(e[l+1]&255)<<16|(e[l+2]&255)<<8|e[l+3]&255;break;case 1:r=(e[l+1]&255)<<24|(e[l+2]&255)<<16|(e[l+3]&255)<<8|e[l]&255;break;case 2:r=(e[l+2]&255)<<24|(e[l+1]&255)<<16|(e[l]&255)<<8|e[l+3]&255}b&&0!=(r&255)&&255!=(r&255)&&(O.unmult=255/(r&255),r=(O.__clamp[Math.round((r>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((r>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((r>>>
8&255)*O.unmult)]&255)<<8|r&255);switch(m){case 0:t=(f[q]&255)<<24|(f[q+1]&255)<<16|(f[q+2]&255)<<8|f[q+3]&255;break;case 1:t=(f[q+1]&255)<<24|(f[q+2]&255)<<16|(f[q+3]&255)<<8|f[q]&255;break;case 2:t=(f[q+2]&255)<<24|(f[q+1]&255)<<16|(f[q]&255)<<8|f[q+3]&255}n&&0!=(t&255)&&255!=(t&255)&&(O.unmult=255/(t&255),t=(O.__clamp[Math.round((t>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((t>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((t>>>8&255)*O.unmult)]&255)<<8|t&255);switch(h){case 0:u=
r>>>24&255;break;case 1:u=r>>>16&255;break;case 2:u=r>>>8&255;break;case 3:u=r&255}switch(k){case 0:t=(u&255)<<24|(t>>>16&255)<<16|(t>>>8&255)<<8|t&255;break;case 1:t=(t>>>24&255)<<24|(u&255)<<16|(t>>>8&255)<<8|t&255;break;case 2:t=(t>>>24&255)<<24|(t>>>16&255)<<16|(u&255)<<8|t&255;break;case 3:t=(t>>>24&255)<<24|(t>>>16&255)<<16|(t>>>8&255)<<8|u&255}n&&(0==(t&255)?0!=t&&(t=0):255!=(t&255)&&(O.a16=O.__alpha16[t&255],t=((t>>>24&255)*O.a16>>16&255)<<24|((t>>>16&255)*O.a16>>16&255)<<16|((t>>>8&255)*
O.a16>>16&255)<<8|t&255));switch(m){case 0:f[q]=t>>>24&255;f[q+1]=t>>>16&255;f[q+2]=t>>>8&255;f[q+3]=t&255;break;case 1:f[q]=t&255;f[q+1]=t>>>24&255;f[q+2]=t>>>16&255;f[q+3]=t>>>8&255;break;case 2:f[q]=t>>>8&255,f[q+1]=t>>>16&255,f[q+2]=t>>>24&255,f[q+3]=t&255}l+=4;q+=4}}a.dirty=!0;a.version++}};fb.copyPixels=function(a,b,c,d,e,f,k){null==k&&(k=!1);if(a.width==b.width&&a.height==b.height&&c.width==b.width&&c.height==b.height&&0==c.x&&0==c.y&&0==d.x&&0==d.y&&null==e&&null==f&&0==k&&a.get_format()==
b.get_format())a.buffer.data.set(b.buffer.data);else{var h=b.buffer.data,g=a.buffer.data;if(null==h||null==g)return;c=new Je(b,c);d=new ld(d.x,d.y,c.width,c.height);d=new Je(a,d);var m=b.buffer.format,n=a.buffer.format,l,q,r,t,u,v,y=b.buffer.premultiplied,x=a.buffer.premultiplied,z=b.buffer.bitsPerPixel/8|0;b=a.buffer.bitsPerPixel/8|0;var B=null!=e&&e.get_transparent();t=k||B&&!a.get_transparent();if(B){null==f&&(f=new Oc);b=e.buffer.data;k=e.buffer.format;var z=new Je(e,new ld(f.x,f.y,d.width,d.height)),
A,D,B=z.y-d.y;if(t)for(var E=0,F=d.height;E<F;){t=E++;e=c.offset+c.stride*t;f=d.offset+d.stride*t;A=z.offset+z.stride*(t+B);for(var I=0,H=d.width;I<H;){I++;switch(m){case 0:u=(h[e]&255)<<24|(h[e+1]&255)<<16|(h[e+2]&255)<<8|h[e+3]&255;break;case 1:u=(h[e+1]&255)<<24|(h[e+2]&255)<<16|(h[e+3]&255)<<8|h[e]&255;break;case 2:u=(h[e+2]&255)<<24|(h[e+1]&255)<<16|(h[e]&255)<<8|h[e+3]&255}y&&0!=(u&255)&&255!=(u&255)&&(O.unmult=255/(u&255),u=(O.__clamp[Math.round((u>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((u>>>
16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((u>>>8&255)*O.unmult)]&255)<<8|u&255);switch(n){case 0:v=(g[f]&255)<<24|(g[f+1]&255)<<16|(g[f+2]&255)<<8|g[f+3]&255;break;case 1:v=(g[f+1]&255)<<24|(g[f+2]&255)<<16|(g[f+3]&255)<<8|g[f]&255;break;case 2:v=(g[f+2]&255)<<24|(g[f+1]&255)<<16|(g[f]&255)<<8|g[f+3]&255}x&&0!=(v&255)&&255!=(v&255)&&(O.unmult=255/(v&255),v=(O.__clamp[Math.round((v>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((v>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((v>>>
8&255)*O.unmult)]&255)<<8|v&255);switch(k){case 0:D=(b[A]&255)<<24|(b[A+1]&255)<<16|(b[A+2]&255)<<8|b[A+3]&255;break;case 1:D=(b[A+1]&255)<<24|(b[A+2]&255)<<16|(b[A+3]&255)<<8|b[A]&255;break;case 2:D=(b[A+2]&255)<<24|(b[A+1]&255)<<16|(b[A]&255)<<8|b[A+3]&255}l=(D&255)/255*((u&255)/255);if(0<l){q=(v&255)/255;r=1-l;t=l+q*r;v=(O.__clamp[Math.round(((u>>>24&255)*l+(v>>>24&255)*q*r)/t)]&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|v&255;var G=O.__clamp[Math.round(((u>>>16&255)*l+(v>>>16&255)*q*r)/t)];v=(v>>>
24&255)<<24|(G&255)<<16|(v>>>8&255)<<8|v&255;l=O.__clamp[Math.round(((u>>>8&255)*l+(v>>>8&255)*q*r)/t)];v=(v>>>24&255)<<24|(v>>>16&255)<<16|(l&255)<<8|v&255;t=O.__clamp[Math.round(255*t)];v=(v>>>24&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|t&255;x&&(0==(v&255)?0!=v&&(v=0):255!=(v&255)&&(O.a16=O.__alpha16[v&255],v=((v>>>24&255)*O.a16>>16&255)<<24|((v>>>16&255)*O.a16>>16&255)<<16|((v>>>8&255)*O.a16>>16&255)<<8|v&255));switch(n){case 0:g[f]=v>>>24&255;g[f+1]=v>>>16&255;g[f+2]=v>>>8&255;g[f+3]=v&255;break;
case 1:g[f]=v&255;g[f+1]=v>>>24&255;g[f+2]=v>>>16&255;g[f+3]=v>>>8&255;break;case 2:g[f]=v>>>8&255,g[f+1]=v>>>16&255,g[f+2]=v>>>24&255,g[f+3]=v&255}}e+=4;f+=4;A+=4}}else for(v=0,t=d.height;v<t;)for(A=v++,e=c.offset+c.stride*A,f=d.offset+d.stride*A,A=z.offset+z.stride*(A+B),l=0,q=d.width;l<q;){l++;switch(m){case 0:u=(h[e]&255)<<24|(h[e+1]&255)<<16|(h[e+2]&255)<<8|h[e+3]&255;break;case 1:u=(h[e+1]&255)<<24|(h[e+2]&255)<<16|(h[e+3]&255)<<8|h[e]&255;break;case 2:u=(h[e+2]&255)<<24|(h[e+1]&255)<<16|(h[e]&
255)<<8|h[e+3]&255}y&&0!=(u&255)&&255!=(u&255)&&(O.unmult=255/(u&255),u=(O.__clamp[Math.round((u>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((u>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((u>>>8&255)*O.unmult)]&255)<<8|u&255);switch(k){case 0:D=(b[A]&255)<<24|(b[A+1]&255)<<16|(b[A+2]&255)<<8|b[A+3]&255;break;case 1:D=(b[A+1]&255)<<24|(b[A+2]&255)<<16|(b[A+3]&255)<<8|b[A]&255;break;case 2:D=(b[A+2]&255)<<24|(b[A+1]&255)<<16|(b[A]&255)<<8|b[A+3]&255}r=Math.round((D&255)/255*(u&255));
u=(u>>>24&255)<<24|(u>>>16&255)<<16|(u>>>8&255)<<8|r&255;x&&(0==(u&255)?0!=u&&(u=0):255!=(u&255)&&(O.a16=O.__alpha16[u&255],u=((u>>>24&255)*O.a16>>16&255)<<24|((u>>>16&255)*O.a16>>16&255)<<16|((u>>>8&255)*O.a16>>16&255)<<8|u&255));switch(n){case 0:g[f]=u>>>24&255;g[f+1]=u>>>16&255;g[f+2]=u>>>8&255;g[f+3]=u&255;break;case 1:g[f]=u&255;g[f+1]=u>>>24&255;g[f+2]=u>>>16&255;g[f+3]=u>>>8&255;break;case 2:g[f]=u>>>8&255,g[f+1]=u>>>16&255,g[f+2]=u>>>24&255,g[f+3]=u&255}e+=4;f+=4;A+=4}}else if(t)for(D=0,b=
d.height;D<b;)for(f=D++,e=c.offset+c.stride*f,f=d.offset+d.stride*f,k=0,z=d.width;k<z;){k++;switch(m){case 0:u=(h[e]&255)<<24|(h[e+1]&255)<<16|(h[e+2]&255)<<8|h[e+3]&255;break;case 1:u=(h[e+1]&255)<<24|(h[e+2]&255)<<16|(h[e+3]&255)<<8|h[e]&255;break;case 2:u=(h[e+2]&255)<<24|(h[e+1]&255)<<16|(h[e]&255)<<8|h[e+3]&255}y&&0!=(u&255)&&255!=(u&255)&&(O.unmult=255/(u&255),u=(O.__clamp[Math.round((u>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((u>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((u>>>
8&255)*O.unmult)]&255)<<8|u&255);switch(n){case 0:v=(g[f]&255)<<24|(g[f+1]&255)<<16|(g[f+2]&255)<<8|g[f+3]&255;break;case 1:v=(g[f+1]&255)<<24|(g[f+2]&255)<<16|(g[f+3]&255)<<8|g[f]&255;break;case 2:v=(g[f+2]&255)<<24|(g[f+1]&255)<<16|(g[f]&255)<<8|g[f+3]&255}x&&0!=(v&255)&&255!=(v&255)&&(O.unmult=255/(v&255),v=(O.__clamp[Math.round((v>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((v>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((v>>>8&255)*O.unmult)]&255)<<8|v&255);l=(u&255)/255;q=(v&
255)/255;r=1-l;t=l+q*r;0==t?v=0:(v=(O.__clamp[Math.round(((u>>>24&255)*l+(v>>>24&255)*q*r)/t)]&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|v&255,B=O.__clamp[Math.round(((u>>>16&255)*l+(v>>>16&255)*q*r)/t)],v=(v>>>24&255)<<24|(B&255)<<16|(v>>>8&255)<<8|v&255,B=O.__clamp[Math.round(((u>>>8&255)*l+(v>>>8&255)*q*r)/t)],v=(v>>>24&255)<<24|(v>>>16&255)<<16|(B&255)<<8|v&255,B=O.__clamp[Math.round(255*t)],v=(v>>>24&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|B&255);x&&(0==(v&255)?0!=v&&(v=0):255!=(v&255)&&(O.a16=
O.__alpha16[v&255],v=((v>>>24&255)*O.a16>>16&255)<<24|((v>>>16&255)*O.a16>>16&255)<<16|((v>>>8&255)*O.a16>>16&255)<<8|v&255));switch(n){case 0:g[f]=v>>>24&255;g[f+1]=v>>>16&255;g[f+2]=v>>>8&255;g[f+3]=v&255;break;case 1:g[f]=v&255;g[f+1]=v>>>24&255;g[f+2]=v>>>16&255;g[f+3]=v>>>8&255;break;case 2:g[f]=v>>>8&255,g[f+1]=v>>>16&255,g[f+2]=v>>>24&255,g[f+3]=v&255}e+=4;f+=4}else if(m==n&&y==x&&z==b)for(u=0,m=d.height;u<m;)n=u++,e=c.offset+c.stride*n,f=d.offset+d.stride*n,g.set(h.subarray(e,e+d.width*b),
f);else for(v=0,D=d.height;v<D;)for(f=v++,e=c.offset+c.stride*f,f=d.offset+d.stride*f,b=0,k=d.width;b<k;){b++;switch(m){case 0:u=(h[e]&255)<<24|(h[e+1]&255)<<16|(h[e+2]&255)<<8|h[e+3]&255;break;case 1:u=(h[e+1]&255)<<24|(h[e+2]&255)<<16|(h[e+3]&255)<<8|h[e]&255;break;case 2:u=(h[e+2]&255)<<24|(h[e+1]&255)<<16|(h[e]&255)<<8|h[e+3]&255}y&&0!=(u&255)&&255!=(u&255)&&(O.unmult=255/(u&255),u=(O.__clamp[Math.round((u>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((u>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((u>>>
8&255)*O.unmult)]&255)<<8|u&255);x&&(0==(u&255)?0!=u&&(u=0):255!=(u&255)&&(O.a16=O.__alpha16[u&255],u=((u>>>24&255)*O.a16>>16&255)<<24|((u>>>16&255)*O.a16>>16&255)<<16|((u>>>8&255)*O.a16>>16&255)<<8|u&255));switch(n){case 0:g[f]=u>>>24&255;g[f+1]=u>>>16&255;g[f+2]=u>>>8&255;g[f+3]=u&255;break;case 1:g[f]=u&255;g[f+1]=u>>>24&255;g[f+2]=u>>>16&255;g[f+3]=u>>>8&255;break;case 2:g[f]=u>>>8&255,g[f+1]=u>>>16&255,g[f+2]=u>>>24&255,g[f+3]=u&255}e+=4;f+=4}}a.dirty=!0;a.version++};fb.fillRect=function(a,b,
c,d){switch(d){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>16&255)<<16|(c>>>8&255)<<8|255);d=a.buffer.data;if(null!=d){var e=a.buffer.format;a.buffer.premultiplied&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(O.a16=O.__alpha16[c&255],c=((c>>>24&255)*O.a16>>16&255)<<24|((c>>>16&255)*O.a16>>16&255)<<16|((c>>>8&255)*O.a16>>16&255)<<8|c&255));b=new Je(a,b);for(var f,
k=0,h=b.height;k<h;){f=k++;f=b.offset+b.stride*f;for(var g=0,m=b.width;g<m;){var n=g++,n=f+4*n;switch(e){case 0:d[n]=c>>>24&255;d[n+1]=c>>>16&255;d[n+2]=c>>>8&255;d[n+3]=c&255;break;case 1:d[n]=c&255;d[n+1]=c>>>24&255;d[n+2]=c>>>16&255;d[n+3]=c>>>8&255;break;case 2:d[n]=c>>>8&255,d[n+1]=c>>>16&255,d[n+2]=c>>>24&255,d[n+3]=c&255}}}a.dirty=!0;a.version++}};fb.floodFill=function(a,b,c,d,e){var f=a.buffer.data;if(null!=f){1==e&&(d=(d&16777215)<<8|d>>24&255);e=a.buffer.format;var k=a.buffer.premultiplied,
h,g=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);switch(e){case 0:h=(f[g]&255)<<24|(f[g+1]&255)<<16|(f[g+2]&255)<<8|f[g+3]&255;break;case 1:h=(f[g+1]&255)<<24|(f[g+2]&255)<<16|(f[g+3]&255)<<8|f[g]&255;break;case 2:h=(f[g+2]&255)<<24|(f[g+1]&255)<<16|(f[g]&255)<<8|f[g+3]&255}k&&0!=(h&255)&&255!=(h&255)&&(O.unmult=255/(h&255),h=(O.__clamp[Math.round((h>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((h>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((h>>>8&255)*O.unmult)]&255)<<8|h&255);a.get_transparent()||
(d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255,h=(h>>>24&255)<<24|(h>>>16&255)<<16|(h>>>8&255)<<8|255);if(d!=h){k&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(O.a16=O.__alpha16[d&255],d=((d>>>24&255)*O.a16>>16&255)<<24|((d>>>16&255)*O.a16>>16&255)<<16|((d>>>8&255)*O.a16>>16&255)<<8|d&255));var g=[0,-1,1,0],m=[-1,0,0,1],n=-a.offsetX,l=-a.offsetY,q=n+a.width,r=l+a.height,t=[];t.push(b);t.push(c);for(var u,v,y,x;0<t.length;){c=t.pop();b=t.pop();for(var z=0;4>z;)if(v=z++,u=b+g[v],v=c+m[v],!(u<n||
v<l||u>=q||v>=r)){y=4*(v*a.width+u);switch(e){case 0:x=(f[y]&255)<<24|(f[y+1]&255)<<16|(f[y+2]&255)<<8|f[y+3]&255;break;case 1:x=(f[y+1]&255)<<24|(f[y+2]&255)<<16|(f[y+3]&255)<<8|f[y]&255;break;case 2:x=(f[y+2]&255)<<24|(f[y+1]&255)<<16|(f[y]&255)<<8|f[y+3]&255}k&&0!=(x&255)&&255!=(x&255)&&(O.unmult=255/(x&255),x=(O.__clamp[Math.round((x>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((x>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((x>>>8&255)*O.unmult)]&255)<<8|x&255);if(x==h){switch(e){case 0:f[y]=
d>>>24&255;f[y+1]=d>>>16&255;f[y+2]=d>>>8&255;f[y+3]=d&255;break;case 1:f[y]=d&255;f[y+1]=d>>>24&255;f[y+2]=d>>>16&255;f[y+3]=d>>>8&255;break;case 2:f[y]=d>>>8&255,f[y+1]=d>>>16&255,f[y+2]=d>>>24&255,f[y+3]=d&255}t.push(u);t.push(v)}}}a.dirty=!0;a.version++}}};fb.gaussianBlur=function(a,b,c,d,e,f,k,h){null==h&&(h=1);null==k&&(k=1);null==f&&(f=4);null==e&&(e=4);var g=function(a,b){var c=a/b*255|0;return 0>c?0:255<c?255:c},m=function(a,b){var c=Math.sqrt(12*a*a/b+1),c=Math.floor(c);0==c%2&&--c;for(var d=
c+2,e=Math.round((12*a*a-b*c*c-4*b*c-3*b)/(-4*c-4)),f=[],k=0;k<b;){var h=k++;f.push(h<e?c:d)}return f},n=function(a,b,c,d,e,f){for(var k=1/(e+e+1),h=0;h<d;){for(var p=h++*c,l=p,g=p+e,n=a[4*p+f],w=a[4*(p+c-1)+f],m=(e+1)*n,q=0,r=e;q<r;)var t=q++,m=m+a[4*(p+t)+f];q=0;for(r=e+1;q<r;)q++,m+=a[4*g+f]-n,b[4*p+f]=Math.round(Q.toFloat(m)*k),++g,++p;n=e+1;for(q=c-e;n<q;)n++,m+=a[4*g+f]-a[4*l+f],b[4*p+f]=Math.round(Q.toFloat(m)*k),++g,++l,++p;g=c-e;for(n=c;g<n;)g++,m+=w-a[4*l+f],b[4*p+f]=Math.round(Q.toFloat(m)*
k),++l,++p}},l=function(a,b,c,d,e,f){for(var k=1/(e+e+1),h=4*c,p=0;p<c;){for(var l=4*p++ +f,g=l,n=l+e*h,w=a[l],m=a[l+h*(d-1)],q=(e+1)*w,r=0,t=e;r<t;)var u=r++,q=q+a[l+u*h];r=0;for(t=e+1;r<t;)r++,q+=a[n]-w,b[l]=Math.round(Q.toFloat(q)*k),n+=h,l+=h;w=e+1;for(r=d-e;w<r;)w++,q+=a[n]-a[g],b[l]=Math.round(Q.toFloat(q)*k),g+=h,n+=h,l+=h;n=d-e;for(w=d;n<w;)n++,q+=m-a[g],b[l]=Math.round(Q.toFloat(q)*k),g+=h,l+=h}},q=function(a,b,c,d,e,f){for(var k=0,h=a.length;k<h;){var p=k++;b[p]=a[p]}n(b,a,c,d,e|0,0);n(b,
a,c,d,e|0,1);n(b,a,c,d,e|0,2);n(b,a,c,d,e|0,3);l(a,b,c,d,f|0,0);l(a,b,c,d,f|0,1);l(a,b,c,d,f|0,2);l(a,b,c,d,f|0,3)},r=a.get_data(),t=b.get_data(),u=c.width|0;c=c.height|0;e|=0;var v=f|0;f=d.x|0;var y=d.y|0;d=2*k-1;var x=.125*Math.pow(2,k);k=m(e*x,d);e=m(v*x,d);m=4*(u*y+f)|0;q(t,r,u,c,(k[0]-1)/2,(e[0]-1)/2);f=1;v=0;for(d=d/2|0;v<d;)v++,q(r,t,u,c,(k[f]-1)/2,(e[f]-1)/2),q(t,r,u,c,(k[f+1]-1)/2,(e[f+1]-1)/2),f+=2;q=0;if(0>m){for(;q<t.length;)u=Q.toFloat(r[q+3])*h|0,0>u?u=0:255<u&&(u=255),r[q]=g(Q.toFloat(r[q]),
u),r[q+1]=g(Q.toFloat(r[q+1]),u),r[q+2]=g(Q.toFloat(r[q+2]),u),r[q+3]=u,q+=4;h=t.length-m;for(t=t.length;h<t;)g=h++,r[g]=0}else{for(q=t.length-4;0<=q;)u=Q.toFloat(r[q+3])*h|0,0>u?u=0:255<u&&(u=255),r[q+m]=g(Q.toFloat(r[q]),u),r[q+1+m]=g(Q.toFloat(r[q+1]),u),r[q+2+m]=g(Q.toFloat(r[q+2]),u),r[q+3+m]=u,q-=4;for(t=0;t<m;)h=t++,r[h]=0}a.dirty=!0;a.version++;b.dirty=!0;b.version++;return r==a.get_data()?a:b};fb.getColorBoundsRect=function(a,b,c,d,e){null==d&&(d=!0);var f=a.width+1,k=0,h=a.height+1,g=0;
switch(e){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;b=(b>>>16&255)<<24|(b>>>8&255)<<16|(b&255)<<8|b>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>24&255)<<8|c&255;b=(b>>>8&255)<<24|(b>>>16&255)<<16|(b>>>24&255)<<8|b&255;break}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>16&255)<<16|(c>>>8&255)<<8|255,b=(b>>>24&255)<<24|(b>>>16&255)<<16|(b>>>8&255)<<8|255);for(var m=0,n=a.width;m<n;){var l=m++;e=!1;for(var q=0,r=a.height;q<r;)if(e=q++,e=a.getPixel32(l,e,0),e=
d?(e&b)==c:(e&b)!=c){l<f&&(f=l);break}if(e)break}m=0;for(n=a.width;m<n;){e=m++;l=a.width-1-e;e=!1;q=0;for(r=a.height;q<r;)if(e=q++,e=a.getPixel32(l,e,0),e=d?(e&b)==c:(e&b)!=c){l>k&&(k=l);break}if(e)break}m=0;for(n=a.height;m<n;){l=m++;e=!1;q=0;for(r=a.width;q<r;)if(e=q++,e=a.getPixel32(e,l,0),e=d?(e&b)==c:(e&b)!=c){l<h&&(h=l);break}if(e)break}m=0;for(n=a.height;m<n;){e=m++;l=a.height-1-e;e=!1;q=0;for(r=a.width;q<r;)if(e=q++,e=a.getPixel32(e,l,0),e=d?(e&b)==c:(e&b)!=c){l>g&&(g=l);break}if(e)break}d=
k-f;c=g-h;0<d&&++d;0<c&&++c;0>d&&(d=0);0>c&&(c=0);f==k&&(d=1);h==g&&(c=1);f>a.width&&(f=0);h>a.height&&(h=0);return new ld(f,h,d,c)};fb.getPixel=function(a,b,c,d){var e,f=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);c=a.buffer.premultiplied;switch(a.buffer.format){case 0:e=(f[b]&255)<<24|(f[b+1]&255)<<16|(f[b+2]&255)<<8|f[b+3]&255;break;case 1:e=(f[b+1]&255)<<24|(f[b+2]&255)<<16|(f[b+3]&255)<<8|f[b]&255;break;case 2:e=(f[b+2]&255)<<24|(f[b+1]&255)<<16|(f[b]&255)<<8|f[b+3]&255}c&&
0!=(e&255)&&255!=(e&255)&&(O.unmult=255/(e&255),e=(O.__clamp[Math.round((e>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((e>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((e>>>8&255)*O.unmult)]&255)<<8|e&255);e=(e>>>24&255)<<24|(e>>>16&255)<<16|(e>>>8&255)<<8|0;switch(d){case 1:return(e&255)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255;case 2:return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|e&255;default:return e}};fb.getPixel32=function(a,b,c,d){var e,f=a.buffer.data;b=4*(c+a.offsetY)*
a.buffer.width+4*(b+a.offsetX);c=a.buffer.premultiplied;switch(a.buffer.format){case 0:e=(f[b]&255)<<24|(f[b+1]&255)<<16|(f[b+2]&255)<<8|f[b+3]&255;break;case 1:e=(f[b+1]&255)<<24|(f[b+2]&255)<<16|(f[b+3]&255)<<8|f[b]&255;break;case 2:e=(f[b+2]&255)<<24|(f[b+1]&255)<<16|(f[b]&255)<<8|f[b+3]&255}c&&0!=(e&255)&&255!=(e&255)&&(O.unmult=255/(e&255),e=(O.__clamp[Math.round((e>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((e>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((e>>>8&255)*O.unmult)]&
255)<<8|e&255);switch(d){case 1:return(e&255)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255;case 2:return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|e&255;default:return e}};fb.getPixels=function(a,b,c){if(null==a.buffer.data)return null;var d=new ab(new He(4*(b.width*b.height|0))),e=a.buffer.data,f=a.buffer.format,k=a.buffer.premultiplied;a=new Je(a,b);for(var h,g,m=b=0,n=a.height;m<n;){h=m++;h=a.offset+a.stride*h;for(var l=0,q=a.width;l<q;){l++;switch(f){case 0:g=(e[h]&255)<<24|(e[h+1]&255)<<
16|(e[h+2]&255)<<8|e[h+3]&255;break;case 1:g=(e[h+1]&255)<<24|(e[h+2]&255)<<16|(e[h+3]&255)<<8|e[h]&255;break;case 2:g=(e[h+2]&255)<<24|(e[h+1]&255)<<16|(e[h]&255)<<8|e[h+3]&255}k&&0!=(g&255)&&255!=(g&255)&&(O.unmult=255/(g&255),g=(O.__clamp[Math.round((g>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((g>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((g>>>8&255)*O.unmult)]&255)<<8|g&255);switch(c){case 1:var r=0;g=r=(g&255)<<24|(g>>>24&255)<<16|(g>>>16&255)<<8|g>>>8&255;break;case 2:r=0,
g=r=(g>>>8&255)<<24|(g>>>16&255)<<16|(g>>>24&255)<<8|g&255}d.b[b++]=g>>>24&255;d.b[b++]=g>>>16&255;d.b[b++]=g>>>8&255;d.b[b++]=g&255;h+=4}}return d};fb.merge=function(a,b,c,d,e,f,k,h){if(null!=a.buffer.data&&null!=b.buffer.data){c=new Je(b,c);d=new Je(a,new ld(d.x,d.y,c.width,c.height));var g=b.buffer.data,m=a.buffer.data,n=b.buffer.format,l=a.buffer.format;b=b.buffer.premultiplied;for(var q=a.buffer.premultiplied,r,t,u,v,y=0,x=d.height;y<x;){t=y++;r=c.offset+c.stride*t;t=d.offset+d.stride*t;for(var z=
0,B=d.width;z<B;){z++;switch(n){case 0:u=(g[r]&255)<<24|(g[r+1]&255)<<16|(g[r+2]&255)<<8|g[r+3]&255;break;case 1:u=(g[r+1]&255)<<24|(g[r+2]&255)<<16|(g[r+3]&255)<<8|g[r]&255;break;case 2:u=(g[r+2]&255)<<24|(g[r+1]&255)<<16|(g[r]&255)<<8|g[r+3]&255}b&&0!=(u&255)&&255!=(u&255)&&(O.unmult=255/(u&255),u=(O.__clamp[Math.round((u>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((u>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((u>>>8&255)*O.unmult)]&255)<<8|u&255);switch(l){case 0:v=(m[t]&255)<<
24|(m[t+1]&255)<<16|(m[t+2]&255)<<8|m[t+3]&255;break;case 1:v=(m[t+1]&255)<<24|(m[t+2]&255)<<16|(m[t+3]&255)<<8|m[t]&255;break;case 2:v=(m[t+2]&255)<<24|(m[t+1]&255)<<16|(m[t]&255)<<8|m[t+3]&255}q&&0!=(v&255)&&255!=(v&255)&&(O.unmult=255/(v&255),v=(O.__clamp[Math.round((v>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((v>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((v>>>8&255)*O.unmult)]&255)<<8|v&255);v=((((u>>>24&255)*e+(v>>>24&255)*(256-e))/256|0)&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<
8|v&255;v=(v>>>24&255)<<24|((((u>>>16&255)*f+(v>>>16&255)*(256-f))/256|0)&255)<<16|(v>>>8&255)<<8|v&255;v=(v>>>24&255)<<24|(v>>>16&255)<<16|((((u>>>8&255)*k+(v>>>8&255)*(256-k))/256|0)&255)<<8|v&255;v=(v>>>24&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|(((u&255)*h+(v&255)*(256-h))/256|0)&255;q&&(0==(v&255)?0!=v&&(v=0):255!=(v&255)&&(O.a16=O.__alpha16[v&255],v=((v>>>24&255)*O.a16>>16&255)<<24|((v>>>16&255)*O.a16>>16&255)<<16|((v>>>8&255)*O.a16>>16&255)<<8|v&255));switch(l){case 0:m[t]=v>>>24&255;m[t+
1]=v>>>16&255;m[t+2]=v>>>8&255;m[t+3]=v&255;break;case 1:m[t]=v&255;m[t+1]=v>>>24&255;m[t+2]=v>>>16&255;m[t+3]=v>>>8&255;break;case 2:m[t]=v>>>8&255,m[t+1]=v>>>16&255,m[t+2]=v>>>24&255,m[t+3]=v&255}r+=4;t+=4}}a.dirty=!0;a.version++}};fb.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,d,e=0,f=b.length/4|0;e<f;){var k=e++,h=4*k;switch(c){case 0:d=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:d=(b[h+1]&255)<<24|(b[h+
2]&255)<<16|(b[h+3]&255)<<8|b[h]&255;break;case 2:d=(b[h+2]&255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255}k*=4;0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(O.a16=O.__alpha16[d&255],d=((d>>>24&255)*O.a16>>16&255)<<24|((d>>>16&255)*O.a16>>16&255)<<16|((d>>>8&255)*O.a16>>16&255)<<8|d&255);switch(c){case 0:b[k]=d>>>24&255;b[k+1]=d>>>16&255;b[k+2]=d>>>8&255;b[k+3]=d&255;break;case 1:b[k]=d&255;b[k+1]=d>>>24&255;b[k+2]=d>>>16&255;b[k+3]=d>>>8&255;break;case 2:b[k]=d>>>8&255,b[k+1]=d>>>16&255,b[k+2]=d>>>24&
255,b[k+3]=d&255}}a.buffer.premultiplied=!0;a.dirty=!0;a.version++}};fb.resize=function(a,b,c){var d=a.buffer;if(d.width!=b||d.height!=c){for(var e=b*c*4,e=null!=e?new Db(e):null,e=new Gf(e,b,c),f=a.width,k=a.height,h=a.get_data(),g=e.data,m,n,l,q,r,t,u,v,y,x=0;x<c;)for(var z=x++,B=0,A=b;B<A;)r=B++,v=(r+.5)/b*f-.5,y=(z+.5)/c*k-.5,t=v|0,u=y|0,m=4*(u*f+t),n=t<f-1?m+4:m,l=u<k-1?m+4*f:m,q=n!=m?l+4:l,r=4*(z*b+r),t=v-t,u=y-u,y=1-t,v=1-u,g[r]=(Q.toFloat(h[m])*y+Q.toFloat(h[n])*t)*v+(Q.toFloat(h[l])*y+Q.toFloat(h[q])*
t)*u|0,g[r+1]=(Q.toFloat(h[m+1])*y+Q.toFloat(h[n+1])*t)*v+(Q.toFloat(h[l+1])*y+Q.toFloat(h[q+1])*t)*u|0,g[r+2]=(Q.toFloat(h[m+2])*y+Q.toFloat(h[n+2])*t)*v+(Q.toFloat(h[l+2])*y+Q.toFloat(h[q+2])*t)*u|0,g[r+3]=0==h[n+3]||0==h[l+3]||0==h[q+3]?0:h[m+3];d.data=e.data;d.width=b;d.height=c;d.__srcImage=null;d.__srcImageData=null;d.__srcCanvas=null;d.__srcContext=null;a.dirty=!0;a.version++}};fb.resizeBuffer=function(a,b,c){var d=a.buffer;a=a.get_data();for(var e=b*c*4,e=null!=e?new Db(e):null,f,k,h=0,g=
d.height;h<g;)for(var m=h++,n=0,l=d.width;n<l;)k=n++,f=4*(m*d.width+k),k=4*(m*b+k),e[k]=a[f],e[k+1]=a[f+1],e[k+2]=a[f+2],e[k+3]=a[f+3];d.data=e;d.width=b;d.height=c};fb.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,e=c.length/4|0,f,k,h,g,m,n,l,q,r,t,u,v;switch(a.get_format()){case 0:f=0;k=1;h=2;g=3;break;case 1:f=1;k=2;h=3;g=0;break;case 2:f=2,k=1,h=0,g=3}switch(b){case 0:m=0;n=1;l=2;q=3;break;case 1:m=1;n=2;l=3;q=0;break;case 2:m=2,n=1,l=0,q=3}for(var y=0;y<e;)d=4*y++,r=c[d+f],t=
c[d+k],u=c[d+h],v=c[d+g],c[d+m]=r,c[d+n]=t,c[d+l]=u,c[d+q]=v;a.buffer.format=b;a.dirty=!0;a.version++}};fb.setPixel=function(a,b,c,d,e){switch(e){case 1:d=(d>>>16&255)<<24|(d>>>8&255)<<16|(d&255)<<8|d>>>24&255;break;case 2:d=(d>>>8&255)<<24|(d>>>16&255)<<16|(d>>>24&255)<<8|d&255;break}e=0;var f=a.buffer.data,k=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX),h=a.buffer.premultiplied;switch(a.buffer.format){case 0:e=(f[k]&255)<<24|(f[k+1]&255)<<16|(f[k+2]&255)<<8|f[k+3]&255;break;case 1:e=(f[k+1]&255)<<
24|(f[k+2]&255)<<16|(f[k+3]&255)<<8|f[k]&255;break;case 2:e=(f[k+2]&255)<<24|(f[k+1]&255)<<16|(f[k]&255)<<8|f[k+3]&255}h&&0!=(e&255)&&255!=(e&255)&&(O.unmult=255/(e&255),e=(O.__clamp[Math.round((e>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((e>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((e>>>8&255)*O.unmult)]&255)<<8|e&255);d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|e&255;e=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);a.buffer.premultiplied&&(0==(d&255)?0!=
d&&(d=0):255!=(d&255)&&(O.a16=O.__alpha16[d&255],d=((d>>>24&255)*O.a16>>16&255)<<24|((d>>>16&255)*O.a16>>16&255)<<16|((d>>>8&255)*O.a16>>16&255)<<8|d&255));switch(a.buffer.format){case 0:e[b]=d>>>24&255;e[b+1]=d>>>16&255;e[b+2]=d>>>8&255;e[b+3]=d&255;break;case 1:e[b]=d&255;e[b+1]=d>>>24&255;e[b+2]=d>>>16&255;e[b+3]=d>>>8&255;break;case 2:e[b]=d>>>8&255,e[b+1]=d>>>16&255,e[b+2]=d>>>24&255,e[b+3]=d&255}a.dirty=!0;a.version++};fb.setPixel32=function(a,b,c,d,e){switch(e){case 1:d=(d>>>16&255)<<24|(d>>>
8&255)<<16|(d&255)<<8|d>>>24&255;break;case 2:d=(d>>>8&255)<<24|(d>>>16&255)<<16|(d>>>24&255)<<8|d&255;break}a.get_transparent()||(d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255);e=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);a.buffer.premultiplied&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(O.a16=O.__alpha16[d&255],d=((d>>>24&255)*O.a16>>16&255)<<24|((d>>>16&255)*O.a16>>16&255)<<16|((d>>>8&255)*O.a16>>16&255)<<8|d&255));switch(a.buffer.format){case 0:e[b]=d>>>24&255;e[b+1]=
d>>>16&255;e[b+2]=d>>>8&255;e[b+3]=d&255;break;case 1:e[b]=d&255;e[b+1]=d>>>24&255;e[b+2]=d>>>16&255;e[b+3]=d>>>8&255;break;case 2:e[b]=d>>>8&255,e[b+1]=d>>>16&255,e[b+2]=d>>>24&255,e[b+3]=d&255}a.dirty=!0;a.version++};fb.setPixels=function(a,b,c,d){if(null!=a.buffer.data){var e=a.buffer.data,f=a.buffer.format,k=a.buffer.premultiplied;b=new Je(a,b);var h,g,m=a.get_transparent(),n=c.bytes;c=c.offset;for(var l=0,q=b.height;l<q;){h=l++;h=b.offset+b.stride*h;for(var r=0,t=b.width;r<t;){var u=r++;g=n.b[c+
3]|n.b[c+2]<<8|n.b[c+1]<<16|n.b[c]<<24;c+=4;switch(d){case 1:var v=0;g=v=(g>>>16&255)<<24|(g>>>8&255)<<16|(g&255)<<8|g>>>24&255;break;case 2:v=0;g=v=(g>>>8&255)<<24|(g>>>16&255)<<16|(g>>>24&255)<<8|g&255;break}m||(g=(g>>>24&255)<<24|(g>>>16&255)<<16|(g>>>8&255)<<8|255);u=h+4*u;k&&(0==(g&255)?0!=g&&(g=0):255!=(g&255)&&(O.a16=O.__alpha16[g&255],g=((g>>>24&255)*O.a16>>16&255)<<24|((g>>>16&255)*O.a16>>16&255)<<16|((g>>>8&255)*O.a16>>16&255)<<8|g&255));switch(f){case 0:e[u]=g>>>24&255;e[u+1]=g>>>16&255;
e[u+2]=g>>>8&255;e[u+3]=g&255;break;case 1:e[u]=g&255;e[u+1]=g>>>24&255;e[u+2]=g>>>16&255;e[u+3]=g>>>8&255;break;case 2:e[u]=g>>>8&255,e[u+1]=g>>>16&255,e[u+2]=g>>>24&255,e[u+3]=g&255}}}a.dirty=!0;a.version++}};fb.threshold=function(a,b,c,d,e,f,k,h,g,m){switch(m){case 1:k=(k>>>16&255)<<24|(k>>>8&255)<<16|(k&255)<<8|k>>>24&255;h=(h>>>16&255)<<24|(h>>>8&255)<<16|(h&255)<<8|h>>>24&255;f=(f>>>16&255)<<24|(f>>>8&255)<<16|(f&255)<<8|f>>>24&255;break;case 2:k=(k>>>8&255)<<24|(k>>>16&255)<<16|(k>>>24&255)<<
8|k&255;h=(h>>>8&255)<<24|(h>>>16&255)<<16|(h>>>24&255)<<8|h&255;f=(f>>>8&255)<<24|(f>>>16&255)<<16|(f>>>24&255)<<8|f&255;break}switch(e){case "!=":e=0;break;case "<":e=2;break;case "<=":e=3;break;case "==":e=1;break;case ">":e=4;break;case ">=":e=5;break;default:e=-1}if(-1==e)return 0;m=b.buffer.data;var n=a.buffer.data;if(null==m||null==n)return 0;var l=0;c=new Je(b,c);d=new Je(a,new ld(d.x,d.y,c.width,c.height));var q=b.buffer.format,r=a.buffer.format;b=b.buffer.premultiplied;for(var t=a.buffer.premultiplied,
u,v,y,x,z=0,B=d.height;z<B;){v=z++;u=c.offset+c.stride*v;v=d.offset+d.stride*v;for(var A=0,D=d.width;A<D;){A++;switch(q){case 0:y=(m[u]&255)<<24|(m[u+1]&255)<<16|(m[u+2]&255)<<8|m[u+3]&255;break;case 1:y=(m[u+1]&255)<<24|(m[u+2]&255)<<16|(m[u+3]&255)<<8|m[u]&255;break;case 2:y=(m[u+2]&255)<<24|(m[u+1]&255)<<16|(m[u]&255)<<8|m[u+3]&255}b&&0!=(y&255)&&255!=(y&255)&&(O.unmult=255/(y&255),y=(O.__clamp[Math.round((y>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((y>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((y>>>
8&255)*O.unmult)]&255)<<8|y&255);x=y&h;var E,F;E=x>>>24&255;F=f>>>24&255;E!=F?x=Q.gt(E,F)?1:-1:(E=x>>>16&255,F=f>>>16&255,E!=F?x=Q.gt(E,F)?1:-1:(E=x>>>8&255,F=f>>>8&255,E!=F?x=Q.gt(E,F)?1:-1:(E=x&255,F=f&255,x=E!=F?Q.gt(E,F)?1:-1:0)));switch(e){case 0:x=0!=x;break;case 1:x=0==x;break;case 2:x=-1==x;break;case 3:x=0!=x?-1==x:!0;break;case 4:x=1==x;break;case 5:x=0!=x?1==x:!0;break;default:x=!1}if(x){t&&(0==(k&255)?0!=k&&(k=0):255!=(k&255)&&(O.a16=O.__alpha16[k&255],k=((k>>>24&255)*O.a16>>16&255)<<
24|((k>>>16&255)*O.a16>>16&255)<<16|((k>>>8&255)*O.a16>>16&255)<<8|k&255));switch(r){case 0:n[v]=k>>>24&255;n[v+1]=k>>>16&255;n[v+2]=k>>>8&255;n[v+3]=k&255;break;case 1:n[v]=k&255;n[v+1]=k>>>24&255;n[v+2]=k>>>16&255;n[v+3]=k>>>8&255;break;case 2:n[v]=k>>>8&255,n[v+1]=k>>>16&255,n[v+2]=k>>>24&255,n[v+3]=k&255}++l}else if(g)switch(t&&(0==(y&255)?0!=y&&(y=0):255!=(y&255)&&(O.a16=O.__alpha16[y&255],y=((y>>>24&255)*O.a16>>16&255)<<24|((y>>>16&255)*O.a16>>16&255)<<16|((y>>>8&255)*O.a16>>16&255)<<8|y&255)),
r){case 0:n[v]=y>>>24&255;n[v+1]=y>>>16&255;n[v+2]=y>>>8&255;n[v+3]=y&255;break;case 1:n[v]=y&255;n[v+1]=y>>>24&255;n[v+2]=y>>>16&255;n[v+3]=y>>>8&255;break;case 2:n[v]=y>>>8&255,n[v+1]=y>>>16&255,n[v+2]=y>>>24&255,n[v+3]=y&255}u+=4;v+=4}}0<l&&(a.dirty=!0,a.version++);return l};fb.unmultiplyAlpha=function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d,e=0,f=b.length/4|0;e<f;){var k=e++,h=4*k;switch(c){case 0:d=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:d=
(b[h+1]&255)<<24|(b[h+2]&255)<<16|(b[h+3]&255)<<8|b[h]&255;break;case 2:d=(b[h+2]&255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255}0!=(d&255)&&255!=(d&255)&&(O.unmult=255/(d&255),d=(O.__clamp[Math.round((d>>>24&255)*O.unmult)]&255)<<24|(O.__clamp[Math.round((d>>>16&255)*O.unmult)]&255)<<16|(O.__clamp[Math.round((d>>>8&255)*O.unmult)]&255)<<8|d&255);k*=4;switch(c){case 0:b[k]=d>>>24&255;b[k+1]=d>>>16&255;b[k+2]=d>>>8&255;b[k+3]=d&255;break;case 1:b[k]=d&255;b[k+1]=d>>>24&255;b[k+2]=d>>>16&255;b[k+
3]=d>>>8&255;break;case 2:b[k]=d>>>8&255,b[k+1]=d>>>16&255,b[k+2]=d>>>24&255,b[k+3]=d&255}}a.buffer.premultiplied=!1;a.dirty=!0;a.version++}};fb.__pixelCompare=function(a,b){var c,d;c=a>>>24&255;d=b>>>24&255;if(c!=d)return Q.gt(c,d)?1:-1;c=a>>>16&255;d=b>>>16&255;if(c!=d)return Q.gt(c,d)?1:-1;c=a>>>8&255;d=b>>>8&255;if(c!=d)return Q.gt(c,d)?1:-1;c=a&255;d=b&255;return c!=d?Q.gt(c,d)?1:-1:0};var Je=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>
a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};m["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Je;Je.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"];
Je.prototype={x:null,y:null,height:null,width:null,image:null,offset:null,rect:null,stride:null,clip:function(a,b,c,d){this.rect.__contract(a,b,c,d);this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},row:function(a){return this.offset+this.stride*a},__class__:Je};var gb={};m["lime.math._ColorMatrix.ColorMatrix_Impl_"]=gb;gb.__name__=
["lime","math","_ColorMatrix","ColorMatrix_Impl_"];gb.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",
get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"};gb._new=function(a){if(null==a||20!=a.length)a=gb.__identity,a=null!=a?new pc(a):null;return a};gb.clone=function(a){a=null!=a?new pc(a):null;return gb._new(a)};gb.concat=function(a,b){a[0]+=b[0];a[6]+=b[6];a[12]+=b[12];a[18]+=b[18]};gb.copyFrom=function(a,b){a.set(b)};gb.identity=function(a){a[0]=1;a[1]=0;
a[2]=0;a[3]=0;a[4]=0;a[5]=0;a[6]=1;a[7]=0;a[8]=0;a[9]=0;a[10]=0;a[11]=0;a[12]=1;a[13]=0;a[14]=0;a[15]=0;a[16]=0;a[17]=0;a[18]=1;a[19]=0};gb.getAlphaTable=function(a){if(null==gb.__alphaTable){var b=new Db(256);gb.__alphaTable=b}gb.__alphaTable[0]=0;for(var c=1;256>c;){var d=c++,b=Math.floor(d*a[18]+255*a[19]);255<b&&(b=255);0>b&&(b=0);gb.__alphaTable[d]=b}return gb.__alphaTable};gb.getBlueTable=function(a){if(null==gb.__blueTable){var b=new Db(256);gb.__blueTable=b}for(var c=0;256>c;){var d=c++,b=
Math.floor(d*a[12]+255*a[14]);255<b&&(b=255);0>b&&(b=0);gb.__blueTable[d]=b}return gb.__blueTable};gb.getGreenTable=function(a){if(null==gb.__greenTable){var b=new Db(256);gb.__greenTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[6]+255*a[9]);255<b&&(b=255);0>b&&(b=0);gb.__greenTable[d]=b}return gb.__greenTable};gb.getRedTable=function(a){if(null==gb.__redTable){var b=new Db(256);gb.__redTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[0]+255*a[4]);255<b&&(b=255);0>b&&(b=0);gb.__redTable[d]=
b}return gb.__redTable};gb.__toFlashColorTransform=function(a){return null};gb.get_alphaMultiplier=function(a){return a[18]};gb.set_alphaMultiplier=function(a,b){return a[18]=b};gb.get_alphaOffset=function(a){return 255*a[19]};gb.set_alphaOffset=function(a,b){return a[19]=b/255};gb.get_blueMultiplier=function(a){return a[12]};gb.set_blueMultiplier=function(a,b){return a[12]=b};gb.get_blueOffset=function(a){return 255*a[14]};gb.set_blueOffset=function(a,b){return a[14]=b/255};gb.get_color=function(a){return(255*
a[4]|0)<<16|(255*a[9]|0)<<8|255*a[14]|0};gb.set_color=function(a,b){a[4]=(b>>16&255)/255;a[9]=(b>>8&255)/255;a[14]=(b&255)/255;a[0]=0;a[6]=0;a[12]=0;return gb.get_color(a)};gb.get_greenMultiplier=function(a){return a[6]};gb.set_greenMultiplier=function(a,b){return a[6]=b};gb.get_greenOffset=function(a){return 255*a[9]};gb.set_greenOffset=function(a,b){return a[9]=b/255};gb.get_redMultiplier=function(a){return a[0]};gb.set_redMultiplier=function(a,b){return a[0]=b};gb.get_redOffset=function(a){return 255*
a[4]};gb.set_redOffset=function(a,b){return a[4]=b/255};gb.get=function(a,b){return a[b]};gb.set=function(a,b,c){return a[b]=c};var ia={};m["lime.math._Matrix4.Matrix4_Impl_"]=ia;ia.__name__=["lime","math","_Matrix4","Matrix4_Impl_"];ia.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"};ia._new=function(a){if(null==a||16!=a.length)a=ia.__identity,a=null!=a?new pc(a):null;return a};ia.append=function(a,b){var c=a[0],d=a[4],e=a[8],f=a[12],k=a[1],
h=a[5],g=a[9],m=a[13],n=a[2],l=a[6],q=a[10],r=a[14],t=a[3],u=a[7],v=a[11],y=a[15],x=ia.get(b,0),z=ia.get(b,4),B=ia.get(b,8),A=ia.get(b,12),D=ia.get(b,1),E=ia.get(b,5),F=ia.get(b,9),I=ia.get(b,13),H=ia.get(b,2),G=ia.get(b,6),J=ia.get(b,10),C=ia.get(b,14),K=ia.get(b,3),M=ia.get(b,7),O=ia.get(b,11),N=ia.get(b,15);a[0]=c*x+k*z+n*B+t*A;a[1]=c*D+k*E+n*F+t*I;a[2]=c*H+k*G+n*J+t*C;a[3]=c*K+k*M+n*O+t*N;a[4]=d*x+h*z+l*B+u*A;a[5]=d*D+h*E+l*F+u*I;a[6]=d*H+h*G+l*J+u*C;a[7]=d*K+h*M+l*O+u*N;a[8]=e*x+g*z+q*B+v*A;
a[9]=e*D+g*E+q*F+v*I;a[10]=e*H+g*G+q*J+v*C;a[11]=e*K+g*M+q*O+v*N;a[12]=f*x+m*z+r*B+y*A;a[13]=f*D+m*E+r*F+y*I;a[14]=f*H+m*G+r*J+y*C;a[15]=f*K+m*M+r*O+y*N};ia.appendRotation=function(a,b,c,d){b=ia.__getAxisRotation(a,c.x,c.y,c.z,b);null!=d&&ia.appendTranslation(b,d.x,d.y,d.z);ia.append(a,b)};ia.appendScale=function(a,b,c,d){b=[b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1];b=null!=b?new pc(b):null;ia.append(a,ia._new(b))};ia.appendTranslation=function(a,b,c,d){a[12]+=b;a[13]+=c;a[14]+=d};ia.clone=function(a){a=null!=
a?new pc(a):null;return ia._new(a)};ia.copyColumnFrom=function(a,b,c){switch(b){case 0:a[0]=c.x;a[1]=c.y;a[2]=c.z;a[3]=c.w;break;case 1:a[4]=c.x;a[5]=c.y;a[6]=c.z;a[7]=c.w;break;case 2:a[8]=c.x;a[9]=c.y;a[10]=c.z;a[11]=c.w;break;case 3:a[12]=c.x;a[13]=c.y;a[14]=c.z;a[15]=c.w;break;default:rb.error("Column "+b+" out of bounds [0, ..., 3]",{fileName:"Matrix4.hx",lineNumber:139,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnFrom"})}};ia.copyColumnTo=function(a,b,c){switch(b){case 0:c.x=
a[0];c.y=a[1];c.z=a[2];c.w=a[3];break;case 1:c.x=a[4];c.y=a[5];c.z=a[6];c.w=a[7];break;case 2:c.x=a[8];c.y=a[9];c.z=a[10];c.w=a[11];break;case 3:c.x=a[12];c.y=a[13];c.z=a[14];c.w=a[15];break;default:rb.error("Column "+b+" out of bounds [0, ..., 3]",{fileName:"Matrix4.hx",lineNumber:180,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnTo"})}};ia.copyFrom=function(a,b){a.set(b)};ia.copythisFrom=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=0);d&&ia.transpose(a);for(var e=0,f=b.length-
c;e<f;){var k=e++;a[k]=b[k+c]}d&&ia.transpose(a)};ia.copythisTo=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=0);d&&ia.transpose(a);for(var e=0,f=a.length;e<f;){var k=e++;b[k+c]=a[k]}d&&ia.transpose(a)};ia.copyRowFrom=function(a,b,c){switch(b){case 0:a[0]=c.x;a[4]=c.y;a[8]=c.z;a[12]=c.w;break;case 1:a[1]=c.x;a[5]=c.y;a[9]=c.z;a[13]=c.w;break;case 2:a[2]=c.x;a[6]=c.y;a[10]=c.z;a[14]=c.w;break;case 3:a[3]=c.x;a[7]=c.y;a[11]=c.z;a[15]=c.w;break;default:rb.error("Row "+b+" out of bounds [0, ..., 3]",
{fileName:"Matrix4.hx",lineNumber:258,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowFrom"})}};ia.create2D=function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);var e=d*Math.PI/180;d=Math.cos(e);e=Math.sin(e);a=[d*c,-e*c,0,0,e*c,d*c,0,0,0,0,1,0,a,b,0,1];a=null!=a?new pc(a):null;return ia._new(a)};ia.createABCD=function(a,b,c,d,e,f,k){null==k&&(k=ia._new());ia.set(k,0,a);ia.set(k,1,b);ia.set(k,2,0);ia.set(k,3,0);ia.set(k,4,c);ia.set(k,5,d);ia.set(k,6,0);ia.set(k,7,0);ia.set(k,8,0);ia.set(k,
9,0);ia.set(k,10,1);ia.set(k,11,0);ia.set(k,12,e);ia.set(k,13,f);ia.set(k,14,0);ia.set(k,15,1);return k};ia.createOrtho=function(a,b,c,d,e,f){var k=1/(b-a),h=1/(d-c),g=1/(f-e);a=[2*k,0,0,0,0,2*h,0,0,0,0,-2*g,0,-(a+b)*k,-(c+d)*h,-(e+f)*g,1];a=null!=a?new pc(a):null;return ia._new(a)};ia.copyRowTo=function(a,b,c){switch(b){case 0:c.x=a[0];c.y=a[4];c.z=a[8];c.w=a[12];break;case 1:c.x=a[1];c.y=a[5];c.z=a[9];c.w=a[13];break;case 2:c.x=a[2];c.y=a[6];c.z=a[10];c.w=a[14];break;case 3:c.x=a[3];c.y=a[7];c.z=
a[11];c.w=a[15];break;default:rb.error("Row "+b+" out of bounds [0, ..., 3]",{fileName:"Matrix4.hx",lineNumber:360,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowTo"})}};ia.copyToMatrix4=function(a,b){y.__cast(b,pc).set(a)};ia.deltaTransformVector=function(a,b){var c=b.x,d=b.y,e=b.z;return new Rb(c*a[0]+d*a[4]+e*a[8]+a[3],c*a[1]+d*a[5]+e*a[9]+a[7],c*a[2]+d*a[6]+e*a[10]+a[11],0)};ia.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;
a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1};ia.interpolate=function(a,b,c){for(var d=ia._new(),e=0;16>e;){var f=e++;ia.set(d,f,ia.get(a,f)+(ia.get(b,f)-ia.get(a,f))*c)}return d};ia.interpolateTo=function(a,b,c){for(var d=0;16>d;){var e=d++;a[e]+=(ia.get(b,e)-a[e])*c}};ia.invert=function(a){var b=ia.get_determinant(a),c=1E-11<Math.abs(b);if(c){var b=1/b,d=a[0],e=a[4],f=a[8],k=a[12],h=a[1],g=a[5],m=a[9],n=a[13],l=a[2],q=a[6],r=a[10],t=a[14],u=a[3],v=a[7],y=a[11],x=a[15];a[0]=b*(g*(r*x-t*y)-m*(q*x-t*v)+
n*(q*y-r*v));a[1]=-b*(h*(r*x-t*y)-m*(l*x-t*u)+n*(l*y-r*u));a[2]=b*(h*(q*x-t*v)-g*(l*x-t*u)+n*(l*v-q*u));a[3]=-b*(h*(q*y-r*v)-g*(l*y-r*u)+m*(l*v-q*u));a[4]=-b*(e*(r*x-t*y)-f*(q*x-t*v)+k*(q*y-r*v));a[5]=b*(d*(r*x-t*y)-f*(l*x-t*u)+k*(l*y-r*u));a[6]=-b*(d*(q*x-t*v)-e*(l*x-t*u)+k*(l*v-q*u));a[7]=b*(d*(q*y-r*v)-e*(l*y-r*u)+f*(l*v-q*u));a[8]=b*(e*(m*x-n*y)-f*(g*x-n*v)+k*(g*y-m*v));a[9]=-b*(d*(m*x-n*y)-f*(h*x-n*u)+k*(h*y-m*u));a[10]=b*(d*(g*x-n*v)-e*(h*x-n*u)+k*(h*v-g*u));a[11]=-b*(d*(g*y-m*v)-e*(h*y-m*u)+
f*(h*v-g*u));a[12]=-b*(e*(m*t-n*r)-f*(g*t-n*q)+k*(g*r-m*q));a[13]=b*(d*(m*t-n*r)-f*(h*t-n*l)+k*(h*r-m*l));a[14]=-b*(d*(g*t-n*q)-e*(h*t-n*l)+k*(h*q-g*l));a[15]=b*(d*(g*r-m*q)-e*(h*r-m*l)+f*(h*q-g*l))}return c};ia.pointAt=function(a,b,c,d){null==c&&(c=new Rb(0,0,-1));null==d&&(d=new Rb(0,-1,0));c=new Rb(c.x-b.x,c.y-b.y,c.z-b.z);d=new Rb(d.x,d.y,d.z,d.w);var e;e=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z);0!=e&&(c.x/=e,c.y/=e,c.z/=e);e=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z);0!=e&&(d.x/=e,d.y/=e,d.z/=e);e=new Rb(c.x,
c.y,c.z,c.w);var f=d.x*c.x+d.y*c.y+d.z*c.z;e.x*=f;e.y*=f;e.z*=f;d=new Rb(d.x-e.x,d.y-e.y,d.z-e.z);0<Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z)?(e=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z),0!=e&&(d.x/=e,d.y/=e,d.z/=e)):d=0!=c.x?new Rb(-c.y,c.x,0):new Rb(1,0,0);e=new Rb(d.y*c.z-d.z*c.y,d.z*c.x-d.x*c.z,d.x*c.y-d.y*c.x,1);f=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);0!=f&&(e.x/=f,e.y/=f,e.z/=f);a[0]=e.x;a[4]=e.y;a[8]=e.z;a[12]=0;a[1]=d.x;a[5]=d.y;a[9]=d.z;a[13]=0;a[2]=c.x;a[6]=c.y;a[10]=c.z;a[14]=0;a[3]=b.x;a[7]=b.y;a[11]=
b.z;a[15]=1};ia.prepend=function(a,b){var c=ia.get(b,0),d=ia.get(b,4),e=ia.get(b,8),f=ia.get(b,12),k=ia.get(b,1),h=ia.get(b,5),g=ia.get(b,9),m=ia.get(b,13),n=ia.get(b,2),l=ia.get(b,6),q=ia.get(b,10),r=ia.get(b,14),t=ia.get(b,3),u=ia.get(b,7),v=ia.get(b,11),y=ia.get(b,15),x=a[0],z=a[4],B=a[8],A=a[12],D=a[1],E=a[5],F=a[9],I=a[13],H=a[2],G=a[6],J=a[10],C=a[14],K=a[3],M=a[7],O=a[11],N=a[15];a[0]=c*x+k*z+n*B+t*A;a[1]=c*D+k*E+n*F+t*I;a[2]=c*H+k*G+n*J+t*C;a[3]=c*K+k*M+n*O+t*N;a[4]=d*x+h*z+l*B+u*A;a[5]=d*
D+h*E+l*F+u*I;a[6]=d*H+h*G+l*J+u*C;a[7]=d*K+h*M+l*O+u*N;a[8]=e*x+g*z+q*B+v*A;a[9]=e*D+g*E+q*F+v*I;a[10]=e*H+g*G+q*J+v*C;a[11]=e*K+g*M+q*O+v*N;a[12]=f*x+m*z+r*B+y*A;a[13]=f*D+m*E+r*F+y*I;a[14]=f*H+m*G+r*J+y*C;a[15]=f*K+m*M+r*O+y*N};ia.prependRotation=function(a,b,c,d){b=ia.__getAxisRotation(a,c.x,c.y,c.z,b);null!=d&&ia.appendTranslation(b,d.x,d.y,d.z);ia.prepend(a,b)};ia.prependScale=function(a,b,c,d){b=[b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1];b=null!=b?new pc(b):null;ia.prepend(a,ia._new(b))};ia.prependTranslation=
function(a,b,c,d){var e=ia._new();ia.set_position(e,new Rb(b,c,d));ia.prepend(a,e)};ia.transformVector=function(a,b){var c=b.x,d=b.y,e=b.z;return new Rb(c*a[0]+d*a[4]+e*a[8]+a[12],c*a[1]+d*a[5]+e*a[9]+a[13],c*a[2]+d*a[6]+e*a[10]+a[14],c*a[3]+d*a[7]+e*a[11]+a[15])};ia.transformVectors=function(a,b,c){for(var d=0,e,f,k;d+3<=b.length;)e=b[d],f=b[d+1],k=b[d+2],c[d]=e*a[0]+f*a[4]+k*a[8]+a[12],c[d+1]=e*a[1]+f*a[5]+k*a[9]+a[13],c[d+2]=e*a[2]+f*a[6]+k*a[10]+a[14],d+=3};ia.transpose=function(a){var b=a[1];
a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b};ia.__getAxisRotation=function(a,b,c,d,e){a=ia._new();b=new Rb(b,c,d);e=Math.PI/180*-e;d=Math.cos(e);e=Math.sin(e);c=1-d;ia.set(a,0,d+b.x*b.x*c);ia.set(a,5,d+b.y*b.y*c);ia.set(a,10,d+b.z*b.z*c);d=b.x*b.y*c;var f=b.z*e;ia.set(a,4,d+f);ia.set(a,1,d-f);d=b.x*b.z*c;f=b.y*e;ia.set(a,8,d-f);ia.set(a,2,d+f);d=b.y*b.z*c;f=b.x*e;ia.set(a,9,d+f);ia.set(a,6,d-f);return a};
ia.__swap=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};ia.get_determinant=function(a){return(a[0]*a[5]-a[4]*a[1])*(a[10]*a[15]-a[14]*a[11])-(a[0]*a[9]-a[8]*a[1])*(a[6]*a[15]-a[14]*a[7])+(a[0]*a[13]-a[12]*a[1])*(a[6]*a[11]-a[10]*a[7])+(a[4]*a[9]-a[8]*a[5])*(a[2]*a[15]-a[14]*a[3])-(a[4]*a[13]-a[12]*a[5])*(a[2]*a[11]-a[10]*a[3])+(a[8]*a[13]-a[12]*a[9])*(a[2]*a[7]-a[6]*a[3])};ia.get_position=function(a){return new Rb(a[12],a[13],a[14])};ia.set_position=function(a,b){a[12]=b.x;a[13]=b.y;a[14]=b.z;return b};
ia.get=function(a,b){return a[b]};ia.set=function(a,b,c){return a[b]=c};var ld=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};m["lime.math.Rectangle"]=ld;ld.__name__=["lime","math","Rectangle"];ld.prototype={height:null,width:null,x:null,y:null,clone:function(){return new ld(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()?b<this.get_bottom():!1},containsPoint:function(a){return this.contains(a.x,
a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()?a.get_bottom()<this.get_bottom():!1:a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()?a.get_bottom()<=this.get_bottom():!1},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},equals:function(a){return null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},inflate:function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=
2*b},inflatePoint:function(a){this.inflate(a.x,a.y)},intersection:function(a){var b=this.x<a.x?a.x:this.x,c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new ld;var d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new ld:new ld(b,d,c-b,a-d)},intersects:function(a){var b=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=b)return!1;b=this.y<a.y?a.y:this.y;return(this.get_bottom()>
a.get_bottom()?a.get_bottom():this.get_bottom())>b},isEmpty:function(){return 0>=this.width?!0:0>=this.height},offset:function(a,b){this.x+=a;this.y+=b},offsetPoint:function(a){this.x+=a.x;this.y+=a.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},transform:function(a){var b=a.a*this.x+a.c*this.y,c=b,d=a.b*this.x+a.d*this.y,e=d,f=a.a*(this.x+this.width)+a.c*this.y,k=a.b*(this.x+this.width)+a.d*this.y;f<b&&(b=f);k<
d&&(d=k);f>c&&(c=f);k>e&&(e=k);f=a.a*(this.x+this.width)+a.c*(this.y+this.height);k=a.b*(this.x+this.width)+a.d*(this.y+this.height);f<b&&(b=f);k<d&&(d=k);f>c&&(c=f);k>e&&(e=k);f=a.a*this.x+a.c*(this.y+this.height);k=a.b*this.x+a.d*(this.y+this.height);f<b&&(b=f);k<d&&(d=k);f>c&&(c=f);k>e&&(e=k);return new ld(b+a.tx,d+a.ty,c-b,e-d)},union:function(a){if(0==this.width||0==this.height)return a.clone();if(0==a.width||0==a.height)return this.clone();var b=this.x>a.x?a.x:this.x,c=this.get_right()<a.get_right()?
a.get_right():this.get_right(),d=this.y>a.y?a.y:this.y;a=this.get_bottom()<a.get_bottom()?a.get_bottom():this.get_bottom();return new ld(b,d,c-b,a-d)},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height)this.x<a&&(this.x=a),this.y<b&&(this.y=b),this.get_right()>a+c&&(this.width=a+c-this.x),this.get_bottom()>b+d&&(this.height=b+d-this.y)},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();
this.x>a&&(this.x=a);this.y>b&&(this.y=b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_bottomRight:function(){return new Oc(this.x+this.width,this.y+this.height)},set_bottomRight:function(a){this.width=a.x-this.x;this.height=a.y-this.y;return a.clone()},get_left:function(){return this.x},set_left:function(a){this.width-=a-this.x;
return this.x=a},get_right:function(){return this.x+this.width},set_right:function(a){this.width=a-this.x;return a},get_size:function(){return new Oc(this.width,this.height)},set_size:function(a){this.width=a.x;this.height=a.y;return a.clone()},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},get_topLeft:function(){return new Oc(this.x,this.y)},set_topLeft:function(a){this.x=a.x;this.y=a.y;return a.clone()},__class__:ld,__properties__:{set_topLeft:"set_topLeft",
get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Oc=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};m["lime.math.Vector2"]=Oc;Oc.__name__=["lime","math","Vector2"];Oc.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*
c+d*d)};Oc.interpolate=function(a,b,c){return new Oc(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};Oc.polar=function(a,b){return new Oc(a*Math.cos(b),a*Math.sin(b))};Oc.prototype={length:null,x:null,y:null,add:function(a){return new Oc(a.x+this.x,a.y+this.y)},clone:function(){return new Oc(this.x,this.y)},equals:function(a){return null!=a&&a.x==this.x?a.y==this.y:!1},normalize:function(a){if(0!=this.x||0!=this.y)a/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=a,this.y*=a},offset:function(a,b){this.x+=a;this.y+=
b},setTo:function(a,b){this.x=a;this.y=b},subtract:function(a){return new Oc(this.x-a.x,this.y-a.y)},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Oc,__properties__:{get_length:"get_length"}};var Rb=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};m["lime.math.Vector4"]=Rb;Rb.__name__=["lime","math","Vector4"];Rb.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",
get_X_AXIS:"get_X_AXIS"};Rb.angleBetween=function(a,b){var c=new Rb(a.x,a.y,a.z,a.w),d=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z);0!=d&&(c.x/=d,c.y/=d,c.z/=d);var d=new Rb(b.x,b.y,b.z,b.w),e=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z);0!=e&&(d.x/=e,d.y/=e,d.z/=e);return Math.acos(c.x*d.x+c.y*d.y+c.z*d.z)};Rb.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=b.z-a.z;return Math.sqrt(c*c+d*d+e*e)};Rb.get_X_AXIS=function(){return new Rb(1,0,0)};Rb.get_Y_AXIS=function(){return new Rb(0,1,0)};Rb.get_Z_AXIS=function(){return new Rb(0,
0,1)};Rb.prototype={length:null,lengthSquared:null,w:null,x:null,y:null,z:null,add:function(a){return new Rb(this.x+a.x,this.y+a.y,this.z+a.z)},clone:function(){return new Rb(this.x,this.y,this.z,this.w)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.z=a.z},crossProduct:function(a){return new Rb(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)},decrementBy:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},dotProduct:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},equals:function(a,
b){null==b&&(b=!1);return this.x==a.x&&this.y==a.y&&this.z==a.z?b?this.w==a.w:!0:!1},incrementBy:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},nearEquals:function(a,b,c){null==c&&(c=!1);return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.z-a.z)<b?c?Math.abs(this.w-a.w)<b:!0:!1},negate:function(){this.x*=-1;this.y*=-1;this.z*=-1},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0!=a&&(this.x/=a,this.y/=a,this.z/=a);return a},project:function(){this.x/=
this.w;this.y/=this.w;this.z/=this.w},scaleBy:function(a){this.x*=a;this.y*=a;this.z*=a},setTo:function(a,b,c){this.x=a;this.y=b;this.z=c},subtract:function(a){return new Rb(this.x-a.x,this.y-a.y,this.z-a.z)},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Rb,__properties__:{get_lengthSquared:"get_lengthSquared",
get_length:"get_length"}};var Xc={};m["lime.math.color._ARGB.ARGB_Impl_"]=Xc;Xc.__name__=["lime","math","color","_ARGB","ARGB_Impl_"];Xc.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"};Xc._new=function(a){null==a&&(a=0);return a};Xc.create=function(a,b,c,d){return(a&255)<<24|(b&255)<<16|(c&255)<<8|d&255};Xc.multiplyAlpha=function(a){0!=(a>>>24&255)&&255!=(a>>>24&255)&&(Xc.a16=O.__alpha16[a>>>24&255])};Xc.readUInt8=function(a,
b,c,d,e){null==e&&(e=!1);null==d&&(d=0);switch(d){case 0:a=(b[c+1]&255)<<24|(b[c+2]&255)<<16|(b[c+3]&255)<<8|b[c]&255;break;case 1:a=(b[c+2]&255)<<24|(b[c+3]&255)<<16|(b[c]&255)<<8|b[c+1]&255;break;case 2:a=(b[c+1]&255)<<24|(b[c]&255)<<16|(b[c+3]&255)<<8|b[c+2]&255}e&&0!=(a>>>24&255)&&255!=(a>>>24&255)&&(Xc.unmult=255/(a>>>24&255))};Xc.set=function(a,b,c,d,e){};Xc.unmultiplyAlpha=function(a){0!=(a>>>24&255)&&255!=(a>>>24&255)&&(Xc.unmult=255/(a>>>24&255))};Xc.writeUInt8=function(a,b,c,d,e){null==
e&&(e=!1);null==d&&(d=0);e&&(0==(a>>>24&255)?a=0:255!=(a>>>24&255)&&(Xc.a16=O.__alpha16[a>>>24&255],a=(a>>>24&255)<<24|((a>>>16&255)*Xc.a16>>16&255)<<16|((a>>>8&255)*Xc.a16>>16&255)<<8|(a&255)*Xc.a16>>16&255));switch(d){case 0:b[c]=a>>>16&255;b[c+1]=a>>>8&255;b[c+2]=a&255;b[c+3]=a>>>24&255;break;case 1:b[c]=a>>>24&255;b[c+1]=a>>>16&255;b[c+2]=a>>>8&255;b[c+3]=a&255;break;case 2:b[c]=a&255,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24&255}};Xc.__fromBGRA=function(a){return(a&255)<<24|(a>>>8&255)<<
16|(a>>>16&255)<<8|a>>>24&255};Xc.__fromRGBA=function(a){return(a&255)<<24|(a>>>24&255)<<16|(a>>>16&255)<<8|a>>>8&255};Xc.get_a=function(a){return a>>>24&255};Xc.set_a=function(a,b){return b};Xc.get_b=function(a){return a&255};Xc.set_b=function(a,b){return b};Xc.get_g=function(a){return a>>>8&255};Xc.set_g=function(a,b){return b};Xc.get_r=function(a){return a>>>16&255};Xc.set_r=function(a,b){return b};var Pc={};m["lime.math.color._BGRA.BGRA_Impl_"]=Pc;Pc.__name__=["lime","math","color","_BGRA","BGRA_Impl_"];
Pc.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"};Pc._new=function(a){null==a&&(a=0);return a};Pc.create=function(a,b,c,d){return(a&255)<<24|(b&255)<<16|(c&255)<<8|d&255};Pc.multiplyAlpha=function(a){0!=(a&255)&&255!=(a&255)&&(Pc.a16=O.__alpha16[a&255])};Pc.readUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);switch(d){case 0:a=(b[c+2]&255)<<24|(b[c+1]&255)<<16|(b[c]&255)<<8|b[c+3]&255;break;case 1:a=(b[c+3]&
255)<<24|(b[c+2]&255)<<16|(b[c+1]&255)<<8|b[c]&255;break;case 2:a=(b[c]&255)<<24|(b[c+1]&255)<<16|(b[c+2]&255)<<8|b[c+3]&255}e&&0!=(a&255)&&255!=(a&255)&&(Pc.unmult=255/(a&255))};Pc.set=function(a,b,c,d,e){};Pc.unmultiplyAlpha=function(a){0!=(a&255)&&255!=(a&255)&&(Pc.unmult=255/(a&255))};Pc.writeUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);e&&(0==(a&255)?a=0:255!=(a&255)&&(Pc.a16=O.__alpha16[a&255],a=((a>>>24&255)*Pc.a16>>16&255)<<24|((a>>>16&255)*Pc.a16>>16&255)<<16|((a>>>8&255)*Pc.a16>>
16&255)<<8|a&255));switch(d){case 0:b[c]=a>>>8&255;b[c+1]=a>>>16&255;b[c+2]=a>>>24&255;b[c+3]=a&255;break;case 1:b[c]=a&255;b[c+1]=a>>>8&255;b[c+2]=a>>>16&255;b[c+3]=a>>>24&255;break;case 2:b[c]=a>>>24&255,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=a&255}};Pc.__fromARGB=function(a){return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255};Pc.__fromRGBA=function(a){return(a>>>8&255)<<24|(a>>>16&255)<<16|(a>>>24&255)<<8|a&255};Pc.get_a=function(a){return a&255};Pc.set_a=function(a,b){return b};Pc.get_b=
function(a){return a>>>24&255};Pc.set_b=function(a,b){return b};Pc.get_g=function(a){return a>>>16&255};Pc.set_g=function(a,b){return b};Pc.get_r=function(a){return a>>>8&255};Pc.set_r=function(a,b){return b};var O={};m["lime.math.color._RGBA.RGBA_Impl_"]=O;O.__name__=["lime","math","color","_RGBA","RGBA_Impl_"];O.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"};O._new=function(a){null==a&&(a=0);return a};O.create=function(a,
b,c,d){return(a&255)<<24|(b&255)<<16|(c&255)<<8|d&255};O.multiplyAlpha=function(a){0!=(a&255)&&255!=(a&255)&&(O.a16=O.__alpha16[a&255])};O.readUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);switch(d){case 0:a=(b[c]&255)<<24|(b[c+1]&255)<<16|(b[c+2]&255)<<8|b[c+3]&255;break;case 1:a=(b[c+1]&255)<<24|(b[c+2]&255)<<16|(b[c+3]&255)<<8|b[c]&255;break;case 2:a=(b[c+2]&255)<<24|(b[c+1]&255)<<16|(b[c]&255)<<8|b[c+3]&255}e&&0!=(a&255)&&255!=(a&255)&&(O.unmult=255/(a&255),Math.round((a>>>24&255)*
O.unmult),Math.round((a>>>16&255)*O.unmult),Math.round((a>>>8&255)*O.unmult))};O.set=function(a,b,c,d,e){};O.unmultiplyAlpha=function(a){0!=(a&255)&&255!=(a&255)&&(O.unmult=255/(a&255),Math.round((a>>>24&255)*O.unmult),Math.round((a>>>16&255)*O.unmult),Math.round((a>>>8&255)*O.unmult))};O.writeUInt8=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);e&&(0==(a&255)?0!=a&&(a=0):255!=(a&255)&&(O.a16=O.__alpha16[a&255],a=((a>>>24&255)*O.a16>>16&255)<<24|((a>>>16&255)*O.a16>>16&255)<<16|((a>>>8&255)*O.a16>>
16&255)<<8|a&255));switch(d){case 0:b[c]=a>>>24&255;b[c+1]=a>>>16&255;b[c+2]=a>>>8&255;b[c+3]=a&255;break;case 1:b[c]=a&255;b[c+1]=a>>>24&255;b[c+2]=a>>>16&255;b[c+3]=a>>>8&255;break;case 2:b[c]=a>>>8&255,b[c+1]=a>>>16&255,b[c+2]=a>>>24&255,b[c+3]=a&255}};O.__fromARGB=function(a){return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255};O.__fromBGRA=function(a){return(a>>>8&255)<<24|(a>>>16&255)<<16|(a>>>24&255)<<8|a&255};O.get_a=function(a){return a&255};O.set_a=function(a,b){return b};O.get_b=
function(a){return a>>>8&255};O.set_b=function(a,b){return b};O.get_g=function(a){return a>>>16&255};O.set_g=function(a,b){return b};O.get_r=function(a){return a>>>24&255};O.set_r=function(a,b){return b};var Hs=function(){this.EXPONENT_DISTANCE_CLAMPED=53254;this.EXPONENT_DISTANCE=53253;this.LINEAR_DISTANCE_CLAMPED=53252;this.LINEAR_DISTANCE=53251;this.INVERSE_DISTANCE_CLAMPED=53250;this.INVERSE_DISTANCE=53249;this.DISTANCE_MODEL=53248;this.DOPPLER_VELOCITY=49153;this.SPEED_OF_SOUND=49155;this.DOPPLER_FACTOR=
49152;this.EXTENSIONS=45060;this.RENDERER=45059;this.VERSION=45058;this.VENDOR=45057;this.OUT_OF_MEMORY=40965;this.INVALID_OPERATION=40964;this.INVALID_VALUE=40963;this.INVALID_ENUM=40962;this.INVALID_NAME=40961;this.NO_ERROR=0;this.SIZE=8196;this.CHANNELS=8195;this.BITS=8194;this.FREQUENCY=8193;this.FORMAT_STEREO16=4355;this.FORMAT_STEREO8=4354;this.FORMAT_MONO16=4353;this.FORMAT_MONO8=4352;this.UNDETERMINED=4144;this.STREAMING=4137;this.STATIC=4136;this.SOURCE_TYPE=4135;this.BYTE_OFFSET=4134;this.SAMPLE_OFFSET=
4133;this.SEC_OFFSET=4132;this.MAX_DISTANCE=4131;this.CONE_OUTER_GAIN=4130;this.ROLLOFF_FACTOR=4129;this.REFERENCE_DISTANCE=4128;this.BUFFERS_PROCESSED=4118;this.BUFFERS_QUEUED=4117;this.STOPPED=4116;this.PAUSED=4115;this.PLAYING=4114;this.INITIAL=4113;this.SOURCE_STATE=4112;this.ORIENTATION=4111;this.MAX_GAIN=4110;this.MIN_GAIN=4109;this.GAIN=4106;this.BUFFER=4105;this.LOOPING=4103;this.VELOCITY=4102;this.DIRECTION=4101;this.POSITION=4100;this.PITCH=4099;this.CONE_OUTER_ANGLE=4098;this.CONE_INNER_ANGLE=
4097;this.SOURCE_RELATIVE=514;this.TRUE=1;this.NONE=this.FALSE=0};m["lime.media.ALAudioContext"]=Hs;Hs.__name__=["lime","media","ALAudioContext"];Hs.prototype={NONE:null,FALSE:null,TRUE:null,SOURCE_RELATIVE:null,CONE_INNER_ANGLE:null,CONE_OUTER_ANGLE:null,PITCH:null,POSITION:null,DIRECTION:null,VELOCITY:null,LOOPING:null,BUFFER:null,GAIN:null,MIN_GAIN:null,MAX_GAIN:null,ORIENTATION:null,SOURCE_STATE:null,INITIAL:null,PLAYING:null,PAUSED:null,STOPPED:null,BUFFERS_QUEUED:null,BUFFERS_PROCESSED:null,
REFERENCE_DISTANCE:null,ROLLOFF_FACTOR:null,CONE_OUTER_GAIN:null,MAX_DISTANCE:null,SEC_OFFSET:null,SAMPLE_OFFSET:null,BYTE_OFFSET:null,SOURCE_TYPE:null,STATIC:null,STREAMING:null,UNDETERMINED:null,FORMAT_MONO8:null,FORMAT_MONO16:null,FORMAT_STEREO8:null,FORMAT_STEREO16:null,FREQUENCY:null,BITS:null,CHANNELS:null,SIZE:null,NO_ERROR:null,INVALID_NAME:null,INVALID_ENUM:null,INVALID_VALUE:null,INVALID_OPERATION:null,OUT_OF_MEMORY:null,VENDOR:null,VERSION:null,RENDERER:null,EXTENSIONS:null,DOPPLER_FACTOR:null,
SPEED_OF_SOUND:null,DOPPLER_VELOCITY:null,DISTANCE_MODEL:null,INVERSE_DISTANCE:null,INVERSE_DISTANCE_CLAMPED:null,LINEAR_DISTANCE:null,LINEAR_DISTANCE_CLAMPED:null,EXPONENT_DISTANCE:null,EXPONENT_DISTANCE_CLAMPED:null,bufferData:function(a,b,c,d,e){R.bufferData(a,b,c,d,e)},buffer3f:function(a,b,c,d,e){R.buffer3f(a,b,c,d,e)},buffer3i:function(a,b,c,d,e){R.buffer3i(a,b,c,d,e)},bufferf:function(a,b,c){R.bufferf(a,b,c)},bufferfv:function(a,b,c){R.bufferfv(a,b,c)},bufferi:function(a,b,c){R.bufferi(a,b,
c)},bufferiv:function(a,b,c){R.bufferiv(a,b,c)},createSource:function(){return R.createSource()},createBuffer:function(){return R.createBuffer()},deleteBuffer:function(a){R.deleteBuffer(a)},deleteBuffers:function(a){R.deleteBuffers(a)},deleteSource:function(a){R.deleteSource(a)},deleteSources:function(a){R.deleteSources(a)},disable:function(a){R.disable(a)},distanceModel:function(a){R.distanceModel(a)},dopplerFactor:function(a){R.dopplerFactor(a)},dopplerVelocity:function(a){R.dopplerVelocity(a)},
enable:function(a){R.enable(a)},genSource:function(){return this.createSource()},genSources:function(a){return R.genSources(a)},genBuffer:function(){return this.createBuffer()},genBuffers:function(a){return R.genBuffers(a)},getBoolean:function(a){return R.getBoolean(a)},getBooleanv:function(a,b){null==b&&(b=1);return R.getBooleanv(a,b)},getBuffer3f:function(a,b){return R.getBuffer3f(a,b)},getBuffer3i:function(a,b){return R.getBuffer3i(a,b)},getBufferf:function(a,b){return R.getBufferf(a,b)},getBufferfv:function(a,
b,c){null==c&&(c=1);return R.getBufferfv(a,b,c)},getBufferi:function(a,b){return R.getBufferi(a,b)},getBufferiv:function(a,b,c){null==c&&(c=1);return R.getBufferiv(a,b,c)},getDouble:function(a){return R.getDouble(a)},getDoublev:function(a,b){null==b&&(b=1);return R.getDoublev(a,b)},getEnumValue:function(a){return R.getEnumValue(a)},getError:function(){return R.getError()},getErrorString:function(){return R.getErrorString()},getFloat:function(a){return R.getFloat(a)},getFloatv:function(a,b){null==
b&&(b=1);return R.getFloatv(a,b)},getInteger:function(a){return R.getInteger(a)},getIntegerv:function(a,b){null==b&&(b=1);return R.getIntegerv(a,b)},getListener3f:function(a){return R.getListener3f(a)},getListener3i:function(a){return R.getListener3i(a)},getListenerf:function(a){return R.getListenerf(a)},getListenerfv:function(a,b){null==b&&(b=1);return R.getListenerfv(a,b)},getListeneri:function(a){return R.getListeneri(a)},getListeneriv:function(a,b){null==b&&(b=1);return R.getListeneriv(a,b)},
getProcAddress:function(a){return R.getProcAddress(a)},getSource3f:function(a,b){return R.getSource3f(a,b)},getSourcef:function(a,b){return R.getSourcef(a,b)},getSource3i:function(a,b){return R.getSource3i(a,b)},getSourcefv:function(a,b,c){return R.getSourcefv(a,b)},getSourcei:function(a,b){return R.getSourcei(a,b)},getSourceiv:function(a,b,c){null==c&&(c=1);return R.getSourceiv(a,b,c)},getString:function(a){return R.getString(a)},isBuffer:function(a){return R.isBuffer(a)},isEnabled:function(a){return R.isEnabled(a)},
isExtensionPresent:function(a){return R.isExtensionPresent(a)},isSource:function(a){return R.isSource(a)},listener3f:function(a,b,c,d){R.listener3f(a,b,c,d)},listener3i:function(a,b,c,d){R.listener3i(a,b,c,d)},listenerf:function(a,b){R.listenerf(a,b)},listenerfv:function(a,b){R.listenerfv(a,b)},listeneri:function(a,b){R.listeneri(a,b)},listeneriv:function(a,b){R.listeneriv(a,b)},source3f:function(a,b,c,d,e){R.source3f(a,b,c,d,e)},source3i:function(a,b,c,d,e){R.source3i(a,b,c,d,e)},sourcef:function(a,
b,c){R.sourcef(a,b,c)},sourcefv:function(a,b,c){R.sourcefv(a,b,c)},sourcei:function(a,b,c){R.sourcei(a,b,c)},sourceiv:function(a,b,c){R.sourceiv(a,b,c)},sourcePlay:function(a){R.sourcePlay(a)},sourcePlayv:function(a){R.sourcePlayv(a)},sourceStop:function(a){R.sourceStop(a)},sourceStopv:function(a){R.sourceStopv(a)},sourceRewind:function(a){R.sourceRewind(a)},sourceRewindv:function(a){R.sourceRewindv(a)},sourcePause:function(a){R.sourcePause(a)},sourcePausev:function(a){R.sourcePausev(a)},sourceQueueBuffer:function(a,
b){R.sourceQueueBuffer(a,b)},sourceQueueBuffers:function(a,b,c){R.sourceQueueBuffers(a,b,c)},sourceUnqueueBuffer:function(a){return R.sourceUnqueueBuffer(a)},sourceUnqueueBuffers:function(a,b){return R.sourceUnqueueBuffers(a,b)},speedOfSound:function(a){R.speedOfSound(a)},__class__:Hs};var Is=function(){this.ALL_DEVICES_SPECIFIER=4115;this.DEFAULT_ALL_DEVICES_SPECIFIER=4114;this.ENUMERATE_ALL_EXT=1;this.EXTENSIONS=4102;this.DEVICE_SPECIFIER=4101;this.DEFAULT_DEVICE_SPECIFIER=4100;this.ALL_ATTRIBUTES=
4099;this.ATTRIBUTES_SIZE=4098;this.OUT_OF_MEMORY=40965;this.INVALID_VALUE=40964;this.INVALID_ENUM=40963;this.INVALID_CONTEXT=40962;this.INVALID_DEVICE=40961;this.NO_ERROR=0;this.STEREO_SOURCES=4113;this.MONO_SOURCES=4112;this.SYNC=4105;this.REFRESH=4104;this.FREQUENCY=4103;this.TRUE=1;this.FALSE=0};m["lime.media.ALCAudioContext"]=Is;Is.__name__=["lime","media","ALCAudioContext"];Is.prototype={FALSE:null,TRUE:null,FREQUENCY:null,REFRESH:null,SYNC:null,MONO_SOURCES:null,STEREO_SOURCES:null,NO_ERROR:null,
INVALID_DEVICE:null,INVALID_CONTEXT:null,INVALID_ENUM:null,INVALID_VALUE:null,OUT_OF_MEMORY:null,ATTRIBUTES_SIZE:null,ALL_ATTRIBUTES:null,DEFAULT_DEVICE_SPECIFIER:null,DEVICE_SPECIFIER:null,EXTENSIONS:null,ENUMERATE_ALL_EXT:null,DEFAULT_ALL_DEVICES_SPECIFIER:null,ALL_DEVICES_SPECIFIER:null,closeDevice:function(a){return jb.closeDevice(a)},createContext:function(a,b){return jb.createContext(a,b)},destroyContext:function(a){jb.destroyContext(a)},getContextsDevice:function(a){return jb.getContextsDevice(a)},
getCurrentContext:function(){return jb.getCurrentContext()},getError:function(a){return jb.getError(a)},getErrorString:function(a){return jb.getErrorString(a)},getIntegerv:function(a,b,c){null==c&&(c=1);return jb.getIntegerv(a,b,c)},getString:function(a,b){return jb.getString(a,b)},makeContextCurrent:function(a){return jb.makeContextCurrent(a)},openDevice:function(a){return jb.openDevice(a)},pauseDevice:function(a){jb.pauseDevice(a)},processContext:function(a){jb.processContext(a)},resumeDevice:function(a){jb.resumeDevice(a)},
suspendContext:function(a){jb.suspendContext(a)},__class__:Is};var Yc=function(){};m["lime.media.AudioBuffer"]=Yc;Yc.__name__=["lime","media","AudioBuffer"];Yc.fromBytes=function(a){return null};Yc.fromFile=function(a){if(null==a)return null;var b=new Yc;b.__srcHowl=new Howl({src:[a],preload:!1});return b};Yc.fromFiles=function(a){var b=new Yc;b.__srcHowl=new Howl({src:a,preload:!1});return b};Yc.fromVorbisFile=function(a){return null};Yc.loadFromFile=function(a){var b=new jd,c=Yc.fromFile(a);null!=
c?null!=c&&(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(a,c){b.error(c)}),c.__srcHowl.load()):b.error(null);return b.future};Yc.loadFromFiles=function(a){var b=new jd,c=Yc.fromFiles(a);null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};Yc.prototype={bitsPerSample:null,channels:null,data:null,sampleRate:null,__srcAudio:null,__srcBuffer:null,__srcCustom:null,
__srcFMODSound:null,__srcHowl:null,__srcSound:null,__srcVorbisFile:null,dispose:function(){this.__srcHowl.unload()},get_src:function(){return this.__srcHowl},set_src:function(a){return this.__srcHowl=a},__class__:Yc,__properties__:{set_src:"set_src",get_src:"get_src"}};var Hf=m["lime.media.AudioContext"]={__ename__:["lime","media","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Hf.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=Hf;c.toString=U;return c};Hf.HTML5=function(a){a=
["HTML5",1,a];a.__enum__=Hf;a.toString=U;return a};Hf.WEB=function(a){a=["WEB",2,a];a.__enum__=Hf;a.toString=U;return a};Hf.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Hf;a.toString=U;return a};Hf.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=Hf;a.toString=U;return a};Hf.__empty_constructs__=[];var pe=function(){};m["lime.media.AudioManager"]=pe;pe.__name__=["lime","media","AudioManager"];pe.init=function(a){if(null==pe.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,
pe.context=Hf.WEB(new AudioContext)}catch(b){Qa.lastException=b,pe.context=Hf.HTML5(new rr)}else pe.context=a};pe.resume=function(){if(null!=pe.context){var a=pe.context;if(0==a[1]){var a=a[2],b=a.getCurrentContext();if(null!=b){var c=a.getContextsDevice(b);a.resumeDevice(c);a.processContext(b)}}}};pe.shutdown=function(){if(null!=pe.context){var a=pe.context;if(0==a[1]){var a=a[2],b=a.getCurrentContext();if(null!=b){var c=a.getContextsDevice(b);a.makeContextCurrent(null);a.destroyContext(b);null!=
c&&a.closeDevice(c)}}pe.context=null}};pe.suspend=function(){if(null!=pe.context){var a=pe.context;if(0==a[1]){var a=a[2],b=a.getCurrentContext();null!=b&&(a.suspendContext(b),b=a.getContextsDevice(b),a.pauseDevice(b))}}};var sr=function(a,b,c,d){null==d&&(d=0);null==b&&(b=0);this.onComplete=new fd;this.buffer=a;this.offset=b;this.backend=new br(this);null!=c&&0!=c&&this.set_length(c);this.set_loops(d);null!=a&&this.init()};m["lime.media.AudioSource"]=sr;sr.__name__=["lime","media","AudioSource"];
sr.prototype={onComplete:null,buffer:null,offset:null,backend:null,dispose:function(){this.backend.dispose()},init:function(){this.backend.init()},play:function(){this.backend.play()},pause:function(){this.backend.pause()},stop:function(){this.backend.stop()},get_currentTime:function(){return this.backend.getCurrentTime()},set_currentTime:function(a){return this.backend.setCurrentTime(a)},get_gain:function(){return this.backend.getGain()},set_gain:function(a){return this.backend.setGain(a)},get_length:function(){return this.backend.getLength()},
set_length:function(a){return this.backend.setLength(a)},get_loops:function(){return this.backend.getLoops()},set_loops:function(a){return this.backend.setLoops(a)},get_position:function(){return this.backend.getPosition()},set_position:function(a){return this.backend.setPosition(a)},__class__:sr,__properties__:{set_position:"set_position",get_position:"get_position",set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",
set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var Js=function(){};m["lime.media.FlashAudioContext"]=Js;Js.__name__=["lime","media","FlashAudioContext"];Js.prototype={createBuffer:function(a,b){return null},getBytesLoaded:function(a){return 0},getBytesTotal:function(a){return 0},getID3:function(a){return null},getIsBuffering:function(a){return!1},getIsURLInaccessible:function(a){return!1},getLength:function(a){return 0},getURL:function(a){return null},close:function(a){},extract:function(a,
b,c,d){return 0},load:function(a,b,c){},loadCompressedDataFromByteArray:function(a,b,c){},loadPCMFromByteArray:function(a,b,c,d,e,f){},play:function(a,b,c,d){return null},__class__:Js};var rr=function(){this.NETWORK_NO_SOURCE=3;this.NETWORK_LOADING=2;this.NETWORK_IDLE=1;this.HAVE_NOTHING=this.NETWORK_EMPTY=0;this.HAVE_METADATA=1;this.HAVE_FUTURE_DATA=3;this.HAVE_ENOUGH_DATA=4;this.HAVE_CURRENT_DATA=2};m["lime.media.HTML5AudioContext"]=rr;rr.__name__=["lime","media","HTML5AudioContext"];rr.prototype=
{HAVE_CURRENT_DATA:null,HAVE_ENOUGH_DATA:null,HAVE_FUTURE_DATA:null,HAVE_METADATA:null,HAVE_NOTHING:null,NETWORK_EMPTY:null,NETWORK_IDLE:null,NETWORK_LOADING:null,NETWORK_NO_SOURCE:null,canPlayType:function(a,b){return null!=a.__srcAudio?a.__srcAudio.canPlayType(b):null},createBuffer:function(a){var b=new Yc;b.__srcAudio=new Audio;b.__srcAudio.src=a;return b},getAutoplay:function(a){return null!=a.__srcAudio?a.__srcAudio.autoplay:!1},getBuffered:function(a){return null!=a.__srcAudio?a.__srcAudio.buffered:
null},getCurrentSrc:function(a){return null!=a.__srcAudio?a.__srcAudio.currentSrc:null},getCurrentTime:function(a){return null!=a.__srcAudio?a.__srcAudio.currentTime:0},getDefaultPlaybackRate:function(a){return null!=a.__srcAudio?a.__srcAudio.defaultPlaybackRate:1},getDuration:function(a){return null!=a.__srcAudio?a.__srcAudio.duration:0},getEnded:function(a){return null!=a.__srcAudio?a.__srcAudio.ended:!1},getError:function(a){return null!=a.__srcAudio?a.__srcAudio.error:null},getLoop:function(a){return null!=
a.__srcAudio?a.__srcAudio.loop:!1},getMuted:function(a){return null!=a.__srcAudio?a.__srcAudio.muted:!1},getNetworkState:function(a){return null!=a.__srcAudio?a.__srcAudio.networkState:0},getPaused:function(a){return null!=a.__srcAudio?a.__srcAudio.paused:!1},getPlaybackRate:function(a){return null!=a.__srcAudio?a.__srcAudio.playbackRate:1},getPlayed:function(a){return null!=a.__srcAudio?a.__srcAudio.played:null},getPreload:function(a){return null!=a.__srcAudio?a.__srcAudio.preload:null},getReadyState:function(a){return null!=
a.__srcAudio?a.__srcAudio.readyState:0},getSeekable:function(a){return null!=a.__srcAudio?a.__srcAudio.seekable:null},getSeeking:function(a){return null!=a.__srcAudio?a.__srcAudio.seeking:!1},getSrc:function(a){return null!=a.__srcAudio?a.__srcAudio.src:null},getStartTime:function(a){return null!=a.__srcAudio?a.__srcAudio.playbackRate:0},getVolume:function(a){return null!=a.__srcAudio?a.__srcAudio.volume:1},load:function(a){null!=a.__srcAudio&&a.__srcAudio.load()},pause:function(a){null!=a.__srcAudio&&
a.__srcAudio.pause()},play:function(a){null!=a.__srcAudio&&a.__srcAudio.play()},setAutoplay:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.autoplay=b)},setCurrentTime:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.currentTime=b)},setDefaultPlaybackRate:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.defaultPlaybackRate=b)},setLoop:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.loop=b)},setMuted:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.muted=b)},setPlaybackRate:function(a,b){null!=a.__srcAudio&&
(a.__srcAudio.playbackRate=b)},setPreload:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.preload=b)},setSrc:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.src=b)},setVolume:function(a,b){null!=a.__srcAudio&&(a.__srcAudio.volume=b)},__class__:rr};var Ks=function(){};m["lime.media.codecs.vorbis.VorbisComment"]=Ks;Ks.__name__=["lime","media","codecs","vorbis","VorbisComment"];Ks.prototype={userComments:null,vendor:null,__class__:Ks};var wo=function(a){this.handle=a};m["lime.media.codecs.vorbis.VorbisFile"]=
wo;wo.__name__=["lime","media","codecs","vorbis","VorbisFile"];wo.fromBytes=function(a){return null};wo.fromFile=function(a){return null};wo.prototype={bitstream:null,handle:null,bitrate:function(a){return 0},bitrateInstant:function(){return 0},clear:function(){},comment:function(a){return null},crosslap:function(a){return 0},info:function(a){return null},pcmSeek:function(a){return 0},pcmSeekLap:function(a){return 0},pcmSeekPage:function(a){return 0},pcmSeekPageLap:function(a){return 0},pcmTell:function(){return new Ga(0,
0)},pcmTotal:function(a){return new Ga(0,0)},rawSeek:function(a){return 0},rawSeekLap:function(a){return 0},rawTell:function(){return new Ga(0,0)},rawTotal:function(a){return new Ga(0,0)},read:function(a,b,c,d,e,f){return 0},readFloat:function(a,b){return 0},seekable:function(){return!1},serialNumber:function(a){return 0},streams:function(){return 0},timeSeek:function(a){return 0},timeSeekLap:function(a){return 0},timeSeekPage:function(a){return 0},timeSeekPageLap:function(a){return 0},timeTell:function(){return 0},
timeTotal:function(a){return 0},__class__:wo};var Ls=function(){};m["lime.media.codecs.vorbis.VorbisInfo"]=Ls;Ls.__name__=["lime","media","codecs","vorbis","VorbisInfo"];Ls.prototype={bitrateLower:null,bitrateNominal:null,bitrateUpper:null,channels:null,rate:null,version:null,__class__:Ls};var R=function(){};m["lime.media.openal.AL"]=R;R.__name__=["lime","media","openal","AL"];R.bufferData=function(a,b,c,d,e){};R.buffer3f=function(a,b,c,d,e){};R.buffer3i=function(a,b,c,d,e){};R.bufferf=function(a,
b,c){};R.bufferfv=function(a,b,c){};R.bufferi=function(a,b,c){};R.bufferiv=function(a,b,c){};R.createBuffer=function(){return null};R.createSource=function(){return null};R.deleteBuffer=function(a){};R.deleteBuffers=function(a){};R.deleteSource=function(a){};R.deleteSources=function(a){};R.disable=function(a){};R.distanceModel=function(a){};R.dopplerFactor=function(a){};R.dopplerVelocity=function(a){};R.enable=function(a){};R.genSource=function(){return null};R.genSources=function(a){return null};
R.genBuffer=function(){return null};R.genBuffers=function(a){return null};R.getBoolean=function(a){return!1};R.getBooleanv=function(a,b){return null};R.getBuffer3f=function(a,b){return null};R.getBuffer3i=function(a,b){return null};R.getBufferf=function(a,b){return 0};R.getBufferfv=function(a,b,c){return null};R.getBufferi=function(a,b){return 0};R.getBufferiv=function(a,b,c){return null};R.getDouble=function(a){return 0};R.getDoublev=function(a,b){return null};R.getEnumValue=function(a){return 0};
R.getError=function(){return 0};R.getErrorString=function(){switch(R.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}};R.getFloat=function(a){return 0};R.getFloatv=function(a,b){return null};R.getInteger=function(a){return 0};R.getIntegerv=
function(a,b){return null};R.getListener3f=function(a){return null};R.getListener3i=function(a){return null};R.getListenerf=function(a){return 0};R.getListenerfv=function(a,b){return null};R.getListeneri=function(a){return 0};R.getListeneriv=function(a,b){return null};R.getParameter=function(a){return null};R.getProcAddress=function(a){return null};R.getSource3f=function(a,b){return null};R.getSourcef=function(a,b){return 0};R.getSource3i=function(a,b){return null};R.getSourcefv=function(a,b,c){return null};
R.getSourcei=function(a,b){return 0};R.getSourceiv=function(a,b,c){return null};R.getString=function(a){return null};R.isBuffer=function(a){return!1};R.isEnabled=function(a){return!1};R.isExtensionPresent=function(a){return!1};R.isSource=function(a){return!1};R.listener3f=function(a,b,c,d){};R.listener3i=function(a,b,c,d){};R.listenerf=function(a,b){};R.listenerfv=function(a,b){};R.listeneri=function(a,b){};R.listeneriv=function(a,b){};R.source3f=function(a,b,c,d,e){};R.source3i=function(a,b,c,d,
e){};R.sourcef=function(a,b,c){};R.sourcefv=function(a,b,c){};R.sourcei=function(a,b,c){};R.sourceiv=function(a,b,c){};R.sourcePlay=function(a){};R.sourcePlayv=function(a){};R.sourceStop=function(a){};R.sourceStopv=function(a){};R.sourceRewind=function(a){};R.sourceRewindv=function(a){};R.sourcePause=function(a){};R.sourcePausev=function(a){};R.sourceQueueBuffer=function(a,b){};R.sourceQueueBuffers=function(a,b,c){};R.sourceUnqueueBuffer=function(a){return 0};R.sourceUnqueueBuffers=function(a,b){return null};
R.speedOfSound=function(a){};var lt={};m["lime.media.openal._ALBuffer.ALBuffer_Impl_"]=lt;lt.__name__=["lime","media","openal","_ALBuffer","ALBuffer_Impl_"];lt._new=function(a){return a};var jb=function(){};m["lime.media.openal.ALC"]=jb;jb.__name__=["lime","media","openal","ALC"];jb.closeDevice=function(a){return!1};jb.createContext=function(a,b){return null};jb.destroyContext=function(a){};jb.getContextsDevice=function(a){return null};jb.getCurrentContext=function(){return null};jb.getError=function(a){return 0};
jb.getErrorString=function(a){switch(jb.getError(a)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}};jb.getIntegerv=function(a,b,c){return null};jb.getString=function(a,b){return null};jb.makeContextCurrent=function(a){return!1};
jb.openDevice=function(a){return null};jb.pauseDevice=function(a){};jb.processContext=function(a){};jb.resumeDevice=function(a){};jb.suspendContext=function(a){};var mt={};m["lime.media.openal._ALContext.ALContext_Impl_"]=mt;mt.__name__=["lime","media","openal","_ALContext","ALContext_Impl_"];mt._new=function(a){return a};var nt={};m["lime.media.openal._ALDevice.ALDevice_Impl_"]=nt;nt.__name__=["lime","media","openal","_ALDevice","ALDevice_Impl_"];nt._new=function(a){return a};var ot={};m["lime.media.openal._ALSource.ALSource_Impl_"]=
ot;ot.__name__=["lime","media","openal","_ALSource","ALSource_Impl_"];ot._new=function(a){return a};var tr=function(){};m["lime.net._IHTTPRequest"]=tr;tr.__name__=["lime","net","_IHTTPRequest"];tr.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,cancel:null,__class__:tr};var Ke=function(a){this.uri=a;this.contentType="application/x-www-form-urlencoded";
this.followRedirects=!0;this.formData=new qa;this.headers=[];this.method="GET";this.timeout=3E4;this.backend=new Ua;this.backend.init(this)};m["lime.net._HTTPRequest.AbstractHTTPRequest"]=Ke;Ke.__name__=["lime","net","_HTTPRequest","AbstractHTTPRequest"];Ke.__interfaces__=[tr];Ke.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseData:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,
backend:null,cancel:function(){this.backend.cancel()},load:function(a){return null},__class__:Ke};var ur=function(a){Ke.call(this,a)};m["lime.net.HTTPRequest"]=ur;ur.__name__=["lime","net","HTTPRequest"];ur.__super__=Ke;ur.prototype=z(Ke.prototype,{__class__:ur});var Sg=function(a){Ke.call(this,a)};m["lime.net._HTTPRequest_Bytes"]=Sg;Sg.__name__=["lime","net","_HTTPRequest_Bytes"];Sg.__super__=Ke;Sg.prototype=z(Ke.prototype,{fromBytes:function(a){return a},load:function(a){var b=this;null!=a&&(this.uri=
a);var c=new jd;a=this.backend.loadData(this.uri);a.onProgress(u(c,c.progress));a.onError(u(c,c.error));a.onComplete(function(a){b.responseData=b.fromBytes(a);c.complete(b.responseData)});return c.future},__class__:Sg});var nl=function(a){Ke.call(this,a)};m["lime.net._HTTPRequest_String"]=nl;nl.__name__=["lime","net","_HTTPRequest_String"];nl.__super__=Ke;nl.prototype=z(Ke.prototype,{load:function(a){var b=this;null!=a&&(this.uri=a);var c=new jd;a=this.backend.loadText(this.uri);a.onProgress(u(c,
c.progress));a.onError(u(c,c.error));a.onComplete(function(a){b.responseData=a;c.complete(b.responseData)});return c.future},__class__:nl});var oo=function(a,b){null==b&&(b="");this.name=a;this.value=b};m["lime.net.HTTPRequestHeader"]=oo;oo.__name__=["lime","net","HTTPRequestHeader"];oo.prototype={name:null,value:null,__class__:oo};var Bm=function(a){Ke.call(this,a)};m["lime.net._HTTPRequest_lime_text_Font"]=Bm;Bm.__name__=["lime","net","_HTTPRequest_lime_text_Font"];Bm.__super__=Sg;Bm.prototype=
z(Sg.prototype,{fromBytes:function(a){return Ic.fromBytes(a)},__class__:Bm});var xo=function(a){Ke.call(this,a)};m["lime.net._HTTPRequest_lime_utils_Bytes"]=xo;xo.__name__=["lime","net","_HTTPRequest_lime_utils_Bytes"];xo.__super__=Sg;xo.prototype=z(Sg.prototype,{fromBytes:function(a){return qd.fromBytes(a)},__class__:xo});var yo=function(a){Ke.call(this,a)};m["lime.net._HTTPRequest_openfl_utils_ByteArray"]=yo;yo.__name__=["lime","net","_HTTPRequest_openfl_utils_ByteArray"];yo.__super__=Sg;yo.prototype=
z(Sg.prototype,{fromBytes:function(a){return Na.fromBytes(a)},__class__:yo});var Tg=function(){};m["lime.system.CFFI"]=Tg;Tg.__name__=["lime","system","CFFI"];Tg.load=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=0);return Tg.enabled?null:Z.makeVarArgs(function(a){return{}})};Tg.__findHaxelib=function(a){return""};Tg.__loaderTrace=function(a){};Tg.__sysName=function(){return null};Tg.__tryLoad=function(a,b,c,d){return null};var Mb={};m["lime.system._CFFIPointer.CFFIPointer_Impl_"]=Mb;Mb.__name__=
["lime","system","_CFFIPointer","CFFIPointer_Impl_"];Mb._new=function(a){return a};Mb.get=function(a){return 0};Mb.equals=function(a,b){return Mb.get(a)==b};Mb.equalsPointer=function(a,b){return Mb.get(a)==Mb.get(b)};Mb.greaterThan=function(a,b){return Mb.get(a)>b};Mb.greaterThanPointer=function(a,b){return Mb.get(a)>Mb.get(b)};Mb.greaterThanOrEqual=function(a,b){return Mb.get(a)>=b};Mb.greaterThanOrEqualPointer=function(a,b){return Mb.get(a)>=Mb.get(b)};Mb.lessThan=function(a,b){return Mb.get(a)<
b};Mb.lessThanPointer=function(a,b){return Mb.get(a)<Mb.get(b)};Mb.lessThanOrEqual=function(a,b){return Mb.get(a)<=b};Mb.lessThanOrEqualPointer=function(a,b){return Mb.get(a)<=Mb.get(b)};Mb.notEquals=function(a,b){return Mb.get(a)!=b};Mb.notEqualsPointer=function(a,b){return Mb.get(a)!=Mb.get(b)};var ae=function(){};m["lime.system.Clipboard"]=ae;ae.__name__=["lime","system","Clipboard"];ae.__properties__={set_text:"set_text",get_text:"get_text"};ae.__update=function(){ae._text!=ae._text&&ae.onUpdate.dispatch()};
ae.get_text=function(){return ae._text};ae.set_text=function(a){var b=ae._text;ae._text=a;var c=Ce.current.__windows[0];null!=c&&c.backend.setClipboard(a);ae._text!=b&&ae.onUpdate.dispatch();return a};var vr=function(){};m["lime.system.Display"]=vr;vr.__name__=["lime","system","Display"];vr.prototype={bounds:null,currentMode:null,id:null,dpi:null,name:null,supportedModes:null,__class__:vr};var wr=function(a,b,c,d){this.width=a;this.height=b;this.refreshRate=c;this.pixelFormat=d};m["lime.system.DisplayMode"]=
wr;wr.__name__=["lime","system","DisplayMode"];wr.prototype={height:null,pixelFormat:null,refreshRate:null,width:null,__class__:wr};var lf=m["lime.system.Endian"]={__ename__:["lime","system","Endian"],__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"]};lf.LITTLE_ENDIAN=["LITTLE_ENDIAN",0];lf.LITTLE_ENDIAN.toString=U;lf.LITTLE_ENDIAN.__enum__=lf;lf.BIG_ENDIAN=["BIG_ENDIAN",1];lf.BIG_ENDIAN.toString=U;lf.BIG_ENDIAN.__enum__=lf;lf.__empty_constructs__=[lf.LITTLE_ENDIAN,lf.BIG_ENDIAN];var Pd=function(){};
m["lime.system.JNI"]=Pd;Pd.__name__=["lime","system","JNI"];Pd.callMember=function(a,b,c){switch(c.length){case 0:return a(b);case 1:return a(b,c[0]);case 2:return a(b,c[0],c[1]);case 3:return a(b,c[0],c[1],c[2]);case 4:return a(b,c[0],c[1],c[2],c[3]);case 5:return a(b,c[0],c[1],c[2],c[3],c[4]);case 6:return a(b,c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return a(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6]);default:return null}};Pd.callStatic=function(a,b){switch(b.length){case 0:return a();case 1:return a(b[0]);
case 2:return a(b[0],b[1]);case 3:return a(b[0],b[1],b[2]);case 4:return a(b[0],b[1],b[2],b[3]);case 5:return a(b[0],b[1],b[2],b[3],b[4]);case 6:return a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);default:return null}};Pd.createMemberField=function(a,b,c){Pd.init();return null};Pd.createMemberMethod=function(a,b,c,d,e){Pd.init();return null};Pd.createStaticField=function(a,b,c){Pd.init();return null};Pd.createStaticMethod=function(a,b,c,d,e){Pd.init();return null};
Pd.getEnv=function(){Pd.init();return null};Pd.init=function(){Pd.initialized||(Pd.initialized=!0)};Pd.onCallback=function(a,b,c){var d=Z.field(a,b);if(null!=d)return d.apply(a,c);Aa.trace("onCallback - unknown field "+h.string(b),{fileName:"JNI.hx",lineNumber:182,className:"lime.system.JNI",methodName:"onCallback"});return null};Pd.postUICallback=function(a){a()};var Ms=function(a){this.field=a};m["lime.system.JNIMemberField"]=Ms;Ms.__name__=["lime","system","JNIMemberField"];Ms.prototype={field:null,
get:function(a){return null},set:function(a,b){return b},__class__:Ms};var Ns=function(a){this.field=a};m["lime.system.JNIStaticField"]=Ns;Ns.__name__=["lime","system","JNIStaticField"];Ns.prototype={field:null,get:function(){return null},set:function(a){return a},__class__:Ns};var Os=function(a){this.method=a};m["lime.system.JNIMethod"]=Os;Os.__name__=["lime","system","JNIMethod"];Os.prototype={method:null,callMember:function(a){return null},callStatic:function(a){return null},getMemberMethod:function(a){return a?
u(this,this.callMember):Z.makeVarArgs(u(this,this.callMember))},getStaticMethod:function(a){return a?u(this,this.callStatic):Z.makeVarArgs(u(this,this.callStatic))},__class__:Os};var Nc={};m["lime.system._Locale.Locale_Impl_"]=Nc;Nc.__name__=["lime","system","_Locale","Locale_Impl_"];Nc.__properties__={get_region:"get_region",get_language:"get_language",get_systemLocale:"get_systemLocale",set_currentLocale:"set_currentLocale",get_currentLocale:"get_currentLocale"};Nc._new=function(a){return a};Nc.equals=
function(a,b){var c=Nc.get_language(a),d=Nc.get_region(a),e=Nc.get_language(b),f=Nc.get_region(b),k=c==e,h=d==f;k||null==c||null==e||(k=c.toLowerCase()==e.toLowerCase());h||null==d||null==f||(h=d.toLowerCase()==f.toLowerCase());return k?h:!1};Nc.__init=function(){if(null==Nc.__systemLocale){var a=null,a=navigator.language;Nc.__systemLocale=null!=a?a:"en-US";Nc.set_currentLocale(Nc.__systemLocale)}};Nc.get_language=function(a){if(null!=a){var b=a.indexOf("_");if(-1<b)return a.substring(0,b);b=a.indexOf("-");
if(-1<b)return a.substring(0,b)}return a};Nc.get_region=function(a){if(null!=a){var b=a.indexOf("_"),c=a.indexOf("."),d=a.indexOf("-");if(-1<b)return-1<c?a.substring(b+1,c):a.substring(b+1);if(-1<d)return-1<c?a.substring(d+1,c):a.substring(d+1)}return null};Nc.get_currentLocale=function(){Nc.__init();return Nc.currentLocale};Nc.set_currentLocale=function(a){Nc.__init();return Nc.currentLocale=a};Nc.get_systemLocale=function(){Nc.__init();return Nc.__systemLocale};var nb=function(){};m["lime.system.System"]=
nb;nb.__name__=["lime","system","System"];nb.__properties__={get_userDirectory:"get_userDirectory",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"};
nb.embed=Lp.lime.embed=function(a,b,c,d,e){if(null!=nb.__applicationEntryPoint&&null!=nb.__applicationConfig){var f=nb.__applicationEntryPoint;if(null!=t[a]?f.existsReserved(a):f.h.hasOwnProperty(a))if(f=null,f="string"==typeof b?window.document.getElementById(b):null==b?window.document.createElement("div"):b,null==f)window.console.log("[lime.embed] ERROR: Cannot find target element: "+h.string(b));else{null==c&&(c=0);null==d&&(d=0);b=nb.__applicationConfig;var k=null!=t[a]?b.getReserved(a):b.h[a];
b={};nb.__copyMissingFields(b,k);if(null!=e){b.windows=[];e instanceof Array&&null==e.__enum__?b.windows=e:b.windows[0]=e;for(var g=0,w=b.windows.length;g<w;){var m=g++;m<k.windows.length&&nb.__copyMissingFields(b.windows[m],k.windows[m]);nb.__copyMissingFields(b.windows[m].parameters,k.windows[m].parameters);"string"==typeof e.background&&(m=Da.replace(h.string(e.background),"#",""),-1<m.indexOf("0x")?e.background=h.parseInt(m):e.background=h.parseInt("0x"+m))}}Z.field(b.windows[0],"rootPath")&&
(b.rootPath=Z.field(b.windows[0],"rootPath"),Z.deleteField(b.windows[0],"rootPath"));b.windows[0].element=f;b.windows[0].width=c;b.windows[0].height=d;c=nb.__applicationEntryPoint;(null!=t[a]?c.getReserved(a):c.h[a])(b)}}};nb.exit=function(a){};nb.getDisplay=function(a){return 0==a?(a=new vr,a.id=0,a.name="Generic Display",a.dpi=96*window.devicePixelRatio,a.currentMode=new wr(window.screen.width,window.screen.height,60,1),a.supportedModes=[a.currentMode],a.bounds=new ld(0,0,a.currentMode.width,a.currentMode.height),
a):null};nb.getTimer=function(){return window.performance.now()|0};nb.load=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=0);return Tg.load(a,b,c,d)};nb.openFile=function(a){null!=a&&window.open(a,"_blank")};nb.openURL=function(a,b){null==b&&(b="_blank");null!=a&&window.open(a,b)};nb.__copyMissingFields=function(a,b){if(null!=b&&null!=a)for(var c=0,d=Z.fields(b);c<d.length;){var e=d[c];++c;Object.prototype.hasOwnProperty.call(a,e)||(a[e]=Z.field(b,e))}};nb.__getDirectory=function(a){return null};nb.__registerEntryPoint=
function(a,b,c){null==nb.__applicationConfig&&(nb.__applicationConfig=new qa);null==nb.__applicationEntryPoint&&(nb.__applicationEntryPoint=new qa);var d=nb.__applicationEntryPoint;null!=t[a]?d.setReserved(a,b):d.h[a]=b;b=nb.__applicationConfig;null!=t[a]?b.setReserved(a,c):b.h[a]=c};nb.get_allowScreenTimeout=function(){return!0};nb.set_allowScreenTimeout=function(a){return!0};nb.get_applicationDirectory=function(){return nb.__getDirectory(0)};nb.get_applicationStorageDirectory=function(){return nb.__getDirectory(1)};
nb.get_desktopDirectory=function(){return nb.__getDirectory(2)};nb.get_documentsDirectory=function(){return nb.__getDirectory(3)};nb.get_fontsDirectory=function(){return nb.__getDirectory(4)};nb.get_numDisplays=function(){return 1};nb.get_userDirectory=function(){return nb.__getDirectory(5)};nb.get_endianness=function(){return lf.LITTLE_ENDIAN};var dr=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onProgress=new sj;this.onError=new sj;this.onComplete=new sj;this.doWork=new sj;this.minThreads=a;
this.maxThreads=b;this.currentThreads=0};m["lime.system.ThreadPool"]=dr;dr.__name__=["lime","system","ThreadPool"];dr.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,onProgress:null,queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},sendProgress:function(a){this.onProgress.dispatch(a)},__class__:dr};var Tc=m["lime.system._ThreadPool.ThreadPoolMessageType"]=
{__ename__:["lime","system","_ThreadPool","ThreadPoolMessageType"],__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"]};Tc.COMPLETE=["COMPLETE",0];Tc.COMPLETE.toString=U;Tc.COMPLETE.__enum__=Tc;Tc.ERROR=["ERROR",1];Tc.ERROR.toString=U;Tc.ERROR.__enum__=Tc;Tc.EXIT=["EXIT",2];Tc.EXIT.toString=U;Tc.EXIT.__enum__=Tc;Tc.PROGRESS=["PROGRESS",3];Tc.PROGRESS.toString=U;Tc.PROGRESS.__enum__=Tc;Tc.WORK=["WORK",4];Tc.WORK.toString=U;Tc.WORK.__enum__=Tc;Tc.__empty_constructs__=[Tc.COMPLETE,Tc.ERROR,
Tc.EXIT,Tc.PROGRESS,Tc.WORK];var Ps=function(a,b){this.type=a;this.state=b};m["lime.system._ThreadPool.ThreadPoolMessage"]=Ps;Ps.__name__=["lime","system","_ThreadPool","ThreadPoolMessage"];Ps.prototype={state:null,type:null,__class__:Ps};var pt={};m["lime.text._Glyph.Glyph_Impl_"]=pt;pt.__name__=["lime","text","_Glyph","Glyph_Impl_"];pt._new=function(a){return a};var Qs=function(){};m["lime.text.GlyphMetrics"]=Qs;Qs.__name__=["lime","text","GlyphMetrics"];Qs.prototype={advance:null,height:null,horizontalBearing:null,
verticalBearing:null,__class__:Qs};var Rs=function(a,b,c){this.glyph=a;this.advance=b;this.offset=null!=c?c:new Oc};m["lime.text.GlyphPosition"]=Rs;Rs.__name__=["lime","text","GlyphPosition"];Rs.prototype={advance:null,glyph:null,offset:null,__class__:Rs};var qf={};m["lime.text._TextDirection.TextDirection_Impl_"]=qf;qf.__name__=["lime","text","_TextDirection","TextDirection_Impl_"];qf.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"};
qf.reverse=function(a){};qf.toString=function(a){switch(a){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}};qf.get_backward=function(a){return 5==(a&-3)};qf.get_forward=function(a){return 4==(a&-3)};qf.get_horizontal=function(a){return 4==(a&-2)};qf.get_vertical=function(a){return 6==(a&-2)};var Ss=function(a,b,c,d,e,f){null==f&&(f="en");null==e&&(e="Zyyy");null==d&&(d=4);null==c&&(c=12);null==a&&(a="");this.set_text(a);
this.set_font(b);this.set_size(c);this.__direction=d;this.__script=e;this.__language=f;this.positions=[];this.__dirty=!0};m["lime.text.TextLayout"]=Ss;Ss.__name__=["lime","text","TextLayout"];Ss.prototype={font:null,glyphs:null,positions:null,size:null,text:null,__dirty:null,__buffer:null,__direction:null,__handle:null,__language:null,__script:null,__position:function(){this.positions=[]},get_positions:function(){this.__dirty&&(this.__dirty=!1,this.__position());return this.positions},get_direction:function(){return this.__direction},
set_direction:function(a){if(a==this.__direction)return a;this.__direction=a;this.__dirty=!0;return a},set_font:function(a){if(a==this.font)return a;this.font=a;this.__dirty=!0;return a},get_glyphs:function(){for(var a=[],b=0,c=this.get_positions();b<c.length;){var d=c[b];++b;a.push(d.glyph)}return a},get_language:function(){return this.__language},set_language:function(a){if(a==this.__language)return a;this.__language=a;this.__dirty=!0;return a},get_script:function(){return this.__script},set_script:function(a){if(a==
this.__script)return a;this.__script=a;this.__dirty=!0;return a},set_size:function(a){if(a==this.size)return a;this.size=a;this.__dirty=!0;return a},set_text:function(a){if(a==this.text)return a;this.text=a;this.__dirty=!0;return a},__class__:Ss,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",
get_direction:"get_direction"}};var oa={};m["lime.text._TextScript.TextScript_Impl_"]=oa;oa.__name__=["lime","text","_TextScript","TextScript_Impl_"];oa.__properties__={get_rightToLeft:"get_rightToLeft"};oa.get_rightToLeft=function(a){switch(a){case "Arab":case "Armi":case "Avst":case "Cprt":case "Hebr":case "Khar":case "Lydi":case "Mand":case "Nkoo":case "Orkh":case "Phli":case "Phlp":case "Phnx":case "Samr":case "Sarb":case "Syrc":case "Thaa":return!0;default:return!1}};var ka={};m["lime.text._UTF8String.UTF8String_Impl_"]=
ka;ka.__name__=["lime","text","_UTF8String","UTF8String_Impl_"];ka.__properties__={get_length:"get_length"};ka._new=function(a){return new String(a)};ka.charAt=function(a,b){var c;if(0<=b){c=0;for(var d=a.length,e=0;e<b&&c<d;){var f=a.charCodeAt(c);c+=55296<=f&&56319>=f?2:1;++e}}else for(d=c=0;d<-b&&0<c;)e=a.charCodeAt(c-1),c-=56320<=e&&57343>=e?2:1,++d;d=a.charCodeAt(c);return da.substr(a,c,55296<=d&&56319>=d?2:1)};ka.charCodeAt=function(a,b){if(0<=b?b>=Sb.codePointCount(a,0,a.length):1)return null;
var c;if(0<=b){c=0;for(var d=a.length,e=0;e<b&&c<d;){var f=a.charCodeAt(c);c+=55296<=f&&56319>=f?2:1;++e}}else for(d=c=0;d<-b&&0<c;)e=a.charCodeAt(c-1),c-=56320<=e&&57343>=e?2:1,++d;return Sb.codePointAt(a,c)};ka.fromCharCode=function(a){if(!(0<=a&&1114111>=a)||55296<=a&&56319>=a||56320<=a&&57343>=a)throw new H(new wh(a));return 65535>=a?String.fromCharCode(a):String.fromCharCode((a>>10)+55232)+String.fromCharCode(a&1023|56320)};ka.fromCharCodes=function(a){for(var b="",c=0;c<a.length;){var d=a[c];
++c;if(!(0<=d&&1114111>=d)||55296<=d&&56319>=d||56320<=d&&57343>=d)throw new H(new wh(d));d=65535>=d?String.fromCharCode(d):String.fromCharCode((d>>10)+55232)+String.fromCharCode(d&1023|56320);b+=d}return b};ka.indexOf=function(a,b,c){null==c&&(c=0);if(0<=c)for(var d=0,e=a.length,f=0;f<c&&d<e;){var k=a.charCodeAt(d),d=d+(55296<=k&&56319>=k?2:1);++f}else for(e=d=0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d;b=a.indexOf(b,c);return 0<=b?Sb.codePointCount(a,0,b):-1};ka.lastIndexOf=
function(a,b,c){null==c&&(c=a.length-1);if(0<=c)for(var d=0,e=a.length,f=0;f<c&&d<e;){var k=a.charCodeAt(d),d=d+(55296<=k&&56319>=k?2:1);++f}else for(e=d=0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d;b=a.lastIndexOf(b,c);return 0<=b?Sb.codePointCount(a,0,b):-1};ka.split=function(a,b){if(0==b.length){var c=[],d,e,f;d=0;for(f=a.length;d<f;){e=d;var k=a.charCodeAt(d);d+=55296<=k&&56319>=k?2:1;var k=a,h=k.charCodeAt(e);e=da.substr(k,e,55296<=h&&56319>=h?2:1);c.push(e)}return c}return a.split(b)};
ka.substr=function(a,b,c){return da.substr(a,b,c)};ka.substring=function(a,b,c){if(0>b)b=0;else{if(0<=b)for(var d=0,e=a.length,f=0;f<b&&d<e;){var k=a.charCodeAt(d),d=d+(55296<=k&&56319>=k?2:1);++f}else for(e=d=0;e<-b&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;b=d}if(null==c)c=a.length;else if(0>c)c=0;else{if(0<=c)for(d=0,e=a.length,f=0;f<c&&d<e;)k=a.charCodeAt(d),d+=55296<=k&&56319>=k?2:1,++f;else for(e=d=0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d}return a.substring(b,
c)};ka.toLowerCase=function(a){return a.toLowerCase()};ka.toString=function(a){return a};ka.toUpperCase=function(a){return a.toUpperCase()};ka.equals=function(a,b){return null==a||null==b?a==b:0==be.uCompare(a,b)};ka.lt=function(a,b){return null==b?!1:null==a?!0:-1==be.uCompare(a,b)};ka.gt=function(a,b){return null==a?!1:null==b?!0:1==be.uCompare(a,b)};ka.lteq=function(a,b){return null==b?null==a:null==a?!0:1!=be.uCompare(a,b)};ka.gteq=function(a,b){return null==a?null==b:null==b?!0:-1!=be.uCompare(a,
b)};ka.plus=function(a,b){if(null==a&&null==b)return null;if(null==a)return b;if(null==b)return a;var c;c=""+h.string(ka.toString(a));return c+=h.string(ka.toString(b))};ka.fromDynamic=function(a){return h.string(a)};ka.get_length=function(a){return null==a?0:a.length};var Ts=function(){};m["lime.text._UTF8String.Utf8Ext"]=Ts;Ts.__name__=["lime","text","_UTF8String","Utf8Ext"];Ts.fillUpperToLowerMap=function(a){for(var b=0,c=0;26>c;){var d=c++;a.h[65+d]=97+d}for(c=0;23>c;)d=c++,a.h[192+d]=224+d;for(c=
0;7>c;)d=c++,a.h[216+d]=248+d;for(;48>b;)a.h[256+b]=257+b,b+=2;b=0;for(a.h[304]=105;6>b;)a.h[306+b]=307+b,b+=2;for(b=0;16>b;)a.h[313+b]=314+b,b+=2;for(b=0;46>b;)a.h[330+b]=331+b,b+=2;b=0;for(a.h[376]=255;6>b;)a.h[377+b]=378+b,b+=2;b=0;for(a.h[385]=595;4>b;)a.h[386+b]=387+b,b+=2;b=0;a.h[390]=596;a.h[391]=392;for(c=0;2>c;)d=c++,a.h[393+d]=598+d;a.h[395]=396;a.h[398]=477;a.h[399]=601;a.h[400]=603;a.h[401]=402;a.h[403]=608;a.h[404]=611;a.h[406]=617;a.h[407]=616;a.h[408]=409;a.h[412]=623;a.h[413]=626;
for(a.h[415]=629;6>b;)a.h[416+b]=417+b,b+=2;b=0;a.h[422]=640;a.h[423]=424;a.h[425]=643;a.h[428]=429;a.h[430]=648;a.h[431]=432;for(c=0;2>c;)d=c++,a.h[433+d]=650+d;for(;4>b;)a.h[435+b]=436+b,b+=2;b=0;a.h[439]=658;a.h[440]=441;a.h[444]=445;a.h[452]=454;a.h[455]=457;for(a.h[458]=460;16>b;)a.h[461+b]=462+b,b+=2;for(b=0;18>b;)a.h[478+b]=479+b,b+=2;b=0;a.h[497]=499;a.h[500]=501;a.h[502]=405;for(a.h[503]=447;40>b;)a.h[504+b]=505+b,b+=2;b=0;for(a.h[544]=414;18>b;)a.h[546+b]=547+b,b+=2;b=0;a.h[570]=11365;a.h[571]=
572;a.h[573]=410;a.h[574]=11366;a.h[577]=578;a.h[579]=384;a.h[580]=649;for(a.h[581]=652;10>b;)a.h[582+b]=583+b,b+=2;for(b=0;4>b;)a.h[880+b]=881+b,b+=2;b=0;a.h[886]=887;a.h[895]=1011;a.h[902]=940;for(c=0;3>c;)d=c++,a.h[904+d]=941+d;a.h[908]=972;for(c=0;2>c;)d=c++,a.h[910+d]=973+d;for(c=0;17>c;)d=c++,a.h[913+d]=945+d;for(c=0;9>c;)d=c++,a.h[931+d]=963+d;for(a.h[975]=983;24>b;)a.h[984+b]=985+b,b+=2;b=0;a.h[1012]=952;a.h[1015]=1016;a.h[1017]=1010;a.h[1018]=1019;for(c=0;3>c;)d=c++,a.h[1021+d]=891+d;for(c=
0;16>c;)d=c++,a.h[1024+d]=1104+d;for(c=0;32>c;)d=c++,a.h[1040+d]=1072+d;for(;34>b;)a.h[1120+b]=1121+b,b+=2;for(b=0;54>b;)a.h[1162+b]=1163+b,b+=2;b=0;for(a.h[1216]=1231;14>b;)a.h[1217+b]=1218+b,b+=2;for(b=0;96>b;)a.h[1232+b]=1233+b,b+=2;for(c=b=0;38>c;)d=c++,a.h[1329+d]=1377+d;for(c=0;38>c;)d=c++,a.h[4256+d]=11520+d;a.h[4295]=11559;a.h[4301]=11565;for(c=0;80>c;)d=c++,a.h[5024+d]=43888+d;for(c=0;6>c;)d=c++,a.h[5104+d]=5112+d;for(;150>b;)a.h[7680+b]=7681+b,b+=2;b=0;for(a.h[7838]=223;96>b;)a.h[7840+b]=
7841+b,b+=2;for(c=b=0;8>c;)d=c++,a.h[7944+d]=7936+d;for(c=0;6>c;)d=c++,a.h[7960+d]=7952+d;for(c=0;8>c;)d=c++,a.h[7976+d]=7968+d;for(c=0;8>c;)d=c++,a.h[7992+d]=7984+d;for(c=0;6>c;)d=c++,a.h[8008+d]=8E3+d;for(;8>b;)a.h[8025+b]=8017+b,b+=2;for(c=b=0;8>c;)d=c++,a.h[8040+d]=8032+d;for(c=0;2>c;)d=c++,a.h[8120+d]=8112+d;for(c=0;2>c;)d=c++,a.h[8122+d]=8048+d;for(c=0;4>c;)d=c++,a.h[8136+d]=8050+d;for(c=0;2>c;)d=c++,a.h[8152+d]=8144+d;for(c=0;2>c;)d=c++,a.h[8154+d]=8054+d;for(c=0;2>c;)d=c++,a.h[8168+d]=8160+
d;for(c=0;2>c;)d=c++,a.h[8170+d]=8058+d;a.h[8172]=8165;for(c=0;2>c;)d=c++,a.h[8184+d]=8056+d;for(c=0;2>c;)d=c++,a.h[8186+d]=8060+d;a.h[8486]=969;a.h[8490]=107;a.h[8491]=229;a.h[8498]=8526;a.h[8579]=8580;for(c=0;47>c;)d=c++,a.h[11264+d]=11312+d;a.h[11360]=11361;a.h[11362]=619;a.h[11363]=7549;for(a.h[11364]=637;6>b;)a.h[11367+b]=11368+b,b+=2;b=0;a.h[11373]=593;a.h[11374]=625;a.h[11375]=592;a.h[11376]=594;a.h[11378]=11379;a.h[11381]=11382;for(c=0;2>c;)d=c++,a.h[11390+d]=575+d;for(;100>b;)a.h[11392+b]=
11393+b,b+=2;for(b=0;4>b;)a.h[11499+b]=11500+b,b+=2;b=0;for(a.h[11506]=11507;46>b;)a.h[42560+b]=42561+b,b+=2;for(b=0;28>b;)a.h[42624+b]=42625+b,b+=2;for(b=0;14>b;)a.h[42786+b]=42787+b,b+=2;for(b=0;62>b;)a.h[42802+b]=42803+b,b+=2;for(b=0;4>b;)a.h[42873+b]=42874+b,b+=2;b=0;for(a.h[42877]=7545;10>b;)a.h[42878+b]=42879+b,b+=2;b=0;a.h[42891]=42892;for(a.h[42893]=613;4>b;)a.h[42896+b]=42897+b,b+=2;for(b=0;20>b;)a.h[42902+b]=42903+b,b+=2;b=0;a.h[42922]=614;a.h[42923]=604;a.h[42924]=609;a.h[42925]=620;a.h[42926]=
618;a.h[42928]=670;a.h[42929]=647;a.h[42930]=669;for(a.h[42931]=43859;4>b;)a.h[42932+b]=42933+b,b+=2;for(b=0;26>b;)c=b++,a.h[65313+c]=65345+c;for(b=0;40>b;)c=b++,a.h[66560+c]=66600+c;for(b=0;36>b;)c=b++,a.h[66736+c]=66776+c;for(b=0;51>b;)c=b++,a.h[68736+c]=68800+c;for(b=0;32>b;)c=b++,a.h[71840+c]=71872+c;for(b=0;34>b;)c=b++,a.h[125184+c]=125218+c};Ts.fillLowerToUpperMap=function(a){for(var b=0,c=0;26>c;){var d=c++;a.h[97+d]=65+d}a.h[181]=924;for(c=0;23>c;)d=c++,a.h[224+d]=192+d;for(c=0;7>c;)d=c++,
a.h[248+d]=216+d;for(a.h[255]=376;48>b;)a.h[257+b]=256+b,b+=2;b=0;for(a.h[305]=73;6>b;)a.h[307+b]=306+b,b+=2;for(b=0;16>b;)a.h[314+b]=313+b,b+=2;for(b=0;46>b;)a.h[331+b]=330+b,b+=2;for(b=0;6>b;)a.h[378+b]=377+b,b+=2;b=0;a.h[383]=83;for(a.h[384]=579;4>b;)a.h[387+b]=386+b,b+=2;b=0;a.h[392]=391;a.h[396]=395;a.h[402]=401;a.h[405]=502;a.h[409]=408;a.h[410]=573;for(a.h[414]=544;6>b;)a.h[417+b]=416+b,b+=2;b=0;a.h[424]=423;a.h[429]=428;for(a.h[432]=431;4>b;)a.h[436+b]=435+b,b+=2;b=0;a.h[441]=440;a.h[445]=
444;a.h[447]=503;a.h[454]=452;a.h[457]=455;for(a.h[460]=458;16>b;)a.h[462+b]=461+b,b+=2;b=0;for(a.h[477]=398;18>b;)a.h[479+b]=478+b,b+=2;b=0;a.h[496]=74;a.h[499]=497;for(a.h[501]=500;40>b;)a.h[505+b]=504+b,b+=2;for(b=0;18>b;)a.h[547+b]=546+b,b+=2;b=0;a.h[572]=571;for(c=0;2>c;)d=c++,a.h[575+d]=11390+d;for(a.h[578]=577;10>b;)a.h[583+b]=582+b,b+=2;b=0;a.h[592]=11375;a.h[593]=11373;a.h[594]=11376;a.h[595]=385;a.h[596]=390;for(c=0;2>c;)d=c++,a.h[598+d]=393+d;a.h[601]=399;a.h[603]=400;a.h[604]=42923;a.h[608]=
403;a.h[609]=42924;a.h[611]=404;a.h[613]=42893;a.h[614]=42922;a.h[616]=407;a.h[617]=406;a.h[618]=42926;a.h[619]=11362;a.h[620]=42925;a.h[623]=412;a.h[625]=11374;a.h[626]=413;a.h[629]=415;a.h[637]=11364;a.h[640]=422;a.h[643]=425;a.h[647]=42929;a.h[648]=430;a.h[649]=580;for(c=0;2>c;)d=c++,a.h[650+d]=433+d;a.h[652]=581;a.h[658]=439;a.h[669]=42930;for(a.h[670]=42928;4>b;)a.h[881+b]=880+b,b+=2;b=0;a.h[887]=886;for(c=0;3>c;)d=c++,a.h[891+d]=1021+d;a.h[912]=938;a.h[940]=902;for(c=0;3>c;)d=c++,a.h[941+d]=
904+d;a.h[944]=939;for(c=0;17>c;)d=c++,a.h[945+d]=913+d;a.h[962]=931;for(c=0;9>c;)d=c++,a.h[963+d]=931+d;a.h[972]=908;for(c=0;2>c;)d=c++,a.h[973+d]=910+d;a.h[976]=914;a.h[977]=920;a.h[981]=934;a.h[982]=928;for(a.h[983]=975;24>b;)a.h[985+b]=984+b,b+=2;b=0;a.h[1008]=922;a.h[1009]=929;a.h[1010]=1017;a.h[1011]=895;a.h[1013]=917;a.h[1016]=1015;a.h[1019]=1018;for(c=0;32>c;)d=c++,a.h[1072+d]=1040+d;for(c=0;16>c;)d=c++,a.h[1104+d]=1024+d;for(;34>b;)a.h[1121+b]=1120+b,b+=2;for(b=0;54>b;)a.h[1163+b]=1162+b,
b+=2;for(b=0;14>b;)a.h[1218+b]=1217+b,b+=2;b=0;for(a.h[1231]=1216;96>b;)a.h[1233+b]=1232+b,b+=2;for(c=b=0;38>c;)d=c++,a.h[1377+d]=1329+d;for(c=0;6>c;)d=c++,a.h[5112+d]=5104+d;a.h[7296]=1042;a.h[7297]=1044;a.h[7298]=1054;for(c=0;2>c;)d=c++,a.h[7299+d]=1057+d;a.h[7301]=1058;a.h[7302]=1066;a.h[7303]=1122;a.h[7304]=42570;a.h[7545]=42877;for(a.h[7549]=11363;150>b;)a.h[7681+b]=7680+b,b+=2;b=0;a.h[7830]=72;a.h[7831]=84;a.h[7832]=87;a.h[7833]=89;for(a.h[7835]=7776;96>b;)a.h[7841+b]=7840+b,b+=2;for(c=b=0;8>
c;)d=c++,a.h[7936+d]=7944+d;for(c=0;6>c;)d=c++,a.h[7952+d]=7960+d;for(c=0;8>c;)d=c++,a.h[7968+d]=7976+d;for(c=0;8>c;)d=c++,a.h[7984+d]=7992+d;for(c=0;6>c;)d=c++,a.h[8E3+d]=8008+d;a.h[8016]=933;a.h[8017]=8025;a.h[8018]=933;a.h[8019]=8027;a.h[8020]=933;a.h[8021]=8029;a.h[8022]=933;a.h[8023]=8031;for(c=0;8>c;)d=c++,a.h[8032+d]=8040+d;for(c=0;2>c;)d=c++,a.h[8048+d]=8122+d;for(c=0;4>c;)d=c++,a.h[8050+d]=8136+d;for(c=0;2>c;)d=c++,a.h[8054+d]=8154+d;for(c=0;2>c;)d=c++,a.h[8056+d]=8184+d;for(c=0;2>c;)d=c++,
a.h[8058+d]=8170+d;for(c=0;2>c;)d=c++,a.h[8060+d]=8186+d;for(c=0;8>c;)d=c++,a.h[8064+d]=8072+d;for(c=0;8>c;)d=c++,a.h[8080+d]=8088+d;for(c=0;8>c;)d=c++,a.h[8096+d]=8104+d;for(c=0;3>c;)d=c++,a.h[8112+d]=8120+d;a.h[8115]=8124;a.h[8116]=902;a.h[8118]=913;a.h[8119]=913;a.h[8126]=921;a.h[8130]=8138;a.h[8131]=8140;a.h[8132]=905;a.h[8134]=919;a.h[8135]=919;for(c=0;2>c;)d=c++,a.h[8144+d]=8152+d;a.h[8146]=938;a.h[8147]=938;a.h[8150]=921;a.h[8151]=938;for(c=0;2>c;)d=c++,a.h[8160+d]=8168+d;a.h[8162]=939;a.h[8163]=
939;a.h[8164]=929;a.h[8165]=8172;a.h[8166]=933;a.h[8167]=939;a.h[8178]=8186;a.h[8179]=8188;a.h[8180]=911;a.h[8182]=937;a.h[8183]=937;a.h[8526]=8498;a.h[8580]=8579;for(c=0;47>c;)d=c++,a.h[11312+d]=11264+d;a.h[11361]=11360;a.h[11365]=570;for(a.h[11366]=574;6>b;)a.h[11368+b]=11367+b,b+=2;b=0;a.h[11379]=11378;for(a.h[11382]=11381;100>b;)a.h[11393+b]=11392+b,b+=2;for(b=0;4>b;)a.h[11500+b]=11499+b,b+=2;b=0;a.h[11507]=11506;for(c=0;38>c;)d=c++,a.h[11520+d]=4256+d;a.h[11559]=4295;for(a.h[11565]=4301;46>b;)a.h[42561+
b]=42560+b,b+=2;for(b=0;28>b;)a.h[42625+b]=42624+b,b+=2;for(b=0;14>b;)a.h[42787+b]=42786+b,b+=2;for(b=0;62>b;)a.h[42803+b]=42802+b,b+=2;for(b=0;4>b;)a.h[42874+b]=42873+b,b+=2;for(b=0;10>b;)a.h[42879+b]=42878+b,b+=2;b=0;for(a.h[42892]=42891;4>b;)a.h[42897+b]=42896+b,b+=2;for(b=0;20>b;)a.h[42903+b]=42902+b,b+=2;for(b=0;4>b;)a.h[42933+b]=42932+b,b+=2;a.h[43859]=42931;for(b=0;80>b;)c=b++,a.h[43888+c]=5024+c;for(b=0;26>b;)c=b++,a.h[65345+c]=65313+c;for(b=0;40>b;)c=b++,a.h[66600+c]=66560+c;for(b=0;36>b;)c=
b++,a.h[66776+c]=66736+c;for(b=0;51>b;)c=b++,a.h[68800+c]=68736+c;for(b=0;32>b;)c=b++,a.h[71872+c]=71840+c;for(b=0;34>b;)c=b++,a.h[125218+c]=125184+c};var Ug={};m["lime.text.unifill._CodePoint.CodePoint_Impl_"]=Ug;Ug.__name__=["lime","text","unifill","_CodePoint","CodePoint_Impl_"];Ug.fromInt=function(a){if(!(0<=a&&1114111>=a)||55296<=a&&56319>=a||56320<=a&&57343>=a)throw new H(new wh(a));return a};Ug.cons=function(a,b){return(65535>=a?String.fromCharCode(a):String.fromCharCode((a>>10)+55232)+String.fromCharCode(a&
1023|56320))+b};Ug.snoc=function(a,b){var c;c=65535>=b?String.fromCharCode(b):String.fromCharCode((b>>10)+55232)+String.fromCharCode(b&1023|56320);return a+c};Ug.addInt=function(a,b){var c=a+b;if(!(0<=c&&1114111>=c)||55296<=c&&56319>=c||56320<=c&&57343>=c)throw new H(new wh(c));return c};Ug.sub=function(a,b){return a-b};Ug.subInt=function(a,b){var c=a-b;if(!(0<=c&&1114111>=c)||55296<=c&&56319>=c||56320<=c&&57343>=c)throw new H(new wh(c));return c};Ug._new=function(a){return a};Ug.toString=function(a){return 65535>=
a?String.fromCharCode(a):String.fromCharCode((a>>10)+55232)+String.fromCharCode(a&1023|56320)};Ug.toInt=function(a){return a};var xr=function(a){this.i=0;this.string=a;this.index=0;this.endIndex=a.length};m["lime.text.unifill.CodePointIter"]=xr;xr.__name__=["lime","text","unifill","CodePointIter"];xr.prototype={string:null,index:null,endIndex:null,hasNext:function(){return this.index<this.endIndex},i:null,next:function(){var a=this.i=this.index,b=this.string.charCodeAt(this.index);this.index=a+(55296<=
b&&56319>=b?2:1);return Sb.codePointAt(this.string,this.i)},__class__:xr};var uj=function(){};m["lime.text.unifill.Exception"]=uj;uj.__name__=["lime","text","unifill","Exception"];uj.prototype={toString:function(){throw new H(null);},__class__:uj};var wh=function(a){this.code=a};m["lime.text.unifill.InvalidCodePoint"]=wh;wh.__name__=["lime","text","unifill","InvalidCodePoint"];wh.__super__=uj;wh.prototype=z(uj.prototype,{code:null,toString:function(){return"InvalidCodePoint(code: "+this.code+")"},
__class__:wh});var xh=function(a){this.index=a};m["lime.text.unifill.InvalidCodeUnitSequence"]=xh;xh.__name__=["lime","text","unifill","InvalidCodeUnitSequence"];xh.__super__=uj;xh.prototype=z(uj.prototype,{index:null,toString:function(){return"InvalidCodeUnitSequence(index: "+this.index+")"},__class__:xh});var Le=function(){};m["lime.text.unifill.InternalEncoding"]=Le;Le.__name__=["lime","text","unifill","InternalEncoding"];Le.__properties__={get_internalEncoding:"get_internalEncoding"};Le.get_internalEncoding=
function(){return"UTF-16"};Le.codeUnitAt=function(a,b){return a.charCodeAt(b)};Le.codePointAt=function(a,b){return Sb.codePointAt(a,b)};Le.charAt=function(a,b){var c=a.charCodeAt(b);return da.substr(a,b,55296<=c&&56319>=c?2:1)};Le.codePointCount=function(a,b,c){return Sb.codePointCount(a,b,c)};Le.codePointWidthAt=function(a,b){var c=a.charCodeAt(b);return 55296<=c&&56319>=c?2:1};Le.codePointWidthBefore=function(a,b){var c=a.charCodeAt(b-1);return 56320<=c&&57343>=c?2:1};Le.offsetByCodePoints=function(a,
b,c){if(0<=c){for(var d=a.length,e=0;e<c&&b<d;){var f=a.charCodeAt(b);b+=55296<=f&&56319>=f?2:1;++e}return b}for(d=0;d<-c&&0<b;)e=a.charCodeAt(b-1),b-=56320<=e&&57343>=e?2:1,++d;return b};Le.backwardOffsetByCodePoints=function(a,b,c){c=-c;if(0<=c){for(var d=a.length,e=0;e<c&&b<d;){var f=a.charCodeAt(b);b+=55296<=f&&56319>=f?2:1;++e}return b}for(d=0;d<-c&&0<b;)e=a.charCodeAt(b-1),b-=56320<=e&&57343>=e?2:1,++d;return b};Le.fromCodePoint=function(a){return 65535>=a?String.fromCharCode(a):String.fromCharCode((a>>
10)+55232)+String.fromCharCode(a&1023|56320)};Le.fromCodePoints=function(a){var b=new $e;for(a=hs(a)();a.hasNext();){var c=a.next();65535>=c?b.b+=String.fromCharCode(c):(b.b+=String.fromCharCode((c>>10)+55232),b.b+=String.fromCharCode(c&1023|56320))}return b.b};Le.validate=function(a){Sb.validate(a)};Le.isValidString=function(a){try{return Sb.validate(a),!0}catch(b){Qa.lastException=b;b instanceof H&&(b=b.val);if(y.__instanceof(b,xh))return!1;throw b;}};Le.encodeWith=function(a,b){65535>=b?a(b):(a((b>>
10)+55232),a(b&1023|56320))};var Us=function(a,b,c){this.i=0;this.string=a;this.index=b;this.endIndex=c};m["lime.text.unifill.InternalEncodingIter"]=Us;Us.__name__=["lime","text","unifill","InternalEncodingIter"];Us.prototype={string:null,index:null,endIndex:null,hasNext:function(){return this.index<this.endIndex},i:null,next:function(){var a=this.i=this.index,b=this.string.charCodeAt(this.index);this.index=a+(55296<=b&&56319>=b?2:1);return this.i},__class__:Us};var rf=function(){};m["lime.text.unifill.Unicode"]=
rf;rf.__name__=["lime","text","unifill","Unicode"];rf.decodeSurrogate=function(a,b){return a-55232<<10|b&1023};rf.encodeHighSurrogate=function(a){return(a>>10)+55232};rf.encodeLowSurrogate=function(a){return a&1023|56320};rf.isScalar=function(a){return 0<=a&&1114111>=a&&!(55296<=a&&56319>=a)?!(56320<=a&&57343>=a):!1};rf.isHighSurrogate=function(a){return 55296<=a?56319>=a:!1};rf.isLowSurrogate=function(a){return 56320<=a?57343>=a:!1};var be=function(){};m["lime.text.unifill.Unifill"]=be;be.__name__=
["lime","text","unifill","Unifill"];be.uLength=function(a){return Sb.codePointCount(a,0,a.length)};be.uCharAt=function(a,b){var c;if(0<=b){c=0;for(var d=a.length,e=0;e<b&&c<d;){var f=a.charCodeAt(c);c+=55296<=f&&56319>=f?2:1;++e}}else for(d=c=0;d<-b&&0<c;)e=a.charCodeAt(c-1),c-=56320<=e&&57343>=e?2:1,++d;d=a.charCodeAt(c);return da.substr(a,c,55296<=d&&56319>=d?2:1)};be.uCharCodeAt=function(a,b){var c;if(0<=b){c=0;for(var d=a.length,e=0;e<b&&c<d;){var f=a.charCodeAt(c);c+=55296<=f&&56319>=f?2:1;++e}}else for(d=
c=0;d<-b&&0<c;)e=a.charCodeAt(c-1),c-=56320<=e&&57343>=e?2:1,++d;return Sb.codePointAt(a,c)};be.uCodePointAt=function(a,b){var c;if(0<=b){c=0;for(var d=a.length,e=0;e<b&&c<d;){var f=a.charCodeAt(c);c+=55296<=f&&56319>=f?2:1;++e}}else for(d=c=0;d<-b&&0<c;)e=a.charCodeAt(c-1),c-=56320<=e&&57343>=e?2:1,++d;return Sb.codePointAt(a,c)};be.uIndexOf=function(a,b,c){null==c&&(c=0);if(0<=c)for(var d=0,e=a.length,f=0;f<c&&d<e;){var k=a.charCodeAt(d),d=d+(55296<=k&&56319>=k?2:1);++f}else for(e=d=0;e<-c&&0<d;)f=
a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d;b=a.indexOf(b,c);return 0<=b?Sb.codePointCount(a,0,b):-1};be.uLastIndexOf=function(a,b,c){null==c&&(c=a.length-1);if(0<=c)for(var d=0,e=a.length,f=0;f<c&&d<e;){var k=a.charCodeAt(d),d=d+(55296<=k&&56319>=k?2:1);++f}else for(e=d=0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d;b=a.lastIndexOf(b,c);return 0<=b?Sb.codePointCount(a,0,b):-1};be.uSplit=function(a,b){if(0==b.length){var c=[],d,e,f;d=0;for(f=a.length;d<f;){e=d;var k=a.charCodeAt(d);
d+=55296<=k&&56319>=k?2:1;var k=a,h=k.charCodeAt(e);e=da.substr(k,e,55296<=h&&56319>=h?2:1);c.push(e)}return c}return a.split(b)};be.uSubstr=function(a,b,c){var d=0<=b?0:a.length;if(0<=b)for(var e=a.length,f=0;f<b&&d<e;){var k=a.charCodeAt(d),d=d+(55296<=k&&56319>=k?2:1);++f}else for(e=0;e<-b&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;b=d;if(null==c)c=a.length;else if(0>c)c=b;else{if(0<=c)for(d=b,e=a.length,f=0;f<c&&d<e;)k=a.charCodeAt(d),d+=55296<=k&&56319>=k?2:1,++f;else for(d=b,e=
0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d}return a.substring(b,c)};be.uSubstring=function(a,b,c){if(0>b)b=0;else{if(0<=b)for(var d=0,e=a.length,f=0;f<b&&d<e;){var k=a.charCodeAt(d),d=d+(55296<=k&&56319>=k?2:1);++f}else for(e=d=0;e<-b&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;b=d}if(null==c)c=a.length;else if(0>c)c=0;else{if(0<=c)for(d=0,e=a.length,f=0;f<c&&d<e;)k=a.charCodeAt(d),d+=55296<=k&&56319>=k?2:1,++f;else for(e=d=0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=
f&&57343>=f?2:1,++e;c=d}return a.substring(b,c)};be.uIterator=function(a){return new xr(a)};be.uCompare=function(a,b){var c,d,e;c=0;e=a.length;var f,k,h;f=0;for(h=b.length;c<e&&f<h;){d=c;k=a.charCodeAt(c);c+=55296<=k&&56319>=k?2:1;d=Sb.codePointAt(a,d);k=f;var g=b.charCodeAt(f);f+=55296<=g&&56319>=g?2:1;k=Sb.codePointAt(b,k);if(d<k)return-1;if(d>k)return 1}return f<h?-1:c<e?1:0};be.uToString=function(a){var b=new $e;for(a=hs(a)();a.hasNext();){var c=a.next();65535>=c?b.b+=String.fromCharCode(c):(b.b+=
String.fromCharCode((c>>10)+55232),b.b+=String.fromCharCode(c&1023|56320))}return b.b};be.uAddChar=function(a,b){65535>=b?a.b+=String.fromCharCode(b):(a.b+=String.fromCharCode((b>>10)+55232),a.b+=String.fromCharCode(b&1023|56320))};var Sb={};m["lime.text.unifill._Utf16.Utf16_Impl_"]=Sb;Sb.__name__=["lime","text","unifill","_Utf16","Utf16_Impl_"];Sb.__properties__={get_length:"get_length"};Sb.fromCodePoint=function(a){return 65535>=a?String.fromCharCode(a):String.fromCharCode((a>>10)+55232)+String.fromCharCode(a&
1023|56320)};Sb.fromCodePoints=function(a){var b=new $e;for(a=hs(a)();a.hasNext();){var c=a.next();65535>=c?b.b+=String.fromCharCode(c):(b.b+=String.fromCharCode((c>>10)+55232),b.b+=String.fromCharCode(c&1023|56320))}return b.b};Sb.fromString=function(a){return a};Sb.fromArray=function(a){for(var b="",c=0;c<a.length;){var d=a[c];++c;b+=String.fromCharCode(d)}return b};Sb.encodeWith=function(a,b){65535>=b?a(b):(a((b>>10)+55232),a(b&1023|56320))};Sb.codeUnitAt=function(a,b){return a.charCodeAt(b)};
Sb.codePointAt=function(a,b){return vj.decode_code_point(a.length,function(b){return a.charCodeAt(b)},b)};Sb.charAt=function(a,b){var c=a.charCodeAt(b);return da.substr(a,b,55296<=c&&56319>=c?2:1)};Sb.codePointCount=function(a,b,c){for(var d=0;b<c;){var e=a.charCodeAt(b);b+=55296<=e&&56319>=e?2:1;++d}return d};Sb.codePointWidthAt=function(a,b){var c=a.charCodeAt(b);return 55296<=c&&56319>=c?2:1};Sb.codePointWidthBefore=function(a,b){var c=a.charCodeAt(b-1);return 56320<=c&&57343>=c?2:1};Sb.offsetByCodePoints=
function(a,b,c){if(0<=c){for(var d=a.length,e=0;e<c&&b<d;){var f=a.charCodeAt(b);b+=55296<=f&&56319>=f?2:1;++e}return b}for(d=0;d<-c&&0<b;)e=a.charCodeAt(b-1),b-=56320<=e&&57343>=e?2:1,++d;return b};Sb.substr=function(a,b,c){return da.substr(a,b,c)};Sb.validate=function(a){for(var b=a.length,c=function(b){return a.charCodeAt(b)},d=0;d<b;){vj.decode_code_point(b,c,d);var e=a.charCodeAt(d),d=d+(55296<=e&&56319>=e?2:1)}};Sb.toString=function(a){return a};Sb.toArray=function(a){for(var b=0,c=a.length,
d=[];b<c;)d.push(a.charCodeAt(b++));return d};Sb._new=function(a){return a};Sb.get_length=function(a){return a.length};Sb.forward_offset_by_code_points=function(a,b,c){for(var d=a.length,e=0;e<c&&b<d;){var f=a.charCodeAt(b);b+=55296<=f&&56319>=f?2:1;++e}return b};Sb.backward_offset_by_code_points=function(a,b,c){for(var d=0;d<c&&0<b;){var e=a.charCodeAt(b-1);b-=56320<=e&&57343>=e?2:1;++d}return b};var vj=function(){};m["lime.text.unifill._Utf16.Utf16Impl"]=vj;vj.__name__=["lime","text","unifill",
"_Utf16","Utf16Impl"];vj.code_point_width=function(a){return 55296<=a&&56319>=a?2:1};vj.find_prev_code_point=function(a,b){var c=a(b-1);return 56320<=c&&57343>=c?2:1};vj.encode_code_point=function(a,b){65535>=b?a(b):(a((b>>10)+55232),a(b&1023|56320))};vj.decode_code_point=function(a,b,c){if(0>c||a<=c)throw new H(new xh(c));var d=b(c);if(55296<=d&&56319>=d){if(0>c+1||a<=c+1)throw new H(new xh(c));a=b(c+1);if(56320<=a&&57343>=a)return d-55232<<10|a&1023;throw new H(new xh(c));}if(56320<=d&&57343>=d)throw new H(new xh(c));
return d};var yr={};m["lime.text.unifill._Utf16.StringU16Buffer_Impl_"]=yr;yr.__name__=["lime","text","unifill","_Utf16","StringU16Buffer_Impl_"];yr._new=function(){return new $e};yr.addUnit=function(a,b){a.b+=String.fromCharCode(b)};yr.getStringU16=function(a){return a.b};var sf={};m["lime.text.unifill._Utf16.StringU16_Impl_"]=sf;sf.__name__=["lime","text","unifill","_Utf16","StringU16_Impl_"];sf.__properties__={get_length:"get_length"};sf.fromString=function(a){return a};sf.fromCodeUnit=function(a){return String.fromCharCode(a)};
sf.fromTwoCodeUnits=function(a,b){return String.fromCharCode(a)+String.fromCharCode(b)};sf.ofArray=function(a){for(var b="",c=0;c<a.length;){var d=a[c];++c;b+=String.fromCharCode(d)}return b};sf.fromArray=function(a){for(var b="",c=0;c<a.length;){var d=a[c];++c;b+=String.fromCharCode(d)}return b};sf.codeUnitAt=function(a,b){return a.charCodeAt(b)};sf.substr=function(a,b,c){return da.substr(a,b,c)};sf.toString=function(a){return a};sf.toArray=function(a){for(var b=0,c=a.length,d=[];b<c;)d.push(a.charCodeAt(b++));
return d};sf._new=function(a){return a};sf.get_length=function(a){return a.length};var Qc=function(a){this.onDisconnect=new fd;this.onButtonUp=new so;this.onButtonDown=new so;this.onAxisMove=new jr;this.id=a;this.connected=!0};m["lime.ui.Gamepad"]=Qc;Qc.__name__=["lime","ui","Gamepad"];Qc.addMappings=function(a){};Qc.__connect=function(a){if(!Qc.devices.h.hasOwnProperty(a)){var b=new Qc(a);Qc.devices.h[a]=b;Qc.onConnect.dispatch(b)}};Qc.__disconnect=function(a){var b=Qc.devices.h[a];null!=b&&(b.connected=
!1);Qc.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};Qc.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,get_guid:function(){return ic.__getDeviceData()[this.id].id},get_name:function(){return ic.__getDeviceData()[this.id].id},__class__:Qc,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var mi={};m["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=mi;mi.__name__=["lime","ui","_GamepadAxis","GamepadAxis_Impl_"];mi.toString=function(a){switch(a){case 0:return"LEFT_X";
case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+a+")"}};var Ae={};m["lime.ui._GamepadButton.GamepadButton_Impl_"]=Ae;Ae.__name__=["lime","ui","_GamepadButton","GamepadButton_Impl_"];Ae.toString=function(a){switch(a){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";
case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+a+")"}};var ic=function(a){this.onTrackballMove=new er;this.onHatMove=new gr;this.onDisconnect=new fd;this.onButtonUp=new zi;this.onButtonDown=new zi;this.onAxisMove=new fr;this.id=a;this.connected=!0};m["lime.ui.Joystick"]=ic;ic.__name__=["lime","ui","Joystick"];ic.__connect=function(a){if(!ic.devices.h.hasOwnProperty(a)){var b=
new ic(a);ic.devices.h[a]=b;ic.onConnect.dispatch(b)}};ic.__disconnect=function(a){var b=ic.devices.h[a];null!=b&&(b.connected=!1);ic.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};ic.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};ic.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,get_guid:function(){return ic.__getDeviceData()[this.id].id},
get_name:function(){return ic.__getDeviceData()[this.id].id},get_numAxes:function(){return ic.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return ic.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:ic,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var rd={};m["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=
rd;rd.__name__=["lime","ui","_JoystickHatPosition","JoystickHatPosition_Impl_"];rd.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"};rd._new=function(a){return a};rd.get_center=function(a){return 0==a};rd.set_center=function(a,b){return b};rd.get_down=function(a){return 0<(a&4)};rd.set_down=function(a,b){return b};rd.get_left=function(a){return 0<
(a&8)};rd.set_left=function(a,b){return b};rd.get_right=function(a){return 0<(a&2)};rd.set_right=function(a,b){return b};rd.get_up=function(a){return 0<(a&1)};rd.set_up=function(a,b){return b};var P={};m["lime.ui._KeyCode.KeyCode_Impl_"]=P;P.__name__=["lime","ui","_KeyCode","KeyCode_Impl_"];P.fromScanCode=function(a){return 0};P.toScanCode=function(a){return 0};P.gt=function(a,b){return a>b};P.gte=function(a,b){return a>=b};P.lt=function(a,b){return a<b};P.lte=function(a,b){return a<=b};P.plus=function(a,
b){return a+b};var ib={};m["lime.ui._KeyModifier.KeyModifier_Impl_"]=ib;ib.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"];ib.__properties__={set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"};ib.get_altKey=function(a){return 0>=
(a&256)?0<(a&512):!0};ib.set_altKey=function(a,b){return b};ib.get_capsLock=function(a){return 0>=(a&8192)?0<(a&8192):!0};ib.set_capsLock=function(a,b){return b};ib.get_ctrlKey=function(a){return 0>=(a&64)?0<(a&128):!0};ib.set_ctrlKey=function(a,b){return b};ib.get_metaKey=function(a){return 0>=(a&1024)?0<(a&2048):!0};ib.set_metaKey=function(a,b){return b};ib.get_numLock=function(a){return 0>=(a&4096)?0<(a&4096):!0};ib.set_numLock=function(a,b){return b};ib.get_shiftKey=function(a){return 0>=(a&1)?
0<(a&2):!0};ib.set_shiftKey=function(a,b){return b};var Zc=function(){};m["lime.ui.Mouse"]=Zc;Zc.__name__=["lime","ui","Mouse"];Zc.__properties__={set_lock:"set_lock",get_lock:"get_lock",set_cursor:"set_cursor",get_cursor:"get_cursor"};Zc.hide=function(){Gc.hide()};Zc.show=function(){Gc.show()};Zc.warp=function(a,b,c){Gc.warp(a,b,c)};Zc.get_cursor=function(){return Gc.get_cursor()};Zc.set_cursor=function(a){return Gc.set_cursor(a)};Zc.get_lock=function(){return Gc.get_lock()};Zc.set_lock=function(a){return Gc.set_lock(a)};
var Ia=m["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};Ia.ARROW=["ARROW",0];Ia.ARROW.toString=U;Ia.ARROW.__enum__=Ia;Ia.CROSSHAIR=["CROSSHAIR",1];Ia.CROSSHAIR.toString=U;Ia.CROSSHAIR.__enum__=Ia;Ia.DEFAULT=["DEFAULT",2];Ia.DEFAULT.toString=U;Ia.DEFAULT.__enum__=Ia;Ia.MOVE=["MOVE",3];Ia.MOVE.toString=U;Ia.MOVE.__enum__=Ia;Ia.POINTER=["POINTER",4];
Ia.POINTER.toString=U;Ia.POINTER.__enum__=Ia;Ia.RESIZE_NESW=["RESIZE_NESW",5];Ia.RESIZE_NESW.toString=U;Ia.RESIZE_NESW.__enum__=Ia;Ia.RESIZE_NS=["RESIZE_NS",6];Ia.RESIZE_NS.toString=U;Ia.RESIZE_NS.__enum__=Ia;Ia.RESIZE_NWSE=["RESIZE_NWSE",7];Ia.RESIZE_NWSE.toString=U;Ia.RESIZE_NWSE.__enum__=Ia;Ia.RESIZE_WE=["RESIZE_WE",8];Ia.RESIZE_WE.toString=U;Ia.RESIZE_WE.__enum__=Ia;Ia.TEXT=["TEXT",9];Ia.TEXT.toString=U;Ia.TEXT.__enum__=Ia;Ia.WAIT=["WAIT",10];Ia.WAIT.toString=U;Ia.WAIT.__enum__=Ia;Ia.WAIT_ARROW=
["WAIT_ARROW",11];Ia.WAIT_ARROW.toString=U;Ia.WAIT_ARROW.__enum__=Ia;Ia.CUSTOM=["CUSTOM",12];Ia.CUSTOM.toString=U;Ia.CUSTOM.__enum__=Ia;Ia.__empty_constructs__=[Ia.ARROW,Ia.CROSSHAIR,Ia.DEFAULT,Ia.MOVE,Ia.POINTER,Ia.RESIZE_NESW,Ia.RESIZE_NS,Ia.RESIZE_NWSE,Ia.RESIZE_WE,Ia.TEXT,Ia.WAIT,Ia.WAIT_ARROW,Ia.CUSTOM];var V={};m["lime.ui._ScanCode.ScanCode_Impl_"]=V;V.__name__=["lime","ui","_ScanCode","ScanCode_Impl_"];V.fromKeyCode=function(a){return P.toScanCode(a)};V.toKeyCode=function(a){return P.fromScanCode(a)};
V.gt=function(a,b){return a>b};V.gte=function(a,b){return a>=b};V.lt=function(a,b){return a<b};V.lte=function(a,b){return a<=b};V.plus=function(a,b){return a+b};var wd=function(a,b,c,d,e,f,k){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=k};m["lime.ui.Touch"]=wd;wd.__name__=["lime","ui","Touch"];wd.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:wd};var Kh=function(a){this.onTextInput=new ro;this.onTextEdit=new hr;this.onRestore=new fd;
this.onResize=new po;this.onMove=new tj;this.onMouseWheel=new tj;this.onMouseUp=new qo;this.onMouseMoveRelative=new tj;this.onMouseMove=new tj;this.onMouseDown=new qo;this.onMinimize=new fd;this.onLeave=new fd;this.onKeyUp=new to;this.onKeyDown=new to;this.onFullscreen=new fd;this.onFocusOut=new fd;this.onFocusIn=new fd;this.onEnter=new fd;this.onDropFile=new ro;this.onDeactivate=new fd;this.onCreate=new fd;this.onClose=new fd;this.onActivate=new fd;this.config=a;this.__height=this.__width=0;this.__fullscreen=
!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),
Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new eb(this)};m["lime.ui.Window"]=Kh;Kh.__name__=["lime","ui","Window"];Kh.prototype={application:null,config:null,display:null,id:null,onActivate:null,onClose:null,onCreate:null,onDeactivate:null,onDropFile:null,onEnter:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,
onMove:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,renderer:null,scale:null,stage:null,backend:null,__borderless:null,__fullscreen:null,__height:null,__maximized:null,__minimized:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,alert:function(a,b){this.backend.alert(a,b)},close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},focus:function(){this.backend.focus()},
move:function(a,b){this.backend.move(a,b);this.__x=a;this.__y=b},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},setIcon:function(a){null!=a&&this.backend.setIcon(a)},toString:function(){return"[object Window]"},get_display:function(){return this.backend.getDisplay()},get_displayMode:function(){return this.backend.getDisplayMode()},set_displayMode:function(a){return this.backend.setDisplayMode(a)},get_borderless:function(){return this.__borderless},set_borderless:function(a){return this.__borderless=
this.backend.setBorderless(a)},get_enableTextEvents:function(){return this.backend.getEnableTextEvents()},set_enableTextEvents:function(a){return this.backend.setEnableTextEvents(a)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},get_height:function(){return this.__height},set_height:function(a){this.resize(this.__width,a);return this.__height},get_maximized:function(){return this.__maximized},set_maximized:function(a){this.__minimized=
!1;return this.__maximized=this.backend.setMaximized(a)},get_minimized:function(){return this.__minimized},set_minimized:function(a){this.__maximized=!1;return this.__minimized=this.backend.setMinimized(a)},get_resizable:function(){return this.__resizable},set_resizable:function(a){return this.__resizable=this.backend.setResizable(a)},get_scale:function(){return this.__scale},get_title:function(){return this.__title},set_title:function(a){return this.__title=this.backend.setTitle(a)},get_width:function(){return this.__width},
set_width:function(a){this.resize(a,this.__height);return this.__width},get_x:function(){return this.__x},set_x:function(a){this.move(a,this.__y);return this.__x},get_y:function(){return this.__y},set_y:function(a){this.move(this.__x,a);return this.__y},__class__:Kh,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",
set_minimized:"set_minimized",get_minimized:"get_minimized",set_maximized:"set_maximized",get_maximized:"get_maximized",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_enableTextEvents:"set_enableTextEvents",get_enableTextEvents:"get_enableTextEvents",set_displayMode:"set_displayMode",get_displayMode:"get_displayMode",get_display:"get_display",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var zo=m["lime.utils.TAError"]=
{__ename__:["lime","utils","TAError"],__constructs__:["RangeError"]};zo.RangeError=["RangeError",0];zo.RangeError.toString=U;zo.RangeError.__enum__=zo;zo.__empty_constructs__=[zo.RangeError];var zr=function(){this.enabled=!0;this.audio=new qa;this.font=new qa;this.image=new qa;this.version=974659};m["lime.utils.AssetCache"]=zr;zr.__name__=["lime","utils","AssetCache"];zr.prototype={audio:null,enabled:null,image:null,font:null,version:null,exists:function(a,b){if("IMAGE"==b||null==b){var c=this.image;
if(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0}if("FONT"==b||null==b)if(c=this.font,null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;if("SOUND"==b||"MUSIC"==b||null==b)if(c=this.audio,null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;return!1},set:function(a,b,c){switch(b){case "FONT":this.font.set(a,c);break;case "IMAGE":if(!y.__instanceof(c,db))throw new H("Cannot cache non-Image asset: "+h.string(c)+" as Image");this.image.set(a,c);break;case "MUSIC":case "SOUND":if(!y.__instanceof(c,
Yc))throw new H("Cannot cache non-AudioBuffer asset: "+h.string(c)+" as AudioBuffer");this.audio.set(a,c);break;default:throw new H(b+" assets are not cachable");}},clear:function(a){if(null==a)this.audio=new qa,this.font=new qa,this.image=new qa;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();Da.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),Da.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),Da.startsWith(c,
a)&&this.image.remove(c)}},__class__:zr};var Rc=function(){this.types=new qa;this.sizes=new qa;this.preload=new qa;this.paths=new qa;this.pathGroups=new qa;this.classTypes=new qa;this.cachedText=new qa;this.cachedImages=new qa;this.cachedFonts=new qa;this.cachedBytes=new qa;this.cachedAudioBuffers=new qa;this.onChange=new fd;this.bytesTotal=this.bytesLoaded=0};m["lime.utils.AssetLibrary"]=Rc;Rc.__name__=["lime","utils","AssetLibrary"];Rc.fromBytes=function(a,b){return Rc.fromManifest(sc.fromBytes(a,
b))};Rc.fromFile=function(a,b){return Rc.fromManifest(sc.fromFile(a,b))};Rc.fromManifest=function(a){if(null==a)return null;var b=null;if(null==a.libraryType)b=new Rc;else if(b=La.resolveClass(a.libraryType),null!=b)b=La.createInstance(b,a.libraryArgs);else return rb.warn("Could not find library type: "+a.libraryType,{fileName:"AssetLibrary.hx",lineNumber:138,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;b.__fromManifest(a);return b};Rc.loadFromBytes=function(a,b){return sc.loadFromBytes(a,
b).then(function(a){return Rc.loadFromManifest(a)})};Rc.loadFromFile=function(a,b){return sc.loadFromFile(a,b).then(function(a){return Rc.loadFromManifest(a)})};Rc.loadFromManifest=function(a){a=Rc.fromManifest(a);return null!=a?a.load():hb.withError("Could not load asset manifest")};Rc.prototype={onChange:null,assetsLoaded:null,assetsTotal:null,bytesLoaded:null,bytesLoadedCache:null,bytesTotal:null,cachedAudioBuffers:null,cachedBytes:null,cachedFonts:null,cachedImages:null,cachedText:null,classTypes:null,
loaded:null,pathGroups:null,paths:null,preload:null,promise:null,sizes:null,types:null,exists:function(a,b){var c=null!=b?y.__cast(b,String):null,d=this.types,d=null!=t[a]?d.getReserved(a):d.h[a];return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getAsset:function(a,b){switch(b){case "BINARY":return this.getBytes(a);case "FONT":return this.getFont(a);case "IMAGE":return this.getImage(a);case "MUSIC":case "SOUND":return this.getAudioBuffer(a);
case "TEMPLATE":throw new H("Not sure how to get template: "+a);case "TEXT":return this.getText(a);default:throw new H("Unknown asset type: "+b);}},getAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,null!=t[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,Yc.fromBytes(y.__cast(La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],
[]),ab));b=this.paths;return Yc.fromFile(null!=t[a]?b.getReserved(a):b.h[a])},getBytes:function(a){var b=this.cachedBytes;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,null!=t[a]?b.getReserved(a):b.h[a];b=this.cachedText;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)){var b=this.cachedText,b=qd.ofString(null!=t[a]?b.getReserved(a):b.h[a]),c=this.cachedBytes;null!=t[a]?c.setReserved(a,b):c.h[a]=b;return b}b=this.classTypes;if(null!=t[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],[]),ab);b=this.paths;return qd.fromFile(null!=t[a]?b.getReserved(a):b.h[a])},getFont:function(a){var b=this.cachedFonts;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,null!=t[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],
[]),Ic);b=this.paths;return Ic.fromFile(null!=t[a]?b.getReserved(a):b.h[a])},getImage:function(a){var b=this.cachedImages;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,null!=t[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],[]),db);b=this.paths;return db.fromFile(null!=t[a]?b.getReserved(a):b.h[a])},getPath:function(a){var b=
this.paths;return null!=t[a]?b.getReserved(a):b.h[a]},getText:function(a){var b=this.cachedText;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,null!=t[a]?b.getReserved(a):b.h[a];a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){var c=this.classTypes;if(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;switch(null!=b?y.__cast(b,String):null){case "IMAGE":return this.cachedImages.exists(a);case "MUSIC":case "SOUND":return this.cachedAudioBuffers.exists(a);
default:return this.cachedBytes.exists(a)?!0:this.cachedText.exists(a)}},list:function(a){for(var b=null!=a?y.__cast(a,String):null,c=[],d=this.types.keys();d.hasNext();){var e=d.next();(null==b||this.exists(e,a))&&c.push(e)}return c},loadAsset:function(a,b){switch(b){case "BINARY":return this.loadBytes(a);case "FONT":return this.loadFont(a);case "IMAGE":return this.loadImage(a);case "MUSIC":case "SOUND":return this.loadAudioBuffer(a);case "TEMPLATE":throw new H("Not sure how to load template: "+
a);case "TEXT":return this.loadText(a);default:throw new H("Unknown asset type: "+b);}},load:function(){if(this.loaded)return hb.withValue(this);if(null==this.promise){this.promise=new jd;this.bytesLoadedCache=new qa;this.assetsLoaded=0;this.assetsTotal=1;for(var a=this.preload.keys();a.hasNext();){var b=a.next(),c=this.preload;if(null!=t[b]?c.getReserved(b):c.h[b])if(c=this.types,rb.verbose("Preloading asset: "+b+" ["+(null!=t[b]?c.getReserved(b):c.h[b])+"]",{fileName:"AssetLibrary.hx",lineNumber:434,
className:"lime.utils.AssetLibrary",methodName:"load"}),c=this.types.get(b),null!=c)switch(c){case "BINARY":this.assetsTotal++;c=this.loadBytes(b);c.onProgress(function(a,b){return function(c,k){b[0](a[0],c,k)}}([b],[u(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.loadBytes_onComplete)]));break;case "FONT":this.assetsTotal++;c=this.loadFont(b);c.onProgress(function(a,
b){return function(c,k){b[0](a[0],c,k)}}([b],[u(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.loadFont_onComplete)]));break;case "IMAGE":this.assetsTotal++;c=this.loadImage(b);c.onProgress(function(a,b){return function(c,k){b[0](a[0],c,k)}}([b],[u(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,
this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.loadImage_onComplete)]));break;case "MUSIC":case "SOUND":this.assetsTotal++;c=this.loadAudioBuffer(b);c.onProgress(function(a,b){return function(c,k){b[0](a[0],c,k)}}([b],[u(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.loadAudioBuffer_onComplete)]));
break;case "TEXT":this.assetsTotal++,c=this.loadText(b),c.onProgress(function(a,b){return function(c,k){b[0](a[0],c,k)}}([b],[u(this,this.load_onProgress)])),c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.load_onError)])),c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[u(this,this.loadText_onComplete)]))}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=
this.cachedAudioBuffers,hb.withValue(null!=t[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,hb.withValue(La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],[]));b=this.pathGroups;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.pathGroups,Yc.loadFromFiles(null!=t[a]?b.getReserved(a):b.h[a]);b=this.paths;return Yc.loadFromFile(null!=t[a]?b.getReserved(a):b.h[a])},loadBytes:function(a){var b=this.cachedBytes;
if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,hb.withValue(null!=t[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,hb.withValue(La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return qd.loadFromFile(null!=t[a]?b.getReserved(a):b.h[a])},loadFont:function(a){var b=this.cachedFonts;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,hb.withValue(null!=
t[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,a=La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],[]),Ic.loadFromName(a.name);b=this.paths;return Ic.loadFromName(null!=t[a]?b.getReserved(a):b.h[a])},loadImage:function(a){var b=this.cachedImages;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,hb.withValue(null!=t[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=t[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))return b=this.classTypes,hb.withValue(La.createInstance(null!=t[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return db.loadFromFile(null!=t[a]?b.getReserved(a):b.h[a])},loadText:function(a){var b=this.cachedText;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,hb.withValue(null!=t[a]?b.getReserved(a):b.h[a]);b=this.cachedBytes;(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?b=!0:(b=this.classTypes,b=null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a));
if(b){b=this.getBytes(a);if(null==b)return hb.withValue(null);var b=b.getString(0,b.length),c=this.cachedText;null!=t[a]?c.setReserved(a,b):c.h[a]=b;return hb.withValue(b)}b=new nl;c=this.paths;return b.load(null!=t[a]?c.getReserved(a):c.h[a])},unload:function(){},__assetLoaded:function(a){this.assetsLoaded++;if(null!=a){var b=this.types;rb.verbose("Loaded asset: "+a+" ["+(null!=t[a]?b.getReserved(a):b.h[a])+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"AssetLibrary.hx",lineNumber:680,
className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"})}if(null!=a){var b=this.sizes,b=null!=t[a]?b.getReserved(a):b.h[a],c=this.bytesLoadedCache;(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=t[a]?c.getReserved(a):c.h[a],c<b&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=t[a]?c.setReserved(a,b):c.h[a]=b}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,
this.bytesTotal),this.promise.complete(this))},__fromManifest:function(a){var b=2<=a.version,c,d,e,f,k=a.rootPath;null==k&&(k="");""!=k&&(k+="/");for(var g=0,w=a.assets;g<w.length;){f=w[g];++g;c=b?f.size:100;d=f.id;if(Object.prototype.hasOwnProperty.call(f,"path")){var m=this.paths;e=k+h.string(Z.field(f,"path"));null!=t[d]?m.setReserved(d,e):m.h[d]=e}if(Object.prototype.hasOwnProperty.call(f,"pathGroup")){e=Z.field(f,"pathGroup");for(var m=0,n=e.length;m<n;){var l=m++;e[l]=k+e[l]}m=this.pathGroups;
null!=t[d]?m.setReserved(d,e):m.h[d]=e}e=this.sizes;null!=t[d]?e.setReserved(d,c):e.h[d]=c;c=f.type;e=this.types;null!=t[d]?e.setReserved(d,c):e.h[d]=c;Object.prototype.hasOwnProperty.call(f,"preload")&&(e=this.preload,c=Z.field(f,"preload"),null!=t[d]?e.setReserved(d,c):e.h[d]=c);Object.prototype.hasOwnProperty.call(f,"className")&&(f=La.resolveClass(Z.field(f,"className")),c=this.classTypes,null!=t[d]?c.setReserved(d,f):c.h[d]=f)}b=this.bytesTotal=0;for(a=a.assets;b<a.length;)d=a[b],++b,d=d.id,
k=this.preload,(null!=t[d]?k.existsReserved(d):k.h.hasOwnProperty(d))?(k=this.preload,k=null!=t[d]?k.getReserved(d):k.h[d]):k=!1,k&&(k=this.sizes,this.bytesTotal+=null!=t[d]?k.getReserved(d):k.h[d])},loadAudioBuffer_onComplete:function(a,b){var c=this.cachedAudioBuffers;null!=t[a]?c.setReserved(a,b):c.h[a]=b;c=this.pathGroups;if(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))for(var c=this.pathGroups,c=null!=t[a]?c.getReserved(a):c.h[a],d=this.pathGroups.keys();d.hasNext();){var e=d.next();
if(e!=a)for(var f=0;f<c.length;){var k=c[f];++f;var h=this.pathGroups;if(-1<(null!=t[e]?h.getReserved(e):h.h[e]).indexOf(k)){f=this.cachedAudioBuffers;null!=t[e]?f.setReserved(e,b):f.h[e]=b;break}}}this.__assetLoaded(a)},loadBytes_onComplete:function(a,b){var c=this.cachedBytes;null!=t[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadFont_onComplete:function(a,b){var c=this.cachedFonts;null!=t[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadImage_onComplete:function(a,b){var c=
this.cachedImages;null!=t[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadText_onComplete:function(a,b){var c=this.cachedText;null!=t[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},load_onError:function(a,b){null!=b&&""!=b?this.promise.error('Error loading asset "'+a+'": '+h.string(b)):this.promise.error('Error loading asset "'+a+'"')},load_onProgress:function(a,b,c){if(0<b){var d=this.sizes,d=null!=t[a]?d.getReserved(a):d.h[a];0<c?(b/=c,1<b&&(b=1),b=Math.floor(b*d)):b>d&&(b=d);c=
this.bytesLoadedCache;(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=t[a]?c.getReserved(a):c.h[a],b!=c&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=t[a]?c.setReserved(a,b):c.h[a]=b;this.promise.progress(this.bytesLoaded,this.bytesTotal)}},__class__:Rc};var sc=function(){this.assets=[];this.libraryArgs=[];this.version=2};m["lime.utils.AssetManifest"]=sc;sc.__name__=["lime","utils","AssetManifest"];sc.fromBytes=function(a,b){return null!=
a?sc.parse(a.getString(0,a.length),b):null};sc.fromFile=function(a,b){a=sc.__resolvePath(a);b=sc.__resolveRootPath(b,a);return null==a?null:sc.fromBytes(qd.fromFile(a),b)};sc.loadFromBytes=function(a,b){return hb.withValue(sc.fromBytes(a,b))};sc.loadFromFile=function(a,b){a=sc.__resolvePath(a);b=sc.__resolveRootPath(b,a);return null==a?null:qd.loadFromFile(a).then(function(a){return hb.withValue(sc.fromBytes(a,b))})};sc.parse=function(a,b){if(null==a||""==a)return null;var c=JSON.parse(a),d=new sc;
d.name=c.name;d.libraryType=c.libraryType;d.libraryArgs=c.libraryArgs;d.assets=ye.run(c.assets);null!=b&&(d.rootPath=b);return d};sc.__resolvePath=function(a){if(null==a)return null;var b=a.indexOf("?"),c;c=-1<b?da.substr(a,0,b):a;for(Da.replace(c,"\\","/");Da.endsWith(c,"/");)c=da.substr(c,0,c.length-1);return Da.endsWith(c,".bundle")?-1<b?c+"/library.json"+da.substr(a,b,null):c+"/library.json":a};sc.__resolveRootPath=function(a,b){if(null!=a)return a;var c=b.indexOf("?");a=-1<c?da.substr(b,0,c):
b;for(Da.replace(a,"\\","/");Da.endsWith(a,"/");){if("/"==a)return a;a=da.substr(a,0,a.length-1)}return Da.endsWith(a,".bundle")?a:rj.directory(a)};sc.prototype={assets:null,libraryArgs:null,libraryType:null,name:null,rootPath:null,version:null,serialize:function(){var a={};a.version=this.version;a.libraryType=this.libraryType;a.libraryArgs=this.libraryArgs;a.name=this.name;a.assets=xe.run(this.assets);return JSON.stringify(a)},__class__:sc};var ra=function(){};m["lime.utils.Assets"]=ra;ra.__name__=
["lime","utils","Assets"];ra.exists=function(a,b){null==b&&(b="BINARY");var c,d;c=a.indexOf(":");d=a.substring(0,c);c=a.substring(c+1);d=ra.getLibrary(d);return null!=d?d.exists(c,b):!1};ra.getAsset=function(a,b,c){if(c&&ra.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=ra.cache.font.get(a);if(null!=d)return d;break;case "IMAGE":d=ra.cache.image.get(a);if(ra.isValidImage(d))return d;break;case "MUSIC":case "SOUND":d=ra.cache.audio.get(a);if(ra.isValidAudio(d))return d;
break;case "TEMPLATE":throw new H("Not sure how to get template: "+a);default:return null}var e,f;e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+1);f=ra.getLibrary(d);if(null!=f)if(f.exists(e,b)){if(f.isLocal(e,b))return d=f.getAsset(e,b),c&&ra.cache.enabled&&ra.cache.set(a,b,d),d;rb.error(b+' asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:160,className:"lime.utils.Assets",methodName:"getAsset"})}else rb.error("There is no "+b+' asset with an ID of "'+a+'"',{fileName:"Assets.hx",
lineNumber:166,className:"lime.utils.Assets",methodName:"getAsset"});else rb.error(ra.__libraryNotFound(d),{fileName:"Assets.hx",lineNumber:172,className:"lime.utils.Assets",methodName:"getAsset"});return null};ra.getAudioBuffer=function(a,b){null==b&&(b=!0);return ra.getAsset(a,"SOUND",b)};ra.getBytes=function(a){return ra.getAsset(a,"BINARY",!1)};ra.getFont=function(a,b){null==b&&(b=!0);return ra.getAsset(a,"FONT",b)};ra.getImage=function(a,b){null==b&&(b=!0);return ra.getAsset(a,"IMAGE",b)};ra.getLibrary=
function(a){if(null==a||""==a)a="default";var b=ra.libraries;return null!=t[a]?b.getReserved(a):b.h[a]};ra.getPath=function(a){var b,c,d;b=a.indexOf(":");c=a.substring(0,b);b=a.substring(b+1);d=ra.getLibrary(c);if(null!=d){if(d.exists(b,null))return d.getPath(b);rb.error('There is no asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:269,className:"lime.utils.Assets",methodName:"getPath"})}else rb.error(ra.__libraryNotFound(c),{fileName:"Assets.hx",lineNumber:275,className:"lime.utils.Assets",
methodName:"getPath"});return null};ra.getText=function(a){return ra.getAsset(a,"TEXT",!1)};ra.hasLibrary=function(a){if(null==a||""==a)a="default";var b=ra.libraries;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)};ra.isLocal=function(a,b,c){null==c&&(c=!0);if(c&&ra.cache.enabled&&ra.cache.exists(a,b))return!0;var d=a.indexOf(":");c=a.substring(0,d);a=a.substring(d+1);c=ra.getLibrary(c);return null!=c?c.isLocal(a,b):!1};ra.isValidAudio=function(a){return null!=a};ra.isValidImage=function(a){return null!=
a?null!=a.buffer:!1};ra.list=function(a){for(var b=[],c=ra.libraries,c=new Bi(c,c.arrayKeys());c.hasNext();){var d=c.next().list(a);null!=d&&(b=b.concat(d))}return b};ra.loadAsset=function(a,b,c){if(c&&ra.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=ra.cache.font.get(a);if(null!=d)return hb.withValue(d);break;case "IMAGE":d=ra.cache.image.get(a);if(ra.isValidImage(d))return hb.withValue(d);break;case "MUSIC":case "SOUND":d=ra.cache.audio.get(a);if(ra.isValidAudio(d))return hb.withValue(d);
break;case "TEMPLATE":throw new H("Not sure how to get template: "+a);default:return null}var e,f;e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+1);f=ra.getLibrary(d);if(null!=f){if(f.exists(e,b)){d=f.loadAsset(e,b);if(c&&ra.cache.enabled)d.onComplete(function(c){ra.cache.set(a,b,c)});return d}return hb.withError("There is no "+b+' asset with an ID of "'+a+'"')}return hb.withError(ra.__libraryNotFound(d))};ra.loadAudioBuffer=function(a,b){null==b&&(b=!0);return ra.loadAsset(a,"SOUND",b)};ra.loadBytes=
function(a){return ra.loadAsset(a,"BINARY",!1)};ra.loadFont=function(a,b){null==b&&(b=!0);return ra.loadAsset(a,"FONT",b)};ra.loadImage=function(a,b){null==b&&(b=!0);return ra.loadAsset(a,"IMAGE",b)};ra.loadLibrary=function(a){var b=new jd,c=ra.getLibrary(a);if(null!=c)return c.load();var c=a,d=null,e=ra.libraryPaths;(null!=t[a]?e.existsReserved(a):e.h.hasOwnProperty(a))?(c=ra.libraryPaths,c=null!=t[a]?c.getReserved(a):c.h[a],d=ra.defaultRootPath):Da.endsWith(c,".bundle")&&(c+="/library.json");sc.loadFromFile(c,
d).onComplete(function(c){if(null==c)b.error('Cannot parse asset manifest for library "'+a+'"');else if(c=Rc.fromManifest(c),null==c)b.error('Cannot open library "'+a+'"');else{var d=ra.libraries;null!=t[a]?d.setReserved(a,c):d.h[a]=c;c.onChange.add((Cb=ra.onChange,u(Cb,Cb.dispatch)));c=c.load();b.completeWith(c)}}).onError(function(c){b.error('There is no asset library with an ID of "'+a+'"')});return b.future};ra.loadText=function(a){return ra.loadAsset(a,"TEXT",!1)};ra.registerLibrary=function(a,
b){var c=ra.libraries;if(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){c=ra.libraries;if((null!=t[a]?c.getReserved(a):c.h[a])==b)return;ra.unloadLibrary(a)}null!=b&&b.onChange.add(ra.library_onChange);c=ra.libraries;null!=t[a]?c.setReserved(a,b):c.h[a]=b};ra.unloadLibrary=function(a){var b=ra.libraries,b=null!=t[a]?b.getReserved(a):b.h[a];null!=b&&(ra.cache.clear(a+":"),b.onChange.remove(ra.library_onChange),b.unload());ra.libraries.remove(a)};ra.__libraryNotFound=function(a){if(null==a||
""==a)a="default";return null==Ce.current||null==Ce.current.__preloader||Ce.current.__preloader.complete?'There is no asset library named "'+a+'"':'There is no asset library named "'+a+'", or it is not yet preloaded'};ra.library_onChange=function(){ra.cache.clear();ra.onChange.dispatch()};var Vs=function(a){var b=a.indexOf(":");this.libraryName=a.substring(0,b);this.symbolName=a.substring(b+1);this.library=ra.getLibrary(this.libraryName)};m["lime.utils._Assets.LibrarySymbol"]=Vs;Vs.__name__=["lime",
"utils","_Assets","LibrarySymbol"];Vs.prototype={library:null,libraryName:null,symbolName:null,isLocal:function(a){return this.library.isLocal(this.symbolName,a)},exists:function(a){return this.library.exists(this.symbolName,a)},__class__:Vs};var Hd={};m["lime.utils._BytePointer.BytePointer_Impl_"]=Hd;Hd.__name__=["lime","utils","_BytePointer","BytePointer_Impl_"];Hd._new=function(a,b){null==b&&(b=0);return new kf(a,b)};Hd.set=function(a,b,c,d,e){null!=d&&(b=ab.ofData(d));null!=b||null==c?(a.bytes=
b,a.offset=null!=e?e:0):(a.bytes=ab.ofData(c.buffer),a.offset=null!=e?c.byteOffset+e:c.byteOffset)};Hd.__arrayGet=function(a,b){return null!=a.bytes?a.bytes.b[b+a.offset]:0};Hd.__arraySet=function(a,b,c){null==a.bytes&&(a.bytes.b[b+a.offset]=c&255);return c};Hd.fromArrayBufferView=function(a){return null==a?null:new kf(ab.ofData(a.buffer),a.byteOffset)};Hd.fromArrayBuffer=function(a){return null==a?null:new kf(ab.ofData(a),0)};Hd.fromBytes=function(a){return new kf(a,0)};Hd.fromBytesData=function(a){return null==
a?new kf(null,0):new kf(ab.ofData(a),0)};Hd.fromFile=function(a){return new kf(qd.fromFile(a),0)};Hd.fromLimeBytes=function(a){return new kf(a,0)};Hd.toUInt8Array=function(a){var b=a.bytes.b.bufferValue;a=a.offset/8|0;return null!=b?new Db(b,a):null};Hd.toUInt8ClampedArray=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/8|0;return null!=b?new Uint8ClampedArray(b,a):null};Hd.toInt8Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;
a=a.offset/8|0;return null!=b?new Int8Array(b,a):null};Hd.toUInt16Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/16|0;return null!=b?new Uint16Array(b,a):null};Hd.toInt16Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/16|0;return null!=b?new Int16Array(b,a):null};Hd.toUInt32Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/32|0;return null!=b?new Uint32Array(b,
a):null};Hd.toInt32Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/32|0;return null!=b?new Int32Array(b,a):null};Hd.toFloat32Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/32|0;return null!=b?new pc(b,a):null};Hd.toFloat64Array=function(a){if(null==a||null==a.bytes)return null;var b=a.bytes.b.bufferValue;a=a.offset/64|0;return null!=b?new Ws(b,a):null};var qd={};m["lime.utils._Bytes.Bytes_Impl_"]=qd;qd.__name__=
["lime","utils","_Bytes","Bytes_Impl_"];qd._new=function(a,b){return new ab(b)};qd.alloc=function(a){a=new ab(new He(a));return qd._new(a.length,a.b.bufferValue)};qd.fastGet=function(a,b){return a.bytes[b]};qd.fromBytes=function(a){return null==a?null:qd._new(a.length,a.b.bufferValue)};qd.fromFile=function(a){return null};qd.loadFromBytes=function(a){return hb.withValue(qd.fromBytes(a))};qd.loadFromFile=function(a){return(new xo).load(a)};qd.ofData=function(a){a=ab.ofData(a);return qd._new(a.length,
a.b.bufferValue)};qd.ofString=function(a){a=ab.ofString(a);return qd._new(a.length,a.b.bufferValue)};var E={};m["lime.utils._DataPointer.DataPointer_Impl_"]=E;E.__name__=["lime","utils","_DataPointer","DataPointer_Impl_"];E._new=function(a){return a};E.fromInt=function(a){return E._new(new ni(null,null,a))};E.fromFloat=function(a){return E._new(new ni(null,null,a|0))};E.fromBytesPointer=function(a){return E._new(new ni(null,a.bytes.b.bufferValue,a.offset))};E.fromArrayBufferView=function(a){return E._new(new ni(a))};
E.fromArrayBuffer=function(a){return E._new(new ni(null,a))};E.fromBytes=function(a){return E.fromArrayBuffer(a.b.bufferValue)};E.fromBytesData=function(a){return E.fromArrayBuffer(a)};E.fromLimeBytes=function(a){return E.fromBytes(a)};E.fromCFFIPointer=function(a){return null};E.fromFile=function(a){return null};E.toBufferOrBufferView=function(a,b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);if(0==a.offset&&b==a.buffer.byteLength)return a.buffer;var c=a.buffer,d=a.offset;
return null!=c?null==b?new Db(c,d):new Db(c,d,b):null;case 1:null==b&&(b=a.bufferView.byteLength);if(0==a.offset&&b==a.bufferView.byteLength)return a.bufferView;c=a.bufferView.buffer;d=a.bufferView.byteOffset+a.offset;return null!=c?null==b?new Db(c,d):new Db(c,d,b):null;default:return null}};E.toBufferView=function(a,b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);var c=a.buffer,d=a.offset;return null!=c?null==b?new Db(c,d):new Db(c,d,b):null;case 1:null==b&&(b=a.bufferView.byteLength);
if(0==a.offset&&b==a.bufferView.byteLength)return a.bufferView;c=a.bufferView.buffer;d=a.bufferView.byteOffset+a.offset;return null!=c?null==b?new Db(c,d):new Db(c,d,b):null;default:return null}};E.toFloat32Array=function(a,b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);var c=a.buffer,d=a.offset,e=b/4|0;return null!=c?null==e?new pc(c,d):new pc(c,d,e):null;case 1:null==b&&(b=a.bufferView.byteLength);if(0==a.offset&&b==a.bufferView.byteLength&&a.bufferView.constructor==
pc)return a.bufferView;c=a.bufferView.buffer;d=a.bufferView.byteOffset+a.offset;e=b/4|0;return null!=c?null==e?new pc(c,d):new pc(c,d,e):null;default:return null}};E.toInt32Array=function(a,b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);var c=a.buffer,d=a.offset,e=b/4|0;return null!=c?null==e?new Int32Array(c,d):new Int32Array(c,d,e):null;case 1:null==b&&(b=a.bufferView.byteLength);if(0==a.offset&&b==a.bufferView.byteLength&&a.bufferView.constructor==Int32Array)return a.bufferView;
c=a.bufferView.buffer;d=a.bufferView.byteOffset+a.offset;e=b/4|0;return null!=c?null==e?new Int32Array(c,d):new Int32Array(c,d,e):null;default:return null}};E.toUInt8Array=function(a,b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);var c=a.buffer,d=a.offset;return null!=c?null==b?new Db(c,d):new Db(c,d,b):null;case 1:null==b&&(b=a.bufferView.byteLength);if(0==a.offset&&b==a.bufferView.byteLength&&a.bufferView.constructor==Db)return a.bufferView;c=a.bufferView.buffer;
d=a.bufferView.byteOffset+a.offset;return null!=c?null==b?new Db(c,d):new Db(c,d,b):null;default:return null}};E.toUInt32Array=function(a,b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);var c=a.buffer,d=a.offset,e=b/4|0;return null!=c?null==e?new Uint32Array(c,d):new Uint32Array(c,d,e):null;case 1:null==b&&(b=a.bufferView.byteLength);if(0==a.offset&&b==a.bufferView.byteLength&&a.bufferView.constructor==Uint32Array)return a.bufferView;c=a.bufferView.buffer;d=a.bufferView.byteOffset+
a.offset;e=b/4|0;return null!=c?null==e?new Uint32Array(c,d):new Uint32Array(c,d,e):null;default:return null}};E.toValue=function(a){return a?"number"===typeof a?a:2==a.type[1]?a.offset:0:0};E.__withOffset=function(a,b){return null};E.equals=function(a,b){return a==b};E.equalsPointer=function(a,b){return a==b};E.greaterThan=function(a,b){return a>b};E.greaterThanPointer=function(a,b){return Mb.get(a)>Mb.get(b)};E.greaterThanOrEqual=function(a,b){return a>=b};E.greaterThanOrEqualPointer=function(a,
b){return Mb.get(a)>=Mb.get(b)};E.lessThan=function(a,b){return a<b};E.lessThanPointer=function(a,b){return Mb.get(a)<Mb.get(b)};E.lessThanOrEqual=function(a,b){return a<=b};E.lessThanOrEqualPointer=function(a,b){return Mb.get(a)<=Mb.get(b)};E.notEquals=function(a,b){return a!=b};E.notEqualsPointer=function(a,b){return a!=b};E.plus=function(a,b){return E.__withOffset(a,b)};E.plusPointer=function(a,b){return E.__withOffset(a,b|0)};E.minus=function(a,b){return E.__withOffset(a,-b)};E.minusPointer=function(a,
b){return E.__withOffset(a,-(b|0))};var ni=function(a,b,c){null==c&&(c=0);null!=a?(this.bufferView=a,this.type=ne.BUFFER_VIEW):null!=b?(this.buffer=b,this.type=ne.BUFFER):this.type=ne.VALUE;this.offset=c};m["lime.utils.DataPointerObject"]=ni;ni.__name__=["lime","utils","DataPointerObject"];ni.prototype={buffer:null,bufferView:null,offset:null,type:null,__class__:ni};var ne=m["lime.utils.DataPointerObjectType"]={__ename__:["lime","utils","DataPointerObjectType"],__constructs__:["BUFFER","BUFFER_VIEW",
"VALUE"]};ne.BUFFER=["BUFFER",0];ne.BUFFER.toString=U;ne.BUFFER.__enum__=ne;ne.BUFFER_VIEW=["BUFFER_VIEW",1];ne.BUFFER_VIEW.toString=U;ne.BUFFER_VIEW.__enum__=ne;ne.VALUE=["VALUE",2];ne.VALUE.toString=U;ne.VALUE.__enum__=ne;ne.__empty_constructs__=[ne.BUFFER,ne.BUFFER_VIEW,ne.VALUE];var Ao={};m["lime.utils._Float32Array.Float32Array_Impl_"]=Ao;Ao.__name__=["lime","utils","_Float32Array","Float32Array_Impl_"];Ao.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new pc(a.b.bufferValue):null==
c?new pc(a.b.bufferValue,b):new pc(a.b.bufferValue,b,c)};Ao.toBytes=function(a){return new ab(new Db(a.buffer))};Ao.toString=function(a){return null!=a?"Float32Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Bo={};m["lime.utils._Float64Array.Float64Array_Impl_"]=Bo;Bo.__name__=["lime","utils","_Float64Array","Float64Array_Impl_"];Bo.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Ws(a.b.bufferValue):null==c?new Ws(a.b.bufferValue,b):new Ws(a.b.bufferValue,b,c)};Bo.toBytes=
function(a){return new ab(new Db(a.buffer))};Bo.toString=function(a){return null!=a?"Float64Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var ol=function(){};m["lime.utils.GLUtils"]=ol;ol.__name__=["lime","utils","GLUtils"];ol.compileShader=function(a,b){var c=g.context.__context.createShader(b);g.context.__context.shaderSource(c,a);g.context.__context.compileShader(c);if(0==g.context.__context.getShaderParameter(c,35713)){var d;switch(b){case 35632:d="Error compiling fragment shader";
break;case 35633:d="Error compiling vertex shader";break;default:d="Error compiling unknown shader type"}d+="\n"+g.context.__context.getShaderInfoLog(c);rb.error(d,{fileName:"GLUtils.hx",lineNumber:35,className:"lime.utils.GLUtils",methodName:"compileShader"})}return c};ol.createProgram=function(a,b){var c=ol.compileShader(a,35633),d=ol.compileShader(b,35632),e=g.context.__context.createProgram();g.context.__context.attachShader(e,c);g.context.__context.attachShader(e,d);g.context.__context.linkProgram(e);
0==g.context.__context.getProgramParameter(e,35714)&&rb.error("Unable to initialize the shader program",{fileName:"GLUtils.hx",lineNumber:56,className:"lime.utils.GLUtils",methodName:"createProgram"});return e};var Co={};m["lime.utils._Int16Array.Int16Array_Impl_"]=Co;Co.__name__=["lime","utils","_Int16Array","Int16Array_Impl_"];Co.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Int16Array(a.b.bufferValue):null==c?new Int16Array(a.b.bufferValue,b):new Int16Array(a.b.bufferValue,b,c)};
Co.toBytes=function(a){return new ab(new Db(a.buffer))};Co.toString=function(a){return null!=a?"Int16Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Do={};m["lime.utils._Int32Array.Int32Array_Impl_"]=Do;Do.__name__=["lime","utils","_Int32Array","Int32Array_Impl_"];Do.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Int32Array(a.b.bufferValue):null==c?new Int32Array(a.b.bufferValue,b):new Int32Array(a.b.bufferValue,b,c)};Do.toBytes=function(a){return new ab(new Db(a.buffer))};
Do.toString=function(a){return null!=a?"Int32Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Eo={};m["lime.utils._Int8Array.Int8Array_Impl_"]=Eo;Eo.__name__=["lime","utils","_Int8Array","Int8Array_Impl_"];Eo.fromBytes=function(a,b,c){null==b&&(b=0);return new Int8Array(a.b.bufferValue,b,c)};Eo.toBytes=function(a){return new ab(new Db(a.buffer))};Eo.toString=function(a){return null!=a?"Int8Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var rb=function(){};m["lime.utils.Log"]=
rb;rb.__name__=["lime","utils","Log"];rb.debug=function(a,b){4<=rb.level&&console.log("["+b.className+"] "+a)};rb.error=function(a,b){if(1<=rb.level){var c="["+b.className+"] ERROR: "+a;if(rb.throwErrors)throw new H(c);console.log(c)}};rb.info=function(a,b){3<=rb.level&&console.log("["+b.className+"] "+a)};rb.print=function(a){console.log(a)};rb.println=function(a){console.log(a)};rb.verbose=function(a,b){5<=rb.level&&console.log("["+b.className+"] "+a)};rb.warn=function(a,b){2<=rb.level&&console.log("["+
b.className+"] WARNING: "+a)};var hg={};m["lime.utils._Log.LogLevel_Impl_"]=hg;hg.__name__=["lime","utils","_Log","LogLevel_Impl_"];hg.gt=function(a,b){return a>b};hg.gte=function(a,b){return a>=b};hg.lt=function(a,b){return a<b};hg.lte=function(a,b){return a<=b};var Xs=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=new Bd};
m["lime.utils.ObjectPool"]=Xs;Xs.__name__=["lime","utils","ObjectPool"];Xs.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,add:function(a){null==this.__pool.h.__keys__[a.__id__]&&(this.__pool.set(a,!1),this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++)},clean:function(a){},
clear:function(){this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)a=null,null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=
this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?
this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__addInactive:function(a){null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a);this.inactiveObjects++},__getInactive:function(){var a=null;null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=
this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop()));this.inactiveObjects--;this.activeObjects++;return a},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&
(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item,b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+this.activeObjects;this.__size=
a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:Xs,__properties__:{set_size:"set_size",get_size:"get_size"}};var Ar=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=
new Bd};m["lime.utils.ObjectPool_openfl_geom_Point"]=Ar;Ar.__name__=["lime","utils","ObjectPool_openfl_geom_Point"];Ar.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,add:function(a){this.__pool.exists(a)||(this.__pool.set(a,!1),this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++)},
clean:function(a){},clear:function(){this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)a=null,null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&
(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=
a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__addInactive:function(a){null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a);this.inactiveObjects++},__getInactive:function(){var a=null;null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,
this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop()));this.inactiveObjects--;this.activeObjects++;return a},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),
0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item,b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+
this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:Ar,__properties__:{set_size:"set_size",get_size:"get_size"}};var Br=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=
null;this.__inactiveObjectList=new Bd};m["lime.utils.ObjectPool_openfl_utils_TouchData"]=Br;Br.__name__=["lime","utils","ObjectPool_openfl_utils_TouchData"];Br.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,add:function(a){this.__pool.exists(a)||(this.__pool.set(a,!1),this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),
this.inactiveObjects++)},clean:function(a){},clear:function(){this.__pool=new Hb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)a=null,null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),
0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==
this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__addInactive:function(a){null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a);this.inactiveObjects++},__getInactive:function(){var a=null;null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?
(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop()));this.inactiveObjects--;this.activeObjects++;return a},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,
--a),0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item,b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+
this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:Br,__properties__:{set_size:"set_size",get_size:"get_size"}};var Fo={};m["lime.utils._UInt16Array.UInt16Array_Impl_"]=Fo;Fo.__name__=["lime","utils","_UInt16Array","UInt16Array_Impl_"];Fo.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Uint16Array(a.b.bufferValue):
null==c?new Uint16Array(a.b.bufferValue,b):new Uint16Array(a.b.bufferValue,b,c)};Fo.toBytes=function(a){return new ab(new Db(a.buffer))};Fo.toString=function(a){return null!=a?"UInt16Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Go={};m["lime.utils._UInt32Array.UInt32Array_Impl_"]=Go;Go.__name__=["lime","utils","_UInt32Array","UInt32Array_Impl_"];Go.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Uint32Array(a.b.bufferValue):null==c?new Uint32Array(a.b.bufferValue,
b):new Uint32Array(a.b.bufferValue,b,c)};Go.toBytes=function(a){return new ab(new Db(a.buffer))};Go.toString=function(a){return null!=a?"UInt32Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var Ho={};m["lime.utils._UInt8Array.UInt8Array_Impl_"]=Ho;Ho.__name__=["lime","utils","_UInt8Array","UInt8Array_Impl_"];Ho.fromBytes=function(a,b,c){return null==b?new Db(a.b.bufferValue):null==c?new Db(a.b.bufferValue,b):new Db(a.b.bufferValue,b,c)};Ho.toBytes=function(a){return new ab(new Db(a.buffer))};
Ho.toString=function(a){return null!=a?"UInt8Array [byteLength:"+a.byteLength+", length:"+a.length+"]":null};var pl={};m["lime.utils._UInt8ClampedArray.UInt8ClampedArray_Impl_"]=pl;pl.__name__=["lime","utils","_UInt8ClampedArray","UInt8ClampedArray_Impl_"];pl.fromBytes=function(a,b,c){null==b&&(b=0);return null==b?new Uint8ClampedArray(a.b.bufferValue):null==c?new Uint8ClampedArray(a.b.bufferValue,b):new Uint8ClampedArray(a.b.bufferValue,b,c)};pl.toBytes=function(a){return new ab(new Db(a.buffer))};
pl.toString=function(a){return null!=a?"UInt8ClampedArray [byteLength:"+a.byteLength+", length:"+a.length+"]":null};pl._clamp=function(a){a|=0;255<a&&(a=255);return 0>a?0:a};var Io=function(){};m["lime.utils.compress.Deflate"]=Io;Io.__name__=["lime","utils","compress","Deflate"];Io.compress=function(a){a=pako.deflateRaw(a.b.bufferValue);return ab.ofData(a)};Io.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return ab.ofData(a)};var Jo=function(){};m["lime.utils.compress.LZMA"]=Jo;Jo.__name__=
["lime","utils","compress","LZMA"];Jo.compress=function(a){return null};Jo.decompress=function(a){return null};var Ko=function(){};m["lime.utils.compress.Zlib"]=Ko;Ko.__name__=["lime","utils","compress","Zlib"];Ko.compress=function(a){a=pako.deflate(a.b.bufferValue);return ab.ofData(a)};Ko.decompress=function(a){a=pako.inflate(a.b.bufferValue);return ab.ofData(a)};var wj=function(){};m["motion.actuators.IGenericActuator"]=wj;wj.__name__=["motion","actuators","IGenericActuator"];wj.prototype={autoVisible:null,
delay:null,ease:null,onComplete:null,onRepeat:null,onUpdate:null,reflect:null,repeat:null,reverse:null,smartRotation:null,snapping:null,onPause:null,onResume:null,apply:null,move:null,pause:null,resume:null,stop:null,__class__:wj};var yh=function(a,b,c){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=a;this.properties=c;this.duration=b;this._ease=Sa.defaultEase};m["motion.actuators.GenericActuator"]=yh;
yh.__name__=["motion","actuators","GenericActuator"];yh.__interfaces__=[wj];yh.prototype={duration:null,id:null,properties:null,target:null,_autoVisible:null,_delay:null,_ease:null,_onComplete:null,_onCompleteParams:null,_onRepeat:null,_onRepeatParams:null,_onUpdate:null,_onUpdateParams:null,_onResume:null,_onResumeParams:null,_onPause:null,_onPauseParams:null,_reflect:null,_repeat:null,_reverse:null,_smartRotation:null,_snapping:null,special:null,apply:function(){for(var a=0,b=Z.fields(this.properties);a<
b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?this.target[c]=Z.field(this.properties,c):Z.setProperty(this.target,c,Z.field(this.properties,c))}},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;return this},callMethod:function(a,b){null==b&&(b=[]);return a.apply(a,b)},change:function(){if(null!=this._onUpdate){var a=this._onUpdate,b=this._onUpdateParams;null==b&&(b=[]);a.apply(a,b)}},complete:function(a){null==a&&(a=!0);if(a&&(this.change(),null!=this._onComplete)){a=
this._onComplete;var b=this._onCompleteParams;null==b&&(b=[]);a.apply(a,b)}Sa.unload(this)},delay:function(a){this._delay=a;return this},ease:function(a){this._ease=a;return this},move:function(){},onComplete:function(a,b){this._onComplete=a;this._onCompleteParams=null==b?[]:b;0==this.duration&&this.complete();return this},onRepeat:function(a,b){this._onRepeat=a;this._onRepeatParams=null==b?[]:b;return this},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;return this},onPause:function(a,
b){this._onPause=a;this._onPauseParams=null==b?[]:b;return this},onResume:function(a,b){this._onResume=a;this._onResumeParams=null==b?[]:b;return this},pause:function(){if(null!=this._onPause){var a=this._onPause,b=this._onPauseParams;null==b&&(b=[]);a.apply(a,b)}},reflect:function(a){null==a&&(a=!0);this._reflect=a;this.special=!0;return this},repeat:function(a){null==a&&(a=-1);this._repeat=a;return this},resume:function(){if(null!=this._onResume){var a=this._onResume,b=this._onResumeParams;null==
b&&(b=[]);a.apply(a,b)}},reverse:function(a){null==a&&(a=!0);this._reverse=a;this.special=!0;return this},smartRotation:function(a){null==a&&(a=!0);this._smartRotation=a;this.special=!0;return this},snapping:function(a){null==a&&(a=!0);this._snapping=a;this.special=!0;return this},stop:function(a,b,c){},__class__:yh};var oc=function(a,b,c){this.active=!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=xa.getTimer()/
1E3;yh.call(this,a,b,c);oc.addedEvent||(oc.addedEvent=!0,xa.current.stage.addEventListener("enterFrame",oc.stage_onEnterFrame))};m["motion.actuators.SimpleActuator"]=oc;oc.__name__=["motion","actuators","SimpleActuator"];oc.stage_onEnterFrame=function(a){a=xa.getTimer()/1E3;for(var b,c=0,d=0,e=oc.actuatorsLength;d<e;)d++,b=oc.actuators[c],null!=b&&b.active?(a>=b.timeOffset&&b.update(a),++c):(oc.actuators.splice(c,1),--oc.actuatorsLength)};oc.__super__=yh;oc.prototype=z(yh.prototype,{setField_openfl_geom_Transform:function(a,
b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:Z.setProperty(a,b,c)},setField_motion_actuators_TransformActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:Z.setProperty(a,b,c)},setField_motion_actuators_MotionPathActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:Z.setProperty(a,b,c)},setField_openfl_display_DisplayObject:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:Z.setProperty(a,b,c)},setField_motion_actuators_SimpleActuator_T:function(a,
b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:Z.setProperty(a,b,c)},timeOffset:null,active:null,cacheVisible:null,detailsLength:null,initialized:null,paused:null,pauseTime:null,propertyDetails:null,sendChange:null,setVisible:null,startTime:null,toggleVisible:null,autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;if(!a&&(this.toggleVisible=!1,this.setVisible)){a=this.target;var b=this.cacheVisible;Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=b:Z.setProperty(a,"visible",
b)}return this},delay:function(a){this._delay=a;this.timeOffset=this.startTime+a;return this},getField:function(a,b){var c=null;return c=Object.prototype.hasOwnProperty.call(a,b)?Z.field(a,b):Z.getProperty(a,b)},initialize:function(){for(var a,b=0,c=Z.fields(this.properties);b<c.length;){var d=c[b];++b;var e=!0;!Object.prototype.hasOwnProperty.call(this.target,d)||this.target.__properties__&&this.target.__properties__["set_"+d]?(e=!1,a=Z.getProperty(this.target,d)):a=Z.field(this.target,d);if("number"==
typeof a){var f=this.properties,k=null,f=k=Object.prototype.hasOwnProperty.call(f,d)?Z.field(f,d):Z.getProperty(f,d);null==a&&(a=0);null==f&&(f=0);a=new If(this.target,d,a,f-a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,"alpha")&&y.__instanceof(this.target,Eb);var a;if(this.toggleVisible&&0!=this.properties.alpha){a=this.target;var b=null,b=Object.prototype.hasOwnProperty.call(a,
"visible")?Z.field(a,"visible"):Z.getProperty(a,"visible");a=!b}else a=!1;a&&(this.setVisible=!0,a=this.target,b=null,this.cacheVisible=b=Object.prototype.hasOwnProperty.call(a,"visible")?Z.field(a,"visible"):Z.getProperty(a,"visible"),a=this.target,Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=!0:Z.setProperty(a,"visible",!0));this.timeOffset=this.startTime;oc.actuators.push(this);++oc.actuatorsLength},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;this.sendChange=
!0;return this},pause:function(){this.paused||(this.paused=!0,yh.prototype.pause.call(this),this.pauseTime=xa.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(xa.getTimer()-this.pauseTime)/1E3,yh.prototype.resume.call(this))},setProperty:function(a,b){a.isField?a.target[a.propertyName]=b:Z.setProperty(a.target,a.propertyName,b)},stop:function(a,b,c){if(this.active)if(null==a)this.active=!1,b&&this.apply(),this.complete(c);else{var d=0;for(a=Z.fields(a);d<a.length;){var e=
a[d];++d;if(Object.prototype.hasOwnProperty.call(this.properties,e)){this.active=!1;b&&this.apply();this.complete(c);break}}}},update:function(a){if(!this.paused){var b,c,d=(a-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){c=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var e,f=0,k=this.detailsLength;f<k;)b=f++,b=this.propertyDetails[b],!this._smartRotation||"rotation"!=b.propertyName&&"rotationX"!=b.propertyName&&"rotationY"!=
b.propertyName&&"rotationZ"!=b.propertyName?e=b.start+b.change*c:(e=b.change%360,180<e?e-=360:-180>e&&(e+=360),e=b.start+e*c),this._snapping&&(e=Math.round(e)),b.isField?b.target[b.propertyName]=e:Z.setProperty(b.target,b.propertyName,e)}else for(c=this._ease.calculate(d),f=0,k=this.detailsLength;f<k;)b=f++,b=this.propertyDetails[b],e=b.start+b.change*c,b.isField?b.target[b.propertyName]=e:Z.setProperty(b.target,b.propertyName,e);if(1==d){if(0==this._repeat){this.active=!1;this.toggleVisible?(a=this.target,
c=null,c=Object.prototype.hasOwnProperty.call(a,"alpha")?Z.field(a,"alpha"):Z.getProperty(a,"alpha"),a=0==c):a=!1;a&&(a=this.target,Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=!1:Z.setProperty(a,"visible",!1));this.complete(!0);return}null!=this._onRepeat&&(c=this._onRepeat,d=this._onRepeatParams,null==d&&(d=[]),c.apply(c,d));this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},
__class__:oc});var ql=function(){};m["motion.easing.Expo"]=ql;ql.__name__=["motion","easing","Expo"];ql.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};ql.get_easeIn=function(){return new Lo};ql.get_easeInOut=function(){return new Mo};ql.get_easeOut=function(){return new No};var Ye=function(){};m["motion.easing.IEasing"]=Ye;Ye.__name__=["motion","easing","IEasing"];Ye.prototype={calculate:null,ease:null,__class__:Ye};var No=function(){};m["motion.easing.ExpoEaseOut"]=
No;No.__name__=["motion","easing","ExpoEaseOut"];No.__interfaces__=[Ye];No.prototype={calculate:function(a){return 1==a?1:1-Math.pow(2,-10*a)},ease:function(a,b,c,d){return a==d?b+c:c*(1-Math.pow(2,-10*a/d))+b},__class__:No};var Sa=function(){};m["motion.Actuate"]=Sa;Sa.__name__=["motion","Actuate"];Sa.apply=function(a,b,c){Sa.stop(a,b);null==c&&(c=Sa.defaultActuator);a=La.createInstance(c,[a,0,b]);a.apply();return a};Sa.effects=function(a,b,c){null==c&&(c=!0);return new Cr(a,b,c)};Sa.getLibrary=
function(a,b){null==b&&(b=!0);null==Sa.targetLibraries.h.__keys__[a.__id__]&&b&&Sa.targetLibraries.set(a,[]);return Sa.targetLibraries.h[a.__id__]};Sa.isActive=function(){for(var a=!1,b=Sa.targetLibraries.iterator();b.hasNext();){b.next();a=!0;break}return a};Sa.motionPath=function(a,b,c,d){null==d&&(d=!0);return Sa.tween(a,b,c,d,Oo)};Sa.pause=function(a){if(y.__instanceof(a,wj))a.pause();else if(a=Sa.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var c=a[b];++b;c.pause()}};Sa.pauseAll=function(){for(var a=
Sa.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.pause()}};Sa.reset=function(){for(var a=Sa.targetLibraries.iterator();a.hasNext();)for(var b=a.next(),c=b.length-1;0<=c;)b[c].stop(null,!1,!1),--c;Sa.targetLibraries=new Hb};Sa.resume=function(a){if(y.__instanceof(a,wj))a.resume();else if(a=Sa.getLibrary(a,!1),null!=a)for(var b=0;b<a.length;){var c=a[b];++b;c.resume()}};Sa.resumeAll=function(){for(var a=Sa.targetLibraries.iterator();a.hasNext();)for(var b=
a.next(),c=0;c<b.length;){var d=b[c];++c;d.resume()}};Sa.stop=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=!1);if(null!=a)if(y.__instanceof(a,wj))a.stop(null,c,d);else if(a=Sa.getLibrary(a,!1),null!=a){if("string"==typeof b){var e={};e[b]=null;b=e}else if(b instanceof Array&&null==b.__enum__){var e={},f=0;for(b=y.__cast(b,Array);f<b.length;){var k=b[f];++f;e[k]=null}b=e}for(e=a.length-1;0<=e;)a[e].stop(b,c,d),--e}};Sa.timer=function(a,b){return Sa.tween(new Po(0),a,new Po(1),!1,b)};Sa.transform=
function(a,b,c){null==c&&(c=!0);null==b&&(b=0);return new Dr(a,b,c)};Sa.tween=function(a,b,c,d,e){null==d&&(d=!0);if(null!=a){if(0<b){null==e&&(e=Sa.defaultActuator);a=La.createInstance(e,[a,b,c]);b=Sa.getLibrary(a.target);if(d){for(d=b.length-1;0<=d;)b[d].stop(a.properties,!1,!1),--d;b=Sa.getLibrary(a.target)}b.push(a);a.move();return a}return Sa.apply(a,c,e)}return null};Sa.unload=function(a){var b=a.target;null!=Sa.targetLibraries.h.__keys__[b.__id__]&&(da.remove(Sa.targetLibraries.h[b.__id__],
a),0==Sa.targetLibraries.h[b.__id__].length&&Sa.targetLibraries.remove(b))};Sa.update=function(a,b,c,d,e){null==e&&(e=!0);return Sa.tween(a,b,{start:c,end:d},e,Qo)};var Cr=function(a,b,c){this.target=a;this.duration=b;this.overwrite=c};m["motion._Actuate.EffectsOptions"]=Cr;Cr.__name__=["motion","_Actuate","EffectsOptions"];Cr.prototype={duration:null,overwrite:null,target:null,filter:function(a,b){b.filter=a;return Sa.tween(this.target,this.duration,b,this.overwrite,Ro)},__class__:Cr};var Dr=function(a,
b,c){this.target=a;this.duration=b;this.overwrite=c};m["motion._Actuate.TransformOptions"]=Dr;Dr.__name__=["motion","_Actuate","TransformOptions"];Dr.prototype={duration:null,overwrite:null,target:null,color:function(a,b,c){null==b&&(b=1);null==a&&(a=0);a={colorValue:a,colorStrength:b};null!=c&&(a.colorAlpha=c);return Sa.tween(this.target,this.duration,a,this.overwrite,rl)},sound:function(a,b){var c={};null!=a&&(c.soundVolume=a);null!=b&&(c.soundPan=b);return Sa.tween(this.target,this.duration,c,
this.overwrite,rl)},__class__:Dr};var Po=function(a){this.progress=a};m["motion._Actuate.TweenTimer"]=Po;Po.__name__=["motion","_Actuate","TweenTimer"];Po.prototype={progress:null,__class__:Po};var Ys=function(){this._x=new sl;this._y=new sl;this._rotation=null};m["motion.MotionPath"]=Ys;Ys.__name__=["motion","MotionPath"];Ys.prototype={rotation:null,x:null,y:null,_rotation:null,_x:null,_y:null,bezier:function(a,b,c,d,e){null==e&&(e=1);this._x.addPath(new oi(a,c,e));this._y.addPath(new oi(b,d,e));
return this},line:function(a,b,c){null==c&&(c=1);this._x.addPath(new tl(a,c));this._y.addPath(new tl(b,c));return this},get_rotation:function(){null==this._rotation&&(this._rotation=new So(this._x,this._y));return this._rotation},get_x:function(){return this._x},get_y:function(){return this._y},__class__:Ys,__properties__:{get_y:"get_y",get_x:"get_x",get_rotation:"get_rotation"}};var pi=function(){};m["motion.IComponentPath"]=pi;pi.__name__=["motion","IComponentPath"];pi.prototype={get_end:null,end:null,
start:null,calculate:null,__class__:pi,__properties__:{get_end:"get_end"}};var sl=function(){this.paths=[];this.totalStrength=this.start=0};m["motion.ComponentPath"]=sl;sl.__name__=["motion","ComponentPath"];sl.__interfaces__=[pi];sl.prototype={start:null,end:null,paths:null,totalStrength:null,addPath:function(a){this.paths.push(a);this.totalStrength+=a.strength},calculate:function(a){if(1==this.paths.length)return this.paths[0].calculate(this.start,a);a*=this.totalStrength;for(var b=this.start,c=
0,d=this.paths;c<d.length;){var e=d[c];++c;if(a>e.strength)a-=e.strength,b=e.end;else return e.calculate(b,a/e.strength)}return 0},get_end:function(){return 0<this.paths.length?this.paths[this.paths.length-1].end:this.start},__class__:sl,__properties__:{get_end:"get_end"}};var oi=function(a,b,c){this.end=a;this.control=b;this.strength=c};m["motion.BezierPath"]=oi;oi.__name__=["motion","BezierPath"];oi.prototype={control:null,end:null,strength:null,calculate:function(a,b){return(1-b)*(1-b)*a+2*(1-
b)*b*this.control+b*b*this.end},__class__:oi};var tl=function(a,b){oi.call(this,a,0,b)};m["motion.LinearPath"]=tl;tl.__name__=["motion","LinearPath"];tl.__super__=oi;tl.prototype=z(oi.prototype,{calculate:function(a,b){return a+b*(this.end-a)},__class__:tl});var So=function(a,b){this.step=.01;this._x=a;this._y=b;this.offset=0;this.start=this.calculate(0)};m["motion.RotationPath"]=So;So.__name__=["motion","RotationPath"];So.__interfaces__=[pi];So.prototype={end:null,offset:null,start:null,step:null,
_x:null,_y:null,calculate:function(a){var b=this._x.calculate(a)-this._x.calculate(a+this.step);a=this._y.calculate(a)-this._y.calculate(a+this.step);b=Math.atan2(a,b)*(180/Math.PI);return b=(b+this.offset)%360},get_end:function(){return this.calculate(1)},__class__:So,__properties__:{get_end:"get_end"}};var Ro=function(a,b,c){this.filterIndex=-1;oc.call(this,a,b,c);if(y.__instanceof(c.filter,Xh))for(this.filterClass=c.filter,0==a.get_filters().length&&a.set_filters([La.createInstance(this.filterClass,
[])]),b=0,a=a.get_filters();b<a.length;)c=a[b],++b,y.__instanceof(c,this.filterClass)&&(this.filter=c);else this.filterIndex=c.filter,this.filter=a.get_filters()[this.filterIndex]};m["motion.actuators.FilterActuator"]=Ro;Ro.__name__=["motion","actuators","FilterActuator"];Ro.__super__=oc;Ro.prototype=z(oc.prototype,{filter:null,filterClass:null,filterIndex:null,apply:function(){for(var a=0,b=Z.fields(this.properties);a<b.length;){var c=b[a];++a;"filter"!=c&&(this.filter[c]=Z.field(this.properties,
c))}a=this.target;b=null;a=b=Object.prototype.hasOwnProperty.call(a,"filters")?Z.field(a,"filters"):Z.getProperty(a,"filters");a[this.properties.filter]=this.filter;b=this.target;Object.prototype.hasOwnProperty.call(b,"filters")?b.filters=a:Z.setProperty(b,"filters",a)},initialize:function(){for(var a,b,c=0,d=Z.fields(this.properties);c<d.length;)if(a=d[c],++c,"filter"!=a){b=this.filter;var e=null;b=e=Object.prototype.hasOwnProperty.call(b,a)?Z.field(b,a):Z.getProperty(b,a);a=new If(this.filter,a,
b,Z.field(this.properties,a)-b);this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){oc.prototype.update.call(this,a);a=this.target.get_filters();if(-1<this.filterIndex)a[this.properties.filter]=this.filter;else for(var b=0,c=a.length;b<c;){var d=b++;y.__instanceof(a[d],this.filterClass)&&(a[d]=this.filter)}b=this.target;Object.prototype.hasOwnProperty.call(b,"filters")?b.filters=a:Z.setProperty(b,"filters",a)},__class__:Ro});var Qo=function(a,
b,c){this.currentParameters=[];this.tweenProperties={};oc.call(this,a,b,c);Object.prototype.hasOwnProperty.call(c,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(c,"end")||(this.properties.end=this.properties.start);a=0;for(b=this.properties.start.length;a<b;)c=a++,this.currentParameters.push(this.properties.start[c])};m["motion.actuators.MethodActuator"]=Qo;Qo.__name__=["motion","actuators","MethodActuator"];Qo.__super__=oc;Qo.prototype=z(oc.prototype,{currentParameters:null,
tweenProperties:null,apply:function(){var a=this.target,b=this.properties.end;null==b&&(b=[]);a.apply(a,b)},complete:function(a){null==a&&(a=!0);for(var b=0,c=this.properties.start.length;b<c;){var d=b++;this.currentParameters[d]=Z.field(this.tweenProperties,"param"+d)}b=this.target;c=this.currentParameters;null==c&&(c=[]);b.apply(b,c);oc.prototype.complete.call(this,a)},initialize:function(){for(var a,b,c=0,d=this.properties.start.length;c<d;){var e=c++;a="param"+e;b=this.properties.start[e];this.tweenProperties[a]=
b;if("number"==typeof b||"number"==typeof b&&(b|0)===b)a=new If(this.tweenProperties,a,b,this.properties.end[e]-b),this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){oc.prototype.update.call(this,a);if(this.active&&!this.paused){a=0;for(var b=this.properties.start.length;a<b;){var c=a++;this.currentParameters[c]=Z.field(this.tweenProperties,"param"+c)}a=this.target;b=this.currentParameters;null==b&&(b=[]);a.apply(a,b)}},__class__:Qo});
var Oo=function(a,b,c){oc.call(this,a,b,c)};m["motion.actuators.MotionPathActuator"]=Oo;Oo.__name__=["motion","actuators","MotionPathActuator"];Oo.__super__=oc;Oo.prototype=z(oc.prototype,{apply:function(){for(var a=0,b=Z.fields(this.properties);a<b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?this.target[c]=y.__cast(Z.field(this.properties,c),pi).get_end():Z.setProperty(this.target,c,y.__cast(Z.field(this.properties,c),pi).get_end())}},initialize:function(){for(var a,
b=0,c=Z.fields(this.properties);b<c.length;){var d=c[b];++b;a=y.__cast(Z.field(this.properties,d),pi);if(null!=a){var e=!0;Object.prototype.hasOwnProperty.call(this.target,d)?a.start=Z.field(this.target,d):(e=!1,a.start=Z.getProperty(this.target,d));a=new ig(this.target,d,a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){if(!this.paused){var b,c=(a-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();
if(this.special){b=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);for(var d=0,e=this.propertyDetails;d<e.length;){var f=e[d];++d;this._snapping?f.isField?f.target[f.propertyName]=Math.round(y.__cast(f,ig).path.calculate(b)):Z.setProperty(f.target,f.propertyName,Math.round(y.__cast(f,ig).path.calculate(b))):f.isField?f.target[f.propertyName]=y.__cast(f,ig).path.calculate(b):Z.setProperty(f.target,f.propertyName,y.__cast(f,ig).path.calculate(b))}}else for(b=this._ease.calculate(c),
d=0,e=this.propertyDetails;d<e.length;)f=e[d],++d,f.isField?f.target[f.propertyName]=y.__cast(f,ig).path.calculate(b):Z.setProperty(f.target,f.propertyName,y.__cast(f,ig).path.calculate(b));if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible?(a=this.target,b=null,b=Object.prototype.hasOwnProperty.call(a,"alpha")?Z.field(a,"alpha"):Z.getProperty(a,"alpha"),a=0==b):a=!1;a&&(a=this.target,Object.prototype.hasOwnProperty.call(a,"visible")?a.visible=!1:Z.setProperty(a,"visible",!1));this.complete(!0);
return}null!=this._onRepeat&&(b=this._onRepeat,c=this._onRepeatParams,null==c&&(c=[]),b.apply(b,c));this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:Oo});var If=function(a,b,c,d,e){null==e&&(e=!0);this.target=a;this.propertyName=b;this.start=c;this.change=d;this.isField=e};m["motion.actuators.PropertyDetails"]=If;If.__name__=["motion","actuators","PropertyDetails"];If.prototype=
{change:null,isField:null,propertyName:null,start:null,target:null,__class__:If};var ig=function(a,b,c,d){null==d&&(d=!0);If.call(this,a,b,0,0,d);this.path=c};m["motion.actuators.PropertyPathDetails"]=ig;ig.__name__=["motion","actuators","PropertyPathDetails"];ig.__super__=If;ig.prototype=z(If.prototype,{path:null,__class__:ig});var rl=function(a,b,c){oc.call(this,a,b,c)};m["motion.actuators.TransformActuator"]=rl;rl.__name__=["motion","actuators","TransformActuator"];rl.__super__=oc;rl.prototype=
z(oc.prototype,{endColorTransform:null,endSoundTransform:null,tweenColorTransform:null,tweenSoundTransform:null,apply:function(){this.initialize();if(null!=this.endColorTransform){var a=this.target,b=null,a=b=Object.prototype.hasOwnProperty.call(a,"transform")?Z.field(a,"transform"):Z.getProperty(a,"transform"),b=this.endColorTransform;Object.prototype.hasOwnProperty.call(a,"colorTransform")?a.colorTransform=b:Z.setProperty(a,"colorTransform",b)}null!=this.endSoundTransform&&(a=this.target,b=this.endSoundTransform,
Object.prototype.hasOwnProperty.call(a,"soundTransform")?a.soundTransform=b:Z.setProperty(a,"soundTransform",b))},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&y.__instanceof(this.target,Eb)&&this.initializeColor();(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=
new jc;var a=this.properties.colorValue,b=this.properties.colorStrength;if(1>b){var c;.5>b?(c=1,b*=2):(c=1-2*(b-.5),b=1);this.endColorTransform.redMultiplier=c;this.endColorTransform.greenMultiplier=c;this.endColorTransform.blueMultiplier=c;this.endColorTransform.redOffset=b*(a>>16&255);this.endColorTransform.greenOffset=b*(a>>8&255);this.endColorTransform.blueOffset=b*(a&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=
0,this.endColorTransform.redOffset=a>>16&255,this.endColorTransform.greenOffset=a>>8&255,this.endColorTransform.blueOffset=a&255;a="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,a.push("alphaMultiplier")):(c=this.target,b=null,b=Object.prototype.hasOwnProperty.call(c,"alpha")?Z.field(c,"alpha"):Z.getProperty(c,"alpha"),this.endColorTransform.alphaMultiplier=
b);c=this.target;b=null;c=b=Object.prototype.hasOwnProperty.call(c,"transform")?Z.field(c,"transform"):Z.getProperty(c,"transform");b=null;c=b=Object.prototype.hasOwnProperty.call(c,"colorTransform")?Z.field(c,"colorTransform"):Z.getProperty(c,"colorTransform");this.tweenColorTransform=new jc;for(var d,e,b=0;b<a.length;){d=a[b];++b;e=null;e=Object.prototype.hasOwnProperty.call(c,d)?Z.field(c,d):Z.getProperty(c,d);var f=this.tweenColorTransform,k=this.endColorTransform,h=null,h=Object.prototype.hasOwnProperty.call(k,
d)?Z.field(k,d):Z.getProperty(k,d);d=new If(f,d,e,h-e);this.propertyDetails.push(d)}},initializeSound:function(){var a=this.target,b=null,b=Object.prototype.hasOwnProperty.call(a,"soundTransform")?Z.field(a,"soundTransform"):Z.getProperty(a,"soundTransform");null==b&&(a=this.target,b=new od,Object.prototype.hasOwnProperty.call(a,"soundTransform")?a.soundTransform=b:Z.setProperty(a,"soundTransform",b));var a=this.target,b=null,a=b=Object.prototype.hasOwnProperty.call(a,"soundTransform")?Z.field(a,
"soundTransform"):Z.getProperty(a,"soundTransform"),b=this.target,c=null;this.endSoundTransform=c=Object.prototype.hasOwnProperty.call(b,"soundTransform")?Z.field(b,"soundTransform"):Z.getProperty(b,"soundTransform");this.tweenSoundTransform=new od;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new If(this.tweenSoundTransform,"volume",a.volume,this.endSoundTransform.volume-a.volume)));Object.prototype.hasOwnProperty.call(this.properties,
"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new If(this.tweenSoundTransform,"pan",a.pan,this.endSoundTransform.pan-a.pan)))},update:function(a){oc.prototype.update.call(this,a);if(null!=this.endColorTransform){a=this.target;var b=null;a=b=Object.prototype.hasOwnProperty.call(a,"transform")?Z.field(a,"transform"):Z.getProperty(a,"transform");b=this.tweenColorTransform;Object.prototype.hasOwnProperty.call(a,"colorTransform")?a.colorTransform=b:Z.setProperty(a,
"colorTransform",b)}null!=this.endSoundTransform&&(a=this.target,b=this.tweenSoundTransform,Object.prototype.hasOwnProperty.call(a,"soundTransform")?a.soundTransform=b:Z.setProperty(a,"soundTransform",b))},__class__:rl});var wf=function(){};m["motion.easing.Back"]=wf;wf.__name__=["motion","easing","Back"];wf.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};wf.get_easeIn=function(){return new To(1.70158)};wf.get_easeInOut=function(){return new Uo(1.70158)};
wf.get_easeOut=function(){return new Vo(1.70158)};var To=function(a){this.s=a};m["motion.easing.BackEaseIn"]=To;To.__name__=["motion","easing","BackEaseIn"];To.__interfaces__=[Ye];To.prototype={s:null,calculate:function(a){return a*a*((this.s+1)*a-this.s)},ease:function(a,b,c,d){return c*(a/=d)*a*((this.s+1)*a-this.s)+b},__class__:To};var Uo=function(a){this.s=a};m["motion.easing.BackEaseInOut"]=Uo;Uo.__name__=["motion","easing","BackEaseInOut"];Uo.__interfaces__=[Ye];Uo.prototype={s:null,calculate:function(a){return 1>
(a/=.5)?.5*a*a*(((this.s*=1.525)+1)*a-this.s):.5*((a-=2)*a*(((this.s*=1.525)+1)*a+this.s)+2)},ease:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*(((this.s*=1.525)+1)*a-this.s)+b:c/2*((a-=2)*a*(((this.s*=1.525)+1)*a+this.s)+2)+b},__class__:Uo};var Vo=function(a){this.s=a};m["motion.easing.BackEaseOut"]=Vo;Vo.__name__=["motion","easing","BackEaseOut"];Vo.__interfaces__=[Ye];Vo.prototype={s:null,calculate:function(a){return--a*a*((this.s+1)*a+this.s)+1},ease:function(a,b,c,d){a=a/d-1;return c*(a*a*((this.s+
1)*a+this.s)+1)+b},__class__:Vo};var Lo=function(){};m["motion.easing.ExpoEaseIn"]=Lo;Lo.__name__=["motion","easing","ExpoEaseIn"];Lo.__interfaces__=[Ye];Lo.prototype={calculate:function(a){return 0==a?0:Math.pow(2,10*(a-1))},ease:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},__class__:Lo};var Mo=function(){};m["motion.easing.ExpoEaseInOut"]=Mo;Mo.__name__=["motion","easing","ExpoEaseInOut"];Mo.__interfaces__=[Ye];Mo.prototype={calculate:function(a){return 0==a?0:1==a?1:1>(a/=.5)?.5*
Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},ease:function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(2-Math.pow(2,-10*--a))+b},__class__:Mo};var Ag=function(){};m["motion.easing.Quad"]=Ag;Ag.__name__=["motion","easing","Quad"];Ag.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};Ag.get_easeIn=function(){return new Wo};Ag.get_easeInOut=function(){return new Xo};Ag.get_easeOut=function(){return new Yo};var Wo=function(){};
m["motion.easing.QuadEaseIn"]=Wo;Wo.__name__=["motion","easing","QuadEaseIn"];Wo.__interfaces__=[Ye];Wo.prototype={calculate:function(a){return a*a},ease:function(a,b,c,d){return c*(a/=d)*a+b},__class__:Wo};var Xo=function(){};m["motion.easing.QuadEaseInOut"]=Xo;Xo.__name__=["motion","easing","QuadEaseInOut"];Xo.__interfaces__=[Ye];Xo.prototype={calculate:function(a){return 1>(a*=2)?.5*a*a:-.5*((a-1)*(a-3)-1)},ease:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*((a-1)*(a-3)-1)+b},__class__:Xo};
var Yo=function(){};m["motion.easing.QuadEaseOut"]=Yo;Yo.__name__=["motion","easing","QuadEaseOut"];Yo.__interfaces__=[Ye];Yo.prototype={calculate:function(a){return-a*(a-2)},ease:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},__class__:Yo};var kl=function(){};m["motion.easing.Sine"]=kl;kl.__name__=["motion","easing","Sine"];kl.__properties__={get_easeOut:"get_easeOut",get_easeInOut:"get_easeInOut",get_easeIn:"get_easeIn"};kl.get_easeIn=function(){return new Zo};kl.get_easeInOut=function(){return new $o};
kl.get_easeOut=function(){return new ap};var Zo=function(){};m["motion.easing.SineEaseIn"]=Zo;Zo.__name__=["motion","easing","SineEaseIn"];Zo.__interfaces__=[Ye];Zo.prototype={calculate:function(a){return 1-Math.cos(Math.PI/2*a)},ease:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},__class__:Zo};var $o=function(){};m["motion.easing.SineEaseInOut"]=$o;$o.__name__=["motion","easing","SineEaseInOut"];$o.__interfaces__=[Ye];$o.prototype={calculate:function(a){return-(Math.cos(Math.PI*a)-1)/
2},ease:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},__class__:$o};var ap=function(){};m["motion.easing.SineEaseOut"]=ap;ap.__name__=["motion","easing","SineEaseOut"];ap.__interfaces__=[Ye];ap.prototype={calculate:function(a){return Math.sin(Math.PI/2*a)},ease:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},__class__:ap};var Pe=function(){Fb.call(this);this.__currentFrame=1;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0;null!=Pe.__initSymbol&&(this.__swf=Pe.__initSWF,
this.__symbol=Pe.__initSymbol,Pe.__initSWF=null,Pe.__initSymbol=null,this.__fromSymbol(this.__swf,this.__symbol))};m["openfl.display.MovieClip"]=Pe;Pe.__name__=["openfl","display","MovieClip"];Pe.__super__=Fb;Pe.prototype=z(Fb.prototype,{enabled:null,__activeInstances:null,__activeInstancesByFrameObjectID:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__frameScripts:null,__frameTime:null,__lastFrameScriptEval:null,__lastFrameUpdate:null,__playing:null,__swf:null,
__symbol:null,__timeElapsed:null,__totalFrames:null,addFrameScript:function(a,b){if(!(0>a)){var c=a+1;null!=b?(null==this.__frameScripts&&(this.__frameScripts=new fc),this.__frameScripts.h[c]=b):null!=this.__frameScripts&&this.__frameScripts.remove(c)}},gotoAndPlay:function(a,b){this.play();this.__goto(this.__resolveFrameReference(a))},gotoAndStop:function(a,b){this.stop();this.__goto(this.__resolveFrameReference(a))},nextFrame:function(){this.stop();this.__goto(this.__currentFrame+1)},play:function(){null==
this.__symbol||this.__playing||2>this.__totalFrames||(this.__playing=!0,this.__frameTime=1E3/this.__swf.frameRate|0,this.__timeElapsed=0)},prevFrame:function(){this.stop();this.__goto(this.__currentFrame-1)},stop:function(){this.__playing=!1},__enterFrame:function(a){if(null!=this.__symbol&&this.__playing){var b=this.__getNextFrame(a);if(this.__lastFrameScriptEval==b)return;null!=this.__frameScripts?(b<this.__currentFrame&&(this.__evaluateFrameScripts(this.__totalFrames),this.__currentFrame=1),this.__evaluateFrameScripts(b)):
this.__currentFrame=b}if(null!=this.__symbol&&this.__currentFrame!=this.__lastFrameUpdate){this.__updateFrameLabel();for(var c=new fc,d,b=0,e=this.__currentFrame;b<e;)if(d=b++,d=this.__symbol.frames[d],null!=d.objects)for(var f=0,k=d.objects;f<k.length;){var h=k[f];++f;switch(h.type[1]){case 0:d=this.__activeInstancesByFrameObjectID.get(h.id);null!=d&&(c.h[h.id]=d,this.__updateDisplayObject(d.displayObject,h));break;case 1:d=c.h[h.id];null!=d&&null!=d.displayObject&&this.__updateDisplayObject(d.displayObject,
h);break;case 2:c.remove(h.id)}}b=[];e=[];for(d=c.iterator();d.hasNext();)c=d.next(),-1==b.indexOf(c)&&(0<c.clipDepth?e.push(c):b.push(c));b.sort(u(this,this.__sortDepths));for(var g,m,f=0,k=b.length;f<k;){h=f++;g=this.__children[h];d=b[h];c=d.depth;m=d.displayObject;g!=m?(d=m,this.addChildAt(m,h)):d=this.__children[h];h=!1;for(g=0;g<e.length;)if(m=e[g],++g,c>m.depth&&c<=m.clipDepth){d.set_mask(m.displayObject);h=!0;break}0<e.length&&!h&&null!=d.get_mask()&&d.set_mask(null)}b=b.length;for(e=this.__children.length;b<
e;)for(d=b++,d=this.__children[d],c=0,f=this.__activeInstances;c<f.length;)k=f[c],++c,k.displayObject==d&&this.removeChild(d);this.__lastFrameUpdate=this.__currentFrame}Fb.prototype.__enterFrame.call(this,a)},__evaluateFrameScripts:function(a){var b=this.__currentFrame;for(a+=1;b<a;){var c=b++;if(c!=this.__lastFrameScriptEval){this.__currentFrame=this.__lastFrameScriptEval=c;if(this.__frameScripts.h.hasOwnProperty(c))(0,this.__frameScripts.h[c])();if(!this.__playing)break}}},__fromSymbol:function(a,
b){var c=this;if(null==this.__activeInstances){this.__swf=a;this.__symbol=b;this.__activeInstances=[];this.__activeInstancesByFrameObjectID=new fc;this.__currentFrame=1;this.__lastFrameUpdate=this.__lastFrameScriptEval=-1;this.__totalFrames=this.__symbol.frames.length;for(var d,e,f=0,k=this.__symbol.frames.length;f<k;){var g=f++;d=g+1;e=this.__symbol.frames[g];null!=e.label&&this.__currentLabels.push(new bp(e.label,g+1));if(null!=e.script)null==this.__frameScripts&&(this.__frameScripts=new fc),this.__frameScripts.h[d]=
e.script;else if(null!=e.scriptSource){null==this.__frameScripts&&(this.__frameScripts=new fc);try{var w=function(a){return function(){try{a[0].call(c)}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),Aa.trace("Error evaluating frame script\n "+h.string(b)+"\n"+Qa.exceptionStack().map(function(){return function(a){return a[2]}}()).join("\n")+"\n"+h.string(b.stack)+"\n"+a[0].toString(),{fileName:"MovieClip.hx",lineNumber:461,className:"openfl.display.MovieClip",methodName:"__fromSymbol"})}}}([eval("(function(){"+
e.scriptSource+"})")]);this.__frameScripts.h[d]=w}catch(m){Qa.lastException=m,null!=this.__symbol.className?rb.warn('Unable to evaluate frame script source for symbol "'+this.__symbol.className+'" frame '+d+"\n"+e.scriptSource,{fileName:"MovieClip.hx",lineNumber:477,className:"openfl.display.MovieClip",methodName:"__fromSymbol"}):rb.warn("Unable to evaluate frame script source:\n"+e.scriptSource,{fileName:"MovieClip.hx",lineNumber:481,className:"openfl.display.MovieClip",methodName:"__fromSymbol"})}}}var n;
e=0;for(f=this.__totalFrames;e<f;)if(k=e++,d=k+1,g=this.__symbol.frames[k],null!=g.objects)for(var k=0,l=g.objects;k<l.length;){var q=l[k];++k;if(q.type==Me.CREATE&&!this.__activeInstancesByFrameObjectID.h.hasOwnProperty(q.id)){g=null;w=!1;n=0;for(var r=this.__activeInstances;n<r.length;){var t=r[n];++n;if(null!=t.displayObject&&t.characterID==q.symbol&&t.depth==q.depth){g=t;w=!0;break}}null==g&&(n=this.__swf.symbols.h[q.symbol],null!=n&&(n=n.__createObject(this.__swf),null!=n&&(n.parent=this,n.stage=
this.stage,g=new Er(d,q.id,q.symbol,q.depth,n,q.clipDepth))));null!=g&&(this.__activeInstancesByFrameObjectID.h[q.id]=g,w||(this.__activeInstances.push(g),this.__updateDisplayObject(g.displayObject,q)))}}1<this.__totalFrames&&this.play();this.__enterFrame(0);d=0;for(e=La.getInstanceFields(y.getClass(this));d<e.length;)for(f=e[d],++d,k=0,g=this.__children;k<g.length;)w=g[k],++k,w.get_name()==f&&(this[f]=w)}},__getNextFrame:function(a){this.__timeElapsed+=a;a=this.__currentFrame+Math.floor(this.__timeElapsed/
this.__frameTime);1>a&&(a=1);a>this.__totalFrames&&(a=Math.floor((a-1)%this.__totalFrames)+1);this.__timeElapsed%=this.__frameTime;return a},__goto:function(a){null!=this.__symbol&&(1>a?a=1:a>this.__totalFrames&&(a=this.__totalFrames),this.__currentFrame=a,this.__enterFrame(0))},__resolveFrameReference:function(a){if("number"==typeof a&&(a|0)===a)return a;if("string"==typeof a){for(var b=0,c=this.__currentLabels;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d.get_frame()}throw new H(new kj("Error #2109: Frame label "+
a+" not found in scene."));}throw new H("Invalid type for frame "+La.getClassName(a));},__sortDepths:function(a,b){return a.depth-b.depth},__stopAllMovieClips:function(){Fb.prototype.__stopAllMovieClips.call(this);this.stop()},__updateDisplayObject:function(a,b){if(null!=a){null!=b.name&&a.set_name(b.name);null!=b.matrix&&a.get_transform().set_matrix(b.matrix);null!=b.colorTransform&&a.get_transform().set_colorTransform(b.colorTransform);if(null!=b.filters){for(var c=[],d=0,e=b.filters;d<e.length;){var f=
e[d];++d;switch(f[1]){case 0:c.push(new zh(f[2],f[3],f[4]));break;case 1:c.push(new Ah(f[2]));break;case 2:c.push(new ul(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12]));break;case 3:c.push(new tf(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]))}}a.set_filters(c)}null!=b.visible&&a.set_visible(b.visible);null!=b.blendMode&&a.set_blendMode(b.blendMode)}},__updateFrameLabel:function(){this.__currentFrameLabel=this.__symbol.frames[this.__currentFrame-1].label;if(null!=this.__currentFrameLabel)this.__currentLabel=
this.__currentFrameLabel;else{this.__currentLabel=null;for(var a=0,b=this.__currentLabels;a<b.length;){var c=b[a];++a;if(c.get_frame()<this.__currentFrame)this.__currentLabel=c.get_name();else break}}},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_framesLoaded:function(){return this.__totalFrames},get_isPlaying:function(){return this.__playing},
get_totalFrames:function(){return this.__totalFrames},__class__:Pe,__properties__:z(Fb.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_isPlaying:"get_isPlaying",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var xa=function(){};m["openfl.Lib"]=xa;xa.__name__=["openfl","Lib"];xa.as=function(a,b){return y.__instanceof(a,b)?a:null};xa.attach=
function(a){return new Pe};xa.getTimer=function(){return nb.getTimer()};xa.getURL=function(a,b){null==b&&(b="_blank");nb.openURL(a.url,b)};xa.notImplemented=function(a){var b=a.className+"."+a.methodName,c=xa.__sentWarnings;(null!=t[b]?c.existsReserved(b):c.h.hasOwnProperty(b))||(c=xa.__sentWarnings,null!=t[b]?c.setReserved(b,!0):c.h[b]=!0,rb.warn(a.methodName+" is not implemented",a))};xa.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(a){a.preventDefault()},
!1)};xa.trace=function(a){Aa.trace(a,{fileName:"Lib.hx",lineNumber:151,className:"openfl.Lib",methodName:"trace"})};var qi=function(){};m["openfl._Vector.IVector"]=qi;qi.__name__=["openfl","_Vector","IVector"];qi.prototype={get_length:null,set_length:null,fixed:null,concat:null,copy:null,get:null,indexOf:null,insertAt:null,iterator:null,join:null,lastIndexOf:null,pop:null,push:null,reverse:null,set:null,shift:null,slice:null,sort:null,splice:null,toString:null,unshift:null,__class__:qi,__properties__:{set_length:"set_length",
get_length:"get_length"}};var Wf=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};m["openfl._Vector.BoolVector"]=Wf;Wf.__name__=["openfl","_Vector","BoolVector"];Wf.__interfaces__=[qi];Wf.prototype={fixed:null,__array:null,concat:function(a){return null==a?new Wf(null,null,this.__array.slice()):new Wf(null,null,this.__array.concat(y.__cast(a,Wf).__array))},copy:function(){return new Wf(null,this.fixed,this.__array.slice())},get:function(a){return a>=this.__array.length?
!1:this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return da.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},
push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse();return this},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Wf(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Wf(null,null,this.__array.splice(a,b))},toString:function(){return null!=
this.__array?this.__array.toString():null},unshift:function(a){this.fixed||this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=!1}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Wf,__properties__:{set_length:"set_length",get_length:"get_length"}};var Yf=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);
this.fixed=1==b};m["openfl._Vector.FloatVector"]=Yf;Yf.__name__=["openfl","_Vector","FloatVector"];Yf.__interfaces__=[qi];Yf.prototype={fixed:null,__array:null,concat:function(a){return null==a?new Yf(null,null,this.__array.slice()):new Yf(null,null,this.__array.concat(y.__cast(a,Yf).__array))},copy:function(){return new Yf(null,this.fixed,this.__array.slice())},get:function(a){return this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==
a)return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return da.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse();
return this},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Yf(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Yf(null,null,this.__array.splice(a,b))},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(a){this.fixed||this.__array.unshift(a)},
get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Yf,__properties__:{set_length:"set_length",get_length:"get_length"}};var Zf=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};m["openfl._Vector.FunctionVector"]=Zf;Zf.__name__=["openfl","_Vector","FunctionVector"];
Zf.__interfaces__=[qi];Zf.prototype={fixed:null,__array:null,concat:function(a){return null==a?new Zf(null,null,this.__array.slice()):new Zf(null,null,this.__array.concat(y.__cast(a,Zf).__array))},copy:function(){return new Zf(null,this.fixed,this.__array.slice())},get:function(a){return a>=this.__array.length?null:this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(Z.compareMethods(this.__array[e],a))return e}return-1},insertAt:function(a,b){(!this.fixed||
a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return da.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(Z.compareMethods(this.__array[c],a))return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse();return this},set:function(a,b){return!this.fixed||
a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Zf(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Zf(null,null,this.__array.splice(a,b))},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(a){this.fixed||this.__array.unshift(a)},get_length:function(){return this.__array.length},
set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=null}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Zf,__properties__:{set_length:"set_length",get_length:"get_length"}};var Xf=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};m["openfl._Vector.IntVector"]=Xf;Xf.__name__=["openfl","_Vector","IntVector"];Xf.__interfaces__=[qi];Xf.prototype={fixed:null,
__array:null,concat:function(a){return null==a?new Xf(null,null,this.__array.slice()):new Xf(null,null,this.__array.concat(y.__cast(a,Xf).__array))},copy:function(){return new Xf(null,this.fixed,this.__array.slice())},get:function(a){return this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return da.iter(this.__array)},
join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse();return this},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},
slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new Xf(null,null,this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new Xf(null,null,this.__array.splice(a,b))},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(a){this.fixed||this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=
b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Xf,__properties__:{set_length:"set_length",get_length:"get_length"}};var $f=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};m["openfl._Vector.ObjectVector"]=$f;$f.__name__=["openfl","_Vector","ObjectVector"];$f.__interfaces__=[qi];$f.prototype={fixed:null,__array:null,concat:function(a){return null==a?new $f(null,null,this.__array.slice()):new $f(null,
null,this.__array.concat(y.__cast(a,$f).__array))},copy:function(){return new $f(null,null,this.__array.slice())},get:function(a){return this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},insertAt:function(a,b){(!this.fixed||a<this.__array.length)&&this.__array.splice(a,0,b)},iterator:function(){return da.iter(this.__array)},join:function(a){return this.__array.join(a)},lastIndexOf:function(a,b){null==b&&
(b=0);for(var c=this.__array.length-1;c>=b;){if(this.__array[c]==a)return c;--c}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},reverse:function(){this.__array.reverse();return this},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(a,b){null==b&&(b=16777215);null==a&&(a=0);return new $f(null,null,
this.__array.slice(a,b))},sort:function(a){this.__array.sort(a)},splice:function(a,b){return new $f(null,null,this.__array.splice(a,b))},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(a){this.fixed||this.__array.unshift(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;)b++,this.__array.push(null);else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},
__class__:$f,__properties__:{set_length:"set_length",get_length:"get_length"}};var xj=function(){};m["openfl._internal.renderer.AbstractBlendModeManager"]=xj;xj.__name__=["openfl","_internal","renderer","AbstractBlendModeManager"];xj.prototype={setBlendMode:function(a){},__class__:xj};var cp=function(a){this.renderSession=a};m["openfl._internal.renderer.AbstractFilterManager"]=cp;cp.__name__=["openfl","_internal","renderer","AbstractFilterManager"];cp.prototype={renderSession:null,pushObject:function(a){return null},
popObject:function(a){},__class__:cp};var Bh=function(a){this.renderSession=a};m["openfl._internal.renderer.AbstractMaskManager"]=Bh;Bh.__name__=["openfl","_internal","renderer","AbstractMaskManager"];Bh.prototype={renderSession:null,pushMask:function(a){},pushObject:function(a,b){},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:Bh};var ce=function(a){this.stage=a;this.width=a.stageWidth;this.height=
a.stageHeight};m["openfl._internal.renderer.AbstractRenderer"]=ce;ce.__name__=["openfl","_internal","renderer","AbstractRenderer"];ce.prototype={height:null,width:null,transparent:null,viewport:null,renderSession:null,stage:null,clear:function(){},render:function(){},renderStage3D:function(){},resize:function(a,b){this.width=a;this.height=b},__class__:ce};var dp=function(){};m["openfl._internal.renderer.AbstractShaderManager"]=dp;dp.__name__=["openfl","_internal","renderer","AbstractShaderManager"];
dp.prototype={currentShader:null,defaultShader:null,initShader:function(a){return a},setShader:function(a){},updateShader:function(a){},__class__:dp};var de=function(){null==de.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.copyOnWrite=!0):this.clear()};m["openfl._internal.renderer.DrawCommandBuffer"]=de;de.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];de.prototype={types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,o:null,append:function(a){if(0==
this.get_length())return this.types=a.types,this.b=a.b,this.i=a.i,this.f=a.f,this.o=a.o,this.ff=a.ff,this.ii=a.ii,this.copyOnWrite=a.copyOnWrite=!0,a;for(var b=new jg(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=
5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.BEGIN_BITMAP_FILL;e=b;this.beginBitmapFill(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 1:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.BEGIN_FILL;e=b;this.beginFill(e.buffer.i[e.iPos],e.buffer.f[e.fPos]);break;case 2:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.BEGIN_GRADIENT_FILL;
e=b;this.beginGradientFill(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);break;case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=
4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.CUBIC_CURVE_TO;e=b;this.cubicCurveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5]);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.CURVE_TO;e=b;this.curveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+
2],e.buffer.f[e.fPos+3]);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_CIRCLE;e=b;this.drawCircle(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=
2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_ELLIPSE;e=b;this.drawEllipse(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 7:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;
break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_RECT;e=b;this.drawRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_ROUND_RECT;
e=b;this.drawRoundRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.o[e.oPos]);break;case 10:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;
case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_TRIANGLES;e=b;this.drawTriangles(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3]);break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;
case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.END_FILL;this.endFill();break;case 12:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.LINE_BITMAP_STYLE;e=b;this.lineBitmapStyle(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],
e.buffer.b[e.bPos+1]);break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.LINE_GRADIENT_STYLE;e=b;this.lineGradientStyle(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);break;case 14:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=
4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.LINE_STYLE;e=b;this.lineStyle(e.buffer.o[e.oPos],e.buffer.i[e.iPos],e.buffer.f[e.fPos],e.buffer.b[e.bPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos+1]);break;
case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=
2;break;case 17:b.oPos+=1}b.prev=M.LINE_TO;e=b;this.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=
1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.MOVE_TO;e=b;this.moveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 17:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;
case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.OVERRIDE_MATRIX;e=b;this.overrideMatrix(e.buffer.o[e.oPos]);break;case 18:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;
case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.WINDING_EVEN_ODD;this.windingEvenOdd();break;case 19:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.WINDING_NON_ZERO;this.windingNonZero()}}b.destroy();return a},beginBitmapFill:function(a,
b,c,d){this.prepareWrite();this.types.push(M.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.prepareWrite();this.types.push(M.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,k,h){this.prepareWrite();this.types.push(M.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(k);this.f.push(h)},clear:function(){this.types=de.empty.types;this.b=
de.empty.b;this.i=de.empty.i;this.f=de.empty.f;this.o=de.empty.o;this.ff=de.empty.ff;this.ii=de.empty.ii;this.copyOnWrite=!0},copy:function(){var a=new de;a.append(this);return a},cubicCurveTo:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(M.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.prepareWrite();this.types.push(M.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},destroy:function(){this.clear();
this.ii=this.ff=this.o=this.f=this.i=this.b=this.types=null},drawCircle:function(a,b,c){this.prepareWrite();this.types.push(M.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.prepareWrite();this.types.push(M.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRect:function(a,b,c,d){this.prepareWrite();this.types.push(M.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.prepareWrite();
this.types.push(M.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTriangles:function(a,b,c,d){this.prepareWrite();this.types.push(M.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.prepareWrite();this.types.push(M.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.prepareWrite();this.types.push(M.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,
b,c,d,e,f,k,h){this.prepareWrite();this.types.push(M.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(k);this.f.push(h)},lineStyle:function(a,b,c,d,e,f,k,h){this.prepareWrite();this.types.push(M.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(k);this.f.push(h)},lineTo:function(a,b){this.prepareWrite();this.types.push(M.LINE_TO);this.f.push(a);this.f.push(b)},
moveTo:function(a,b){this.prepareWrite();this.types.push(M.MOVE_TO);this.f.push(a);this.f.push(b)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideMatrix:function(a){this.prepareWrite();this.types.push(M.OVERRIDE_MATRIX);this.o.push(a)},windingEvenOdd:function(){this.prepareWrite();this.types.push(M.WINDING_EVEN_ODD)},
windingNonZero:function(){this.prepareWrite();this.types.push(M.WINDING_NON_ZERO)},get_length:function(){return this.types.length},__class__:de,__properties__:{get_length:"get_length"}};var jg=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=M.UNKNOWN};m["openfl._internal.renderer.DrawCommandReader"]=jg;jg.__name__=["openfl","_internal","renderer","DrawCommandReader"];jg.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,
fPos:null,oPos:null,prev:null,tsPos:null,advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=
1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+a]},obj:function(a){return this.buffer.o[this.oPos+
a]},readBeginBitmapFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;
case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.BEGIN_BITMAP_FILL;return this},readBeginFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;
case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.BEGIN_FILL;return this},readBeginGradientFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=
4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=
M.BEGIN_GRADIENT_FILL;return this},readCubicCurveTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=
1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.CUBIC_CURVE_TO;return this},readCurveTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=
4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.CURVE_TO;return this},readDrawCircle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;
this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=
M.DRAW_CIRCLE;return this},readDrawEllipse:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=
1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.DRAW_ELLIPSE;return this},readDrawRect:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=
4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.DRAW_RECT;return this},readDrawRoundRect:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=
4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=
M.DRAW_ROUND_RECT;return this},readDrawTriangles:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=
1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.DRAW_TRIANGLES;return this},readEndFill:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=
4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.END_FILL;return this},readLineBitmapStyle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=
4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=
M.LINE_BITMAP_STYLE;return this},readLineGradientStyle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=
2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.LINE_GRADIENT_STYLE;return this},readLineStyle:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=
4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.LINE_STYLE;return this},readLineTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;
case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=
1}this.prev=M.LINE_TO;return this},readMoveTo:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=
1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.MOVE_TO;return this},readOverrideMatrix:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=
4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.OVERRIDE_MATRIX;return this},readWindingEvenOdd:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=
4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=
M.WINDING_EVEN_ODD;return this},readWindingNonZero:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=
1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=M.WINDING_NON_ZERO;return this},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;
case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}this.prev=a},__class__:jg};var yj={};m["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=
yj;yj.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"];yj.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};yj._new=function(a){return a};yj.get_bitmap=function(a){return a.buffer.o[a.oPos]};yj.get_matrix=function(a){return a.buffer.o[a.oPos+1]};yj.get_repeat=function(a){return a.buffer.b[a.bPos]};yj.get_smooth=function(a){return a.buffer.b[a.bPos+1]};var ep={};m["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=
ep;ep.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"];ep.__properties__={get_alpha:"get_alpha",get_color:"get_color"};ep._new=function(a){return a};ep.get_color=function(a){return a.buffer.i[a.iPos]};ep.get_alpha=function(a){return a.buffer.f[a.fPos]};var kg={};m["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=kg;kg.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"];kg.__properties__={get_focalPointRatio:"get_focalPointRatio",
get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};kg._new=function(a){return a};kg.get_type=function(a){return a.buffer.o[a.oPos]};kg.get_colors=function(a){return a.buffer.ii[a.iiPos]};kg.get_alphas=function(a){return a.buffer.ff[a.ffPos]};kg.get_ratios=function(a){return a.buffer.ii[a.iiPos+1]};kg.get_matrix=function(a){return a.buffer.o[a.oPos+
1]};kg.get_spreadMethod=function(a){return a.buffer.o[a.oPos+2]};kg.get_interpolationMethod=function(a){return a.buffer.o[a.oPos+3]};kg.get_focalPointRatio=function(a){return a.buffer.f[a.fPos]};var Ch={};m["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=Ch;Ch.__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"];Ch.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",
get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"};Ch._new=function(a){return a};Ch.get_controlX1=function(a){return a.buffer.f[a.fPos]};Ch.get_controlY1=function(a){return a.buffer.f[a.fPos+1]};Ch.get_controlX2=function(a){return a.buffer.f[a.fPos+2]};Ch.get_controlY2=function(a){return a.buffer.f[a.fPos+3]};Ch.get_anchorX=function(a){return a.buffer.f[a.fPos+4]};Ch.get_anchorY=function(a){return a.buffer.f[a.fPos+5]};var zj={};m["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=
zj;zj.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"];zj.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"};zj._new=function(a){return a};zj.get_controlX=function(a){return a.buffer.f[a.fPos]};zj.get_controlY=function(a){return a.buffer.f[a.fPos+1]};zj.get_anchorX=function(a){return a.buffer.f[a.fPos+2]};zj.get_anchorY=function(a){return a.buffer.f[a.fPos+3]};var vl={};m["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=
vl;vl.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"];vl.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"};vl._new=function(a){return a};vl.get_x=function(a){return a.buffer.f[a.fPos]};vl.get_y=function(a){return a.buffer.f[a.fPos+1]};vl.get_radius=function(a){return a.buffer.f[a.fPos+2]};var Aj={};m["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=Aj;Aj.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"];
Aj.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Aj._new=function(a){return a};Aj.get_x=function(a){return a.buffer.f[a.fPos]};Aj.get_y=function(a){return a.buffer.f[a.fPos+1]};Aj.get_width=function(a){return a.buffer.f[a.fPos+2]};Aj.get_height=function(a){return a.buffer.f[a.fPos+3]};var Bj={};m["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=Bj;Bj.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"];
Bj.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Bj._new=function(a){return a};Bj.get_x=function(a){return a.buffer.f[a.fPos]};Bj.get_y=function(a){return a.buffer.f[a.fPos+1]};Bj.get_width=function(a){return a.buffer.f[a.fPos+2]};Bj.get_height=function(a){return a.buffer.f[a.fPos+3]};var Dh={};m["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=Dh;Dh.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"];
Dh.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Dh._new=function(a){return a};Dh.get_x=function(a){return a.buffer.f[a.fPos]};Dh.get_y=function(a){return a.buffer.f[a.fPos+1]};Dh.get_width=function(a){return a.buffer.f[a.fPos+2]};Dh.get_height=function(a){return a.buffer.f[a.fPos+3]};Dh.get_ellipseWidth=function(a){return a.buffer.f[a.fPos+4]};Dh.get_ellipseHeight=function(a){return a.buffer.o[a.oPos]};
var Cj={};m["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Cj;Cj.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"];Cj.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"};Cj._new=function(a){return a};Cj.get_vertices=function(a){return a.buffer.o[a.oPos]};Cj.get_indices=function(a){return a.buffer.o[a.oPos+1]};Cj.get_uvtData=function(a){return a.buffer.o[a.oPos+2]};
Cj.get_culling=function(a){return a.buffer.o[a.oPos+3]};var qt={};m["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=qt;qt.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"];qt._new=function(a){return a};var Dj={};m["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=Dj;Dj.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"];Dj.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",
get_matrix:"get_matrix",get_bitmap:"get_bitmap"};Dj._new=function(a){return a};Dj.get_bitmap=function(a){return a.buffer.o[a.oPos]};Dj.get_matrix=function(a){return a.buffer.o[a.oPos+1]};Dj.get_repeat=function(a){return a.buffer.b[a.bPos]};Dj.get_smooth=function(a){return a.buffer.b[a.bPos+1]};var lg={};m["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=lg;lg.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"];lg.__properties__=
{get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};lg._new=function(a){return a};lg.get_type=function(a){return a.buffer.o[a.oPos]};lg.get_colors=function(a){return a.buffer.ii[a.iiPos]};lg.get_alphas=function(a){return a.buffer.ff[a.ffPos]};lg.get_ratios=function(a){return a.buffer.ii[a.iiPos+1]};lg.get_matrix=
function(a){return a.buffer.o[a.oPos+1]};lg.get_spreadMethod=function(a){return a.buffer.o[a.oPos+2]};lg.get_interpolationMethod=function(a){return a.buffer.o[a.oPos+3]};lg.get_focalPointRatio=function(a){return a.buffer.f[a.fPos]};var mg={};m["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=mg;mg.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"];mg.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",
get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};mg._new=function(a){return a};mg.get_thickness=function(a){return a.buffer.o[a.oPos]};mg.get_color=function(a){return a.buffer.i[a.iPos]};mg.get_alpha=function(a){return a.buffer.f[a.fPos]};mg.get_pixelHinting=function(a){return a.buffer.b[a.bPos]};mg.get_scaleMode=function(a){return a.buffer.o[a.oPos+1]};mg.get_caps=function(a){return a.buffer.o[a.oPos+2]};mg.get_joints=function(a){return a.buffer.o[a.oPos+
3]};mg.get_miterLimit=function(a){return a.buffer.f[a.fPos+1]};var fp={};m["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=fp;fp.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"];fp.__properties__={get_y:"get_y",get_x:"get_x"};fp._new=function(a){return a};fp.get_x=function(a){return a.buffer.f[a.fPos]};fp.get_y=function(a){return a.buffer.f[a.fPos+1]};var gp={};m["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=gp;gp.__name__=["openfl",
"_internal","renderer","_DrawCommandReader","MoveToView_Impl_"];gp.__properties__={get_y:"get_y",get_x:"get_x"};gp._new=function(a){return a};gp.get_x=function(a){return a.buffer.f[a.fPos]};gp.get_y=function(a){return a.buffer.f[a.fPos+1]};var Fr={};m["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=Fr;Fr.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"];Fr.__properties__={get_matrix:"get_matrix"};Fr._new=function(a){return a};Fr.get_matrix=
function(a){return a.buffer.o[a.oPos]};var rt={};m["openfl._internal.renderer._DrawCommandReader.WindingEvenOddView_Impl_"]=rt;rt.__name__=["openfl","_internal","renderer","_DrawCommandReader","WindingEvenOddView_Impl_"];rt._new=function(a){return a};var st={};m["openfl._internal.renderer._DrawCommandReader.WindingNonZeroView_Impl_"]=st;st.__name__=["openfl","_internal","renderer","_DrawCommandReader","WindingNonZeroView_Impl_"];st._new=function(a){return a};var M=m["openfl._internal.renderer.DrawCommandType"]=
{__ename__:["openfl","_internal","renderer","DrawCommandType"],__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX WINDING_EVEN_ODD WINDING_NON_ZERO UNKNOWN".split(" ")};M.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];M.BEGIN_BITMAP_FILL.toString=U;M.BEGIN_BITMAP_FILL.__enum__=M;M.BEGIN_FILL=["BEGIN_FILL",
1];M.BEGIN_FILL.toString=U;M.BEGIN_FILL.__enum__=M;M.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];M.BEGIN_GRADIENT_FILL.toString=U;M.BEGIN_GRADIENT_FILL.__enum__=M;M.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];M.CUBIC_CURVE_TO.toString=U;M.CUBIC_CURVE_TO.__enum__=M;M.CURVE_TO=["CURVE_TO",4];M.CURVE_TO.toString=U;M.CURVE_TO.__enum__=M;M.DRAW_CIRCLE=["DRAW_CIRCLE",5];M.DRAW_CIRCLE.toString=U;M.DRAW_CIRCLE.__enum__=M;M.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];M.DRAW_ELLIPSE.toString=U;M.DRAW_ELLIPSE.__enum__=M;M.DRAW_RECT=
["DRAW_RECT",7];M.DRAW_RECT.toString=U;M.DRAW_RECT.__enum__=M;M.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",8];M.DRAW_ROUND_RECT.toString=U;M.DRAW_ROUND_RECT.__enum__=M;M.DRAW_TILES=["DRAW_TILES",9];M.DRAW_TILES.toString=U;M.DRAW_TILES.__enum__=M;M.DRAW_TRIANGLES=["DRAW_TRIANGLES",10];M.DRAW_TRIANGLES.toString=U;M.DRAW_TRIANGLES.__enum__=M;M.END_FILL=["END_FILL",11];M.END_FILL.toString=U;M.END_FILL.__enum__=M;M.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",12];M.LINE_BITMAP_STYLE.toString=U;M.LINE_BITMAP_STYLE.__enum__=
M;M.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",13];M.LINE_GRADIENT_STYLE.toString=U;M.LINE_GRADIENT_STYLE.__enum__=M;M.LINE_STYLE=["LINE_STYLE",14];M.LINE_STYLE.toString=U;M.LINE_STYLE.__enum__=M;M.LINE_TO=["LINE_TO",15];M.LINE_TO.toString=U;M.LINE_TO.__enum__=M;M.MOVE_TO=["MOVE_TO",16];M.MOVE_TO.toString=U;M.MOVE_TO.__enum__=M;M.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",17];M.OVERRIDE_MATRIX.toString=U;M.OVERRIDE_MATRIX.__enum__=M;M.WINDING_EVEN_ODD=["WINDING_EVEN_ODD",18];M.WINDING_EVEN_ODD.toString=U;
M.WINDING_EVEN_ODD.__enum__=M;M.WINDING_NON_ZERO=["WINDING_NON_ZERO",19];M.WINDING_NON_ZERO.toString=U;M.WINDING_NON_ZERO.__enum__=M;M.UNKNOWN=["UNKNOWN",20];M.UNKNOWN.toString=U;M.UNKNOWN.__enum__=M;M.__empty_constructs__=[M.BEGIN_BITMAP_FILL,M.BEGIN_FILL,M.BEGIN_GRADIENT_FILL,M.CUBIC_CURVE_TO,M.CURVE_TO,M.DRAW_CIRCLE,M.DRAW_ELLIPSE,M.DRAW_RECT,M.DRAW_ROUND_RECT,M.DRAW_TILES,M.DRAW_TRIANGLES,M.END_FILL,M.LINE_BITMAP_STYLE,M.LINE_GRADIENT_STYLE,M.LINE_STYLE,M.LINE_TO,M.MOVE_TO,M.OVERRIDE_MATRIX,M.WINDING_EVEN_ODD,
M.WINDING_NON_ZERO,M.UNKNOWN];var Ej=function(){this.activeTextures=0;this.allowSmoothing=!0;this.clearRenderDirty=!1};m["openfl._internal.renderer.RenderSession"]=Ej;Ej.__name__=["openfl","_internal","renderer","RenderSession"];Ej.prototype={allowSmoothing:null,cairo:null,clearRenderDirty:null,context:null,element:null,gl:null,renderer:null,roundPixels:null,transformProperty:null,transformOriginProperty:null,upscaled:null,vendorPrefix:null,projectionMatrix:null,z:null,drawCount:null,currentBlendMode:null,
activeTextures:null,blendModeManager:null,filterManager:null,maskManager:null,shaderManager:null,__class__:Ej};var tt=function(){};m["openfl._internal.renderer.cairo.CairoBitmap"]=tt;tt.__name__=["openfl","_internal","renderer","cairo","CairoBitmap"];tt.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);var d=a.__renderTransform;b.roundPixels?(d=d.__toMatrix3(),
d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=a.bitmapData.getSurface();null!=d&&(d=wc.createForSurface(d),wc.set_filter(d,b.allowSmoothing&&a.smoothing?1:3),c.set_source(d),1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));b.maskManager.popObject(a)}}};var ut=function(){};m["openfl._internal.renderer.cairo.CairoDisplayObject"]=ut;ut.__name__=["openfl","_internal","renderer","cairo","CairoDisplayObject"];ut.render=function(a,b){};var Y=function(){};
m["openfl._internal.renderer.cairo.CairoGraphics"]=Y;Y.__name__=["openfl","_internal","renderer","cairo","CairoGraphics"];Y.closePath=function(a){null==a&&(a=!1);null!=Y.strokePattern&&(a||Y.cairo.closePath(),Y.cairo.set_source(Y.strokePattern),Y.hitTesting||Y.cairo.strokePreserve(),a&&Y.cairo.closePath(),Y.cairo.newPath())};Y.createGradientPattern=function(a,b,c,d,e,f,k,h){var g=null;h=f=null;k=!1;null==e&&(e=cb.__pool.get(),k=!0);switch(a){case 0:f=Pa.__pool.get();f.setTo(-819.2,0);h=f.x;g=f.y;
f.x=h*e.a+g*e.c+e.tx;f.y=h*e.b+g*e.d+e.ty;h=Pa.__pool.get();h.setTo(819.2,0);g=h.x;a=h.y;h.x=g*e.a+a*e.c+e.tx;h.y=g*e.b+a*e.d+e.ty;f.x+=Y.graphics.__bounds.x;h.x+=Y.graphics.__bounds.x;f.y+=Y.graphics.__bounds.y;h.y+=Y.graphics.__bounds.y;g=wc.createLinear(f.x,f.y,h.x,h.y);break;case 1:f=Pa.__pool.get(),f.setTo(1638.4,0),g=f.x,a=f.y,f.x=g*e.a+a*e.c+e.tx,f.y=g*e.b+a*e.d+e.ty,g=e.tx+Y.graphics.__bounds.x,a=e.ty+Y.graphics.__bounds.y,g=wc.createRadial(g,a,0,g,a,Math.abs((f.x-e.tx)/2))}for(var m,n,l,
q,r=0,t=b.length;r<t;)q=r++,m=b[q],a=c[q],n=((m&16711680)>>>16)/255,l=((m&65280)>>>8)/255,m=(m&255)/255,q=d[q]/255,0>q&&(q=0),1<q&&(q=1),wc.addColorStopRGBA(g,q,n,l,m,a);null!=f&&Pa.__pool.release(f);null!=h&&Pa.__pool.release(h);k&&cb.__pool.release(e);b=wc.get_matrix(g);b.tx=Y.bounds.x;b.ty=Y.bounds.y;wc.set_matrix(g,b);return g};Y.createImagePattern=function(a,b,c,d){a=wc.createForSurface(a.getSurface());wc.set_filter(a,d&&Y.allowSmoothing?1:3);c&&wc.set_extend(a,1);Y.fillPatternMatrix=b;return a};
Y.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var k=-e+e*Y.SIN45,h=-e+e*Y.TAN22,g=-f+f*Y.SIN45,m=-f+f*Y.TAN22;Y.cairo.moveTo(c,d-f);Y.quadraticCurveTo(c,d+m,c+k,d+g);Y.quadraticCurveTo(c+h,d,c-e,d);Y.cairo.lineTo(a+e,d);Y.quadraticCurveTo(a-h,d,a-k,d+g);Y.quadraticCurveTo(a,d+m,a,d-f);Y.cairo.lineTo(a,b+f);Y.quadraticCurveTo(a,b-m,a-k,b-g);Y.quadraticCurveTo(a-h,b,a+e,b);Y.cairo.lineTo(c-e,b);Y.quadraticCurveTo(c+h,b,c+k,b-g);Y.quadraticCurveTo(c,
b-m,c,b+f);Y.cairo.lineTo(c,d-f)};Y.endFill=function(){Y.cairo.newPath();Y.playCommands(Y.fillCommands,!1);Y.fillCommands.clear()};Y.endStroke=function(){Y.cairo.newPath();Y.playCommands(Y.strokeCommands,!0);Y.cairo.closePath();Y.strokeCommands.clear()};Y.hitTest=function(a,b,c){return!1};Y.isCCW=function(a,b,c,d,e,f){return 0>(c-a)*(f-b)-(d-b)*(e-a)};Y.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.get_length(),f=1,k=e+1;f<k;)d=f++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=
d));if(!b)return{max:c,uvt:a};f=x.toFloatVector(null);k=1;for(e+=1;k<e;)d=k++,b&&0==d%3||f.push(a.get(d-1));return{max:c,uvt:f}};Y.playCommands=function(a,b){null==b&&(b=!1);if(0!=a.get_length()){Y.bounds=Y.graphics.__bounds;var c=Y.bounds.x,d=Y.bounds.y,e=0,f=0,k=!1,h=0,g=0,m=!1;Y.cairo.set_fillRule(1);Y.cairo.set_antialias(3);var n=!1,l=new jg(a),q,r,t,u,v,y,z,B,A,D,E,F,I,H=0,G=a.types;try{for(;H<G.length;){var J=G[H];++H;switch(J[1]){case 0:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=
1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.BEGIN_BITMAP_FILL;var C=l;Y.fillPattern=
Y.createImagePattern(C.buffer.o[C.oPos],C.buffer.o[C.oPos+1],C.buffer.b[C.bPos],C.buffer.b[C.bPos+1]);Y.bitmapFill=C.buffer.o[C.oPos];Y.bitmapRepeat=C.buffer.b[C.bPos];Y.hasFill=!0;break;case 1:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;
case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.BEGIN_FILL;C=l;.005>C.buffer.f[C.fPos]?Y.hasFill=!1:(null!=Y.fillPattern&&(Y.fillPatternMatrix=null),Y.fillPattern=wc.createRGBA(((C.buffer.i[C.iPos]&16711680)>>>16)/255,((C.buffer.i[C.iPos]&65280)>>>8)/255,(C.buffer.i[C.iPos]&255)/255,C.buffer.f[C.fPos]),Y.hasFill=!0);Y.bitmapFill=
null;break;case 2:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=
2;break;case 17:l.oPos+=1}l.prev=M.BEGIN_GRADIENT_FILL;C=l;null!=Y.fillPattern&&(Y.fillPatternMatrix=null);Y.fillPattern=Y.createGradientPattern(C.buffer.o[C.oPos],C.buffer.ii[C.iiPos],C.buffer.ff[C.ffPos],C.buffer.ii[C.iiPos+1],C.buffer.o[C.oPos+1],C.buffer.o[C.oPos+2],C.buffer.o[C.oPos+3],C.buffer.f[C.fPos]);Y.hasFill=!0;Y.bitmapFill=null;break;case 3:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=
6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.CUBIC_CURVE_TO;C=l;n=!0;Y.cairo.curveTo(C.buffer.f[C.fPos]-c,C.buffer.f[C.fPos+1]-d,C.buffer.f[C.fPos+2]-c,C.buffer.f[C.fPos+
3]-d,C.buffer.f[C.fPos+4]-c,C.buffer.f[C.fPos+5]-d);break;case 4:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=
2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.CURVE_TO;C=l;n=!0;Y.quadraticCurveTo(C.buffer.f[C.fPos]-c,C.buffer.f[C.fPos+1]-d,C.buffer.f[C.fPos+2]-c,C.buffer.f[C.fPos+3]-d);break;case 5:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=
5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.DRAW_CIRCLE;C=l;n=!0;Y.cairo.moveTo(C.buffer.f[C.fPos]-c+C.buffer.f[C.fPos+2],C.buffer.f[C.fPos+1]-d);Y.cairo.arc(C.buffer.f[C.fPos]-c,C.buffer.f[C.fPos+1]-d,C.buffer.f[C.fPos+2],0,2*Math.PI);break;case 6:switch(l.prev[1]){case 0:l.oPos+=2;
l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.DRAW_ELLIPSE;
C=l;n=!0;q=C.buffer.f[C.fPos];r=C.buffer.f[C.fPos+1];t=C.buffer.f[C.fPos+2];u=C.buffer.f[C.fPos+3];q-=c;r-=d;v=t/2*.5522848;y=u/2*.5522848;z=q+t;B=r+u;A=q+t/2;D=r+u/2;Y.cairo.moveTo(q,D);Y.cairo.curveTo(q,D-y,A-v,r,A,r);Y.cairo.curveTo(A+v,r,z,D-y,z,D);Y.cairo.curveTo(z,D+y,A+v,B,A,B);Y.cairo.curveTo(A-v,B,q,D+y,q,D);break;case 7:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=
4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.DRAW_RECT;C=l;n=!0;Y.cairo.rectangle(C.buffer.f[C.fPos]-c,C.buffer.f[C.fPos+1]-d,C.buffer.f[C.fPos+2],C.buffer.f[C.fPos+3]);break;case 8:switch(l.prev[1]){case 0:l.oPos+=
2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.DRAW_ROUND_RECT;
C=l;n=!0;Y.drawRoundRect(C.buffer.f[C.fPos]-c,C.buffer.f[C.fPos+1]-d,C.buffer.f[C.fPos+2],C.buffer.f[C.fPos+3],C.buffer.f[C.fPos+4],C.buffer.o[C.oPos]);break;case 10:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=
2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.DRAW_TRIANGLES;var C=l,K=C.buffer.o[C.oPos],O=C.buffer.o[C.oPos+1],N=C.buffer.o[C.oPos+2],Q=null==Y.bitmapFill;if(Q&&null!=N)throw"__break__";var P=0,R=0,L=Y.graphics.__renderTransform.__toMatrix3();if(!Q){if(null==N)for(var N=x.toFloatVector(null),S=0,V=K.get_length()/2|0;S<V;){var U=S++;N.push(K.get(2*U)/
Y.bitmapFill.width);N.push(K.get(2*U+1)/Y.bitmapFill.height)}var T=C.buffer.o[C.oPos+2].get_length()!=K.get_length(),W=Y.normalizeUVT(N,T),X=W.max,N=W.uvt;1<X?(P=Y.bounds.width|0,R=Y.bounds.height|0):(P=Y.bitmapFill.width,R=Y.bitmapFill.height)}var S=0,aa=O.get_length(),Z,ca,ba,da,ea,fa,ga,ka,la,ha,ia,ma,ja,na,oa,pa,sa,ra,qa,ta,ua,va,wa,xa,ya,Aa,Ca,za,Ba=new kh;for(Y.cairo.set_antialias(1);S<aa;){Z=S;ca=S+1;ba=S+2;da=2*O.get(Z);ea=2*O.get(Z)+1;fa=2*O.get(ca);ga=2*O.get(ca)+1;ka=2*O.get(ba);la=2*O.get(ba)+
1;ha=K.get(da);ia=K.get(ea);ma=K.get(fa);ja=K.get(ga);na=K.get(ka);oa=K.get(la);switch(C.buffer.o[C.oPos+3]){case 0:if(0>(ma-ha)*(oa-ia)-(ja-ia)*(na-ha)){S+=3;continue}break;case 2:if(!(0>(ma-ha)*(oa-ia)-(ja-ia)*(na-ha))){S+=3;continue}}Q?(Y.cairo.newPath(),Y.cairo.moveTo(ha,ia),Y.cairo.lineTo(ma,ja),Y.cairo.lineTo(na,oa),Y.cairo.closePath(),Y.hitTesting||Y.cairo.fillPreserve()):(Y.cairo.set_matrix(Y.graphics.__renderTransform.__toMatrix3()),Y.cairo.newPath(),Y.cairo.moveTo(ha,ia),Y.cairo.lineTo(ma,
ja),Y.cairo.lineTo(na,oa),Y.cairo.closePath(),pa=N.get(da)*P,ra=N.get(fa)*P,ta=N.get(ka)*P,sa=N.get(ea)*R,qa=N.get(ga)*R,ua=N.get(la)*R,va=pa*(ua-qa)-ra*ua+ta*qa+(ra-ta)*sa,0!=va&&(ha*=L.a,ma*=L.a,na*=L.a,ia*=L.d,ja*=L.d,oa*=L.d,wa=-(sa*(na-ma)-qa*na+ua*ma+(qa-ua)*ha)/va,xa=(qa*oa+sa*(ja-oa)-ua*ja+(ua-qa)*ia)/va,ya=(pa*(na-ma)-ra*na+ta*ma+(ra-ta)*ha)/va,Aa=-(ra*oa+pa*(ja-oa)-ta*ja+(ta-ra)*ia)/va,Ca=(pa*(ua*ma-qa*na)+sa*(ra*na-ta*ma)+(ta*qa-ra*ua)*ha)/va,za=(pa*(ua*ja-qa*oa)+sa*(ra*oa-ta*ja)+(ta*qa-
ra*ua)*ia)/va,Ba.setTo(wa,xa,ya,Aa,Ca,za),Y.cairo.set_matrix(Ba),Y.cairo.set_source(Y.fillPattern),Y.hitTesting||Y.cairo.fill()));S+=3}break;case 12:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=
4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.LINE_BITMAP_STYLE;C=l;b&&Y.hasStroke&&Y.closePath();Y.cairo.moveTo(e-c,f-d);Y.strokePattern=Y.createImagePattern(C.buffer.o[C.oPos],C.buffer.o[C.oPos+1],C.buffer.b[C.bPos],C.buffer.b[C.bPos+1]);Y.hasStroke=!0;break;case 13:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=
2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.LINE_GRADIENT_STYLE;C=l;b&&Y.hasStroke&&Y.closePath();Y.cairo.moveTo(e-c,f-d);Y.strokePattern=
Y.createGradientPattern(C.buffer.o[C.oPos],C.buffer.ii[C.iiPos],C.buffer.ff[C.ffPos],C.buffer.ii[C.iiPos+1],C.buffer.o[C.oPos+1],C.buffer.o[C.oPos+2],C.buffer.o[C.oPos+3],C.buffer.f[C.fPos]);Y.hasStroke=!0;break;case 14:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;
break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.LINE_STYLE;C=l;b&&Y.hasStroke&&Y.closePath(!0);Y.cairo.moveTo(e-c,f-d);if(null==C.buffer.o[C.oPos])Y.hasStroke=!1;else{Y.hasStroke=!0;Y.cairo.set_lineWidth(0<C.buffer.o[C.oPos]?C.buffer.o[C.oPos]:1);if(null==C.buffer.o[C.oPos+3])Y.cairo.set_lineJoin(1);
else{var Da;switch(C.buffer.o[C.oPos+3]){case 0:Da=2;break;case 1:Da=0;break;default:Da=1}Y.cairo.set_lineJoin(Da)}if(null==C.buffer.o[C.oPos+2])Y.cairo.set_lineCap(1);else{var Ea;switch(C.buffer.o[C.oPos+2]){case 0:Ea=0;break;case 2:Ea=2;break;default:Ea=1}Y.cairo.set_lineCap(Ea)}Y.cairo.set_miterLimit(C.buffer.f[C.fPos+1]);E=((C.buffer.i[C.iPos]&16711680)>>>16)/255;F=((C.buffer.i[C.iPos]&65280)>>>8)/255;I=(C.buffer.i[C.iPos]&255)/255;Y.strokePattern=1==C.buffer.f[C.fPos]?wc.createRGB(E,F,I):wc.createRGBA(E,
F,I,C.buffer.f[C.fPos])}break;case 15:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=
2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.LINE_TO;C=l;n=!0;Y.cairo.lineTo(C.buffer.f[C.fPos]-c,C.buffer.f[C.fPos+1]-d);e=C.buffer.f[C.fPos];f=C.buffer.f[C.fPos+1];e==h&&f==g&&(k=!0);break;case 16:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=
4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.MOVE_TO;C=l;Y.cairo.moveTo(C.buffer.f[C.fPos]-c,C.buffer.f[C.fPos+1]-d);e=C.buffer.f[C.fPos];f=C.buffer.f[C.fPos+1];m&&(k=!0);h=C.buffer.f[C.fPos];g=C.buffer.f[C.fPos+1];m=!0;break;case 18:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=
4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.WINDING_EVEN_ODD;Y.cairo.set_fillRule(1);break;case 19:switch(l.prev[1]){case 0:l.oPos+=
2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=M.WINDING_NON_ZERO;
Y.cairo.set_fillRule(0);break;default:switch(l.prev[1]){case 0:l.oPos+=2;l.bPos+=2;break;case 1:l.iPos+=1;l.fPos+=1;break;case 2:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 3:l.fPos+=6;break;case 4:l.fPos+=4;break;case 5:l.fPos+=3;break;case 6:l.fPos+=4;break;case 7:l.fPos+=4;break;case 8:l.fPos+=5;l.oPos+=1;break;case 10:l.oPos+=4;break;case 12:l.oPos+=2;l.bPos+=2;break;case 13:l.oPos+=4;l.iiPos+=2;l.ffPos+=1;l.fPos+=1;break;case 14:l.oPos+=4;l.iPos+=1;l.fPos+=2;l.bPos+=1;break;case 15:l.fPos+=
2;break;case 16:l.fPos+=2;break;case 17:l.oPos+=1}l.prev=J}}}catch(Ga){if("__break__"!=Ga)throw Ga;}l.destroy();n&&(b&&Y.hasStroke&&(Y.hasFill&&k?(Y.cairo.lineTo(h-c,g-d),Y.closePath(!1)):k&&e==h&&f==g&&Y.closePath(!1),Y.cairo.set_source(Y.strokePattern),Y.hitTesting||Y.cairo.strokePreserve()),!b&&Y.hasFill&&(Y.cairo.translate(-Y.bounds.x,-Y.bounds.y),null!=Y.fillPatternMatrix&&(c=cb.__pool.get(),c.copyFrom(Y.fillPatternMatrix),c.invert(),null!=Y.pendingMatrix&&c.concat(Y.pendingMatrix),wc.set_matrix(Y.fillPattern,
c.__toMatrix3()),cb.__pool.release(c)),Y.cairo.set_source(Y.fillPattern),null!=Y.pendingMatrix?(Y.cairo.transform(Y.pendingMatrix.__toMatrix3()),Y.hitTesting||Y.cairo.fillPreserve(),Y.cairo.transform(Y.inversePendingMatrix.__toMatrix3())):Y.hitTesting||Y.cairo.fillPreserve(),Y.cairo.translate(Y.bounds.x,Y.bounds.y),Y.cairo.closePath()))}};Y.quadraticCurveTo=function(a,b,c,d){var e=null;Y.cairo.get_hasCurrentPoint()?e=Y.cairo.get_currentPoint():(Y.cairo.moveTo(a,b),e=new Oc(a,b));Y.cairo.curveTo(e.x+
.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};Y.render=function(a,b,c){};Y.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new jg(a.__commands),e,f,k,h,g,m,n,l,q=0,r=a.__commands.types;q<r.length;)switch(e=r[q],++q,e[1]){case 3:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=
4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.CUBIC_CURVE_TO;e=d;c.curveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2]-0,e.buffer.f[e.fPos+3]-0,e.buffer.f[e.fPos+4]-0,e.buffer.f[e.fPos+
5]-0);break;case 4:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=
2;break;case 17:d.oPos+=1}d.prev=M.CURVE_TO;e=d;Y.quadraticCurveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2]-0,e.buffer.f[e.fPos+3]-0);break;case 5:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=
2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.DRAW_CIRCLE;e=d;c.arc(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],0,2*Math.PI);break;case 6:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=
3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.DRAW_ELLIPSE;g=d;e=g.buffer.f[g.fPos];f=g.buffer.f[g.fPos+1];k=g.buffer.f[g.fPos+2];h=g.buffer.f[g.fPos+3];e-=0;f-=0;g=k/2*.5522848;m=h/2*.5522848;n=e+k;l=f+h;k=e+k/2;h=f+
h/2;c.moveTo(e,h);c.curveTo(e,h-m,k-g,f,k,f);c.curveTo(k+g,f,n,h-m,n,h);c.curveTo(n,h+m,k+g,l,k,l);c.curveTo(k-g,l,e,h+m,e,h);break;case 7:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;
d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.DRAW_RECT;e=d;c.rectangle(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 8:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;
case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.DRAW_ROUND_RECT;e=d;Y.drawRoundRect(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.o[e.oPos]);break;case 15:switch(d.prev[1]){case 0:d.oPos+=
2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.LINE_TO;
e=d;c.lineTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;case 16:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;
d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.MOVE_TO;e=d;c.moveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;default:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=
2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=e}d.destroy()}};var Gr=function(a,b){ce.call(this,a)};m["openfl._internal.renderer.cairo.CairoRenderer"]=Gr;Gr.__name__=["openfl","_internal","renderer","cairo","CairoRenderer"];Gr.__super__=ce;Gr.prototype=z(ce.prototype,{cairo:null,clear:function(){this.cairo.identityMatrix();this.stage.__clearBeforeRender&&
(this.cairo.setSourceRGB(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2]),this.cairo.paint())},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.stage.__renderCairo(this.renderSession)},renderStage3D:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCairo(this.stage,this.renderSession)}},__class__:Gr});var vt=function(){};m["openfl._internal.renderer.cairo.CairoTextField"]=vt;vt.__name__=["openfl",
"_internal","renderer","cairo","CairoTextField"];vt.render=function(a,b,c){};var wt=function(){};m["openfl._internal.renderer.canvas.CanvasBitmap"]=wt;wt.__name__=["openfl","_internal","renderer","canvas","CanvasBitmap"];wt.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a,!1);ta.convertToCanvas(a.bitmapData.image);c.globalAlpha=a.__worldAlpha;var d=
a.__renderTransform,e=a.__scrollRect;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.allowSmoothing&&a.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(a.bitmapData.image.get_src(),0,0):c.drawImage(a.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);b.allowSmoothing&&a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=
!0);b.maskManager.popObject(a,!1)}}};var Fj=function(a){this.renderSession=a};m["openfl._internal.renderer.canvas.CanvasBlendModeManager"]=Fj;Fj.__name__=["openfl","_internal","renderer","canvas","CanvasBlendModeManager"];Fj.__super__=xj;Fj.prototype=z(xj.prototype,{currentBlendMode:null,renderSession:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.renderSession.context.globalCompositeOperation="lighter";break;case 1:this.renderSession.context.globalCompositeOperation=
"destination-in";break;case 2:this.renderSession.context.globalCompositeOperation="darken";break;case 3:this.renderSession.context.globalCompositeOperation="difference";break;case 4:this.renderSession.context.globalCompositeOperation="destination-out";break;case 5:this.renderSession.context.globalCompositeOperation="hard-light";break;case 7:this.renderSession.context.globalCompositeOperation="source-over";break;case 8:this.renderSession.context.globalCompositeOperation="lighten";break;case 9:this.renderSession.context.globalCompositeOperation=
"multiply";break;case 11:this.renderSession.context.globalCompositeOperation="overlay";break;case 12:this.renderSession.context.globalCompositeOperation="screen";break;default:this.renderSession.context.globalCompositeOperation="source-over"}},__class__:Fj});var xt=function(){};m["openfl._internal.renderer.canvas.CanvasDisplayObject"]=xt;xt.__name__=["openfl","_internal","renderer","canvas","CanvasDisplayObject"];xt.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||
0>=a.__worldAlpha)){if(null!=a.opaqueBackground&&!a.__cacheBitmapRender&&0<a.get_width()&&0<a.get_height()){b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);var c=b.context,d=a.__renderTransform;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);d=a.opaqueBackground;c.fillStyle="rgb("+(d>>>16&255)+","+(d>>>8&255)+","+(d&255)+")";c.fillRect(0,0,a.get_width(),a.get_height());b.maskManager.popObject(a)}if(null!=a.__graphics&&
a.__renderable&&!(0>=a.__worldAlpha)&&(c=a.__graphics,null!=c)){G.render(c,b,a.__renderTransform);var e=c.__width,f=c.__height;if(null!=c.__canvas){var d=b.context,k=a.__scrollRect;0<e&&0<f&&(null==k||0<k.width&&0<k.height)&&(b.blendModeManager.setBlendMode(a.__worldBlendMode),b.maskManager.pushObject(a),d.globalAlpha=a.__worldAlpha,e=c.__worldTransform,b.roundPixels?d.setTransform(e.a,e.b,e.c,e.d,e.tx|0,e.ty|0):d.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),d.drawImage(c.__canvas,0,0),b.maskManager.popObject(a))}}}};
var G=function(){};m["openfl._internal.renderer.canvas.CanvasGraphics"]=G;G.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"];G.closePath=function(a){null==a&&(a=!1);null!=G.context.strokeStyle&&(a||G.context.closePath(),G.context.stroke(),a&&G.context.closePath(),G.context.beginPath())};G.createBitmapFill=function(a,b,c){ta.convertToCanvas(a.image);G.setSmoothing(c);return G.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};G.createGradientPattern=function(a,b,c,
d,e,f,k,h){var g=null;h=f=null;k=!1;null==e&&(e=cb.__pool.get(),k=!0);switch(a){case 0:f=Pa.__pool.get();f.setTo(-819.2,0);h=f.x;g=f.y;f.x=h*e.a+g*e.c+e.tx;f.y=h*e.b+g*e.d+e.ty;h=Pa.__pool.get();h.setTo(819.2,0);g=h.x;a=h.y;h.x=g*e.a+a*e.c+e.tx;h.y=g*e.b+a*e.d+e.ty;g=G.context.createLinearGradient(f.x,f.y,h.x,h.y);break;case 1:f=Pa.__pool.get(),f.setTo(1638.4,0),g=f.x,a=f.y,f.x=g*e.a+a*e.c+e.tx,f.y=g*e.b+a*e.d+e.ty,g=G.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,Math.abs((f.x-e.tx)/2))}for(var m,
n,l,q,r=0,t=b.length;r<t;)q=r++,m=b[q],a=c[q],n=(m&16711680)>>>16,l=(m&65280)>>>8,m&=255,q=d[q]/255,0>q&&(q=0),1<q&&(q=1),g.addColorStop(q,"rgba("+n+", "+l+", "+m+", "+a+")");null!=f&&Pa.__pool.release(f);null!=h&&Pa.__pool.release(h);k&&cb.__pool.release(e);return g};G.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=d;a=a.image.get_src();f.fillStyle=f.createPattern(a,b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);
f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();G.hitTesting||f.fill(G.windingRule);return e};G.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var k=-e+e*G.SIN45,h=-e+e*G.TAN22,g=-f+f*G.SIN45,m=-f+f*G.TAN22;G.context.moveTo(c,d-f);G.context.quadraticCurveTo(c,d+m,c+k,d+g);G.context.quadraticCurveTo(c+h,d,c-e,d);G.context.lineTo(a+e,d);G.context.quadraticCurveTo(a-h,d,a-k,d+g);G.context.quadraticCurveTo(a,d+m,a,d-f);G.context.lineTo(a,
b+f);G.context.quadraticCurveTo(a,b-m,a-k,b-g);G.context.quadraticCurveTo(a-h,b,a+e,b);G.context.lineTo(c-e,b);G.context.quadraticCurveTo(c+h,b,c+k,b-g);G.context.quadraticCurveTo(c,b-m,c,b+f);G.context.lineTo(c,d-f)};G.endFill=function(){G.context.beginPath();G.playCommands(G.fillCommands,!1);G.fillCommands.clear()};G.endStroke=function(){G.context.beginPath();G.playCommands(G.strokeCommands,!0);G.context.closePath();G.strokeCommands.clear()};G.hitTest=function(a,b,c){G.bounds=a.__bounds;G.graphics=
a;if(!(0==a.__commands.get_length()||null==G.bounds||0>=G.bounds.width||0>=G.bounds.height)){G.hitTesting=!0;var d=a.__renderTransform,e=b*d.b+c*d.d+d.ty;b=b*d.a+c*d.c+d.tx;b-=G.bounds.x*d.a+G.bounds.y*d.c+d.tx;c=e-(G.bounds.x*d.b+G.bounds.y*d.d+d.ty);var e=a.__canvas,f=a.__context;a.__canvas=G.hitTestCanvas;a.__context=G.hitTestContext;G.context=a.__context;G.context.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);G.fillCommands.clear();G.strokeCommands.clear();G.hasFill=!1;G.hasStroke=!1;G.bitmapFill=null;
G.bitmapRepeat=!1;for(var d=new jg(a.__commands),k=0,h=a.__commands.types;k<h.length;){var g=h[k];++k;switch(g[1]){case 0:case 1:case 2:G.endFill();G.endStroke();if(G.hasFill&&G.context.isPointInPath(b,c)||G.hasStroke&&G.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=e,a.__context=f,!0;if(g==M.BEGIN_BITMAP_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=
4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.BEGIN_BITMAP_FILL;g=d;G.fillCommands.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);G.strokeCommands.beginBitmapFill(g.buffer.o[g.oPos],
g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1])}else if(g==M.BEGIN_GRADIENT_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=
4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.BEGIN_GRADIENT_FILL;g=d;G.fillCommands.beginGradientFill(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos]);G.strokeCommands.beginGradientFill(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+
3],g.buffer.f[g.fPos])}else{switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;
break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.BEGIN_FILL;g=d;G.fillCommands.beginFill(g.buffer.i[g.iPos],1);G.strokeCommands.beginFill(g.buffer.i[g.iPos],1)}break;case 3:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=
2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.CUBIC_CURVE_TO;g=d;G.fillCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5]);G.strokeCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+
4],g.buffer.f[g.fPos+5]);break;case 4:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=
2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.CURVE_TO;g=d;G.fillCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);G.strokeCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 5:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;
break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.DRAW_CIRCLE;g=d;G.fillCommands.drawCircle(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2]);G.strokeCommands.drawCircle(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+
2]);break;case 6:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=
2;break;case 17:d.oPos+=1}d.prev=M.DRAW_ELLIPSE;g=d;G.fillCommands.drawEllipse(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);G.strokeCommands.drawEllipse(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 7:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=
4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.DRAW_RECT;g=d;G.fillCommands.drawRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);G.strokeCommands.drawRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+
2],g.buffer.f[g.fPos+3]);break;case 8:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=
2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.DRAW_ROUND_RECT;g=d;G.fillCommands.drawRoundRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.o[g.oPos]);G.strokeCommands.drawRoundRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.o[g.oPos]);break;case 11:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=
2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.END_FILL;G.endFill();G.endStroke();if(G.hasFill&&G.context.isPointInPath(b,c)||G.hasStroke&&
G.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=e,a.__context=f,!0;G.hasFill=!1;G.bitmapFill=null;break;case 12:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=
1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.LINE_BITMAP_STYLE;g=d;G.strokeCommands.lineBitmapStyle(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);break;case 13:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;
case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.LINE_GRADIENT_STYLE;g=d;G.strokeCommands.lineGradientStyle(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+
2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos]);break;case 14:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=
1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.LINE_STYLE;g=d;G.strokeCommands.lineStyle(g.buffer.o[g.oPos],g.buffer.i[g.iPos],1,g.buffer.b[g.bPos],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos+1]);break;case 15:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=
4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.LINE_TO;g=d;G.fillCommands.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);G.strokeCommands.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);break;case 16:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=
2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=M.MOVE_TO;g=d;G.fillCommands.moveTo(g.buffer.f[g.fPos],
g.buffer.f[g.fPos+1]);G.strokeCommands.moveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);break;default:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;
case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=g}}0<G.fillCommands.get_length()&&G.endFill();0<G.strokeCommands.get_length()&&G.endStroke();d.destroy();if(G.hasFill&&G.context.isPointInPath(b,c)||G.hasStroke&&G.context.isPointInStroke(b,c))return a.__canvas=e,a.__context=f,!0;a.__canvas=e;a.__context=f}return!1};G.isCCW=function(a,b,c,d,e,f){return 0>(c-a)*(f-b)-(d-b)*(e-a)};G.normalizeUVT=function(a,b){null==b&&(b=!1);
for(var c=-Infinity,d=-Infinity,e=a.get_length(),f=1,k=e+1;f<k;)d=f++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=d));if(!b)return{max:c,uvt:a};f=x.toFloatVector(null);k=1;for(e+=1;k<e;)d=k++,b&&0==d%3||f.push(a.get(d-1));return{max:c,uvt:f}};G.playCommands=function(a,b){null==b&&(b=!1);G.bounds=G.graphics.__bounds;var c=G.bounds.x,d=G.bounds.y,e=0,f=0,k=!1,h=0,g=0,m=!1;G.windingRule="evenodd";G.setSmoothing(!0);for(var n=new jg(a),l,q,r,t,u,v,y,x,z=null,B=null,A=0,C=a.types;A<C.length;)switch(l=C[A],++A,l[1]){case 0:switch(n.prev[1]){case 0:n.oPos+=
2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.BEGIN_BITMAP_FILL;
l=n;G.bitmapFill=l.buffer.o[l.oPos];G.context.fillStyle=G.createBitmapFill(l.buffer.o[l.oPos],!0,l.buffer.b[l.bPos+1]);G.hasFill=!0;null!=l.buffer.o[l.oPos+1]?(G.pendingMatrix=l.buffer.o[l.oPos+1],G.inversePendingMatrix=l.buffer.o[l.oPos+1].clone(),G.inversePendingMatrix.invert()):(G.pendingMatrix=null,G.inversePendingMatrix=null);break;case 1:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;
break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.BEGIN_FILL;l=n;.005>l.buffer.f[l.fPos]?G.hasFill=!1:(1==l.buffer.f[l.fPos]?(l=Da.hex(l.buffer.i[l.iPos]&16777215,6),G.context.fillStyle=
"#"+l):(q=(l.buffer.i[l.iPos]&16711680)>>>16,u=(l.buffer.i[l.iPos]&65280)>>>8,v=l.buffer.i[l.iPos]&255,G.context.fillStyle="rgba("+q+", "+u+", "+v+", "+l.buffer.f[l.fPos]+")"),G.bitmapFill=null,G.setSmoothing(!0),G.hasFill=!0);break;case 2:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=
5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.BEGIN_GRADIENT_FILL;l=n;G.context.fillStyle=G.createGradientPattern(l.buffer.o[l.oPos],l.buffer.ii[l.iiPos],l.buffer.ff[l.ffPos],l.buffer.ii[l.iiPos+1],l.buffer.o[l.oPos+1],l.buffer.o[l.oPos+2],l.buffer.o[l.oPos+3],l.buffer.f[l.fPos]);G.bitmapFill=
null;G.setSmoothing(!0);G.hasFill=!0;break;case 3:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;
case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.CUBIC_CURVE_TO;l=n;G.context.bezierCurveTo(l.buffer.f[l.fPos]-c,l.buffer.f[l.fPos+1]-d,l.buffer.f[l.fPos+2]-c,l.buffer.f[l.fPos+3]-d,l.buffer.f[l.fPos+4]-c,l.buffer.f[l.fPos+5]-d);break;case 4:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=
4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.CURVE_TO;l=n;G.context.quadraticCurveTo(l.buffer.f[l.fPos]-c,l.buffer.f[l.fPos+1]-d,l.buffer.f[l.fPos+2]-c,l.buffer.f[l.fPos+3]-d);break;case 5:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=
1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.DRAW_CIRCLE;l=n;G.context.moveTo(l.buffer.f[l.fPos]-
c+l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+1]-d);G.context.arc(l.buffer.f[l.fPos]-c,l.buffer.f[l.fPos+1]-d,l.buffer.f[l.fPos+2],0,2*Math.PI,!0);break;case 6:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=
4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.DRAW_ELLIPSE;u=n;l=u.buffer.f[u.fPos];q=u.buffer.f[u.fPos+1];r=u.buffer.f[u.fPos+2];t=u.buffer.f[u.fPos+3];l-=c;q-=d;u=r/2*.5522848;v=t/2*.5522848;y=l+r;x=q+t;r=l+r/2;t=q+t/2;G.context.moveTo(l,t);G.context.bezierCurveTo(l,t-v,r-u,q,r,q);G.context.bezierCurveTo(r+u,q,y,t-v,y,t);G.context.bezierCurveTo(y,t+v,r+u,x,r,x);G.context.bezierCurveTo(r-
u,x,l,t+v,l,t);break;case 7:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;
break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.DRAW_RECT;u=n;l=!1;null==G.bitmapFill||G.hitTesting||(r=x=y=v=0,q=!0,null!=G.pendingMatrix?0!=G.pendingMatrix.b||0!=G.pendingMatrix.c?q=!1:(null==z&&(z=Pa.__pool.get()),null==B&&(B=Pa.__pool.get()),z.setTo(u.buffer.f[u.fPos],u.buffer.f[u.fPos+1]),v=G.inversePendingMatrix,y=z.x,x=z.y,z.x=y*v.a+x*v.c+v.tx,z.y=y*v.b+x*v.d+v.ty,B.setTo(u.buffer.f[u.fPos]+u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+1]+u.buffer.f[u.fPos+3]),v=G.inversePendingMatrix,y=
B.x,x=B.y,B.x=y*v.a+x*v.c+v.tx,B.y=y*v.b+x*v.d+v.ty,v=z.y,r=z.x,x=B.y,y=B.x):(v=u.buffer.f[u.fPos+1],r=u.buffer.f[u.fPos],x=u.buffer.f[u.fPos+1]+u.buffer.f[u.fPos+3],y=u.buffer.f[u.fPos]+u.buffer.f[u.fPos+2]),q&&0<=v&&0<=r&&y<=G.bitmapFill.width&&x<=G.bitmapFill.height&&(l=!0,G.hitTesting||G.context.drawImage(G.bitmapFill.image.get_src(),r,v,y-r,x-v,u.buffer.f[u.fPos]-c,u.buffer.f[u.fPos+1]-d,u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3])));l||G.context.rect(u.buffer.f[u.fPos]-c,u.buffer.f[u.fPos+1]-
d,u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3]);break;case 8:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=
1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.DRAW_ROUND_RECT;l=n;G.drawRoundRect(l.buffer.f[l.fPos]-c,l.buffer.f[l.fPos+1]-d,l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3],l.buffer.f[l.fPos+4],l.buffer.o[l.oPos]);break;case 12:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=
4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.LINE_BITMAP_STYLE;l=n;b&&G.hasStroke&&G.closePath();G.context.moveTo(e-c,f-d);G.context.strokeStyle=G.createBitmapFill(l.buffer.o[l.oPos],l.buffer.b[l.bPos],l.buffer.b[l.bPos+1]);G.hasStroke=!0;break;case 13:switch(n.prev[1]){case 0:n.oPos+=
2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.LINE_GRADIENT_STYLE;
l=n;b&&G.hasStroke&&G.closePath();G.context.moveTo(e-c,f-d);G.context.strokeStyle=G.createGradientPattern(l.buffer.o[l.oPos],l.buffer.ii[l.iiPos],l.buffer.ff[l.ffPos],l.buffer.ii[l.iiPos+1],l.buffer.o[l.oPos+1],l.buffer.o[l.oPos+2],l.buffer.o[l.oPos+3],l.buffer.f[l.fPos]);G.setSmoothing(!0);G.hasStroke=!0;break;case 14:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;
case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.LINE_STYLE;l=n;b&&G.hasStroke&&G.closePath(!0);G.context.moveTo(e-c,f-d);null==l.buffer.o[l.oPos]?G.hasStroke=!1:(G.context.lineWidth=0<l.buffer.o[l.oPos]?l.buffer.o[l.oPos]:
1,q=null==l.buffer.o[l.oPos+3]?"round":Gj.toString(l.buffer.o[l.oPos+3]).toLowerCase(),G.context.lineJoin=q,q=null==l.buffer.o[l.oPos+2]?"round":0==l.buffer.o[l.oPos+2]?"butt":Hj.toString(l.buffer.o[l.oPos+2]).toLowerCase(),G.context.lineCap=q,G.context.miterLimit=l.buffer.f[l.fPos+1],1==l.buffer.f[l.fPos]?(l=Da.hex(l.buffer.i[l.iPos]&16777215,6),G.context.strokeStyle="#"+l):(q=(l.buffer.i[l.iPos]&16711680)>>>16,u=(l.buffer.i[l.iPos]&65280)>>>8,v=l.buffer.i[l.iPos]&255,G.context.strokeStyle="rgba("+
q+", "+u+", "+v+", "+l.buffer.f[l.fPos]+")"),G.setSmoothing(!0),G.hasStroke=!0);break;case 15:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=
4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.LINE_TO;f=n;G.context.lineTo(f.buffer.f[f.fPos]-c,f.buffer.f[f.fPos+1]-d);e=f.buffer.f[f.fPos];f=f.buffer.f[f.fPos+1];e==h&&f==g&&(k=!0);break;case 16:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=
4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=M.MOVE_TO;g=n;G.context.moveTo(g.buffer.f[g.fPos]-c,g.buffer.f[g.fPos+1]-d);e=g.buffer.f[g.fPos];f=g.buffer.f[g.fPos+1];m&&(k=!0);h=g.buffer.f[g.fPos];g=g.buffer.f[g.fPos+1];m=!0;break;case 18:G.windingRule="evenodd";break;
case 19:G.windingRule="nonzero";break;default:switch(n.prev[1]){case 0:n.oPos+=2;n.bPos+=2;break;case 1:n.iPos+=1;n.fPos+=1;break;case 2:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 3:n.fPos+=6;break;case 4:n.fPos+=4;break;case 5:n.fPos+=3;break;case 6:n.fPos+=4;break;case 7:n.fPos+=4;break;case 8:n.fPos+=5;n.oPos+=1;break;case 10:n.oPos+=4;break;case 12:n.oPos+=2;n.bPos+=2;break;case 13:n.oPos+=4;n.iiPos+=2;n.ffPos+=1;n.fPos+=1;break;case 14:n.oPos+=4;n.iPos+=1;n.fPos+=2;n.bPos+=1;break;
case 15:n.fPos+=2;break;case 16:n.fPos+=2;break;case 17:n.oPos+=1}n.prev=l}null!=z&&Pa.__pool.release(z);null!=B&&Pa.__pool.release(B);n.destroy();b&&G.hasStroke&&(G.hasFill&&k?(G.context.lineTo(h-c,g-d),G.closePath(!1)):k&&e==h&&f==g&&G.closePath(!1),G.hitTesting||G.context.stroke());b||!G.hasFill&&null==G.bitmapFill||(G.context.translate(-G.bounds.x,-G.bounds.y),null!=G.pendingMatrix?(G.context.transform(G.pendingMatrix.a,G.pendingMatrix.b,G.pendingMatrix.c,G.pendingMatrix.d,G.pendingMatrix.tx,
G.pendingMatrix.ty),G.hitTesting||G.context.fill(G.windingRule),G.context.transform(G.inversePendingMatrix.a,G.inversePendingMatrix.b,G.inversePendingMatrix.c,G.inversePendingMatrix.d,G.inversePendingMatrix.tx,G.inversePendingMatrix.ty)):G.hitTesting||G.context.fill(G.windingRule),G.context.translate(G.bounds.x,G.bounds.y),G.context.closePath())};G.render=function(a,b,c){a.__update();if(a.__dirty){G.hitTesting=!1;G.graphics=a;G.allowSmoothing=b.allowSmoothing;G.bounds=a.__bounds;b=a.__width;c=a.__height;
if(!a.__visible||0==a.__commands.get_length()||null==G.bounds||1>b||1>c)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));G.context=a.__context;var d=a.__renderTransform,e=a.__canvas,f=ri.scale,k=b*f|0,f=c*f|0;e.width==k&&e.height==f?G.context.clearRect(0,0,k,f):(e.width=b,e.height=c);G.context.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);G.fillCommands.clear();G.strokeCommands.clear();G.hasFill=
!1;G.hasStroke=!1;G.bitmapFill=null;b=G.bitmapRepeat=!1;d=c=0;G.windingRule="evenodd";e=new jg(a.__commands);k=0;f=a.__commands.types;try{for(;k<f.length;){var h=f[k];++k;switch(h[1]){case 0:case 1:case 2:G.endFill();G.endStroke();if(h==M.BEGIN_BITMAP_FILL){switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=
4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.BEGIN_BITMAP_FILL;var g=e;G.fillCommands.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);G.strokeCommands.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],
g.buffer.b[g.bPos+1])}else if(h==M.BEGIN_GRADIENT_FILL){switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=
1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.BEGIN_GRADIENT_FILL;g=e;G.fillCommands.beginGradientFill(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos]);G.strokeCommands.beginGradientFill(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos])}else{switch(e.prev[1]){case 0:e.oPos+=
2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.BEGIN_FILL;
g=e;G.fillCommands.beginFill(g.buffer.i[g.iPos],g.buffer.f[g.fPos]);G.strokeCommands.beginFill(g.buffer.i[g.iPos],g.buffer.f[g.fPos])}break;case 3:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=
4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.CUBIC_CURVE_TO;g=e;G.fillCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5]);b?G.strokeCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5]):(c=
g.buffer.f[g.fPos+4],d=g.buffer.f[g.fPos+5]);break;case 4:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=
1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.CURVE_TO;g=e;G.fillCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);b?G.strokeCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]):(c=g.buffer.f[g.fPos+2],d=g.buffer.f[g.fPos+3]);break;case 5:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=
1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.DRAW_CIRCLE;g=e;G.fillCommands.drawCircle(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2]);
b&&G.strokeCommands.drawCircle(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2]);break;case 6:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;
break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.DRAW_ELLIPSE;g=e;G.fillCommands.drawEllipse(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);b&&G.strokeCommands.drawEllipse(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 7:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;
e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.DRAW_RECT;g=e;G.fillCommands.drawRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+
2],g.buffer.f[g.fPos+3]);b&&G.strokeCommands.drawRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 8:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=
4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.DRAW_ROUND_RECT;g=e;G.fillCommands.drawRoundRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.o[g.oPos]);b&&G.strokeCommands.drawRoundRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.o[g.oPos]);break;
case 10:G.endFill();G.endStroke();switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=
2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.DRAW_TRIANGLES;var g=e,m=g.buffer.o[g.oPos],n=g.buffer.o[g.oPos+1],l=g.buffer.o[g.oPos+2],q=null,r=null==G.bitmapFill;if(r&&null!=l)throw"__break__";if(!r){if(null==l)for(var l=x.toFloatVector(null),t=0,u=m.get_length()/2|0;t<u;){var v=t++;l.push(m.get(2*v)/G.bitmapFill.width);l.push(m.get(2*v+1)/G.bitmapFill.height)}var y=l.get_length()!=m.get_length(),z=G.normalizeUVT(l,y),B=z.max,l=z.uvt,q=1<B?G.createTempPatternCanvas(G.bitmapFill,G.bitmapRepeat,
G.bounds.width|0,G.bounds.height|0):G.createTempPatternCanvas(G.bitmapFill,G.bitmapRepeat,G.bitmapFill.width,G.bitmapFill.height)}for(var t=0,A=n.get_length(),C,D,E,F,I,H,J,K,O,N,Q,P,S,R,L,U,V,T,W,X,Y,Z,aa,ca,ba,da,ea,fa;t<A;){C=t;D=t+1;E=t+2;F=2*n.get(C);I=2*n.get(C)+1;H=2*n.get(D);J=2*n.get(D)+1;K=2*n.get(E);O=2*n.get(E)+1;N=m.get(F);Q=m.get(I);P=m.get(H);S=m.get(J);R=m.get(K);L=m.get(O);switch(g.buffer.o[g.oPos+3]){case 0:if(0>(P-N)*(L-Q)-(S-Q)*(R-N)){t+=3;continue}break;case 2:if(!(0>(P-N)*(L-
Q)-(S-Q)*(R-N))){t+=3;continue}}r?(G.context.beginPath(),G.context.moveTo(N,Q),G.context.lineTo(P,S),G.context.lineTo(R,L),G.context.closePath(),G.hitTesting||G.context.fill(G.windingRule)):(G.context.save(),G.context.beginPath(),G.context.moveTo(N,Q),G.context.lineTo(P,S),G.context.lineTo(R,L),G.context.closePath(),G.context.clip(),U=l.get(F)*q.width,T=l.get(H)*q.width,X=l.get(K)*q.width,V=l.get(I)*q.height,W=l.get(J)*q.height,Y=l.get(O)*q.height,Z=U*(Y-W)-T*Y+X*W+(T-X)*V,0!=Z&&(aa=-(V*(R-P)-W*R+
Y*P+(W-Y)*N)/Z,ca=(W*L+V*(S-L)-Y*S+(Y-W)*Q)/Z,ba=(U*(R-P)-T*R+X*P+(T-X)*N)/Z,da=-(T*L+U*(S-L)-X*S+(X-T)*Q)/Z,ea=(U*(Y*P-W*R)+V*(T*R-X*P)+(X*W-T*Y)*N)/Z,fa=(U*(Y*S-W*L)+V*(T*L-X*S)+(X*W-T*Y)*Q)/Z,G.context.transform(aa,ca,ba,da,ea,fa),G.context.drawImage(q,0,0),G.context.restore()));t+=3}break;case 11:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=
3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.END_FILL;G.endFill();G.endStroke();b=G.hasFill=!1;G.bitmapFill=null;d=c=0;break;case 12:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;
case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.LINE_BITMAP_STYLE;g=e;b||0==c&&0==d||(G.strokeCommands.moveTo(c,
d),d=c=0);b=!0;G.strokeCommands.lineBitmapStyle(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);break;case 13:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=
4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.LINE_GRADIENT_STYLE;g=e;b||0==c&&0==d||(G.strokeCommands.moveTo(c,d),d=c=0);b=!0;G.strokeCommands.lineGradientStyle(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos]);break;case 14:switch(e.prev[1]){case 0:e.oPos+=2;
e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.LINE_STYLE;
g=e;b||null==g.buffer.o[g.oPos]||0==c&&0==d||(G.strokeCommands.moveTo(c,d),d=c=0);b=null!=g.buffer.o[g.oPos];G.strokeCommands.lineStyle(g.buffer.o[g.oPos],g.buffer.i[g.iPos],g.buffer.f[g.fPos],g.buffer.b[g.bPos],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos+1]);break;case 15:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=
3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.LINE_TO;g=e;G.fillCommands.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);b?G.strokeCommands.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]):(c=g.buffer.f[g.fPos],d=g.buffer.f[g.fPos+
1]);break;case 16:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=
2;break;case 17:e.oPos+=1}e.prev=M.MOVE_TO;g=e;G.fillCommands.moveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);b?G.strokeCommands.moveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]):(c=g.buffer.f[g.fPos],d=g.buffer.f[g.fPos+1]);break;case 18:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=
5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.WINDING_EVEN_ODD;G.fillCommands.windingEvenOdd();G.windingRule="evenodd";break;case 19:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=
6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=M.WINDING_NON_ZERO;G.fillCommands.windingNonZero();G.windingRule="nonzero";break;default:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=
2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=h}}}catch(ga){if("__break__"!=
ga)throw ga;}0<G.fillCommands.get_length()&&G.endFill();0<G.strokeCommands.get_length()&&G.endStroke();e.destroy();a.__bitmap=Ha.fromCanvas(a.__canvas)}a.set___dirty(!1)}};G.renderMask=function(a,b){if(0!=a.__commands.get_length()){G.context=b.context;for(var c=new jg(a.__commands),d,e,f,k,g,h,m,n,l=0,q=a.__commands.types;l<q.length;)switch(d=q[l],++l,d[1]){case 3:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;
case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.CUBIC_CURVE_TO;d=c;G.context.bezierCurveTo(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2]-0,
d.buffer.f[d.fPos+3]-0,d.buffer.f[d.fPos+4]-0,d.buffer.f[d.fPos+5]-0);break;case 4:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;
c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.CURVE_TO;d=c;G.context.quadraticCurveTo(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2]-0,d.buffer.f[d.fPos+3]-0);break;case 5:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=
4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.DRAW_CIRCLE;d=c;G.context.arc(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2],0,2*Math.PI,!0);break;case 6:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=
4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.DRAW_ELLIPSE;g=c;d=g.buffer.f[g.fPos];e=g.buffer.f[g.fPos+1];f=g.buffer.f[g.fPos+
2];k=g.buffer.f[g.fPos+3];d-=0;e-=0;g=f/2*.5522848;h=k/2*.5522848;m=d+f;n=e+k;f=d+f/2;k=e+k/2;G.context.moveTo(d,k);G.context.bezierCurveTo(d,k-h,f-g,e,f,e);G.context.bezierCurveTo(f+g,e,m,k-h,m,k);G.context.bezierCurveTo(m,k+h,f+g,n,f,n);G.context.bezierCurveTo(f-g,n,d,k+h,d,k);break;case 7:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;
case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.DRAW_RECT;d=c;G.context.rect(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 8:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;
case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.DRAW_ROUND_RECT;d=c;G.drawRoundRect(d.buffer.f[d.fPos]-
0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3],d.buffer.f[d.fPos+4],d.buffer.o[d.oPos]);break;case 15:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=
1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.LINE_TO;d=c;G.context.lineTo(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0);break;case 16:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=
5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=M.MOVE_TO;d=c;G.context.moveTo(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0);break;default:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=
6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=d}c.destroy()}};G.setSmoothing=function(a){G.allowSmoothing||(a=!1);G.context.imageSmoothingEnabled!=a&&(G.context.mozImageSmoothingEnabled=
a,G.context.msImageSmoothingEnabled=a,G.context.imageSmoothingEnabled=a)};var Ij=function(a){this.renderSession=a};m["openfl._internal.renderer.canvas.CanvasMaskManager"]=Ij;Ij.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"];Ij.__super__=Bh;Ij.prototype=z(Bh.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getRenderTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushObject:function(a,
b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.context.restore()},
__class__:Ij});var ri=function(a,b){ce.call(this,a);this.context=b;this.renderSession=new Ej;this.renderSession.clearRenderDirty=!0;this.renderSession.context=b;this.renderSession.renderer=this;this.renderSession.blendModeManager=new Fj(this.renderSession);this.renderSession.maskManager=new Ij(this.renderSession);var c=a.window.config;null!=c&&Object.prototype.hasOwnProperty.call(c,"allowHighDPI")&&c.allowHighDPI&&(ri.scale=window.devicePixelRatio||1)};m["openfl._internal.renderer.canvas.CanvasRenderer"]=
ri;ri.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"];ri.__super__=ce;ri.prototype=z(ce.prototype,{context:null,clear:function(){this.renderSession.blendModeManager.setBlendMode(10);this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!this.stage.__transparent&&this.stage.__clearBeforeRender?(this.context.fillStyle=this.stage.__colorString,this.context.fillRect(0,0,this.stage.stageWidth*this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale)):
this.stage.__transparent&&this.stage.__clearBeforeRender&&this.context.clearRect(0,0,this.stage.stageWidth*this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale)},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.stage.__renderCanvas(this.renderSession)},renderStage3D:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCanvas(this.stage,this.renderSession)}},__class__:ri});var yt=function(){};m["openfl._internal.renderer.canvas.CanvasShape"]=
yt;yt.__name__=["openfl","_internal","renderer","canvas","CanvasShape"];yt.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c){G.render(c,b,a.__renderTransform);var d=c.__width,e=c.__height;if(null!=c.__canvas){var f=b.context,k=a.__scrollRect;0<d&&0<e&&(null==k||0<k.width&&0<k.height)&&(b.blendModeManager.setBlendMode(a.__worldBlendMode),b.maskManager.pushObject(a),f.globalAlpha=a.__worldAlpha,d=c.__worldTransform,b.roundPixels?f.setTransform(d.a,d.b,d.c,
d.d,d.tx|0,d.ty|0):f.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),f.drawImage(c.__canvas,0,0),b.maskManager.popObject(a))}}}};var ja=function(){};m["openfl._internal.renderer.canvas.CanvasTextField"]=ja;ja.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"];ja.disableInputMode=function(a){};ja.enableInputMode=function(a){if(null==a.__hiddenInput){a.__hiddenInput=window.document.createElement("input");var b=a.__hiddenInput;b.type="text";b.style.position="absolute";b.style.opacity="0";
b.style.color="transparent";b.style.left="0px";b.style.top="50%";(new Za("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(b.style.fontSize="0px",b.style.width="0px",b.style.height="0px"):(b.style.width="1px",b.style.height="1px");b.style.pointerEvents="none";b.style.zIndex="-10000000";0<a.maxChars&&(b.maxLength=a.maxChars);window.document.body.appendChild(b);b.value=a.text}};ja.render=function(a,b,c){var d=a.__textEngine,e=d.bounds;c=a.__graphics;a.__dirty&&(a.__updateLayout(),
null==c.__bounds&&(c.__bounds=new ya),c.__bounds.copyFrom(e));c.__update();if(a.__dirty||c.__dirty){var f=c.__width,k=c.__height;if(!(null!=d.text&&!ka.equals(d.text,"")||d.background||d.border||d.__hasFocus||1==d.type&&d.selectable)||(0>=d.width||0>=d.height)&&2!=d.autoSize)a.__graphics.__canvas=null,a.__graphics.__context=null,a.__graphics.__bitmap=null,a.__graphics.set___dirty(!1),a.__dirty=!1;else{null==a.__graphics.__canvas&&(a.__graphics.__canvas=window.document.createElement("canvas"),a.__graphics.__context=
a.__graphics.__canvas.getContext("2d"));ja.context=c.__context;var g=c.__renderTransform;c.__canvas.width=f;c.__canvas.height=k;ja.context.setTransform(g.a,g.b,g.c,g.d,g.tx,g.ty);null==ja.clearRect&&(ja.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);ja.clearRect&&ja.context.clearRect(0,0,c.__canvas.width,c.__canvas.height);if(null!=d.text&&""!=d.text||d.__hasFocus){f=d.text;!b.allowSmoothing||0==d.antiAliasType&&400==d.sharpness?(c.__context.mozImageSmoothingEnabled=
!1,c.__context.msImageSmoothingEnabled=!1,c.__context.imageSmoothingEnabled=!1):(c.__context.mozImageSmoothingEnabled=!0,c.__context.msImageSmoothingEnabled=!0,c.__context.imageSmoothingEnabled=!0);if(d.border||d.background)ja.context.rect(.5,.5,e.width-1,e.height-1),d.background&&(b=Da.hex(d.backgroundColor&16777215,6),ja.context.fillStyle="#"+b,ja.context.fill()),d.border&&(ja.context.lineWidth=1,b=Da.hex(d.borderColor&16777215,6),ja.context.strokeStyle="#"+b,ja.context.stroke());ja.context.textBaseline=
"top";ja.context.textAlign="start";b=-a.get_scrollH();k=e=0;for(g=a.get_scrollV()-1;k<g;)var h=k++,e=e-d.lineHeights.get(h);for(var m,k=0,g=(new Za("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),h=0,n=d.layoutGroups;h<n.get_length();){var l=n.get(h);++h;if(!(l.lineIndex<a.get_scrollV()-1)){if(l.lineIndex>a.get_scrollV()+d.bottomScrollV-2)break;ja.context.font=Ma.getFont(l.format);m=Da.hex(l.format.color&16777215,6);ja.context.fillStyle="#"+m;g&&(k=.185*l.format.size);if(null!=
a.__filters&&0<a.__filters.length&&y.__instanceof(a.__filters[0],tf)){m=a.__filters[0];var q=ja.context.globalAlpha;ja.context.globalAlpha=q*m.alpha;var r=Da.hex(m.color&16777215,6);ja.context.strokeStyle="#"+r;ja.context.lineWidth=Math.max(m.blurX,m.blurY);ja.context.strokeText(ka.substring(f,l.startIndex,l.endIndex),l.offsetX+b,l.offsetY+k+e);ja.context.strokeStyle=null;ja.context.globalAlpha=q}ja.context.fillText(ka.substring(f,l.startIndex,l.endIndex),l.offsetX+b,l.offsetY+k+e);if(-1<a.__caretIndex&&
d.selectable)if(a.__selectionIndex==a.__caretIndex){if(a.__showCursor&&l.startIndex<=a.__caretIndex&&l.endIndex>=a.__caretIndex){q=m=0;for(r=a.__caretIndex-l.startIndex;q<r;){var t=q++;if(l.advances.length<=t)break;m+=l.advances[t]}ja.context.fillRect(l.offsetX+m,l.offsetY,1,l.height)}}else if(l.startIndex<=a.__caretIndex&&l.endIndex>=a.__caretIndex||l.startIndex<=a.__selectionIndex&&l.endIndex>=a.__selectionIndex||l.startIndex>a.__caretIndex&&l.endIndex<a.__selectionIndex||l.startIndex>a.__selectionIndex&&
l.endIndex<a.__caretIndex)m=Math.min(a.__selectionIndex,a.__caretIndex)|0,q=Math.max(a.__selectionIndex,a.__caretIndex)|0,l.startIndex>m&&(m=l.startIndex),l.endIndex<q&&(q=l.endIndex),r=a.getCharBoundaries(m),q>=ka.get_length(d.text)?(t=a.getCharBoundaries(ka.get_length(d.text)-1),t.x+=t.width+2):t=a.getCharBoundaries(q),null!=r&&null!=t&&(ja.context.fillStyle="#000000",ja.context.fillRect(r.x,r.y,t.x-r.x,l.height),ja.context.fillStyle="#FFFFFF",ja.context.fillText(ka.substring(f,m,q),b+r.x,l.offsetY+
k+e))}}}else{if(d.border||d.background)d.border?ja.context.rect(.5,.5,e.width-1,e.height-1):ja.context.rect(0,0,e.width,e.height),d.background&&(f=Da.hex(d.backgroundColor&16777215,6),ja.context.fillStyle="#"+f,ja.context.fill()),d.border&&(ja.context.lineWidth=1,ja.context.lineCap="square",f=Da.hex(d.borderColor&16777215,6),ja.context.strokeStyle="#"+f,ja.context.stroke());if(-1<a.__caretIndex&&d.selectable&&a.__showCursor){f=-a.get_scrollH();e=b=0;for(k=a.get_scrollV()-1;e<k;)g=e++,b-=d.lineHeights.get(g);
ja.context.beginPath();d=Da.hex(a.get_defaultTextFormat().color&16777215,6);ja.context.strokeStyle="#"+d;ja.context.moveTo(f+2.5,b+2.5);ja.context.lineWidth=1;ja.context.lineTo(f+2.5,b+Ma.getFormatHeight(a.get_defaultTextFormat())-1);ja.context.stroke();ja.context.closePath()}}c.__bitmap=Ha.fromCanvas(a.__graphics.__canvas);c.__visible=!0;a.__dirty=!1;c.set___dirty(!1)}}};var Zs=function(){};m["openfl._internal.renderer.canvas.CanvasVideo"]=Zs;Zs.__name__=["openfl","_internal","renderer","canvas",
"CanvasVideo"];Zs.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.__stream){var c=b.context;if(null!=a.__stream.__video){b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);c.globalAlpha=a.__worldAlpha;var d=a.__worldTransform,e=a.__scrollRect,f=a.smoothing;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);f||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);
null==e?c.drawImage(a.__stream.__video,0,0,a.get_width(),a.get_height()):c.drawImage(a.__stream.__video,e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);f||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);b.maskManager.popObject(a)}}};var Hr=function(a,b){ce.call(this,a);throw new H("ConsoleRenderer not supported");};m["openfl._internal.renderer.console.ConsoleRenderer"]=Hr;Hr.__name__=["openfl","_internal","renderer","console","ConsoleRenderer"];Hr.__super__=
ce;Hr.prototype=z(ce.prototype,{render:function(){},__class__:Hr});var si=function(){};m["openfl._internal.renderer.dom.DOMBitmap"]=si;si.__name__=["openfl","_internal","renderer","dom","DOMBitmap"];si.clear=function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null,a.__style=null);null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};si.render=function(a,b){null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=a.bitmapData&&a.bitmapData.__isValid?
(b.maskManager.pushObject(a),null!=a.bitmapData.image.buffer.__srcImage?si.renderImage(a,b):si.renderCanvas(a,b),b.maskManager.popObject(a)):si.clear(a,b)};si.renderCanvas=function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),a.__imageVersion=-1,b.allowSmoothing&&a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=!1,a.__context.imageSmoothingEnabled=
!1),Uc.initializeElement(a,a.__canvas,b));a.__imageVersion!=a.bitmapData.image.version&&(ta.convertToCanvas(a.bitmapData.image),a.__canvas.width=a.bitmapData.width+1,a.__canvas.width=a.bitmapData.width,a.__canvas.height=a.bitmapData.height,a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0),a.__imageVersion=a.bitmapData.image.version);Uc.updateClip(a,b);Uc.applyStyle(a,b,!0,!0,!0)};si.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null);null==
a.__image&&(a.__image=window.document.createElement("img"),a.__image.crossOrigin="Anonymous",a.__image.src=a.bitmapData.image.buffer.__srcImage.src,Uc.initializeElement(a,a.__image,b));Uc.updateClip(a,b);Uc.applyStyle(a,b,!0,!0,!0)};var $s=function(){};m["openfl._internal.renderer.dom.DOMDisplayObject"]=$s;$s.__name__=["openfl","_internal","renderer","dom","DOMDisplayObject"];$s.clear=function(a,b){ti.clear(a,b)};$s.render=function(a,b){null!=a.opaqueBackground&&!a.__cacheBitmapRender&&0<a.get_width()&&
a.get_height();var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=c){G.render(c,b,a.__renderTransform);if(c.__dirty||a.__worldAlphaChanged||a.__canvas!=c.__canvas)null!=c.__canvas?a.__canvas!=c.__canvas&&(null!=a.__canvas&&b.element.removeChild(a.__canvas),a.__canvas=c.__canvas,a.__context=c.__context,Uc.initializeElement(a,a.__canvas,b)):ti.clear(a,b);if(null!=a.__canvas){b.maskManager.pushObject(a);var d=a.__renderTransform;a.__renderTransform=c.__worldTransform;c.__transformDirty&&
(c.__transformDirty=!1,a.__renderTransformChanged=!0);Uc.updateClip(a,b);Uc.applyStyle(a,b,!0,!0,!0);a.__renderTransform=d;b.maskManager.popObject(a)}}else ti.clear(a,b)};var Ir=function(a){this.renderSession=a;this.clipRects=[];this.numClipRects=0};m["openfl._internal.renderer.dom.DOMMaskManager"]=Ir;Ir.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"];Ir.__super__=Bh;Ir.prototype=z(Bh.prototype,{currentClipRect:null,clipRects:null,numClipRects:null,pushMask:function(a){this.pushRect(a.getBounds(a),
a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new ya);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=
0);this.currentClipRect=c;this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,this.currentClipRect=0<this.numClipRects?this.clipRects[this.numClipRects-1]:null)},updateClip:function(a){if(null==this.currentClipRect)a.__worldClipChanged=null!=a.__worldClip,a.__worldClip=null;else{null==a.__worldClip&&(a.__worldClip=new ya);
var b=ya.__pool.get(),c=cb.__pool.get();c.copyFrom(a.__renderTransform);c.invert();this.currentClipRect.__transform(b,c);b.equals(a.__worldClip)?a.__worldClipChanged=!1:(a.__worldClip.copyFrom(b),a.__worldClipChanged=!0);ya.__pool.release(b);cb.__pool.release(c)}},__class__:Ir});var Uc=function(a,b){ce.call(this,a)};m["openfl._internal.renderer.dom.DOMRenderer"]=Uc;Uc.__name__=["openfl","_internal","renderer","dom","DOMRenderer"];Uc.applyStyle=function(a,b,c,d,e){var f=a.__style;c&&a.__renderTransformChanged&&
(c=a.__renderTransform,f.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+c.a+", "+c.b+", 0, 0, "+c.c+", "+c.d+", 0, 0, 0, 0, 1, 0, "+(c.tx|0)+", "+(c.ty|0)+", 0, 1)":"matrix3d("+c.a+", "+c.b+", 0, 0, "+c.c+", "+c.d+", 0, 0, 0, 0, 1, 0, "+c.tx+", "+c.ty+", 0, 1)",null));a.__worldZ!=++b.z&&(a.__worldZ=b.z,f.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&(1>a.__worldAlpha?f.setProperty("opacity",null==a.__worldAlpha?"null":""+a.__worldAlpha,null):
f.removeProperty("opacity"));e&&a.__worldClipChanged&&(null==a.__worldClip?f.removeProperty("clip"):(a=a.__worldClip,f.setProperty("clip","rect("+a.y+"px, "+a.get_right()+"px, "+a.get_bottom()+"px, "+a.x+"px)",null)))};Uc.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=!0;a.__renderTransformChanged=
!0;a.__worldVisibleChanged=!0;a.__worldClipChanged=!0;a.__worldClip=null;a.__worldZ=-1};Uc.updateClip=function(a,b){b.maskManager.updateClip(a)};Uc.__super__=ce;Uc.prototype=z(ce.prototype,{element:null,render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.element.style.background=this.stage.__transparent?"none":this.stage.__colorString;this.renderSession.z=1;this.stage.__renderDOM(this.renderSession)},renderStage3D:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=
b.get(a);++a;c.__renderDOM(this.stage,this.renderSession)}},__class__:Uc});var ti=function(){};m["openfl._internal.renderer.dom.DOMShape"]=ti;ti.__name__=["openfl","_internal","renderer","dom","DOMShape"];ti.clear=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};ti.render=function(a,b){var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=c){G.render(c,b,a.__renderTransform);if(c.__dirty||a.__worldAlphaChanged||a.__canvas!=
c.__canvas)null!=c.__canvas?a.__canvas!=c.__canvas&&(null!=a.__canvas&&b.element.removeChild(a.__canvas),a.__canvas=c.__canvas,a.__context=c.__context,Uc.initializeElement(a,a.__canvas,b)):ti.clear(a,b);if(null!=a.__canvas){b.maskManager.pushObject(a);var d=a.__renderTransform;a.__renderTransform=c.__worldTransform;c.__transformDirty&&(c.__transformDirty=!1,a.__renderTransformChanged=!0);Uc.updateClip(a,b);Uc.applyStyle(a,b,!0,!0,!0);a.__renderTransform=d;b.maskManager.popObject(a)}}else ti.clear(a,
b)};var $c=function(){};m["openfl._internal.renderer.dom.DOMTextField"]=$c;$c.__name__=["openfl","_internal","renderer","dom","DOMTextField"];$c.clear=function(a,b){null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null,a.__style=null)};$c.measureText=function(a){var b=a.__textEngine,c=a.__div;null==c&&(c=window.document.createElement("div"),c.innerHTML=b.text.replace(RegExp("\n","g"),"<br>"),c.style.setProperty("font",Ma.getFont(a.__textFormat),null),c.style.setProperty("pointer-events","none",
null),c.style.position="absolute",c.style.top="110%",window.document.body.appendChild(c));b.__measuredWidth=c.clientWidth;null==a.__div&&(c.style.width=h.string(b.width-4)+"px");b.__measuredHeight=c.clientHeight;null==a.__div&&window.document.body.removeChild(c)};$c.render=function(a,b){var c=a.__textEngine;if(null!=a.stage&&a.__worldVisible&&a.__renderable){if(a.__dirty||a.__renderTransformChanged||null==a.__div)if(""!=c.text||c.background||c.border||1==c.type){null==a.__div&&(a.__div=window.document.createElement("div"),
Uc.initializeElement(a,a.__div,b),a.__style.setProperty("outline","none",null),a.__div.addEventListener("input",function(b){b.preventDefault();a.get_htmlText()!=a.__div.innerHTML&&(a.set_htmlText(a.__div.innerHTML),a.__dirty=!1)},!0));c.wordWrap?a.__style.setProperty("word-wrap","break-word",null):a.__style.setProperty("white-space","nowrap",null);a.__style.setProperty("overflow","hidden",null);c.selectable?(a.__style.setProperty("cursor","text",null),a.__style.setProperty("-webkit-user-select","text",
null),a.__style.setProperty("-moz-user-select","text",null),a.__style.setProperty("-ms-user-select","text",null),a.__style.setProperty("-o-user-select","text",null)):a.__style.setProperty("cursor","inherit",null);a.__div.contentEditable=1==c.type;var d=a.__style;c.background?d.setProperty("background-color","#"+Da.hex(c.backgroundColor&16777215,6),null):d.removeProperty("background-color");var e=c.width,f=c.height,k=1,g=a.__textFormat.size,h=g,m=a.__renderTransform;if(1!=m.a||1!=m.d)m.a==m.d?(k=m.a,
m.a=m.d=1):m.a>m.d?(k=m.a,m.d/=m.a,m.a=1):(k=m.d,m.a/=m.d,m.d=1),h*=k,e=Math.ceil(e*k),f=Math.ceil(f*k);a.__textFormat.size=h;var m=c.text,n=0;if(a.__isHTML){for(var l=m;$c.__regexFont.match(l);){var l=$c.__regexFont.matched(0),q="";$c.__regexFace.match(l)&&(q+="font-family:'"+$c.__getAttributeMatch($c.__regexFace)+"';");$c.__regexColor.match(l)&&(q+="color:#"+$c.__getAttributeMatch($c.__regexColor)+";");if($c.__regexSize.match(l))var n=$c.__getAttributeMatch($c.__regexSize),r=da.cca(n,0),n=parseFloat(n)*
k,q=q+("font-size:"+(43==r||45==r?h+n:n)+"px;");m=Da.replace(m,l,"<span style='"+q+"'>");l=$c.__regexFont.matchedRight()}m=m.replace($c.__regexCloseFont.r,"</span>")}else m=Da.htmlEscape(m);m=Da.replace(m,"<p ","<p style='margin-top:0; margin-bottom:0;' ");k=a.__textFormat.leading;a.__textFormat.leading+=n|0;h=m.replace(RegExp("\r\n","g"),"<br>");a.__div.innerHTML=h;h=a.__div.innerHTML.replace(RegExp("\n","g"),"<br>");a.__div.innerHTML=h;h=a.__div.innerHTML.replace(RegExp("\r","g"),"<br>");a.__div.innerHTML=
h;d.setProperty("font",Ma.getFont(a.__textFormat),null);a.__textFormat.size=g;a.__textFormat.leading=k;d.setProperty("top","3px",null);c.border?(d.setProperty("border","solid 1px #"+Da.hex(c.borderColor&16777215,6),null),a.__renderTransform.translate(-1,-1),a.__renderTransformChanged=!0,a.__transformDirty=!0):""!=d.border&&(d.removeProperty("border"),a.__renderTransformChanged=!0);d.setProperty("color","#"+Da.hex(a.__textFormat.color&16777215,6),null);d.setProperty("width",e+"px",null);d.setProperty("height",
f+"px",null);switch(a.__textFormat.align){case 0:d.setProperty("text-align","center",null);break;case 4:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}a.__dirty=!1}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null);null!=a.__div&&(c=b.roundPixels,b.roundPixels=!0,Uc.updateClip(a,b),Uc.applyStyle(a,b,!0,!0,!0),b.roundPixels=c)}else $c.clear(a,b)};$c.__getAttributeMatch=function(a){return null!=a.matched(2)?a.matched(2):a.matched(3)};var hp=
function(){};m["openfl._internal.renderer.dom.DOMVideo"]=hp;hp.__name__=["openfl","_internal","renderer","dom","DOMVideo"];hp.clear=function(a,b){a.__active&&(b.element.removeChild(a.__stream.__video),a.__active=!1)};hp.render=function(a,b){null!=a.stage&&null!=a.__stream&&a.__worldVisible&&a.__renderable?(a.__active||(Uc.initializeElement(a,a.__stream.__video,b),a.__active=!0,a.__dirty=!0),a.__dirty&&(a.__stream.__video.width=a.__width|0,a.__stream.__video.height=a.__height|0,a.__dirty=!1),Uc.updateClip(a,
b),Uc.applyStyle(a,b,!0,!0,!0)):hp.clear(a,b)};var Pp=function(){};m["openfl._internal.renderer.opengl.GLBitmap"]=Pp;Pp.__name__=["openfl","_internal","renderer","opengl","GLBitmap"];Pp.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.bitmapData&&a.bitmapData.__isValid){var c=b.renderer,d=b.gl;b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);b.filterManager.pushObject(a);var e=b.shaderManager.initShader(a.shader);b.shaderManager.setShader(e);e.get_data().uImage0.input=
a.bitmapData;var f=b.allowSmoothing&&(a.smoothing||b.upscaled);e.get_data().uImage0.smoothing=f;e.get_data().uMatrix.value=c.getMatrix(a.__renderTransform);c=!a.__worldColorTransform.__isDefault();null==e.get_data().uColorTransform.value&&(e.get_data().uColorTransform.value=[]);e.get_data().uColorTransform.value[0]=c;b.shaderManager.updateShader(e);c=d.ARRAY_BUFFER;f=a.bitmapData.getBuffer(d,a.__worldAlpha,a.__worldColorTransform);d.__context.bindBuffer(c,f);var c=e.get_data().aPosition.index,f=d.FLOAT,
k=E.fromInt(0);d.__context.vertexAttribPointer(c,3,f,!1,104,E.toValue(k));c=e.get_data().aTexCoord.index;f=d.FLOAT;k=E.fromInt(12);d.__context.vertexAttribPointer(c,2,f,!1,104,E.toValue(k));c=e.get_data().aAlpha.index;f=d.FLOAT;k=E.fromInt(20);d.__context.vertexAttribPointer(c,1,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index;f=d.FLOAT;k=E.fromInt(24);d.__context.vertexAttribPointer(c,4,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index+1;f=d.FLOAT;k=E.fromInt(40);d.__context.vertexAttribPointer(c,
4,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index+2;f=d.FLOAT;k=E.fromInt(56);d.__context.vertexAttribPointer(c,4,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index+3;f=d.FLOAT;k=E.fromInt(72);d.__context.vertexAttribPointer(c,4,f,!1,104,E.toValue(k));e=e.get_data().aColorOffsets.index;c=d.FLOAT;f=E.fromInt(88);d.__context.vertexAttribPointer(e,4,c,!1,104,E.toValue(f));d.__context.drawArrays(d.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}};var ip=
function(a){this.gl=a;this.setBlendMode(10);a.__context.enable(a.BLEND)};m["openfl._internal.renderer.opengl.GLBlendModeManager"]=ip;ip.__name__=["openfl","_internal","renderer","opengl","GLBlendModeManager"];ip.__super__=xj;ip.prototype=z(xj.prototype,{currentBlendMode:null,gl:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;case 9:this.gl.__context.blendEquation(this.gl.FUNC_ADD);
this.gl.__context.blendFunc(this.gl.DST_COLOR,this.gl.ONE_MINUS_SRC_ALPHA);break;case 12:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_COLOR);break;case 14:this.gl.__context.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;default:this.gl.__context.blendEquation(this.gl.FUNC_ADD),this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}},__class__:ip});var zt=function(){};
m["openfl._internal.renderer.opengl.GLDisplayObject"]=zt;zt.__name__=["openfl","_internal","renderer","opengl","GLDisplayObject"];zt.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||0>=a.__worldAlpha)){if(null!=a.opaqueBackground&&!a.__cacheBitmapRender&&0<a.get_width()&&0<a.get_height()){b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);var c=b.gl,d=ya.__pool.get();d.setTo(0,0,a.get_width(),a.get_height());b.maskManager.pushRect(d,
a.__renderTransform);var e=a.opaqueBackground;c.__context.clearColor((e>>>16&255)/255,(e>>>8&255)/255,(e&255)/255,1);c.__context.clear(c.COLOR_BUFFER_BIT);b.maskManager.popRect();b.maskManager.popObject(a);ya.__pool.release(d)}if(null!=a.__graphics&&a.__renderable&&!(0>=a.__worldAlpha)&&(e=a.__graphics,null!=e&&(G.render(e,b,a.__renderTransform),null!=e.__bitmap&&e.__visible))){var f=b.renderer,c=b.gl;b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);d=b.filterManager.pushObject(a);
b.shaderManager.setShader(d);d.get_data().uImage0.input=e.__bitmap;d.get_data().uImage0.smoothing=b.allowSmoothing;d.get_data().uMatrix.value=f.getMatrix(e.__worldTransform);f=!a.__worldColorTransform.__isDefault();null==d.get_data().uColorTransform.value&&(d.get_data().uColorTransform.value=[]);d.get_data().uColorTransform.value[0]=f;b.shaderManager.updateShader(d);f=c.ARRAY_BUFFER;e=e.__bitmap.getBuffer(c,a.__worldAlpha,a.__worldColorTransform);c.__context.bindBuffer(f,e);var e=d.get_data().aPosition.index,
f=c.FLOAT,k=E.fromInt(0);c.__context.vertexAttribPointer(e,3,f,!1,104,E.toValue(k));e=d.get_data().aTexCoord.index;f=c.FLOAT;k=E.fromInt(12);c.__context.vertexAttribPointer(e,2,f,!1,104,E.toValue(k));e=d.get_data().aAlpha.index;f=c.FLOAT;k=E.fromInt(20);c.__context.vertexAttribPointer(e,1,f,!1,104,E.toValue(k));e=d.get_data().aColorMultipliers.index;f=c.FLOAT;k=E.fromInt(24);c.__context.vertexAttribPointer(e,4,f,!1,104,E.toValue(k));e=d.get_data().aColorMultipliers.index+1;f=c.FLOAT;k=E.fromInt(40);
c.__context.vertexAttribPointer(e,4,f,!1,104,E.toValue(k));e=d.get_data().aColorMultipliers.index+2;f=c.FLOAT;k=E.fromInt(56);c.__context.vertexAttribPointer(e,4,f,!1,104,E.toValue(k));e=d.get_data().aColorMultipliers.index+3;f=c.FLOAT;k=E.fromInt(72);c.__context.vertexAttribPointer(e,4,f,!1,104,E.toValue(k));d=d.get_data().aColorOffsets.index;e=c.FLOAT;f=E.fromInt(88);c.__context.vertexAttribPointer(d,4,e,!1,104,E.toValue(f));c.__context.drawArrays(c.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);
b.maskManager.popObject(a)}}};var jp=function(a,b){this.renderSession=b;this.renderer=a;this.gl=b.gl;this.filterDepth=0;this.matrix=new cb};m["openfl._internal.renderer.opengl.GLFilterManager"]=jp;jp.__name__=["openfl","_internal","renderer","opengl","GLFilterManager"];jp.__super__=cp;jp.prototype=z(cp.prototype,{filterDepth:null,gl:null,matrix:null,renderer:null,pushObject:function(a){return this.renderSession.shaderManager.defaultShader},popObject:function(a){},renderPass:function(a,b){if(null!=
a&&null!=b){b.get_data().uImage0.input=a;var c=this.renderSession.allowSmoothing&&this.renderSession.upscaled;b.get_data().uImage0.smoothing=c;b.get_data().uMatrix.value=this.renderer.getMatrix(this.matrix);null!=b.get_data().uColorTransform&&(null==b.get_data().uColorTransform.value&&(b.get_data().uColorTransform.value=[]),b.get_data().uColorTransform.value[0]=!1);this.renderSession.shaderManager.setShader(b);var c=this.gl,d=this.gl.ARRAY_BUFFER,e=a.getBuffer(this.gl,1,null);c.__context.bindBuffer(d,
e);var c=this.gl,d=b.get_data().aPosition.index,e=this.gl.FLOAT,f=E.fromInt(0);c.__context.vertexAttribPointer(d,3,e,!1,104,E.toValue(f));c=this.gl;d=b.get_data().aTexCoord.index;e=this.gl.FLOAT;f=E.fromInt(12);c.__context.vertexAttribPointer(d,2,e,!1,104,E.toValue(f));c=this.gl;d=b.get_data().aAlpha.index;e=this.gl.FLOAT;f=E.fromInt(20);c.__context.vertexAttribPointer(d,1,e,!1,104,E.toValue(f));this.gl.__context.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}},__class__:jp});var kp=function(a){this.renderSession=
a;this.gl=a.gl;this.clipRects=[];this.numClipRects=0;this.tempRect=new ya};m["openfl._internal.renderer.opengl.GLMaskManager"]=kp;kp.__name__=["openfl","_internal","renderer","opengl","GLMaskManager"];kp.__super__=Bh;kp.prototype=z(Bh.prototype,{clipRects:null,gl:null,numClipRects:null,tempRect:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&
this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new ya);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.scissorRect(c);this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=
a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,0<this.numClipRects?this.scissorRect(this.clipRects[this.numClipRects-1]):this.scissorRect())},scissorRect:function(a){if(null!=a){var b=this.renderSession.renderer;this.gl.__context.enable(this.gl.SCISSOR_TEST);var c=this.tempRect;a.__transform(c,b.displayMatrix);a=Math.floor(c.x);var b=Math.floor(b.height-c.y-c.height),d=Math.ceil(c.width),c=Math.ceil(c.height);0>d&&(d=0);0>c&&(c=0);this.gl.__context.scissor(a,
b,d,c)}else this.gl.__context.disable(this.gl.SCISSOR_TEST)},__class__:kp});var Eh=function(a,b,c){ce.call(this,a);this.gl=b;this.defaultRenderTarget=c;this.flipped=null==c;this.matrix=ia._new();this.values=[];this.renderSession=new Ej;this.renderSession.clearRenderDirty=!0;this.renderSession.gl=b;this.renderSession.renderer=this;this.renderSession.blendModeManager=new ip(b);this.renderSession.filterManager=new jp(this,this.renderSession);this.renderSession.shaderManager=new lp(b);this.renderSession.maskManager=
new kp(this.renderSession);null!=a.window&&(null==a.stage3Ds.get(0).context3D&&a.stage3Ds.get(0).__createContext(a,this.renderSession),b=null!=c?c.width:Math.ceil(a.window.__width*a.window.__scale),a=null!=c?c.height:Math.ceil(a.window.__height*a.window.__scale),this.resize(b,a))};m["openfl._internal.renderer.opengl.GLRenderer"]=Eh;Eh.__name__=["openfl","_internal","renderer","opengl","GLRenderer"];Eh.__super__=ce;Eh.prototype=z(ce.prototype,{projection:null,projectionFlipped:null,defaultRenderTarget:null,
currentRenderTarget:null,displayHeight:null,displayMatrix:null,displayWidth:null,flipped:null,gl:null,matrix:null,renderTargetA:null,renderTargetB:null,offsetX:null,offsetY:null,values:null,clear:function(){this.stage.__transparent?this.gl.__context.clearColor(0,0,0,0):this.gl.__context.clearColor(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2],1);this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)},getCacheObject:function(){},getMatrix:function(a){var b=cb.__pool.get();
b.copyFrom(a);b.concat(this.displayMatrix);this.renderSession.roundPixels&&(b.tx=Math.round(b.tx),b.ty=Math.round(b.ty));ia.identity(this.matrix);ia.set(this.matrix,0,b.a);ia.set(this.matrix,1,b.b);ia.set(this.matrix,4,b.c);ia.set(this.matrix,5,b.d);ia.set(this.matrix,12,b.tx);ia.set(this.matrix,13,b.ty);ia.append(this.matrix,this.flipped?this.projectionFlipped:this.projection);for(a=0;16>a;){var c=a++;this.values[c]=ia.get(this.matrix,c)}cb.__pool.release(b);return this.values},getRenderTarget:function(a){if(a){if(null==
this.renderTargetA){this.renderTargetA=Ha.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,this.height,1,!0));a=this.gl;var b=this.gl.TEXTURE_2D,c=this.renderTargetA.getTexture(this.gl);a.__context.bindTexture(b,c);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}null==this.renderTargetB&&(this.renderTargetB=Ha.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,
this.height,1,!0)),a=this.gl,b=this.gl.TEXTURE_2D,c=this.renderTargetB.getTexture(this.gl),a.__context.bindTexture(b,c),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));this.currentRenderTarget=this.currentRenderTarget==this.renderTargetA?this.renderTargetB:this.renderTargetA;a=this.gl;b=this.gl.FRAMEBUFFER;c=this.currentRenderTarget.__getFramebuffer(this.gl);
a.__context.bindFramebuffer(b,c);this.gl.__context.viewport(0,0,this.width,this.height);this.gl.__context.clearColor(0,0,0,0);this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT);this.flipped=!1}else this.currentRenderTarget=this.defaultRenderTarget,a=null!=this.currentRenderTarget?this.currentRenderTarget.__getFramebuffer(this.gl):null,this.gl.__context.bindFramebuffer(this.gl.FRAMEBUFFER,a),this.flipped=null==this.currentRenderTarget},render:function(){this.gl.__context.viewport(this.offsetX,this.offsetY,
this.displayWidth,this.displayHeight);this.renderSession.allowSmoothing=2!=this.stage.quality;this.renderSession.upscaled=1!=this.displayMatrix.a||1!=this.displayMatrix.d;this.stage.__renderGL(this.renderSession);if(0<this.offsetX||0<this.offsetY)this.gl.__context.clearColor(0,0,0,1),this.gl.__context.enable(this.gl.SCISSOR_TEST),0<this.offsetX&&(this.gl.__context.scissor(0,0,this.offsetX,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(this.offsetX+this.displayWidth,
0,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),0<this.offsetY&&(this.gl.__context.scissor(0,0,this.width,this.offsetY),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(0,this.offsetY+this.displayHeight,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),this.gl.__context.disable(this.gl.SCISSOR_TEST)},renderStage3D:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderGL(this.stage,
this.renderSession)}},resize:function(a,b){ce.prototype.resize.call(this,a,b);if(0<a&&0<b){if(null!=this.renderTargetA&&(this.renderTargetA.width!=a||this.renderTargetA.height!=b)){this.renderTargetA=Ha.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0));var c=this.gl,d=this.gl.TEXTURE_2D,e=this.renderTargetA.getTexture(this.gl);c.__context.bindTexture(d,e);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}null==this.renderTargetB||this.renderTargetB.width==a&&this.renderTargetB.height==b||(this.renderTargetB=Ha.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0)),c=this.gl,d=this.gl.TEXTURE_2D,e=this.renderTargetB.getTexture(this.gl),c.__context.bindTexture(d,e),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,
this.gl.CLAMP_TO_EDGE))}this.displayMatrix=null==this.defaultRenderTarget?this.stage.__displayMatrix:new cb;d=null==this.defaultRenderTarget?this.stage.stageWidth:this.defaultRenderTarget.width;c=null==this.defaultRenderTarget?this.stage.stageHeight:this.defaultRenderTarget.height;e=this.displayMatrix;this.offsetX=Math.round(0*e.a+0*e.c+e.tx);e=this.displayMatrix;this.offsetY=Math.round(0*e.b+0*e.d+e.ty);e=this.displayMatrix;this.displayWidth=Math.round(d*e.a+0*e.c+e.tx-this.offsetX);d=this.displayMatrix;
this.displayHeight=Math.round(0*d.b+c*d.d+d.ty-this.offsetY);this.projection=ia.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.offsetY,this.displayHeight+this.offsetY,-1E3,1E3);this.projectionFlipped=ia.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.displayHeight+this.offsetY,this.offsetY,-1E3,1E3)},__class__:Eh});var lp=function(a){this.gl=a;this.defaultShader=new Ze;this.initShader(this.defaultShader)};m["openfl._internal.renderer.opengl.GLShaderManager"]=lp;lp.__name__=
["openfl","_internal","renderer","opengl","GLShaderManager"];lp.__super__=dp;lp.prototype=z(dp.prototype,{gl:null,initShader:function(a){return null!=a?(null==a.gl&&(a.gl=this.gl,a.__init()),a):this.defaultShader},setShader:function(a){this.currentShader!=a&&(null!=this.currentShader&&this.currentShader.__disable(),null==a?(this.currentShader=null,this.gl.__context.useProgram(null)):(this.currentShader=a,this.initShader(a),this.gl.__context.useProgram(a.glProgram),this.currentShader.__enable()))},
updateShader:function(a){null!=this.currentShader&&this.currentShader.__update()},__class__:lp});var At=function(){};m["openfl._internal.renderer.opengl.GLShape"]=At;At.__name__=["openfl","_internal","renderer","opengl","GLShape"];At.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(G.render(c,b,a.__renderTransform),null!=c.__bitmap&&c.__visible)){var d=b.renderer,e=b.gl;b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);var f=
b.filterManager.pushObject(a);b.shaderManager.setShader(f);f.get_data().uImage0.input=c.__bitmap;f.get_data().uImage0.smoothing=b.allowSmoothing;f.get_data().uMatrix.value=d.getMatrix(c.__worldTransform);d=!a.__worldColorTransform.__isDefault();null==f.get_data().uColorTransform.value&&(f.get_data().uColorTransform.value=[]);f.get_data().uColorTransform.value[0]=d;b.shaderManager.updateShader(f);d=e.ARRAY_BUFFER;c=c.__bitmap.getBuffer(e,a.__worldAlpha,a.__worldColorTransform);e.__context.bindBuffer(d,
c);var c=f.get_data().aPosition.index,d=e.FLOAT,k=E.fromInt(0);e.__context.vertexAttribPointer(c,3,d,!1,104,E.toValue(k));c=f.get_data().aTexCoord.index;d=e.FLOAT;k=E.fromInt(12);e.__context.vertexAttribPointer(c,2,d,!1,104,E.toValue(k));c=f.get_data().aAlpha.index;d=e.FLOAT;k=E.fromInt(20);e.__context.vertexAttribPointer(c,1,d,!1,104,E.toValue(k));c=f.get_data().aColorMultipliers.index;d=e.FLOAT;k=E.fromInt(24);e.__context.vertexAttribPointer(c,4,d,!1,104,E.toValue(k));c=f.get_data().aColorMultipliers.index+
1;d=e.FLOAT;k=E.fromInt(40);e.__context.vertexAttribPointer(c,4,d,!1,104,E.toValue(k));c=f.get_data().aColorMultipliers.index+2;d=e.FLOAT;k=E.fromInt(56);e.__context.vertexAttribPointer(c,4,d,!1,104,E.toValue(k));c=f.get_data().aColorMultipliers.index+3;d=e.FLOAT;k=E.fromInt(72);e.__context.vertexAttribPointer(c,4,d,!1,104,E.toValue(k));f=f.get_data().aColorOffsets.index;c=e.FLOAT;d=E.fromInt(88);e.__context.vertexAttribPointer(f,4,c,!1,104,E.toValue(d));e.__context.drawArrays(e.TRIANGLE_STRIP,0,
4);b.filterManager.popObject(a);b.maskManager.popObject(a)}}};var Bt=function(){};m["openfl._internal.renderer.opengl.GLStage3D"]=Bt;Bt.__name__=["openfl","_internal","renderer","opengl","GLStage3D"];Bt.render=function(a,b){null!=a.context3D&&(b.blendModeManager.setBlendMode(null),null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=a.context3D.__program&&a.context3D.__program.__use()));va.debug&&b.gl.__context.getError()};var at=function(){};m["openfl._internal.renderer.opengl.GLVideo"]=
at;at.__name__=["openfl","_internal","renderer","opengl","GLVideo"];at.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.__stream&&null!=a.__stream.__video){var c=b.renderer,d=b.gl;b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);b.filterManager.pushObject(a);var e=b.shaderManager.initShader(a.shader);b.shaderManager.setShader(e);e.get_data().uMatrix.value=c.getMatrix(a.__renderTransform);c=!a.__worldColorTransform.__isDefault();null==e.get_data().uColorTransform.value&&
(e.get_data().uColorTransform.value=[]);e.get_data().uColorTransform.value[0]=c;b.shaderManager.updateShader(e);var c=d.TEXTURE_2D,f=a.__getTexture(d);d.__context.bindTexture(c,f);a.smoothing?(d.__context.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.__context.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR)):(d.__context.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.__context.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST));c=d.ARRAY_BUFFER;f=a.__getBuffer(d,
a.__worldAlpha,a.__worldColorTransform);d.__context.bindBuffer(c,f);var c=e.get_data().aPosition.index,f=d.FLOAT,k=E.fromInt(0);d.__context.vertexAttribPointer(c,3,f,!1,104,E.toValue(k));c=e.get_data().aTexCoord.index;f=d.FLOAT;k=E.fromInt(12);d.__context.vertexAttribPointer(c,2,f,!1,104,E.toValue(k));c=e.get_data().aAlpha.index;f=d.FLOAT;k=E.fromInt(20);d.__context.vertexAttribPointer(c,1,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index;f=d.FLOAT;k=E.fromInt(24);d.__context.vertexAttribPointer(c,
4,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index+1;f=d.FLOAT;k=E.fromInt(40);d.__context.vertexAttribPointer(c,4,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index+2;f=d.FLOAT;k=E.fromInt(56);d.__context.vertexAttribPointer(c,4,f,!1,104,E.toValue(k));c=e.get_data().aColorMultipliers.index+3;f=d.FLOAT;k=E.fromInt(72);d.__context.vertexAttribPointer(c,4,f,!1,104,E.toValue(k));e=e.get_data().aColorOffsets.index;c=d.FLOAT;f=E.fromInt(88);d.__context.vertexAttribPointer(e,4,c,
!1,104,E.toValue(f));d.__context.drawArrays(d.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}};var oe=function(){};m["openfl._internal.stage3D.AGALConverter"]=oe;oe.__name__=["openfl","_internal","stage3D","AGALConverter"];oe.prefixFromType=function(a,b){switch(a){case 0:return"va";case 1:return b==ee.VERTEX?"vc":"fc";case 2:return b==ee.VERTEX?"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw new H(new rc("Invalid data!"));}};oe.readUInt64=
function(a){var b=a.readInt();a=a.readInt();return new Ga(a,b)};oe.convertToGLSL=function(a,b){a.position=0;a.__endian=1;var c=a.readByte()&255;if(176==c)return a.readUTF();if(160!=c)throw new H(new rc("Magic value must be 0xA0, may not be AGAL"));if(1!=a.readInt())throw new H(new rc("Version must be 1"));if(161!=(a.readByte()&255))throw new H(new rc("Shader type ID must be 0xA1"));for(var c=0==(a.readByte()&255)?ee.VERTEX:ee.FRAGMENT,d=new Jr,e="";a.position<Na.get_length(a);){var f=a.readInt(),
k=a.readUnsignedInt(),p=oe.readUInt64(a),m=oe.readUInt64(a),k=wl.parse(k,c),p=Jj.parse(p,c,k.mask),q=Jj.parse(m,c,k.mask),e=e+"\t";switch(f){case 0:e+=h.string(k.toGLSL()+" = "+p.toGLSL()+"; // mov");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 1:e+=h.string(k.toGLSL()+" = "+p.toGLSL()+" + "+q.toGLSL()+"; // add");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 2:e+=h.string(k.toGLSL()+" = "+p.toGLSL()+" - "+q.toGLSL()+"; // sub");d.addDR(k,la.VECTOR_4);
d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 3:e+=h.string(k.toGLSL()+" = "+p.toGLSL()+" * "+q.toGLSL()+"; // mul");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 4:e+=h.string(k.toGLSL()+" = "+p.toGLSL()+" / "+q.toGLSL()+"; // div");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 5:e=-1<p.toGLSL().indexOf(".")?e+h.string(k.toGLSL()+" = 1.0 / "+p.toGLSL()+"; // rcp"):e+h.string(k.toGLSL()+" = vec4(1) / "+p.toGLSL()+"; // rcp");
d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 6:e+=h.string(k.toGLSL()+" = min("+p.toGLSL()+", "+q.toGLSL()+"); // min");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 7:e+=h.string(k.toGLSL()+" = max("+p.toGLSL()+", "+q.toGLSL()+"); // max");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 8:e+=h.string(k.toGLSL()+" = fract("+p.toGLSL()+"); // frc");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 9:e+=h.string(k.toGLSL()+
" = sqrt("+p.toGLSL()+"); // sqrt");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 10:e+=h.string(k.toGLSL()+" = inversesqrt("+p.toGLSL()+"); // rsq");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 11:e+=h.string(k.toGLSL()+" = pow("+p.toGLSL()+", "+q.toGLSL()+"); // pow");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 12:e+=h.string(k.toGLSL()+" = log2("+p.toGLSL()+"); // log");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 13:e+=h.string(k.toGLSL()+
" = exp2("+p.toGLSL()+"); // exp");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 14:e+=h.string(k.toGLSL()+" = normalize("+p.toGLSL()+"); // normalize");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 15:e+=h.string(k.toGLSL()+" = sin("+p.toGLSL()+"); // sin");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 16:e+=h.string(k.toGLSL()+" = cos("+p.toGLSL()+"); // cos");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 17:p.sourceMask=q.sourceMask=7;e+=h.string(k.toGLSL()+
" = cross(vec3("+p.toGLSL()+"), vec3("+q.toGLSL()+")); // crs");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 18:p.sourceMask=q.sourceMask=7;e+=h.string(k.toGLSL()+" = vec4(dot(vec3("+p.toGLSL()+"), vec3("+q.toGLSL()+")))"+k.getWriteMask()+"; // dp3");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 19:p.sourceMask=q.sourceMask=15;e+=h.string(k.toGLSL()+" = vec4(dot(vec4("+p.toGLSL()+"), vec4("+q.toGLSL()+")))"+k.getWriteMask()+"; // dp4");
d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 20:e+=h.string(k.toGLSL()+" = abs("+p.toGLSL()+"); // abs");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 21:e+=h.string(k.toGLSL()+" = -"+p.toGLSL()+"; // neg");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 22:e+=h.string(k.toGLSL()+" = clamp("+p.toGLSL()+", 0.0, 1.0); // saturate");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);break;case 23:f=d.getRegisterUsage(q);f!=la.VECTOR_4&&f!=la.VECTOR_4_ARRAY?
(e+=h.string(k.toGLSL()+" = "+p.toGLSL()+" * mat3("+q.toGLSL(!1)+"); // m33"),d.addDR(k,la.VECTOR_4),d.addSR(p,la.VECTOR_4),d.addSR(q,la.MATRIX_4_4)):(p.sourceMask=q.sourceMask=7,e+=h.string(k.toGLSL()+" = vec3(dot("+p.toGLSL(!0)+","+q.toGLSL(!0,0)+"), dot("+p.toGLSL(!0)+","+q.toGLSL(!0,1)+"),dot("+p.toGLSL(!0)+","+q.toGLSL(!0,2)+")); // m33"),d.addDR(k,la.VECTOR_4),d.addSR(p,la.VECTOR_4),d.addSR(q,la.VECTOR_4,0),d.addSR(q,la.VECTOR_4,1),d.addSR(q,la.VECTOR_4,2));break;case 24:f=d.getRegisterUsage(q);
f!=la.VECTOR_4&&f!=la.VECTOR_4_ARRAY?(e+=h.string(k.toGLSL()+" = "+p.toGLSL()+" * "+q.toGLSL(!1)+"; // m44"),d.addDR(k,la.VECTOR_4),d.addSR(p,la.VECTOR_4),d.addSR(q,la.MATRIX_4_4)):(p.sourceMask=q.sourceMask=15,e+=h.string(k.toGLSL()+" = vec4(dot("+p.toGLSL(!0)+","+q.toGLSL(!0,0)+"), dot("+p.toGLSL(!0)+","+q.toGLSL(!0,1)+"), dot("+p.toGLSL(!0)+","+q.toGLSL(!0,2)+"), dot("+p.toGLSL(!0)+","+q.toGLSL(!0,3)+")); // m44"),d.addDR(k,la.VECTOR_4),d.addSR(p,la.VECTOR_4),d.addSR(q,la.VECTOR_4,0),d.addSR(q,
la.VECTOR_4,1),d.addSR(q,la.VECTOR_4,2),d.addSR(q,la.VECTOR_4,3));break;case 25:k.mask&=7;f=d.getRegisterUsage(q);f!=la.VECTOR_4&&f!=la.VECTOR_4_ARRAY?(e+=h.string(k.toGLSL()+" = "+p.toGLSL()+" * "+q.toGLSL(!1)+"; // m34"),d.addDR(k,la.VECTOR_4),d.addSR(p,la.VECTOR_4),d.addSR(q,la.MATRIX_4_4)):(p.sourceMask=q.sourceMask=15,e+=h.string(k.toGLSL()+" = vec3(dot("+p.toGLSL(!0)+","+q.toGLSL(!0,0)+"), dot("+p.toGLSL(!0)+","+q.toGLSL(!0,1)+"),dot("+p.toGLSL(!0)+","+q.toGLSL(!0,2)+")); // m34"),d.addDR(k,
la.VECTOR_4),d.addSR(p,la.VECTOR_4),d.addSR(q,la.VECTOR_4,0),d.addSR(q,la.VECTOR_4,1),d.addSR(q,la.VECTOR_4,2));break;case 39:p.sourceMask=15;e+=h.string("if (any(lessThan("+p.toGLSL()+", vec4(0)))) discard;");d.addSR(p,la.VECTOR_4);break;case 40:q=xl.parse(m,c);switch(q.d){case 0:p.sourceMask=3;d.addSaR(q,la.SAMPLER_2D);e+=h.string(k.toGLSL()+" = texture2D("+q.toGLSL()+", "+p.toGLSL()+"); // tex");break;case 1:p.sourceMask=7,e+=h.string(k.toGLSL()+" = textureCube("+q.toGLSL()+", "+p.toGLSL()+"); // tex"),
d.addSaR(q,la.SAMPLER_CUBE)}d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);null!=b&&(b[q.n]=q.toSamplerState());break;case 41:p.sourceMask=q.sourceMask=15;e+=h.string(k.toGLSL()+" = vec4(greaterThanEqual("+p.toGLSL()+", "+q.toGLSL()+"))"+k.getWriteMask()+"; // ste");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 42:p.sourceMask=q.sourceMask=15;e+=h.string(k.toGLSL()+" = vec4(lessThan("+p.toGLSL()+", "+q.toGLSL()+"))"+k.getWriteMask()+"; // slt");d.addDR(k,la.VECTOR_4);
d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 44:p.sourceMask=q.sourceMask=15;e+=h.string(k.toGLSL()+" = vec4(equal("+p.toGLSL()+", "+q.toGLSL()+"))"+k.getWriteMask()+"; // seq");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;case 45:p.sourceMask=q.sourceMask=15;e+=h.string(k.toGLSL()+" = vec4(notEqual("+p.toGLSL()+", "+q.toGLSL()+"))"+k.getWriteMask()+"; // sne");d.addDR(k,la.VECTOR_4);d.addSR(p,la.VECTOR_4);d.addSR(q,la.VECTOR_4);break;default:throw new H(new rc("Opcode "+
f));}e+="\n"}null==oe.limitedProfile&&(k=g.context.__context.getParameter(7938),oe.limitedProfile=-1<k.indexOf("OpenGL ES")||-1<k.indexOf("WebGL"));k=""+h.string("// AGAL "+(c==ee.VERTEX?"vertex":"fragment")+" shader\n");k=oe.limitedProfile?k+"#version 100\nprecision highp float;\n":k+"#version 120\n";k+=h.string(d.toGLSL(!1));c==ee.VERTEX&&(k+="uniform vec4 vcPositionScale;\n");k+="void main() {\n";k+=h.string(d.toGLSL(!0));k+=h.string(e);c==ee.VERTEX&&(k+="\tgl_Position *= vcPositionScale;\n");
return k+="}\n"};var wl=function(){};m["openfl._internal.stage3D._AGALConverter.DestRegister"]=wl;wl.__name__=["openfl","_internal","stage3D","_AGALConverter","DestRegister"];wl.parse=function(a,b){var c=new wl;c.programType=b;c.type=a>>>24&15;c.mask=a>>>16&15;c.n=a&65535;return c};wl.prototype={mask:null,n:null,programType:null,type:null,getWriteMask:function(){var a=".";0!=(this.mask&1)&&(a+="x");0!=(this.mask&2)&&(a+="y");0!=(this.mask&4)&&(a+="z");0!=(this.mask&8)&&(a+="w");return a},toGLSL:function(a){null==
a&&(a=!0);var b;b=3==this.type?this.programType==ee.VERTEX?"gl_Position":"gl_FragColor":oe.prefixFromType(this.type,this.programType)+this.n;a&&15!=this.mask&&(b+=this.getWriteMask());return b},__class__:wl};var ee=m["openfl._internal.stage3D._AGALConverter.ProgramType"]={__ename__:["openfl","_internal","stage3D","_AGALConverter","ProgramType"],__constructs__:["VERTEX","FRAGMENT"]};ee.VERTEX=["VERTEX",0];ee.VERTEX.toString=U;ee.VERTEX.__enum__=ee;ee.FRAGMENT=["FRAGMENT",1];ee.FRAGMENT.toString=U;
ee.FRAGMENT.__enum__=ee;ee.__empty_constructs__=[ee.VERTEX,ee.FRAGMENT];var Jr=function(){this.mEntries=[]};m["openfl._internal.stage3D.RegisterMap"]=Jr;Jr.__name__=["openfl","_internal","stage3D","RegisterMap"];Jr.prototype={mEntries:null,add:function(a,b,c,d){for(var e=0,f=this.mEntries;e<f.length;){var k=f[e];++e;if(k.type==a&&k.name==b&&k.number==c){if(k.usage!=d)throw new H(new rc("Cannot use register in multiple ways yet (mat4/vec4)"));return}}e=new Kr;e.type=a;e.name=b;e.number=c;e.usage=d;
this.mEntries.push(e)},addDR:function(a,b){this.add(a.type,a.toGLSL(!1),a.n,b)},addSaR:function(a,b){this.add(a.type,a.toGLSL(),a.n,b)},addSR:function(a,b,c){null==c&&(c=0);0!=a.d?(this.add(a.itype,oe.prefixFromType(a.itype,a.programType)+a.n,a.n,la.VECTOR_4),this.add(a.type,oe.prefixFromType(a.type,a.programType)+a.o,a.o,la.VECTOR_4_ARRAY)):this.add(a.type,a.toGLSL(!1,c),a.n+c,b)},getRegisterUsage:function(a){return 0!=a.d?la.VECTOR_4_ARRAY:this.getUsage(a.type,a.toGLSL(!1),a.n)},getUsage:function(a,
b,c){for(var d=0,e=this.mEntries;d<e.length;){var f=e[d];++d;if(f.type==a&&f.name==b&&f.number==c)return f.usage}return la.UNUSED},toGLSL:function(a){this.mEntries.sort(function(a,b){return a.number-b.number});for(var b=new Hb,c,d=0,e=this.mEntries.length;d<e;){var f=d++;c=this.mEntries[f];c.usage==la.VECTOR_4_ARRAY&&(f<this.mEntries.length-1?b.set(c,this.mEntries[f+1].number-c.number):b.set(c,128))}this.mEntries.sort(function(a,b){return y.__cast(a.type,Sq)-y.__cast(b.type,Sq)});d="";e=0;for(f=this.mEntries.length;e<
f;)if(c=e++,c=this.mEntries[c],!(a&&2!=c.type||!a&&2==c.type)&&3!=c.type){switch(c.type){case 0:d+="attribute ";break;case 1:d+="uniform ";break;case 2:d+="\t";break;case 3:break;case 4:d+="varying ";break;case 5:d+="uniform ";break;default:throw new H(new rc);}switch(c.usage[1]){case 0:Aa.trace("Missing switch patten: RegisterUsage.UNUSED",{fileName:"AGALConverter.hx",lineNumber:811,className:"openfl._internal.stage3D.RegisterMap",methodName:"toGLSL"});break;case 1:d+="vec4 ";break;case 2:d+="mat4 ";
break;case 3:d+="sampler2D ";break;case 4:Aa.trace("Missing switch patten: RegisterUsage.SAMPLER_2D_ALPHA",{fileName:"AGALConverter.hx",lineNumber:815,className:"openfl._internal.stage3D.RegisterMap",methodName:"toGLSL"});break;case 5:d+="samplerCube ";break;case 6:d+="vec4 "}c.usage==la.SAMPLER_2D_ALPHA?(d+="sampler2D ",d+=h.string(c.name),d+=";\n",d+="uniform ",d+="sampler2D ",d+=h.string(c.name+"_alpha")):d=c.usage==la.VECTOR_4_ARRAY?d+h.string(c.name+"["+b.h[c.__id__]+"]"):d+h.string(c.name);
d+=";\n"}return d},__class__:Jr};var Kr=function(){};m["openfl._internal.stage3D._AGALConverter.RegisterMapEntry"]=Kr;Kr.__name__=["openfl","_internal","stage3D","_AGALConverter","RegisterMapEntry"];Kr.prototype={name:null,number:null,type:null,usage:null,__class__:Kr};var la=m["openfl._internal.stage3D._AGALConverter.RegisterUsage"]={__ename__:["openfl","_internal","stage3D","_AGALConverter","RegisterUsage"],__constructs__:"UNUSED VECTOR_4 MATRIX_4_4 SAMPLER_2D SAMPLER_2D_ALPHA SAMPLER_CUBE VECTOR_4_ARRAY".split(" ")};
la.UNUSED=["UNUSED",0];la.UNUSED.toString=U;la.UNUSED.__enum__=la;la.VECTOR_4=["VECTOR_4",1];la.VECTOR_4.toString=U;la.VECTOR_4.__enum__=la;la.MATRIX_4_4=["MATRIX_4_4",2];la.MATRIX_4_4.toString=U;la.MATRIX_4_4.__enum__=la;la.SAMPLER_2D=["SAMPLER_2D",3];la.SAMPLER_2D.toString=U;la.SAMPLER_2D.__enum__=la;la.SAMPLER_2D_ALPHA=["SAMPLER_2D_ALPHA",4];la.SAMPLER_2D_ALPHA.toString=U;la.SAMPLER_2D_ALPHA.__enum__=la;la.SAMPLER_CUBE=["SAMPLER_CUBE",5];la.SAMPLER_CUBE.toString=U;la.SAMPLER_CUBE.__enum__=la;la.VECTOR_4_ARRAY=
["VECTOR_4_ARRAY",6];la.VECTOR_4_ARRAY.toString=U;la.VECTOR_4_ARRAY.__enum__=la;la.__empty_constructs__=[la.UNUSED,la.VECTOR_4,la.MATRIX_4_4,la.SAMPLER_2D,la.SAMPLER_2D_ALPHA,la.SAMPLER_CUBE,la.VECTOR_4_ARRAY];var xl=function(){};m["openfl._internal.stage3D._AGALConverter.SamplerRegister"]=xl;xl.__name__=["openfl","_internal","stage3D","_AGALConverter","SamplerRegister"];xl.parse=function(a,b){var c=new xl;c.programType=b;var d;d=60;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>d,a.high<<32-d|a.low>>>
d):new Ga(a.high>>31,a.high>>d-32);var e=new Ga(0,15);d=new Ga(d.high&e.high,d.low&e.low);c.f=d.low;d=56;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>d,a.high<<32-d|a.low>>>d):new Ga(a.high>>31,a.high>>d-32);e=new Ga(0,15);d=new Ga(d.high&e.high,d.low&e.low);c.m=d.low;d=52;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>d,a.high<<32-d|a.low>>>d):new Ga(a.high>>31,a.high>>d-32);e=new Ga(0,15);d=new Ga(d.high&e.high,d.low&e.low);c.w=d.low;d=48;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>d,a.high<<
32-d|a.low>>>d):new Ga(a.high>>31,a.high>>d-32);e=new Ga(0,15);d=new Ga(d.high&e.high,d.low&e.low);c.s=d.low;d=44;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>d,a.high<<32-d|a.low>>>d):new Ga(a.high>>31,a.high>>d-32);e=new Ga(0,15);d=new Ga(d.high&e.high,d.low&e.low);c.d=d.low;d=40;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>d,a.high<<32-d|a.low>>>d):new Ga(a.high>>31,a.high>>d-32);e=new Ga(0,15);d=new Ga(d.high&e.high,d.low&e.low);c.t=d.low;d=32;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>
d,a.high<<32-d|a.low>>>d):new Ga(a.high>>31,a.high>>d-32);e=new Ga(0,15);d=new Ga(d.high&e.high,d.low&e.low);c.type=d.low;d=16;d=0==d?new Ga(a.high,a.low):32>d?new Ga(a.high>>d,a.high<<32-d|a.low>>>d):new Ga(a.high>>31,a.high>>d-32);e=new Ga(0,255);d=new Ga(d.high&e.high,d.low&e.low);c.b=d.low;d=new Ga(0,65535);d=new Ga(a.high&d.high,a.low&d.low);c.n=d.low;return c};xl.prototype={b:null,d:null,f:null,m:null,n:null,programType:null,s:null,t:null,type:null,w:null,toGLSL:function(){return oe.prefixFromType(this.type,
this.programType)+this.n},toSamplerState:function(){var a=0,b=0,c=0,d=0;switch(this.f){case 0:a=9728;break;case 1:a=9729;break;default:throw new H(new rc);}switch(this.m){case 0:b=0!=this.f?9729:9728;break;case 1:b=0!=this.f?9985:9984;break;case 2:b=0!=this.f?9987:9986;break;default:throw new H(new rc);}switch(this.w){case 0:d=c=33071;break;case 1:d=c=10497;break;default:throw new H(new rc);}return new mp(b,a,c,d,(this.b<<24>>24)/8,0,4==(this.s&4),1==(this.s&1))},__class__:xl};var Jj=function(){};
m["openfl._internal.stage3D._AGALConverter.SourceRegister"]=Jj;Jj.__name__=["openfl","_internal","stage3D","_AGALConverter","SourceRegister"];Jj.parse=function(a,b,c){var d=new Jj;d.programType=b;b=63;b=0==b?new Ga(a.high,a.low):32>b?new Ga(a.high>>b,a.high<<32-b|a.low>>>b):new Ga(a.high>>31,a.high>>b-32);var e=new Ga(0,1);b=new Ga(b.high&e.high,b.low&e.low);d.d=b.low;b=48;b=0==b?new Ga(a.high,a.low):32>b?new Ga(a.high>>b,a.high<<32-b|a.low>>>b):new Ga(a.high>>31,a.high>>b-32);e=new Ga(0,3);b=new Ga(b.high&
e.high,b.low&e.low);d.q=b.low;b=40;b=0==b?new Ga(a.high,a.low):32>b?new Ga(a.high>>b,a.high<<32-b|a.low>>>b):new Ga(a.high>>31,a.high>>b-32);e=new Ga(0,15);b=new Ga(b.high&e.high,b.low&e.low);d.itype=b.low;b=32;b=0==b?new Ga(a.high,a.low):32>b?new Ga(a.high>>b,a.high<<32-b|a.low>>>b):new Ga(a.high>>31,a.high>>b-32);e=new Ga(0,15);b=new Ga(b.high&e.high,b.low&e.low);d.type=b.low;b=24;b=0==b?new Ga(a.high,a.low):32>b?new Ga(a.high>>b,a.high<<32-b|a.low>>>b):new Ga(a.high>>31,a.high>>b-32);e=new Ga(0,
255);b=new Ga(b.high&e.high,b.low&e.low);d.s=b.low;b=16;b=0==b?new Ga(a.high,a.low):32>b?new Ga(a.high>>b,a.high<<32-b|a.low>>>b):new Ga(a.high>>31,a.high>>b-32);e=new Ga(0,255);b=new Ga(b.high&e.high,b.low&e.low);d.o=b.low;b=new Ga(0,65535);a=new Ga(a.high&b.high,a.low&b.low);d.n=a.low;d.sourceMask=c;return d};Jj.prototype={d:null,itype:null,n:null,o:null,programType:null,q:null,s:null,sourceMask:null,type:null,toGLSL:function(a,b){null==b&&(b=0);null==a&&(a=!0);if(3==this.type)return this.programType==
ee.VERTEX?"gl_Position":"gl_FragColor";var c=228==this.s&&15==this.sourceMask,d="";if(5!=this.type&&!c)for(c=0;4>c;){var e=c++;if(0!=(this.sourceMask&1<<e))switch(this.s>>2*e&3){case 0:d+="x";break;case 1:d+="y";break;case 2:d+="z";break;case 3:d+="w"}}c=oe.prefixFromType(this.type,this.programType);0==this.d?c+=this.n+b:(c+=this.o,e=String.fromCharCode(da.cca("x",0)+this.q),e=oe.prefixFromType(this.itype,this.programType)+this.n+"."+e,c+="[ int("+e+") +"+b+"]");a&&""!=d&&(c+="."+d);return c},__class__:Jj};
var Kj=function(){this._registers=x.toFloatVector(null,4096);this.clearSettings()};m["openfl._internal.stage3D.Context3DStateCache"]=Kj;Kj.__name__=["openfl","_internal","stage3D","Context3DStateCache"];Kj.prototype={_activeTexture:null,_activeVertexArray:null,_cullingMode:null,_depthTestCompareMode:null,_depthTestEnabled:null,_depthTestMask:null,_destBlendFactor:null,_program:null,_registers:null,_srcBlendFactor:null,_viewportHeight:null,_viewportOriginX:null,_viewportOriginY:null,_viewportWidth:null,
clearRegisters:function(){for(var a=0;4096>a;){var b=a++;this._registers.set(b,-999999999)}},clearSettings:function(){this._destBlendFactor=this._srcBlendFactor=null;this._depthTestMask=this._depthTestEnabled=!1;this._cullingMode=this._program=this._depthTestCompareMode=null;this._viewportHeight=this._viewportWidth=this._viewportOriginY=this._viewportOriginX=this._activeVertexArray=this._activeTexture=-1;this.clearRegisters()},updateActiveTextureSample:function(a){this._activeTexture=a;return!0},
updateActiveVertexArray:function(a){this._activeVertexArray=a;return!0},updateBlendDestFactor:function(a){this._destBlendFactor=a;return!0},updateBlendSrcFactor:function(a){this._srcBlendFactor=a;return!0},updateCullingMode:function(a){this._cullingMode=a;return!0},updateDepthCompareMode:function(a){this._depthTestCompareMode=a;return!0},updateDepthTestEnabled:function(a){this._depthTestEnabled=a;return!0},updateDepthTestMask:function(a){this._depthTestMask=a;return!0},updateProgram3D:function(a){this._program=
a;return!0},updateRegisters:function(a,b,c){return!0},updateViewport:function(a,b,c,d){this._viewportOriginX=a;this._viewportOriginY=b;this._viewportWidth=c;this._viewportHeight=d;return!0},__class__:Kj};var va=function(){};m["openfl._internal.stage3D.GLUtils"]=va;va.__name__=["openfl","_internal","stage3D","GLUtils"];va.CheckGLError=function(){if(va.debug){var a=g.context.__context.getError();if(0!=a){switch(a){case 0:a="GL_NO_ERROR";break;case 1280:a="GL_INVALID_ENUM";break;case 1281:a="GL_INVALID_VALUE";
break;case 1282:a="GL_INVALID_OPERATION";break;case 1285:a="GL_OUT_OF_MEMORY";break;case 1286:a="GL_INVALID_FRAMEBUFFER_OPERATION";break;default:a=null==a?"null":""+a}throw new H(new rc("Error calling openGL api. Error: "+a+"\n"));}}};var mp=function(a,b,c,d,e,f,k,g,h){null==h&&(h=!1);null==g&&(g=!1);null==k&&(k=!1);null==f&&(f=0);null==e&&(e=0);this.set_minFilter(a);this.set_magFilter(b);this.set_wrapModeS(c);this.set_wrapModeT(d);this.set_lodBias(e);this.set_maxAniso(f);this.ignoreSampler=k;this.centroid=
g;this.mipmapGenerated=h;this.__samplerDirty=!0};m["openfl._internal.stage3D.SamplerState"]=mp;mp.__name__=["openfl","_internal","stage3D","SamplerState"];mp.prototype={lodBias:null,magFilter:null,maxAniso:null,minFilter:null,wrapModeS:null,wrapModeT:null,centroid:null,ignoreSampler:null,mipmapGenerated:null,__samplerDirty:null,copyFrom:function(a){null==a||a.ignoreSampler||(this.set_minFilter(a.minFilter),this.set_magFilter(a.magFilter),this.set_wrapModeS(a.wrapModeS),this.set_wrapModeT(a.wrapModeT),
this.set_lodBias(a.lodBias),this.set_maxAniso(a.maxAniso),this.centroid=a.centroid,this.mipmapGenerated=a.mipmapGenerated)},equals:function(a){return this==a?!this.__samplerDirty:null==a?!1:this.minFilter==a.minFilter&&this.magFilter==a.magFilter&&this.wrapModeS==a.wrapModeS&&this.wrapModeT==a.wrapModeT&&this.lodBias==a.lodBias&&this.maxAniso==a.maxAniso?this.mipmapGenerated==a.mipmapGenerated:!1},set_lodBias:function(a){this.lodBias!=a&&(this.__samplerDirty=!0);return this.lodBias=a},set_magFilter:function(a){this.magFilter!=
a&&(this.__samplerDirty=!0);return this.magFilter=a},set_maxAniso:function(a){this.maxAniso!=a&&(this.__samplerDirty=!0);return this.maxAniso=a},set_minFilter:function(a){this.minFilter!=a&&(this.__samplerDirty=!0);return this.minFilter=a},set_wrapModeS:function(a){this.wrapModeS!=a&&(this.__samplerDirty=!0);return this.wrapModeS=a},set_wrapModeT:function(a){this.wrapModeT!=a&&(this.__samplerDirty=!0);return this.wrapModeT=a},__class__:mp,__properties__:{set_wrapModeT:"set_wrapModeT",set_wrapModeS:"set_wrapModeS",
set_minFilter:"set_minFilter",set_maxAniso:"set_maxAniso",set_magFilter:"set_magFilter",set_lodBias:"set_lodBias"}};var ui=m["openfl._internal.swf.FilterType"]={__ename__:["openfl","_internal","swf","FilterType"],__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter"]};ui.BlurFilter=function(a,b,c){a=["BlurFilter",0,a,b,c];a.__enum__=ui;a.toString=U;return a};ui.ColorMatrixFilter=function(a){a=["ColorMatrixFilter",1,a];a.__enum__=ui;a.toString=U;return a};ui.DropShadowFilter=
function(a,b,c,d,e,f,k,g,h,m,n){a=["DropShadowFilter",2,a,b,c,d,e,f,k,g,h,m,n];a.__enum__=ui;a.toString=U;return a};ui.GlowFilter=function(a,b,c,d,e,f,g,h){a=["GlowFilter",3,a,b,c,d,e,f,g,h];a.__enum__=ui;a.toString=U;return a};ui.__empty_constructs__=[];var ng=function(){this.symbols=new fc};m["openfl._internal.swf.SWFLite"]=ng;ng.__name__=["openfl","_internal","swf","SWFLite"];ng.resolveClass=function(a){var b=La.resolveClass(a);null==b&&(b=La.resolveClass(Da.replace(a,"openfl._legacy","openfl")));
null==b&&(b=La.resolveClass(Da.replace(a,"openfl._v2","openfl")));return b};ng.resolveEnum=function(a){var b=La.resolveEnum(a);null==b&&(b=La.resolveEnum(Da.replace(a,"openfl._legacy","openfl")));null==b&&(b=La.resolveEnum(Da.replace(a,"openfl._v2","openfl")));return b};ng.unserialize=function(a){if(null==a)return null;a=new ye(a);a.setResolver({resolveClass:ng.resolveClass,resolveEnum:ng.resolveEnum});return a.unserialize()};ng.prototype={frameRate:null,library:null,root:null,symbols:null,createButton:function(a){return null},
createMovieClip:function(a){null==a&&(a="");if(""==a)return this.root.__createObject(this);for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&y.__instanceof(c,yl))return y.__cast(c,yl).__createObject(this)}return null},getBitmapData:function(a){for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&y.__instanceof(c,og))return ma.getBitmapData(c.path)}return null},hasSymbol:function(a){for(var b=this.symbols.iterator();b.hasNext();)if(b.next().className==
a)return!0;return!1},serialize:function(){var a=new xe;a.serialize(this);return a.toString()},__class__:ng};var Hc=function(){Rc.call(this)};m["openfl.utils.AssetLibrary"]=Hc;Hc.__name__=["openfl","utils","AssetLibrary"];Hc.fromBytes=function(a,b){return Hc.fromManifest(sc.fromBytes(Na.toBytes(a),b))};Hc.fromFile=function(a,b){return Hc.fromManifest(sc.fromFile(a,b))};Hc.fromManifest=function(a){a=Rc.fromManifest(a);return null!=a&&y.__instanceof(a,Hc)?a:null};Hc.loadFromBytes=function(a,b){return sc.loadFromBytes(Na.toBytes(a),
b).then(function(a){return Hc.loadFromManifest(a)})};Hc.loadFromFile=function(a,b){return sc.loadFromFile(a,b).then(function(a){return Hc.loadFromManifest(a)})};Hc.loadFromManifest=function(a){a=Hc.fromManifest(a);return null!=a&&y.__instanceof(a,Hc)?a.load().then(function(a){return hb.withValue(a)}):hb.withError("Could not load asset manifest")};Hc.__super__=Rc;Hc.prototype=z(Rc.prototype,{getMovieClip:function(a){return null},loadMovieClip:function(a){var b=this;return new hb(function(){return b.getMovieClip(a)})},
__class__:Hc});var Lr=function(a){Rc.call(this);this.id=a;this.alphaCheck=new qa;this.imageClassNames=new qa;this.rootPath=""};m["openfl._internal.swf.SWFLiteLibrary"]=Lr;Lr.__name__=["openfl","_internal","swf","SWFLiteLibrary"];Lr.__super__=Hc;Lr.prototype=z(Hc.prototype,{alphaCheck:null,id:null,imageClassNames:null,preloading:null,rootPath:null,swf:null,exists:function(a,b){return null==this.swf?!1:""==a&&"MOVIE_CLIP"==b?!0:"IMAGE"!=b&&"MOVIE_CLIP"!=b||null==this.swf?!1:this.swf.hasSymbol(a)},getImage:function(a){var b=
this.imageClassNames;if(null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=this.imageClassNames,a=null!=t[a]?b.getReserved(a):b.h[a];b=this.alphaCheck;if(null!=t[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))for(var c=this.swf.symbols.iterator();c.hasNext();)if(b=c.next(),y.__instanceof(b,og)&&y.__cast(b,og).path==a&&null!=b.alpha){var c=Hc.prototype.getImage.call(this,a),d=Hc.prototype.getImage.call(this,b.alpha);this.__copyChannel(c,d);d=this.cachedImages;null!=t[a]?d.setReserved(a,c):d.h[a]=
c;this.cachedImages.remove(b.alpha);b=this.alphaCheck;null!=t[a]?b.setReserved(a,!0):b.h[a]=!0;return c}return Hc.prototype.getImage.call(this,a)},getMovieClip:function(a){return null!=this.swf?this.swf.createMovieClip(a):null},isLocal:function(a,b){return!0},load:function(){var a=this;if(null!=this.id){var b=this.id,c=this.preload;null!=t[b]?c.setReserved(b,!0):c.h[b]=!0}var d=new jd;this.preloading=!0;var e=function(b){var c=a.id,e=a.cachedText;null!=t[c]?e.setReserved(c,b):e.h[c]=b;a.swf=ng.unserialize(b);
a.swf.library=a;for(b=a.swf.symbols.iterator();b.hasNext();)if(c=b.next(),y.__instanceof(c,og)&&(e=c,null!=e.className)){var c=e.className,e=e.path,f=a.imageClassNames;null!=t[c]?f.setReserved(c,e):f.h[c]=e}b=a.id;c=a.swf;e=ng.instances;null!=t[b]?e.setReserved(b,c):e.h[b]=c;a.__load().onProgress(u(d,d.progress)).onError(u(d,d.error)).onComplete(function(b){a.preloading=!1;d.complete(a)})};if(ma.exists(this.id)){for(b=this.paths.keys();b.hasNext();){var c=b.next(),f=this.preload;null!=t[c]?f.setReserved(c,
!0):f.h[c]=!0}this.loadText(this.id).onError(u(d,d.error)).onComplete(e)}else{for(b=this.paths.keys();b.hasNext();)c=b.next(),f=this.preload,null!=t[c]?f.setReserved(c,!0):f.h[c]=!0;var b=null!=this.rootPath&&""!=this.rootPath?this.rootPath+"/"+this.id:this.id,g=new nh;g.addEventListener("complete",function(a){e(g.data)});g.addEventListener("ioError",function(a){d.error(a)});g.load(new Fe(b))}return d.future},loadImage:function(a){var b=this,c=this.imageClassNames;if(null!=t[a]?c.existsReserved(a):
c.h.hasOwnProperty(a))c=this.imageClassNames,a=null!=t[a]?c.getReserved(a):c.h[a];this.preloading?c=!1:(c=this.alphaCheck,c=!(null!=t[a]?c.existsReserved(a):c.h.hasOwnProperty(a)));if(c)for(c=this.swf.symbols.iterator();c.hasNext();){var d=c.next();if(y.__instanceof(d,og)&&y.__cast(d,og).path==a&&(d=[d],null!=d[0].alpha))return c=[new jd],this.__loadImage(a).onError((Cb=c[0],u(Cb,Cb.error))).onComplete(function(c,d){return function(g){b.__loadImage(d[0].alpha).onError((Cb=c[0],u(Cb,Cb.error))).onComplete(function(c,
d){return function(e){b.__copyChannel(g,e);e=b.cachedImages;null!=t[a]?e.setReserved(a,g):e.h[a]=g;b.cachedImages.remove(d[0].alpha);e=b.alphaCheck;null!=t[a]?e.setReserved(a,!0):e.h[a]=!0;c[0].complete(g)}}(c,d))}}(c,d)),c[0].future}return Hc.prototype.loadImage.call(this,a)},unload:function(){for(var a,b=this.swf.symbols.iterator();b.hasNext();)a=b.next(),y.__instanceof(a,og)&&ma.cache.removeBitmapData(a.path)},__copyChannel:function(a,b){null!=b&&a.copyChannel(b,b.get_rect(),new Oc,nc.RED,nc.ALPHA);
a.buffer.premultiplied=!0;a.set_premultiplied(!1)},__fromManifest:function(a){this.rootPath=a.rootPath;Hc.prototype.__fromManifest.call(this,a)},__load:function(){return Hc.prototype.load.call(this)},__loadImage:function(a){return Hc.prototype.loadImage.call(this,a)},__class__:Lr});var fe=m["openfl._internal.swf.ShapeCommand"]={__ename__:["openfl","_internal","swf","ShapeCommand"],__constructs__:"BeginBitmapFill BeginFill BeginGradientFill CurveTo EndFill LineStyle LineTo MoveTo".split(" ")};fe.BeginBitmapFill=
function(a,b,c,d){a=["BeginBitmapFill",0,a,b,c,d];a.__enum__=fe;a.toString=U;return a};fe.BeginFill=function(a,b){var c=["BeginFill",1,a,b];c.__enum__=fe;c.toString=U;return c};fe.BeginGradientFill=function(a,b,c,d,e,f,g,h){a=["BeginGradientFill",2,a,b,c,d,e,f,g,h];a.__enum__=fe;a.toString=U;return a};fe.CurveTo=function(a,b,c,d){a=["CurveTo",3,a,b,c,d];a.__enum__=fe;a.toString=U;return a};fe.EndFill=["EndFill",4];fe.EndFill.toString=U;fe.EndFill.__enum__=fe;fe.LineStyle=function(a,b,c,d,e,f,g,h){a=
["LineStyle",5,a,b,c,d,e,f,g,h];a.__enum__=fe;a.toString=U;return a};fe.LineTo=function(a,b){var c=["LineTo",6,a,b];c.__enum__=fe;c.toString=U;return c};fe.MoveTo=function(a,b){var c=["MoveTo",7,a,b];c.__enum__=fe;c.toString=U;return c};fe.__empty_constructs__=[fe.EndFill];var Be=function(){};m["openfl._internal.symbols.SWFSymbol"]=Be;Be.__name__=["openfl","_internal","symbols","SWFSymbol"];Be.prototype={className:null,id:null,__createObject:function(a){return null},__class__:Be};var og=function(){};
m["openfl._internal.symbols.BitmapSymbol"]=og;og.__name__=["openfl","_internal","symbols","BitmapSymbol"];og.__super__=Be;og.prototype=z(Be.prototype,{alpha:null,path:null,smooth:null,__createObject:function(a){return new Id(Ha.fromImage(a.library.getImage(this.path)),1,0!=this.smooth)},__class__:og});var Mr=function(){};m["openfl._internal.symbols.ButtonSymbol"]=Mr;Mr.__name__=["openfl","_internal","symbols","ButtonSymbol"];Mr.__super__=Be;Mr.prototype=z(Be.prototype,{downState:null,hitState:null,
overState:null,upState:null,__createObject:function(a){var b=null;Jf.__initSWF=a;Jf.__initSymbol=this;null!=this.className&&(a=La.resolveClass(this.className),null!=a&&(b=La.createInstance(a,[])));null==b&&(b=new Jf);return b},__class__:Mr});var Nr=function(){};m["openfl._internal.symbols.DynamicTextSymbol"]=Nr;Nr.__name__=["openfl","_internal","symbols","DynamicTextSymbol"];Nr.__super__=Be;Nr.prototype=z(Be.prototype,{align:null,border:null,color:null,fontHeight:null,fontID:null,fontName:null,height:null,
html:null,indent:null,input:null,leading:null,leftMargin:null,multiline:null,password:null,rightMargin:null,selectable:null,text:null,width:null,wordWrap:null,x:null,y:null,__createObject:function(a){var b=new Tb;b.__fromSymbol(a,this);return b},__class__:Nr});var Or=function(){};m["openfl._internal.symbols.FontSymbol"]=Or;Or.__name__=["openfl","_internal","symbols","FontSymbol"];Or.__super__=Be;Or.prototype=z(Be.prototype,{advances:null,ascent:null,bold:null,codes:null,descent:null,glyphs:null,italic:null,
leading:null,name:null,__class__:Or});var Pr=function(){};m["openfl._internal.symbols.ShapeSymbol"]=Pr;Pr.__name__=["openfl","_internal","symbols","ShapeSymbol"];Pr.__super__=Be;Pr.prototype=z(Be.prototype,{commands:null,rendered:null,__createObject:function(a){var b=new re,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),b;for(var d=0,e=this.commands;d<e.length;){var f=e[d];++d;switch(f[1]){case 0:var g=f[5],h=f[4],m=f[3],f=a.symbols.get(f[2]),f=a.library.getImage(f.path);
null!=f&&c.beginBitmapFill(Ha.fromImage(f),m,h,g);break;case 1:c.beginFill(f[2],f[3]);break;case 2:c.beginGradientFill(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]);break;case 3:c.curveTo(f[2],f[3],f[4],f[5]);break;case 4:c.endFill();break;case 5:var g=f[9],h=f[8],m=f[7],q=f[6],n=f[5],l=f[4],r=f[3],f=f[2];null!=f?c.lineStyle(f,r,l,n,q,m,h,g):c.lineStyle();break;case 6:c.lineTo(f[2],f[3]);break;case 7:c.moveTo(f[2],f[3])}}this.commands=null;this.rendered=new re;this.rendered.get_graphics().copyFrom(b.get_graphics());
return b},__class__:Pr});var yl=function(){this.frames=[]};m["openfl._internal.symbols.SpriteSymbol"]=yl;yl.__name__=["openfl","_internal","symbols","SpriteSymbol"];yl.__super__=Be;yl.prototype=z(Be.prototype,{baseClassName:null,frames:null,__createObject:function(a){Pe.__initSWF=a;Pe.__initSymbol=this;a=null;null!=this.className&&(a=La.resolveClass(this.className));null==a&&null!=this.baseClassName&&(a=La.resolveClass(this.baseClassName));var b=null;return b=null!=a?La.createInstance(a,[]):new Pe},
__class__:yl});var Qr=function(){};m["openfl._internal.symbols.StaticTextSymbol"]=Qr;Qr.__name__=["openfl","_internal","symbols","StaticTextSymbol"];Qr.__super__=Be;Qr.prototype=z(Be.prototype,{matrix:null,records:null,rendered:null,__createObject:function(a){var b=new zl,c=b.__graphics;if(null!=this.rendered)return b.text=this.rendered.text,c.copyFrom(this.rendered.__graphics),b;var d="";if(null!=this.records)for(var e=null,f=16777215,g=this.matrix.tx,h=this.matrix.ty,m,q,n=0,l=this.records;n<l.length;){var r=
l[n];++n;null!=r.fontID&&(e=a.symbols.h[r.fontID]);null!=r.offsetX&&(g=this.matrix.tx+.05*r.offsetX);null!=r.offsetY&&(h=this.matrix.ty+.05*r.offsetY);null!=r.color&&(f=r.color);if(null!=e){m=r.fontHeight/1024*.05;for(var t=0,u=r.glyphs.length;t<u;){var v=t++;q=r.glyphs[v];var d=d+String.fromCharCode(e.codes[q]),y=0;for(q=e.glyphs[q];y<q.length;){var x=q[y];++y;switch(x[1]){case 1:c.beginFill(f&16777215,(f>>24&255)/255);break;case 3:c.curveTo(x[2]*m+g,x[3]*m+h,x[4]*m+g,x[5]*m+h);break;case 4:c.endFill();
break;case 5:var z=x[9],B=x[8],A=x[7],C=x[6],D=x[5],E=x[4],F=x[3],x=x[2];null!=x?c.lineStyle(x,F,E,D,C,A,B,z):c.lineStyle();break;case 6:c.lineTo(x[2]*m+g,x[3]*m+h);break;case 7:c.moveTo(x[2]*m+g,x[3]*m+h)}}g+=.05*r.advances[v]}}}b.text=d;this.records=null;this.rendered=new zl;this.rendered.text=d;this.rendered.__graphics.copyFrom(b.__graphics);return b},__class__:Qr});var bt=function(){};m["openfl._internal.symbols.StaticTextRecord"]=bt;bt.__name__=["openfl","_internal","symbols","StaticTextRecord"];
bt.prototype={advances:null,color:null,fontHeight:null,fontID:null,glyphs:null,offsetX:null,offsetY:null,__class__:bt};var Ya=function(){};m["openfl._internal.text.HtmlParser"]=Ya;Ya.__name__=["openfl","_internal","text","HtmlParser"];Ya.parse=function(a,b,c){a=a.replace(Ya.__regexBreakTag.r,"\n");a=a.replace(Ya.__regexEntities[0].r,'"');a=a.replace(Ya.__regexEntities[1].r,"'");a=a.replace(Ya.__regexEntities[2].r,"&");a=a.replace(Ya.__regexEntities[5].r," ");var d=a.split("<");if(1==d.length)a=a.replace(Ya.__regexHTMLTag.r,
""),1<c.get_length()&&c.splice(1,c.get_length()-1),a=a.replace(Ya.__regexEntities[3].r,"<"),a=a.replace(Ya.__regexEntities[4].r,">"),c=c.get(0),c.format=b,c.start=0,c.end=a.length;else{c.splice(0,c.get_length());a="";for(var e,f=0,g=d.length;f<g;){var p=f++;e=d[p];e=e.replace(Ya.__regexEntities[3].r,"<");e=e.replace(Ya.__regexEntities[4].r,">");d[p]=e}e=[b.clone()];g=!1;for(f=0;f<d.length;)if(p=d[f],++f,""!=p){var m="/"==da.substr(p,0,1),q=p.indexOf(">"),n=q+1,l=p.indexOf(" "),l=p.substring(m?1:0,
-1<l&&l<q?l:q);if(m)e.pop(),m=e[e.length-1].clone(),"p"==l.toLowerCase()&&0<c.get_length()&&(a+="\n",g=!0),n<p.length&&(g=da.substr(p,n,null),c.push(new Vg(m,a.length,a.length+g.length)),a+=g,g=!1);else if(m=e[e.length-1].clone(),-1<q){switch(l.toLowerCase()){case "a":Ya.__regexHref.match(p)&&(m.url=Ya.__getAttributeMatch(Ya.__regexHref));break;case "b":m.bold=!0;break;case "em":case "i":m.italic=!0;break;case "font":Ya.__regexFace.match(p)&&(m.font=Ya.__getAttributeMatch(Ya.__regexFace));Ya.__regexColor.match(p)&&
(m.color=h.parseInt("0x"+Ya.__getAttributeMatch(Ya.__regexColor)));Ya.__regexSize.match(p)&&(q=Ya.__getAttributeMatch(Ya.__regexSize),l=da.cca(q,0),m.size=43==l||45==l?(2<=e.length?e[e.length-2]:b).size+h.parseInt(q):h.parseInt(q));break;case "p":0<c.get_length()&&!g&&(a+="\n");Ya.__regexAlign.match(p)&&(m.align=Wg.fromString(Ya.__getAttributeMatch(Ya.__regexAlign).toLowerCase()));break;case "textformat":Ya.__regexBlockIndent.match(p)&&(m.blockIndent=h.parseInt(Ya.__getAttributeMatch(Ya.__regexBlockIndent)));
Ya.__regexIndent.match(p)&&(m.indent=h.parseInt(Ya.__getAttributeMatch(Ya.__regexIndent)));Ya.__regexLeading.match(p)&&(m.leading=h.parseInt(Ya.__getAttributeMatch(Ya.__regexLeading)));Ya.__regexLeftMargin.match(p)&&(m.leftMargin=h.parseInt(Ya.__getAttributeMatch(Ya.__regexLeftMargin)));Ya.__regexRightMargin.match(p)&&(m.rightMargin=h.parseInt(Ya.__getAttributeMatch(Ya.__regexRightMargin)));if(Ya.__regexTabStops.match(p)){for(var q=Ya.__getAttributeMatch(Ya.__regexTabStops).split(" "),l=[],r=0;r<
q.length;){var t=q[r];++r;l.push(h.parseInt(t))}m.tabStops=l}break;case "u":m.underline=!0}e.push(m);n<p.length&&(g=p.substring(n),c.push(new Vg(m,a.length,a.length+g.length)),a+=g,g=!1)}else c.push(new Vg(m,a.length,a.length+p.length)),a+=p,g=!1}0==c.get_length()&&c.push(new Vg(e[0],0,0))}return a};Ya.__getAttributeMatch=function(a){return null!=a.matched(2)?a.matched(2):a.matched(3)};var Ma=function(a){this.textField=a;this.height=this.width=100;this.set_text("");this.bounds=new ya(0,0,0,0);this.type=
0;this.autoSize=2;this.embedFonts=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=x.toFloatVector(null);this.lineBreaks=x.toIntVector(null);this.lineDescents=x.toFloatVector(null);this.lineLeadings=x.toFloatVector(null);this.lineHeights=x.toFloatVector(null);this.lineWidths=x.toFloatVector(null);this.layoutGroups=
x.toObjectVector(null);this.textFormatRanges=x.toObjectVector(null);Ma.__canvas=window.document.createElement("canvas");Ma.__context=Ma.__canvas.getContext("2d")};m["openfl._internal.text.TextEngine"]=Ma;Ma.__name__=["openfl","_internal","text","TextEngine"];Ma.findFont=function(a){return null};Ma.getFormatHeight=function(a){var b,c;Ma.__context.font=Ma.getFont(a);null!=a.__ascent?(b=a.size*a.__ascent,c=a.size*a.__descent):(b=a.size,c=.185*a.size);return b+c+a.leading};Ma.getFont=function(a){var b=
a.italic?"italic ":"normal ",b=b+"normal "+(a.bold?"bold ":"normal "),b=b+(a.size+"px"),b=b+("/"+(a.leading+a.size+3)+"px ");switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font.replace(/^[\s'"]+(.*)[\s'"]+$/,"$1")+"'"}return b+=""+a};Ma.getFontInstance=function(a){return null};Ma.prototype={antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,borderColor:null,bottomScrollV:null,bounds:null,
caretIndex:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,restrict:null,scrollH:null,scrollV:null,selectable:null,sharpness:null,text:null,textHeight:null,textFormatRanges:null,textWidth:null,type:null,width:null,wordWrap:null,textField:null,__cursorTimer:null,__hasFocus:null,__isKeyDown:null,__measuredHeight:null,
__measuredWidth:null,__restrictRegexp:null,__selectionStart:null,__showCursor:null,__textFormat:null,__textLayout:null,__texture:null,__useIntAdvances:null,__cairoFont:null,__font:null,__hiddenInput:null,createRestrictRegexp:function(a){var b="",c=[];0<(new Za("\\^(.-.|.)","gu")).map(a,function(a){b+=a.matched(1);return""}).length&&c.push("[^"+a+"]");0<b.length&&c.push("["+b+"]");return new Za("("+c.join("|")+")","g")},getBounds:function(){var a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=
this.height+a},getLine:function(a){return 0>a||a>this.lineBreaks.get_length()+1?null:0==this.lineBreaks.get_length()?this.text:ka.substring(this.text,0<a?this.lineBreaks.get(a-1):0,this.lineBreaks.get(a))},getLineBreakIndex:function(a){null==a&&(a=0);var b=ka.indexOf(this.text,"<br>",a),c=ka.indexOf(this.text,"\n",a);a=ka.indexOf(this.text,"\r",a);return-1==c&&-1==b?a:-1==a&&-1==b?c:-1==a&&-1==c?b:-1==c?Math.min(b,a)|0:-1==a?Math.min(b,c)|0:-1==b?Math.min(c,a)|0:Math.min(Math.min(c,a),b)|0},getLineMeasurements:function(){this.lineAscents.set_length(0);
this.lineDescents.set_length(0);this.lineLeadings.set_length(0);this.lineHeights.set_length(0);this.lineWidths.set_length(0);var a=0,b=0,c=null,d=0,e=0,f=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var g=this.maxScrollH=this.bottomScrollV=0,h=this.layoutGroups;g<h.get_length();){f=h.get(g);for(++g;f.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,
this.textHeight<=this.height-2&&this.bottomScrollV++;a=Math.max(a,f.ascent);b=Math.max(b,f.descent);c=null==c?f.leading:Math.max(c,f.leading)|0;d=Math.max(d,f.height);e=f.offsetX-2+f.width;e>this.textWidth&&(this.textWidth=e);f=f.offsetY-2+f.ascent+f.descent;f>this.textHeight&&(this.textHeight=f)}this.lineAscents.push(a);this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=
this.height-2&&this.bottomScrollV++;if(2!=this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.set_length(0);var a=-1,b=null,c=Tb.__defaultTextFormat.clone(),d=0,e=0,f=0,g=0,h=null,m=null,q=0,n=0,l=0,r=-2,t=ka.indexOf(this.text,
" "),u=this.getLineBreakIndex(),v=2,y=2,x=0,z=0,B=null;a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ma.__context.font=Ma.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,g=c.size*c.__descent):(e=c.size,g=.185*c.size),d=c.leading,n=e+g+d);n>l&&(l=n);e>f&&(f=e);for(var B=b.format,A,C=ka.get_length(this.text)+1;x<C;)if(-1<u&&(-1==t||u<t)&&b.end>=u){if(x<=u){if(this.wordWrap&&r<=x)for(var D=ka.substring(this.text,x,u),E=Ma.__context.measureText(D).width;v+
E>this.width-2;){for(var F=1;x+F<u+1;){var I=ka.substr(this.text,x,F),E=Ma.__context.measureText(I).width;if(v+E>this.width-2){--F;break}++F}0==F&&E>this.width-4&&(F=ka.get_length(this.text));if(0==F){v=2;y+=h.height;++z;break}else{var H=x+F;null==h||h.startIndex!=h.endIndex?(h=new Xg(b.format,x,H),this.layoutGroups.push(h)):(h.format=b.format,h.startIndex=x,h.endIndex=H);var G=this.text,J=x+F,K=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));
if(this.__useIntAdvances)for(var O=0,N,M=x,Q=J;M<Q;){var P=M++;N=Ma.__context.measureText(ka.substring(G,x,P+1)).width;K.push(N-O);O=N}else for(var S=x,R=J;S<R;){var L=S++,T;if(L<ka.get_length(G)-1){var U=Ma.__context.measureText(ka.charAt(G,L+1)).width;T=Ma.__context.measureText(ka.substr(G,L,2)).width-U}else T=Ma.__context.measureText(ka.charAt(G,L)).width;K.push(T)}h.advances=K;h.offsetX=v;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=z;h.offsetY=y;for(var V=h.advances,W=0,X=0;X<V.length;){var Y=
V[X];++X;W+=Y}h.width=W;h.height=n;h=null;e>f&&(f=e);n>l&&(l=n);for(var Z=0,aa=this.layoutGroups;Z<aa.get_length();){var ca=aa.get(Z);++Z;if(!(ca.lineIndex<z)){if(ca.lineIndex>z)break;ca.ascent=f;ca.height=l}}y+=l;l=f=0;++z;var v=2,x=x+F,ba=this.text,da=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var ea=0,fa,ga=x,ha=u;ga<ha;){var ia=ga++;fa=Ma.__context.measureText(ka.substring(ba,x,ia+1)).width;
da.push(fa-ea);ea=fa}else for(var la=x,ma=u;la<ma;){var ja=la++,na;if(ja<ka.get_length(ba)-1){var oa=Ma.__context.measureText(ka.charAt(ba,ja+1)).width;na=Ma.__context.measureText(ka.substr(ba,ja,2)).width-oa}else na=Ma.__context.measureText(ka.charAt(ba,ja)).width;da.push(na)}for(var m=da,pa=0,ra=0;ra<m.length;){var sa=m[ra];++ra;pa+=sa}E=q=pa}}null==h||h.startIndex!=h.endIndex?(h=new Xg(b.format,x,u),this.layoutGroups.push(h)):(h.format=b.format,h.startIndex=x,h.endIndex=u);var qa=this.text,ta=
[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var ua=0,va,wa=x,xa=u;wa<xa;){var ya=wa++;va=Ma.__context.measureText(ka.substring(qa,x,ya+1)).width;ta.push(va-ua);ua=va}else for(var Aa=x,Ca=u;Aa<Ca;){var za=Aa++,Ba;if(za<ka.get_length(qa)-1){var Da=Ma.__context.measureText(ka.charAt(qa,za+1)).width;Ba=Ma.__context.measureText(ka.substr(qa,za,2)).width-Da}else Ba=Ma.__context.measureText(ka.charAt(qa,
za)).width;ta.push(Ba)}h.advances=ta;h.offsetX=v;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=z;h.offsetY=y;for(var Ea=h.advances,Ga=0,Ha=0;Ha<Ea.length;){var Ia=Ea[Ha];++Ha;Ga+=Ia}h.width=Ga;h.height=n;h=null}else null!=h&&h.startIndex!=h.endIndex&&(h.width-=h.advances[h.advances.length-1],h=null);b.end==u&&(a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ma.__context.font=Ma.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,g=c.size*c.__descent):
(e=c.size,g=.185*c.size),d=c.leading,n=e+g+d),n>l&&(l=n),e>f&&(f=e),B=b.format);u>=ka.get_length(this.text)-1&&(y-=l);e>f&&(f=e);n>l&&(l=n);for(var Ja=0,Ka=this.layoutGroups;Ja<Ka.get_length();){var La=Ka.get(Ja);++Ja;if(!(La.lineIndex<z)){if(La.lineIndex>z)break;La.ascent=f;La.height=l}}y+=l;l=f=0;++z;v=2;x=u+1;u=this.getLineBreakIndex(x)}else if(b.end>=t&&-1<t&&x<b.end)for(null!=h&&h.startIndex!=h.endIndex&&(h=null),A=!1;x!=b.end;){var Fa=-1;-1==t?Fa=u:(Fa=t+1,-1<u&&u<Fa&&(Fa=u));if(-1==Fa||Fa>
b.end)Fa=b.end;var Na=this.text,Oa=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Qa=0,Pa,Sa=x,Wa=Fa;Sa<Wa;){var Xa=Sa++;Pa=Ma.__context.measureText(ka.substring(Na,x,Xa+1)).width;Oa.push(Pa-Qa);Qa=Pa}else for(var Ta=x,ab=Fa;Ta<ab;){var Ra=Ta++,Ua;if(Ra<ka.get_length(Na)-1){var bb=Ma.__context.measureText(ka.charAt(Na,Ra+1)).width;Ua=Ma.__context.measureText(ka.substr(Na,Ra,2)).width-bb}else Ua=
Ma.__context.measureText(ka.charAt(Na,Ra)).width;Oa.push(Ua)}for(var m=Oa,Ya=0,$a=0;$a<m.length;){var cb=m[$a];++$a;Ya+=cb}q=Ya;if(2==B.align){if(0<m.length&&x==r){++x;var db=m.shift(),q=q-db,v=v+db}if(0<m.length&&Fa==t+1){--Fa;var gb=m.pop(),q=q-gb}}this.wordWrap&&v+q>this.width-2&&(A=!0);if(A){if(2!=B.align&&(null!=h||0<this.layoutGroups.get_length())){var Va=h;null==Va&&(Va=this.layoutGroups.get(this.layoutGroups.get_length()-1));Va.width-=Va.advances[Va.advances.length-1];Va.endIndex--}for(var fb=
this.layoutGroups.get_length()-1,eb=0;;){h=this.layoutGroups.get(fb);if(0<fb&&h.startIndex>r)++eb;else break;--fb}if(x==r+1){e>f&&(f=e);n>l&&(l=n);for(var ib=0,kb=this.layoutGroups;ib<kb.get_length();){var jb=kb.get(ib);++ib;if(!(jb.lineIndex<z)){if(jb.lineIndex>z)break;jb.ascent=f;jb.height=l}}y+=l;l=f=0;++z;v=2}v=2;if(0<eb)for(var nb=this.layoutGroups.get(this.layoutGroups.get_length()-eb).offsetX,mb=this.layoutGroups.get_length()-eb,pb=this.layoutGroups.get_length();mb<pb;){var qb=mb++,h=this.layoutGroups.get(qb);
h.offsetX-=nb;h.offsetY=y;h.lineIndex=z;v+=h.width}for(var rb=ka.substring(this.text,x,Fa),lb=Ma.__context.measureText(rb).width;v+lb>this.width-2;){for(var hb=1;x+hb<Fa+1;){var tb=ka.substr(this.text,x,hb),lb=Ma.__context.measureText(tb).width;if(v+lb>this.width-2){--hb;break}++hb}0==hb&&lb>this.width-4&&(hb=ka.get_length(this.text));if(0==hb){v=2;y+=h.height;++z;break}else{var sb=x+hb;null==h||h.startIndex!=h.endIndex?(h=new Xg(b.format,x,sb),this.layoutGroups.push(h)):(h.format=b.format,h.startIndex=
x,h.endIndex=sb);var ob=this.text,ub=x+hb,vb=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var xb=0,wb,zb=x,Db=ub;zb<Db;){var Ob=zb++;wb=Ma.__context.measureText(ka.substring(ob,x,Ob+1)).width;vb.push(wb-xb);xb=wb}else for(var Ab=x,Hb=ub;Ab<Hb;){var yb=Ab++,Bb;if(yb<ka.get_length(ob)-1){var Lb=Ma.__context.measureText(ka.charAt(ob,yb+1)).width;Bb=Ma.__context.measureText(ka.substr(ob,yb,2)).width-Lb}else Bb=
Ma.__context.measureText(ka.charAt(ob,yb)).width;vb.push(Bb)}h.advances=vb;h.offsetX=v;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=z;h.offsetY=y;for(var Jb=h.advances,Eb=0,Fb=0;Fb<Jb.length;){var Nb=Jb[Fb];++Fb;Eb+=Nb}h.width=Eb;h.height=n;h=null;e>f&&(f=e);n>l&&(l=n);for(var Ib=0,Mb=this.layoutGroups;Ib<Mb.get_length();){var Gb=Mb.get(Ib);++Ib;if(!(Gb.lineIndex<z)){if(Gb.lineIndex>z)break;Gb.ascent=f;Gb.height=l}}y+=l;l=f=0;++z;var v=2,x=x+hb,Cb=this.text,Kb=[];null==this.__useIntAdvances&&(this.__useIntAdvances=
(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Qb=0,Pb,Sb=x,Ub=Fa;Sb<Ub;){var Vb=Sb++;Pb=Ma.__context.measureText(ka.substring(Cb,x,Vb+1)).width;Kb.push(Pb-Qb);Qb=Pb}else for(var Xb=x,cc=Fa;Xb<cc;){var Wb=Xb++,Yb;if(Wb<ka.get_length(Cb)-1){var ec=Ma.__context.measureText(ka.charAt(Cb,Wb+1)).width;Yb=Ma.__context.measureText(ka.substr(Cb,Wb,2)).width-ec}else Yb=Ma.__context.measureText(ka.charAt(Cb,Wb)).width;Kb.push(Yb)}for(var m=Kb,Zb=0,$b=0;$b<m.length;){var fc=
m[$b];++$b;Zb+=fc}lb=q=Zb}}null==h||h.startIndex!=h.endIndex?(h=new Xg(b.format,x,Fa),this.layoutGroups.push(h)):(h.format=b.format,h.startIndex=x,h.endIndex=Fa);h.advances=m;h.offsetX=v;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=z;h.offsetY=y;h.width=q;h.height=n;v+=q;x=Fa;A=!1}else null!=h&&x==t?2!=B.align&&(h.endIndex=t,h.advances=h.advances.concat(m),h.width+=q):null==h||2==B.align?(null==h||h.startIndex!=h.endIndex?(h=new Xg(b.format,x,Fa),this.layoutGroups.push(h)):(h.format=b.format,h.startIndex=
x,h.endIndex=Fa),h.advances=m,h.offsetX=v,h.ascent=e,h.descent=g,h.leading=d,h.lineIndex=z,h.offsetY=y,h.width=q,h.height=n):(h.endIndex=Fa,h.advances=h.advances.concat(m),h.width+=q,u==Fa&&++Fa),v+=q,x=Fa;var hc=ka.indexOf(this.text," ",x);b.end<=r?(h=null,x=b.end,a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ma.__context.font=Ma.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,g=c.size*c.__descent):(e=c.size,g=.185*c.size),d=c.leading,n=e+g+d),n>
l&&(l=n),e>f&&(f=e)):(u==r&&(h.endIndex=u,0>u-h.startIndex-h.advances.length&&h.advances.push(0),x=u+1),r=t,t=hc);if(-1<u&&u<=x&&(t>u||-1==t)||x>ka.get_length(this.text)||t>b.end)break}else{if(x>b.end)break;else if(x<b.end||x==ka.get_length(this.text)){if(this.wordWrap)for(var bc=b.end,mc=ka.substring(this.text,x,bc),ac=Ma.__context.measureText(mc).width;v+ac>this.width-2;){for(var Rb=1;x+Rb<bc+1;){var oc=ka.substr(this.text,x,Rb),ac=Ma.__context.measureText(oc).width;if(v+ac>this.width-2){--Rb;break}++Rb}0==
Rb&&ac>this.width-4&&(Rb=ka.get_length(this.text));if(0==Rb){v=2;y+=h.height;++z;break}else{var jc=x+Rb;null==h||h.startIndex!=h.endIndex?(h=new Xg(b.format,x,jc),this.layoutGroups.push(h)):(h.format=b.format,h.startIndex=x,h.endIndex=jc);var dc=this.text,lc=x+Rb,gc=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var nc=0,ic,pc=x,wc=lc;pc<wc;){var xc=pc++;ic=Ma.__context.measureText(ka.substring(dc,x,
xc+1)).width;gc.push(ic-nc);nc=ic}else for(var sc=x,zc=lc;sc<zc;){var kc=sc++,rc;if(kc<ka.get_length(dc)-1){var Dc=Ma.__context.measureText(ka.charAt(dc,kc+1)).width;rc=Ma.__context.measureText(ka.substr(dc,kc,2)).width-Dc}else rc=Ma.__context.measureText(ka.charAt(dc,kc)).width;gc.push(rc)}h.advances=gc;h.offsetX=v;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=z;h.offsetY=y;for(var Ac=h.advances,uc=0,vc=0;vc<Ac.length;){var Hc=Ac[vc];++vc;uc+=Hc}h.width=uc;h.height=n;h=null;e>f&&(f=e);n>l&&(l=n);
for(var yc=0,Ec=this.layoutGroups;yc<Ec.get_length();){var tc=Ec.get(yc);++yc;if(!(tc.lineIndex<z)){if(tc.lineIndex>z)break;tc.ascent=f;tc.height=l}}y+=l;l=f=0;++z;var v=2,x=x+Rb,qc=this.text,Bc=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Gc=0,Cc,Ic=x,Lc=bc;Ic<Lc;){var Mc=Ic++;Cc=Ma.__context.measureText(ka.substring(qc,x,Mc+1)).width;Bc.push(Cc-Gc);Gc=Cc}else for(var Jc=x,Nc=bc;Jc<Nc;){var Fc=
Jc++,Kc;if(Fc<ka.get_length(qc)-1){var Xc=Ma.__context.measureText(ka.charAt(qc,Fc+1)).width;Kc=Ma.__context.measureText(ka.substr(qc,Fc,2)).width-Xc}else Kc=Ma.__context.measureText(ka.charAt(qc,Fc)).width;Bc.push(Kc)}for(var m=Bc,Pc=0,Qc=0;Qc<m.length;){var dd=m[Qc];++Qc;Pc+=dd}ac=q=Pc}}var Oc=this.text,Wc=b.end,Tc=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Zc=0,Uc,ad=x,hd=Wc;ad<hd;){var id=
ad++;Uc=Ma.__context.measureText(ka.substring(Oc,x,id+1)).width;Tc.push(Uc-Zc);Zc=Uc}else for(var cd=x,ld=Wc;cd<ld;){var Sc=cd++,Vc;if(Sc<ka.get_length(Oc)-1){var od=Ma.__context.measureText(ka.charAt(Oc,Sc+1)).width;Vc=Ma.__context.measureText(ka.substr(Oc,Sc,2)).width-od}else Vc=Ma.__context.measureText(ka.charAt(Oc,Sc)).width;Tc.push(Vc)}for(var m=Tc,Yc=0,$c=0;$c<m.length;){var sd=m[$c];++$c;Yc+=sd}var q=Yc,gd=b.end;null==h||h.startIndex!=h.endIndex?(h=new Xg(b.format,x,gd),this.layoutGroups.push(h)):
(h.format=b.format,h.startIndex=x,h.endIndex=gd);var Rc=this.text,jd=b.end,ed=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Za("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var nd=0,fd,qd=x,wd=jd;qd<wd;){var xd=qd++;fd=Ma.__context.measureText(ka.substring(Rc,x,xd+1)).width;ed.push(fd-nd);nd=fd}else for(var td=x,yd=jd;td<yd;){var bd=td++,md;if(bd<ka.get_length(Rc)-1){var Ad=Ma.__context.measureText(ka.charAt(Rc,bd+1)).width;md=Ma.__context.measureText(ka.substr(Rc,
bd,2)).width-Ad}else md=Ma.__context.measureText(ka.charAt(Rc,bd)).width;ed.push(md)}h.advances=ed;h.offsetX=v;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=z;h.offsetY=y;for(var vd=h.advances,pd=0,rd=0;rd<vd.length;){var Bd=vd[rd];++rd;pd+=Bd}h.width=pd;h.height=n;v+=q;x=b.end}a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ma.__context.font=Ma.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,g=c.size*c.__descent):(e=c.size,g=.185*c.size),d=c.leading,
n=e+g+d);n>l&&(l=n);e>f&&(f=e);if(x==b.end){e>f&&(f=e);n>l&&(l=n);for(var ud=0,zd=this.layoutGroups;ud<zd.get_length();){var kd=zd.get(ud);++ud;if(!(kd.lineIndex<z)){if(kd.lineIndex>z)break;kd.ascent=f;kd.height=l}}y+=l;l=f=0;++z;v=2;++x;break}}},setTextAlignment:function(){for(var a=-1,b=0,c=this.width-4,d,e,f=0,g=this.layoutGroups.get_length();f<g;){var h=f++;d=this.layoutGroups.get(h);if(d.lineIndex!=a)switch(a=d.lineIndex,d.format.align){case 0:b=this.lineWidths.get(a)<c?Math.round((c-this.lineWidths.get(a))/
2):0;break;case 2:if(this.lineWidths.get(a)<c){e=1;for(var b=h+1,m=this.layoutGroups.get_length();b<m;){var q=b++;if(this.layoutGroups.get(q).lineIndex==a)0!=q&&32!=ka.charCodeAt(this.text,this.layoutGroups.get(q).startIndex-1)||++e;else break}if(1<e&&(d=this.layoutGroups.get(h+e-1),b=ka.charCodeAt(this.text,d.endIndex),d.endIndex<ka.get_length(this.text)&&10!=b&&13!=b))for(b=(c-this.lineWidths.get(a))/(e-1),m=0;1<m&&32!=ka.charCodeAt(this.text,this.layoutGroups.get(m).startIndex-1)&&(this.layoutGroups.get(h+
m).offsetX+=b*(m-1),++m),this.layoutGroups.get(h+m).offsetX+=b*m,++m<e;);}b=0;break;case 4:b=this.lineWidths.get(a)<c?Math.round(c-this.lineWidths.get(a)):0;break;default:b=0}0<b&&(d.offsetX+=b)}},update:function(){null==this.text||ka.equals(this.text,"")||0==this.textFormatRanges.get_length()?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),
this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},set_restrict:function(a){if(ka.equals(this.restrict,a))return this.restrict;this.restrict=a;null==this.restrict||0==ka.get_length(this.restrict)?this.__restrictRegexp=null:this.__restrictRegexp=this.createRestrictRegexp(a);return this.restrict},set_text:function(a){if(null==a)return this.text=a;null!=
this.__restrictRegexp&&(a=this.__restrictRegexp.split(a).join(""));0<this.maxChars&&a.length>this.maxChars&&(a=da.substr(a,0,this.maxChars));return this.text=a},__class__:Ma,__properties__:{set_text:"set_text",set_restrict:"set_restrict"}};var Vg=function(a,b,c){this.format=a;this.start=b;this.end=c};m["openfl._internal.text.TextFormatRange"]=Vg;Vg.__name__=["openfl","_internal","text","TextFormatRange"];Vg.prototype={end:null,format:null,start:null,__class__:Vg};var Xg=function(a,b,c){this.format=
a;this.startIndex=b;this.endIndex=c};m["openfl._internal.text.TextLayoutGroup"]=Xg;Xg.__name__=["openfl","_internal","text","TextLayoutGroup"];Xg.prototype={advances:null,ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,offsetY:null,startIndex:null,width:null,__class__:Xg};var ct=function(){};m["openfl._internal.timeline.Frame"]=ct;ct.__name__=["openfl","_internal","timeline","Frame"];ct.prototype={label:null,objects:null,script:null,scriptSource:null,
__class__:ct};var dt=function(){};m["openfl._internal.timeline.FrameObject"]=dt;dt.__name__=["openfl","_internal","timeline","FrameObject"];dt.prototype={blendMode:null,cacheAsBitmap:null,clipDepth:null,colorTransform:null,depth:null,filters:null,id:null,matrix:null,name:null,symbol:null,type:null,visible:null,__class__:dt};var Me=m["openfl._internal.timeline.FrameObjectType"]={__ename__:["openfl","_internal","timeline","FrameObjectType"],__constructs__:["CREATE","UPDATE","DESTROY"]};Me.CREATE=["CREATE",
0];Me.CREATE.toString=U;Me.CREATE.__enum__=Me;Me.UPDATE=["UPDATE",1];Me.UPDATE.toString=U;Me.UPDATE.__enum__=Me;Me.DESTROY=["DESTROY",2];Me.DESTROY.toString=U;Me.DESTROY.__enum__=Me;Me.__empty_constructs__=[Me.CREATE,Me.UPDATE,Me.DESTROY];var Gt=function(){};m["openfl._internal.utils.NullUtils"]=Gt;Gt.__name__=["openfl","_internal","utils","NullUtils"];var Al=function(a,b,c){null==a&&(a=123);null==c&&(c=.5);this.octaves=null==b?4:b;this.baseFactor=.015625;this.seedOffset(a);this.octFreqPers(c)};m["openfl._internal.utils.PerlinNoise"]=
Al;Al.__name__=["openfl","_internal","utils","PerlinNoise"];Al.prototype={octaves:null,aOctFreq:null,aOctPers:null,fPersMax:null,iXoffset:null,iYoffset:null,iZoffset:null,baseFactor:null,fill:function(a,b,c,d,e){e=b*this.baseFactor+this.iXoffset;c=c*this.baseFactor+this.iYoffset;d=d*this.baseFactor+this.iZoffset;for(var f=a.width,g=Al.P,h=this.octaves,m=this.aOctFreq,q=this.aOctPers,n=0,l=a.height;n<l;){var r=n++;b=e;for(var t=0,u=f;t<u;){for(var v=t++,x=0,y=0,z=h;y<z;)var B=y++,A=m[B],B=q[B],C=b*
A,D=c*A,A=d*A,E=C-C%1,F=D-D%1,I=A-A%1,H=(E|0)&255,G=(F|0)&255,J=(I|0)&255,C=C-E,D=D-F,A=A-I,E=C*C*C*(C*(6*C-15)+10),F=D*D*D*(D*(6*D-15)+10),I=A*A*A*(A*(6*A-15)+10),K=g[H]+G,O=g[K]+J,K=g[K+1]+J,G=g[H+1]+G,H=g[G]+J,N=g[G+1]+J,M=C-1,Q=D-1,P=A-1,L=g[N+1]&15,J=(0==(L&1)?8>L?M:Q:8>L?-M:-Q)+(0==(L&2)?4>L?Q:12==L?M:P:4>L?-Q:14==L?-M:-P),L=g[K+1]&15,G=(0==(L&1)?8>L?C:Q:8>L?-C:-Q)+(0==(L&2)?4>L?Q:12==L?C:P:4>L?-Q:14==L?-C:-P),L=g[H+1]&15,S=(0==(L&1)?8>L?M:D:8>L?-M:-D)+(0==(L&2)?4>L?D:12==L?M:P:4>L?-D:14==L?
-M:-P),L=g[O+1]&15,P=(0==(L&1)?8>L?C:D:8>L?-C:-D)+(0==(L&2)?4>L?D:12==L?C:P:4>L?-D:14==L?-C:-P),L=g[N]&15,N=(0==(L&1)?8>L?M:Q:8>L?-M:-Q)+(0==(L&2)?4>L?Q:12==L?M:A:4>L?-Q:14==L?-M:-A),L=g[K]&15,K=(0==(L&1)?8>L?C:Q:8>L?-C:-Q)+(0==(L&2)?4>L?Q:12==L?C:A:4>L?-Q:14==L?-C:-A),L=g[H]&15,H=(0==(L&1)?8>L?M:D:8>L?-M:-D)+(0==(L&2)?4>L?D:12==L?M:A:4>L?-D:14==L?-M:-A),L=g[O]&15,C=(0==(L&1)?8>L?C:D:8>L?-C:-D)+(0==(L&2)?4>L?D:12==L?C:A:4>L?-D:14==L?-C:-A),G=G+E*(J-G),P=P+E*(S-P),K=K+E*(N-K),C=C+E*(H-C),P=P+F*(G-
P),C=C+F*(K-C),x=x+(C+I*(P-C))*B;x=128*(x*this.fPersMax+1)|0;a.setPixel32(v,r,-16777216|x<<16|x<<8|x);b+=this.baseFactor}c+=this.baseFactor}},octFreqPers:function(a){var b,c;this.aOctFreq=[];this.aOctPers=[];for(var d=this.fPersMax=0,e=this.octaves;d<e;)c=d++,b=Math.pow(2,c),c=Math.pow(a,c),this.fPersMax+=c,this.aOctFreq.push(b),this.aOctPers.push(c);this.fPersMax=1/this.fPersMax},seedOffset:function(a){this.iXoffset=a=16807*a%2147483647|0;this.iYoffset=a=16807*a%2147483647|0;this.iZoffset=16807*
a%2147483647|0},__class__:Al};var Ql=function(){Ce.call(this);null==xa.application&&(xa.application=this)};m["openfl.display.Application"]=Ql;Ql.__name__=["openfl","display","Application"];Ql.__super__=Ce;Ql.prototype=z(Ce.prototype,{create:function(a){this.config=a;this.backend.create(a);xa.current.__loaderInfo=Yg.create(null);xa.current.__loaderInfo.content=xa.current;if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,
"windows"))for(a=a.windows;0<a.length;){a=new np(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete)this.onPreloadComplete()}},__class__:Ql});var Id=function(a,b,c){null==c&&(c=!1);Eb.call(this);this.set_bitmapData(a);this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};m["openfl.display.Bitmap"]=Id;Id.__name__=["openfl","display","Bitmap"];Id.__interfaces__=[Wi];Id.__super__=Eb;Id.prototype=z(Eb.prototype,{bitmapData:null,pixelSnapping:null,shader:null,
smoothing:null,__image:null,__imageVersion:null,__enterFrame:function(a){null!=this.bitmapData&&null!=this.bitmapData.image&&(a=this.bitmapData.image,this.bitmapData.image.version!=this.__imageVersion&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__imageVersion=a.version))},__getBounds:function(a,b){if(null!=this.bitmapData){var c=ya.__pool.get();c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height);ya.__pool.release(c)}},
__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();c=this.__renderTransform;var g=c.a*c.d-c.b*c.c;c=0==g?-c.tx:1/g*(c.c*(c.ty-b)+c.d*(a-c.tx));var g=this.__renderTransform,h=g.a*g.d-g.b*g.c;a=0==h?-g.ty:1/h*(g.a*(b-g.ty)+g.b*(g.tx-a));if(0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height){if(null!=this.__scrollRect&&!this.__scrollRect.contains(c,a))return!1;
null==d||e||d.push(f);return!0}return!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getRenderTransform();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,c=0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),d=this.__renderTransform,e=d.a*d.d-d.b*d.c,d=0==e?-d.ty:1/e*(d.a*(b-d.ty)+d.b*(d.tx-a));return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},
__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){var b=a.context;if(null!=this.bitmapData&&this.bitmapData.__isValid){a.blendModeManager.setBlendMode(this.__worldBlendMode);a.maskManager.pushObject(this,!1);ta.convertToCanvas(this.bitmapData.image);b.globalAlpha=this.__worldAlpha;var c=this.__renderTransform,d=this.__scrollRect;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=
!1,b.msImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1);null==d?b.drawImage(this.bitmapData.image.get_src(),0,0):b.drawImage(this.bitmapData.image.get_src(),d.x,d.y,d.width,d.height,d.x,d.y,d.width,d.height);a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!0,b.msImageSmoothingEnabled=!0,b.imageSmoothingEnabled=!0);a.maskManager.popObject(this,!1)}}},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(a){},__renderDOMClear:function(a){},
__renderGL:function(a){Pp.render(this,a)},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new ya),this.__getBounds(a.__bounds,cb.__identity),Eb.prototype.__updateMask.call(this,a))},set_bitmapData:function(a){this.bitmapData=a;this.smoothing=!1;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());this.__imageVersion=-1;return this.bitmapData},
get_height:function(){return null!=this.bitmapData?this.bitmapData.height*Math.abs(this.get_scaleY()):0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.set_scaleY(a/this.bitmapData.height)),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*Math.abs(this.__scaleX):0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&(this.__renderDirty||
(this.__renderDirty=!0,this.__setParentRenderDirty()),this.set_scaleX(a/this.bitmapData.width)),a):0},__class__:Id,__properties__:z(Eb.prototype.__properties__,{set_bitmapData:"set_bitmapData"})});var Ha=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new ya(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new db(null,0,0,a,b,d<<8|d>>>24&255),this.image.set_transparent(c),
this.readable=this.__isValid=!0);this.__worldTransform=new cb;this.__worldColorTransform=new jc};m["openfl.display.BitmapData"]=Ha;Ha.__name__=["openfl","display","BitmapData"];Ha.__interfaces__=[Wl];Ha.fromBase64=function(a,b){var c=new Ha(0,0,!0,0),d=db.fromBase64(a,b);c.__fromImage(d);return c};Ha.fromBytes=function(a,b){var c=new Ha(0,0,!0,0),d=db.fromBytes(Na.toBytes(a));c.__fromImage(d);null!=b&&c.__applyAlpha(b);return c};Ha.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=
new Ha(0,0,b,0);c.__fromImage(db.fromCanvas(a));c.image.set_transparent(b);return c};Ha.fromFile=function(a){var b=new Ha(0,0,!0,0);b.__fromFile(a);return b};Ha.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new Ha(0,0,b,0);c.__fromImage(a);c.image.set_transparent(b);return c};Ha.fromTexture=function(a){if(null==a)return null;var b=new Ha(a.__width,a.__height,!0,0);b.readable=!1;b.__texture=a.__textureID;b.__textureContext=a.__textureContext;b.image=null;return b};
Ha.loadFromBase64=function(a,b){return db.loadFromBase64(a,b).then(function(a){return hb.withValue(Ha.fromImage(a))})};Ha.loadFromBytes=function(a,b){return db.loadFromBytes(Na.toBytes(a)).then(function(a){a=Ha.fromImage(a);null!=b&&a.__applyAlpha(b);return hb.withValue(a)})};Ha.loadFromFile=function(a){return db.loadFromFile(a).then(function(a){return hb.withValue(Ha.fromImage(a))})};Ha.prototype={height:null,image:null,readable:null,rect:null,transparent:null,width:null,__blendMode:null,__buffer:null,
__bufferColorTransform:null,__bufferContext:null,__bufferAlpha:null,__bufferData:null,__framebuffer:null,__framebufferContext:null,__isValid:null,__surface:null,__texture:null,__textureContext:null,__textureVersion:null,__transform:null,__worldColorTransform:null,__worldTransform:null,applyFilter:function(a,b,c,d){this.readable&&null!=a&&a.readable&&d.__applyFilter(this,a,b,c)},clone:function(){if(this.__isValid){if(this.readable||null!=this.image)return Ha.fromImage(this.image.clone(),this.transparent);
var a=new Ha(0,0,this.transparent,0);a.width=this.width;a.height=this.height;a.rect.copyFrom(this.rect);a.__framebuffer=this.__framebuffer;a.__framebufferContext=this.__framebufferContext;a.__texture=this.__texture;a.__textureContext=this.__textureContext;a.__isValid=!0;return a}return new Ha(this.width,this.height,this.transparent,0)},colorTransform:function(a,b){this.readable&&this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix())},compare:function(a){if(a==this)return 0;if(null==
a)return-1;if(0==this.readable||0==a.readable)return-2;if(this.width!=a.width)return-3;if(this.height!=a.height)return-4;if(null!=this.image&&null!=a.image&&this.image.get_format()==a.image.get_format()){for(var b=this.image.get_data(),c=a.image.get_data(),d=!0,e=0,f=b.length;e<f;){var g=e++;if(b[g]!=c[g]){d=!1;break}}if(d)return 0}for(var b=null,h,m,q,n,l,e=0,f=this.height;e<f;)for(var g=e++,r=0,t=this.width;r<t;){var u=r++,c=!1;h=this.getPixel32(u,g);m=a.getPixel32(u,g);d=0;h!=m&&(q=(h>>>16&255)-
(m>>>16&255),n=(h>>>8&255)-(m>>>8&255),l=(h&255)-(m&255),0>q&&(q*=-1),0>n&&(n*=-1),0>l&&(l*=-1),0==q&&0==n&&0==l?(h=(h>>>24&255)-(m>>>24&255),0!=h&&(d=(d>>>24&255)<<24|16711680|(d>>>8&255)<<8|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|65280|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255,d=(h&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|d&255,c=!0)):(d=(d>>>24&255)<<24|(q&255)<<16|(d>>>8&255)<<8|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|(n&255)<<8|d&255,d=(d>>>24&255)<<24|(d>>>16&255)<<16|
(d>>>8&255)<<8|l&255,d=-16777216|(d>>>16&255)<<16|(d>>>8&255)<<8|d&255,c=!0));c&&(null==b&&(b=new Ha(this.width,this.height,this.transparent||a.transparent,0)),b.setPixel32(u,g,d))}return null==b?0:b},copyChannel:function(a,b,c,d,e){if(this.readable){switch(d){case 1:d=nc.RED;break;case 2:d=nc.GREEN;break;case 4:d=nc.BLUE;break;case 8:d=nc.ALPHA;break;default:return}switch(e){case 1:e=nc.RED;break;case 2:e=nc.GREEN;break;case 4:e=nc.BLUE;break;case 8:e=nc.ALPHA;break;default:return}this.image.copyChannel(a.image,
b.__toLimeRectangle(),c.__toLimeVector2(),d,e)}},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);this.readable&&null!=a&&this.image.copyPixels(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),null!=d?d.image:null,null!=e?e.__toLimeVector2():null,f)},dispose:function(){this.image=null;this.height=this.width=0;this.rect=null;this.readable=this.__isValid=!1;this.__textureContext=this.__texture=this.__framebufferContext=this.__framebuffer=this.__buffer=this.__surface=null},disposeImage:function(){this.readable=
!1},draw:function(a,b,c,d,e,f){null==f&&(f=!1);null==b&&(b=new cb,null!=a.__transform&&(b.copyFrom(a.__transform),b.tx=0,b.ty=0));if(this.readable){if(null!=c){var h=ya.__pool.get(),m=cb.__pool.get();a.__getBounds(h,m);var q=Math.ceil(h.width),r=Math.ceil(h.height),q=new Ha(q,r,!0,0);q.draw(a);q.colorTransform(q.rect,c);a=q;ya.__pool.release(h);cb.__pool.release(m)}ta.convertToCanvas(this.image);c=this.image.buffer;h=new Ej;h.clearRenderDirty=!1;h.context=c.__srcContext;h.allowSmoothing=f;h.maskManager=
new Ij(h);h.blendModeManager=new Fj(h);h.blendModeManager.setBlendMode(d);f||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&h.maskManager.pushRect(e,new cb);d=a.__worldTransform;a.__updateTransforms(b);a.__updateChildren(!1);a.__renderCanvas(h);a.__updateTransforms(d);a.__updateChildren(!0);f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=
!0);null!=e&&h.maskManager.popRect();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;this.image.dirty=!0;this.image.version++}else null!=g.context&&(e=g.context,f=e.FRAMEBUFFER,d=this.__getFramebuffer(e),e.__context.bindFramebuffer(f,d),e.__context.viewport(0,0,this.width,this.height),f=new Eh(xa.current.stage,e,this),d=f.renderSession,d.clearRenderDirty=!1,d.shaderManager=y.__cast(xa.current.stage.__renderer,Eh).renderSession.shaderManager,d=a.__worldTransform,a.__updateTransforms(b),
a.__updateChildren(!1),a.__renderGL(f.renderSession),a.__updateTransforms(d),a.__updateChildren(!0),e.__context.bindFramebuffer(e.FRAMEBUFFER,null))},drawWithQuality:function(a,b,c,d,e,f,g){null==f&&(f=!1);this.draw(a,b,c,d,e,2!=g&&f)},encode:function(a,b,c){if(!this.readable||null==a)return null;null==c&&(c=new lc(0));var d=this.image;if(!a.equals(this.rect)){var e=cb.__pool.get();e.tx=Math.round(-a.x);e.ty=Math.round(-a.y);a=new Ha(Math.ceil(a.width),Math.ceil(a.height),!0,0);a.draw(this,e);d=a.image;
cb.__pool.release(e)}return y.__instanceof(b,Rr)?(c.writeBytes(Na.fromBytes(d.encode("png"))),c):y.__instanceof(b,op)?(c.writeBytes(Na.fromBytes(d.encode("jpg",y.__cast(b,op).quality))),c):null},fillRect:function(a,b){if(null!=a)if(this.transparent&&0==(b&-16777216)&&(b=0),this.readable)this.image.fillRect(a.__toLimeRectangle(),b,1);else if(null!=this.__framebuffer){var c=g.context,d=b,e=!this.rect.equals(a);c.__context.bindFramebuffer(c.FRAMEBUFFER,this.__framebuffer);e&&(c.__context.enable(c.SCISSOR_TEST),
c.__context.scissor(Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height)));c.__context.clearColor((d>>>16&255)/255,(d>>>8&255)/255,(d&255)/255,(d>>>24&255)/255);c.__context.clear(c.COLOR_BUFFER_BIT);e&&c.__context.disable(c.SCISSOR_TEST);c.__context.bindFramebuffer(c.FRAMEBUFFER,null)}},floodFill:function(a,b,c){this.readable&&this.image.floodFill(a,b,c,1)},generateFilterRect:function(a,b){return a.clone()},getBuffer:function(a,b,c){if(null==this.__buffer||this.__bufferContext!=
a){this.__bufferData=new pc(104);this.__bufferData[0]=this.width;this.__bufferData[1]=this.height;this.__bufferData[3]=1;this.__bufferData[4]=1;this.__bufferData[27]=this.height;this.__bufferData[30]=1;this.__bufferData[52]=this.width;this.__bufferData[55]=1;for(var d=0;4>d;){var e=d++;this.__bufferData[26*e+5]=b;null!=c?(this.__bufferData[26*e+6]=c.redMultiplier,this.__bufferData[26*e+11]=c.greenMultiplier,this.__bufferData[26*e+16]=c.blueMultiplier,this.__bufferData[26*e+21]=c.alphaMultiplier,this.__bufferData[26*
e+22]=c.redOffset/255,this.__bufferData[26*e+23]=c.greenOffset/255,this.__bufferData[26*e+24]=c.blueOffset/255,this.__bufferData[26*e+25]=c.alphaOffset/255):(this.__bufferData[26*e+6]=1,this.__bufferData[26*e+11]=1,this.__bufferData[26*e+16]=1,this.__bufferData[26*e+21]=1)}this.__bufferAlpha=b;this.__bufferColorTransform=null!=c?c.__clone():null;this.__bufferContext=a;this.__buffer=a.__context.createBuffer();a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer);pd.bufferData(a,a.ARRAY_BUFFER,this.__bufferData,
a.STATIC_DRAW)}else{if(this.__bufferAlpha!=b){for(d=0;4>d;)e=d++,this.__bufferData[26*e+5]=b;this.__bufferAlpha=b}if(null==this.__bufferColorTransform&&null!=c||null!=this.__bufferColorTransform&&!this.__bufferColorTransform.__equals(c))if(null!=c)for(null==this.__bufferColorTransform?this.__bufferColorTransform=c.__clone():this.__bufferColorTransform.__copyFrom(c),b=0;4>b;)d=b++,this.__bufferData[26*d+6]=c.redMultiplier,this.__bufferData[26*d+11]=c.greenMultiplier,this.__bufferData[26*d+16]=c.blueMultiplier,
this.__bufferData[26*d+21]=c.alphaMultiplier,this.__bufferData[26*d+22]=c.redOffset/255,this.__bufferData[26*d+23]=c.greenOffset/255,this.__bufferData[26*d+24]=c.blueOffset/255,this.__bufferData[26*d+25]=c.alphaOffset/255;else for(c=0;4>c;)b=c++,this.__bufferData[26*b+6]=1,this.__bufferData[26*b+11]=1,this.__bufferData[26*b+16]=1,this.__bufferData[26*b+21]=1,this.__bufferData[26*b+22]=0,this.__bufferData[26*b+23]=0,this.__bufferData[26*b+24]=0,this.__bufferData[26*b+25]=0;a.__context.bindBuffer(a.ARRAY_BUFFER,
this.__buffer);c=a.ARRAY_BUFFER;b=this.__bufferData.byteLength;d=E.fromArrayBufferView(this.__bufferData);e=a.STATIC_DRAW;a.__context.bufferData(c,E.toBufferView(d,b),e)}return this.__buffer},getColorBoundsRect:function(a,b,c){null==c&&(c=!0);if(!this.readable)return new ya(0,0,this.width,this.height);a=this.image.getColorBoundsRect(a,b,c,1);return new ya(a.x,a.y,a.width,a.height)},getPixel:function(a,b){return this.readable?this.image.getPixel(a,b,1):0},getPixel32:function(a,b){return this.readable?
this.image.getPixel32(a,b,1):0},getPixels:function(a){if(!this.readable)return null;null==a&&(a=this.rect);return Na.fromBytes(this.image.getPixels(a.__toLimeRectangle(),1))},getSurface:function(){if(!this.readable)return null;null==this.__surface&&(this.__surface=gg.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;if(null==this.__texture||this.__textureContext!=a)this.__textureContext=a,this.__texture=a.__context.createTexture(),a.__context.bindTexture(a.TEXTURE_2D,
this.__texture),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.__textureVersion=-1;ta.sync(this.image,!1);if(null!=this.image&&this.image.version!=this.__textureVersion){var b,c;null!=this.__surface&&Fs.flush(this.__surface);1==this.image.buffer.bitsPerPixel?
c=b=a.ALPHA:(null==Ha.__supportsBGRA&&(Ha.__textureInternalFormat=a.RGBA,Ha.__supportsBGRA=!1,Ha.__textureFormat=a.RGBA),b=Ha.__textureInternalFormat,c=Ha.__textureFormat);a.__context.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;d.type==hc.DATA||d.get_premultiplied()?!d.get_premultiplied()&&d.get_transparent()&&a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);Ha.__supportsBGRA||0==d.get_format()||(d=d.clone(),d.set_format(0));
if(d.type==hc.DATA){var e=a.TEXTURE_2D,f=d.buffer.width,g=d.buffer.height,h=a.UNSIGNED_BYTE,d=E.fromArrayBufferView(d.get_data());a.__context.texImage2D(e,0,b,f,g,0,c,h,E.toBufferView(d))}else pd.texImage2D(a,a.TEXTURE_2D,0,b,c,a.UNSIGNED_BYTE,d.get_src());a.__context.bindTexture(a.TEXTURE_2D,null);this.__textureVersion=this.image.version}this.readable||null==this.image||(this.image=this.__surface=null);return this.__texture},getVector:function(a){a=this.getPixels(a);for(var b=Na.get_length(a)/4|
0,c=x.toIntVector(null,b,!0),d=0;d<b;){var e=d++;c.set(e,a.readUnsignedInt())}return c},histogram:function(a){a=null!=a?a:new ya(0,0,this.width,this.height);a=this.getPixels(a);for(var b=[],c=0;4>c;){c++;for(var d=[],e=0;256>e;)e++,d.push(0);b.push(d)}c=0;for(d=Na.get_length(a);c<d;)e=c++,++b[e%4][a.readUnsignedByte()];return b},hitTest:function(a,b,c,d,e){null==e&&(e=1);if(!this.readable)return!1;y.__instanceof(c,Id)&&(c=y.__cast(c,Id).bitmapData);if(y.__instanceof(c,Pa)){if(e=c.x-a.x|0,a=c.y-a.y|
0,this.rect.contains(e,a)&&(this.getPixel32(e,a)>>24&255)>b)return!0}else if(y.__instanceof(c,Ha)){var f,g;null==d?g=f=0:(f=d.x-a.x|0,g=d.y-a.y|0);if(this.rect.contains(f,g)){d=ya.__pool.get();d.setTo(f,g,Math.min(c.width,this.width-f),Math.min(c.height,this.height-g));a=this.getPixels(d);d.offset(-f,-g);c=c.getPixels(d);f=d.width*d.height|0;ya.__pool.release(d);for(var h=0;h<f;)if(h++,d=a.readUnsignedInt(),g=c.readUnsignedInt(),(d>>24&255)>b&&(g>>24&255)>e)return!0}}else if(y.__instanceof(c,ya)){e=
ya.__pool.get();e.copyFrom(c);e.offset(-a.x,-a.y);e.__contract(0,0,this.width,this.height);if(0<e.width&&0<e.height)for(a=this.getPixels(e),f=0,d=Na.get_length(a)/4|0;f<d;)if(f++,c=a.readUnsignedInt(),(c>>24&255)>b)return ya.__pool.release(e),!0;ya.__pool.release(e)}return!1},lock:function(){},merge:function(a,b,c,d,e,f,g){this.readable&&null!=a&&a.readable&&null!=b&&null!=c&&this.image.merge(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),d,e,f,g)},noise:function(a,b,c,d,e){null==e&&(e=!1);null==
d&&(d=7);null==c&&(c=255);null==b&&(b=0);if(this.readable){var f=function(){a=1103515245*a+12345;return(Math.abs(a/65536)|0)%32768};f();c-=b;new lc(0);var g=1==(d&1),h=1==(d&2)>>1,m=1==(d&4)>>2;d=1==(d&8)>>3;for(var q=0,n=this.height;q<n;)for(var l=q++,r=0,t=this.width;r<t;){var u=r++,v=0,x=0,y=0,z=255;e?(v=y=x=b+f()%c,z=255):(g&&(v=b+f()%c),h&&(y=b+f()%c),m&&(x=b+f()%c),d&&(z=b+f()%c));z=(z<<8)+v;z=(z<<8)+y;z=(z<<8)+x;this.setPixel32(u,l,z)}}},paletteMap:function(a,b,c,d,e,f,g){var h=b.width|0,m=
b.height|0;a=a.getPixels(b);var q,n,l,r;b=0;for(var t=m*h;b<t;){var u=b++;q=a.readUnsignedInt();r=null==g?q&-16777216:g[q>>24&255];n=null==d?q&16711680:d[q>>16&255];l=null==e?q&65280:e[q>>8&255];q=null==f?q&255:f[q&255];n=r+n+l+q;a.position=4*u;a.writeUnsignedInt(n)}a.position=0;d=ya.__pool.get();d.setTo(c.x,c.y,h,m);this.setPixels(d,a);ya.__pool.release(d)},perlinNoise:function(a,b,c,d,e,f,g,h,m){this.readable&&(new Al(d,c,.01)).fill(this,a,b,0)},scroll:function(a,b){this.readable&&this.image.scroll(a,
b)},setPixel:function(a,b,c){this.readable&&this.image.setPixel(a,b,c,1)},setPixel32:function(a,b,c){this.readable&&this.image.setPixel32(a,b,c,1)},setPixels:function(a,b){this.readable&&null!=a&&this.image.setPixels(a.__toLimeRectangle(),Na.toBytePointer(b),1)},setVector:function(a,b){var c=new lc(0);Na.set_length(c,4*b.get_length());for(var d=0;d<b.get_length();){var e=b.get(d);++d;c.writeUnsignedInt(e)}c.position=0;this.setPixels(a,c)},threshold:function(a,b,c,d,e,f,g,h){null==h&&(h=!1);null==
g&&(g=-1);null==f&&(f=0);return null==a||null==b||null==c||b.x>a.width||b.y>a.height||c.x>this.width||c.y>this.height?0:this.image.threshold(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),d,e,f,g,h,1)},unlock:function(a){},__applyAlpha:function(a){ta.convertToCanvas(this.image);ta.createImageData(this.image);for(var b=this.image.buffer.data,c=0,d=Na.get_length(a);c<d;){var e=c++;b[4*e+3]=a.readUnsignedByte()}this.image.version++},__draw:function(a,b,c,d,e,f){null==f&&(f=!1);null==b&&(b=new cb,
null!=a.__transform&&(b.copyFrom(a.__transform),b.tx=0,b.ty=0));if(this.readable){if(null!=c){d=ya.__pool.get();var h=cb.__pool.get();a.__getBounds(d,h);var m=Math.ceil(d.width),q=Math.ceil(d.height),m=new Ha(m,q,!0,0);m.draw(a);m.colorTransform(m.rect,c);a=m;ya.__pool.release(d);cb.__pool.release(h)}ta.convertToCanvas(this.image);c=this.image.buffer;d=new Ej;d.clearRenderDirty=!0;d.context=c.__srcContext;d.allowSmoothing=f;d.maskManager=new Ij(d);d.blendModeManager=new Fj(d);f||(c.__srcContext.mozImageSmoothingEnabled=
!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&d.maskManager.pushRect(e,new cb);h=a.__worldTransform;a.__updateTransforms(b);a.__updateChildren(!1);a.__renderCanvas(d);a.__updateTransforms(h);a.__updateChildren(!0);f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0);null!=e&&d.maskManager.popRect();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;
this.image.dirty=!0;this.image.version++}else null!=g.context&&(e=g.context,f=e.FRAMEBUFFER,c=this.__getFramebuffer(e),e.__context.bindFramebuffer(f,c),e.__context.viewport(0,0,this.width,this.height),f=new Eh(xa.current.stage,e,this),c=f.renderSession,c.clearRenderDirty=!0,c.shaderManager=y.__cast(xa.current.stage.__renderer,Eh).renderSession.shaderManager,c=a.__worldTransform,a.__updateTransforms(b),a.__updateChildren(!1),a.__renderGL(f.renderSession),a.__updateTransforms(c),a.__updateChildren(!0),
e.__context.bindFramebuffer(e.FRAMEBUFFER,null))},__fromBase64:function(a,b){var c=db.fromBase64(a,b);this.__fromImage(c)},__fromBytes:function(a,b){var c=db.fromBytes(Na.toBytes(a));this.__fromImage(c);null!=b&&this.__applyAlpha(b)},__fromFile:function(a){a=db.fromFile(a);this.__fromImage(a)},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new ya(0,0,a.width,a.height),this.__isValid=this.readable=!0)},__getBounds:function(a,b){var c=
ya.__pool.get();this.rect.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height);ya.__pool.release(c)},__getFramebuffer:function(a){if(null==this.__framebuffer||this.__framebufferContext!=a)this.getTexture(a),this.__framebufferContext=a,this.__framebuffer=a.__context.createFramebuffer(),a.__context.bindFramebuffer(a.FRAMEBUFFER,this.__framebuffer),a.__context.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.__texture,0);return this.__framebuffer},__loadFromBase64:function(a,
b){var c=this;return db.loadFromBase64(a,b).then(function(a){c.__fromImage(a);return hb.withValue(c)})},__loadFromBytes:function(a,b){var c=this;return db.loadFromBytes(Na.toBytes(a)).then(function(a){c.__fromImage(a);null!=b&&c.__applyAlpha(b);return hb.withValue(c)})},__loadFromFile:function(a){var b=this;return db.loadFromFile(a).then(function(a){b.__fromImage(a);return hb.withValue(b)})},__renderCairo:function(a){},__renderCairoMask:function(a){},__renderCanvas:function(a){if(this.readable){this.image.type==
hc.DATA&&ta.convertToCanvas(this.image);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new cb);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__renderCanvasMask:function(a){},__renderGL:function(a){var b=a.renderer,c=a.gl;a.blendModeManager.setBlendMode(10);var d=a.shaderManager.defaultShader;d.get_data().uImage0.input=this;var e=a.allowSmoothing&&
a.upscaled;d.get_data().uImage0.smoothing=e;d.get_data().uMatrix.value=b.getMatrix(this.__worldTransform);a.shaderManager.setShader(d);a=c.ARRAY_BUFFER;b=this.getBuffer(c,1,this.__worldColorTransform);c.__context.bindBuffer(a,b);a=d.get_data().aPosition.index;b=c.FLOAT;e=E.fromInt(0);c.__context.vertexAttribPointer(a,3,b,!1,24,E.toValue(e));a=d.get_data().aTexCoord.index;b=c.FLOAT;e=E.fromInt(12);c.__context.vertexAttribPointer(a,2,b,!1,24,E.toValue(e));d=d.get_data().aAlpha.index;a=c.FLOAT;b=E.fromInt(20);
c.__context.vertexAttribPointer(d,1,a,!1,24,E.toValue(b));c.__context.drawArrays(c.TRIANGLE_STRIP,0,4)},__resize:function(a,b){this.width=a;this.height=b;this.rect.width=a;this.rect.height=b},__sync:function(){ta.sync(this.image,!1)},__updateChildren:function(a){},__updateMask:function(a){},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=a},__class__:Ha};var Xd={};m["openfl.display._BlendMode.BlendMode_Impl_"]=Xd;Xd.__name__=["openfl","display","_BlendMode",
"BlendMode_Impl_"];Xd.fromString=function(a){switch(a){case "add":return 0;case "alpha":return 1;case "darken":return 2;case "difference":return 3;case "erase":return 4;case "hardlight":return 5;case "invert":return 6;case "layer":return 7;case "lighten":return 8;case "multiply":return 9;case "normal":return 10;case "overlay":return 11;case "screen":return 12;case "shader":return 13;case "subtract":return 14;default:return null}};Xd.toString=function(a){switch(a){case 0:return"add";case 1:return"alpha";
case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}};var Hj={};m["openfl.display._CapsStyle.CapsStyle_Impl_"]=Hj;Hj.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];Hj.fromString=function(a){switch(a){case "none":return 0;
case "round":return 1;case "square":return 2;default:return null}};Hj.toString=function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var bp=function(a,b){za.call(this);this.__name=a;this.__frame=b};m["openfl.display.FrameLabel"]=bp;bp.__name__=["openfl","display","FrameLabel"];bp.__super__=za;bp.prototype=z(za.prototype,{__frame:null,__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:bp,__properties__:{get_name:"get_name",
get_frame:"get_frame"}});var pp={};m["openfl.display._GradientType.GradientType_Impl_"]=pp;pp.__name__=["openfl","display","_GradientType","GradientType_Impl_"];pp.fromString=function(a){switch(a){case "linear":return 0;case "radial":return 1;default:return null}};pp.toString=function(a){switch(a){case 0:return"linear";case 1:return"radial";default:return null}};var Ci=function(a){this.__dirty=!0;this.__owner=a;this.__commands=new de;this.__positionY=this.__positionX=this.__strokePadding=0;this.__renderTransform=
new cb;this.__worldTransform=new cb;this.__height=this.__width=0;this.moveTo(0,0)};m["openfl.display.Graphics"]=Ci;Ci.__name__=["openfl","display","Graphics"];Ci.prototype={__bounds:null,__commands:null,__dirty:null,__height:null,__managed:null,__positionX:null,__positionY:null,__renderTransform:null,__strokePadding:null,__transformDirty:null,__visible:null,__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,beginBitmapFill:function(a,b,c,d){null==d&&(d=!1);
null==c&&(c=!0);this.__commands.beginBitmapFill(a,null!=b?b.clone():null,c,d);this.__visible=!0},beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},beginGradientFill:function(a,b,c,d,e,f,g,h){null==h&&(h=0);null==g&&(g=1);null==f&&(f=0);this.__commands.beginGradientFill(a,b,c,d,e,f,g,h);for(a=0;a<c.length;)if(b=c[a],++a,0<b){this.__visible=!0;break}},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&
(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.moveTo(0,0)},copyFrom:function(a){this.__bounds=null!=a.__bounds?a.__bounds.clone():null;this.__commands=a.__commands.copy();this.set___dirty(!0);this.__strokePadding=a.__strokePadding;this.__positionX=a.__positionX;this.__positionY=a.__positionY;this.__transformDirty=!0;this.__visible=a.__visible},cubicCurveTo:function(a,b,c,d,e,f){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-
this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var g,h,m,q;m=g=e;if(!(a<e&&a>this.__positionX||a>e&&a<this.__positionX)||!(c<e&&c>this.__positionX||c>e&&c<this.__positionX)){q=2*this.__positionX-4*a+2*c;var n=a-this.__positionX,l=-this.__positionX+3*a+e-3*c;h=(-q+Math.sqrt(q*q-4*n*l))/(2*l);q=(-q-Math.sqrt(q*q-4*n*l))/(2*l);0<h&&1>h&&(g=this.__calculateBezierCubicPoint(h,this.__positionX,a,c,e));0<q&&1>q&&(m=this.__calculateBezierCubicPoint(q,
this.__positionX,a,c,e))}q=h=f;if(!(b<f&&b>this.__positionX||b>f&&b<this.__positionX)||!(d<f&&d>this.__positionX||d>f&&d<this.__positionX)){var l=2*this.__positionX-4*b+2*d,r=b-this.__positionX,t=-this.__positionX+3*b+f-3*d,n=(-l+Math.sqrt(l*l-4*r*t))/(2*t),l=(-l-Math.sqrt(l*l-4*r*t))/(2*t);0<n&&1>n&&(h=this.__calculateBezierCubicPoint(n,this.__positionX,b,d,f));0<l&&1>l&&(q=this.__calculateBezierCubicPoint(l,this.__positionX,b,d,f))}this.__inflateBounds(g-this.__strokePadding,h-this.__strokePadding);
this.__inflateBounds(g+this.__strokePadding,h+this.__strokePadding);this.__inflateBounds(m-this.__strokePadding,q-this.__strokePadding);this.__inflateBounds(m+this.__strokePadding,q+this.__strokePadding);this.__positionX=e;this.__positionY=f;this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);this.__commands.cubicCurveTo(a,b,c,d,e,f);this.set___dirty(!0)},
curveTo:function(a,b,c,d){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var e,f;e=a<c&&a>this.__positionX||a>c&&a<this.__positionX?c:this.__calculateBezierQuadPoint((this.__positionX-a)/(this.__positionX-2*a+c),this.__positionX,a,c);f=b<d&&b>this.__positionY||b>d&&b<this.__positionY?d:this.__calculateBezierQuadPoint((this.__positionY-b)/(this.__positionY-
2*b+d),this.__positionY,b,d);this.__inflateBounds(e-this.__strokePadding,f-this.__strokePadding);this.__inflateBounds(e+this.__strokePadding,f+this.__strokePadding);this.__positionX=c;this.__positionY=d;this.__commands.curveTo(a,b,c,d);this.set___dirty(!0)},drawCircle:function(a,b,c){0>=c||(this.__inflateBounds(a-c-this.__strokePadding,b-c-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+c+this.__strokePadding),this.__commands.drawCircle(a,b,c),this.set___dirty(!0))},drawEllipse:function(a,
b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawEllipse(a,b,c,d),this.set___dirty(!0))},drawGraphicsData:function(a){for(var b,c,d=0;d<a.get_length();)switch(c=a.get(d),++d,c.__graphicsDataType){case lb.STROKE:if(null!=c.fill){var e=c.thickness;isNaN(e)&&(e=null);switch(c.fill.__graphicsFillType){case Kc.SOLID_FILL:b=c.fill;this.lineStyle(e,b.color,b.alpha,c.pixelHinting,
c.scaleMode,c.caps,c.joints,c.miterLimit);break;case Kc.GRADIENT_FILL:b=c.fill;this.lineStyle(e,0,1,c.pixelHinting,c.scaleMode,c.caps,c.joints,c.miterLimit);this.lineGradientStyle(b.type,b.colors,b.alphas,b.ratios,b.matrix,b.spreadMethod,b.interpolationMethod,b.focalPointRatio);break;case Kc.BITMAP_FILL:b=c.fill,this.lineStyle(e,0,1,c.pixelHinting,c.scaleMode,c.caps,c.joints,c.miterLimit),this.lineBitmapStyle(b.bitmapData,b.matrix,b.repeat,b.smooth)}}else this.lineStyle();break;case lb.SOLID:b=c;
this.beginFill(b.color,b.alpha);break;case lb.GRADIENT:b=c;this.beginGradientFill(b.type,b.colors,b.alphas,b.ratios,b.matrix,b.spreadMethod,b.interpolationMethod,b.focalPointRatio);break;case lb.PATH:this.drawPath(c.commands,c.data,c.winding);break;case lb.BITMAP:b=c;this.beginBitmapFill(b.bitmapData,b.matrix,b.repeat,b.smooth);break;case lb.END:this.endFill();break;case lb.TRIANGLE_PATH:this.drawTriangles(c.vertices,c.indices,c.uvtData,c.culling)}},drawPath:function(a,b,c){null==c&&(c=0);var d=0;
1==c&&this.__commands.windingNonZero();c=0;try{for(;c<a.get_length();){var e=a.get(c);++c;switch(e){case 1:this.moveTo(b.get(d),b.get(d+1));d+=2;break;case 2:this.lineTo(b.get(d),b.get(d+1));d+=2;break;case 3:this.curveTo(b.get(d),b.get(d+1),b.get(d+2),b.get(d+3));d+=4;break;case 4:throw this.moveTo(b.get(d+2),b.get(d+3)),"__break__";case 5:throw this.lineTo(b.get(d+2),b.get(d+3)),"__break__";case 6:this.cubicCurveTo(b.get(d),b.get(d+1),b.get(d+2),b.get(d+3),b.get(d+4),b.get(d+5)),d+=6}}}catch(f){if("__break__"!=
f)throw f;}},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},drawRoundRect:function(a,b,c,d,e,f){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRoundRect(a,b,c,d,e,f),this.set___dirty(!0))},
drawRoundRectComplex:function(a,b,c,d,e,f,g,h){if(!(0>=c||0>=d)){this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding);this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding);var m=a+c,q=b+d;c=c<d?2*c:2*d;e<c||(e=c);f<c||(f=c);g<c||(g=c);h<c||(h=c);c=1-Math.sin(Math.PI/180*45);d=1-Math.tan(Math.PI/180*22.5);var n=h*c,l=h*d;this.moveTo(m,q-h);this.curveTo(m,q-l,m-n,q-n);this.curveTo(m-l,q,m-h,q);n=g*c;l=g*d;this.lineTo(a+g,q);this.curveTo(a+l,q,a+n,q-n);this.curveTo(a,
q-l,a,q-g);n=e*c;l=e*d;this.lineTo(a,b+e);this.curveTo(a,b+l,a+n,b+n);this.curveTo(a+l,b,a+e,b);n=f*c;l=f*d;this.lineTo(m-f,b);this.curveTo(m-l,b,m-n,b+n);this.curveTo(m,b+l,m,b+f);this.lineTo(m,q-h);this.set___dirty(!0)}},drawTriangles:function(a,b,c,d){null==d&&(d=1);if(null!=a&&null!=b&&null!=c){var e=a.get_length()/2|0;null==d&&(d=1);if(null==b){if(0!=e%3)throw new H(new kj("Not enough vertices to close a triangle."));b=x.toIntVector(null);for(var f=0;f<e;){var g=f++;b.push(g)}}this.__inflateBounds(0,
0);for(var h=f=-Infinity,m=g=-Infinity,q=0;q<e;)h=q++,f=a.get(2*h),h=a.get(2*h+1),g<f&&(g=f),m<h&&(m=h);this.__inflateBounds(g,m);this.__commands.drawTriangles(a,b,c,d);this.set___dirty(!0);this.__visible=!0}},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.lineBitmapStyle(a,null!=b?b.clone():null,c,d)},lineGradientStyle:function(a,b,c,d,e,f,g,h){null==h&&(h=0);null==g&&(g=1);null==f&&(f=0);this.__commands.lineGradientStyle(a,
b,c,d,e,f,g,h)},lineStyle:function(a,b,c,d,e,f,g,h){null==h&&(h=3);null==e&&(e=2);null==d&&(d=!1);null==c&&(c=1);null==b&&(b=0);null!=a&&(1==g?a>this.__strokePadding&&(this.__strokePadding=a):a/2>this.__strokePadding&&(this.__strokePadding=a/2));this.__commands.lineStyle(a,b,c,d,e,f,g,h);null!=a&&(this.__visible=!0)},lineTo:function(a,b){isFinite(a)&&isFinite(b)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+
this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=a,this.__positionY=b,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(a,b),this.set___dirty(!0))},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},readGraphicsData:function(a){null==a&&(a=!0);var b=x.toObjectVector(null);
this.__owner.__readGraphicsData(b,a);return b},__calculateBezierCubicPoint:function(a,b,c,d,e){var f=1-a;return b*f*f*f+3*c*a*f*f+3*d*f*a*a+e*a*a*a},__calculateBezierQuadPoint:function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d},__cleanup:function(){null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0);this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(a,b){if(null!=this.__bounds){var c=ya.__pool.get();this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,
c.height);ya.__pool.release(c)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.a*d.d-d.b*d.c,e=0==e?-d.tx:1/e*(d.c*(d.ty-b)+d.d*(a-d.tx)),f=d.a*d.d-d.b*d.c;a=0==f?-d.ty:1/f*(d.a*(b-d.ty)+d.b*(d.tx-a));return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?G.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new ya(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=
a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},__readGraphicsData:function(a){for(var b=new jg(this.__commands),c=null,d,e=0,f=this.__commands.types;e<f.length;){d=f[e];++e;switch(d[1]){case 3:case 4:case 5:case 6:case 7:case 8:case 15:case 16:null==c&&(c=
new pg);break;default:null!=c&&(a.push(c),c=null)}switch(d[1]){case 0:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=
2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.BEGIN_BITMAP_FILL;d=b;a.push(new qp(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.b[d.bPos],d.buffer.b[d.bPos+1]));break;case 1:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=
1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.BEGIN_FILL;d=b;a.push(new Bl(d.buffer.i[d.iPos],1));break;case 2:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;
case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.BEGIN_GRADIENT_FILL;d=b;a.push(new rp(d.buffer.o[d.oPos],d.buffer.ii[d.iiPos],d.buffer.ff[d.ffPos],d.buffer.ii[d.iiPos+1],d.buffer.o[d.oPos+1],d.buffer.o[d.oPos+
2],d.buffer.o[d.oPos+3],d.buffer.f[d.fPos]));break;case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=
1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.CUBIC_CURVE_TO;d=b;c.cubicCurveTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3],d.buffer.f[d.fPos+4],d.buffer.f[d.fPos+5]);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=
4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.CURVE_TO;d=b;c.curveTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_CIRCLE;d=b;c.__drawCircle(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],
d.buffer.f[d.fPos+2]);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_ELLIPSE;d=b;c.__drawEllipse(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 7:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=
2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_RECT;d=b;c.__drawRect(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=
4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.DRAW_ROUND_RECT;d=b;c.__drawRoundRect(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3],d.buffer.f[d.fPos+4],null!=d.buffer.o[d.oPos]?
d.buffer.o[d.oPos]:d.buffer.f[d.fPos+4]);break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=
1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.END_FILL;a.push(new sp);break;case 12:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.LINE_BITMAP_STYLE;c=null;break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=
2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.LINE_GRADIENT_STYLE;break;case 14:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=
5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.LINE_STYLE;var g=b;d=new tp(g.buffer.o[g.oPos],g.buffer.b[g.bPos],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.f[g.fPos+1]);d.fill=new Bl(g.buffer.i[g.iPos],g.buffer.f[g.fPos]);a.push(d);break;case 15:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.LINE_TO;
d=b;c.lineTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1]);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=
2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=M.MOVE_TO;d=b;c.moveTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1]);break;default:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=
2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=d}}null!=c&&a.push(c)},__update:function(){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var a=this.__owner.__renderTransform,b=1,c=1;if(null!=a)if(b=0==a.b?Math.abs(a.a):Math.sqrt(a.a*a.a+a.b*a.b),c=0==a.c?Math.abs(a.d):Math.sqrt(a.c*a.c+a.d*a.d),b*=this.__bounds.width,c*=this.__bounds.height,
1>b||1>c)(1<=this.__width||1<=this.__height)&&this.set___dirty(!0),this.__height=this.__width=0;else{this.__renderTransform.a=b/this.__bounds.width;this.__renderTransform.d=c/this.__bounds.height;var d=1/this.__renderTransform.a,e=1/this.__renderTransform.d;this.__worldTransform.a=d*a.a;this.__worldTransform.b=d*a.b;this.__worldTransform.c=e*a.c;this.__worldTransform.d=e*a.d;var e=this.__bounds.x,f=this.__bounds.y,d=e*a.a+f*a.c+a.tx,a=e*a.b+f*a.d+a.ty;this.__worldTransform.tx=Math.floor(d);this.__worldTransform.ty=
Math.floor(a);e=this.__worldTransform;f=e.a*e.d-e.b*e.c;this.__renderTransform.tx=0==f?-e.tx:1/f*(e.c*(e.ty-a)+e.d*(d-e.tx));e=this.__worldTransform;f=e.a*e.d-e.b*e.c;this.__renderTransform.ty=0==f?-e.ty:1/f*(e.a*(a-e.ty)+e.b*(e.tx-d));b=Math.ceil(b+this.__renderTransform.tx);c=Math.ceil(c+this.__renderTransform.ty);b==this.__width&&c==this.__height||this.set___dirty(!0);this.__width=b;this.__height=c}}},set___dirty:function(a){if(a&&null!=this.__owner){var b=this.__owner;b.__renderDirty||(b.__renderDirty=
!0,b.__setParentRenderDirty())}return this.__dirty=a},__class__:Ci,__properties__:{set___dirty:"set___dirty"}};var Lj=function(){};m["openfl.display.IGraphicsFill"]=Lj;Lj.__name__=["openfl","display","IGraphicsFill"];Lj.prototype={__graphicsFillType:null,__class__:Lj};var Zg=function(){};m["openfl.display.IGraphicsData"]=Zg;Zg.__name__=["openfl","display","IGraphicsData"];Zg.prototype={__graphicsDataType:null,__class__:Zg};var qp=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.bitmapData=a;
this.matrix=b;this.repeat=c;this.smooth=d;this.__graphicsDataType=lb.BITMAP;this.__graphicsFillType=Kc.BITMAP_FILL};m["openfl.display.GraphicsBitmapFill"]=qp;qp.__name__=["openfl","display","GraphicsBitmapFill"];qp.__interfaces__=[Lj,Zg];qp.prototype={bitmapData:null,matrix:null,repeat:null,smooth:null,__graphicsDataType:null,__graphicsFillType:null,__class__:qp};var sp=function(){this.__graphicsDataType=lb.END;this.__graphicsFillType=Kc.END_FILL};m["openfl.display.GraphicsEndFill"]=sp;sp.__name__=
["openfl","display","GraphicsEndFill"];sp.__interfaces__=[Lj,Zg];sp.prototype={__graphicsDataType:null,__graphicsFillType:null,__class__:sp};var rp=function(a,b,c,d,e,f,g,h){null==h&&(h=0);null==a&&(a=0);null==f&&(f=0);null==g&&(g=1);this.type=a;this.colors=b;this.alphas=c;this.ratios=d;this.matrix=e;this.spreadMethod=f;this.interpolationMethod=g;this.focalPointRatio=h;this.__graphicsDataType=lb.GRADIENT;this.__graphicsFillType=Kc.GRADIENT_FILL};m["openfl.display.GraphicsGradientFill"]=rp;rp.__name__=
["openfl","display","GraphicsGradientFill"];rp.__interfaces__=[Lj,Zg];rp.prototype={alphas:null,colors:null,focalPointRatio:null,interpolationMethod:null,matrix:null,ratios:null,spreadMethod:null,type:null,__graphicsDataType:null,__graphicsFillType:null,__class__:rp};var et=function(){};m["openfl.display.IGraphicsPath"]=et;et.__name__=["openfl","display","IGraphicsPath"];var pg=function(a,b,c){null==c&&(c=0);this.commands=a;this.data=b;this.winding=c;this.__graphicsDataType=lb.PATH};m["openfl.display.GraphicsPath"]=
pg;pg.__name__=["openfl","display","GraphicsPath"];pg.__interfaces__=[et,Zg];pg.prototype={commands:null,data:null,winding:null,__graphicsDataType:null,cubicCurveTo:function(a,b,c,d,e,f){null==this.commands&&(this.commands=x.toIntVector(null));null==this.data&&(this.data=x.toFloatVector(null));this.commands.push(6);this.data.push(a);this.data.push(b);this.data.push(c);this.data.push(d);this.data.push(e);this.data.push(f)},curveTo:function(a,b,c,d){null==this.commands&&(this.commands=x.toIntVector(null));
null==this.data&&(this.data=x.toFloatVector(null));this.commands.push(3);this.data.push(a);this.data.push(b);this.data.push(c);this.data.push(d)},lineTo:function(a,b){null==this.commands&&(this.commands=x.toIntVector(null));null==this.data&&(this.data=x.toFloatVector(null));this.commands.push(2);this.data.push(a);this.data.push(b)},moveTo:function(a,b){null==this.commands&&(this.commands=x.toIntVector(null));null==this.data&&(this.data=x.toFloatVector(null));this.commands.push(1);this.data.push(a);
this.data.push(b)},wideLineTo:function(a,b){null==this.commands&&(this.commands=x.toIntVector(null));null==this.data&&(this.data=x.toFloatVector(null));this.commands.push(2);this.data.push(a);this.data.push(b)},wideMoveTo:function(a,b){null==this.commands&&(this.commands=x.toIntVector(null));null==this.data&&(this.data=x.toFloatVector(null));this.commands.push(1);this.data.push(a);this.data.push(b)},__drawCircle:function(a,b,c){this.__drawRoundRect(a-c,b-c,2*c,2*c,2*c,2*c)},__drawEllipse:function(a,
b,c,d){this.__drawRoundRect(a,b,c,d,c,d)},__drawRect:function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.lineTo(a,b)},__drawRoundRect:function(a,b,c,d,e,f){e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*pg.SIN45,h=-e+e*pg.TAN22,m=-f+f*pg.SIN45,q=-f+f*pg.TAN22;this.moveTo(c,d-f);this.curveTo(c,d+q,c+g,d+m);this.curveTo(c+h,d,c-e,d);this.lineTo(a+e,d);this.curveTo(a-h,d,a-g,d+m);this.curveTo(a,d+q,a,d-f);this.lineTo(a,b+f);this.curveTo(a,
b-q,a-g,b-m);this.curveTo(a-h,b,a+e,b);this.lineTo(c-e,b);this.curveTo(c+h,b,c+g,b-m);this.curveTo(c,b-q,c,b+f);this.lineTo(c,d-f)},__class__:pg};var up={};m["openfl.display._GraphicsPathWinding.GraphicsPathWinding_Impl_"]=up;up.__name__=["openfl","display","_GraphicsPathWinding","GraphicsPathWinding_Impl_"];up.fromString=function(a){switch(a){case "evenOdd":return 0;case "nonZero":return 1;default:return null}};up.toString=function(a){switch(a){case 0:return"evenOdd";case 1:return"nonZero";default:return null}};
var Bl=function(a,b){null==b&&(b=1);null==a&&(a=0);this.alpha=b;this.color=a;this.__graphicsDataType=lb.SOLID;this.__graphicsFillType=Kc.SOLID_FILL};m["openfl.display.GraphicsSolidFill"]=Bl;Bl.__name__=["openfl","display","GraphicsSolidFill"];Bl.__interfaces__=[Lj,Zg];Bl.prototype={alpha:null,color:null,__graphicsDataType:null,__graphicsFillType:null,__class__:Bl};var Ct=function(){};m["openfl.display.IGraphicsStroke"]=Ct;Ct.__name__=["openfl","display","IGraphicsStroke"];var tp=function(a,b,c,d,
e,f,g){null==f&&(f=3);null==e&&(e=2);null==d&&(d=0);null==c&&(c=2);null==b&&(b=!1);null==a&&(a=NaN);this.caps=d;this.fill=g;this.joints=e;this.miterLimit=f;this.pixelHinting=b;this.scaleMode=c;this.thickness=a;this.__graphicsDataType=lb.STROKE};m["openfl.display.GraphicsStroke"]=tp;tp.__name__=["openfl","display","GraphicsStroke"];tp.__interfaces__=[Ct,Zg];tp.prototype={caps:null,fill:null,joints:null,miterLimit:null,pixelHinting:null,scaleMode:null,thickness:null,__graphicsDataType:null,__class__:tp};
var Sr=function(a,b,c,d){null==d&&(d=1);this.vertices=a;this.indices=b;this.uvtData=c;this.culling=d;this.__graphicsDataType=lb.TRIANGLE_PATH};m["openfl.display.GraphicsTrianglePath"]=Sr;Sr.__name__=["openfl","display","GraphicsTrianglePath"];Sr.__interfaces__=[et,Zg];Sr.prototype={culling:null,indices:null,uvtData:null,vertices:null,__graphicsDataType:null,__class__:Sr};var lb=m["openfl.display.GraphicsDataType"]={__ename__:["openfl","display","GraphicsDataType"],__constructs__:"STROKE SOLID GRADIENT PATH BITMAP END TRIANGLE_PATH".split(" ")};
lb.STROKE=["STROKE",0];lb.STROKE.toString=U;lb.STROKE.__enum__=lb;lb.SOLID=["SOLID",1];lb.SOLID.toString=U;lb.SOLID.__enum__=lb;lb.GRADIENT=["GRADIENT",2];lb.GRADIENT.toString=U;lb.GRADIENT.__enum__=lb;lb.PATH=["PATH",3];lb.PATH.toString=U;lb.PATH.__enum__=lb;lb.BITMAP=["BITMAP",4];lb.BITMAP.toString=U;lb.BITMAP.__enum__=lb;lb.END=["END",5];lb.END.toString=U;lb.END.__enum__=lb;lb.TRIANGLE_PATH=["TRIANGLE_PATH",6];lb.TRIANGLE_PATH.toString=U;lb.TRIANGLE_PATH.__enum__=lb;lb.__empty_constructs__=[lb.STROKE,
lb.SOLID,lb.GRADIENT,lb.PATH,lb.BITMAP,lb.END,lb.TRIANGLE_PATH];var Kc=m["openfl.display.GraphicsFillType"]={__ename__:["openfl","display","GraphicsFillType"],__constructs__:["SOLID_FILL","GRADIENT_FILL","BITMAP_FILL","END_FILL"]};Kc.SOLID_FILL=["SOLID_FILL",0];Kc.SOLID_FILL.toString=U;Kc.SOLID_FILL.__enum__=Kc;Kc.GRADIENT_FILL=["GRADIENT_FILL",1];Kc.GRADIENT_FILL.toString=U;Kc.GRADIENT_FILL.__enum__=Kc;Kc.BITMAP_FILL=["BITMAP_FILL",2];Kc.BITMAP_FILL.toString=U;Kc.BITMAP_FILL.__enum__=Kc;Kc.END_FILL=
["END_FILL",3];Kc.END_FILL.toString=U;Kc.END_FILL.__enum__=Kc;Kc.__empty_constructs__=[Kc.SOLID_FILL,Kc.GRADIENT_FILL,Kc.BITMAP_FILL,Kc.END_FILL];var vp={};m["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=vp;vp.__name__=["openfl","display","_InterpolationMethod","InterpolationMethod_Impl_"];vp.fromString=function(a){switch(a){case "linearRGB":return 0;case "rgb":return 1;default:return null}};vp.toString=function(a){switch(a){case 0:return"linearRGB";case 1:return"rgb";default:return null}};
var op=function(a){null==a&&(a=80);this.quality=a};m["openfl.display.JPEGEncoderOptions"]=op;op.__name__=["openfl","display","JPEGEncoderOptions"];op.prototype={quality:null,__class__:op};var Gj={};m["openfl.display._JointStyle.JointStyle_Impl_"]=Gj;Gj.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];Gj.fromString=function(a){switch(a){case "bevel":return 0;case "miter":return 1;case "round":return 2;default:return null}};Gj.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";
case 2:return"round";default:return null}};var Mj={};m["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=Mj;Mj.__name__=["openfl","display","_LineScaleMode","LineScaleMode_Impl_"];Mj.fromString=function(a){switch(a){case "horizontal":return 0;case "none":return 1;case "normal":return 2;case "vertical":return 3;default:return null}};Mj.toString=function(a){switch(a){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var dn=function(){xd.call(this);
this.contentLoaderInfo=Yg.create(this);this.uncaughtErrorEvents=this.contentLoaderInfo.uncaughtErrorEvents};m["openfl.display.Loader"]=dn;dn.__name__=["openfl","display","Loader"];dn.__super__=xd;dn.prototype=z(xd.prototype,{content:null,contentLoaderInfo:null,uncaughtErrorEvents:null,__library:null,__path:null,__unloaded:null,close:function(){xa.notImplemented({fileName:"Loader.hx",lineNumber:59,className:"openfl.display.Loader",methodName:"close"})},load:function(a,b){this.contentLoaderInfo.loaderURL=
xa.current.get_loaderInfo().url;this.contentLoaderInfo.url=a.url;this.__unloaded=!1;if(null==a.contentType||""==a.contentType){var c="";this.__path=a.url;var d=this.__path.indexOf("?");-1<d&&(this.__path=this.__path.substring(0,d));for(;Da.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);Da.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",a.url=-1<d?this.__path+a.url.substring(d):this.__path);d=this.__path.lastIndexOf(".");-1<d&&(c=this.__path.substring(d+
1));switch(c){case "gif":c="image/gif";break;case "jpeg":case "jpg":c="image/jpeg";break;case "js":c="application/javascript";break;case "json":c="application/json";break;case "png":c="image/png";break;case "swf":c="application/x-shockwave-flash";break;default:c="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=c}else this.contentLoaderInfo.contentType=a.contentType;if(-1<this.contentLoaderInfo.contentType.indexOf("image/")&&"GET"==a.method&&(null==a.requestHeaders||0==a.requestHeaders.length)&&
null==a.userAgent)Ha.loadFromFile(a.url).onComplete(u(this,this.BitmapData_onLoad)).onError(u(this,this.BitmapData_onError)).onProgress(u(this,this.BitmapData_onProgress));else{c=new nh;c.dataFormat=0;if(-1<this.contentLoaderInfo.contentType.indexOf("/json")||-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))c.dataFormat=1;c.addEventListener("complete",u(this,this.loader_onComplete));c.addEventListener("ioError",u(this,this.loader_onError));
c.addEventListener("progress",u(this,this.loader_onProgress));c.load(a)}},loadBytes:function(a,b){Ha.loadFromBytes(a).onComplete(u(this,this.BitmapData_onLoad)).onError(u(this,this.BitmapData_onError))},unload:function(){if(!this.__unloaded){for(;0<this.get_numChildren();)this.removeChildAt(0);null!=this.__library&&(ma.unloadLibrary(this.contentLoaderInfo.url),this.__library=null);this.content=null;this.contentLoaderInfo.url=null;this.contentLoaderInfo.contentType=null;this.contentLoaderInfo.content=
null;this.contentLoaderInfo.bytesLoaded=0;this.contentLoaderInfo.bytesTotal=0;this.contentLoaderInfo.width=0;this.contentLoaderInfo.height=0;this.__unloaded=!0;this.contentLoaderInfo.dispatchEvent(new ca("unload"))}},unloadAndStop:function(a){null!=this.content&&this.content.__stopAllMovieClips();a=0;for(var b=this.get_numChildren();a<b;){var c=a++;this.getChildAt(c).__stopAllMovieClips()}this.unload()},__dispatchError:function(a){var b=new Kf("ioError");b.text=a;this.contentLoaderInfo.dispatchEvent(b)},
BitmapData_onError:function(a){this.__dispatchError(h.string(a))},BitmapData_onLoad:function(a){this.content=new Id(a);this.contentLoaderInfo.content=this.content;this.addChild(this.content);this.contentLoaderInfo.dispatchEvent(new ca("complete"))},BitmapData_onProgress:function(a,b){var c=new qg("progress");c.bytesLoaded=a;c.bytesTotal=b;this.contentLoaderInfo.dispatchEvent(c)},loader_onComplete:function(a){var b=this;a=a.target;if(-1<this.contentLoaderInfo.contentType.indexOf("/json")){var c=sc.parse(a.data,
rj.directory(this.__path));if(null==c)this.__dispatchError("Cannot parse asset manifest");else{var d=Rc.fromManifest(c);if(null==d)this.__dispatchError("Cannot open library");else if(y.__instanceof(d,Hc))d.load().onComplete(function(a){b.__library=d;ma.registerLibrary(b.contentLoaderInfo.url,b.__library);null==c.name||ma.hasLibrary(c.name)||ma.registerLibrary(c.name,b.__library);b.content=b.__library.getMovieClip("");b.contentLoaderInfo.content=b.content;b.addChild(b.content);b.contentLoaderInfo.dispatchEvent(new ca("complete"))}).onError(function(a){b.__dispatchError(a)})}}else if(-1<
this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))this.content=new Fb,this.contentLoaderInfo.content=this.content,this.addChild(this.content),eval("(function () {"+h.string(a.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new ca("complete"));else Ha.loadFromBytes(a.data).onComplete(u(this,this.BitmapData_onLoad)).onError(u(this,this.BitmapData_onError))},loader_onError:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},
loader_onProgress:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:dn});var Yg=function(){za.call(this);this.applicationDomain=Nj.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};m["openfl.display.LoaderInfo"]=Yg;Yg.__name__=["openfl","display","LoaderInfo"];Yg.create=function(a){var b=new Yg;b.uncaughtErrorEvents=new wp;null!=a?b.loader=a:b.url=Yg.__rootURL;return b};Yg.__super__=za;Yg.prototype=z(za.prototype,
{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,frameRate:null,height:null,loader:null,loaderURL:null,parameters:null,parentAllowsChild:null,sameDomain:null,sharedEvents:null,uncaughtErrorEvents:null,url:null,width:null,__completed:null,__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new ca("complete")))},
__update:function(a,b){this.bytesLoaded=a;this.bytesTotal=b;this.dispatchEvent(new qg("progress",!1,!1,a,b))},__class__:Yg});var Er=function(a,b,c,d,e,f){this.initFrame=a;this.initFrameObjectID=b;this.characterID=c;this.depth=d;this.displayObject=e;this.clipDepth=f};m["openfl.display._MovieClip.FrameSymbolInstance"]=Er;Er.__name__=["openfl","display","_MovieClip","FrameSymbolInstance"];Er.prototype={characterID:null,clipDepth:null,depth:null,displayObject:null,initFrame:null,initFrameObjectID:null,
__class__:Er};var Rr=function(a){null==a&&(a=!1);this.fastCompression=a};m["openfl.display.PNGEncoderOptions"]=Rr;Rr.__name__=["openfl","display","PNGEncoderOptions"];Rr.prototype={fastCompression:null,__class__:Rr};var Cl={};m["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=Cl;Cl.__name__=["openfl","display","_PixelSnapping","PixelSnapping_Impl_"];Cl.fromString=function(a){switch(a){case "always":return 0;case "auto":return 1;case "never":return 2;default:return null}};Cl.toString=function(a){switch(a){case 0:return"always";
case 1:return"auto";case 2:return"never";default:return null}};var Rl=function(a){li.call(this);this.display=a;null!=a&&(a.addEventListener("unload",u(this,this.display_onUnload)),xa.current.addChild(a))};m["openfl.display.Preloader"]=Rl;Rl.__name__=["openfl","display","Preloader"];Rl.__super__=li;Rl.prototype=z(li.prototype,{display:null,ready:null,start:function(){if(!this.simulateProgress)if(this.ready=!0,xa.current.get_loaderInfo().__complete(),null!=this.display){var a=new ca("complete",!0,!0);
this.display.dispatchEvent(a);a.isDefaultPrevented()||this.display.dispatchEvent(new ca("unload"))}else li.prototype.start.call(this)},update:function(a,b){xa.current.get_loaderInfo().__update(a,b);null!=this.display&&this.display.dispatchEvent(new qg("progress",!0,!0,a,b))},display_onUnload:function(a){null!=this.display&&(this.display.removeEventListener("unload",u(this,this.display_onUnload)),this.display.parent==xa.current&&xa.current.removeChild(this.display),xa.current.stage.set_focus(null),
this.display=null);this.ready&&!this.simulateProgress&&li.prototype.start.call(this)},__class__:Rl});var Sl=function(){Fb.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new Fb;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.outline.set_alpha(0);this.addChild(this.outline);this.progress=
new Fb;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.progress.set_alpha(0);this.addChild(this.progress);this.startAnimation=xa.getTimer()+100;this.endAnimation=this.startAnimation+1E3;this.addEventListener("addedToStage",u(this,this.this_onAddedToStage))};m["openfl.display.DefaultPreloader"]=Sl;Sl.__name__=["openfl","display","DefaultPreloader"];Sl.__super__=Fb;Sl.prototype=
z(Fb.prototype,{endAnimation:null,outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){return xa.current.stage.window.config.background},getHeight:function(){var a=xa.current.stage.window.config.height;return 0<a?a:xa.current.stage.stageHeight},getWidth:function(){var a=xa.current.stage.window.config.width;return 0<a?a:xa.current.stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",u(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",
u(this,this.this_onEnterFrame));this.dispatchEvent(new ca("unload"))},onUpdate:function(a,b){var c=0;0<b&&(c=a/b,1<c&&(c=1));this.progress.set_scaleX(c)},this_onAddedToStage:function(a){this.removeEventListener("addedToStage",u(this,this.this_onAddedToStage));this.onInit();this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal);this.addEventListener("progress",u(this,this.this_onProgress));this.addEventListener("complete",u(this,this.this_onComplete))},this_onComplete:function(a){a.preventDefault();
this.removeEventListener("progress",u(this,this.this_onProgress));this.removeEventListener("complete",u(this,this.this_onComplete));this.onLoaded()},this_onEnterFrame:function(a){a=(xa.getTimer()-this.startAnimation)/(this.endAnimation-this.startAnimation);0>a&&(a=0);1<a&&(a=1);this.outline.set_alpha(a);this.progress.set_alpha(a)},this_onProgress:function(a){this.onUpdate(a.bytesLoaded|0,a.bytesTotal|0)},__class__:Sl});var Ze=function(a){this.__data=new rg(null);null==this.__glFragmentSource&&(this.__glFragmentSource=
"varying float vAlpha;\n\t\tvarying mat4 vColorMultipliers;\n\t\tvarying vec4 vColorOffsets;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform bool uColorTransform;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else if (uColorTransform) {\n\t\t\t\t\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = vColorOffsets + (color * vColorMultipliers);\n\t\t\t\t\n\t\t\t\tif(color.a > 0.0){\n\t\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * vAlpha, color.a * vAlpha);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tgl_FragColor = color * vAlpha;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute mat4 aColorMultipliers;\n\t\tattribute vec4 aColorOffsets;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying mat4 vColorMultipliers;\n\t\tvarying vec4 vColorOffsets;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\tuniform bool uColorTransform;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\t\n\t\t\tif (uColorTransform) {\n\t\t\t\t\n\t\t\t\tvColorMultipliers = aColorMultipliers;\n\t\t\t\tvColorOffsets = aColorOffsets;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t}");
this.byteCode=a;this.precisionHint=1;this.__glSourceDirty=!0;this.__numPasses=1};m["openfl.display.Shader"]=Ze;Ze.__name__=["openfl","display","Shader"];Ze.prototype={byteCode:null,glProgram:null,precisionHint:null,gl:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__isUniform:null,__inputBitmapData:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__uniformMatrix2:null,__uniformMatrix3:null,__uniformMatrix4:null,__disable:function(){null!=
this.glProgram&&this.__disableGL()},__disableGL:function(){null!=this.get_data().uImage0&&(this.get_data().uImage0.input=null);for(var a=0,b=this.__paramBool;a<b.length;){var c=b[a];++a;this.gl.__context.disableVertexAttribArray(c.index)}a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);this.gl.__context.bindBuffer(this.gl.ARRAY_BUFFER,null);this.gl.__context.bindTexture(this.gl.TEXTURE_2D,
null);this.gl.type==me.OPENGL&&this.gl.__context.disable(this.gl.TEXTURE_2D)},__enable:function(){this.__init();null!=this.glProgram&&this.__enableGL()},__enableGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;this.gl.__context.uniform1i(d.index,a);++a}this.gl.type==me.OPENGL&&0<a&&this.gl.__context.enable(this.gl.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=new rg(null));null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.glProgram&&
!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(this.__glSourceDirty||null==this.__isUniform)this.__glSourceDirty=!1,this.glProgram=null,this.__isUniform=new qa,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__uniformMatrix2=new pc(4),this.__uniformMatrix3=new pc(9),this.__uniformMatrix4=new pc(16),this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),
"uniform");if(null!=this.gl&&null==this.glProgram){var a="#ifdef GL_ES\n\t\t\t\tprecision "+(1==this.precisionHint?"mediump":"lowp")+" float;\n\t\t\t\t#endif\n\t\t\t\t"+this.get_glFragmentSource();this.glProgram=ol.createProgram(this.get_glVertexSource(),a);if(null!=this.glProgram){for(var a=0,b=this.__inputBitmapData;a<b.length;){var c=b[a];++a;var d=c.name,e=this.__isUniform;(null!=t[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,
c.name)}a=0;for(b=this.__paramBool;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=t[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=t[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,
c.name);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=t[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name)}}},__processGLData:function(a,b){var c=0,d,e;for(d="uniform"==b?new Za("uniform ([A-Za-z0-9]+) ([A-Za-z0-9]+)",""):new Za("attribute ([A-Za-z0-9]+) ([A-Za-z0-9]+)","");d.matchSub(a,c);){e=d.matched(1);c=d.matched(2);if(Da.startsWith(e,"sampler"))e=
new Tr,e.name=c,this.__inputBitmapData.push(e),this.get_data()[c]=e;else{switch(e){case "bool":e=0;break;case "bvec2":e=1;break;case "bvec3":e=2;break;case "bvec4":e=3;break;case "dvec2":case "vec2":e=5;break;case "dvec3":case "vec3":e=6;break;case "double":case "float":e=4;break;case "ivec3":case "uvec3":e=10;break;case "ivec4":case "uvec4":e=11;break;case "mat2":case "mat2x2":e=12;break;case "mat2x3":e=13;break;case "mat2x4":e=14;break;case "mat3x2":e=15;break;case "mat3":case "mat3x3":e=16;break;
case "mat3x4":e=17;break;case "mat4":case "mat4x4":e=20;break;case "mat4x2":e=18;break;case "mat4x3":e=19;break;case "int":case "uint":e=8;break;case "ivec2":case "uvec2":e=9;break;case "dvec4":case "vec4":e=7;break;default:e=null}switch(e){case 0:case 1:case 2:case 3:var f=new Dl;f.name=c;f.type=e;this.__paramBool.push(f);this.get_data()[c]=f;break;case 8:case 9:case 10:case 11:f=new Dl;f.name=c;f.type=e;this.__paramInt.push(f);this.get_data()[c]=f;break;default:f=new Dl,f.name=c,f.type=e,this.__paramFloat.push(f),
this.get_data()[c]=f}}e=this.__isUniform;f="uniform"==b;null!=t[c]?e.setReserved(c,f):e.h[c]=f;c=d.matchedPos();c=c.pos+c.len}},__update:function(){null!=this.glProgram&&this.__updateGL()},__updateGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;if(null!=d.input){this.gl.__context.activeTexture(this.gl.TEXTURE0+a);var e=this.gl,f=this.gl.TEXTURE_2D,g=d.input.getTexture(this.gl);e.__context.bindTexture(f,g);d.smoothing?(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST))}++a}a=0;for(b=this.__paramBool;a<b.length;)if(c=b[a],++a,d=c.value,e=c.index,null!=d)switch(c.type){case 0:this.gl.__context.uniform1i(e,d[0]?1:0);break;case 1:this.gl.__context.uniform2i(e,
d[0]?1:0,d[1]?1:0);break;case 2:this.gl.__context.uniform3i(e,d[0]?1:0,d[1]?1:0,d[2]?1:0);break;case 3:this.gl.__context.uniform4i(e,d[0]?1:0,d[1]?1:0,d[2]?1:0,d[3]?1:0)}else d=c.name,e=this.__isUniform,(null!=t[d]?e.getReserved(d):e.h[d])||this.gl.__context.enableVertexAttribArray(c.index);a=0;for(b=this.__paramFloat;a<b.length;)if(e=b[a],++a,d=e.value,c=e.index,null!=d)switch(e.type){case 4:this.gl.__context.uniform1f(c,d[0]);break;case 5:this.gl.__context.uniform2f(c,d[0],d[1]);break;case 6:this.gl.__context.uniform3f(c,
d[0],d[1],d[2]);break;case 7:this.gl.__context.uniform4f(c,d[0],d[1],d[2],d[3]);break;case 12:for(e=0;4>e;)f=e++,this.__uniformMatrix2[f]=d[f];d=this.gl;e=E.fromArrayBufferView(this.__uniformMatrix2);d.__context.uniformMatrix2fv(c,!1,E.toFloat32Array(e,16));break;case 16:for(e=0;9>e;)f=e++,this.__uniformMatrix3[f]=d[f];d=this.gl;e=E.fromArrayBufferView(this.__uniformMatrix3);d.__context.uniformMatrix3fv(c,!1,E.toFloat32Array(e,36));break;case 20:for(e=0;16>e;)f=e++,this.__uniformMatrix4[f]=d[f];d=
this.gl;e=E.fromArrayBufferView(this.__uniformMatrix4);d.__context.uniformMatrix4fv(c,!1,E.toFloat32Array(e,64))}else if(c=e.name,d=this.__isUniform,null!=t[c]?!d.getReserved(c):!d.h[c])switch(this.gl.__context.enableVertexAttribArray(e.index),e.type){case 12:this.gl.__context.enableVertexAttribArray(e.index+1);break;case 16:this.gl.__context.enableVertexAttribArray(e.index+1);this.gl.__context.enableVertexAttribArray(e.index+2);break;case 20:this.gl.__context.enableVertexAttribArray(e.index+1),this.gl.__context.enableVertexAttribArray(e.index+
2),this.gl.__context.enableVertexAttribArray(e.index+3)}a=0;for(b=this.__paramInt;a<b.length;)if(c=b[a],++a,d=c.value,e=c.index,null!=d)switch(c.type){case 8:this.gl.__context.uniform1i(e,d[0]);break;case 9:this.gl.__context.uniform2i(e,d[0],d[1]);break;case 10:this.gl.__context.uniform3i(e,d[0],d[1],d[2]);break;case 11:this.gl.__context.uniform4i(e,d[0],d[1],d[2],d[3])}else d=c.name,e=this.__isUniform,(null!=t[d]?e.getReserved(d):e.h[d])||this.gl.__context.enableVertexAttribArray(c.index)},get_data:function(){(this.__glSourceDirty||
null==this.__data)&&this.__init();return this.__data},set_data:function(a){return this.__data=a},get_glFragmentSource:function(){return this.__glFragmentSource},set_glFragmentSource:function(a){a!=this.__glFragmentSource&&(this.__glSourceDirty=!0);return this.__glFragmentSource=a},get_glVertexSource:function(){return this.__glVertexSource},set_glVertexSource:function(a){a!=this.__glVertexSource&&(this.__glSourceDirty=!0);return this.__glVertexSource=a},__class__:Ze,__properties__:{set_glVertexSource:"set_glVertexSource",
get_glVertexSource:"get_glVertexSource",set_glFragmentSource:"set_glFragmentSource",get_glFragmentSource:"get_glFragmentSource",set_data:"set_data",get_data:"get_data"}};var rg=function(a){};m["openfl.display.ShaderData"]=rg;rg.__name__=["openfl","display","ShaderData"];rg.prototype={aAlpha:null,aPosition:null,aTexCoord:null,uImage0:null,uMatrix:null,__class__:rg};var Tr=function(){this.width=this.index=this.height=this.channels=0};m["openfl.display.ShaderInput"]=Tr;Tr.__name__=["openfl","display",
"ShaderInput"];Tr.prototype={channels:null,height:null,index:null,input:null,name:null,smoothing:null,width:null,__class__:Tr};var Dl=function(){this.index=0};m["openfl.display.ShaderParameter"]=Dl;Dl.__name__=["openfl","display","ShaderParameter"];Dl.prototype={index:null,name:null,type:null,value:null,__class__:Dl};var sd={};m["openfl.display._ShaderParameterType.ShaderParameterType_Impl_"]=sd;sd.__name__=["openfl","display","_ShaderParameterType","ShaderParameterType_Impl_"];sd.fromString=function(a){switch(a){case "bool":return 0;
case "bool2":return 1;case "bool3":return 1;case "bool4":return 1;case "float":return 4;case "float2":return 5;case "float3":return 6;case "float4":return 7;case "int":return 8;case "int2":return 9;case "int3":return 10;case "int4":return 11;case "matrix2x2":return 12;case "matrix2x3":return 13;case "matrix2x4":return 14;case "matrix3x2":return 15;case "matrix3x3":return 16;case "matrix3x4":return 17;case "matrix4x2":return 18;case "matrix4x3":return 19;case "matrix4x4":return 20;default:return null}};
sd.toString=function(a){switch(a){case 0:return"bool";case 1:return"bool2";case 2:return"bool3";case 3:return"bool4";case 4:return"float";case 5:return"float2";case 6:return"float3";case 7:return"float4";case 8:return"int";case 9:return"int2";case 10:return"int3";case 11:return"int4";case 12:return"matrix2x2";case 13:return"matrix2x3";case 14:return"matrix2x4";case 15:return"matrix3x2";case 16:return"matrix3x3";case 17:return"matrix3x4";case 18:return"matrix4x2";case 19:return"matrix4x3";case 20:return"matrix4x4";
default:return null}};var xp={};m["openfl.display._ShaderPrecision.ShaderPrecision_Impl_"]=xp;xp.__name__=["openfl","display","_ShaderPrecision","ShaderPrecision_Impl_"];xp.fromString=function(a){switch(a){case "fast":return 0;case "full":return 1;default:return null}};xp.toString=function(a){switch(a){case 0:return"fast";case 1:return"full";default:return null}};var Jf=function(a,b,c,d){Ab.call(this);this.enabled=!0;this.trackAsMenu=!1;this.useHandCursor=!0;this.set_upState(null!=a?a:new Eb);this.set_overState(b);
this.set_downState(c);this.set_hitTestState(null!=d?d:new Eb);this.addEventListener("mouseDown",u(this,this.__this_onMouseDown));this.addEventListener("mouseOut",u(this,this.__this_onMouseOut));this.addEventListener("mouseOver",u(this,this.__this_onMouseOver));this.addEventListener("mouseUp",u(this,this.__this_onMouseUp));this.set___currentState(this.upState);null!=Jf.__initSymbol&&(a=Jf.__initSWF,this.__symbol=Jf.__initSymbol,Jf.__initSWF=null,Jf.__initSymbol=null,this.__fromSymbol(a,this.__symbol))};
m["openfl.display.SimpleButton"]=Jf;Jf.__name__=["openfl","display","SimpleButton"];Jf.__super__=Ab;Jf.prototype=z(Ab.prototype,{downState:null,enabled:null,hitTestState:null,overState:null,trackAsMenu:null,upState:null,useHandCursor:null,__currentState:null,__ignoreEvent:null,__previousStates:null,__soundTransform:null,__symbol:null,__fromSymbol:function(a,b){this.__symbol=b;null!=b.downState&&this.set_downState(b.downState.__createObject(a));null!=b.hitState&&this.set_hitTestState(b.hitState.__createObject(a));
null!=b.overState&&this.set_overState(b.overState.__createObject(a));null!=b.upState&&this.set_upState(b.upState.__createObject(a))},__getBounds:function(a,b){Ab.prototype.__getBounds.call(this,a,b);null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));this.__currentState.__getBounds(a,this.__currentState.__worldTransform);null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))},__getRenderBounds:function(a,b){null!=this.__scrollRect?Ab.prototype.__getRenderBounds.call(this,a,b):
(Ab.prototype.__getBounds.call(this,a,b),null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0)),this.__currentState.__getRenderBounds(a,this.__currentState.__worldTransform),null!=b&&(this.__updateTransforms(),this.__updateChildren(!0)))},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?Ia.POINTER:null},__hitTest:function(a,b,c,d,e,f){var g=!1;if(null!=this.hitTestState)this.hitTestState.__hitTest(a,b,c,d,e,f)&&(null!=d&&(0==d.length?d[0]=f:d[d.length-1]=f),g=!0);else if(null!=
this.__currentState){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__currentState.__hitTest(a,b,c,d,e,f)&&(g=e)}if(null!=d)for(;1<d.length&&d[d.length-1]==d[d.length-2];)d.pop();return g},__hitTestMask:function(a,b){var c=!1;this.__currentState.__hitTestMask(a,b)&&(c=!0);return c},__renderCairo:function(a){!this.__renderable||0>=this.__worldAlpha||null==this.__currentState||(a.maskManager.pushObject(this),this.__currentState.__renderCairo(a),
a.maskManager.popObject(this))},__renderCairoMask:function(a){this.__currentState.__renderCairoMask(a)},__renderCanvas:function(a){!this.__renderable||0>=this.__worldAlpha||null==this.__currentState||(a.maskManager.pushObject(this),this.__currentState.__renderCanvas(a),a.maskManager.popObject(this))},__renderCanvasMask:function(a){var b=ya.__pool.get();this.__getLocalBounds(b);a.context.rect(0,0,b.width,b.height);ya.__pool.release(b);this.__currentState.__renderCanvasMask(a)},__renderDOM:function(a){a.maskManager.pushObject(this);
for(var b=0,c=this.__previousStates;b<c.get_length();){var d=c.get(b);++b;d.__renderDOM(a)}this.__previousStates.set_length(0);null!=this.__currentState&&(this.__currentState.stage!=this.stage&&this.__currentState.__setStageReference(this.stage),this.__currentState.__renderDOM(a));a.maskManager.popObject(this)},__renderGL:function(a){!this.__renderable||0>=this.__worldAlpha||null==this.__currentState||(a.maskManager.pushObject(this),this.__currentState.__renderGL(a),a.maskManager.popObject(this))},
__setStageReference:function(a){Ab.prototype.__setStageReference.call(this,a);null!=this.__currentState&&this.__currentState.__setStageReference(a);null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__setStageReference(a)},__setTransformDirty:function(){Ab.prototype.__setTransformDirty.call(this);null!=this.__currentState&&this.__currentState.__setTransformDirty();null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__setTransformDirty()},
__update:function(a,b,c){Ab.prototype.__update.call(this,a,b,c);b&&(null!=this.__currentState&&this.__currentState.__update(a,!0,c),null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__update(a,!0,c))},__updateChildren:function(a){Ab.prototype.__updateChildren.call(this,a);null!=this.__currentState&&this.__currentState.__updateChildren(a);null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__updateChildren(a)},__updateTransforms:function(a){Ab.prototype.__updateTransforms.call(this,
a);null!=this.__currentState&&this.__currentState.__updateTransforms();null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__updateTransforms()},set_downState:function(a){null!=this.downState&&this.__currentState==this.downState&&this.set___currentState(a);return this.downState=a},set_hitTestState:function(a){null!=this.hitTestState&&this.hitTestState!=a&&this.hitTestState!=this.downState&&this.hitTestState!=this.upState&&this.hitTestState!=this.overState&&(this.hitTestState.__renderParent=
null);null!=a&&(a.__renderParent=this,a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty()));return this.hitTestState=a},set_overState:function(a){null!=this.overState&&this.__currentState==this.overState&&this.set___currentState(a);return this.overState=a},get_soundTransform:function(){null==this.__soundTransform&&(this.__soundTransform=new od);return new od(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(a){this.__soundTransform=new od(a.volume,a.pan);
return a},set_upState:function(a){null!=this.upState&&this.__currentState==this.upState&&this.set___currentState(a);return this.upState=a},set___currentState:function(a){null!=this.__currentState&&this.__currentState!=this.hitTestState&&(this.__currentState.__renderParent=null);null!=a&&null!=a.parent&&a.parent.removeChild(a);a!=this.__currentState&&(null!=a&&(a.__renderParent=this,a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty())),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));
return this.__currentState=a},__this_onMouseDown:function(a){this.set___currentState(this.downState)},__this_onMouseOut:function(a){this.__ignoreEvent=!1;this.upState!=this.__currentState&&this.set___currentState(this.upState)},__this_onMouseOver:function(a){a.buttonDown&&(this.__ignoreEvent=!0);this.overState==this.__currentState||null==this.overState||this.__ignoreEvent||this.set___currentState(this.overState)},__this_onMouseUp:function(a){this.__ignoreEvent=!1;null!=this.overState?this.set___currentState(this.overState):
this.set___currentState(this.upState)},__class__:Jf,__properties__:z(Ab.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var El={};m["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=El;El.__name__=["openfl","display","_SpreadMethod","SpreadMethod_Impl_"];El.fromString=function(a){switch(a){case "pad":return 0;
case "reflect":return 1;case "repeat":return 2;default:return null}};El.toString=function(a){switch(a){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};var Fl=function(a,b){xd.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.__displayMatrix=
new cb;this.__renderDirty=!0;this.stage3Ds=x.toObjectVector(null);this.stage3Ds.push(new Fh);this.__resize();this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.showDefaultContextMenu=!0;this.softKeyboardRect=new ya;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__rollOutStack=
[];this.__touchData=new fc;null==xa.current.stage&&this.stage.addChild(xa.current)};m["openfl.display.Stage"]=Fl;Fl.__name__=["openfl","display","Stage"];Fl.__interfaces__=[Pl];Fl.__super__=xd;Fl.prototype=z(xd.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,quality:null,scaleMode:null,showDefaultContextMenu:null,softKeyboardRect:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,
__color:null,__colorSplit:null,__colorString:null,__deltaTime:null,__dirty:null,__displayMatrix:null,__displayState:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__focus:null,__fullscreen:null,__invalidated:null,__lastClickTime:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__primaryTouch:null,__renderer:null,__rendering:null,__rollOutStack:null,
__stack:null,__transparent:null,__wasDirty:null,__touchData:null,addRenderer:function(a){var b=u(this,this.render);a.onRender.add(function(){b(a)});var c=u(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=u(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)})},addWindow:function(a){if(this.window==a){var b=u(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=u(this,this.onWindowClose);a.onClose.add(function(){c(a)},!1,-9E3);var d=
u(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=u(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=u(this,this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var g=u(this,this.onWindowEnter);a.onEnter.add(function(){g(a)});var h=u(this,this.onWindowFocusIn);a.onFocusIn.add(function(){h(a)});var m=u(this,this.onWindowFocusOut);a.onFocusOut.add(function(){m(a)});var q=u(this,this.onWindowFullscreen);a.onFullscreen.add(function(){q(a)});var n=u(this,
this.onKeyDown);a.onKeyDown.add(function(b,c){n(a,b,c)});var l=u(this,this.onKeyUp);a.onKeyUp.add(function(b,c){l(a,b,c)});var r=u(this,this.onWindowLeave);a.onLeave.add(function(){r(a)});var t=u(this,this.onWindowMinimize);a.onMinimize.add(function(){t(a)});var v=u(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){v(a,b,c,d)});var x=u(this,this.onMouseMove);a.onMouseMove.add(function(b,c){x(a,b,c)});var y=u(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){y(a,b,c)});
var z=u(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){z(a,b,c,d)});var A=u(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){A(a,b,c)});var B=u(this,this.onWindowMove);a.onMove.add(function(b,c){B(a,b,c)});var C=u(this,this.onWindowResize);a.onResize.add(function(b,c){C(a,b,c)});var D=u(this,this.onWindowRestore);a.onRestore.add(function(){D(a)});var E=u(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){E(a,b,c,d)});var F=u(this,this.onTextInput);a.onTextInput.add(function(b){F(a,
b)});if(-1<a.id)this.onWindowCreate(a)}},registerModule:function(a){a.onExit.add(u(this,this.onModuleExit),!1,0);a.onUpdate.add(u(this,this.update));for(a=Qc.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}Qc.onConnect.add(u(this,this.__onGamepadConnect));wd.onStart.add(u(this,this.onTouchStart));wd.onMove.add(u(this,this.onTouchMove));wd.onEnd.add(u(this,this.onTouchEnd))},removeRenderer:function(a){},removeWindow:function(a){},setPreloader:function(a){},unregisterModule:function(a){a.onExit.remove(u(this,
this.onModuleExit));a.onUpdate.remove(u(this,this.update));Qc.onConnect.remove(u(this,this.__onGamepadConnect));wd.onStart.remove(u(this,this.onTouchStart));wd.onMove.remove(u(this,this.onTouchMove));wd.onEnd.remove(u(this,this.onTouchEnd))},invalidate:function(){this.__invalidated=!0},localToGlobal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){try{yb.__onGamepadAxisMove(a,b,c)}catch(d){Qa.lastException=d,d instanceof H&&(d=d.val),this.__handleError(d)}},onGamepadButtonDown:function(a,
b){try{yb.__onGamepadButtonDown(a,b)}catch(c){Qa.lastException=c,c instanceof H&&(c=c.val),this.__handleError(c)}},onGamepadButtonUp:function(a,b){try{yb.__onGamepadButtonUp(a,b)}catch(c){Qa.lastException=c,c instanceof H&&(c=c.val),this.__handleError(c)}},onGamepadConnect:function(a){try{yb.__onGamepadConnect(a)}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onGamepadDisconnect:function(a){try{yb.__onGamepadDisconnect(a)}catch(b){Qa.lastException=b,b instanceof H&&
(b=b.val),this.__handleError(b)}},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyDown",b,c)}catch(d){Qa.lastException=d,d instanceof H&&(d=d.val),this.__handleError(d)}},onKeyUp:function(a,b,c){if(null!=this.window&&
this.window==a)try{this.__onKey("keyUp",b,c)}catch(d){Qa.lastException=d,d instanceof H&&(d=d.val),this.__handleError(d)}},onModuleExit:function(a){if(null!=this.window)try{this.__broadcastEvent(new ca("deactivate"))}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*
a.__scale|0,d)}catch(f){Qa.lastException=f,f instanceof H&&(f=f.val),this.__handleError(f)}},onMouseMove:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)}catch(d){Qa.lastException=d,d instanceof H&&(d=d.val),this.__handleError(d)}},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,
b*a.__scale|0,c*a.__scale|0,d);this.showDefaultContextMenu||2!=d||a.onMouseUp.cancel()}catch(f){Qa.lastException=f,f instanceof H&&(f=f.val),this.__handleError(f)}},onMouseWheel:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)}catch(d){Qa.lastException=d,d instanceof H&&(d=d.val),this.__handleError(d)}},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){this.__renderer=null},onRenderContextRestored:function(a,
b){this.__createRenderer()},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a)try{var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Lf("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__dispatchStack(d,c)):this.__dispatchEvent(d)}catch(e){Qa.lastException=e,e instanceof H&&(e=e.val),this.__handleError(e)}},onTouchMove:function(a){try{this.__onTouch("touchMove",a)}catch(b){Qa.lastException=b,b instanceof H&&
(b=b.val),this.__handleError(b)}},onTouchEnd:function(a){try{this.__primaryTouch==a&&(this.__primaryTouch=null),this.__onTouch("touchEnd",a)}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onTouchStart:function(a){try{null==this.__primaryTouch&&(this.__primaryTouch=a),this.__onTouch("touchBegin",a)}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onWindowActivate:function(a){},onWindowClose:function(a){this.window==a&&(this.window=null);try{this.__primaryTouch=
null,this.__broadcastEvent(new ca("deactivate"))}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onWindowCreate:function(a){if(null!=this.window&&this.window==a)try{null!=a.renderer&&this.__createRenderer()}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){if(null!=this.window&&this.window==a)try{this.__renderDirty=!0,this.__broadcastEvent(new ca("activate")),
this.set_focus(this.__cacheFocus)}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onWindowFocusOut:function(a){if(null!=this.window&&this.window==a)try{this.__primaryTouch=null;this.__broadcastEvent(new ca("deactivate"));var b=this.get_focus();this.set_focus(null);this.__cacheFocus=b}catch(c){Qa.lastException=c,c instanceof H&&(c=c.val),this.__handleError(c)}},onWindowFullscreen:function(a){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState&&
(this.__displayState=1,this.__dispatchEvent(new zg("fullScreen",!1,!1,!1,!0)))}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onWindowLeave:function(a){if(null!=this.window&&this.window==a)try{this.__dispatchEvent(new ca("mouseLeave"))}catch(b){Qa.lastException=b,b instanceof H&&(b=b.val),this.__handleError(b)}},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__renderDirty=!0,
this.__resize(),2==this.__displayState||a.__fullscreen||(this.__displayState=2,this.__dispatchEvent(new zg("fullScreen",!1,!1,!0,!0)))}catch(d){Qa.lastException=d,d instanceof H&&(d=d.val),this.__handleError(d)}},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window)try{this.__rendering||(this.__rendering=!0,null!=this.__renderer&&(Fh.__active||this.stage3Ds.get(0).__contextRequested)&&(this.__renderer.clear(),this.__renderer.renderStage3D(),this.__renderDirty=
!0),this.__broadcastEvent(new ca("enterFrame")),this.__broadcastEvent(new ca("frameConstructed")),this.__broadcastEvent(new ca("exitFrame")),this.__invalidated&&(this.__invalidated=!1,this.__broadcastEvent(new ca("render"))),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,this.__update(!1,!0),null!=this.__renderer&&this.__renderDirty?(Fh.__active||this.__renderer.clear(),this.__renderer.render()):a.onRender.cancel(),this.__rendering=!1)}catch(b){Qa.lastException=b,b instanceof
H&&(b=b.val),this.__handleError(b)}},update:function(a){this.__deltaTime=a},__broadcastEvent:function(a){var b=a.type,c=Eb.__broadcastEvents;if(null!=t[b]?c.existsReserved(b):c.h.hasOwnProperty(b))for(b=a.type,c=Eb.__broadcastEvents,b=null!=t[b]?c.getReserved(b):c.h[b],c=0;c<b.length;){var d=b[c];++c;d.__dispatch(a)}},__createRenderer:function(){var a=this.window.renderer.context;switch(a[1]){case 0:this.__renderer=new Eh(this,a[2]);break;case 1:this.__renderer=new ri(this,a[2])}},__drag:function(a){var b=
this.__dragObject.parent;if(null!=b){var b=b.__getWorldTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}}b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));
this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__getInteractive:function(a){null!=a&&a.push(this);return!0},__globalToLocal:function(a,b){a!=b&&b.copyFrom(a);return b},__handleError:function(a){var b=new Oj("uncaughtError",!0,!0,a);xa.current.__loaderInfo.uncaughtErrorEvents.dispatchEvent(b);if(!b.__preventDefault)throw a;},__onKey:function(a,b,c){zb.__altKey=ib.get_altKey(c);zb.__commandKey=ib.get_metaKey(c);zb.__ctrlKey=ib.get_ctrlKey(c);zb.__shiftKey=ib.get_shiftKey(c);var d=[];null==this.__focus?
this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=
2;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;
break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=
73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;
break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;
case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=
110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=wa.__getCharCode(b,ib.get_shiftKey(c));c=new vi(a,!0,!0,f,b,e,this.__macKeyboard?ib.get_ctrlKey(c)||ib.get_metaKey(c):
ib.get_ctrlKey(c),ib.get_altKey(c),ib.get_shiftKey(c),ib.get_ctrlKey(c),ib.get_metaKey(c));d.reverse();this.__dispatchStack(c,d);c.__preventDefault&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=u(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=u(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=u(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,
b)});var e=u(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onMouse:function(a,b,c,d){if(!(2<d)){var e=Pa.__pool.get();e.setTo(b,c);b=this.__displayMatrix;c=b.a*b.d-b.b*b.c;if(0==c)e.x=-b.tx,e.y=-b.ty;else{var f=1/c*(b.c*(b.ty-e.y)+b.d*(e.x-b.tx));e.y=1/c*(b.a*(e.y-b.ty)+b.b*(b.tx-e.x));e.x=f}this.__mouseX=e.x;this.__mouseY=e.y;c=[];f=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,c,!0,this)?f=c[c.length-1]:(f=this,c=[this]);null==f&&(f=this);var g=null;switch(a){case "middleMouseDown":this.__mouseDownMiddle=
f;break;case "middleMouseUp":this.__mouseDownMiddle==f&&(g="middleClick");this.__mouseDownMiddle=null;break;case "mouseDown":f.get_tabEnabled()?this.set_focus(f):this.set_focus(null);this.__mouseDownLeft=f;break;case "mouseUp":this.__mouseDownLeft==f&&(g="click");this.__mouseDownLeft=null;break;case "rightMouseDown":this.__mouseDownRight=f;break;case "rightMouseUp":this.__mouseDownRight==f&&(g="rightClick"),this.__mouseDownRight=null}b=Pa.__pool.get();this.__dispatchStack(zb.__create(a,d,this.__mouseX,
this.__mouseY,f.__globalToLocal(e,b),f),c);null!=g&&(this.__dispatchStack(zb.__create(g,d,this.__mouseX,this.__mouseY,f.__globalToLocal(e,b),f),c),"mouseUp"==a&&y.__cast(f,Ab).doubleClickEnabled&&(a=xa.getTimer(),500>a-this.__lastClickTime?(this.__dispatchStack(zb.__create("doubleClick",d,this.__mouseX,this.__mouseY,f.__globalToLocal(e,b),f),c),this.__lastClickTime=0):this.__lastClickTime=a));if("auto"==jf.__cursor){g=null;if(null!=this.__mouseDownLeft)g=this.__mouseDownLeft.__getCursor();else for(a=
0;a<c.length;)if(g=c[a],++a,g=g.__getCursor(),null!=g){Zc.set_cursor(g);break}null==g&&Zc.set_cursor(Ia.ARROW)}f!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(a=zb.__create("mouseOut",d,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(e,b),this.__mouseOverTarget),this.__mouseOverTarget.__dispatchEvent(a));for(var g=0,h=this.__rollOutStack;g<h.length;){var m=h[g];++g;-1==c.indexOf(m)&&(da.remove(this.__rollOutStack,m),a=zb.__create("rollOut",d,this.__mouseX,this.__mouseY,
this.__mouseOverTarget.__globalToLocal(e,b),this.__mouseOverTarget),a.bubbles=!1,m.__dispatchEvent(a))}for(g=0;g<c.length;)h=c[g],++g,-1==this.__rollOutStack.indexOf(h)&&null!=this.__mouseOverTarget&&(h.hasEventListener("rollOver")&&(a=zb.__create("rollOver",d,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(e,b),h),a.bubbles=!1,h.__dispatchEvent(a)),h.hasEventListener("rollOut")&&this.__rollOutStack.push(h));f!=this.__mouseOverTarget&&(null!=f&&(a=zb.__create("mouseOver",d,this.__mouseX,
this.__mouseY,f.__globalToLocal(e,b),f),a.bubbles=!0,f.__dispatchEvent(a)),this.__mouseOverTarget=f);null!=this.__dragObject&&(this.__drag(e),d=null,this.__mouseOverTarget==this.__dragObject?(c=this.__dragObject.mouseEnabled,f=this.__dragObject.mouseChildren,this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1,a=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,a,!0,this)&&(d=a[a.length-1]),this.__dragObject.mouseEnabled=c,this.__dragObject.mouseChildren=f):this.__mouseOverTarget!=
this&&(d=this.__mouseOverTarget),this.__dragObject.dropTarget=d);Pa.__pool.release(e);Pa.__pool.release(b)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[],f=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);var g=Pa.__pool.get();g.setTo(c,d);c=this.__displayMatrix;d=c.a*c.d-c.b*c.c;if(0==d)g.x=-c.tx,g.y=-c.ty;else{var h=1/d*(c.c*(c.ty-g.y)+c.d*(g.x-c.tx));g.y=1/d*(c.a*(g.y-c.ty)+c.b*(c.tx-g.x));g.x=h}c=b|0;this.__dispatchStack(zb.__create("mouseWheel",
0,this.__mouseX,this.__mouseY,f.__globalToLocal(g,g),f,c),e);Pa.__pool.release(g)},__onTouch:function(a,b){var c=Pa.__pool.get();c.setTo(Math.round(b.x*this.window.__width*this.window.__scale),Math.round(b.y*this.window.__height*this.window.__scale));var d=this.__displayMatrix,e=d.a*d.d-d.b*d.c;if(0==e)c.x=-d.tx,c.y=-d.ty;else{var f=1/e*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));c.y=1/e*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=f}var d=c.x,e=c.y,f=[],g=null;this.__hitTest(d,e,!1,f,!0,this)?g=f[f.length-1]:(g=this,
f=[this]);null==g&&(g=this);var h=b.id,m=null;this.__touchData.h.hasOwnProperty(h)?m=this.__touchData.h[h]:(m=Pj.__pool.get(),m.reset(),m.touch=b,this.__touchData.h[h]=m);var q=null,n=!1;switch(a){case "touchBegin":m.touchDownTarget=g;break;case "touchEnd":m.touchDownTarget==g&&(q="touchTap"),m.touchDownTarget=null,n=!0}var l=Pa.__pool.get(),r=this.__primaryTouch==b,t=gd.__create(a,null,d,e,g.__globalToLocal(c,l),g);t.touchPointID=h;t.isPrimaryTouchPoint=r;this.__dispatchStack(t,f);null!=q&&(t=gd.__create(q,
null,d,e,g.__globalToLocal(c,l),g),t.touchPointID=h,t.isPrimaryTouchPoint=r,this.__dispatchStack(t,f));q=m.touchOverTarget;g!=q&&null!=q&&(t=gd.__create("touchOut",null,d,e,q.__globalToLocal(c,l),q),t.touchPointID=h,t.isPrimaryTouchPoint=r,q.__dispatchEvent(t));for(var u=m.rollOutStack,v=0;v<u.length;){var x=u[v];++v;-1==f.indexOf(x)&&(da.remove(u,x),t=gd.__create("touchRollOut",null,d,e,q.__globalToLocal(c,l),q),t.touchPointID=h,t.isPrimaryTouchPoint=r,t.bubbles=!1,x.__dispatchEvent(t))}for(v=0;v<
f.length;)x=f[v],++v,-1==u.indexOf(x)&&(x.hasEventListener("touchRollOver")&&(t=gd.__create("touchRollOver",null,d,e,q.__globalToLocal(c,l),x),t.touchPointID=h,t.isPrimaryTouchPoint=r,t.bubbles=!1,x.__dispatchEvent(t)),x.hasEventListener("touchRollOut")&&u.push(x));g!=q&&(null!=g&&(t=gd.__create("touchOver",null,d,e,g.__globalToLocal(c,l),g),t.touchPointID=h,t.isPrimaryTouchPoint=r,t.bubbles=!0,g.__dispatchEvent(t)),m.touchOverTarget=g);Pa.__pool.release(c);Pa.__pool.release(l);n&&(this.__touchData.remove(h),
m.reset(),Pj.__pool.release(m))},__resize:function(){var a=this.stageWidth,b=this.stageHeight,c=this.window.__width*this.window.__scale|0,d=this.window.__height*this.window.__scale|0;this.__logicalWidth=c;this.__logicalHeight=d;this.__displayMatrix.identity();if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=c,this.stageHeight=d;else{this.stageWidth=this.__logicalWidth;this.stageHeight=this.__logicalHeight;var e=Math.min(c/this.stageWidth,d/this.stageHeight),f=Math.round((c-this.stageWidth*
e)/2),g=Math.round((d-this.stageHeight*e)/2);this.__displayMatrix.scale(e,e);this.__displayMatrix.translate(f,g)}e=0;for(f=this.stage3Ds;e<f.get_length();)g=f.get(e),++e,g.__resize(this.stageWidth,this.stageHeight);null!=this.__renderer&&this.__renderer.resize(c,d);this.stageWidth==a&&this.stageHeight==b||this.__dispatchEvent(new ca("resize"))},__setLogicalSize:function(a,b){this.__logicalWidth=a;this.__logicalHeight=b;this.__resize()},__startDrag:function(a,b,c){this.__dragBounds=null==c?null:c.clone();
this.__dragObject=a;if(null!=this.__dragObject)if(b)this.__dragOffsetY=this.__dragOffsetX=0;else{a=Pa.__pool.get();a.setTo(this.get_mouseX(),this.get_mouseY());b=this.__dragObject.parent;if(null!=b)if(b=b.__getWorldTransform(),c=b.a*b.d-b.b*b.c,0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}this.__dragOffsetX=this.__dragObject.get_x()-a.x;this.__dragOffsetY=this.__dragObject.get_y()-a.y;Pa.__pool.release(a)}},__stopDrag:function(a){this.__dragObject=
this.__dragBounds=null},__update:function(a,b,c){a?this.__transformDirty&&(xd.prototype.__update.call(this,!0,b,c),b&&(this.__transformDirty=!1)):(this.__transformDirty||this.__renderDirty)&&xd.prototype.__update.call(this,!1,b,c)},get_color:function(){return this.__color},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+Da.hex(a&16777215,6);return this.__color=a},get_displayState:function(){return this.__displayState},set_displayState:function(a){null!=
this.window&&(2==a?this.window.__fullscreen&&this.window.set_fullscreen(!1):this.window.__fullscreen||this.window.set_fullscreen(!0));return this.__displayState=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__cacheFocus=this.__focus=a;if(null!=b){var c=new sg("focusOut",!0,!1,this.__focus,!1,0),d=[];b.__getInteractive(d);d.reverse();this.__dispatchStack(c,d)}null!=this.__focus&&(b=new sg("focusIn",!0,!1,b,!1,0),c=[],a.__getInteractive(c),
c.reverse(),this.__dispatchStack(b,c))}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},set_frameRate:function(a){return null!=this.application?this.application.backend.setFrameRate(a):a},get_fullScreenHeight:function(){return this.window.get_display().currentMode.height},get_fullScreenWidth:function(){return this.window.get_display().currentMode.width},set_height:function(a){return this.get_height()},get_mouseX:function(){return this.__mouseX},
get_mouseY:function(){return this.__mouseY},set_rotation:function(a){return 0},set_scaleX:function(a){return 0},set_scaleY:function(a){return 0},set_transform:function(a){return this.get_transform()},set_width:function(a){return this.get_width()},set_x:function(a){return 0},set_y:function(a){return 0},__class__:Fl,__properties__:z(xd.prototype.__properties__,{get_fullScreenWidth:"get_fullScreenWidth",get_fullScreenHeight:"get_fullScreenHeight",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",
set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",set_color:"set_color",get_color:"get_color"})});var Fh=function(){za.call(this);this.set_x(0);this.set_y(0);this.visible=!0};m["openfl.display.Stage3D"]=Fh;Fh.__name__=["openfl","display","Stage3D"];Fh.__super__=za;Fh.prototype=z(za.prototype,{context3D:null,visible:null,x:null,y:null,__contextRequested:null,__stage:null,__canvas:null,__renderContext:null,__style:null,__webgl:null,requestContext3D:function(a,
b){this.__contextRequested=!0;null!=this.context3D&&hf.delay(u(this,this.__dispatchCreate),1)},requestContext3DMatchingProfiles:function(a){this.requestContext3D()},__createContext:function(a,b){this.__stage=a;if(null!=b.gl)this.context3D=new bc(this,b),this.__dispatchCreate();else{this.__canvas=window.document.createElement("canvas");this.__canvas.width=a.stageWidth;this.__canvas.height=a.stageHeight;var c=a.window,c={alpha:Object.prototype.hasOwnProperty.call(c.config,"background")&&null==c.config.background,
antialias:Object.prototype.hasOwnProperty.call(c.config,"antialiasing")&&0<c.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(c.config,"depthBuffer")?c.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(c.config,"stencilBuffer")&&c.config.stencilBuffer,preserveDrawingBuffer:!1};this.__webgl=xs.getContextWebGL(this.__canvas,c);null!=this.__webgl?(this.__renderContext=new no(this.__webgl),g.context=this.__renderContext,this.context3D=new bc(this,b),
b.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(b.transformOriginProperty,"0 0 0",null),this.__style.setProperty("z-index","-1",null),this.__dispatchCreate()):this.__dispatchError()}},__dispatchError:function(){this.__contextRequested=!1;this.dispatchEvent(new ge("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&
(this.__contextRequested=!1,this.dispatchEvent(new ca("context3DCreate")))},__renderCairo:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderCanvas:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderDOM:function(a,b){this.visible&&(this.__contextRequested&&null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(g.context=this.__renderContext,this.__resetContext3DStates()))},
__renderGL:function(a,b){this.visible&&(this.__contextRequested&&null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(this.__resetContext3DStates(),null!=this.context3D&&(b.blendModeManager.setBlendMode(null),null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=this.context3D.__program&&this.context3D.__program.__use())),va.debug&&b.gl.__context.getError()))},__resize:function(a,b){null!=this.__canvas&&(this.__canvas.width=a,this.__canvas.height=b)},__resetContext3DStates:function(){this.context3D.__updateBlendFactors();
this.context3D.__updateBackbufferViewport()},set_x:function(a){if(this.x==a)return a;this.x=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},set_y:function(a){if(this.y==a)return a;this.y=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},__class__:Fh,__properties__:{set_y:"set_y",set_x:"set_x"}});var tg={};m["openfl.display._StageAlign.StageAlign_Impl_"]=tg;tg.__name__=["openfl","display","_StageAlign","StageAlign_Impl_"];tg.fromString=function(a){switch(a){case "bottom":return 0;
case "bottomLeft":return 1;case "bottomRight":return 2;case "left":return 3;case "right":return 4;case "top":return 5;case "topLeft":return 6;case "topRight":return 7;default:return null}};tg.toString=function(a){switch(a){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var Gl={};m["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=Gl;
Gl.__name__=["openfl","display","_StageDisplayState","StageDisplayState_Impl_"];Gl.fromString=function(a){switch(a){case "fullScreen":return 0;case "fullScreenInteractive":return 1;case "normal":return 2;default:return null}};Gl.toString=function(a){switch(a){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var Qj={};m["openfl.display._StageQuality.StageQuality_Impl_"]=Qj;Qj.__name__=["openfl","display","_StageQuality","StageQuality_Impl_"];
Qj.fromString=function(a){switch(a){case "best":return 0;case "high":return 1;case "low":return 2;case "medium":return 3;default:return null}};Qj.toString=function(a){switch(a){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var Rj={};m["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=Rj;Rj.__name__=["openfl","display","_StageScaleMode","StageScaleMode_Impl_"];Rj.fromString=function(a){switch(a){case "exactFit":return 0;case "noBorder":return 1;
case "noScale":return 2;case "showAll":return 3;default:return null}};Rj.toString=function(a){switch(a){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}};var Hl={};m["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=Hl;Hl.__name__=["openfl","display","_TriangleCulling","TriangleCulling_Impl_"];Hl.fromString=function(a){switch(a){case "negative":return 0;case "none":return 1;case "positive":return 2;default:return null}};Hl.toString=
function(a){switch(a){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var np=function(a){Kh.call(this,a)};m["openfl.display.Window"]=np;np.__name__=["openfl","display","Window"];np.__super__=Kh;np.prototype=z(Kh.prototype,{create:function(a){Kh.prototype.create.call(this,a);this.stage=new Fl(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);if(Object.prototype.hasOwnProperty.call(this.config,"parameters"))try{this.stage.get_loaderInfo().parameters=
this.config.parameters}catch(b){Qa.lastException=b}Object.prototype.hasOwnProperty.call(this.config,"resizable")&&!this.config.resizable&&this.stage.__setLogicalSize(this.config.width,this.config.height);a.addModule(this.stage)},__class__:np});var bc=function(a,b){this.profile=this.totalGPUMemory=0;this.enableErrorChecking=!1;this.driverInfo="OpenGL (Direct blitting)";this.backBufferHeight=this.backBufferWidth=0;za.call(this);this.__stage3D=a;this.__renderSession=b;this.__vertexConstants=new pc(512);
this.__fragmentConstants=new pc(512);var c=[1,1,1,1];this.__positionScale=null!=c?new pc(c):null;this.__samplerDirty=0;this.__samplerTextures=x.toObjectVector(null,8);this.__samplerStates=[];for(c=0;8>c;){var d=c++;this.__samplerStates[d]=new mp(9729,9729,33071,33071)}this.maxBackBufferHeight=this.maxBackBufferWidth=g.context.__context.getParameter(3386);this.__backBufferAntiAlias=0;this.__backBufferEnableDepthAndStencil=!0;this.__backBufferWantsBestResolution=!1;this.__frameCount=0;this.__rttDepthAndStencil=
!1;this.__stencilRef=this.__stencilCompareMode=this.__samplerDirty=0;this.__stencilReadMask=255;c=g.context.__context.getExtension("EXT_texture_filter_anisotropic");null!=c&&Object.prototype.hasOwnProperty.call(c,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=g.context.__context.getExtension("MOZ_EXT_texture_filter_anisotropic"));null!=c&&Object.prototype.hasOwnProperty.call(c,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=g.context.__context.getExtension("WEBKIT_EXT_texture_filter_anisotropic"));this.__supportsPackedDepthStencil=
!0;bc.DEPTH_STENCIL=34041;if(this.__supportsAnisotropicFiltering=null!=c)bc.TEXTURE_MAX_ANISOTROPY_EXT=c.TEXTURE_MAX_ANISOTROPY_EXT,this.__maxAnisotropyTexture2D=this.__maxAnisotropyTexture2D=c=g.context.__context.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.__stats=x.toIntVector(null,11);this.__statsCache=x.toIntVector(null,11);va.CheckGLError();c=g.context.__context.getParameter(7936);va.CheckGLError();d=g.context.__context.getParameter(7938);va.CheckGLError();var e=g.context.__context.getParameter(7937);
va.CheckGLError();var f=g.context.__context.getParameter(35724);va.CheckGLError();this.driverInfo="OpenGL Vendor="+c+" Version="+d+" Renderer="+e+" GLSL="+f;c=0;for(d=this.__stats.get_length();c<d;)e=c++,this.__stats.set(e,0);bc.__stateCache.clearSettings()};m["openfl.display3D.Context3D"]=bc;bc.__name__=["openfl","display3D","Context3D"];bc.__super__=za;bc.prototype=z(za.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,enableErrorChecking:null,maxBackBufferHeight:null,maxBackBufferWidth:null,
profile:null,totalGPUMemory:null,__backBufferAntiAlias:null,__backBufferEnableDepthAndStencil:null,__backBufferWantsBestResolution:null,__depthRenderBuffer:null,__depthStencilRenderBuffer:null,__fragmentConstants:null,__framebuffer:null,__frameCount:null,__maxAnisotropyCubeTexture:null,__maxAnisotropyTexture2D:null,__positionScale:null,__program:null,__renderSession:null,__renderToTexture:null,__rttDepthAndStencil:null,__samplerDirty:null,__samplerTextures:null,__samplerStates:null,__scissorRectangle:null,
__stage3D:null,__stats:null,__statsCache:null,__stencilCompareMode:null,__stencilRef:null,__stencilReadMask:null,__stencilRenderBuffer:null,__supportsAnisotropicFiltering:null,__supportsPackedDepthStencil:null,__vertexConstants:null,clear:function(a,b,c,d,e,f,h){null==h&&(h=7);null==f&&(f=0);null==e&&(e=1);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);var m=0;0!=(h&1)&&(m|=16384,g.context.__context.clearColor(a,b,c,d),va.CheckGLError());0!=(h&2)&&(m|=256,g.context.__context.depthMask(!0),
g.context.__context.clearDepth(e),va.CheckGLError());0!=(h&4)&&(m|=1024,g.context.__context.clearStencil(f),va.CheckGLError());g.context.__context.clear(m);va.CheckGLError()},configureBackBuffer:function(a,b,c,d,e,f){null==e&&(e=!1);null==d&&(d=!0);this.__updateBackbufferViewport();this.backBufferWidth=a;this.backBufferHeight=b;this.__backBufferAntiAlias=c;this.__backBufferEnableDepthAndStencil=d;this.__backBufferWantsBestResolution=e;bc.__stateCache.clearSettings()},createCubeTexture:function(a,
b,c,d){null==d&&(d=0);return new lj(this,a,b,c,d)},createIndexBuffer:function(a,b){null==b&&(b=1);return new Ur(this,a,Gh.toString(b))},createProgram:function(){return new Sj(this)},createRectangleTexture:function(a,b,c,d){return new Tj(this,a,b,$g.toString(c),d)},createTexture:function(a,b,c,d,e){null==e&&(e=0);return new Ff(this,a,b,c,d,e)},createVertexBuffer:function(a,b,c){null==c&&(c=1);return new Vr(this,a,b,Gh.toString(c))},createVideoTexture:function(){return new yp(this)},dispose:function(){},
drawToBitmapData:function(a){if(null!=a){var b=this.__stage3D.__stage.window;null!=b&&(b=b.renderer.readPixels(),a.image.copyPixels(b,b.get_rect(),new Oc))}},drawTriangles:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);if(null!=this.__program){this.__flushSamplerState();this.__program.__flush();c=-1==c?a.__numIndices:3*c;g.context.__context.bindBuffer(34963,a.__id);va.CheckGLError();a=a.__elementType;var d=g.context;b=E.fromInt(b);d.__context.drawElements(4,c,a,E.toValue(b));va.CheckGLError();this.__statsIncrement(0)}},
present:function(){this.__statsSendToTelemetry();this.__statsClear(0);this.__frameCount++},setBlendFactors:function(a,b){var c=bc.__stateCache.updateBlendSrcFactor(a),d=bc.__stateCache.updateBlendDestFactor(b);(c||d)&&this.__updateBlendFactors()},setColorMask:function(a,b,c,d){g.context.__context.colorMask(a,b,c,d)},setCulling:function(a){if(bc.__stateCache.updateCullingMode(a))switch(a){case 0:g.context.__context.enable(2884);g.context.__context.cullFace(1028);break;case 1:g.context.__context.enable(2884);
g.context.__context.cullFace(1029);break;case 2:g.context.__context.enable(2884);g.context.__context.cullFace(1032);break;case 3:g.context.__context.disable(2884);break;default:throw new H(new rc);}},setDepthTest:function(a,b){var c=this.__backBufferEnableDepthAndStencil;bc.__stateCache.updateDepthTestEnabled(c)&&(c?g.context.__context.enable(2929):g.context.__context.disable(2929));bc.__stateCache.updateDepthTestMask(a)&&g.context.__context.depthMask(a);if(bc.__stateCache.updateDepthCompareMode(b))switch(b){case 0:g.context.__context.depthFunc(519);
break;case 1:g.context.__context.depthFunc(514);break;case 2:g.context.__context.depthFunc(516);break;case 3:g.context.__context.depthFunc(518);break;case 4:g.context.__context.depthFunc(513);break;case 5:g.context.__context.depthFunc(515);break;case 6:g.context.__context.depthFunc(512);break;case 7:g.context.__context.depthFunc(517);break;default:throw new H(new rc);}},setProgram:function(a){if(null==a)throw new H(new rc);if(bc.__stateCache.updateProgram3D(a))for(a.__use(),a.__setPositionScale(this.__positionScale),
this.__program=a,this.__samplerDirty|=this.__program.__samplerUsageMask,a=0;8>a;){var b=a++;this.__samplerStates[b].copyFrom(this.__program.__getSamplerState(b))}},setProgramConstantsFromByteArray:function(a,b,c,d,e){if(0!=c){-1==c&&(c=(Na.get_length(d)>>2)-e);var f=(a=1==a)?this.__vertexConstants:this.__fragmentConstants,g=Na.toBytes(d);d=Na.get_length(d);d=null==d?new pc(g.b.bufferValue,0):new pc(g.b.bufferValue,0,d);g=4*b;e=Q.toFloat(e)/Q.toFloat(4)|0;for(var h=0,m=4*c;h<m;){var q=h++;f[g+q]=d[e+
q]}null!=this.__program&&this.__program.__markDirty(a,b,c)}},setProgramConstantsFromMatrix:function(a,b,c,d){null==d&&(d=!1);var e=(a=1==a)?this.__vertexConstants:this.__fragmentConstants;c=c.rawData;var f=4*b;d?(e[f++]=c.get(0),e[f++]=c.get(4),e[f++]=c.get(8),e[f++]=c.get(12),e[f++]=c.get(1),e[f++]=c.get(5),e[f++]=c.get(9),e[f++]=c.get(13),e[f++]=c.get(2),e[f++]=c.get(6),e[f++]=c.get(10),e[f++]=c.get(14),e[f++]=c.get(3),e[f++]=c.get(7),e[f++]=c.get(11)):(e[f++]=c.get(0),e[f++]=c.get(1),e[f++]=c.get(2),
e[f++]=c.get(3),e[f++]=c.get(4),e[f++]=c.get(5),e[f++]=c.get(6),e[f++]=c.get(7),e[f++]=c.get(8),e[f++]=c.get(9),e[f++]=c.get(10),e[f++]=c.get(11),e[f++]=c.get(12),e[f++]=c.get(13),e[f++]=c.get(14));e[f++]=c.get(15);null!=this.__program&&this.__program.__markDirty(a,b,4)},setProgramConstantsFromVector:function(a,b,c,d){null==d&&(d=-1);if(0!=d){-1==d&&(d=c.get_length()>>2);for(var e=(a=1==a)?this.__vertexConstants:this.__fragmentConstants,f=0,g=4*b,h=0,m=d;h<m;)h++,e[g++]=c.get(f++),e[g++]=c.get(f++),
e[g++]=c.get(f++),e[g++]=c.get(f++);null!=this.__program&&this.__program.__markDirty(a,b,d)}},setRenderToBackBuffer:function(){g.context.__context.bindFramebuffer(36160,null);va.CheckGLError();g.context.__context.frontFace(2305);va.CheckGLError();this.__scissorRectangle=this.__renderToTexture=null;this.__updateBackbufferViewport();this.__updateScissorRectangle();this.__updateDepthAndStencilState();this.__positionScale[1]=1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale)},
setRenderToTexture:function(a,b,c,d){null==b&&(b=!1);d=c=0;null==this.__framebuffer&&(this.__framebuffer=g.context.__context.createFramebuffer(),va.CheckGLError());g.context.__context.bindFramebuffer(36160,this.__framebuffer);va.CheckGLError();if(y.__instanceof(a,Ff))c=a.__width,d=a.__height,g.context.__context.framebufferTexture2D(36160,36064,3553,a.__textureID,0),va.CheckGLError();else if(y.__instanceof(a,Tj))c=a.__width,d=a.__height,g.context.__context.framebufferTexture2D(36160,36064,3553,a.__textureID,
0),va.CheckGLError();else if(y.__instanceof(a,lj)){d=c=a.__size;for(var e=0;6>e;){var f=e++;g.context.__context.framebufferTexture2D(36160,36064,34069+f,a.__textureID,0);va.CheckGLError()}}else throw new H(new sa("Invalid texture"));b&&(this.__supportsPackedDepthStencil?(null==this.__depthStencilRenderBuffer&&(this.__depthStencilRenderBuffer=g.context.__context.createRenderbuffer(),va.CheckGLError()),g.context.__context.bindRenderbuffer(36161,this.__depthStencilRenderBuffer),va.CheckGLError(),g.context.__context.renderbufferStorage(36161,
bc.DEPTH_STENCIL,c,d),va.CheckGLError(),g.context.__context.framebufferRenderbuffer(36160,33306,36161,this.__depthStencilRenderBuffer)):(null==this.__depthRenderBuffer&&(this.__depthRenderBuffer=g.context.__context.createRenderbuffer(),va.CheckGLError()),null==this.__stencilRenderBuffer&&(this.__stencilRenderBuffer=g.context.__context.createRenderbuffer(),va.CheckGLError()),g.context.__context.bindRenderbuffer(36161,this.__depthRenderBuffer),va.CheckGLError(),g.context.__context.renderbufferStorage(36161,
33189,c,d),va.CheckGLError(),g.context.__context.bindRenderbuffer(36161,this.__stencilRenderBuffer),va.CheckGLError(),g.context.__context.renderbufferStorage(36161,36168,c,d),va.CheckGLError(),g.context.__context.framebufferRenderbuffer(36160,36096,36161,this.__depthRenderBuffer),va.CheckGLError(),g.context.__context.framebufferRenderbuffer(36160,36128,36161,this.__stencilRenderBuffer)),va.CheckGLError(),g.context.__context.bindRenderbuffer(36161,null),va.CheckGLError());this.__setViewport(0,0,c,
d);this.enableErrorChecking&&36053!=g.context.__context.checkFramebufferStatus(36160)&&Aa.trace("Error: Context3D.setRenderToTexture status:${code} width:${texture2D.__width} height:${texture2D.__height}",{fileName:"Context3D.hx",lineNumber:813,className:"openfl.display3D.Context3D",methodName:"setRenderToTexture"});this.__positionScale[1]=-1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale);g.context.__context.frontFace(2304);va.CheckGLError();this.__renderToTexture=a;
this.__scissorRectangle=null;this.__rttDepthAndStencil=b;this.__updateScissorRectangle();this.__updateDepthAndStencilState()},setSamplerStateAt:function(a,b,c,d){if(0>a||8<a)throw new H(new sa("sampler out of range"));a=this.__samplerStates[a];switch(b){case 0:a.set_wrapModeS(33071);a.set_wrapModeT(33071);break;case 1:a.set_wrapModeS(33071);a.set_wrapModeT(10497);break;case 2:a.set_wrapModeS(10497);a.set_wrapModeT(10497);break;case 3:a.set_wrapModeS(10497);a.set_wrapModeT(33071);break;default:throw new H(new sa("wrap bad enum"));
}switch(c){case 0:this.__supportsAnisotropicFiltering&&a.set_maxAniso(16>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:16);break;case 1:this.__supportsAnisotropicFiltering&&a.set_maxAniso(2>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:2);break;case 2:this.__supportsAnisotropicFiltering&&a.set_maxAniso(4>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:4);break;case 3:this.__supportsAnisotropicFiltering&&a.set_maxAniso(8>this.__maxAnisotropyTexture2D?this.__maxAnisotropyTexture2D:
8);break;case 4:a.set_magFilter(9729);this.__supportsAnisotropicFiltering&&a.set_maxAniso(1);break;case 5:a.set_magFilter(9728);this.__supportsAnisotropicFiltering&&a.set_maxAniso(1);break;default:throw new H(new sa("filter bad enum"));}switch(d){case 0:a.set_minFilter(5==c?9986:9987);break;case 1:a.set_minFilter(5==c?9984:9985);break;case 2:a.set_minFilter(5==c?9728:9729);break;default:throw new H(new sa("mipfiter bad enum"));}},setScissorRectangle:function(a){this.__scissorRectangle=null!=a?a.clone():
null;this.__updateScissorRectangle()},setStencilActions:function(a,b,c,d,e){null==e&&(e=5);null==d&&(d=5);null==c&&(c=5);null==b&&(b=0);this.__stencilCompareMode=b;a=this.__getGLStencilAction(d);e=this.__getGLStencilAction(e);c=this.__getGLStencilAction(c);g.context.__context.stencilOp(a,e,c);c=this.__getGLCompareMode(this.__stencilCompareMode);g.context.__context.stencilFunc(c,this.__stencilRef,this.__stencilReadMask)},setStencilReferenceValue:function(a,b,c){null==c&&(c=255);null==b&&(b=255);this.__stencilReadMask=
b;this.__stencilRef=a;a=this.__getGLCompareMode(this.__stencilCompareMode);g.context.__context.stencilFunc(a,this.__stencilRef,this.__stencilReadMask);g.context.__context.stencilMask(c)},setTextureAt:function(a,b){this.__samplerTextures.get(a)!=b&&(this.__samplerTextures.set(a,b),this.__samplerDirty|=1<<a)},setVertexBufferAt:function(a,b,c,d){null==d&&(d=4);null==c&&(c=0);if(null==b)g.context.__context.disableVertexAttribArray(a),va.CheckGLError(),g.context.__context.bindBuffer(34962,null),va.CheckGLError();
else switch(g.context.__context.enableVertexAttribArray(a),va.CheckGLError(),g.context.__context.bindBuffer(34962,b.__id),va.CheckGLError(),c*=4,d){case 0:b=b.__stride;c=E.fromInt(c);g.context.__context.vertexAttribPointer(a,4,5121,!0,b,E.toValue(c));va.CheckGLError();break;case 1:b=b.__stride;c=E.fromInt(c);g.context.__context.vertexAttribPointer(a,1,5126,!1,b,E.toValue(c));va.CheckGLError();break;case 2:b=b.__stride;c=E.fromInt(c);g.context.__context.vertexAttribPointer(a,2,5126,!1,b,E.toValue(c));
va.CheckGLError();break;case 3:b=b.__stride;c=E.fromInt(c);g.context.__context.vertexAttribPointer(a,3,5126,!1,b,E.toValue(c));va.CheckGLError();break;case 4:b=b.__stride;c=E.fromInt(c);g.context.__context.vertexAttribPointer(a,4,5126,!1,b,E.toValue(c));va.CheckGLError();break;default:throw new H(new rc);}},__flushSamplerState:function(){for(var a=0;0!=this.__samplerDirty;){if(0!=(this.__samplerDirty&1<<a)){bc.__stateCache.updateActiveTextureSample(a)&&(g.context.__context.activeTexture(33984+a),
va.CheckGLError());var b=this.__samplerTextures.get(a);if(null!=b){var c=b.__textureTarget,d=b.__getTexture();g.context.__context.bindTexture(c,d);va.CheckGLError();b.__setSamplerState(this.__samplerStates[a])}else g.context.__context.bindTexture(3553,null),va.CheckGLError();this.__samplerDirty&=~(1<<a)}++a}},__getGLCompareMode:function(a){switch(a){case 0:return 519;case 1:return 514;case 2:return 516;case 3:return 518;case 4:return 513;case 5:return 515;case 6:return 512;case 7:return 517;default:return 514}},
__getGLStencilAction:function(a){switch(a){case 0:return 7683;case 1:return 34056;case 2:return 7682;case 3:return 34055;case 4:return 5386;case 5:return 7680;case 6:return 7681;case 7:return 0;default:return 7680}},__hasGLExtension:function(a){return-1!=g.context.__context.getSupportedExtensions().indexOf(a)},__setViewport:function(a,b,c,d){null!=this.__renderToTexture&&(b*=-1);bc.__stateCache.updateViewport(a,b,c,d)&&(g.context.__context.viewport(a,b,c,d),va.CheckGLError())},__statsAdd:function(a,
b){var c=this.__stats;c.set(a,c.get(a)+b);return this.__stats.get(a)},__statsClear:function(a){this.__stats.set(a,0)},__statsDecrement:function(a){var b=this.__stats;b.set(a,b.get(a)-1)},__statsIncrement:function(a){var b=this.__stats;b.set(a,b.get(a)+1)},__statsSendToTelemetry:function(){},__statsSubtract:function(a,b){var c=this.__stats;c.set(a,c.get(a)-b);return this.__stats.get(a)},__updateDepthAndStencilState:function(){(null!=this.__renderToTexture?this.__rttDepthAndStencil:this.__backBufferEnableDepthAndStencil)?
(g.context.__context.enable(2929),va.CheckGLError(),g.context.__context.enable(2960)):(g.context.__context.disable(2929),va.CheckGLError(),g.context.__context.disable(2960));va.CheckGLError()},__updateBlendFactors:function(){if(null!=bc.__stateCache._srcBlendFactor&&null!=bc.__stateCache._destBlendFactor){var a=1,b=0;switch(bc.__stateCache._srcBlendFactor){case 0:a=772;break;case 1:a=774;break;case 2:a=1;break;case 3:a=773;break;case 4:a=775;break;case 5:a=771;break;case 7:a=770;break;case 9:a=0;
break;default:throw new H(new rc);}switch(bc.__stateCache._destBlendFactor){case 0:b=772;break;case 2:b=1;break;case 3:b=773;break;case 5:b=771;break;case 6:b=769;break;case 7:b=770;break;case 8:b=768;break;case 9:b=0;break;default:throw new H(new rc);}g.context.__context.enable(3042);va.CheckGLError();g.context.__context.blendFunc(a,b);va.CheckGLError()}},__updateScissorRectangle:function(){if(null==this.__scissorRectangle)g.context.__context.disable(3089);else{g.context.__context.enable(3089);va.CheckGLError();
var a=0,b=0,c=0;null!=this.__renderToTexture?y.__instanceof(this.__renderToTexture,Ff)?a=this.__renderToTexture.__height:y.__instanceof(this.__renderToTexture,Tj)&&(a=this.__renderToTexture.__height):(a=this.backBufferHeight,b=this.__stage3D.x|0,c=this.__stage3D.y|0);g.context.__context.scissor((this.__scissorRectangle.x|0)+b,a-(this.__scissorRectangle.y|0)-(this.__scissorRectangle.height|0)+c,this.__scissorRectangle.width|0,this.__scissorRectangle.height|0)}va.CheckGLError()},__updateBackbufferViewport:function(){Fh.__active||
(Fh.__active=!0,this.__renderSession.renderer.clear());null==this.__renderToTexture&&0<this.backBufferWidth&&0<this.backBufferHeight&&this.__setViewport(this.__stage3D.x|0,this.__stage3D.y|0,this.backBufferWidth,this.backBufferHeight)},set_enableErrorChecking:function(a){return this.enableErrorChecking=va.debug=a},__class__:bc,__properties__:{set_enableErrorChecking:"set_enableErrorChecking"}});var uf={};m["openfl.display3D._Context3D.Context3DTelemetry_Impl_"]=uf;uf.__name__=["openfl","display3D",
"_Context3D","Context3DTelemetry_Impl_"];var vf={};m["openfl.display3D._Context3DBlendFactor.Context3DBlendFactor_Impl_"]=vf;vf.__name__=["openfl","display3D","_Context3DBlendFactor","Context3DBlendFactor_Impl_"];vf.fromString=function(a){switch(a){case "destinationAlpha":return 0;case "destinationColor":return 1;case "one":return 2;case "oneMinusDestinationAlpha":return 3;case "oneMinusDestinationColor":return 4;case "oneMinusSourceAlpha":return 5;case "oneMinusSourceColor":return 6;case "sourceAlpha":return 7;
case "sourceColor":return 8;case "zero":return 9;default:return null}};vf.toString=function(a){switch(a){case 0:return"destinationAlpha";case 1:return"destinationColor";case 2:return"one";case 3:return"oneMinusDestinationAlpha";case 4:return"oneMinusDestinationColor";case 5:return"oneMinusSourceAlpha";case 6:return"oneMinusSourceColor";case 7:return"sourceAlpha";case 8:return"sourceColor";case 9:return"zero";default:return null}};var Gh={};m["openfl.display3D._Context3DBufferUsage.Context3DBufferUsage_Impl_"]=
Gh;Gh.__name__=["openfl","display3D","_Context3DBufferUsage","Context3DBufferUsage_Impl_"];Gh.fromString=function(a){switch(a){case "dynamicDraw":return 0;case "staticDraw":return 1;default:return null}};Gh.toString=function(a){switch(a){case 0:return"dynamicDraw";case 1:return"staticDraw";default:return null}};var ug={};m["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=ug;ug.__name__=["openfl","display3D","_Context3DCompareMode","Context3DCompareMode_Impl_"];ug.fromString=function(a){switch(a){case "always":return 0;
case "equal":return 1;case "greater":return 2;case "greaterEqual":return 3;case "less":return 4;case "lessEqual":return 5;case "never":return 6;case "notEqual":return 7;default:return null}};ug.toString=function(a){switch(a){case 0:return"always";case 1:return"equal";case 2:return"greater";case 3:return"greaterEqual";case 4:return"less";case 5:return"lessEqual";case 6:return"never";case 7:return"notEqual";default:return null}};var Il={};m["openfl.display3D._Context3DMipFilter.Context3DMipFilter_Impl_"]=
Il;Il.__name__=["openfl","display3D","_Context3DMipFilter","Context3DMipFilter_Impl_"];Il.fromString=function(a){switch(a){case "miplinear":return 0;case "mipnearest":return 1;case "mipnone":return 2;default:return null}};Il.toString=function(a){switch(a){case 0:return"miplinear";case 1:return"mipnearest";case 2:return"mipnone";default:return null}};var lh={};m["openfl.display3D._Context3DProfile.Context3DProfile_Impl_"]=lh;lh.__name__=["openfl","display3D","_Context3DProfile","Context3DProfile_Impl_"];
lh.fromString=function(a){switch(a){case "baseline":return 0;case "baselineConstrained":return 1;case "baselineExtended":return 2;case "standard":return 3;case "standardConstrained":return 4;default:return null}};lh.toString=function(a){switch(a){case 0:return"baseline";case 1:return"baselineConstrained";case 2:return"baselineExtended";case 3:return"standard";case 4:return"standardConstrained";default:return null}};var Se={};m["openfl.display3D._Context3DProgramType.Context3DProgramType_Impl_"]=Se;
Se.__name__=["openfl","display3D","_Context3DProgramType","Context3DProgramType_Impl_"];Se.fromString=function(a){switch(a){case "fragment":return 0;case "vertex":return 1;default:return null}};Se.toString=function(a){switch(a){case 0:return"fragment";case 1:return"vertex";default:return null}};var zp={};m["openfl.display3D._Context3DRenderMode.Context3DRenderMode_Impl_"]=zp;zp.__name__=["openfl","display3D","_Context3DRenderMode","Context3DRenderMode_Impl_"];zp.fromString=function(a){switch(a){case "auto":return 0;
case "software":return 1;default:return null}};zp.toString=function(a){switch(a){case 0:return"auto";case 1:return"software";default:return null}};var vg={};m["openfl.display3D._Context3DStencilAction.Context3DStencilAction_Impl_"]=vg;vg.__name__=["openfl","display3D","_Context3DStencilAction","Context3DStencilAction_Impl_"];vg.fromString=function(a){switch(a){case "decrementSaturate":return 0;case "decrementWrap":return 1;case "incrementSaturate":return 2;case "incrementWrap":return 3;case "invert":return 4;
case "keep":return 5;case "set":return 6;case "zero":return 7;default:return null}};vg.toString=function(a){switch(a){case 0:return"decrementSaturate";case 1:return"decrementWrap";case 2:return"incrementSaturate";case 3:return"incrementWrap";case 4:return"invert";case 5:return"keep";case 6:return"set";case 7:return"zero";default:return null}};var Hh={};m["openfl.display3D._Context3DTextureFilter.Context3DTextureFilter_Impl_"]=Hh;Hh.__name__=["openfl","display3D","_Context3DTextureFilter","Context3DTextureFilter_Impl_"];
Hh.fromString=function(a){switch(a){case "anisotropic16x":return 0;case "anisotropic2x":return 1;case "anisotropic4x":return 2;case "anisotropic8x":return 3;case "linear":return 4;case "nearest":return 5;default:return null}};Hh.toString=function(a){switch(a){case 0:return"anisotropic16x";case 1:return"anisotropic2x";case 2:return"anisotropic4x";case 3:return"anisotropic8x";case 4:return"linear";case 5:return"nearest";default:return null}};var $g={};m["openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_"]=
$g;$g.__name__=["openfl","display3D","_Context3DTextureFormat","Context3DTextureFormat_Impl_"];$g.fromString=function(a){switch(a){case "bgrPacked565":return 0;case "bgra":return 1;case "bgraPacked4444":return 2;case "compressed":return 3;case "compressedAlpha":return 4;case "rgbaHalfFloat":return 5;default:return null}};$g.toString=function(a){switch(a){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";
default:return null}};var Uj={};m["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=Uj;Uj.__name__=["openfl","display3D","_Context3DTriangleFace","Context3DTriangleFace_Impl_"];Uj.fromString=function(a){switch(a){case "back":return 0;case "front":return 1;case "frontAndBack":return 2;case "none":return 3;default:return null}};Uj.toString=function(a){switch(a){case 0:return"back";case 1:return"front";case 2:return"frontAndBack";case 3:return"none";default:return null}};var wi=
{};m["openfl.display3D._Context3DVertexBufferFormat.Context3DVertexBufferFormat_Impl_"]=wi;wi.__name__=["openfl","display3D","_Context3DVertexBufferFormat","Context3DVertexBufferFormat_Impl_"];wi.fromString=function(a){switch(a){case "bytes4":return 0;case "float1":return 1;case "float2":return 2;case "float3":return 3;case "float4":return 4;default:return null}};wi.toString=function(a){switch(a){case 0:return"bytes4";case 1:return"float1";case 2:return"float2";case 3:return"float3";case 4:return"float4";
default:return null}};var Vj={};m["openfl.display3D._Context3DWrapMode.Context3DWrapMode_Impl_"]=Vj;Vj.__name__=["openfl","display3D","_Context3DWrapMode","Context3DWrapMode_Impl_"];Vj.fromString=function(a){switch(a){case "clamp":return 0;case "clamp_u_repeat_y":return 1;case "repeat":return 2;case "repeat_u_clamp_y":return 3;default:return null}};Vj.toString=function(a){switch(a){case 0:return"clamp";case 1:return"clamp_u_repeat_y";case 2:return"repeat";case 3:return"repeat_u_clamp_y";default:return null}};
var Ur=function(a,b,c){this.__context=a;this.__numIndices=b;this.__elementType=5123;this.__id=g.context.__context.createBuffer();va.CheckGLError();this.__usage=0==Gh.fromString(c)?35048:35044;this.__context.__statsIncrement(1);this.__memoryUsage=0};m["openfl.display3D.IndexBuffer3D"]=Ur;Ur.__name__=["openfl","display3D","IndexBuffer3D"];Ur.prototype={__context:null,__elementType:null,__id:null,__memoryUsage:null,__numIndices:null,__usage:null,dispose:function(){g.context.__context.deleteBuffer(this.__id);
this.__context.__statsDecrement(1);this.__context.__statsSubtract(6,this.__memoryUsage);this.__memoryUsage=0},uploadFromByteArray:function(a,b,c,d){b+=2*c;a=Na.toArrayBuffer(a);d=null!=a?null==d?new Int16Array(a,b):new Int16Array(a,b,d):null;this.uploadFromTypedArray(d)},uploadFromTypedArray:function(a){null!=a&&(g.context.__context.bindBuffer(34963,this.__id),va.CheckGLError(),pd.bufferData(pd.fromGL(g),34963,a,this.__usage),va.CheckGLError(),a.byteLength!=this.__memoryUsage&&(this.__context.__statsAdd(6,
a.byteLength-this.__memoryUsage),this.__memoryUsage=a.byteLength))},uploadFromVector:function(a,b,c){var d=b+c;c=null!=c?new Int16Array(c):null;for(var e=b;e<d;){var f=e++;c[f-b]=a.get(f)}this.uploadFromTypedArray(c)},__class__:Ur};var Sj=function(a){this.__context=a;this.__samplerUsageMask=this.__memUsage=0;this.__uniforms=new Bd;this.__samplerUniforms=new Bd;this.__alphaSamplerUniforms=new Bd;this.__samplerStates=x.toObjectVector(null,8)};m["openfl.display3D.Program3D"]=Sj;Sj.__name__=["openfl",
"display3D","Program3D"];Sj.prototype={__alphaSamplerUniforms:null,__context:null,__fragmentShaderID:null,__fragmentSource:null,__fragmentUniformMap:null,__memUsage:null,__positionScale:null,__programID:null,__samplerStates:null,__samplerUniforms:null,__samplerUsageMask:null,__uniforms:null,__vertexShaderID:null,__vertexSource:null,__vertexUniformMap:null,dispose:function(){this.__deleteShaders()},upload:function(a,b){var c=[],d=oe.convertToGLSL(a,null),e=oe.convertToGLSL(b,c);this.__uploadFromGLSL(d,
e);d=0;for(e=c.length;d<e;){var f=d++;this.__setSamplerState(f,c[f])}},__buildUniformList:function(){this.__uniforms.clear();this.__samplerUniforms.clear();this.__alphaSamplerUniforms.clear();var a=this.__samplerUsageMask=0,a=g.context.__context.getProgramParameter(this.__programID,35718);va.CheckGLError();for(var b=new Bd,c=new Bd,d=0;d<a;){var e=d++,f=g.context.__context.getActiveUniform(this.__programID,e),k=f.name,m=f.size,q=f.type;va.CheckGLError();f=new Wr;f.name=k;f.size=m;f.type=q;f.location=
g.context.__context.getUniformLocation(this.__programID,f.name);va.CheckGLError();k=f.name.indexOf("[");0<=k&&(f.name=f.name.substring(0,k));switch(f.type){case 35674:f.regCount=2;break;case 35675:f.regCount=3;break;case 35676:f.regCount=4;break;default:f.regCount=1}f.regCount*=f.size;this.__uniforms.add(f);if("vcPositionScale"==f.name)this.__positionScale=f;else if(Da.startsWith(f.name,"vc"))f.regIndex=h.parseInt(f.name.substring(2)),f.regData=this.__context.__vertexConstants,b.add(f);else if(Da.startsWith(f.name,
"fc"))f.regIndex=h.parseInt(f.name.substring(2)),f.regData=this.__context.__fragmentConstants,c.add(f);else if(Da.startsWith(f.name,"sampler")&&!Da.endsWith(f.name,"_alpha"))for(f.regIndex=h.parseInt(f.name.substring(7)),this.__samplerUniforms.add(f),k=0,m=f.regCount;k<m;)q=k++,this.__samplerUsageMask|=1<<f.regIndex+q;else Da.startsWith(f.name,"sampler")&&Da.endsWith(f.name,"_alpha")&&(k=f.name.indexOf("_")-7,f.regIndex=h.parseInt(f.name.substring(7,7+k))+4,this.__alphaSamplerUniforms.add(f));Sj.verbose&&
Aa.trace(""+e+" name:"+f.name+" type:"+f.type+" size:"+f.size+" location:"+h.string(f.location),{fileName:"Program3D.hx",lineNumber:180,className:"openfl.display3D.Program3D",methodName:"__buildUniformList"})}this.__vertexUniformMap=new Ap(Qp.array(b));this.__fragmentUniformMap=new Ap(Qp.array(c))},__deleteShaders:function(){null!=this.__programID&&(this.__programID=null);null!=this.__vertexShaderID&&(g.context.__context.deleteShader(this.__vertexShaderID),va.CheckGLError(),this.__vertexShaderID=
null);null!=this.__fragmentShaderID&&(g.context.__context.deleteShader(this.__fragmentShaderID),va.CheckGLError(),this.__fragmentShaderID=null);0!=this.__memUsage&&(this.__context.__statsDecrement(5),this.__context.__statsSubtract(10,this.__memUsage),this.__memUsage=0)},__flush:function(){this.__vertexUniformMap.flush();this.__fragmentUniformMap.flush()},__getSamplerState:function(a){return this.__samplerStates.get(a)},__markDirty:function(a,b,c){a?this.__vertexUniformMap.markDirty(b,c):this.__fragmentUniformMap.markDirty(b,
c)},__setPositionScale:function(a){if(null!=this.__positionScale){var b=this.__positionScale.location;a=E.fromArrayBufferView(a);g.context.__context.uniform4fv(b,E.toFloat32Array(a,16));va.CheckGLError()}},__setSamplerState:function(a,b){this.__samplerStates.set(a,b)},__uploadFromGLSL:function(a,b){this.__deleteShaders();Sj.verbose&&(rb.info(a,{fileName:"Program3D.hx",lineNumber:284,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),rb.info(b,{fileName:"Program3D.hx",lineNumber:285,
className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}));this.__vertexSource=a;this.__fragmentSource=b;this.__vertexShaderID=g.context.__context.createShader(35633);g.context.__context.shaderSource(this.__vertexShaderID,a);va.CheckGLError();g.context.__context.compileShader(this.__vertexShaderID);va.CheckGLError();var c=g.context.__context.getShaderParameter(this.__vertexShaderID,35713);va.CheckGLError();if(0==c)throw c=g.context.__context.getShaderInfoLog(this.__vertexShaderID),null!=
c&&0!=c.length&&Aa.trace("vertex: "+c,{fileName:"Program3D.hx",lineNumber:309,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),new H(new sa("Error compiling vertex shader: "+c));this.__fragmentShaderID=g.context.__context.createShader(35632);g.context.__context.shaderSource(this.__fragmentShaderID,b);va.CheckGLError();g.context.__context.compileShader(this.__fragmentShaderID);va.CheckGLError();if(0==g.context.__context.getShaderParameter(this.__fragmentShaderID,35713))throw c=
g.context.__context.getShaderInfoLog(this.__fragmentShaderID),null!=c&&0!=c.length&&Aa.trace("fragment: "+c,{fileName:"Program3D.hx",lineNumber:332,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),new H(new sa("Error compiling fragment shader: "+c));this.__programID=g.context.__context.createProgram();g.context.__context.attachShader(this.__programID,this.__vertexShaderID);va.CheckGLError();g.context.__context.attachShader(this.__programID,this.__fragmentShaderID);va.CheckGLError();
for(c=0;16>c;){var d=c++,e="va"+d;-1!=a.indexOf(" "+e)&&g.context.__context.bindAttribLocation(this.__programID,d,e)}g.context.__context.linkProgram(this.__programID);c=g.context.__context.getProgramInfoLog(this.__programID);null!=c&&0!=c.length&&Aa.trace("program: "+c,{fileName:"Program3D.hx",lineNumber:365,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"});this.__buildUniformList();this.__memUsage=1;this.__context.__statsIncrement(5);this.__context.__statsAdd(10,this.__memUsage)},
__use:function(){var a=this.__programID;g.__currentProgram=a;g.context.__context.useProgram(a);va.CheckGLError();this.__vertexUniformMap.markAllDirty();this.__fragmentUniformMap.markAllDirty();for(a=this.__samplerUniforms.h;null!=a;){var b=a.item,a=a.next;if(1==b.regCount)g.context.__context.uniform1i(b.location,b.regIndex),va.CheckGLError();else throw new H(new rc("!!! TODO: uniform location on webgl"));}for(a=this.__alphaSamplerUniforms.h;null!=a;)if(b=a.item,a=a.next,1==b.regCount)g.context.__context.uniform1i(b.location,
b.regIndex),va.CheckGLError();else throw new H(new rc("!!! TODO: uniform location on webgl"));},__class__:Sj};var Wr=function(){this.isDirty=!0;this.regDataPointer=new kf(null,0)};m["openfl.display3D._Program3D.Uniform"]=Wr;Wr.__name__=["openfl","display3D","_Program3D","Uniform"];Wr.prototype={name:null,location:null,type:null,size:null,regData:null,regIndex:null,regCount:null,isDirty:null,regDataPointer:null,flush:function(){var a=4*this.regIndex;switch(this.type){case 35664:var b=this.location,
c=this.regCount,a=E.fromArrayBufferView(this.__getRegisters(a,2*this.regCount));g.context.__context.uniform2fv(b,E.toFloat32Array(a,8*c));break;case 35665:b=this.location;c=this.regCount;a=E.fromArrayBufferView(this.__getRegisters(a,3*this.regCount));g.context.__context.uniform3fv(b,E.toFloat32Array(a,12*c));break;case 35666:b=this.location;c=this.regCount;a=E.fromArrayBufferView(this.__getRegisters(a,4*this.regCount));g.context.__context.uniform4fv(b,E.toFloat32Array(a,16*c));break;case 35674:b=
this.location;c=this.size;a=E.fromArrayBufferView(this.__getRegisters(a,4*this.size));g.context.__context.uniformMatrix2fv(b,!1,E.toFloat32Array(a,16*c));break;case 35675:b=this.location;c=this.size;a=E.fromArrayBufferView(this.__getRegisters(a,9*this.size));g.context.__context.uniformMatrix3fv(b,!1,E.toFloat32Array(a,36*c));break;case 35676:b=this.location;c=this.size;a=E.fromArrayBufferView(this.__getRegisters(a,16*this.size));g.context.__context.uniformMatrix4fv(b,!1,E.toFloat32Array(a,64*c));
break;default:b=this.location,c=this.regCount,a=E.fromArrayBufferView(this.__getRegisters(a,4*this.regCount)),g.context.__context.uniform4fv(b,E.toFloat32Array(a,16*c))}va.CheckGLError()},__getRegisters:function(a,b){return this.regData.subarray(a,a+b)},__class__:Wr};var Ap=function(a){this.__uniforms=a;this.__uniforms.sort(function(a,b){return Z.compare(a.regIndex,b.regIndex)});for(var b=a=0,c=this.__uniforms;b<c.length;){var d=c[b];++b;d.regIndex+d.regCount>a&&(a=d.regIndex+d.regCount)}this.__registerLookup=
x.toObjectVector(null,a);a=0;for(b=this.__uniforms;a<b.length;){c=b[a];++a;for(var d=0,e=c.regCount;d<e;){var f=d++;this.__registerLookup.set(c.regIndex+f,c)}}this.__anyDirty=this.__allDirty=!0};m["openfl.display3D._Program3D.UniformMap"]=Ap;Ap.__name__=["openfl","display3D","_Program3D","UniformMap"];Ap.prototype={__allDirty:null,__anyDirty:null,__registerLookup:null,__uniforms:null,flush:function(){if(this.__anyDirty){for(var a=0,b=this.__uniforms;a<b.length;){var c=b[a];++a;if(this.__allDirty||
c.isDirty)c.flush(),c.isDirty=!1}this.__anyDirty=this.__allDirty=!1}},markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},markDirty:function(a,b){if(!this.__allDirty){var c=a+b;c>this.__registerLookup.get_length()&&(c=this.__registerLookup.get_length());for(var d=a;d<c;){var e=this.__registerLookup.get(d);null!=e?(this.__anyDirty=e.isDirty=!0,d=e.regIndex+e.regCount):++d}}},__class__:Ap};var Vr=function(a,b,c,d){this.__context=a;this.__numVertices=b;this.__vertexSize=c;this.__id=g.context.__context.createBuffer();
va.CheckGLError();this.__stride=4*this.__vertexSize;this.__memoryUsage=0;this.__usage=0==Gh.fromString(d)?35048:35044;this.__context.__statsIncrement(2)};m["openfl.display3D.VertexBuffer3D"]=Vr;Vr.__name__=["openfl","display3D","VertexBuffer3D"];Vr.prototype={__context:null,__data:null,__id:null,__memoryUsage:null,__numVertices:null,__stride:null,__tempBytes:null,__usage:null,__vertexSize:null,dispose:function(){g.context.__context.deleteBuffer(this.__id);this.__context.__statsDecrement(2);this.__context.__statsSubtract(7,
this.__memoryUsage);this.__memoryUsage=0},uploadFromByteArray:function(a,b,c,d){b+=c*this.__stride;d*=this.__vertexSize;a=Na.toArrayBuffer(a);a=null!=a?null==d?new pc(a,b):new pc(a,b,d):null;this.uploadFromTypedArray(a)},uploadFromTypedArray:function(a){null!=a&&(g.context.__context.bindBuffer(34962,this.__id),va.CheckGLError(),pd.bufferData(pd.fromGL(g),34962,a,this.__usage),va.CheckGLError(),a.byteLength!=this.__memoryUsage&&(this.__context.__statsAdd(7,a.byteLength-this.__memoryUsage),this.__memoryUsage=
a.byteLength))},uploadFromVector:function(a,b,c){if(null!=a){b*=this.__vertexSize;var d=c*this.__vertexSize;c=b+d;for(var d=null!=d?new pc(d):null,e=b;e<c;){var f=e++;d[f-b]=a.get(f)}this.uploadFromTypedArray(d)}},__class__:Vr};var xc=function(a,b){this.__outputTextureMemoryUsage=!1;za.call(this);this.__context=a;this.__textureTarget=b;this.__textureID=g.context.__context.createTexture();this.__textureContext=g.context;null==xc.__supportsBGRA&&(xc.__textureInternalFormat=6408,xc.__supportsBGRA=!1,
xc.__textureFormat=6408);if(null==xc.__supportsCompressed){var c=g.context.__context.getExtension("WEBGL_compressed_texture_s3tc");null!=c?(xc.__supportsCompressed=!0,xc.__textureFormatCompressed=c.COMPRESSED_RGBA_S3TC_DXT1_EXT,xc.__textureFormatCompressedAlpha=c.COMPRESSED_RGBA_S3TC_DXT5_EXT):xc.__supportsCompressed=!1}this.__internalFormat=xc.__textureInternalFormat;this.__format=xc.__textureFormat;this.__compressedMemoryUsage=this.__memoryUsage=0};m["openfl.display3D.textures.TextureBase"]=xc;
xc.__name__=["openfl","display3D","textures","TextureBase"];xc.__super__=za;xc.prototype=z(za.prototype,{__alphaTexture:null,__compressedMemoryUsage:null,__context:null,__format:null,__height:null,__internalFormat:null,__memoryUsage:null,__optimizeForRenderToTexture:null,__outputTextureMemoryUsage:null,__samplerState:null,__streamingLevels:null,__textureContext:null,__textureID:null,__textureTarget:null,__width:null,dispose:function(){null!=this.__alphaTexture&&this.__alphaTexture.dispose();g.context.__context.deleteTexture(this.__textureID);
0<this.__compressedMemoryUsage&&(this.__context.__statsDecrement(4),this.__context.__statsSubtract(9,this.__compressedMemoryUsage),this.__compressedMemoryUsage=0);0<this.__memoryUsage&&(this.__context.__statsDecrement(3),this.__context.__statsSubtract(8,this.__memoryUsage),this.__memoryUsage=0)},__getATFVersion:function(a){if("ATF"!=a.readUTFBytes(3))throw new H(new rc("ATF signature not found"));var b=a.position,c=0;Q.gte(a.length-a.position,5)&&(255==this.__readUInt32(a)?c=a.readUnsignedByte():
a.position=b);return c},__getImage:function(a){var b=a.image;if(!a.__isValid||null==b)return null;ta.sync(b,!1);b.type==hc.DATA||b.get_premultiplied()?!b.get_premultiplied()&&b.get_transparent()&&(g.context.__context.pixelStorei(37441,0),b=b.clone(),b.set_premultiplied(!0)):g.context.__context.pixelStorei(37441,1);0!=b.get_format()&&(b=b.clone(),b.set_format(0),b.buffer.premultiplied=!0);return b},__getTexture:function(){return this.__textureID},__readUInt24:function(a){var b=a.readUnsignedByte()<<
16,b=b|a.readUnsignedByte()<<8;return b|=a.readUnsignedByte()},__readUInt32:function(a){var b=a.readUnsignedByte()<<24,b=b|a.readUnsignedByte()<<16,b=b|a.readUnsignedByte()<<8;return b|=a.readUnsignedByte()},__setSamplerState:function(a){a.equals(this.__samplerState)||(g.context.__context.bindTexture(this.__textureTarget,this.__textureID),va.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,10241,a.minFilter),va.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,
10240,a.magFilter),va.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,10242,a.wrapModeS),va.CheckGLError(),g.context.__context.texParameteri(this.__textureTarget,10243,a.wrapModeT),va.CheckGLError(),this.__samplerState=a,this.__samplerState.__samplerDirty=!1)},__trackCompressedMemoryUsage:function(a){0==this.__compressedMemoryUsage&&this.__context.__statsIncrement(4);this.__compressedMemoryUsage+=a;this.__context.__statsAdd(9,a);this.__trackMemoryUsage(a)},__trackMemoryUsage:function(a){0==
this.__memoryUsage&&this.__context.__statsIncrement(3);this.__memoryUsage+=a;this.__context.__statsAdd(8,a)},__class__:xc});var lj=function(a,b,c,d,e){xc.call(this,a,34067);this.__size=b;this.__optimizeForRenderToTexture=d;this.__streamingLevels=e;this.__uploadedSides=0};m["openfl.display3D.textures.CubeTexture"]=lj;lj.__name__=["openfl","display3D","textures","CubeTexture"];lj.__super__=xc;lj.prototype=z(xc.prototype,{__size:null,__uploadedSides:null,uploadCompressedTextureFromByteArray:function(a,
b,c){null==c&&(c=!1);var d=this;a.position=b;var e=a.readUTFBytes(3);a.position=b;"ATF"==e&&(g.context.__context.bindTexture(this.__textureTarget,this.__textureID),va.CheckGLError(),this.__uploadATFTextureFromByteArray(a,b));g.context.__context.bindTexture(this.__textureTarget,null);va.CheckGLError();c&&hf.delay(function(){d.dispatchEvent(new ca("textureReady"))},1)},uploadFromBitmapData:function(a,b,c,d){null==c&&(c=0);null!=a&&0!=this.__size>>c&&(a=this.__getImage(a),this.uploadFromTypedArray(a.get_data(),
b,c))},uploadFromByteArray:function(a,b,c,d){null==d&&(d=0);0==b?this.uploadFromTypedArray(a.b,c):(a=Na.toArrayBuffer(a),b=null!=a?new Db(a,b):null,this.uploadFromTypedArray(b,c,d))},uploadFromTypedArray:function(a,b,c){null==c&&(c=0);if(null!=a){var d=this.__size>>c;if(0!=d){var e;switch(b){case 0:e=34069;break;case 1:e=34070;break;case 2:e=34071;break;case 3:e=34072;break;case 4:e=34073;break;case 5:e=34074;break;default:throw new H(new rc);}g.context.__context.bindTexture(34067,this.__textureID);
va.CheckGLError();var f=this.__internalFormat,h=this.__format;a=E.fromArrayBufferView(a);g.context.__context.texImage2D(e,c,f,d,d,0,h,5121,E.toBufferView(a));va.CheckGLError();g.context.__context.bindTexture(this.__textureTarget,null);va.CheckGLError();this.__uploadedSides|=1<<b;this.__trackMemoryUsage(this.__size*this.__size*4)}}},__setSamplerState:function(a){a.equals(this.__samplerState)||(9728==a.minFilter||9729==a.minFilter||a.mipmapGenerated||(g.context.__context.generateMipmap(34067),va.CheckGLError(),
a.mipmapGenerated=!0),0!=a.maxAniso&&(g.context.__context.texParameterf(34067,bc.TEXTURE_MAX_ANISOTROPY_EXT,a.maxAniso),va.CheckGLError()));xc.prototype.__setSamplerState.call(this,a)},__uploadATFTextureFromByteArray:function(a,b){},__class__:lj});var Tj=function(a,b,c,d,e){xc.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.uploadFromTypedArray(null)};m["openfl.display3D.textures.RectangleTexture"]=Tj;Tj.__name__=["openfl","display3D","textures","RectangleTexture"];
Tj.__super__=xc;Tj.prototype=z(xc.prototype,{uploadFromBitmapData:function(a){null!=a&&(a=this.__getImage(a),null!=a&&this.uploadFromTypedArray(a.get_data()))},uploadFromByteArray:function(a,b){if(0==b)this.uploadFromTypedArray(a.b);else{var c=Na.toArrayBuffer(a),c=null!=c?new Db(c,b):null;this.uploadFromTypedArray(c)}},uploadFromTypedArray:function(a){g.context.__context.bindTexture(this.__textureTarget,this.__textureID);va.CheckGLError();var b=this.__textureTarget,c=this.__internalFormat,d=this.__width,
e=this.__height,f=this.__format;a=E.fromArrayBufferView(a);g.context.__context.texImage2D(b,0,c,d,e,0,f,5121,E.toBufferView(a));va.CheckGLError();g.context.__context.bindTexture(this.__textureTarget,null);va.CheckGLError();this.__trackMemoryUsage(this.__width*this.__height*4)},__setSamplerState:function(a){a.equals(this.__samplerState)||0==a.maxAniso||(g.context.__context.texParameterf(3553,bc.TEXTURE_MAX_ANISOTROPY_EXT,a.maxAniso),va.CheckGLError());xc.prototype.__setSamplerState.call(this,a)},__class__:Tj});
var Ff=function(a,b,c,d,e,f){xc.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.__streamingLevels=f;g.context.__context.bindTexture(this.__textureTarget,this.__textureID);va.CheckGLError();a=this.__textureTarget;d=this.__internalFormat;e=this.__format;f=E.fromInt(0);g.context.__context.texImage2D(a,0,d,b,c,0,e,5121,E.toBufferView(f));va.CheckGLError();g.context.__context.bindTexture(this.__textureTarget,null);this.uploadFromTypedArray(null)};m["openfl.display3D.textures.Texture"]=
Ff;Ff.__name__=["openfl","display3D","textures","Texture"];Ff.__super__=xc;Ff.prototype=z(xc.prototype,{uploadCompressedTextureFromByteArray:function(a,b,c){null==c&&(c=!1);var d=this;a.position=b;var e=a.readUTFBytes(3);a.position=b;"ATF"==e&&(g.context.__context.bindTexture(this.__textureTarget,this.__textureID),va.CheckGLError(),this.__uploadATFTextureFromByteArray(a,b));g.context.__context.bindTexture(this.__textureTarget,null);va.CheckGLError();c&&hf.delay(function(){d.dispatchEvent(new ca("textureReady"))},
1)},uploadFromBitmapData:function(a,b,c){null==b&&(b=0);if(null!=a){c=this.__width>>b;var d=this.__height>>b;if(0!=c||0!=d){0==c&&(c=1);0==d&&(d=1);if(a.width!=c||a.height!=d)c=new Ha(c,d,!0,0),c.draw(a),a=c;a=this.__getImage(a);this.uploadFromTypedArray(a.get_data(),b)}}},uploadFromByteArray:function(a,b,c){null==c&&(c=0);0==b?this.uploadFromTypedArray(a.b,c):(a=Na.toArrayBuffer(a),b=null!=a?new Db(a,b):null,this.uploadFromTypedArray(b,c))},uploadFromTypedArray:function(a,b){null==b&&(b=0);if(null!=
a){var c=this.__width>>b,d=this.__height>>b;if(0!=c||0!=d){0==c&&(c=1);0==d&&(d=1);g.context.__context.bindTexture(this.__textureTarget,this.__textureID);va.CheckGLError();var e=this.__textureTarget,f=this.__internalFormat,h=this.__format,m=E.fromArrayBufferView(a);g.context.__context.texImage2D(e,b,f,c,d,0,h,5121,E.toBufferView(m));va.CheckGLError();g.context.__context.bindTexture(this.__textureTarget,null);va.CheckGLError();this.__trackMemoryUsage(c*d*4)}}},__setSamplerState:function(a){a.equals(this.__samplerState)||
(9728==a.minFilter||9729==a.minFilter||a.mipmapGenerated||(g.context.__context.generateMipmap(3553),va.CheckGLError(),a.mipmapGenerated=!0),0!=a.maxAniso&&(g.context.__context.texParameterf(3553,bc.TEXTURE_MAX_ANISOTROPY_EXT,a.maxAniso),va.CheckGLError()));xc.prototype.__setSamplerState.call(this,a)},__uploadATFTextureFromByteArray:function(a,b){a.position=b;var c=0,d=0;255==a.b[b+6]?(c=a.b[b+7],a.position=b+8,d=this.__readUInt32(a)):(c=0,a.position=b+3,d=this.__readUInt24(a));if(y.__cast(b+d,Sq)>
Na.get_length(a))throw new H(new rc("ATF length exceeds byte array length"));d=a.readUnsignedByte();if(0!=d>>7)throw new H(new rc("ATF Cube maps are not supported"));switch(d&127){case 3:this.__format=xc.__textureFormatCompressed;break;case 5:this.__format=xc.__textureFormatCompressedAlpha;break;default:throw new H(new rc("Only ATF block compressed textures without JPEG-XR+LZMA are supported"));}var d=1<<a.readUnsignedByte(),e=1<<a.readUnsignedByte();if(d!=this.__width||e!=this.__height)throw new H(new rc("ATF width and height dont match"));
for(var f=a.readUnsignedByte(),h=3>c?3:4,m=0;m<f;)for(var q=m++,r=0,n=h;r<n;){var l=r++,t=0==c?this.__readUInt24(a):this.__readUInt32(a);if(Q.gt(a.position+t,Na.get_length(a)))throw new H(new rc("Block length exceeds ATF file length"));if(Q.gt(t,0))if(0==l){var u=new ab(new He(t));a.readBytes(Na.fromBytes(u),0,t);var l=this.__textureTarget,v=this.__format,u=E.fromBytes(u);g.context.__context.compressedTexImage2D(l,q,v,d>>q,e>>q,0,E.toBufferView(u,t));va.CheckGLError()}else a.position+=t}},__class__:Ff});
var yp=function(a){xc.call(this,a,3553)};m["openfl.display3D.textures.VideoTexture"]=yp;yp.__name__=["openfl","display3D","textures","VideoTexture"];yp.__super__=xc;yp.prototype=z(xc.prototype,{videoHeight:null,videoWidth:null,__netStream:null,attachNetStream:function(a){var b=this;this.__netStream=a;4==this.__netStream.__video.readyState?hf.delay(function(){b.__textureReady()},0):this.__netStream.__video.addEventListener("canplay",function(a){b.__textureReady()},!1)},__getTexture:function(){this.__netStream.__video.paused||
(g.context.__context.bindTexture(this.__textureTarget,this.__textureID),va.CheckGLError(),pd.texImage2D(pd.fromGL(g),3553,0,6408,6408,5121,this.__netStream.__video),va.CheckGLError());return this.__textureID},__textureReady:function(){this.videoWidth=this.__netStream.__video.videoWidth;this.videoHeight=this.__netStream.__video.videoHeight;this.dispatchEvent(new ca("textureReady"))},__class__:yp});var kj=function(a){null==a&&(a="");sa.call(this,a);this.name="ArgumentError"};m["openfl.errors.ArgumentError"]=
kj;kj.__name__=["openfl","errors","ArgumentError"];kj.__super__=sa;kj.prototype=z(sa.prototype,{__class__:kj});var Wj=function(a){null==a&&(a="");sa.call(this,a);this.name="IOError"};m["openfl.errors.IOError"]=Wj;Wj.__name__=["openfl","errors","IOError"];Wj.__super__=sa;Wj.prototype=z(sa.prototype,{__class__:Wj});var xi=function(){Wj.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};m["openfl.errors.EOFError"]=xi;xi.__name__=["openfl","errors","EOFError"];xi.__super__=
Wj;xi.prototype=z(Wj.prototype,{__class__:xi});var rc=function(a){null==a&&(a="");sa.call(this,a,0);this.name="IllegalOperationError"};m["openfl.errors.IllegalOperationError"]=rc;rc.__name__=["openfl","errors","IllegalOperationError"];rc.__super__=sa;rc.prototype=z(sa.prototype,{__class__:rc});var Yl=function(a){null==a&&(a="");sa.call(this,a,0);this.name="RangeError"};m["openfl.errors.RangeError"]=Yl;Yl.__name__=["openfl","errors","RangeError"];Yl.__super__=sa;Yl.prototype=z(sa.prototype,{__class__:Yl});
var dk=function(a){null==a&&(a="");sa.call(this,a,0);this.name="TypeError"};m["openfl.errors.TypeError"]=dk;dk.__name__=["openfl","errors","TypeError"];dk.__super__=sa;dk.prototype=z(sa.prototype,{__class__:dk});var Ih=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.activating=d};m["openfl.events.ActivityEvent"]=Ih;Ih.__name__=["openfl","events","ActivityEvent"];Ih.__super__=ca;Ih.prototype=z(ca.prototype,{activating:null,clone:function(){var a=new Ih(this.type,
this.bubbles,this.cancelable,this.activating);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__class__:Ih});var Lf=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.text=d};m["openfl.events.TextEvent"]=Lf;Lf.__name__=["openfl","events","TextEvent"];Lf.__super__=ca;Lf.prototype=z(ca.prototype,{text:null,
clone:function(){var a=new Lf(this.type,this.bubbles,this.cancelable,this.text);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__class__:Lf});var ge=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Lf.call(this,a,b,c,d);this.errorID=e};m["openfl.events.ErrorEvent"]=ge;ge.__name__=["openfl","events","ErrorEvent"];ge.__super__=
Lf;ge.prototype=z(Lf.prototype,{errorID:null,clone:function(){var a=new ge(this.type,this.bubbles,this.cancelable,this.text,this.errorID);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:ge});var Jl=function(a,b,c,d,e){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);ge.call(this,a,b,c);this.text=d;this.error=e};m["openfl.events.AsyncErrorEvent"]=
Jl;Jl.__name__=["openfl","events","AsyncErrorEvent"];Jl.__super__=ge;Jl.prototype=z(ge.prototype,{error:null,clone:function(){var a=new Jl(this.type,this.bubbles,this.cancelable,this.text,this.error);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("AsyncErrorEvent",["type","bubbles","cancelable","text","error"])},__class__:Jl});var Vl=function(a){this.list=a;this.index=a.length};m["openfl.events._EventDispatcher.DispatchIterator"]=
Vl;Vl.__name__=["openfl","events","_EventDispatcher","DispatchIterator"];Vl.prototype={active:null,index:null,isCopy:null,list:null,copy:function(){this.index<this.list.length&&!this.isCopy&&(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length?!0:this.active=!1},next:function(){return this.list[this.index++]},remove:function(a,b){if(this.active)if(this.isCopy)for(var c=this.index,d=this.list.length;c<d;){var e=c++;if(this.list[e]==a){this.list.splice(e,
1);break}}else b<this.index&&this.index--},reset:function(a){this.list=a;this.active=!0;this.isCopy=!1;this.index=0},__class__:Vl};var Ul=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};m["openfl.events._EventDispatcher.Listener"]=Ul;Ul.__name__=["openfl","events","_EventDispatcher","Listener"];Ul.prototype={callback:null,priority:null,useCapture:null,match:function(a,b){return Z.compareMethods(this.callback,a)?this.useCapture==b:!1},__class__:Ul};var sg=function(a,b,c,d,e,f){null==
f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=d};m["openfl.events.FocusEvent"]=sg;sg.__name__=["openfl","events","FocusEvent"];sg.__super__=ca;sg.prototype=z(ca.prototype,{keyCode:null,relatedObject:null,shiftKey:null,clone:function(){var a=new sg(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},
toString:function(){return this.__formatToString("FocusEvent","type bubbles cancelable relatedObject shiftKey keyCode".split(" "))},__class__:sg});var zg=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);Ih.call(this,a,b,c);this.fullScreen=d;this.interactive=e};m["openfl.events.FullScreenEvent"]=zg;zg.__name__=["openfl","events","FullScreenEvent"];zg.__super__=Ih;zg.prototype=z(Ih.prototype,{fullScreen:null,interactive:null,clone:function(){var a=new zg(this.type,
this.bubbles,this.cancelable,this.fullScreen,this.interactive);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__class__:zg});var wg=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);ca.call(this,a,b,c);this.device=d};m["openfl.events.GameInputEvent"]=wg;wg.__name__=["openfl","events","GameInputEvent"];wg.__super__=ca;wg.prototype=
z(ca.prototype,{device:null,clone:function(){var a=new wg(this.type,this.bubbles,this.cancelable,this.device);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__class__:wg});var yi=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;this.redirected=e;ca.call(this,a,b,c)};m["openfl.events.HTTPStatusEvent"]=
yi;yi.__name__=["openfl","events","HTTPStatusEvent"];yi.__super__=ca;yi.prototype=z(ca.prototype,{redirected:null,responseHeaders:null,responseURL:null,status:null,clone:function(){var a=new yi(this.type,this.bubbles,null,this.status,this.redirected);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__class__:yi});var Kf=function(a,
b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);ge.call(this,a,b,c,d,e)};m["openfl.events.IOErrorEvent"]=Kf;Kf.__name__=["openfl","events","IOErrorEvent"];Kf.__super__=ge;Kf.prototype=z(ge.prototype,{clone:function(){var a=new Kf(this.type,this.bubbles,this.cancelable,this.text,this.errorID);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable",
"text","errorID"])},__class__:Kf});var vi=function(a,b,c,d,e,f,g,h,m,q,n){null==n&&(n=!1);null==q&&(q=!1);null==m&&(m=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=h;this.shiftKey=m;this.controlKey=q;this.commandKey=n};m["openfl.events.KeyboardEvent"]=vi;vi.__name__=["openfl","events","KeyboardEvent"];vi.__super__=ca;vi.prototype=z(ca.prototype,
{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,clone:function(){var a=new vi(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("KeyboardEvent","type bubbles cancelable charCode keyCode keyLocation ctrlKey altKey shiftKey".split(" "))},
__class__:vi});var zb=function(a,b,c,d,e,f,g,h,m,q,n,l,r){null==r&&(r=0);null==l&&(l=!1);null==n&&(n=0);null==q&&(q=!1);null==m&&(m=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);ca.call(this,a,b,c);this.shiftKey=m;this.altKey=h;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=n;this.localX=d;this.localY=e;this.buttonDown=q;this.commandKey=l;this.clickCount=r;this.stageY=this.stageX=NaN};m["openfl.events.MouseEvent"]=zb;zb.__name__=["openfl",
"events","MouseEvent"];zb.__create=function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":zb.__buttonDown=!0;break;case "mouseUp":zb.__buttonDown=!1}a=new zb(a,!0,!1,e.x,e.y,null,zb.__ctrlKey,zb.__altKey,zb.__shiftKey,zb.__buttonDown,g,zb.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};zb.__super__=ca;zb.prototype=z(ca.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,
stageY:null,clone:function(){var a=new zb(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("MouseEvent","type bubbles cancelable localX localY relatedObject ctrlKey altKey shiftKey buttonDown delta".split(" "))},updateAfterEvent:function(){},
__class__:zb});var ah=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!1);this.info=d;ca.call(this,a,b,c)};m["openfl.events.NetStatusEvent"]=ah;ah.__name__=["openfl","events","NetStatusEvent"];ah.__super__=ca;ah.prototype=z(ca.prototype,{info:null,clone:function(){var a=new ah(this.type,this.bubbles,this.cancelable,this.info);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles",
"cancelable","info"])},__class__:ah});var qg=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};m["openfl.events.ProgressEvent"]=qg;qg.__name__=["openfl","events","ProgressEvent"];qg.__super__=ca;qg.prototype=z(ca.prototype,{bytesLoaded:null,bytesTotal:null,clone:function(){var a=new qg(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);a.target=this.target;a.currentTarget=this.currentTarget;
a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__class__:qg});var Xj=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);ge.call(this,a,b,c,d,e)};m["openfl.events.SecurityErrorEvent"]=Xj;Xj.__name__=["openfl","events","SecurityErrorEvent"];Xj.__super__=ge;Xj.prototype=z(ge.prototype,{clone:function(){var a=new Xj(this.type,this.bubbles,this.cancelable,
this.text,this.errorID);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Xj});var bh=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);ca.call(this,a,b,c)};m["openfl.events.TimerEvent"]=bh;bh.__name__=["openfl","events","TimerEvent"];bh.__super__=ca;bh.prototype=z(ca.prototype,{clone:function(){var a=new bh(this.type,this.bubbles,
this.cancelable);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("TimerEvent",["type","bubbles","cancelable"])},updateAfterEvent:function(){},__class__:bh});var gd=function(a,b,c,d,e,f,g,h,m,q,n,l,r,t,u,v,x,y,z,A){null==v&&(v=!1);null==u&&(u=!1);null==t&&(t=!1);null==r&&(r=!1);null==l&&(l=!1);null==q&&(q=0);null==m&&(m=0);null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==
c&&(c=!1);null==b&&(b=!0);ca.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=h;this.sizeY=m;this.pressure=q;this.relatedObject=n;this.ctrlKey=l;this.altKey=r;this.shiftKey=t;this.commandKey=u;this.controlKey=v;this.stageY=this.stageX=NaN};m["openfl.events.TouchEvent"]=gd;gd.__name__=["openfl","events","TouchEvent"];gd.__create=function(a,b,c,d,e,f){a=new gd(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};gd.__super__=ca;
gd.prototype=z(ca.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,delta:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,clone:function(){var a=new gd(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,
this.controlKey);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("TouchEvent","type bubbles cancelable touchPointID isPrimaryTouchPoint localX localY sizeX sizeY pressure relatedObject ctrlKey altKey shiftKey commandKey controlKey".split(" "))},updateAfterEvent:function(){},__class__:gd});var Oj=function(a,b,c,d){null==c&&(c=!0);null==b&&(b=!0);ge.call(this,a,b,c);this.error=d};m["openfl.events.UncaughtErrorEvent"]=
Oj;Oj.__name__=["openfl","events","UncaughtErrorEvent"];Oj.__super__=ge;Oj.prototype=z(ge.prototype,{error:null,clone:function(){var a=new Oj(this.type,this.bubbles,this.cancelable,this.error);a.target=this.target;a.currentTarget=this.currentTarget;a.eventPhase=this.eventPhase;return a},toString:function(){return this.__formatToString("UncaughtErrorEvent",["type","bubbles","cancelable","error"])},__class__:Oj});var wp=function(){za.call(this)};m["openfl.events.UncaughtErrorEvents"]=wp;wp.__name__=
["openfl","events","UncaughtErrorEvents"];wp.__super__=za;wp.prototype=z(za.prototype,{__class__:wp});var Bp=function(){};m["openfl.external.ExternalInterface"]=Bp;Bp.__name__=["openfl","external","ExternalInterface"];Bp.addCallback=function(a,b){null!=xa.application.__windows[0].backend.element&&(xa.application.__windows[0].backend.element[a]=b)};Bp.call=function(a,b,c,d,e,f){var g=null;(new Za("^\\(.+\\)$","")).match(a)||(g=a.split(".").slice(0,-1).join("."),0<g.length&&(a+=".bind("+g+")"));var h;
try{h=eval(a)}catch(m){return Qa.lastException=m,null}return kb.TFunction!=La["typeof"](h)?null:g=null==b?h():null==c?h(b):null==d?h(b,c):null==e?h(b,c,d):null==f?h(b,c,d,e):h(b,c,d,e,f)};var Ne=function(){this.__leftExtension=this.__bottomExtension=0;this.__needSecondBitmapData=!0;this.__numShaderPasses=0;this.__preserveObject=!1;this.__topExtension=this.__rightExtension=0};m["openfl.filters.BitmapFilter"]=Ne;Ne.__name__=["openfl","filters","BitmapFilter"];Ne.prototype={__bottomExtension:null,__leftExtension:null,
__needSecondBitmapData:null,__numShaderPasses:null,__preserveObject:null,__renderDirty:null,__rightExtension:null,__topExtension:null,clone:function(){return new Ne},__applyFilter:function(a,b,c,d){return b},__initShader:function(a,b){return a.shaderManager.defaultShader},__class__:Ne};var Cp=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 sum = vec4(0.0);\n\t\t\tsum += texture2D(uImage0, vBlurCoords[0]) * 0.00443;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[1]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[2]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[3]) * 0.39894;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[4]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[5]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[6]) * 0.00443;\n\t\t\t\n\t\t\tgl_FragColor = sum;\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
Ze.call(this);this.get_data().uRadius.value=[0,0]};m["openfl.filters._BlurFilter.BlurShader"]=Cp;Cp.__name__=["openfl","filters","_BlurFilter","BlurShader"];Cp.__super__=Ze;Cp.prototype=z(Ze.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];Ze.prototype.__update.call(this)},__class__:Cp});var zh=function(a,b,c){null==c&&(c=1);null==b&&(b=4);null==a&&(a=4);Ne.call(this);this.set_blurX(a);this.set_blurY(b);
this.set_quality(c);this.__needSecondBitmapData=!0;this.__preserveObject=!1};m["openfl.filters.BlurFilter"]=zh;zh.__name__=["openfl","filters","BlurFilter"];zh.__super__=Ne;zh.prototype=z(Ne.prototype,{blurX:null,blurY:null,quality:null,horizontalPasses:null,verticalPasses:null,clone:function(){return new zh(this.blurX,this.blurY,this.quality)},__applyFilter:function(a,b,c,d){return fb.gaussianBlur(a.image,b.image,c.__toLimeRectangle(),d.__toLimeVector2(),this.blurX,this.blurY,this.quality)==a.image?
a:b},__initShader:function(a,b){var c=zh.__blurShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;return zh.__blurShader},set_blurX:function(a){a!=this.blurX&&(this.blurX=a,this.__renderDirty=!0,this.__rightExtension=this.__leftExtension=0<a?Math.ceil(a):0);return a},set_blurY:function(a){a!=this.blurY&&(this.blurY=a,this.__renderDirty=
!0,this.__rightExtension=this.__leftExtension=0<a?Math.ceil(a):0);return a},set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numShaderPasses=this.horizontalPasses+this.verticalPasses;a!=this.quality&&(this.__renderDirty=!0);return this.quality=a},__class__:zh,__properties__:{set_quality:"set_quality",set_blurY:"set_blurY",set_blurX:"set_blurX"}});var Dp=function(){null==this.__glFragmentSource&&
(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform mat4 uMultipliers;\n\t\tuniform vec4 uOffsets;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = uOffsets + color * uMultipliers;\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * vAlpha, color.a * vAlpha);\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
Ze.call(this);this.get_data().uMultipliers.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.get_data().uOffsets.value=[0,0,0,0]};m["openfl.filters._ColorMatrixFilter.ColorMatrixShader"]=Dp;Dp.__name__=["openfl","filters","_ColorMatrixFilter","ColorMatrixShader"];Dp.__super__=Ze;Dp.prototype=z(Ze.prototype,{init:function(a){var b=this.get_data().uMultipliers.value,c=this.get_data().uOffsets.value;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[5];b[5]=a[6];b[6]=a[7];b[7]=a[8];b[8]=a[10];b[9]=a[11];b[10]=
a[12];b[11]=a[13];b[12]=a[15];b[13]=a[16];b[14]=a[17];b[15]=a[18];c[0]=a[4]/255;c[1]=a[9]/255;c[2]=a[14]/255;c[3]=a[19]/255},__class__:Dp});var Ah=function(a){Ne.call(this);this.set_matrix(a);this.__numShaderPasses=0};m["openfl.filters.ColorMatrixFilter"]=Ah;Ah.__name__=["openfl","filters","ColorMatrixFilter"];Ah.__super__=Ne;Ah.prototype=z(Ne.prototype,{matrix:null,clone:function(){return new Ah(this.matrix)},__applyFilter:function(a,b,c,d){ta.convertToCanvas(b.image);ta.createImageData(b.image);
ta.convertToCanvas(a.image);ta.createImageData(a.image);var e=b.image.get_data(),f=a.image.get_data(),g=d.x-c.x|0;d=d.y-c.y|0;b=4*b.width;for(var h=4*a.width,m,q,n=c.y|0,l=c.height|0;n<l;)for(var r=n++,t=c.x|0,u=c.width|0;t<u;){q=t++;m=r*b+4*q;q=(r+g)*h+4*(q+d);var v=e[m],x=e[m+1],y=e[m+2];m=e[m+3];var z=this.matrix[0],z=Q.toFloat(v)*z,A=this.matrix[1],z=z+Q.toFloat(x)*A,A=this.matrix[2],z=z+Q.toFloat(y)*A,A=this.matrix[3];f[q]=z+Q.toFloat(m)*A+this.matrix[4]|0;z=this.matrix[5];z*=Q.toFloat(v);A=
this.matrix[6];z+=Q.toFloat(x)*A;A=this.matrix[7];z+=Q.toFloat(y)*A;A=this.matrix[8];f[q+1]=z+Q.toFloat(m)*A+this.matrix[9]|0;z=this.matrix[10];z*=Q.toFloat(v);A=this.matrix[11];z+=Q.toFloat(x)*A;A=this.matrix[12];z+=Q.toFloat(y)*A;A=this.matrix[13];f[q+2]=z+Q.toFloat(m)*A+this.matrix[14]|0;z=this.matrix[15];v=Q.toFloat(v)*z;z=this.matrix[16];x=v+Q.toFloat(x)*z;v=this.matrix[17];y=x+Q.toFloat(y)*v;x=this.matrix[18];f[q+3]=y+Q.toFloat(m)*x+this.matrix[19]|0}a.image.dirty=!0;return a},__initShader:function(a,
b){Ah.__colorMatrixShader.init(this.matrix);return Ah.__colorMatrixShader},set_matrix:function(a){null==a&&(a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);return this.matrix=a},__class__:Ah,__properties__:{set_matrix:"set_matrix"}});var ul=function(a,b,c,d,e,f,g,h,m,q,n){null==n&&(n=!1);null==q&&(q=!1);null==m&&(m=!1);null==h&&(h=1);null==g&&(g=1);null==f&&(f=4);null==e&&(e=4);null==d&&(d=1);null==c&&(c=0);null==b&&(b=45);null==a&&(a=4);this.distance=4;this.blurX=this.blurY=0;this.angle=45;Ne.call(this);
this.__offsetY=this.__offsetX=0;this.__updateSize();this.set_distance(a);this.set_angle(b);this.set_color(c);this.set_alpha(d);this.set_blurX(e);this.set_blurY(f);this.set_strength(g);this.set_quality(h);this.set_inner(m);this.set_knockout(q);this.set_hideObject(n);this.__needSecondBitmapData=!0;this.__preserveObject=!n};m["openfl.filters.DropShadowFilter"]=ul;ul.__name__=["openfl","filters","DropShadowFilter"];ul.__super__=Ne;ul.prototype=z(Ne.prototype,{alpha:null,angle:null,blurX:null,blurY:null,
color:null,distance:null,hideObject:null,inner:null,knockout:null,quality:null,strength:null,__offsetX:null,__offsetY:null,clone:function(){return new ul(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,this.hideObject)},__applyFilter:function(a,b,c,d){b.colorTransform(b.rect,new jc(0,0,0,1,this.color>>16&255,this.color>>8&255,this.color&255,this.color>>24&255));d.x+=this.__offsetX;d.y+=this.__offsetY;return fb.gaussianBlur(a.image,
b.image,c.__toLimeRectangle(),d.__toLimeVector2(),this.blurX,this.blurY,this.quality,this.strength)==a.image?a:b},__updateSize:function(){this.__offsetX=this.distance*Math.cos(this.angle*Math.PI/180)|0;this.__offsetY=this.distance*Math.sin(this.angle*Math.PI/180)|0;this.__topExtension=Math.ceil((0>this.__offsetY?-this.__offsetY:0)+this.blurY);this.__bottomExtension=Math.ceil((0<this.__offsetY?this.__offsetY:0)+this.blurY);this.__leftExtension=Math.ceil((0>this.__offsetX?-this.__offsetX:0)+this.blurX);
this.__rightExtension=Math.ceil((0<this.__offsetX?this.__offsetX:0)+this.blurX)},set_alpha:function(a){a!=this.alpha&&(this.__renderDirty=!0);return this.alpha=a},set_angle:function(a){a!=this.angle&&(this.angle=a,this.__renderDirty=!0,this.__updateSize());return a},set_blurX:function(a){a!=this.blurX&&(this.blurX=a,this.__renderDirty=!0,this.__updateSize());return a},set_blurY:function(a){a!=this.blurY&&(this.blurY=a,this.__renderDirty=!0,this.__updateSize());return a},set_color:function(a){a!=this.color&&
(this.__renderDirty=!0);return this.color=a},set_distance:function(a){a!=this.distance&&(this.distance=a,this.__renderDirty=!0,this.__updateSize());return a},set_hideObject:function(a){a!=this.hideObject&&(this.__renderDirty=!0,this.__preserveObject=!a);return this.hideObject=a},set_inner:function(a){a!=this.inner&&(this.__renderDirty=!0);return this.inner=a},set_knockout:function(a){a!=this.knockout&&(this.__renderDirty=!0);return this.knockout=a},set_quality:function(a){a!=this.quality&&(this.__renderDirty=
!0);return this.quality=a},set_strength:function(a){a!=this.strength&&(this.__renderDirty=!0);return this.strength=a},__class__:ul,__properties__:{set_strength:"set_strength",set_quality:"set_quality",set_knockout:"set_knockout",set_inner:"set_inner",set_hideObject:"set_hideObject",set_distance:"set_distance",set_color:"set_color",set_blurY:"set_blurY",set_blurX:"set_blurX",set_angle:"set_angle",set_alpha:"set_alpha"}});var Ep=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform vec4 uColor;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tfloat a = 0.0;\n\t\t\ta += texture2D(uImage0, vBlurCoords[0]).a * 0.00443;\n\t\t\ta += texture2D(uImage0, vBlurCoords[1]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[2]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[3]).a * 0.39894;\n\t\t\ta += texture2D(uImage0, vBlurCoords[4]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[5]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[6]).a * 0.00443;\n\t\t\ta *= uColor.a;\n\t\t\t\n\t\t\tgl_FragColor = vec4(uColor.rgb * a, a);\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
Ze.call(this);this.get_data().uRadius.value=[0,0];this.get_data().uColor.value=[0,0,0,0]};m["openfl.filters._GlowFilter.GlowShader"]=Ep;Ep.__name__=["openfl","filters","_GlowFilter","GlowShader"];Ep.__super__=Ze;Ep.prototype=z(Ze.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];Ze.prototype.__update.call(this)},__class__:Ep});var tf=function(a,b,c,d,e,f,g,h){null==h&&(h=!1);null==g&&(g=!1);null==f&&
(f=1);null==e&&(e=2);null==d&&(d=6);null==c&&(c=6);null==b&&(b=1);null==a&&(a=16711680);Ne.call(this);this.set_color(a);this.set_alpha(b);this.set_blurX(c);this.set_blurY(d);this.set_strength(e);this.set_quality(f);this.set_inner(g);this.set_knockout(h);this.__preserveObject=this.__needSecondBitmapData=!0};m["openfl.filters.GlowFilter"]=tf;tf.__name__=["openfl","filters","GlowFilter"];tf.__super__=Ne;tf.prototype=z(Ne.prototype,{alpha:null,blurX:null,blurY:null,color:null,inner:null,knockout:null,
quality:null,strength:null,horizontalPasses:null,verticalPasses:null,clone:function(){return new tf(this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout)},__applyFilter:function(a,b,c,d){b.colorTransform(b.rect,new jc(0,0,0,1,this.color>>16&255,this.color>>8&255,this.color&255,255*this.alpha));return fb.gaussianBlur(a.image,b.image,c.__toLimeRectangle(),d.__toLimeVector2(),this.blurX,this.blurY,this.quality,this.strength)==a.image?a:b},__initShader:function(a,
b){var c=tf.__glowShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;c.uColor.value[0]=(this.color>>16&255)/255;c.uColor.value[1]=(this.color>>8&255)/255;c.uColor.value[2]=(this.color&255)/255;c.uColor.value[3]=this.alpha;return tf.__glowShader},set_alpha:function(a){a!=this.alpha&&(this.__renderDirty=!0);return this.alpha=a},
set_blurX:function(a){a!=this.blurX&&(this.blurX=a,this.__renderDirty=!0,this.__rightExtension=this.__leftExtension=0<a?Math.ceil(a):0);return a},set_blurY:function(a){a!=this.blurY&&(this.blurY=a,this.__renderDirty=!0,this.__rightExtension=this.__leftExtension=0<a?Math.ceil(a):0);return a},set_color:function(a){a!=this.color&&(this.__renderDirty=!0);return this.color=a},set_inner:function(a){a!=this.inner&&(this.__renderDirty=!0);return this.inner=a},set_knockout:function(a){a!=this.knockout&&(this.__renderDirty=
!0);return this.knockout=a},set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numShaderPasses=this.horizontalPasses+this.verticalPasses;a!=this.quality&&(this.__renderDirty=!0);return this.quality=a},set_strength:function(a){a!=this.strength&&(this.__renderDirty=!0);return this.strength=a},__class__:tf,__properties__:{set_strength:"set_strength",set_quality:"set_quality",set_knockout:"set_knockout",
set_inner:"set_inner",set_color:"set_color",set_blurY:"set_blurY",set_blurX:"set_blurX",set_alpha:"set_alpha"}});var Xr=function(a){};m["openfl.filters._BlurShader_ShaderData"]=Xr;Xr.__name__=["openfl","filters","_BlurShader_ShaderData"];Xr.__super__=rg;Xr.prototype=z(rg.prototype,{uRadius:null,uTextureSize:null,__class__:Xr});var Yr=function(a){};m["openfl.filters._ColorMatrixShader_ShaderData"]=Yr;Yr.__name__=["openfl","filters","_ColorMatrixShader_ShaderData"];Yr.__super__=rg;Yr.prototype=z(rg.prototype,
{uMultipliers:null,uOffsets:null,__class__:Yr});var Zr=function(a){};m["openfl.filters._GlowShader_ShaderData"]=Zr;Zr.__name__=["openfl","filters","_GlowShader_ShaderData"];Zr.__super__=rg;Zr.prototype=z(rg.prototype,{uRadius:null,uTextureSize:null,uColor:null,__class__:Zr});var Kl={};m["openfl.geom._Orientation3D.Orientation3D_Impl_"]=Kl;Kl.__name__=["openfl","geom","_Orientation3D","Orientation3D_Impl_"];Kl.fromString=function(a){switch(a){case "axisAngle":return 0;case "eulerAngles":return 1;case "quaternion":return 2;
default:return null}};Kl.toString=function(a){switch(a){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};var Pa=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};m["openfl.geom.Point"]=Pa;Pa.__name__=["openfl","geom","Point"];Pa.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};Pa.interpolate=function(a,b,c){return new Pa(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};Pa.polar=function(a,b){return new Pa(a*Math.cos(b),a*Math.sin(b))};
Pa.prototype={x:null,y:null,add:function(a){return new Pa(a.x+this.x,a.y+this.y)},clone:function(){return new Pa(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},equals:function(a){return null!=a&&a.x==this.x?a.y==this.y:!1},normalize:function(a){if(0!=this.x||0!=this.y)a/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=a,this.y*=a},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},subtract:function(a){return new Pa(this.x-a.x,this.y-a.y)},toString:function(){return"(x="+
this.x+", y="+this.y+")"},__toLimeVector2:function(){null==Pa.__limeVector2&&(Pa.__limeVector2=new Oc);var a=Pa.__limeVector2;a.x=this.x;a.y=this.y;return Pa.__limeVector2},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Pa,__properties__:{get_length:"get_length"}};var Xl=function(a){this.__colorTransform=new jc;this.concatenatedColorTransform=new jc;this.pixelBounds=new ya;this.__displayObject=a;this.__hasMatrix=!0};m["openfl.geom.Transform"]=Xl;Xl.__name__=["openfl",
"geom","Transform"];Xl.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(a){this.__colorTransform.__equals(a)||(this.__colorTransform=a,null!=a&&this.__displayObject.set_alpha(a.alphaMultiplier),a=this.__displayObject,a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty()));return this.__colorTransform},get_concatenatedMatrix:function(){return this.__hasMatrix?
this.__displayObject.__getWorldTransform().clone():null},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},set_matrix:function(a){if(null==a)return this.__hasMatrix=!1,null;this.__hasMatrix=!0;this.__hasMatrix3D=!1;null!=this.__displayObject&&this.__setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty);return a},get_matrix3D:function(){if(this.__hasMatrix3D){for(var a=this.__displayObject.__transform,a=[a.a,a.b,0,0,a.c,a.d,0,0,0,0,1,0,a.tx,a.ty,0,1],b=x.toFloatVector(null),
c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return new Xa(b)}return null},set_matrix3D:function(a){if(null==a)return this.__hasMatrix3D=!1,null;this.__hasMatrix=!1;this.__hasMatrix3D=!0;this.__setTransform(a.rawData.get(0),a.rawData.get(1),a.rawData.get(5),a.rawData.get(6),a.rawData.get(12),a.rawData.get(13));return a},__setTransform:function(a,b,c,d,e,f){if(null!=this.__displayObject){var g=0,h=0,g=0==b?a:Math.sqrt(a*a+b*b),h=0==c?a:Math.sqrt(c*c+d*d);this.__displayObject.__scaleX=g;this.__displayObject.__scaleY=
h;g=180/Math.PI*Math.atan2(d,c)-90;g!=this.__displayObject.__rotation&&(this.__displayObject.__rotation=g,g*=Math.PI/180,this.__displayObject.__rotationSine=Math.sin(g),this.__displayObject.__rotationCosine=Math.cos(g));this.__displayObject.__transform.a=a;this.__displayObject.__transform.b=b;this.__displayObject.__transform.c=c;this.__displayObject.__transform.d=d;this.__displayObject.__transform.tx=e;this.__displayObject.__transform.ty=f;this.__displayObject.__setTransformDirty()}},__class__:Xl,
__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var $r=function(){};m["openfl.media.ID3Info"]=$r;$r.__name__=["openfl","media","ID3Info"];$r.prototype={album:null,artist:null,comment:null,genre:null,songName:null,track:null,year:null,__class__:$r};var Mf=function(a,b){za.call(this,this);this.bytesTotal=
this.bytesLoaded=0;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};m["openfl.media.Sound"]=Mf;Mf.__name__=["openfl","media","Sound"];Mf.fromAudioBuffer=function(a){var b=new Mf;b.__buffer=a;return b};Mf.fromFile=function(a){return Mf.fromAudioBuffer(Yc.fromFile(a))};Mf.loadFromFile=function(a){return Yc.loadFromFile(a).then(function(a){return hb.withValue(Mf.fromAudioBuffer(a))})};Mf.__super__=za;Mf.prototype=z(za.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,
close:function(){null!=this.__buffer&&this.__buffer.dispose()},load:function(a,b){var c=this;this.url=a.url;var d=ra.getLibrary("default"),e;if(null!=d){e=this.url;var f=d.cachedAudioBuffers;e=null!=t[e]?f.existsReserved(e):f.h.hasOwnProperty(e)}else e=!1;if(e)e=this.url,d=d.cachedAudioBuffers,this.AudioBuffer_onURLLoad(null!=t[e]?d.getReserved(e):d.h[e]);else Yc.loadFromFile(this.url).onComplete(u(this,this.AudioBuffer_onURLLoad)).onError(function(a){c.AudioBuffer_onURLLoad(null)})},loadCompressedDataFromByteArray:function(a,
b){if(null==a||0>=b)this.dispatchEvent(new Kf("ioError"));else{if(Na.get_length(a)>b){var c=new lc(b);c.writeBytes(a,0,b);a=c}this.__buffer=Yc.fromBytes(Na.toBytes(a));null==this.__buffer?this.dispatchEvent(new Kf("ioError")):this.dispatchEvent(new ca("complete"))}},loadPCMFromByteArray:function(a,b,c,d,e){null==e&&(e=44100);null==d&&(d=!0);null==c&&(c="float");null==a?this.dispatchEvent(new Kf("ioError")):(b=new Yc,b.bitsPerSample="float"==c?32:16,b.channels=d?2:1,a=Na.toArrayBuffer(a),a=null!=a?
new Db(a,0):null,b.data=a,b.sampleRate=e|0,this.__buffer=b,this.dispatchEvent(new ca("complete")))},play:function(a,b,c){null==b&&(b=0);null==a&&(a=0);if(32<=ad.__soundChannels.length)return null;c=null==c?new od:c.clone();var d=ad.__soundTransform.pan+c.pan;1<d&&(d=1);-1>d&&(d=-1);var e=ad.__soundTransform.volume*c.volume,f=new sr(this.__buffer);f.offset=a|0;1<b&&f.set_loops(b-1);f.set_gain(e);a=f.get_position();a.x=d;a.z=-1*Math.sqrt(1-Math.pow(d,2));f.set_position(a);return new Fp(f,c)},get_id3:function(){return new $r},
get_length:function(){return null!=this.__buffer?1E3*this.__buffer.get_src().duration()|0:0},AudioBuffer_onURLLoad:function(a){null==a?this.dispatchEvent(new Kf("ioError")):(this.__buffer=a,this.dispatchEvent(new ca("complete")))},__class__:Mf,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var Fp=function(a,b){za.call(this,this);this.rightPeak=this.leftPeak=1;this.__soundTransform=null!=b?b:new od;null!=a&&(this.__source=a,this.__source.onComplete.add(u(this,this.source_onComplete)),
this.__isValid=!0,this.__source.play());ad.__registerSoundChannel(this)};m["openfl.media.SoundChannel"]=Fp;Fp.__name__=["openfl","media","SoundChannel"];Fp.__super__=za;Fp.prototype=z(za.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){ad.__unregisterSoundChannel(this);this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.onComplete.remove(u(this,this.source_onComplete)),this.__source.dispose(),
this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(a){if(!this.__isValid)return 0;this.__source.set_currentTime((a|0)-this.__source.offset);return a},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(a){if(null!=a){this.__soundTransform.pan=a.pan;this.__soundTransform.volume=a.volume;
var b=ad.__soundTransform.pan+this.__soundTransform.pan;-1>b&&(b=-1);1<b&&(b=1);var c=ad.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&(this.__source.set_gain(c),c=this.__source.get_position(),c.x=b,c.z=-1*Math.sqrt(1-Math.pow(b,2)),this.__source.set_position(c))}return a},source_onComplete:function(){ad.__unregisterSoundChannel(this);this.__dispose();this.dispatchEvent(new ca("soundComplete"))},__class__:Fp,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",
set_position:"set_position",get_position:"get_position"}});var ft=function(a,b){null==b&&(b=!1);null==a&&(a=1E3);this.bufferTime=a;this.checkPolicyFile=b};m["openfl.media.SoundLoaderContext"]=ft;ft.__name__=["openfl","media","SoundLoaderContext"];ft.prototype={bufferTime:null,checkPolicyFile:null,__class__:ft};var od=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};m["openfl.media.SoundTransform"]=od;od.__name__=
["openfl","media","SoundTransform"];od.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new od(this.volume,this.pan)},__class__:od};var ad=function(){};m["openfl.media.SoundMixer"]=ad;ad.__name__=["openfl","media","SoundMixer"];ad.__properties__={set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform"};ad.areSoundsInaccessible=function(){return!1};ad.stopAll=function(){for(var a=0,b=ad.__soundChannels;a<
b.length;){var c=b[a];++a;c.stop()}};ad.__registerSoundChannel=function(a){ad.__soundChannels.push(a)};ad.__unregisterSoundChannel=function(a){da.remove(ad.__soundChannels,a)};ad.get_soundTransform=function(){return ad.__soundTransform};ad.set_soundTransform=function(a){ad.__soundTransform=a.clone();for(var b=0,c=ad.__soundChannels;b<c.length;){var d=c[b];++b;d.__updateTransform()}return a};var mj=function(a,b){null==b&&(b=240);null==a&&(a=320);Eb.call(this);this.__width=a;this.__height=b;this.smoothing=
!1;this.deblocking=0};m["openfl.media.Video"]=mj;mj.__name__=["openfl","media","Video"];mj.__interfaces__=[Wi];mj.__super__=Eb;mj.prototype=z(Eb.prototype,{deblocking:null,shader:null,smoothing:null,__active:null,__buffer:null,__bufferAlpha:null,__bufferColorTransform:null,__bufferContext:null,__bufferData:null,__dirty:null,__height:null,__stream:null,__texture:null,__textureTime:null,__width:null,attachNetStream:function(a){this.__stream=a;null!=this.__stream&&this.__stream.__video.play()},clear:function(){},
__enterFrame:function(a){this.__renderable&&null!=this.__stream&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())},__getBounds:function(a,b){var c=ya.__pool.get();c.setTo(0,0,this.__width,this.__height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height);ya.__pool.release(c)},__getBuffer:function(a,b,c){if(null==this.__buffer||this.__bufferContext!=a){this.__bufferData=new pc(104);this.__bufferData[0]=this.get_width();this.__bufferData[1]=this.get_height();this.__bufferData[3]=
1;this.__bufferData[4]=1;this.__bufferData[27]=this.get_height();this.__bufferData[30]=1;this.__bufferData[52]=this.get_width();this.__bufferData[55]=1;for(var d=0;4>d;){var e=d++;this.__bufferData[26*e+5]=b;null!=c?(this.__bufferData[26*e+6]=c.redMultiplier,this.__bufferData[26*e+11]=c.greenMultiplier,this.__bufferData[26*e+16]=c.blueMultiplier,this.__bufferData[26*e+21]=c.alphaMultiplier,this.__bufferData[26*e+22]=c.redOffset/255,this.__bufferData[26*e+23]=c.greenOffset/255,this.__bufferData[26*
e+24]=c.blueOffset/255,this.__bufferData[26*e+25]=c.alphaOffset/255):(this.__bufferData[26*e+6]=1,this.__bufferData[26*e+11]=1,this.__bufferData[26*e+16]=1,this.__bufferData[26*e+21]=1)}this.__bufferAlpha=b;this.__bufferColorTransform=null!=c?c.__clone():null;this.__bufferContext=a;this.__buffer=a.__context.createBuffer()}else{if(this.__bufferAlpha!=b)for(d=0;4>d;)e=d++,this.__bufferData[26*e+5]=b;if(null==this.__bufferColorTransform&&null!=c||null!=this.__bufferColorTransform&&!this.__bufferColorTransform.__equals(c))if(null!=
c)for(this.__bufferColorTransform=c.__clone(),b=0;4>b;)d=b++,this.__bufferData[26*d+6]=c.redMultiplier,this.__bufferData[26*d+11]=c.greenMultiplier,this.__bufferData[26*d+16]=c.blueMultiplier,this.__bufferData[26*d+21]=c.alphaMultiplier,this.__bufferData[26*d+22]=c.redOffset/255,this.__bufferData[26*d+23]=c.greenOffset/255,this.__bufferData[26*d+24]=c.blueOffset/255,this.__bufferData[26*d+25]=c.alphaOffset/255;else for(c=0;4>c;)b=c++,this.__bufferData[26*b+6]=1,this.__bufferData[26*b+11]=1,this.__bufferData[26*
b+16]=1,this.__bufferData[26*b+21]=1,this.__bufferData[26*b+22]=0,this.__bufferData[26*b+23]=0,this.__bufferData[26*b+24]=0,this.__bufferData[26*b+25]=0}a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer);c=a.ARRAY_BUFFER;b=this.__bufferData.byteLength;d=E.fromArrayBufferView(this.__bufferData);e=a.STATIC_DRAW;a.__context.bufferData(c,E.toBufferView(d,b),e);return this.__buffer},__getTexture:function(a){if(null==this.__stream)return null;null==this.__texture&&(this.__texture=a.__context.createTexture(),
a.__context.bindTexture(a.TEXTURE_2D,this.__texture),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.__textureTime=-1);if(this.__stream.__video.currentTime!=this.__textureTime){var b=a.RGBA,c=a.RGBA;a.__context.bindTexture(a.TEXTURE_2D,this.__texture);a.texImage2DWEBGL(a.TEXTURE_2D,
0,b,c,a.UNSIGNED_BYTE,this.__stream.__video);this.__textureTime=this.__stream.__video.currentTime}return this.__texture},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();c=this.__renderTransform;var g=c.a*c.d-c.b*c.c;c=0==g?-c.tx:1/g*(c.c*(c.ty-b)+c.d*(a-c.tx));var g=this.__renderTransform,h=g.a*g.d-g.b*g.c;a=0==h?-g.ty:1/h*(g.a*(b-g.ty)+g.b*(g.tx-a));return 0<c&&0<a&&c<=this.__width&&
a<=this.__height?(null==d||e||d.push(f),!0):!1},__hitTestMask:function(a,b){var c=Pa.__pool.get();c.setTo(a,b);this.__globalToLocal(c,c);var d=0<c.x&&0<c.y&&c.x<=this.__width&&c.y<=this.__height;Pa.__pool.release(c);return d},__renderCanvas:function(a){Zs.render(this,a)},__renderDOM:function(a){hp.render(this,a)},__renderGL:function(a){at.render(this,a)},get_height:function(){return this.__height*this.get_scaleY()},set_height:function(a){if(1!=this.get_scaleY()||a!=this.__height)this.__setTransformDirty(),
this.__dirty=!0;this.set_scaleY(1);return this.__height=a},get_videoHeight:function(){return null!=this.__stream?this.__stream.__video.videoHeight|0:0},get_videoWidth:function(){return null!=this.__stream?this.__stream.__video.videoWidth|0:0},get_width:function(){return this.__width*this.__scaleX},set_width:function(a){if(1!=this.__scaleX||this.__width!=a)this.__setTransformDirty(),this.__dirty=!0;this.set_scaleX(1);return this.__width=a},__class__:mj,__properties__:z(Eb.prototype.__properties__,
{get_videoWidth:"get_videoWidth",get_videoHeight:"get_videoHeight"})});var al=function(){za.call(this)};m["openfl.net.NetConnection"]=al;al.__name__=["openfl","net","NetConnection"];al.__super__=za;al.prototype=z(za.prototype,{connect:function(a,b,c,d,e,f){if(null!=a)throw new H('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new ah("netStatus",!1,!0,{code:"NetConnection.Connect.Success"}))},__class__:al});var fo=function(a,b){za.call(this);this.__connection=a;this.__video=
window.document.createElement("video");this.__video.addEventListener("error",u(this,this.video_onError),!1);this.__video.addEventListener("waiting",u(this,this.video_onWaiting),!1);this.__video.addEventListener("ended",u(this,this.video_onEnd),!1);this.__video.addEventListener("pause",u(this,this.video_onPause),!1);this.__video.addEventListener("seeking",u(this,this.video_onSeeking),!1);this.__video.addEventListener("playing",u(this,this.video_onPlaying),!1);this.__video.addEventListener("timeupdate",
u(this,this.video_onTimeUpdate),!1);this.__video.addEventListener("loadstart",u(this,this.video_onLoadStart),!1);this.__video.addEventListener("stalled",u(this,this.video_onStalled),!1);this.__video.addEventListener("durationchanged",u(this,this.video_onDurationChanged),!1);this.__video.addEventListener("canplay",u(this,this.video_onCanPlay),!1);this.__video.addEventListener("canplaythrough",u(this,this.video_onCanPlayThrough),!1);this.__video.addEventListener("loadedmetadata",u(this,this.video_onLoadMetaData),
!1)};m["openfl.net.NetStream"]=fo;fo.__name__=["openfl","net","NetStream"];fo.__super__=za;fo.prototype=z(za.prototype,{audioCodec:null,bufferLength:null,bufferTime:null,bytesLoaded:null,bytesTotal:null,checkPolicyFile:null,client:null,currentFPS:null,decodedFrames:null,liveDelay:null,objectEncoding:null,soundTransform:null,time:null,videoCode:null,__connection:null,__timer:null,__video:null,close:function(){this.__video.pause();this.__video.src="";this.time=0},pause:function(){this.__video.pause()},
play:function(a,b,c,d,e,f){this.__video.src=a;this.__video.play()},requestVideoStatus:function(){var a=this;null==this.__timer&&(this.__timer=new hf(1));this.__timer.run=function(){a.__video.paused?a.__playStatus("NetStream.Play.pause"):a.__playStatus("NetStream.Play.playing");a.__timer.stop()}},resume:function(){this.__video.play()},seek:function(a){0>a?a=0:a>this.__video.duration&&(a=this.__video.duration);this.__video.currentTime=a},togglePause:function(){this.__video.paused?this.__video.play():
this.__video.pause()},__playStatus:function(a){if(null!=this.client)try{var b=this.client.onPlayStatus;b({code:a,duration:this.__video.duration,position:this.__video.currentTime,speed:this.__video.playbackRate,start:this.__video.startTime})}catch(c){Qa.lastException=c}},video_onCanPlay:function(a){this.__playStatus("NetStream.Play.canplay")},video_onCanPlayThrough:function(a){this.__playStatus("NetStream.Play.canplaythrough")},video_onDurationChanged:function(a){this.__playStatus("NetStream.Play.durationchanged")},
video_onEnd:function(a){this.__connection.dispatchEvent(new ah("netStatus",!1,!1,{code:"NetStream.Play.Stop"}));this.__playStatus("NetStream.Play.Complete")},video_onError:function(a){this.__connection.dispatchEvent(new ah("netStatus",!1,!1,{code:"NetStream.Play.Stop"}));this.__playStatus("NetStream.Play.error")},video_onLoadMetaData:function(a){if(null!=this.client)try{var b=this.client.onMetaData;b({width:this.__video.videoWidth,height:this.__video.videoHeight,duration:this.__video.duration})}catch(c){Qa.lastException=
c}},video_onLoadStart:function(a){this.__playStatus("NetStream.Play.loadstart")},video_onPause:function(a){this.__playStatus("NetStream.Play.pause")},video_onPlaying:function(a){this.__connection.dispatchEvent(new ah("netStatus",!1,!1,{code:"NetStream.Play.Start"}));this.__playStatus("NetStream.Play.playing")},video_onSeeking:function(a){this.__playStatus("NetStream.Play.seeking")},video_onStalled:function(a){this.__playStatus("NetStream.Play.stalled")},video_onTimeUpdate:function(a){this.time=this.__video.currentTime;
this.__playStatus("NetStream.Play.timeupdate")},video_onWaiting:function(a){this.__playStatus("NetStream.Play.waiting")},get_speed:function(){return this.__video.playbackRate},set_speed:function(a){return this.__video.playbackRate=a},__class__:fo,__properties__:{set_speed:"set_speed",get_speed:"get_speed"}});var nh=function(a){za.call(this);this.bytesTotal=this.bytesLoaded=0;this.dataFormat=1;null!=a&&this.load(a)};m["openfl.net.URLLoader"]=nh;nh.__name__=["openfl","net","URLLoader"];nh.__super__=
za;nh.prototype=z(za.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,__httpRequest:null,close:function(){null!=this.__httpRequest&&this.__httpRequest.cancel()},load:function(a){var b=this;if(0==this.dataFormat){var c=new yo;this.__prepareRequest(c,a);c.load().onProgress(u(this,this.httpRequest_onProgress)).onError(u(this,this.httpRequest_onError)).onComplete(function(a){b.__dispatchStatus();b.data=a;a=new ca("complete");b.dispatchEvent(a)})}else c=new nl,this.__prepareRequest(c,
a),c.load().onProgress(u(this,this.httpRequest_onProgress)).onError(u(this,this.httpRequest_onError)).onComplete(function(a){b.__dispatchStatus();b.data=a;a=new ca("complete");b.dispatchEvent(a)})},__dispatchStatus:function(){var a=new yi("httpStatus",!1,!1,this.__httpRequest.responseStatus);a.responseURL=this.__httpRequest.uri;var b=[];if(this.__httpRequest.enableResponseHeaders&&null!=this.__httpRequest.responseHeaders)for(var c=0,d=this.__httpRequest.responseHeaders;c<d.length;){var e=d[c];++c;
b.push(new as(e.name,e.value))}a.responseHeaders=b;this.dispatchEvent(a)},__prepareRequest:function(a,b){this.__httpRequest=a;this.__httpRequest.uri=b.url;var c;switch(b.method){case "DELETE":c="DELETE";break;case "HEAD":c="HEAD";break;case "OPTIONS":c="OPTIONS";break;case "POST":c="POST";break;case "PUT":c="PUT";break;default:c="GET"}this.__httpRequest.method=c;if(null!=b.data)if(y.__instanceof(b.data,bs)){c=Z.fields(b.data);for(var d=0;d<c.length;){var e=c[d];++d;var f=this.__httpRequest.formData,
g=Z.field(b.data,e);null!=t[e]?f.setReserved(e,g):f.h[e]=g}}else y.__instanceof(b.data,ab)?this.__httpRequest.data=b.data:this.__httpRequest.data=ab.ofString(h.string(b.data));this.__httpRequest.contentType=b.contentType;if(null!=b.requestHeaders)for(c=0,d=b.requestHeaders;c<d.length;)e=d[c],++c,this.__httpRequest.headers.push(new oo(e.name,e.value));this.__httpRequest.userAgent=b.userAgent;this.__httpRequest.enableResponseHeaders=!0},httpRequest_onError:function(a){this.__dispatchStatus();var b=
403==a?new Xj("securityError"):new Kf("ioError");b.text=h.string(a);this.dispatchEvent(b)},httpRequest_onProgress:function(a,b){var c=new qg("progress");c.bytesLoaded=a;c.bytesTotal=b;this.dispatchEvent(c)},__class__:nh});var Ll={};m["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=Ll;Ll.__name__=["openfl","net","_URLLoaderDataFormat","URLLoaderDataFormat_Impl_"];Ll.fromString=function(a){switch(a){case "binary":return 0;case "text":return 1;case "variables":return 2;default:return null}};
Ll.toString=function(a){switch(a){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var Fe=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};m["openfl.net.URLRequest"]=Fe;Fe.__name__=["openfl","net","URLRequest"];Fe.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,userAgent:null,__class__:Fe};var as=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};m["openfl.net.URLRequestHeader"]=
as;as.__name__=["openfl","net","URLRequestHeader"];as.prototype={name:null,value:null,__class__:as};var bs=function(a){null!=a&&this.decode(a)};m["openfl.net.URLVariables"]=bs;bs.__name__=["openfl","net","URLVariables"];bs.prototype={decode:function(a){for(var b=Z.fields(this),c=0;c<b.length;){var d=b[c];++c;Z.deleteField(this,d)}a=a.split(";").join("&").split("&");for(b=0;b<a.length;)if(c=a[b],++b,d=c.indexOf("="),0<d){var e=da.substr(c,0,d),e=decodeURIComponent(e.split("+").join(" ")),c=da.substr(c,
d+1,null);this[e]=decodeURIComponent(c.split("+").join(" "))}else 0!=d&&(this[decodeURIComponent(c.split("+").join(" "))]="")},toString:function(){for(var a=[],b=Z.fields(this),c=0;c<b.length;){var d=b[c];++c;var e=encodeURIComponent(d)+"=",d=Z.field(this,d);a.push(e+encodeURIComponent(d))}return a.join("&")},__class__:bs};var Nj=function(a){this.parentDomain=null!=a?a:Nj.currentDomain};m["openfl.system.ApplicationDomain"]=Nj;Nj.__name__=["openfl","system","ApplicationDomain"];Nj.prototype={parentDomain:null,
getDefinition:function(a){return La.resolveClass(a)},hasDefinition:function(a){return null!=La.resolveClass(a)},__class__:Nj};var Xb=function(){};m["openfl.system.Capabilities"]=Xb;Xb.__name__=["openfl","system","Capabilities"];Xb.__properties__={get_version:"get_version",get_screenResolutionY:"get_screenResolutionY",get_screenResolutionX:"get_screenResolutionX",get_screenDPI:"get_screenDPI",get_pixelAspectRatio:"get_pixelAspectRatio",get_os:"get_os",get_manufacturer:"get_manufacturer",get_language:"get_language",
get_cpuArchitecture:"get_cpuArchitecture"};Xb.hasMultiChannelAudio=function(a){return!1};Xb.get_cpuArchitecture=function(){return"x86"};Xb.get_language=function(){var a=Nc.get_language(Nc.get_currentLocale());if(null!=a)switch(a=a.toLowerCase(),a){case "cs":case "da":case "de":case "en":case "es":case "fi":case "fr":case "hu":case "it":case "ja":case "ko":case "nb":case "nl":case "pl":case "pt":case "ru":case "sv":case "tr":return a;case "zh":a=Nc.get_region(Nc.get_currentLocale());if(null!=a)switch(a.toUpperCase()){case "HANT":case "TW":return"zh-TW"}return"zh-CN";
default:return"xu"}return"en"};Xb.get_manufacturer=function(){return"OpenFL HTML5"};Xb.get_os=function(){return"HTML5"};Xb.get_pixelAspectRatio=function(){return 1};Xb.get_screenDPI=function(){var a=null!=xa.application?xa.application.__windows[0]:null,b=72;null!=a&&(b*=a.__scale);return b};Xb.get_screenResolutionX=function(){var a=xa.current.stage,b=0;if(null!=a.window){var c=a.window.get_display();null!=c&&(b=c.currentMode.width)}return 0<b?b:a.stageWidth};Xb.get_screenResolutionY=function(){var a=
xa.current.stage,b=0;if(null!=a.window){var c=a.window.get_display();null!=c&&(b=c.currentMode.height)}return 0<b?b:a.stageHeight};Xb.get_version=function(){var a;return a="WEB"+(" "+Da.replace("6.1.0",".",",")+",0")};var gt=function(a,b,c){null==a&&(a=!1);this.checkPolicyFile=a;this.securityDomain=c;this.applicationDomain=b;this.allowLoadBytesCodeExecution=this.allowCodeImport=!0};m["openfl.system.LoaderContext"]=gt;gt.__name__=["openfl","system","LoaderContext"];gt.prototype={allowCodeImport:null,
allowLoadBytesCodeExecution:null,applicationDomain:null,checkPolicyFile:null,securityDomain:null,__class__:gt};var Gp=function(){};m["openfl.system.SecurityDomain"]=Gp;Gp.__name__=["openfl","system","SecurityDomain"];Gp.prototype={__class__:Gp};var bg=function(){};m["openfl.system.System"]=bg;bg.__name__=["openfl","system","System"];bg.__properties__={get_vmVersion:"get_vmVersion",get_totalMemory:"get_totalMemory"};bg.exit=function(a){nb.exit(a)};bg.gc=function(){};bg.pause=function(){xa.notImplemented({fileName:"System.hx",
lineNumber:40,className:"openfl.system.System",methodName:"pause"})};bg.resume=function(){xa.notImplemented({fileName:"System.hx",lineNumber:47,className:"openfl.system.System",methodName:"resume"})};bg.setClipboard=function(a){ae.set_text(a)};bg.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0};bg.get_vmVersion=function(){return"1.0.0"};var Ml={};m["openfl.system._TouchscreenType.TouchscreenType_Impl_"]=Ml;Ml.__name__=["openfl",
"system","_TouchscreenType","TouchscreenType_Impl_"];Ml.fromString=function(a){switch(a){case "finger":return 0;case "none":return 1;case "stylus":return 2;default:return null}};Ml.toString=function(a){switch(a){case 0:return"finger";case 1:return"none";case 2:return"stylus";default:return null}};var Hp={};m["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=Hp;Hp.__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"];Hp.fromString=function(a){switch(a){case "advanced":return 0;case "normal":return 1;
default:return null}};Hp.toString=function(a){switch(a){case 0:return"advanced";case 1:return"normal";default:return null}};var Yj={};m["openfl.text._FontStyle.FontStyle_Impl_"]=Yj;Yj.__name__=["openfl","text","_FontStyle","FontStyle_Impl_"];Yj.fromString=function(a){switch(a){case "bold":return 0;case "boldItalic":return 1;case "italic":return 2;case "regular":return 3;default:return null}};Yj.toString=function(a){switch(a){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";
default:return null}};var Nl={};m["openfl.text._FontType.FontType_Impl_"]=Nl;Nl.__name__=["openfl","text","_FontType","FontType_Impl_"];Nl.fromString=function(a){switch(a){case "device":return 0;case "embedded":return 1;case "embeddedCFF":return 2;default:return null}};Nl.toString=function(a){switch(a){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var Ol={};m["openfl.text._GridFitType.GridFitType_Impl_"]=Ol;Ol.__name__=["openfl","text","_GridFitType",
"GridFitType_Impl_"];Ol.fromString=function(a){switch(a){case "none":return 0;case "pixel":return 1;case "subpixel":return 2;default:return null}};Ol.toString=function(a){switch(a){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var zl=function(){Eb.call(this);this.__graphics=new Ci(this)};m["openfl.text.StaticText"]=zl;zl.__name__=["openfl","text","StaticText"];zl.__super__=Eb;zl.prototype=z(Eb.prototype,{text:null,__class__:zl});var Tb=function(){Ab.call(this);
this.__caretIndex=-1;this.__displayAsPassword=!1;this.__graphics=new Ci(this);this.__textEngine=new Ma(this);this.__layoutDirty=!0;this.__offsetY=this.__offsetX=0;this.__mouseWheelEnabled=this.__tabEnabled=!0;this.__text="";null==Tb.__defaultTextFormat&&(Tb.__defaultTextFormat=new Ec("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),Tb.__defaultTextFormat.blockIndent=0,Tb.__defaultTextFormat.bullet=!1,Tb.__defaultTextFormat.letterSpacing=0,Tb.__defaultTextFormat.kerning=!1);this.__textFormat=Tb.__defaultTextFormat.clone();
this.__textEngine.textFormatRanges.push(new Vg(this.__textFormat,0,0));this.addEventListener("mouseDown",u(this,this.this_onMouseDown))};m["openfl.text.TextField"]=Tb;Tb.__name__=["openfl","text","TextField"];Tb.__interfaces__=[Wi];Tb.__super__=Ab;Tb.prototype=z(Ab.prototype,{shader:null,__bounds:null,__caretIndex:null,__cursorTimer:null,__dirty:null,__displayAsPassword:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,__mouseWheelEnabled:null,__offsetX:null,__offsetY:null,__selectionIndex:null,
__showCursor:null,__symbol:null,__text:null,__htmlText:null,__textEngine:null,__textFormat:null,__div:null,appendText:function(a){null!=a&&""!=a&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__updateText(ka.plus(this.__text,a)),this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end=ka.get_length(this.__text))},getCharBoundaries:function(a){if(0>a||a>ka.get_length(this.__text)-1)return null;
this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<e;)var f=c++,b=b+d.advances[f];return new ya(b,d.offsetY,d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},getCharIndexAtPoint:function(a,b){if(2>=a||a>this.get_width()+4||0>=b||b>this.get_height()+4)return-1;this.__updateLayout();a+=this.get_scrollH();for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=
this.__textEngine.lineHeights.get(e)}d=0;for(e=this.__textEngine.layoutGroups;d<e.get_length();)if(c=e.get(d),++d,b>=c.offsetY&&b<=c.offsetY+c.height&&a>=c.offsetX&&a<=c.offsetX+c.width){for(var e=d=0,f=c.advances.length;e<f;){var g=e++,d=d+c.advances[g];if(a<=c.offsetX+d)return c.startIndex+g}return c.endIndex}return-1},getFirstCharInParagraph:function(a){if(0>a||a>ka.get_length(this.__text)-1)return 0;for(var b=this.__textEngine.getLineBreakIndex(),c=0;-1<b;){if(b<=a)c=b+1;else if(b>a)break;b=this.__textEngine.getLineBreakIndex(b+
1)}return c},getLineIndexAtPoint:function(a,b){this.__updateLayout();if(2>=a||a>this.get_width()+4||0>=b||b>this.get_height()+4)return-1;for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights.get(e)}c=0;for(d=this.__textEngine.layoutGroups;c<d.get_length();)if(e=d.get(c),++c,b>=e.offsetY&&b<=e.offsetY+e.height)return e.lineIndex;return-1},getLineIndexOfChar:function(a){if(0>a||a>ka.get_length(this.__text))return-1;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<
c.get_length();){var d=c.get(b);++b;if(d.startIndex<=a&&d.endIndex>=a)return d.lineIndex}return-1},getLineLength:function(a){this.__updateLayout();if(0>a||a>this.__textEngine.numLines-1)return 0;for(var b=-1,c=-1,d=0,e=this.__textEngine.layoutGroups;d<e.get_length();){var f=e.get(d);++d;if(f.lineIndex==a)-1==b&&(b=f.startIndex);else if(f.lineIndex==a+1){c=f.startIndex;break}}-1==c&&(c=ka.get_length(this.__text));return c-b},getLineMetrics:function(a){this.__updateLayout();var b=this.__textEngine.lineAscents.get(a),
c=this.__textEngine.lineDescents.get(a),d=this.__textEngine.lineLeadings.get(a),e=this.__textEngine.lineHeights.get(a);a=this.__textEngine.lineWidths.get(a);var f;switch(this.__textFormat.align){case 0:f=(this.__textEngine.width-a)/2;break;case 1:case 4:f=this.__textEngine.width-a-2;break;case 2:case 3:case 5:f=2}return new cs(f,a,e,b,c,d)},getLineOffset:function(a){this.__updateLayout();if(0>a||a>this.__textEngine.numLines-1)return-1;for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=
c.get(b);++b;if(d.lineIndex==a)return d.startIndex}return 0},getLineText:function(a){this.__updateLayout();if(0>a||a>this.__textEngine.numLines-1)return null;for(var b=-1,c=-1,d=0,e=this.__textEngine.layoutGroups;d<e.get_length();){var f=e.get(d);++d;if(f.lineIndex==a)-1==b&&(b=f.startIndex);else if(f.lineIndex==a+1){c=f.startIndex;break}}-1==c&&(c=ka.get_length(this.__text));return ka.substring(this.__textEngine.text,b,c)},getParagraphLength:function(a){if(0>a||a>ka.get_length(this.__text)-1)return 0;
var b=this.getFirstCharInParagraph(a);a=this.__textEngine.getLineBreakIndex(a)+1;0==a&&(a=ka.get_length(this.__text));return a-b},getTextFormat:function(a,b){null==b&&(b=0);null==a&&(a=0);for(var c=null,d=0,e=this.__textEngine.textFormatRanges;d<e.get_length();){var f=e.get(d);++d;if(f.start<=a&&f.end>=a||f.start<=b&&f.end>=b)null==c?c=f.format.clone():(f.format.font!=c.font&&(c.font=null),f.format.size!=c.size&&(c.size=null),f.format.color!=c.color&&(c.color=null),f.format.bold!=c.bold&&(c.bold=
null),f.format.italic!=c.italic&&(c.italic=null),f.format.underline!=c.underline&&(c.underline=null),f.format.url!=c.url&&(c.url=null),f.format.target!=c.target&&(c.target=null),f.format.align!=c.align&&(c.align=null),f.format.leftMargin!=c.leftMargin&&(c.leftMargin=null),f.format.rightMargin!=c.rightMargin&&(c.rightMargin=null),f.format.indent!=c.indent&&(c.indent=null),f.format.leading!=c.leading&&(c.leading=null),f.format.blockIndent!=c.blockIndent&&(c.blockIndent=null),f.format.bullet!=c.bullet&&
(c.bullet=null),f.format.kerning!=c.kerning&&(c.kerning=null),f.format.letterSpacing!=c.letterSpacing&&(c.letterSpacing=null),f.format.tabStops!=c.tabStops&&(c.tabStops=null))}return c},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);a=b+ka.get_length(y.__cast(a,String));this.setSelection(a,
a)}},replaceText:function(a,b,c){if(!(b<a||0>a||b>ka.get_length(this.__text)||null==c)){this.__updateText(ka.substring(this.__text,0,a)+c+ka.substring(this.__text,b));for(var d=c.length-(b-a),e=0,f;e<this.__textEngine.textFormatRanges.get_length();)f=this.__textEngine.textFormatRanges.get(e),f.start<=a&&f.end>=b?(f.end+=d,++e):f.start>=a&&f.end<=b?(0<e?this.__textEngine.textFormatRanges.splice(e,1):(f.start=0,f.end=a+c.length,++e),d-=f.end-f.start):(f.start>a&&f.start<=b&&(f.start+=d),++e);this.__layoutDirty=
this.__dirty=!0;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},setSelection:function(a,b){this.__selectionIndex=a;this.__caretIndex=b},setTextFormat:function(a,b,c){null==c&&(c=0);null==b&&(b=0);var d=ka.get_length(this.get_text()),e;0>b&&(b=0);0>c&&(c=0);0==c&&(c=0==b?d:b+1);if(!(c<b)){if(0==b&&c==d)this.__textFormat.__merge(a),1<this.__textEngine.textFormatRanges.get_length()&&(this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-
1),e=this.__textEngine.textFormatRanges.get(0),e.format=this.__textFormat,e.start=0,e.end=d);else{for(var f=this.__textEngine.textFormatRanges.get_length();0<f;){--f;e=this.__textEngine.textFormatRanges.get(f);if(e.start==b&&e.end==c){e.format=Tb.__defaultTextFormat.clone();e.format.__merge(a);return}e.start>b&&e.end<c&&(e=this.__textEngine.textFormatRanges.indexOf(e,0),-1<e&&this.__textEngine.textFormatRanges.splice(e,1))}for(var g=null,f=null,h=0,m=this.__textEngine.textFormatRanges.get_length();h<
m;)e=h++,e=this.__textEngine.textFormatRanges.get(e),0<b&&null==g&&e.end>=b&&(g=e),c<d&&e.start<=c&&(f=e);f==g&&(f=new Vg(f.format.clone(),f.start,f.end),this.__textEngine.textFormatRanges.push(f));null!=g&&(g.end=b,g.end<=g.start&&(e=this.__textEngine.textFormatRanges.indexOf(g,0),-1<e&&this.__textEngine.textFormatRanges.splice(e,1),g=null));null!=f&&(f.start=c,f.start>=f.end&&(e=this.__textEngine.textFormatRanges.indexOf(f,0),-1<e&&this.__textEngine.textFormatRanges.splice(e,1),f=null));d=Tb.__defaultTextFormat.clone();
d.__merge(a);this.__textEngine.textFormatRanges.push(new Vg(d,b,c));this.__textEngine.textFormatRanges.sort(function(a,b){return a.start<b.start||a.end<b.end?-1:a.start>b.start||a.end>b.end?1:0})}this.__layoutDirty=this.__dirty=!0;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},__caretBeginningOfLine:function(){this.__selectionIndex==this.__caretIndex||this.__caretIndex<this.__selectionIndex?this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex)):
this.__selectionIndex=this.getLineOffset(this.getLineIndexOfChar(this.__selectionIndex))},__caretEndOfLine:function(){var a;a=this.__selectionIndex==this.__caretIndex?this.getLineIndexOfChar(this.__caretIndex):this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0);this.__caretIndex=a<this.__textEngine.numLines-1?this.getLineOffset(a+1)-1:ka.get_length(this.__text)},__caretNextCharacter:function(){this.__caretIndex<ka.get_length(this.__text)&&this.__caretIndex++},__caretNextLine:function(a,
b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));a<this.__textEngine.numLines-1?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,a+1)):this.__caretIndex=ka.get_length(this.__text)},__caretPreviousCharacter:function(){0<this.__caretIndex&&this.__caretIndex--},__caretPreviousLine:function(a,b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));0<a?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,a-1)):this.__caretIndex=
0},__disableInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(u(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(u(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__dispatch:function(a){if(2==a.eventPhase&&"mouseUp"==a.type){var b=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);null!=b&&(b=b.format.url,""!=b&&(Da.startsWith(b,"event:")?this.dispatchEvent(new Lf("link",
!1,!1,da.substr(b,6,null))):xa.getURL(new Fe(b))))}return Ab.prototype.__dispatch.call(this,a)},__enableInput:function(){null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(u(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(u(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(u(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},
__fromSymbol:function(a,b){this.__symbol=b;this.set_width(b.width);this.set_height(b.height);this.__offsetX=b.x;this.__offsetY=b.y;this.set_multiline(b.multiline);this.set_wordWrap(b.wordWrap);this.set_displayAsPassword(b.password);b.border&&(this.set_border(!0),this.set_background(!0));this.set_selectable(b.selectable);b.input&&this.set_type(1);var c=new Ec;null!=b.color&&(c.color=b.color&16777215);c.size=Math.round(b.fontHeight/20);var d=a.symbols.h[b.fontID];null!=d&&(c.__ascent=d.ascent/20/1024,
c.__descent=d.descent/20/1024);c.font=b.fontName;var d=!1,e=c.font;if(null==e)d=!0;else switch(e){case "":case "_sans":case "_serif":case "_typewriter":d=!0;break;default:for(var e=0,f=id.enumerateFonts();e<f.length;){var g=f[e];++e;if(g.name==c.font){d=!0;break}}}if(!d)for(e=/[^a-zA-Z]+/,f=0,g=id.enumerateFonts();f<g.length;){var h=g[f];++f;if(da.substr(h.name.replace(e,""),0,b.fontName.length)==b.fontName){c.font=h.name;d=!0;break}}d?this.set_embedFonts(!0):(d=c.font,e=Tb.__missingFontWarning,(null!=
t[d]?e.existsReserved(d):e.h.hasOwnProperty(d))||(d=c.font,e=Tb.__missingFontWarning,null!=t[d]?e.setReserved(d,!0):e.h[d]=!0,rb.warn('Could not find required font "'+c.font+'", it has not been embedded',{fileName:"TextField.hx",lineNumber:1039,className:"openfl.text.TextField",methodName:"__fromSymbol"})));null!=b.align&&("center"==b.align?c.align=0:"right"==b.align?c.align=4:"justify"==b.align&&(c.align=2),c.leftMargin=b.leftMargin/20|0,c.rightMargin=b.rightMargin/20|0,c.indent=b.indent/20|0,c.leading=
b.leading/20|0);this.set_defaultTextFormat(c);null!=b.text&&(b.html?this.set_htmlText(b.text):this.set_text(b.text))},__getBounds:function(a,b){this.__updateLayout();var c=ya.__pool.get();c.copyFrom(this.__textEngine.bounds);c.x+=this.__offsetX;c.y+=this.__offsetY;c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height);ya.__pool.release(c)},__getCharIndexOnDifferentLine:function(a,b){if(0>a||a>ka.get_length(this.__text)||0>b||b>this.__textEngine.numLines-1)return-1;for(var c=null,d=null,e=0,f=this.__textEngine.layoutGroups;e<
f.get_length();){var g=f.get(e);++e;if(a>=g.startIndex&&a<=g.endIndex){for(var c=g.offsetX,h=0,m=a-g.startIndex;h<m;)var q=h++,c=c+g.advances[q];if(null!=d)return this.__getPosition(c,d)}if(g.lineIndex==b&&(d=g.offsetY+g.height/2,null!=c))return this.__getPosition(c,d)}return-1},__getCursor:function(){var a=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return null!=a&&""!=a.format.url?Ia.POINTER:this.__textEngine.selectable?Ia.TEXT:null},__getGroup:function(a,b,c){null==c&&(c=!1);this.__updateLayout();
a+=this.get_scrollH();for(var d=0,e=this.get_scrollV()-1;d<e;){var f=d++;b+=this.__textEngine.lineHeights.get(f)}!c&&b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,g,f=0,h=this.__textEngine.layoutGroups.get_length();f<h;)if(g=f++,e=this.__textEngine.layoutGroups.get(g),g=g<this.__textEngine.layoutGroups.get_length()-1?this.__textEngine.layoutGroups.get(g+1):null,d&&(b<e.offsetY&&(b=e.offsetY),a<e.offsetX&&(a=e.offsetX),d=!1),b>=e.offsetY&&b<=e.offsetY+e.height||!c&&
null==g)if(a>=e.offsetX&&a<=e.offsetX+e.width||!c&&(null==g||g.lineIndex!=e.lineIndex))return e;return null},__getPosition:function(a,b){var c=this.__getGroup(a,b);if(null==c)return ka.get_length(this.__text);for(var d=0,e=0,f=c.advances.length;e<f;){var g=e++,d=d+c.advances[g];if(a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[g])+c.advances[g]/2)return c.startIndex+g;if(c.startIndex+g<c.endIndex)return c.startIndex+g+1;break}}return c.endIndex},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||
this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();this.__updateLayout();c=this.__renderTransform;e=c.a*c.d-c.b*c.c;var g=this.__renderTransform,h=g.a*g.d-g.b*g.c;return this.__textEngine.bounds.contains(0==e?-c.tx:1/e*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==h?-g.ty:1/h*(g.a*(b-g.ty)+g.b*(g.tx-a)))?(null!=d&&d.push(f),!0):!1},__hitTestMask:function(a,b){this.__getRenderTransform();this.__updateLayout();var c=this.__renderTransform,
d=c.a*c.d-c.b*c.c,e=this.__renderTransform,f=e.a*e.d-e.b*e.c;return this.__textEngine.bounds.contains(0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==f?-e.ty:1/f*(e.a*(b-e.ty)+e.b*(e.tx-a)))?!0:!1},__renderCairo:function(a){},__renderCanvas:function(a){var b=this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new ya),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&!ka.equals(b.text,
"")||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));ja.context=d.__context;var g=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=
f;ja.context.setTransform(g.a,g.b,g.c,g.d,g.tx,g.ty);null==ja.clearRect&&(ja.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);ja.clearRect&&ja.context.clearRect(0,0,d.__canvas.width,d.__canvas.height);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=
!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)ja.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=Da.hex(b.backgroundColor&16777215,6),ja.context.fillStyle="#"+c,ja.context.fill()),b.border&&(ja.context.lineWidth=1,c=Da.hex(b.borderColor&16777215,6),ja.context.strokeStyle="#"+c,ja.context.stroke());ja.context.textBaseline="top";ja.context.textAlign="start";for(var c=-this.get_scrollH(),g=f=0,h=this.get_scrollV()-1;g<h;)var m=g++,
f=f-b.lineHeights.get(m);for(var q,g=0,h=(new Za("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),m=0,n=b.layoutGroups;m<n.get_length();){var l=n.get(m);++m;if(!(l.lineIndex<this.get_scrollV()-1)){if(l.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;ja.context.font=Ma.getFont(l.format);q=Da.hex(l.format.color&16777215,6);ja.context.fillStyle="#"+q;h&&(g=.185*l.format.size);if(null!=this.__filters&&0<this.__filters.length&&y.__instanceof(this.__filters[0],tf)){q=this.__filters[0];
var r=ja.context.globalAlpha;ja.context.globalAlpha=r*q.alpha;var t=Da.hex(q.color&16777215,6);ja.context.strokeStyle="#"+t;ja.context.lineWidth=Math.max(q.blurX,q.blurY);ja.context.strokeText(ka.substring(e,l.startIndex,l.endIndex),l.offsetX+c,l.offsetY+g+f);ja.context.strokeStyle=null;ja.context.globalAlpha=r}ja.context.fillText(ka.substring(e,l.startIndex,l.endIndex),l.offsetX+c,l.offsetY+g+f);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&
l.startIndex<=this.__caretIndex&&l.endIndex>=this.__caretIndex){r=q=0;for(t=this.__caretIndex-l.startIndex;r<t;){var u=r++;if(l.advances.length<=u)break;q+=l.advances[u]}ja.context.fillRect(l.offsetX+q,l.offsetY,1,l.height)}}else if(l.startIndex<=this.__caretIndex&&l.endIndex>=this.__caretIndex||l.startIndex<=this.__selectionIndex&&l.endIndex>=this.__selectionIndex||l.startIndex>this.__caretIndex&&l.endIndex<this.__selectionIndex||l.startIndex>this.__selectionIndex&&l.endIndex<this.__caretIndex)q=
Math.min(this.__selectionIndex,this.__caretIndex)|0,r=Math.max(this.__selectionIndex,this.__caretIndex)|0,l.startIndex>q&&(q=l.startIndex),l.endIndex<r&&(r=l.endIndex),t=this.getCharBoundaries(q),r>=ka.get_length(b.text)?(u=this.getCharBoundaries(ka.get_length(b.text)-1),u.x+=u.width+2):u=this.getCharBoundaries(r),null!=t&&null!=u&&(ja.context.fillStyle="#000000",ja.context.fillRect(t.x,t.y,u.x-t.x,l.height),ja.context.fillStyle="#FFFFFF",ja.context.fillText(ka.substring(e,q,r),c+t.x,l.offsetY+g+
f))}}}else{if(b.border||b.background)b.border?ja.context.rect(.5,.5,c.width-1,c.height-1):ja.context.rect(0,0,c.width,c.height),b.background&&(e=Da.hex(b.backgroundColor&16777215,6),ja.context.fillStyle="#"+e,ja.context.fill()),b.border&&(ja.context.lineWidth=1,ja.context.lineCap="square",e=Da.hex(b.borderColor&16777215,6),ja.context.strokeStyle="#"+e,ja.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();f=c=0;for(g=this.get_scrollV()-1;f<g;)h=f++,c-=
b.lineHeights.get(h);ja.context.beginPath();b=Da.hex(this.get_defaultTextFormat().color&16777215,6);ja.context.strokeStyle="#"+b;ja.context.moveTo(e+2.5,c+2.5);ja.context.lineWidth=1;ja.context.lineTo(e+2.5,c+Ma.getFormatHeight(this.get_defaultTextFormat())-1);ja.context.stroke();ja.context.closePath()}}d.__bitmap=Ha.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){if(d=a.context.imageSmoothingEnabled)a.context.mozImageSmoothingEnabled=
!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1;Ab.prototype.__renderCanvas.call(this,a);d&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else Ab.prototype.__renderCanvas.call(this,a)},__renderDOM:function(a){},__renderDOMClear:function(a){},__renderGL:function(a){var b=this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new ya),d.__bounds.copyFrom(c));
d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&!ka.equals(b.text,"")||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));
ja.context=d.__context;var g=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=f;ja.context.setTransform(g.a,g.b,g.c,g.d,g.tx,g.ty);null==ja.clearRect&&(ja.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);ja.clearRect&&ja.context.clearRect(0,0,d.__canvas.width,d.__canvas.height);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=
!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)ja.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=Da.hex(b.backgroundColor&16777215,6),ja.context.fillStyle="#"+c,ja.context.fill()),b.border&&(ja.context.lineWidth=1,c=Da.hex(b.borderColor&16777215,6),ja.context.strokeStyle="#"+c,ja.context.stroke());ja.context.textBaseline="top";ja.context.textAlign="start";
for(var c=-this.get_scrollH(),g=f=0,h=this.get_scrollV()-1;g<h;)var m=g++,f=f-b.lineHeights.get(m);for(var q,g=0,h=(new Za("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),m=0,n=b.layoutGroups;m<n.get_length();){var l=n.get(m);++m;if(!(l.lineIndex<this.get_scrollV()-1)){if(l.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;ja.context.font=Ma.getFont(l.format);q=Da.hex(l.format.color&16777215,6);ja.context.fillStyle="#"+q;h&&(g=.185*l.format.size);if(null!=this.__filters&&0<
this.__filters.length&&y.__instanceof(this.__filters[0],tf)){q=this.__filters[0];var r=ja.context.globalAlpha;ja.context.globalAlpha=r*q.alpha;var t=Da.hex(q.color&16777215,6);ja.context.strokeStyle="#"+t;ja.context.lineWidth=Math.max(q.blurX,q.blurY);ja.context.strokeText(ka.substring(e,l.startIndex,l.endIndex),l.offsetX+c,l.offsetY+g+f);ja.context.strokeStyle=null;ja.context.globalAlpha=r}ja.context.fillText(ka.substring(e,l.startIndex,l.endIndex),l.offsetX+c,l.offsetY+g+f);if(-1<this.__caretIndex&&
b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&l.startIndex<=this.__caretIndex&&l.endIndex>=this.__caretIndex){r=q=0;for(t=this.__caretIndex-l.startIndex;r<t;){var u=r++;if(l.advances.length<=u)break;q+=l.advances[u]}ja.context.fillRect(l.offsetX+q,l.offsetY,1,l.height)}}else if(l.startIndex<=this.__caretIndex&&l.endIndex>=this.__caretIndex||l.startIndex<=this.__selectionIndex&&l.endIndex>=this.__selectionIndex||l.startIndex>this.__caretIndex&&l.endIndex<this.__selectionIndex||
l.startIndex>this.__selectionIndex&&l.endIndex<this.__caretIndex)q=Math.min(this.__selectionIndex,this.__caretIndex)|0,r=Math.max(this.__selectionIndex,this.__caretIndex)|0,l.startIndex>q&&(q=l.startIndex),l.endIndex<r&&(r=l.endIndex),t=this.getCharBoundaries(q),r>=ka.get_length(b.text)?(u=this.getCharBoundaries(ka.get_length(b.text)-1),u.x+=u.width+2):u=this.getCharBoundaries(r),null!=t&&null!=u&&(ja.context.fillStyle="#000000",ja.context.fillRect(t.x,t.y,u.x-t.x,l.height),ja.context.fillStyle="#FFFFFF",
ja.context.fillText(ka.substring(e,q,r),c+t.x,l.offsetY+g+f))}}}else{if(b.border||b.background)b.border?ja.context.rect(.5,.5,c.width-1,c.height-1):ja.context.rect(0,0,c.width,c.height),b.background&&(e=Da.hex(b.backgroundColor&16777215,6),ja.context.fillStyle="#"+e,ja.context.fill()),b.border&&(ja.context.lineWidth=1,ja.context.lineCap="square",e=Da.hex(b.borderColor&16777215,6),ja.context.strokeStyle="#"+e,ja.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();
f=c=0;for(g=this.get_scrollV()-1;f<g;)h=f++,c-=b.lineHeights.get(h);ja.context.beginPath();b=Da.hex(this.get_defaultTextFormat().color&16777215,6);ja.context.strokeStyle="#"+b;ja.context.moveTo(e+2.5,c+2.5);ja.context.lineWidth=1;ja.context.lineTo(e+2.5,c+Ma.getFormatHeight(this.get_defaultTextFormat())-1);ja.context.stroke();ja.context.closePath()}}d.__bitmap=Ha.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}Ab.prototype.__renderGL.call(this,a)},__startCursorTimer:function(){this.__cursorTimer=
hf.delay(u(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=ka.get_length(this.__text));this.__enableInput()},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=
!0,this.__setParentRenderDirty()))},__stopTextInput:function(){this.__disableInput()},__updateLayout:function(){if(this.__layoutDirty){var a=this.__textEngine.width;this.__textEngine.update();if(2!=this.__textEngine.autoSize){if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2);break;case 3:this.set_x(this.get_x()+(a-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1}},__updateText:function(a){this.__text=
a;ka.get_length(this.__text)<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=ka.get_length(this.__text));if(this.__displayAsPassword){a="";for(var b=0,c=ka.get_length(this.get_text());b<c;)b++,a+="*";this.__textEngine.set_text(a)}else this.__textEngine.set_text(this.__text)},__updateTransforms:function(a){Ab.prototype.__updateTransforms.call(this,a);a=this.__renderTransform;var b=this.__offsetX,c=this.__offsetY;a.tx=b*a.a+c*a.c+a.tx;a.ty=b*a.b+c*a.d+a.ty},get_antiAliasType:function(){return this.__textEngine.antiAliasType},
set_antiAliasType:function(a){return this.__textEngine.antiAliasType=a},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.autoSize=a},get_background:function(){return this.__textEngine.background},set_background:function(a){a!=this.__textEngine.background&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=
!0,this.__setParentRenderDirty()));return this.__textEngine.background=a},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(a){a!=this.__textEngine.backgroundColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.backgroundColor=a},get_border:function(){return this.__textEngine.border},set_border:function(a){a!=this.__textEngine.border&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=
!0,this.__setParentRenderDirty()));return this.__textEngine.border=a},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(a){a!=this.__textEngine.borderColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.borderColor=a},get_bottomScrollV:function(){this.__updateLayout();return this.__textEngine.bottomScrollV},get_cacheAsBitmap:function(){return null!=this.__filters&&1==this.__filters.length&&
y.__instanceof(this.__filters[0],tf)?!1:Ab.prototype.get_cacheAsBitmap.call(this)},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=!0;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return a},get_displayAsPassword:function(){return this.__displayAsPassword},set_displayAsPassword:function(a){a!=this.__displayAsPassword&&
(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__displayAsPassword=a,this.__updateText(this.__text));return a},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(a){return this.__textEngine.gridFitType=a},get_height:function(){this.__updateLayout();return this.__textEngine.height*
Math.abs(this.get_scaleY())},set_height:function(a){a!=this.__textEngine.height&&(this.__setTransformDirty(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.height=a);return this.__textEngine.height*Math.abs(this.get_scaleY())},get_htmlText:function(){return this.__text},set_htmlText:function(a){this.__isHTML&&this.__text==a||(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));
this.__isHTML=!0;a=Ya.parse(a,this.__textFormat,this.__textEngine.textFormatRanges);this.__updateText(a);return a},get_length:function(){return null!=this.__text?ka.get_length(this.__text):0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(a){a!=this.__textEngine.maxChars&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.maxChars=a},get_maxScrollH:function(){this.__updateLayout();
return this.__textEngine.maxScrollH},get_maxScrollV:function(){this.__updateLayout();return this.__textEngine.maxScrollV},get_mouseWheelEnabled:function(){return this.__mouseWheelEnabled},set_mouseWheelEnabled:function(a){return this.__mouseWheelEnabled=a},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.multiline=
a},get_numLines:function(){this.__updateLayout();return this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(a){return this.__textEngine.set_restrict(a)},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(a){this.__updateLayout();a>this.__textEngine.maxScrollH&&(a=this.__textEngine.maxScrollH);0>a&&(a=0);a!=this.__textEngine.scrollH&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),
this.dispatchEvent(new ca("scroll")));return this.__textEngine.scrollH=a},get_scrollV:function(){return this.__textEngine.scrollV},set_scrollV:function(a){this.__updateLayout();a>this.__textEngine.maxScrollV&&(a=this.__textEngine.maxScrollV);1>a&&(a=1);a!=this.__textEngine.scrollV&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.dispatchEvent(new ca("scroll")));return this.__textEngine.scrollV=a},get_selectable:function(){return this.__textEngine.selectable},
set_selectable:function(a){a!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=a},get_selectionBeginIndex:function(){return Math.min(this.__caretIndex,this.__selectionIndex)|0},get_selectionEndIndex:function(){return Math.max(this.__caretIndex,this.__selectionIndex)|0},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(a){a!=this.__textEngine.sharpness&&
(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.sharpness=a},get_text:function(){return this.__text},set_text:function(a){if(this.__isHTML||this.__text!=a)this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());else return a;1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var b=this.__textEngine.textFormatRanges.get(0);
b.format=this.__textFormat;b.start=0;b.end=ka.get_length(a);this.__isHTML=!1;this.__updateText(a);return a},get_textColor:function(){return this.__textFormat.color},set_textColor:function(a){a!=this.__textFormat.color&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));for(var b=0,c=this.__textEngine.textFormatRanges;b<c.get_length();){var d=c.get(b);++b;d.format.color=a}return this.__textFormat.color=a},get_textWidth:function(){this.__updateLayout();return this.__textEngine.textWidth},
get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(a){a!=this.__textEngine.type&&(1==a?(this.addEventListener("focusIn",u(this,this.this_onFocusIn)),this.addEventListener("focusOut",u(this,this.this_onFocusOut)),this.addEventListener("addedToStage",u(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("focusIn",u(this,this.this_onFocusIn)),
this.removeEventListener("focusOut",u(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",u(this,this.this_onAddedToStage)),this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.type=a},get_width:function(){this.__updateLayout();return this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(a){a!=this.__textEngine.width&&(this.__setTransformDirty(),
this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.width=a);return this.__textEngine.width*Math.abs(this.__scaleX)},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&
this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",u(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",u(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();
this.__updateLayout();this.get_x();this.get_y();this.get_x();this.get_y();var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=Math.min(this.__selectionIndex,b)|0;b=Math.max(this.__selectionIndex,b)|0;this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},this_onFocusIn:function(a){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&
this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.stage.addEventListener("mouseMove",u(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",u(this,this.stage_onMouseUp)))},
window_onKeyDown:function(a,b){switch(a){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new ca("change",!0)));break;case 97:if(ib.get_metaKey(b)||ib.get_ctrlKey(b))this.__caretIndex=ka.get_length(this.__text),this.__selectionIndex=0;break;case 99:(ib.get_metaKey(b)||ib.get_ctrlKey(b))&&ae.set_text(ka.substring(this.__text,
this.__caretIndex,this.__selectionIndex));break;case 120:if(ib.get_metaKey(b)||ib.get_ctrlKey(b))ae.set_text(ka.substring(this.__text,this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new ca("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<ka.get_length(this.__text)&&(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),
this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new ca("change",!0)));break;case 1073741898:this.__caretBeginningOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741901:this.__caretEndOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:ib.get_metaKey(b)?(this.__caretEndOfLine(),ib.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):ib.get_shiftKey(b)?this.__caretNextCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretNextCharacter():
this.__caretIndex=Math.max(this.__caretIndex,this.__selectionIndex)|0,this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741904:ib.get_metaKey(b)?(this.__caretBeginningOfLine(),ib.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):ib.get_shiftKey(b)?this.__caretPreviousCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretPreviousCharacter():this.__caretIndex=Math.min(this.__caretIndex,this.__selectionIndex)|0,this.__selectionIndex=
this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741905:if(ib.get_shiftKey(b))this.__caretNextLine();else{if(this.__selectionIndex==this.__caretIndex)this.__caretNextLine();else{var c=this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0);this.__caretNextLine(c,Math.min(this.__caretIndex,this.__selectionIndex)|0)}this.__selectionIndex=this.__caretIndex}this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741906:ib.get_shiftKey(b)?
this.__caretPreviousLine():(this.__selectionIndex==this.__caretIndex?this.__caretPreviousLine():(c=this.getLineIndexOfChar(Math.min(this.__caretIndex,this.__selectionIndex)|0),this.__caretPreviousLine(c,Math.min(this.__caretIndex,this.__selectionIndex)|0)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 13:case 1073741912:this.__textEngine.multiline&&(this.replaceSelectedText("\n"),this.dispatchEvent(new ca("change",!0)))}},window_onTextInput:function(a){this.replaceSelectedText(a);
this.dispatchEvent(new ca("change",!0))},__class__:Tb,__properties__:z(Ab.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",
set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",set_mouseWheelEnabled:"set_mouseWheelEnabled",get_mouseWheelEnabled:"get_mouseWheelEnabled",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",
get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",
set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var Zj={};m["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=Zj;Zj.__name__=["openfl","text","_TextFieldAutoSize","TextFieldAutoSize_Impl_"];Zj.fromString=function(a){switch(a){case "center":return 0;
case "left":return 1;case "none":return 2;case "right":return 3;default:return null}};Zj.toString=function(a){switch(a){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var Ip={};m["openfl.text._TextFieldType.TextFieldType_Impl_"]=Ip;Ip.__name__=["openfl","text","_TextFieldType","TextFieldType_Impl_"];Ip.fromString=function(a){switch(a){case "dynamic":return 0;case "input":return 1;default:return null}};Ip.toString=function(a){switch(a){case 0:return"dynamic";
case 1:return"input";default:return null}};var Ec=function(a,b,c,d,e,f,g,h,m,q,n,l,r){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=g;this.target=h;this.align=m;this.leftMargin=q;this.rightMargin=n;this.indent=l;this.leading=r};m["openfl.text.TextFormat"]=Ec;Ec.__name__=["openfl","text","TextFormat"];Ec.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,
rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,__ascent:null,__descent:null,clone:function(){var a=new Ec(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;a.__ascent=this.__ascent;
a.__descent=this.__descent;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&
(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops);null!=a.__ascent&&(this.__ascent=a.__ascent);null!=a.__descent&&(this.__descent=a.__descent)},__class__:Ec};var Wg={};m["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=Wg;Wg.__name__=["openfl",
"text","_TextFormatAlign","TextFormatAlign_Impl_"];Wg.fromString=function(a){switch(a){case "center":return 0;case "end":return 1;case "justify":return 2;case "left":return 3;case "right":return 4;case "start":return 5;default:return null}};Wg.toString=function(a){switch(a){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var cs=function(a,b,c,d,e,f){this.x=a;this.width=b;this.height=c;this.ascent=d;
this.descent=e;this.leading=f};m["openfl.text.TextLineMetrics"]=cs;cs.__name__=["openfl","text","TextLineMetrics"];cs.prototype={ascent:null,descent:null,height:null,leading:null,width:null,x:null,__class__:cs};var yb=function(){za.call(this);yb.__instances.push(this)};m["openfl.ui.GameInput"]=yb;yb.__name__=["openfl","ui","GameInput"];yb.getDeviceAt=function(a){return 0<=a&&a<yb.__deviceList.length?yb.__deviceList[a]:null};yb.__getDevice=function(a){if(null==a)return null;if(null==yb.__devices.h.__keys__[a.__id__]){var b=
ic.__getDeviceData()[a.id].id,c=ic.__getDeviceData(),b=new Jp(b,c[a.id].id);yb.__deviceList.push(b);yb.__devices.set(a,b);yb.numDevices=yb.__deviceList.length}return yb.__devices.h[a.__id__]};yb.__onGamepadAxisMove=function(a,b,c){a=yb.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+
b+")"}d=new Jh(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new ca("change"))}};yb.__onGamepadButtonDown=function(a,b){var c=yb.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;
case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Jh(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new ca("change"))}};yb.__onGamepadButtonUp=function(a,b){var c=yb.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d=
"Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Jh(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=0;c.dispatchEvent(new ca("change"))}};yb.__onGamepadConnect=function(a){a=
yb.__getDevice(a);if(null!=a)for(var b=0,c=yb.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new wg("deviceAdded",null,null,a))}};yb.__onGamepadDisconnect=function(a){var b=yb.__devices.h[a.__id__];if(null!=b){null!=yb.__devices.h.__keys__[a.__id__]&&(da.remove(yb.__deviceList,yb.__devices.h[a.__id__]),yb.__devices.remove(a));yb.numDevices=yb.__deviceList.length;a=0;for(var c=yb.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new wg("deviceRemoved",null,null,b))}}};yb.__super__=za;
yb.prototype=z(za.prototype,{addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);za.prototype.addEventListener.call(this,a,b,c,d,e);if("deviceAdded"==a)for(a=0,b=yb.__deviceList;a<b.length;)c=b[a],++a,this.dispatchEvent(new wg("deviceAdded",null,null,c))},__class__:yb});var Jh=function(a,b,c,d,e){null==e&&(e=0);za.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};m["openfl.ui.GameInputControl"]=Jh;Jh.__name__=["openfl","ui","GameInputControl"];
Jh.__super__=za;Jh.prototype=z(za.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:Jh});var Jp=function(a,b){this.__controls=[];this.__button=new fc;this.__axis=new fc;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new Jh(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new Jh(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};m["openfl.ui.GameInputDevice"]=Jp;Jp.__name__=["openfl","ui","GameInputDevice"];
Jp.prototype={enabled:null,id:null,name:null,sampleInterval:null,__axis:null,__button:null,__controls:null,__gamepad:null,getCachedSamples:function(a,b){return 0},getControlAt:function(a){return 0<=a&&a<this.__controls.length?this.__controls[a]:null},startCachingSamples:function(a,b){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:Jp,__properties__:{get_numControls:"get_numControls"}};var wa=function(){};m["openfl.ui.Keyboard"]=wa;wa.__name__=
["openfl","ui","Keyboard"];wa.isAccessible=function(){return!1};wa.__convertKeyCode=function(a){switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;
case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:return 186;case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;
case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;
case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;
case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 108;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;
case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return a}};wa.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;
case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;
case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0};wa.__getKeyLocation=function(a){switch(a){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;
case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};var jf=function(){};m["openfl.ui.Mouse"]=jf;jf.__name__=["openfl","ui","Mouse"];jf.__properties__={set_cursor:"set_cursor",get_cursor:"get_cursor"};jf.hide=function(){Zc.hide()};jf.show=function(){Zc.show()};jf.get_cursor=function(){return jf.__cursor};jf.set_cursor=function(a){switch(a){case "arrow":Zc.set_cursor(Ia.ARROW);break;case "button":Zc.set_cursor(Ia.POINTER);
break;case "crosshair":Zc.set_cursor(Ia.CROSSHAIR);break;case "custom":Zc.set_cursor(Ia.CUSTOM);break;case "hand":Zc.set_cursor(Ia.MOVE);break;case "ibeam":Zc.set_cursor(Ia.TEXT);break;case "resize_nesw":Zc.set_cursor(Ia.RESIZE_NESW);break;case "resize_ns":Zc.set_cursor(Ia.RESIZE_NS);break;case "resize_nwse":Zc.set_cursor(Ia.RESIZE_NWSE);break;case "resize_we":Zc.set_cursor(Ia.RESIZE_WE);break;case "wait":Zc.set_cursor(Ia.WAIT);break;case "waitarrow":Zc.set_cursor(Ia.WAIT_ARROW)}return jf.__cursor=
a};var Oe={};m["openfl.ui._MouseCursor.MouseCursor_Impl_"]=Oe;Oe.__name__=["openfl","ui","_MouseCursor","MouseCursor_Impl_"];Oe.fromLimeCursor=function(a){switch(a[1]){case 0:return"arrow";case 1:return"crosshair";case 2:return"auto";case 3:return"hand";case 4:return"button";case 5:return"resize_nesw";case 6:return"resize_nwse";case 7:return"resize_nwse";case 8:return"resize_we";case 9:return"ibeam";case 10:return"wait";case 11:return"waitarrow";case 12:return"custom"}};var W=function(a){null==a&&
(a=!1);this.debugEnabled=!1;this.debugEnabled=a;W.initialized||W.init()};m["openfl.utils.AGALMiniAssembler"]=W;W.__name__=["openfl","utils","AGALMiniAssembler"];W.init=function(){W.initialized=!0;var a=W.OPMAP,b=new Ob("mov",2,0,0);null!=t.mov?a.setReserved("mov",b):a.h.mov=b;var c=W.OPMAP,d=new Ob("add",3,1,0);null!=t.add?c.setReserved("add",d):c.h.add=d;var e=W.OPMAP,f=new Ob("sub",3,2,0);null!=t.sub?e.setReserved("sub",f):e.h.sub=f;var g=W.OPMAP,h=new Ob("mul",3,3,0);null!=t.mul?g.setReserved("mul",
h):g.h.mul=h;var m=W.OPMAP,q=new Ob("div",3,4,0);null!=t.div?m.setReserved("div",q):m.h.div=q;var n=W.OPMAP,l=new Ob("rcp",2,5,0);null!=t.rcp?n.setReserved("rcp",l):n.h.rcp=l;var r=W.OPMAP,u=new Ob("min",3,6,0);null!=t.min?r.setReserved("min",u):r.h.min=u;var v=W.OPMAP,x=new Ob("max",3,7,0);null!=t.max?v.setReserved("max",x):v.h.max=x;var y=W.OPMAP,z=new Ob("frc",2,8,0);null!=t.frc?y.setReserved("frc",z):y.h.frc=z;var A=W.OPMAP,B=new Ob("sqt",2,9,0);null!=t.sqt?A.setReserved("sqt",B):A.h.sqt=B;var C=
W.OPMAP,D=new Ob("rsq",2,10,0);null!=t.rsq?C.setReserved("rsq",D):C.h.rsq=D;var E=W.OPMAP,F=new Ob("pow",3,11,0);null!=t.pow?E.setReserved("pow",F):E.h.pow=F;var H=W.OPMAP,I=new Ob("log",2,12,0);null!=t.log?H.setReserved("log",I):H.h.log=I;var G=W.OPMAP,J=new Ob("exp",2,13,0);null!=t.exp?G.setReserved("exp",J):G.h.exp=J;var K=W.OPMAP,L=new Ob("nrm",2,14,0);null!=t.nrm?K.setReserved("nrm",L):K.h.nrm=L;var M=W.OPMAP,N=new Ob("sin",2,15,0);null!=t.sin?M.setReserved("sin",N):M.h.sin=N;var O=W.OPMAP,Q=
new Ob("cos",2,16,0);null!=t.cos?O.setReserved("cos",Q):O.h.cos=Q;var P=W.OPMAP,S=new Ob("crs",3,17,0);null!=t.crs?P.setReserved("crs",S):P.h.crs=S;var R=W.OPMAP,T=new Ob("dp3",3,18,0);null!=t.dp3?R.setReserved("dp3",T):R.h.dp3=T;var V=W.OPMAP,U=new Ob("dp4",3,19,0);null!=t.dp4?V.setReserved("dp4",U):V.h.dp4=U;var X=W.OPMAP,Y=new Ob("abs",2,20,0);null!=t.abs?X.setReserved("abs",Y):X.h.abs=Y;var Z=W.OPMAP,aa=new Ob("neg",2,21,0);null!=t.neg?Z.setReserved("neg",aa):Z.h.neg=aa;var ba=W.OPMAP,ca=new Ob("sat",
2,22,0);null!=t.sat?ba.setReserved("sat",ca):ba.h.sat=ca;var da=W.OPMAP,ea=new Ob("m33",3,23,16);null!=t.m33?da.setReserved("m33",ea):da.h.m33=ea;var fa=W.OPMAP,ga=new Ob("m44",3,24,16);null!=t.m44?fa.setReserved("m44",ga):fa.h.m44=ga;var ha=W.OPMAP,ia=new Ob("m34",3,25,16);null!=t.m34?ha.setReserved("m34",ia):ha.h.m34=ia;var ja=W.OPMAP,ka=new Ob("ddx",2,26,288);null!=t.ddx?ja.setReserved("ddx",ka):ja.h.ddx=ka;var la=W.OPMAP,ma=new Ob("ddy",2,27,288);null!=t.ddy?la.setReserved("ddy",ma):la.h.ddy=
ma;var na=W.OPMAP,oa=new Ob("ife",2,28,897);null!=t.ife?na.setReserved("ife",oa):na.h.ife=oa;var pa=W.OPMAP,qa=new Ob("ine",2,29,897);null!=t.ine?pa.setReserved("ine",qa):pa.h.ine=qa;var ra=W.OPMAP,sa=new Ob("ifg",2,30,897);null!=t.ifg?ra.setReserved("ifg",sa):ra.h.ifg=sa;var ta=W.OPMAP,ua=new Ob("ifl",2,31,897);null!=t.ifl?ta.setReserved("ifl",ua):ta.h.ifl=ua;var va=W.OPMAP,wa=new Ob("els",0,32,1921);null!=t.els?va.setReserved("els",wa):va.h.els=wa;var xa=W.OPMAP,ya=new Ob("eif",0,33,1409);null!=
t.eif?xa.setReserved("eif",ya):xa.h.eif=ya;var za=W.OPMAP,Aa=new Ob("kil",1,39,160);null!=t.kil?za.setReserved("kil",Aa):za.h.kil=Aa;var Ba=W.OPMAP,Ca=new Ob("tex",3,40,40);null!=t.tex?Ba.setReserved("tex",Ca):Ba.h.tex=Ca;var Da=W.OPMAP,Ea=new Ob("sge",3,41,0);null!=t.sge?Da.setReserved("sge",Ea):Da.h.sge=Ea;var Fa=W.OPMAP,Ga=new Ob("slt",3,42,0);null!=t.slt?Fa.setReserved("slt",Ga):Fa.h.slt=Ga;var Ha=W.OPMAP,Ia=new Ob("sgn",2,43,0);null!=t.sgn?Ha.setReserved("sgn",Ia):Ha.h.sgn=Ia;var Ja=W.OPMAP,
Ka=new Ob("seq",3,44,0);null!=t.seq?Ja.setReserved("seq",Ka):Ja.h.seq=Ka;var La=W.OPMAP,Ma=new Ob("sne",3,45,0);null!=t.sne?La.setReserved("sne",Ma):La.h.sne=Ma;var Na=W.SAMPLEMAP,Oa=new yc("rgba",8,0);null!=t.rgba?Na.setReserved("rgba",Oa):Na.h.rgba=Oa;var Pa=W.SAMPLEMAP,Qa=new yc("compressed",8,1);null!=t.compressed?Pa.setReserved("compressed",Qa):Pa.h.compressed=Qa;var Ra=W.SAMPLEMAP,Sa=new yc("compressedalpha",8,2);null!=t.compressedalpha?Ra.setReserved("compressedalpha",Sa):Ra.h.compressedalpha=
Sa;var Ta=W.SAMPLEMAP,Ua=new yc("dxt1",8,1);null!=t.dxt1?Ta.setReserved("dxt1",Ua):Ta.h.dxt1=Ua;var Va=W.SAMPLEMAP,Wa=new yc("dxt5",8,2);null!=t.dxt5?Va.setReserved("dxt5",Wa):Va.h.dxt5=Wa;var Xa=W.SAMPLEMAP,Ya=new yc("video",8,3);null!=t.video?Xa.setReserved("video",Ya):Xa.h.video=Ya;var Za=W.SAMPLEMAP,$a=new yc("2d",12,0);null!=t["2d"]?Za.setReserved("2d",$a):Za.h["2d"]=$a;var ab=W.SAMPLEMAP,bb=new yc("3d",12,2);null!=t["3d"]?ab.setReserved("3d",bb):ab.h["3d"]=bb;var cb=W.SAMPLEMAP,db=new yc("cube",
12,1);null!=t.cube?cb.setReserved("cube",db):cb.h.cube=db;var eb=W.SAMPLEMAP,fb=new yc("mipnearest",24,1);null!=t.mipnearest?eb.setReserved("mipnearest",fb):eb.h.mipnearest=fb;var gb=W.SAMPLEMAP,hb=new yc("miplinear",24,2);null!=t.miplinear?gb.setReserved("miplinear",hb):gb.h.miplinear=hb;var ib=W.SAMPLEMAP,jb=new yc("mipnone",24,0);null!=t.mipnone?ib.setReserved("mipnone",jb):ib.h.mipnone=jb;var kb=W.SAMPLEMAP,lb=new yc("nomip",24,0);null!=t.nomip?kb.setReserved("nomip",lb):kb.h.nomip=lb;var mb=
W.SAMPLEMAP,nb=new yc("nearest",28,0);null!=t.nearest?mb.setReserved("nearest",nb):mb.h.nearest=nb;var ob=W.SAMPLEMAP,pb=new yc("linear",28,1);null!=t.linear?ob.setReserved("linear",pb):ob.h.linear=pb;var qb=W.SAMPLEMAP,rb=new yc("anisotropic2x",28,2);null!=t.anisotropic2x?qb.setReserved("anisotropic2x",rb):qb.h.anisotropic2x=rb;var sb=W.SAMPLEMAP,tb=new yc("anisotropic4x",28,3);null!=t.anisotropic4x?sb.setReserved("anisotropic4x",tb):sb.h.anisotropic4x=tb;var ub=W.SAMPLEMAP,vb=new yc("anisotropic8x",
28,4);null!=t.anisotropic8x?ub.setReserved("anisotropic8x",vb):ub.h.anisotropic8x=vb;var wb=W.SAMPLEMAP,xb=new yc("anisotropic16x",28,5);null!=t.anisotropic16x?wb.setReserved("anisotropic16x",xb):wb.h.anisotropic16x=xb;var yb=W.SAMPLEMAP,zb=new yc("centroid",16,1);null!=t.centroid?yb.setReserved("centroid",zb):yb.h.centroid=zb;var Ab=W.SAMPLEMAP,Bb=new yc("single",16,2);null!=t.single?Ab.setReserved("single",Bb):Ab.h.single=Bb;var Cb=W.SAMPLEMAP,Db=new yc("ignoresampler",16,4);null!=t.ignoresampler?
Cb.setReserved("ignoresampler",Db):Cb.h.ignoresampler=Db;var Eb=W.SAMPLEMAP,Fb=new yc("repeat",20,1);null!=t.repeat?Eb.setReserved("repeat",Fb):Eb.h.repeat=Fb;var Gb=W.SAMPLEMAP,Hb=new yc("wrap",20,1);null!=t.wrap?Gb.setReserved("wrap",Hb):Gb.h.wrap=Hb;var Ib=W.SAMPLEMAP,Jb=new yc("clamp",20,0);null!=t.clamp?Ib.setReserved("clamp",Jb):Ib.h.clamp=Jb;var Kb=W.SAMPLEMAP,Lb=new yc("clamp_u_repeat_v",20,2);null!=t.clamp_u_repeat_v?Kb.setReserved("clamp_u_repeat_v",Lb):Kb.h.clamp_u_repeat_v=Lb;var Mb=W.SAMPLEMAP,
Nb=new yc("repeat_u_clamp_v",20,3);null!=t.repeat_u_clamp_v?Mb.setReserved("repeat_u_clamp_v",Nb):Mb.h.repeat_u_clamp_v=Nb};W.prototype={agalcode:null,error:null,verbose:null,debugEnabled:null,assemble2:function(a,b,c,d){c=this.assemble("vertex",c,b);b=this.assemble("fragment",d,b);a=a.createProgram();a.upload(c,b);return a},assemble:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=1);var e=xa.getTimer();this.agalcode=new lc(0);this.error="";var f=!1;"fragment"==a?f=!0:"vertex"!=a&&(this.error='ERROR: mode needs to be "fragment" or "vertex" but is "'+
a+'".');this.agalcode.__endian=1;this.agalcode.writeByte(160);this.agalcode.writeUnsignedInt(c);this.agalcode.writeByte(161);this.agalcode.writeByte(f?1:0);this.initregmap(c,d);a=Da.replace(b,"\r","\n").split("\n");b=0;d=a.length;for(var g=new Za("<.*>","g"),m=new Za("([\\w\\.\\-\\+]+)","gi"),q=new Za("^\\w{3}","ig"),r=new Za("vc\\[([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw](\\+\\d{1,3})?)?\\](\\.[xyzw]{1,4})?|([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw]{1,4})?","gi"),n=new Za("\\[.*\\]","ig"),l=new Za("^\\b[A-Za-z]{1,3}",
"ig"),u=new Za("\\d+",""),v=new Za("(\\.[xyzw]{1,4})",""),x=new Za("[A-Za-z]{1,3}","ig"),y=new Za("(\\.[xyzw]{1,1})",""),z=new Za("\\+\\d{1,3}","ig"),A=0;A<d&&""==this.error;){var B=Da.trim(a[A]),C=B.indexOf("//");-1!=C&&(B=da.substr(B,0,C));var D=g.match(B)?g.matchedPos().pos:-1,C=null;-1!=D&&(C=this.match(da.substr(B,D,null),m),B=da.substr(B,0,D));D=D=null;if(q.match(B))var D=q.matched(0),E=W.OPMAP,D=null!=t[D]?E.getReserved(D):E.h[D];if(null==D)3<=B.length&&Aa.trace("warning: bad line "+A+": "+
a[A],{fileName:"AGALMiniAssembler.hx",lineNumber:284,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});else if(this.debugEnabled&&Aa.trace(D,{fileName:"AGALMiniAssembler.hx",lineNumber:296,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null==D)3<=B.length&&Aa.trace("warning: bad line "+A+": "+a[A],{fileName:"AGALMiniAssembler.hx",lineNumber:304,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});else{B=da.substr(B,B.indexOf(D.name)+D.name.length,
null);if(0!=(D.flags&256)&&2>c){this.error="error: opcode requires version 2.";break}if(0!=(D.flags&64)&&f){this.error="error: opcode is only allowed in vertex programs.";break}if(0!=(D.flags&32)&&!f){this.error="error: opcode is only allowed in fragment programs.";break}this.verbose&&Aa.trace("emit opcode="+h.string(D),{fileName:"AGALMiniAssembler.hx",lineNumber:338,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});this.agalcode.writeUnsignedInt(D.emitCode);++b;if(4096<b){this.error=
"error: too many opcodes. maximum is 4096.";break}var F=this.match(B,r);if(F.length!=D.numRegister){this.error="error: wrong number of operands. found "+F.length+" but expected "+D.numRegister+".";break}for(var B=!1,E=160,H=0,I=F.length;H<I;){var G=H++,J=!1,K=this.match(F[G],n);0<K.length&&(F[G]=Da.replace(F[G],K[0],"0"),this.verbose&&Aa.trace("IS REL",{fileName:"AGALMiniAssembler.hx",lineNumber:377,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),J=!0);var L=this.match(F[G],l);
if(0==L.length){this.error="error: could not parse operand "+G+" ("+F[G]+").";B=!0;break}var M=W.REGMAP,L=L[0],L=null!=t[L]?M.getReserved(L):M.h[L];this.debugEnabled&&Aa.trace(L,{fileName:"AGALMiniAssembler.hx",lineNumber:399,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});if(null==L){this.error="error: could not find register name for operand "+G+" ("+F[G]+").";B=!0;break}if(f){if(0==(L.flags&32)){this.error="error: register operand "+G+" ("+F[G]+") only allowed in vertex programs.";
B=!0;break}if(J){this.error="error: register operand "+G+" ("+F[G]+") relative adressing not allowed in fragment programs.";B=!0;break}}else if(0==(L.flags&64)){this.error="error: register operand "+G+" ("+F[G]+") only allowed in fragment programs.";B=!0;break}M=F[G].indexOf(L.name)+L.name.length;F[G]=da.substr(F[G],M,null);var N=J?this.match(K[0],u):this.match(F[G],u),M=0;0<N.length&&(M=h.parseInt(N[0]));if(Q.gt(M,L.range)){this.error="error: register operand "+G+" ("+F[G]+") index exceeds limit of "+
h.string(Q.toFloat(L.range+1))+".";B=!0;break}var N=0,O=this.match(F[G],v),P=0==G&&0==(D.flags&128),S=2==G&&0!=(D.flags&8),R=0,T=0,V=0;if(P&&J){this.error="error: relative can not be destination";B=!0;break}if(0<O.length){for(var U=N=0,X=O[0].length,Y=1;Y<X;)U=da.cca(O[0],Y)-120,Q.gt(U,2)&&(U=3),N=P?N|1<<U:N|U<<(Y-1<<1),++Y;if(!P)for(;4>=Y;)N|=U<<(Y-1<<1),++Y}else N=P?15:228;if(J){O=this.match(K[0],x);R=W.REGMAP;T=O[0];R=null!=t[T]?R.getReserved(T):R.h[T];if(null==R){this.error="error: bad index register";
B=!0;break}R=R.emitCode;U=this.match(K[0],y);if(0==U.length){this.error="error: bad index register select";B=!0;break}T=da.cca(U[0],1)-120;Q.gt(T,2)&&(T=3);K=this.match(K[0],z);0<K.length&&(V=h.parseInt(K[0]));if(0>V||255<V){this.error="error: index offset "+V+" out of bounds. [0..255]";B=!0;break}this.verbose&&Aa.trace("RELATIVE: type="+R+"=="+O[0]+" sel="+h.string(Q.toFloat(T))+"=="+U[0]+" idx="+h.string(Q.toFloat(M))+" offset="+V,{fileName:"AGALMiniAssembler.hx",lineNumber:574,className:"openfl.utils.AGALMiniAssembler",
methodName:"assemble"})}this.verbose&&Aa.trace("  emit argcode="+h.string(L)+"["+h.string(Q.toFloat(M))+"]["+N+"]",{fileName:"AGALMiniAssembler.hx",lineNumber:582,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});if(P)this.agalcode.writeShort(M),this.agalcode.writeByte(N),this.agalcode.writeByte(L.emitCode),E-=32;else{if(S){this.verbose&&Aa.trace("  emit sampler",{fileName:"AGALMiniAssembler.hx",lineNumber:599,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});G=5;
K=J=0;for(L=null==C?0:C.length;K<L;)N=K++,this.verbose&&Aa.trace("    opt: "+C[N],{fileName:"AGALMiniAssembler.hx",lineNumber:611,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),P=W.SAMPLEMAP,S=C[N],P=null!=t[S]?P.getReserved(S):P.h[S],null==P?(J=parseFloat(C[N]),this.verbose&&Aa.trace("    bias: "+J,{fileName:"AGALMiniAssembler.hx",lineNumber:625,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})):(16!=P.flag&&(G&=~(15<<P.flag)),G|=P.mask<<P.flag);this.agalcode.writeShort(M);
this.agalcode.writeByte(8*J|0);this.agalcode.writeByte(0);this.agalcode.writeUnsignedInt(G);this.verbose&&Aa.trace("    bits: "+(G-5),{fileName:"AGALMiniAssembler.hx",lineNumber:650,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}else 0==G&&(this.agalcode.writeUnsignedInt(0),E-=32),this.agalcode.writeShort(M),this.agalcode.writeByte(V),this.agalcode.writeByte(N),this.agalcode.writeByte(L.emitCode),this.agalcode.writeByte(R),this.agalcode.writeShort(J?T|32768:0);E-=64}}for(C=0;C<
E;)this.agalcode.writeByte(0),C+=8;if(B)break}++A}""!=this.error&&(this.error+="\n  at line "+A+" "+a[A],Na.set_length(this.agalcode,0),Aa.trace(this.error,{fileName:"AGALMiniAssembler.hx",lineNumber:703,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}));if(this.debugEnabled){c="generated bytecode:";f=0;for(a=Na.get_length(this.agalcode);f<a;)b=f++,0==b%16&&(c+="\n"),0==b%4&&(c+=" "),b=Da.hex(this.agalcode.b[b],2),2>b.length&&(b="0"+b),c+=b;Aa.trace(c,{fileName:"AGALMiniAssembler.hx",
lineNumber:739,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}this.verbose&&Aa.trace("AGALMiniAssembler.assemble time: "+(xa.getTimer()-e)/1E3+"s",{fileName:"AGALMiniAssembler.hx",lineNumber:745,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});return this.agalcode},initregmap:function(a,b){var c=W.REGMAP,d=new mf("va","vertex attribute",0,b?1024:1==a||2==a?7:15,66);null!=t.va?c.setReserved("va",d):c.h.va=d;c=W.REGMAP;d=new mf("vc","vertex constant",1,b?1024:1==
a?127:249,66);null!=t.vc?c.setReserved("vc",d):c.h.vc=d;c=W.REGMAP;d=new mf("vt","vertex temporary",2,b?1024:1==a?7:25,67);null!=t.vt?c.setReserved("vt",d):c.h.vt=d;c=W.REGMAP;d=new mf("vo","vertex output",3,b?1024:0,65);null!=t.vo?c.setReserved("vo",d):c.h.vo=d;c=W.REGMAP;d=new mf("vi","varying",4,b?1024:1==a?7:9,99);null!=t.vi?c.setReserved("vi",d):c.h.vi=d;c=W.REGMAP;d=new mf("fc","fragment constant",1,b?1024:1==a?27:2==a?63:199,34);null!=t.fc?c.setReserved("fc",d):c.h.fc=d;c=W.REGMAP;d=new mf("ft",
"fragment temporary",2,b?1024:1==a?7:25,35);null!=t.ft?c.setReserved("ft",d):c.h.ft=d;c=W.REGMAP;d=new mf("fs","texture sampler",5,b?1024:7,34);null!=t.fs?c.setReserved("fs",d):c.h.fs=d;c=W.REGMAP;d=new mf("fo","fragment output",3,b?1024:1==a?0:3,33);null!=t.fo?c.setReserved("fo",d):c.h.fo=d;c=W.REGMAP;d=new mf("fd","fragment depth output",6,b?1024:1==a?-1:0,33);null!=t.fd?c.setReserved("fd",d):c.h.fd=d;c=W.REGMAP;d=new mf("iid","instance id",7,b?1024:0,66);null!=t.iid?c.setReserved("iid",d):c.h.iid=
d;d=c=W.REGMAP;d=null!=t.vo?d.getReserved("vo"):d.h.vo;null!=t.op?c.setReserved("op",d):c.h.op=d;d=c=W.REGMAP;d=null!=t.vi?d.getReserved("vi"):d.h.vi;null!=t.i?c.setReserved("i",d):c.h.i=d;d=c=W.REGMAP;d=null!=t.vi?d.getReserved("vi"):d.h.vi;null!=t.v?c.setReserved("v",d):c.h.v=d;d=c=W.REGMAP;d=null!=t.fo?d.getReserved("fo"):d.h.fo;null!=t.oc?c.setReserved("oc",d):c.h.oc=d;d=c=W.REGMAP;d=null!=t.fd?d.getReserved("fd"):d.h.fd;null!=t.od?c.setReserved("od",d):c.h.od=d;d=c=W.REGMAP;d=null!=t.vi?d.getReserved("vi"):
d.h.vi;null!=t.fi?c.setReserved("fi",d):c.h.fi=d},match:function(a,b){for(var c=[],d=0;b.matchSub(a,d);)d=b.matched(0),c.push(d),d=b.matchedPos().pos+d.length;return c},__class__:W};var Ob=function(a,b,c,d){this.name=a;this.numRegister=b;this.emitCode=c;this.flags=d};m["openfl.utils._AGALMiniAssembler.OpCode"]=Ob;Ob.__name__=["openfl","utils","_AGALMiniAssembler","OpCode"];Ob.prototype={emitCode:null,flags:null,name:null,numRegister:null,toString:function(){return'[OpCode name="'+this.name+'", numRegister='+
this.numRegister+", emitCode="+this.emitCode+", flags="+this.flags+"]"},__class__:Ob};var mf=function(a,b,c,d,e){this.name=a;this.longName=b;this.emitCode=c;this.range=d;this.flags=e};m["openfl.utils._AGALMiniAssembler.Register"]=mf;mf.__name__=["openfl","utils","_AGALMiniAssembler","Register"];mf.prototype={emitCode:null,name:null,longName:null,flags:null,range:null,toString:function(){return'[Register name="'+this.name+'", longName="'+this.longName+'", emitCode='+h.string(Q.toFloat(this.emitCode))+
", range="+h.string(Q.toFloat(this.range))+", flags="+h.string(Q.toFloat(this.flags))+"]"},__class__:mf};var yc=function(a,b,c){this.name=a;this.flag=b;this.mask=c};m["openfl.utils._AGALMiniAssembler.Sampler"]=yc;yc.__name__=["openfl","utils","_AGALMiniAssembler","Sampler"];yc.prototype={flag:null,mask:null,name:null,toString:function(){return'[Sampler name="'+this.name+'", flag="'+h.string(Q.toFloat(this.flag))+'", mask='+h.string(Q.toFloat(this.mask))+"]"},__class__:yc};var ds=function(){};m["openfl.utils.IAssetCache"]=
ds;ds.__name__=["openfl","utils","IAssetCache"];ds.prototype={get_enabled:null,set_enabled:null,clear:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,removeBitmapData:null,removeFont:null,removeSound:null,setBitmapData:null,setFont:null,setSound:null,__class__:ds,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Kp=function(){this.__enabled=!0;this.bitmapData=new qa;this.font=new qa;this.sound=new qa};m["openfl.utils.AssetCache"]=
Kp;Kp.__name__=["openfl","utils","AssetCache"];Kp.__interfaces__=[ds];Kp.prototype={bitmapData:null,font:null,sound:null,__enabled:null,clear:function(a){if(null==a)this.bitmapData=new qa,this.font=new qa,this.sound=new qa;else{for(var b=this.bitmapData.keys();b.hasNext();){var c=b.next();Da.startsWith(c,a)&&this.removeBitmapData(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),Da.startsWith(c,a)&&this.removeFont(c);for(b=this.sound.keys();b.hasNext();)c=b.next(),Da.startsWith(c,a)&&this.removeSound(c)}},
getBitmapData:function(a){var b=this.bitmapData;return null!=t[a]?b.getReserved(a):b.h[a]},getFont:function(a){var b=this.font;return null!=t[a]?b.getReserved(a):b.h[a]},getSound:function(a){var b=this.sound;return null!=t[a]?b.getReserved(a):b.h[a]},hasBitmapData:function(a){var b=this.bitmapData;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasFont:function(a){var b=this.font;return null!=t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasSound:function(a){var b=this.sound;return null!=
t[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeBitmapData:function(a){ra.cache.image.remove(a);return this.bitmapData.remove(a)},removeFont:function(a){ra.cache.font.remove(a);return this.font.remove(a)},removeSound:function(a){ra.cache.audio.remove(a);return this.sound.remove(a)},setBitmapData:function(a,b){var c=this.bitmapData;null!=t[a]?c.setReserved(a,b):c.h[a]=b},setFont:function(a,b){var c=this.font;null!=t[a]?c.setReserved(a,b):c.h[a]=b},setSound:function(a,b){var c=this.sound;null!=
t[a]?c.setReserved(a,b):c.h[a]=b},get_enabled:function(){return this.__enabled},set_enabled:function(a){return this.__enabled=a},__class__:Kp,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var ma=function(){};m["openfl.utils.Assets"]=ma;ma.__name__=["openfl","utils","Assets"];ma.addEventListener=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);ra.onChange.has(ma.LimeAssets_onChange)||ra.onChange.add(ma.LimeAssets_onChange);ma.dispatcher.addEventListener(a,
b,c,d,e)};ma.dispatchEvent=function(a){return ma.dispatcher.dispatchEvent(a)};ma.exists=function(a,b){return ra.exists(a,b)};ma.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&ma.cache.get_enabled()&&ma.cache.hasBitmapData(a)){var c=ma.cache.getBitmapData(a);if(ma.isValidBitmapData(c))return c}c=ra.getImage(a,!1);return null!=c?(c=Ha.fromImage(c),b&&ma.cache.get_enabled()&&ma.cache.setBitmapData(a,c),c):null};ma.getBytes=function(a){return Na.fromBytes(ra.getBytes(a))};ma.getFont=function(a,b){null==
b&&(b=!0);if(b&&ma.cache.get_enabled()&&ma.cache.hasFont(a))return ma.cache.getFont(a);var c=ra.getFont(a,!1);return null!=c?(c=id.__fromLimeFont(c),b&&ma.cache.get_enabled()&&ma.cache.setFont(a,c),c):new id};ma.getLibrary=function(a){return ra.getLibrary(a)};ma.getMovieClip=function(a){var b=a.substring(0,a.indexOf(":")),c=da.substr(a,a.indexOf(":")+1,null),d=ma.getLibrary(b);if(null!=d){if(y.__instanceof(d,Hc)&&d.exists(c,"MOVIE_CLIP")){if(d.isLocal(c,"MOVIE_CLIP"))return d.getMovieClip(c);rb.error('MovieClip asset "'+
a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:175,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null}rb.error('There is no MovieClip asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:184,className:"openfl.utils.Assets",methodName:"getMovieClip"})}else rb.error('There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:188,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null};ma.getMusic=function(a,b){null==
b&&(b=!0);return ma.getSound(a,b)};ma.getPath=function(a){return ra.getPath(a)};ma.getSound=function(a,b){null==b&&(b=!0);if(b&&ma.cache.get_enabled()&&ma.cache.hasSound(a)){var c=ma.cache.getSound(a);if(ma.isValidSound(c))return c}c=ra.getAudioBuffer(a,!1);return null!=c?(c=Mf.fromAudioBuffer(c),b&&ma.cache.get_enabled()&&ma.cache.setSound(a,c),c):null};ma.getText=function(a){return ra.getText(a)};ma.hasEventListener=function(a){return ma.dispatcher.hasEventListener(a)};ma.hasLibrary=function(a){return ra.hasLibrary(a)};
ma.isLocal=function(a,b,c){null==c&&(c=!0);if(c&&ma.cache.get_enabled()&&(("IMAGE"==b||null==b)&&ma.cache.hasBitmapData(a)||("FONT"==b||null==b)&&ma.cache.hasFont(a)||("SOUND"==b||"MUSIC"==b||null==b)&&ma.cache.hasSound(a)))return!0;c=a.substring(0,a.indexOf(":"));a=da.substr(a,a.indexOf(":")+1,null);c=ma.getLibrary(c);return null!=c?c.isLocal(a,b):!1};ma.isValidBitmapData=function(a){return null!=a&&null!=a.image};ma.isValidSound=function(a){return!0};ma.list=function(a){return ra.list(a)};ma.loadBitmapData=
function(a,b){null==b&&(b=!0);null==b&&(b=!0);var c=new jd;if(b&&ma.cache.get_enabled()&&ma.cache.hasBitmapData(a)){var d=ma.cache.getBitmapData(a);if(ma.isValidBitmapData(d))return c.complete(d),c.future}ra.loadImage(a,!1).onComplete(function(d){null!=d?(d=Ha.fromImage(d),b&&ma.cache.get_enabled()&&ma.cache.setBitmapData(a,d),c.complete(d)):c.error('[Assets] Could not load Image "'+a+'"')}).onError(u(c,c.error)).onProgress(u(c,c.progress));return c.future};ma.loadBytes=function(a){var b=new jd;a=
ra.loadBytes(a);a.onComplete(function(a){b.complete(Na.fromBytes(a))});a.onProgress(function(a,d){b.progress(a,d)});a.onError(function(a){b.error(a)});return b.future};ma.loadFont=function(a,b){null==b&&(b=!0);null==b&&(b=!0);var c=new jd;if(b&&ma.cache.get_enabled()&&ma.cache.hasFont(a)){var d=ma.cache.getFont(a);c.complete(d);return c.future}ra.loadFont(a).onComplete(function(d){d=id.__fromLimeFont(d);b&&ma.cache.get_enabled()&&ma.cache.setFont(a,d);c.complete(d)}).onError(u(c,c.error)).onProgress(u(c,
c.progress));return c.future};ma.loadLibrary=function(a){return ra.loadLibrary(a)};ma.loadMusic=function(a,b){null==b&&(b=!0);null==b&&(b=!0);return new hb(function(){return ma.getMusic(a,b)})};ma.loadMovieClip=function(a){var b=new jd,c=a.substring(0,a.indexOf(":")),d=da.substr(a,a.indexOf(":")+1,null),e=ma.getLibrary(c);if(null!=e){if(y.__instanceof(e,Hc)&&e.exists(d,"MOVIE_CLIP"))return b.completeWith(e.loadMovieClip(d)),b.future;b.error('[Assets] There is no MovieClip asset with an ID of "'+a+
'"')}else b.error('[Assets] There is no asset library named "'+c+'"');return b.future};ma.loadSound=function(a,b){null==b&&(b=!0);null==b&&(b=!0);var c=new jd;ra.loadAudioBuffer(a,b).onComplete(function(d){null!=d?(d=Mf.fromAudioBuffer(d),b&&ma.cache.get_enabled()&&ma.cache.setSound(a,d),c.complete(d)):c.error('[Assets] Could not load Sound "'+a+'"')}).onError(u(c,c.error)).onProgress(u(c,c.progress));return c.future};ma.loadText=function(a){return ra.loadText(a)};ma.registerLibrary=function(a,b){ra.registerLibrary(a,
b)};ma.removeEventListener=function(a,b,c){null==c&&(c=!1);ma.dispatcher.removeEventListener(a,b,c)};ma.resolveClass=function(a){return La.resolveClass(a)};ma.resolveEnum=function(a){return La.resolveEnum(a)};ma.unloadLibrary=function(a){ra.unloadLibrary(a)};ma.LimeAssets_onChange=function(){ma.dispatchEvent(new ca("change"))};var Na={};m["openfl.utils._ByteArray.ByteArray_Impl_"]=Na;Na.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"];Na.__properties__={set_length:"set_length",get_length:"get_length"};
Na._new=function(a){null==a&&(a=0);return new lc(a)};Na.get=function(a,b){return a.b[b]};Na.set=function(a,b,c){a.__resize(b+1);a.b[b]=c&255;return c};Na.fromArrayBuffer=function(a){return null==a?null:lc.fromBytes(ab.ofData(a))};Na.fromBytes=function(a){return null==a?null:y.__instanceof(a,lc)?a:lc.fromBytes(a)};Na.fromBytesData=function(a){return null==a?null:lc.fromBytes(ab.ofData(a))};Na.fromFile=function(a){return Na.fromBytes(qd.fromFile(a))};Na.fromLimeBytes=function(a){return Na.fromBytes(a)};
Na.toArrayBuffer=function(a){return a.b.bufferValue};Na.toBytePointer=function(a){Hd.set(Na.__bytePointer,a,null,null,a.position);return Na.__bytePointer};Na.toBytes=function(a){return a};Na.toBytesData=function(a){return a.b.bufferValue};Na.toLimeBytes=function(a){return Na.toBytes(Na.fromBytes(Na.toBytes(a)))};Na.get_length=function(a){return a.length};Na.set_length=function(a,b){0<b&&a.__resize(b);return a.length=b};var es=function(){};m["openfl.utils.IDataOutput"]=es;es.__name__=["openfl","utils",
"IDataOutput"];es.prototype={get_endian:null,set_endian:null,objectEncoding:null,writeBoolean:null,writeByte:null,writeBytes:null,writeDouble:null,writeFloat:null,writeInt:null,writeMultiByte:null,writeShort:null,writeUTF:null,writeUTFBytes:null,writeUnsignedInt:null,__class__:es,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var fs=function(){};m["openfl.utils.IDataInput"]=fs;fs.__name__=["openfl","utils","IDataInput"];fs.prototype={get_bytesAvailable:null,get_endian:null,set_endian:null,
objectEncoding:null,readBoolean:null,readByte:null,readBytes:null,readDouble:null,readFloat:null,readInt:null,readMultiByte:null,readShort:null,readUnsignedByte:null,readUnsignedInt:null,readUnsignedShort:null,readUTF:null,readUTFBytes:null,__class__:fs,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var lc=function(a){null==a&&(a=0);var b=new ab(new He(a));ab.call(this,b.b.buffer);this.__length=a;null==lc.__defaultEndian&&(nb.get_endianness()==
lf.LITTLE_ENDIAN?lc.__defaultEndian=1:lc.__defaultEndian=0);this.__endian=lc.__defaultEndian;this.position=0};m["openfl.utils.ByteArrayData"]=lc;lc.__name__=["openfl","utils","ByteArrayData"];lc.__interfaces__=[es,fs];lc.fromBytes=function(a){var b=new lc;b.__fromBytes(a);return b};lc.__super__=ab;lc.prototype=z(ab.prototype,{objectEncoding:null,position:null,__endian:null,__length:null,clear:function(){this.position=this.length=0},compress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=
this.length;this.length=this.__length;var c=new ab(new He(b));c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=Io.compress(this);break;case 1:a=Jo.compress(this);break;default:a=Ko.compress(this)}null!=a&&(this.b=a.b,this.__length=a.length,this.data=a.data,this.position=this.length=this.__length)},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];
throw new H(new xi);},readByte:function(){var a=this.readUnsignedByte();return 0!=(a&128)?a-256:a},readBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0==c&&(c=this.length-this.position);if(this.position+c>this.length)throw new H(new xi);a.length<b+c&&a.__resize(b+c);a.blit(b,this,this.position,c);this.position+=c},readDouble:function(){var a=this.readInt(),b=this.readInt();return 1==this.__endian?Gd.i64ToDouble(a,b):Gd.i64ToDouble(b,a)},readFloat:function(){return Gd.i32ToFloat(this.readInt())},
readInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readMultiByte:function(a,b){return this.readUTFBytes(a)},readShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),a=1==this.__endian?b<<8|a:a<<8|b;return 0!=(a&32768)?a-65536:a},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw new H(new xi);},readUnsignedInt:function(){var a=
this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?(b<<8)+a:a<<8|b},readUTF:function(){var a=this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+a>this.length)throw new H(new xi);this.position+=a;return this.getString(this.position-a,
a)},uncompress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=new ab(new He(b));c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=Io.decompress(this);break;case 1:a=Jo.decompress(this);break;default:a=Ko.decompress(this)}null!=a&&(this.b=a.b,this.__length=a.length,this.data=a.data,this.length=this.__length);this.position=0},writeBoolean:function(a){this.writeByte(a?1:0)},writeByte:function(a){this.__resize(this.position+
1);this.b[this.position++]=a&255},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0!=Na.get_length(a)&&(0==c&&(c=Na.get_length(a)-b),this.__resize(this.position+c),this.blit(this.position,a,b,c),this.position+=c)},writeDouble:function(a){a=Gd.doubleToI64(a);1==this.__endian?(this.writeInt(a.low),this.writeInt(a.high)):(this.writeInt(a.high),this.writeInt(a.low))},writeFloat:function(a){1==this.__endian?(this.__resize(this.position+4),this.setFloat(this.position,a),this.position+=4):(a=Gd.floatToI32(a),
this.writeInt(a))},writeInt:function(a){this.__resize(this.position+4);1==this.__endian?(this.b[this.position++]=a&255,this.b[this.position++]=a>>8&255,this.b[this.position++]=a>>16&255,this.b[this.position++]=a>>24&255):(this.b[this.position++]=a>>24&255,this.b[this.position++]=a>>16&255,this.b[this.position++]=a>>8&255,this.b[this.position++]=a&255)},writeMultiByte:function(a,b){this.writeUTFBytes(a)},writeShort:function(a){this.__resize(this.position+2);1==this.__endian?(this.b[this.position++]=
a&255,this.b[this.position++]=a>>8&255):(this.b[this.position++]=a>>8&255,this.b[this.position++]=a&255)},writeUnsignedInt:function(a){this.writeInt(a)},writeUTF:function(a){a=ab.ofString(a);this.writeShort(a.length);this.writeBytes(Na.fromBytes(a))},writeUTFBytes:function(a){ab.ofString(a);this.writeBytes(Na.fromBytes(ab.ofString(a)))},__fromBytes:function(a){this.b=a.b;this.__length=a.length;this.data=a.data;this.length=a.length},__resize:function(a){if(a>this.__length){var b=new ab(new He(3*(a+
1)>>1)),c=this.length;this.length=this.__length;b.blit(0,this,0,this.__length);this.length=c;this.b=b.b;this.__length=b.length;this.data=b.data}this.length<a&&(this.length=a)},__setData:function(a){this.b=a.b;this.__length=a.length;this.data=a.data},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.__endian},set_endian:function(a){return this.__endian=a},__class__:lc,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});
var bj={};m["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=bj;bj.__name__=["openfl","utils","_CompressionAlgorithm","CompressionAlgorithm_Impl_"];bj.fromString=function(a){switch(a){case "deflate":return 0;case "lzma":return 1;case "zlib":return 2;default:return null}};bj.toString=function(a){switch(a){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}};var ak={};m["openfl.utils._Endian.Endian_Impl_"]=ak;ak.__name__=["openfl","utils","_Endian","Endian_Impl_"];
ak.fromLimeEndian=function(a){switch(a[1]){case 0:return 1;case 1:return 0}};ak.fromString=function(a){switch(a){case "bigEndian":return 0;case "littleEndian":return 1;default:return null}};ak.toLimeEndian=function(a){switch(a){case 0:return lf.BIG_ENDIAN;case 1:return lf.LITTLE_ENDIAN;default:return null}};ak.toString=function(a){switch(a){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var xg={};m["openfl.utils._Object.Object_Impl_"]=xg;xg.__name__=["openfl","utils","_Object",
"Object_Impl_"];xg._new=function(){return{}};xg.hasOwnProperty=function(a,b){return null!=a?Object.prototype.hasOwnProperty.call(a,b):!1};xg.isPrototypeOf=function(a,b){for(var c=null==a?null:y.getClass(a);null!=c;){if(c==b)return!0;c=La.getSuperClass(c)}return!1};xg.iterator=function(a){a=Z.fields(a);null==a&&(a=[]);return da.iter(a)};xg.propertyIsEnumerable=function(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)?y.__instanceof(Z.field(a,b),gs):!1};xg.toLocaleString=function(a){return h.string(a)};
xg.toString=function(a){return h.string(a)};xg.valueOf=function(a){return a};xg.__get=function(a,b){return Z.field(a,b)};xg.__set=function(a,b,c){return a[b]=c};var ht=function(){};m["haxe.lang.Iterator"]=ht;ht.__name__=["haxe","lang","Iterator"];ht.prototype={hasNext:null,next:null,__class__:ht};var gs=function(){};m["haxe.lang.Iterable"]=gs;gs.__name__=["haxe","lang","Iterable"];gs.prototype={iterator:null,__class__:gs};var Ck=function(a,b){null==b&&(b=0);if(isNaN(a)||0>a)throw new H(new sa("The delay specified is negative or not a finite number"));
za.call(this);this.__delay=a;this.set_repeatCount(b);this.running=!1;this.currentCount=0};m["openfl.utils.Timer"]=Ck;Ck.__name__=["openfl","utils","Timer"];Ck.__super__=za;Ck.prototype=z(za.prototype,{currentCount:null,repeatCount:null,running:null,__delay:null,__timer:null,__timerID:null,reset:function(){this.running&&this.stop();this.currentCount=0},start:function(){this.running||(this.running=!0,this.__timerID=window.setInterval(u(this,this.timer_onTimer),this.__delay|0))},stop:function(){this.running=
!1;null!=this.__timerID&&(window.clearInterval(this.__timerID),this.__timerID=null)},get_delay:function(){return this.__delay},set_delay:function(a){this.__delay=a;this.running&&(this.stop(),this.start());return this.__delay},set_repeatCount:function(a){this.running&&0!=a&&a<=this.currentCount&&this.stop();return this.repeatCount=a},timer_onTimer:function(){this.currentCount++;0<this.repeatCount&&this.currentCount>=this.repeatCount?(this.stop(),this.dispatchEvent(new bh("timer")),this.dispatchEvent(new bh("timerComplete"))):
this.dispatchEvent(new bh("timer"))},__class__:Ck,__properties__:{set_repeatCount:"set_repeatCount",set_delay:"set_delay",get_delay:"get_delay"}});var Pj=function(){this.rollOutStack=[]};m["openfl.utils.TouchData"]=Pj;Pj.__name__=["openfl","utils","TouchData"];Pj.prototype={touch:null,touchDownTarget:null,touchOverTarget:null,rollOutStack:null,reset:function(){this.touchOverTarget=this.touchDownTarget=this.touch=null;this.rollOutStack.splice(0,this.rollOutStack.length)},__class__:Pj};var Cb,Mt=0;
m.Math=Math;String.prototype.__class__=m.String=String;String.__name__=["String"];m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var Sq=m.Int={__name__:["Int"]},Nt=m.Dynamic={__name__:["Dynamic"]},jt=m.Float=Number;jt.__name__=["Float"];var it=m.Bool=Boolean;it.__ename__=["Bool"];var Xh=m.Class={__name__:["Class"]},Dt={},t={},He=bk.ArrayBuffer||$d;null==He.prototype.slice&&(He.prototype.slice=$d.sliceImpl);var ki=bk.DataView||ar,pc=bk.Float32Array||
th._new,Ws=bk.Float64Array||(bk.Float32Array?"notsupported":null)||uh._new,Db=bk.Uint8Array||vh._new,Ot=new Uint32Array(256);O.__alpha16=Ot;for(var Ht=0;256>Ht;){var It=Ht++;O.__alpha16[It]=Math.ceil(257.00392156862745*It)}var Pt=new Db(510);O.__clamp=Pt;for(var Jt=0;255>Jt;){var Kt=Jt++;O.__clamp[Kt]=Kt}for(var Lt=255;511>Lt;){var Qt=Lt++;O.__clamp[Qt]=255}Tg.available=!1;Tg.enabled=!1;rb.level=3;"undefined"==typeof console&&(console={});null==console.log&&(console.log=function(){});rb.throwErrors=
!0;Eb.__broadcastEvents=new qa;Eb.__instanceCount=0;A.boundaryon=!1;A.currentboundary="";A.boundarystate=0;Qd.waitforpreload=!1;Qd.hidearrowkeyhintafterfirstuse=!0;Qd.typingspeed=2;Qd.startfullscreen=!1;Qd.showarrowkeytimedelay=3E4;Qd.simulateslowloading=!1;Qd.showbackgroundloading=!1;Qd.crashonduplicateassignments=!0;Qd.testeverycommand=!1;Qd.logoutput=!1;N.loadingstate="start";N.loadingpara=0;N.loadingdelay=0;N.loadingbar=0;N.previoustime=-1;ga.CAMERAMODE_ORBIT="orbit";ga.cameraspin=0;ga.cameraskew=
0;ga.cameraspeed=2;D.bloomon=!1;D.bluron=!1;D.inverton=!1;D.chromaticaberrationon=!1;D.vcron=!1;D.instagramon=!1;D.vignetteon=!1;D.scanlineon=!1;D.pixelon=!1;D.wobbleon=!1;D.godrayson=!1;D.newsprinton=!1;D.colourmapon=!1;D.gammaon=!1;D.fliphon=!1;D.flipvon=!1;D.anselon=!1;D.vron=!1;D.cinemabarson=!1;D.arton=!1;D.gameon=!1;D.lineglitchon=!1;D.escheron=!1;D.sepiaon=!1;D.hueshifton=!1;D.saturationon=!1;D.screenrepeatvalue=0;D.kaleidoscopeon=!1;D.mirroredview=!1;D.reflectedview=!1;D.hueshiftval=0;D.blurstrength=
15;D.colourmapname="gameboy";D.gamma=1;I.gamestate=0;I.unitspeed=50;I.deltatime=-1;I.showhelp=!1;I.showarrowkeyhint=!1;I.autotypestate=0;I.autotypestatedelay=0;I.autotypeword="null";I.autotype_dontpressenter=!1;I.autoplay=!1;I.autoplaydelay=0;I.simulateslowloading_delay=0;I.simulateslowloading_speed=.5;I.assetloaderhistory=["asset loading starting:"];I.helpdelay=0;I.helpword="";I.dudcount=0;I.scenelistoffset=0;I.atmospheremap=new qa;I.atmospheresounds="projectpegasus/innermostjourney projectpegasus/arpeggios/80sarp projectpegasus/arpeggios/kevlar projectpegasus/arpeggios/slowburn magneticfield/beige magneticfield/black magneticfield/bronze magneticfield/copper magneticfield/emerald magneticfield/orange antigen/marblevoid antigen/memoryarea antigen/sleepbox antigen/transmissionsroom antigen/transparenttunnel freesound/1054__rhumphries__rbh-meadow-dc-crix-birds freesound/28168__herbertboland__beek1 freesound/28171__herbertboland__beek5 freesound/35480__martypinso__dmp013016-heavy-snow-storm-ms freesound/56611__inchadney__morning-in-the-country freesound/97397__jpnien__wind-strong-jpn freesound/122824__geodylabs__air-conditioning-hotel-room freesound/127596__juskiddink__wind-in-birch-trees-a-passing-sheep freesound/138294__tdude9000__ambience-outdoor-wind-birds freesound/156525__owl__lake-waves-hjalmaren freesound/163124__mmiron__ocean-waves-3 freesound/371261__risto-alcinov__rooftop-city".split(" ");
I.hideosd=!1;I.exhibitionmode=!1;I.showarrowkeyhintsetting=!0;I.showcredits=!1;id.__registeredFonts=[];ha.PRESSENTER="pressenter";ha.TIMED="timed";ha.SLOW="slow";ha.LOADING="loading";ha.WAIT="wait";F.connectpositions=!1;K.lastcommand="reset";K.lastpara="";K.supresstone=!1;K.entities=[];K.playingmusic=!1;T.position="random";T.rotation="random";T.movement=0;T.newobjects="add";T.gridspacing=500;T.linespacing=200;T.boundsx=1500;T.boundsy=1500;T.boundsz=1500;T.noisespeed=1500;T.minimumnoisegap=180;T.MOVEMENT_NONE=
0;T.MOVEMENT_PARTICLES=1;T.MOVEMENT_ORBIT=2;T.MOVEMENT_GRAVITY=3;T.MOVEMENT_SINEWAVE=4;T.MOVEMENT_JUMP=5;T.NEWOBJECTS_ADD="add";T.NEWOBJECTS_REPLACE="replace";T.NEWOBJECTS_PUSH="push";T.PLACEMENT_RANDOM="random";T.PLACEMENT_LINE="line";T.PLACEMENT_GRID="grid";T.PLACEMENT_LATTICE="lattice";T.PLACEMENT_RANDOMGRID="randomgrid";T.PLACEMENT_SPHERE="sphere";T.PLACEMENT_CENTER="center";T.PLACEMENT_COLUMN="column";T.PLACEMENT_ROW="row";T.PLACEMENT_WALL="wall";T.PLACEMENT_CROSS="cross";T.PLACEMENT_SPIRAL=
"spiral";T.PLACEMENT_RINGS="rings";T.PLACEMENT_SINEWAVE="sinewave";T.PLACEMENT_FABRIC="fabric";T.PLACEMENT_TUNNEL="tunnel";T.ROTATION_RANDOM="random";T.ROTATION_SPIN="spin";T.ROTATION_SPINSLOW="spinslow";T.ROTATION_FACING="facing";T.ROTATION_NONE="none";v.inputtext="";v.lastentry="";ua.Element=0;ua.PCData=1;ua.CData=2;ua.Comment=3;ua.DocType=4;ua.ProcessingInstruction=5;ua.Document=6;Em.WEBSITE_URL="http://www.away3d.com";Em.MAJOR_VERSION=4;Em.MINOR_VERSION=1;Em.REVISION=6;Ka.DEFAULT_NAMESPACE="default";
nf.POST_PRIORITY=9;nf.COLOR_PRIORITY=18;Zp.GLOBAL=0;Zp.LOCAL_STATIC=1;Zp.LOCAL_DYNAMIC=2;kk.ADDITIVE="additive";kk.ABSOLUTE="absolute";ec.GLOBAL="Global";ec.LOCAL_STATIC="LocalStatic";ec.LOCAL_DYNAMIC="LocalDynamic";ec.MODES=[ec.GLOBAL,ec.LOCAL_STATIC,ec.LOCAL_DYNAMIC];ok.MATRIX_INDEX=0;zf.START_MULTIPLIER_INDEX=0;zf.DELTA_MULTIPLIER_INDEX=1;zf.START_OFFSET_INDEX=2;zf.DELTA_OFFSET_INDEX=3;zf.CYCLE_INDEX=4;zf.COLOR_START_COLORTRANSFORM="ColorStartColorTransform";zf.COLOR_END_COLORTRANSFORM="ColorEndColorTransform";
Ji.POSITION_INDEX=0;Ji.POSITION_VECTOR3D="PositionVector3D";Ki.SCALE_INDEX=0;Ki.SCALE_VECTOR3D="ScaleVector3D";Gi.TIME_STREAM_INDEX=0;Gi.TIME_CONSTANT_INDEX=1;Li.VELOCITY_INDEX=0;Li.VELOCITY_VECTOR3D="VelocityVector3D";qs.LEFT_HANDED=0;qs.RIGHT_HANDED=1;uc._currentId=0;ca.ACTIVATE="activate";ca.ADDED="added";ca.ADDED_TO_STAGE="addedToStage";ca.CANCEL="cancel";ca.CHANGE="change";ca.CLEAR="clear";ca.CLOSE="close";ca.COMPLETE="complete";ca.CONNECT="connect";ca.CONTEXT3D_CREATE="context3DCreate";ca.COPY=
"copy";ca.CUT="cut";ca.DEACTIVATE="deactivate";ca.ENTER_FRAME="enterFrame";ca.EXIT_FRAME="exitFrame";ca.FRAME_CONSTRUCTED="frameConstructed";ca.FRAME_LABEL="frameLabel";ca.FULLSCREEN="fullScreen";ca.ID3="id3";ca.INIT="init";ca.MOUSE_LEAVE="mouseLeave";ca.OPEN="open";ca.PASTE="paste";ca.REMOVED="removed";ca.REMOVED_FROM_STAGE="removedFromStage";ca.RENDER="render";ca.RESIZE="resize";ca.SCROLL="scroll";ca.SELECT="select";ca.SELECT_ALL="selectAll";ca.SOUND_COMPLETE="soundComplete";ca.TAB_CHILDREN_CHANGE=
"tabChildrenChange";ca.TAB_ENABLED_CHANGE="tabEnabledChange";ca.TAB_INDEX_CHANGE="tabIndexChange";ca.TEXTURE_READY="textureReady";ca.UNLOAD="unload";kd.MOUSE_OVER="mouseOver3d";kd.MOUSE_OUT="mouseOut3d";kd.MOUSE_UP="mouseUp3d";kd.MOUSE_DOWN="mouseDown3d";kd.MOUSE_MOVE="mouseMove3d";kd.CLICK="click3d";kd.DOUBLE_CLICK="doubleClick3d";kd.MOUSE_WHEEL="mouseWheel3d";Ea._viewCount=0;Ea._queuedEvents=x.toObjectVector(null);Ea._mouseUp=new kd("mouseUp3d");Ea._mouseClick=new kd("click3d");Ea._mouseOut=new kd("mouseOut3d");
Ea._mouseDown=new kd("mouseDown3d");Ea._mouseMove=new kd("mouseMove3d");Ea._mouseOver=new kd("mouseOver3d");Ea._mouseWheel=new kd("mouseWheel3d");Ea._mouseDoubleClick=new kd("doubleClick3d");Ea._previousCollidingView=-1;Ea._collidingView=-1;kc._numStageProxies=0;kh.__identity=new kh;cb.__identity=new cb;cb.__matrix3=new kh;cb.__pool=new iq(function(){return new cb},function(a){a.identity()});sb._frameEventDriver=new re;sb._vbUploadCount=0;sb._ibUploadCount=0;sb._bmpUploadCount=0;sb._atfUploadCount=
0;zd._queuedEvents=x.toObjectVector(null);cd.RADIANS_TO_DEGREES=180/Math.PI;cd.DEGREES_TO_RADIANS=Math.PI/180;Ja.RAW_DATA_CONTAINER=x.toFloatVector(null,16);Ja.CALCULATION_MATRIX=new Xa;Ja.CALCULATION_VECTOR3D=new C;Ja.CALCULATION_DECOMPOSE=function(a){a=[new C,new C,new C];for(var b=x.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Sh.ALIGN_ANY=0;Sh.ALIGN_XY_AXIS=1;Sh.ALIGN_YZ_AXIS=2;Sh.ALIGN_XZ_AXIS=3;Bk.BACK=0;Bk.FRONT=1;Bk.IN=0;Bk.OUT=1;Bk.INTERSECT=2;Gg.tempRayPosition=
new C;Gg.tempRayDirection=new C;ya.__pool=new kq(function(){return new ya},function(a){a.setTo(0,0,0,0)});Uh.MOUSE_SCISSOR_RECT=new ya(0,0,1,1);Ak.SHADER=new Uh;Ak.RAYCAST_FIRST_ENCOUNTERED=new Gg(!1);Ak.RAYCAST_BEST_HIT=new Gg(!0);Af.RTT_PASSES=1;Af.SCREEN_PASSES=2;Af.ALL_PASSES=3;Fg._collectionMark=0;ed._WIDTH=125;ed._MAX_HEIGHT=85;ed._MIN_HEIGHT=51;ed._UPPER_Y=-1;ed._MID_Y=9;ed._LOWER_Y=19;ed._DIAG_HEIGHT=35;ed._BOTTOM_BAR_HEIGHT=31;ed._POLY_COL=16763904;ed._MEM_COL=16711884;tb.active=!1;tb.warningsAsErrors=
!1;Cc.LIMIT=196605;sa.DEFAULT_TO_STRING="Error";Qh.PLAYBACK_COMPLETE="playbackComplete";Qh.TRANSITION_COMPLETE="transitionComplete";Of.START="start";Of.STOP="stop";Of.CYCLE_COMPLETE="cycle_complete";Wb.ASSET_COMPLETE="assetComplete";Wb.ENTITY_COMPLETE="entityComplete";Wb.SKYBOX_COMPLETE="skyboxComplete";Wb.CAMERA_COMPLETE="cameraComplete";Wb.MESH_COMPLETE="meshComplete";Wb.GEOMETRY_COMPLETE="geometryComplete";Wb.SKELETON_COMPLETE="skeletonComplete";Wb.SKELETON_POSE_COMPLETE="skeletonPoseComplete";
Wb.CONTAINER_COMPLETE="containerComplete";Wb.TEXTURE_COMPLETE="textureComplete";Wb.TEXTURE_PROJECTOR_COMPLETE="textureProjectorComplete";Wb.MATERIAL_COMPLETE="materialComplete";Wb.ANIMATOR_COMPLETE="animatorComplete";Wb.ANIMATION_SET_COMPLETE="animationSetComplete";Wb.ANIMATION_STATE_COMPLETE="animationStateComplete";Wb.ANIMATION_NODE_COMPLETE="animationNodeComplete";Wb.STATE_TRANSITION_COMPLETE="stateTransitionComplete";Wb.SEGMENT_SET_COMPLETE="segmentSetComplete";Wb.LIGHT_COMPLETE="lightComplete";
Wb.LIGHTPICKER_COMPLETE="lightPickerComplete";Wb.EFFECTMETHOD_COMPLETE="effectMethodComplete";Wb.SHADOWMAPMETHOD_COMPLETE="shadowMapMethodComplete";Wb.ASSET_RENAME="assetRename";Wb.ASSET_CONFLICT_RESOLVED="assetConflictResolved";Wb.TEXTURE_SIZE_ERROR="textureSizeError";Qi.LENS_CHANGED="lensChanged";Vf.SUB_GEOMETRY_ADDED="SubGeometryAdded";Vf.SUB_GEOMETRY_REMOVED="SubGeometryRemoved";Vf.BOUNDS_INVALID="BoundsInvalid";Ri.MATRIX_CHANGED="matrixChanged";Xi.CASTS_SHADOW_CHANGE="castsShadowChange";Ee.LOAD_ERROR=
"loadError";Ee.RESOURCE_COMPLETE="resourceComplete";Ee.DEPENDENCY_COMPLETE="dependencyComplete";De.VISIBLITY_UPDATED="visiblityUpdated";De.SCENETRANSFORM_CHANGED="scenetransformChanged";De.SCENE_CHANGED="sceneChanged";De.POSITION_CHANGED="positionChanged";De.ROTATION_CHANGED="rotationChanged";De.SCALE_CHANGED="scaleChanged";Cf.PARSE_COMPLETE="parseComplete";Cf.PARSE_ERROR="parseError";Cf.READY_FOR_DEPENDENCIES="readyForDependencies";Sf.ADDED_TO_SCENE="addedToScene";Sf.REMOVED_FROM_SCENE="removedFromScene";
Sf.PARTITION_CHANGED="partitionChanged";Yi.SHADER_INVALIDATED="ShaderInvalidated";Bf.CONTEXT3D_CREATED="Context3DCreated";Bf.CONTEXT3D_DISPOSED="Context3DDisposed";Bf.CONTEXT3D_RECREATED="Context3DRecreated";Bf.VIEWPORT_UPDATED="ViewportUpdated";ag.TOUCH_END="touchEnd3d";ag.TOUCH_BEGIN="touchBegin3d";ag.TOUCH_MOVE="touchMove3d";ag.TOUCH_OUT="touchOut3d";ag.TOUCH_OVER="touchOver3d";Ek.MAX_AUTO_SAMPLES=15;Fk.MAX_AUTO_SAMPLES=15;ob._instances=new qa;md.ENTITY="entity";md.SKYBOX="skybox";md.CAMERA="camera";
md.SEGMENT_SET="segmentSet";md.MESH="mesh";md.GEOMETRY="geometry";md.SKELETON="skeleton";md.SKELETON_POSE="skeletonPose";md.CONTAINER="container";md.TEXTURE="texture";md.TEXTURE_PROJECTOR="textureProjector";md.MATERIAL="material";md.ANIMATION_SET="animationSet";md.ANIMATION_STATE="animationState";md.ANIMATION_NODE="animationNode";md.ANIMATOR="animator";md.STATE_TRANSITION="stateTransition";md.LIGHT="light";md.LIGHT_PICKER="lightPicker";md.SHADOW_MAP_METHOD="shadowMapMethod";md.EFFECTS_METHOD="effectsMethod";
ss.FAVOR_OLD="favorOld";ss.FAVOR_NEW="favorNew";$m.APPEND_NUM_SUFFIX=new Hk;$m.IGNORE=new Ik;$m.THROW_ERROR=new Jk;Wh.ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];Ei.UNDEFINED=0;Ei.SINGLEPASS_MATERIALS=1;Ei.MULTIPASS_MATERIALS=2;ub.PARSING_DONE=!0;ub.MORE_TO_PARSE=!1;dc._parsers=function(a){a=[aj];for(var b=x.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);dg.LIMIT=65535;dg.CR="\n";Lg.LIMIT=65535;mc.COMPRESSIONMODE_LZMA="lzma";mc.UNCOMPRESSED=
0;mc.DEFLATE=1;mc.LZMA=2;mc.INT8=1;mc.INT16=2;mc.INT32=3;mc.UINT8=4;mc.UINT16=5;mc.UINT32=6;mc.FLOAT32=7;mc.FLOAT64=8;mc.BOOL=21;mc.COLOR=22;mc.BADDR=23;mc.AWDSTRING=31;mc.AWDBYTEARRAY=32;mc.VECTOR2x1=41;mc.VECTOR3x1=42;mc.VECTOR4x1=43;mc.MTX3x2=44;mc.MTX3x3=45;mc.MTX4x3=46;mc.MTX4x4=47;Mc.FLAG1=1;Mc.FLAG2=2;Mc.FLAG3=4;Mc.FLAG4=8;Mc.FLAG5=16;Mc.FLAG6=32;Mc.FLAG7=64;Mc.FLAG8=128;Mc.FLAG9=256;Mc.FLAG10=512;Mc.FLAG11=1024;Mc.FLAG12=2048;Mc.FLAG13=4096;Mc.FLAG14=8192;Mc.FLAG15=16384;Mc.FLAG16=32768;Ge.CONFIG_USE_GPU=
1;Ge.CONFIG_DEFAULT=1;Ge.PARSE_GEOMETRIES=1;Ge.PARSE_IMAGES=2;Ge.PARSE_MATERIALS=4;Ge.PARSE_VISUAL_SCENES=8;Ge.PARSE_DEFAULT=15;Ge._numInstances=0;pa.USE_LEFT_HANDED=!0;Wd.LIMIT=65535;Wd.SETLIMIT=17872;Wd.CR="\n";Wd.FACE="3DFACE";Wd.LINE="LINE";Wd.VERTEX="VERTEX";Wd.POLYLINE="POLYLINE";Wd._colorTable=function(a){a=[0,16711680,16776960,65280,65535,255,16711935,16777215,4276545,8421504,16711680,16755370,12386304,12418686,8454144,8476246,6815744,6833477,5177344,5190965,16727808,16760746,12398080,12422526,
8462080,8478806,6822144,6835781,5182208,5192501,16744192,16766122,12410368,12426622,8470528,8481622,6829056,6837829,5187328,5194293,16760576,16771754,12422400,12430718,8478720,8484438,6835712,6840133,5192448,5196085,16776960,16777130,12434688,12434814,8487168,8487254,6842368,6842437,5197568,5197621,12582656,15400874,9288960,11386238,6324480,7766358,5138432,6252613,3886848,4804405,8388352,13959082,6208768,10337662,4227328,7045462,3434496,5662789,2576128,4345653,4194048,12582826,3063040,9289086,2064640,
6324566,1665024,5138501,1265408,3886901,65280,11206570,48384,8306046,33024,5669206,26624,4548677,20224,3493685,65343,11206591,48430,8306061,33055,5669216,26649,4548686,20243,3493691,65407,11206612,48478,8306077,33088,5669227,26676,4548694,20263,3493698,65471,11206634,48525,8306093,33120,5669238,26702,4548703,20283,3493705,65535,11206655,48573,8306109,33153,5669249,26728,4548712,20303,3493711,49151,11201279,36285,8302013,24705,5666433,20072,4546408,15183,3492175,32767,11195647,24253,8297917,16513,
5663617,13416,4544104,10063,3490383,16383,11190271,11965,8293821,8065,5660801,6504,4542056,4943,3488591,255,11184895,189,8289981,129,5658241,104,4539752,79,3487055,4129023,12561151,3014845,9273021,2031745,6313601,1638504,5129576,1245263,3880271,8323327,13937407,6160573,10321597,4194433,7034497,3407976,5653864,2555983,4339023,12517631,15641343,9240765,11370173,6291585,7755393,5111912,6243688,3866703,4797775,16711935,16755455,12386493,12418749,8454273,8476289,6815848,6833512,5177423,5190991,16711871,
16755434,12386445,12418733,8454240,8476278,6815822,6833503,5177403,5190985,16711807,16755412,12386398,12418717,8454208,8476267,6815796,6833494,5177383,5190978,16711743,16755391,12386350,12418701,8454175,8476256,6815769,6833486,5177363,5190971,3355443,5263440,6908265,8553090,12500670,16777215];for(var b=x.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);ph.FPS=6;ke.VERSION_TOKEN="MD5Version";ke.COMMAND_LINE_TOKEN="commandline";ke.NUM_FRAMES_TOKEN="numFrames";ke.NUM_JOINTS_TOKEN=
"numJoints";ke.FRAME_RATE_TOKEN="frameRate";ke.NUM_ANIMATED_COMPONENTS_TOKEN="numAnimatedComponents";ke.HIERARCHY_TOKEN="hierarchy";ke.BOUNDS_TOKEN="bounds";ke.BASE_FRAME_TOKEN="baseframe";ke.FRAME_TOKEN="frame";ke.COMMENT_TOKEN="//";Dd.VERSION_TOKEN="MD5Version";Dd.COMMAND_LINE_TOKEN="commandline";Dd.NUM_JOINTS_TOKEN="numJoints";Dd.NUM_MESHES_TOKEN="numMeshes";Dd.COMMENT_TOKEN="//";Dd.JOINTS_TOKEN="joints";Dd.MESH_TOKEN="mesh";Dd.MESH_SHADER_TOKEN="shader";Dd.MESH_NUM_VERTS_TOKEN="numverts";Dd.MESH_VERT_TOKEN=
"vert";Dd.MESH_NUM_TRIS_TOKEN="numtris";Dd.MESH_TRI_TOKEN="tri";Dd.MESH_NUM_WEIGHTS_TOKEN="numweights";Dd.MESH_WEIGHT_TOKEN="weight";ts.BINARY="binary";ts.PLAIN_TEXT="plainText";Zl.ALL_BUNDLED=[dg,Lg,mc,ij,hi,Wd,ph,ke,Dd,jj,Ge,hi];xb.MATERIAL_ID_COUNT=0;Nq.LIGHTS=1;Nq.PROBES=2;Nq.ALL=3;Rd._regPool=new qa;Rd._regCompsPool=new qa;ud.COMPONENTS=["x","y","z","w"];Yh.MULTIPLY=9;Yh.ADD=0;ai.MULTIPLY=9;ai.ADD=0;bi.MULTIPLY=9;bi.ADD=0;bi.MIX=3;ci.ADD="add";ci.MULTIPLY="multiply";ci.MIX="mix";pb._previousUsedStreams=
function(a){a=[0,0,0,0,0,0,0,0];for(var b=x.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);pb._previousUsedTexs=function(a){a=[0,0,0,0,0,0,0,0];for(var b=x.toIntVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);qh.ONE_VECTOR=function(a){a=[1,1,1,1];for(var b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);qh.FRONT_VECTOR=function(a){a=[0,0,-1,0];for(var b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;
b.set(e,a[e])}return b}(this);ue._matrix=new cb;ue._rect=new ya;Ca.TYPE="line";Jc.NATIVE_SIZE=-1;Jc.MINI="mini";Jc.CHAR_SPACE=32;Jc.CHAR_TAB=9;Jc.CHAR_NEWLINE=10;Jc.CHAR_CARRIAGE_RETURN=13;Jc.sLines=x.toObjectVector(null);ac.sInstancePool=[];ac.sVectorPool=[];ac.sInstanceLoan=[];ac.sVectorLoan=[];ff.LEFT="left";ff.CENTER="center";ff.RIGHT="right";dh.escapes=function(a){a=new qa;null!=t.lt?a.setReserved("lt","<"):a.h.lt="<";null!=t.gt?a.setReserved("gt",">"):a.h.gt=">";null!=t.amp?a.setReserved("amp",
"&"):a.h.amp="&";null!=t.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=t.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);y.__toStr={}.toString;Yd.BITMAP_WIDTH=128;Yd.BITMAP_HEIGHT=64;Yd.BITMAP_DATA=[2027613533,-881927360,202148514,-2028041698,-88080844,-8114179,2034947,-1092263897,352977282,-1337209332,-1181314416,-2136898414,1468709156,-2026903579,-1515657153,2101025806,-878458241,-79172757,-692798458,1038056207,1932393374,-1112681669,-1208165062,1741291262,2017257123,-899686453,
984074419,-1245274149,-308890273,1055013549,1806563255,1754714962,1577746187,1124058786,-406208038,-1812738253,-1378383630,-551901968,866060213,1695195001,-1893385228,-1181619395,-1678445700,1053798161,2093370968,-65941613,560451479,854767518,-1684725974,-15925948,-113394816,-263722323,587139110,1081376765,962217926,783603325,-689440871,-192965380,289204733,-1659827041,-840985601,-807112923,2132197241,-1130192222,-37326968,770238970,144664537,707141570,-1360534225,871272893,512964596,808491899,481894297,
-1198984815,-696603140,1710636358,-1390950977,1751040139,596966466,1363963692,465815609,315567311,-4301137,-208944745,179721458,-2073232326,-352742308,1519355876,-1002643514,-361540066,-980767403,-558739948,-448928871,603088884,-1617618069,-1087897969,-739691329,-1231913013,-1230390083,-882923117,693642210,-14453347,762928717,1802215333,-520117622,-73811966,970959395,557220237,2107226136,-785144314,-891682508,-29147277,898597576,991077243,2091615904,-960250408,633599866,-76187187,-2078966920,834870947,
2118009742,1362731961,236280636,1274945142,1458729366,797960805,-1005597576,2103717340,-348561293,-1618444407,1624104606,1156993903,-1108796892,-2040468225,1204911924,1314218830,-987880904,-1470691337,-455101617,2073394964,1873329433,1754205930,1528429545,1631106062,-2031694831,-74470249,-772073531,-653590993,707451487,-842470509,1390653868,-1674411503,1027328684,-875283820,-632773593,765701986,-486688164,786403271,-470531459,713234896,-33110897,-823036565,-301474417,1447960461,1398434593,1914230187,
-1896324011,-138592832,-435628089,-1074267235,-921718534,-1108936862,1315917060,-1485114815,-286413393,-189355343,1599499652,-781109705,877854499,-96707841,-646407219,-1456931877,-1039373106,-1829388839,-31462095,534904657,-1405705698,1358214576,1069250354,-424956739,-1666070713,-846356418,442343309,1024736866,-279848163,-1044100017,1513359261,-1852877700,1944476762,735490552,426990058,-60861185,1204305707,-963972031,-1896317928,-73919173,1724669255,-493851587,-805638506,-398564363,-598030357,-1457984001,
-638216903,-945242784,-484551009,-639969688,-10512193,-2000027733,-87269364,642748805,-1817985657,-1975547398,572956615,-461728356,964924880,2081600351,-722508880,2056247513,1951368808,2133449703,-1511238668,512866577,913279200,1678129016,-806388305,-921014367,-1731970345,-628908371,1664169178,1943591935,750675303,154399903,-1723376406,852654952,-177659530,1971649621,-114771476,1222535348,-11014081,-1414305060,-1577556316,1175907705,1157322027,505963121,-1663426680,-633739640,-703163943,-1670840475,
1948662907,-698902193,1147387734,256773959,1173572460,-1933009825,-84091220,-1214786676,-830166086,-473313037,1465302035,-1443781839,-1151701152,-501786882,-926134193,-20296584,-821148188,-807397964,773123355,1618635668,-1724791106,2075248691,1740805534,288646743,1837597401,603556968,-1112430424,673184603,-1206210243,-1397912892,-1102315980,-1409631494,1057233368,1118437241,-112840833,-1184502521,-981775682,-1933980022,735505357,-1302335871,-1934038485,-107132769,279183208,1586420003,1174008423,-231979707,
1162167621,1162167621,1162167621,1162167621,1174119799,787274608];Yd.Xml_DATA=ua.parse('<font>\n\t\t<info face="mini" size="8" bold="0" italic="0" smooth="0"/>\n\t\t<common lineHeight="8" base="7" scaleW="128" scaleH="64" pages="1" packed="0"/>\n\t\t<chars count="191">\n\t\t\t<char id="195" x="1" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\n\t\t\t<char id="209" x="7" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\n\t\t\t<char id="213" x="13" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\n\t\t\t<char id="253" x="19" y="1" width="4" height="9" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="255" x="24" y="1" width="4" height="9" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="192" x="29" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="193" x="35" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="194" x="41" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="197" x="47" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="200" x="53" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="201" x="59" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="202" x="65" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="210" x="71" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="211" x="77" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="212" x="83" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="217" x="89" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="218" x="95" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="219" x="101" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="221" x="107" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\n\t\t\t<char id="206" x="113" y="1" width="3" height="8" xoffset="-1" yoffset="-1" xadvance="2"/>\n\t\t\t<char id="204" x="117" y="1" width="2" height="8" xoffset="-1" yoffset="-1" xadvance="2"/>\n\t\t\t<char id="205" x="120" y="1" width="2" height="8" xoffset="0" yoffset="-1" xadvance="2"/>\n\t\t\t<char id="36"  x="1" y="11" width="5" height="7" xoffset="0" yoffset="1" xadvance="6"/>\n\t\t\t<char id="196" x="7" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\n\t\t\t<char id="199" x="13" y="11" width="5" height="7" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="203" x="19" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\n\t\t\t<char id="214" x="25" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\n\t\t\t<char id="220" x="31" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\n\t\t\t<char id="224" x="37" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="225" x="42" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="226" x="47" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="227" x="52" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="232" x="57" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="233" x="62" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="234" x="67" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="235" x="72" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="241" x="77" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="242" x="82" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="243" x="87" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="244" x="92" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="245" x="97" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="249" x="102" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="250" x="107" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="251" x="112" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\n\t\t\t<char id="254" x="117" y="11" width="4" height="7" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="123" x="122" y="11" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\n\t\t\t<char id="125" x="1" y="19" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\n\t\t\t<char id="167" x="5" y="19" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\n\t\t\t<char id="207" x="9" y="19" width="3" height="7" xoffset="-1" yoffset="0" xadvance="2"/>\n\t\t\t<char id="106" x="13" y="19" width="2" height="7" xoffset="0" yoffset="2" xadvance="3"/>\n\t\t\t<char id="40" x="16" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\n\t\t\t<char id="41" x="19" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\n\t\t\t<char id="91" x="22" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\n\t\t\t<char id="93" x="25" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\n\t\t\t<char id="124" x="28" y="19" width="1" height="7" xoffset="1" yoffset="1" xadvance="4"/>\n\t\t\t<char id="81" x="30" y="19" width="5" height="6" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="163" x="36" y="19" width="5" height="6" xoffset="0" yoffset="1" xadvance="6"/>\n\t\t\t<char id="177" x="42" y="19" width="5" height="6" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="181" x="48" y="19" width="5" height="6" xoffset="0" yoffset="3" xadvance="6"/>\n\t\t\t<char id="103" x="54" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="112" x="59" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="113" x="64" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="121" x="69" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="162" x="74" y="19" width="4" height="6" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="228" x="79" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\n\t\t\t<char id="229" x="84" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\n\t\t\t<char id="231" x="89" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="240" x="94" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\n\t\t\t<char id="246" x="99" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\n\t\t\t<char id="252" x="104" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\n\t\t\t<char id="238" x="109" y="19" width="3" height="6" xoffset="-1" yoffset="1" xadvance="2"/>\n\t\t\t<char id="59" x="113" y="19" width="2" height="6" xoffset="0" yoffset="3" xadvance="4"/>\n\t\t\t<char id="236" x="116" y="19" width="2" height="6" xoffset="-1" yoffset="1" xadvance="2"/>\n\t\t\t<char id="237" x="119" y="19" width="2" height="6" xoffset="0" yoffset="1" xadvance="2"/>\n\t\t\t<char id="198" x="1" y="27" width="9" height="5" xoffset="0" yoffset="2" xadvance="10"/>\n\t\t\t<char id="190" x="11" y="27" width="8" height="5" xoffset="0" yoffset="2" xadvance="9"/>\n\t\t\t<char id="87" x="20" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\n\t\t\t<char id="188" x="28" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\n\t\t\t<char id="189" x="36" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\n\t\t\t<char id="38" x="44" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\n\t\t\t<char id="164" x="51" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\n\t\t\t<char id="208" x="58" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\n\t\t\t<char id="8364" x="65" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\n\t\t\t<char id="65" x="72" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="66" x="78" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="67" x="84" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="68" x="90" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="69" x="96" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="70" x="102" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="71" x="108" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="72" x="114" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="75" x="120" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="77" x="1" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="78" x="7" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="79" x="13" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="80" x="19" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="82" x="25" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="83" x="31" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="84" x="37" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="85" x="43" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="86" x="49" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="88" x="55" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="89" x="61" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="90" x="67" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="50" x="73" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="51" x="79" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="52" x="85" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="53" x="91" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="54" x="97" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="56" x="103" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="57" x="109" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="48" x="115" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="47" x="121" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="64" x="1" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="92" x="7" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="37" x="13" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="43" x="19" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="35" x="25" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="42" x="31" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="165" x="37" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="169" x="43" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="174" x="49" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="182" x="55" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="216" x="61" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="247" x="67" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\n\t\t\t<char id="74" x="73" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="76" x="78" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="98" x="83" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="100" x="88" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="104" x="93" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="107" x="98" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="55" x="103" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="63" x="108" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="191" x="113" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="222" x="118" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="223" x="123" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\n\t\t\t<char id="116" x="1" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="60" x="5" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="62" x="9" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="170" x="13" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="186" x="17" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="239" x="21" y="45" width="3" height="5" xoffset="-1" yoffset="2" xadvance="2"/>\n\t\t\t<char id="102" x="25" y="45" width="2" height="5" xoffset="0" yoffset="2" xadvance="3"/>\n\t\t\t<char id="49" x="28" y="45" width="2" height="5" xoffset="0" yoffset="2" xadvance="3"/>\n\t\t\t<char id="73" x="31" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\n\t\t\t<char id="105" x="33" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\n\t\t\t<char id="108" x="35" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\n\t\t\t<char id="33" x="37" y="45" width="1" height="5" xoffset="1" yoffset="2" xadvance="3"/>\n\t\t\t<char id="161" x="39" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="3"/>\n\t\t\t<char id="166" x="41" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\n\t\t\t<char id="109" x="43" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\n\t\t\t<char id="119" x="51" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\n\t\t\t<char id="230" x="59" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\n\t\t\t<char id="97" x="67" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="99" x="72" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="101" x="77" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="110" x="82" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="111" x="87" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="115" x="92" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="117" x="97" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="118" x="102" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="120" x="107" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="122" x="112" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="215" x="117" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="248" x="122" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="114" x="1" y="51" width="3" height="4" xoffset="0" yoffset="3" xadvance="4"/>\n\t\t\t<char id="178" x="5" y="51" width="3" height="4" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="179" x="9" y="51" width="3" height="4" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="185" x="13" y="51" width="1" height="4" xoffset="0" yoffset="2" xadvance="2"/>\n\t\t\t<char id="61" x="15" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\n\t\t\t<char id="171" x="21" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\n\t\t\t<char id="172" x="27" y="51" width="5" height="3" xoffset="0" yoffset="4" xadvance="6"/>\n\t\t\t<char id="187" x="33" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\n\t\t\t<char id="176" x="39" y="51" width="3" height="3" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="44" x="43" y="51" width="2" height="3" xoffset="0" yoffset="6" xadvance="3"/>\n\t\t\t<char id="58" x="46" y="51" width="1" height="3" xoffset="1" yoffset="3" xadvance="4"/>\n\t\t\t<char id="94" x="48" y="51" width="4" height="2" xoffset="-1" yoffset="2" xadvance="4"/>\n\t\t\t<char id="126" x="53" y="51" width="4" height="2" xoffset="0" yoffset="3" xadvance="5"/>\n\t\t\t<char id="34" x="58" y="51" width="3" height="2" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="96" x="62" y="51" width="2" height="2" xoffset="0" yoffset="2" xadvance="3"/>\n\t\t\t<char id="180" x="65" y="51" width="2" height="2" xoffset="0" yoffset="2" xadvance="3"/>\n\t\t\t<char id="184" x="68" y="51" width="2" height="2" xoffset="0" yoffset="7" xadvance="3"/>\n\t\t\t<char id="39" x="71" y="51" width="1" height="2" xoffset="0" yoffset="2" xadvance="2"/>\n\t\t\t<char id="95" x="73" y="51" width="5" height="1" xoffset="0" yoffset="7" xadvance="6"/>\n\t\t\t<char id="45" x="79" y="51" width="4" height="1" xoffset="0" yoffset="4" xadvance="5"/>\n\t\t\t<char id="173" x="84" y="51" width="4" height="1" xoffset="0" yoffset="4" xadvance="5"/>\n\t\t\t<char id="168" x="89" y="51" width="3" height="1" xoffset="1" yoffset="2" xadvance="5"/>\n\t\t\t<char id="175" x="93" y="51" width="3" height="1" xoffset="0" yoffset="2" xadvance="4"/>\n\t\t\t<char id="46" x="97" y="51" width="1" height="1" xoffset="0" yoffset="6" xadvance="2"/>\n\t\t\t<char id="183" x="99" y="51" width="1" height="1" xoffset="0" yoffset="4" xadvance="2"/>\n\t\t\t<char id="32" x="6" y="56" width="0" height="0" xoffset="0" yoffset="127" xadvance="3"/>\n\t\t</chars>\n\t</font>');
gf.TOP="top";gf.CENTER="center";gf.BOTTOM="bottom";Ed.registeredBitmapFont=new qa;Ed.registeredTexture=new qa;Ed.registeredData=new qa;cl.TYPE_NORMAL=0;cl.TYPE_CUBE=1;ji.NONE=0;ji.ANISOTROPIC2X=1;ji.ANISOTROPIC4X=2;ji.ANISOTROPIC8X=3;ji.ANISOTROPIC16X=4;vb._mipMaps=[];vb._mipMapUses=[];Uq.MAX_VERTEX=65535;Te.LIMIT_VERTS=196605;Te.LIMIT_INDICES=983025;Ld.MAX_SIZE=4096;ea._hexChars="0123456789abcdefABCDEF";ea._notClasses=new qa;ea._classes=new qa;Dc.models="skelly skull shark cat beachball dog duck doll watermelon pineapple icecream tooth car shoe foot pizza penguin cow turtle bell traffic holly apple bear pear banana hat lighthouse deer present gramophone plant plane bucket mannequin guitar king queen pawn knight bishop rook hourglass teapot dice egg floppy hand extinguisher suitcase milk crate window chair fan notebook lamp book brioche clipboard coffee cup laptop phone printer scissors soldierant rockinghorse earth mars moon sun".split(" ");
td.currentparticlefield="none";cc.skytexturelist="white black rainbow gradient blackwhitegradient space heikoirrgang/darkstormy necros/hell skiingpenguins/indigo hipshot/interstellar axon/misty slowhandd/mnight speedy/morose hipshot/violentdays hipshot/stormydays wtfmrgibs/darkskies ame/ame_desert ame/ame_emerald ame/ame_greenhaze ame/ame_leather ame/ame_mudskip ame/ame_purple ame/ame_rapture ame/ame_shadow mightypete/awup humus/bridge humus/brudslojan humus/yokohama3 humus/buddha humus/creek humus/lancellottichapel humus/meadow humus/nightpath humus/park3 humus/pond humus/stairs humus/storforsen4 humus/swedishroyalcastle humus/pier humus/street humus/fishermansbastion humus/fishpond humus/footballfield humus/pereabeach1 humus/roundabout humus/saintlazaruschurch2 humus/skansen humus/skansen3 humus/tenerife3 humus/beach humus/arstabridge humus/backyard humus/dallasw humus/fjaderholmarna humus/iceriver humus/langholmen humus/lundagatan humus/nissibeach2 humus/palmtrees humus/saintlazaruschurch humus/teide humus/unionsquare".split(" ");
qb.rate=1;sh.FAMILY="default";sh.SIZE=100;sh.DATA="data/fonts/defaulthires/defaulthires.fnt";sh.TEXTURE="data/fonts/defaulthires/defaulthires_0.png";yd.MIN_COLOR=function(a){a=[0,0,0,1E-4];for(var b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);yd.IDENTITY=function(a){a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];for(var b=x.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);yd.LUMA_R=.299;yd.LUMA_G=.587;yd.LUMA_B=.114;yd.sTmpMatrix1=
x.toFloatVector(null,20,!0);yd.sTmpMatrix2=x.toFloatVector(null);xe.USE_CACHE=!1;xe.USE_ENUM_INDEX=!1;xe.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";ye.DEFAULT_RESOLVER=new lo;ye.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Hb.count=0;Gd.i64tmp=new Ga(0,0);Gd.LN2=.6931471805599453;na.BLACK=0;na.GREY=10329501;na.GRAY=10329501;na.WHITE=16777215;na.RED=12461619;na.PINK=14708619;na.DARKBROWN=4799531;na.BROWN=10773538;na.ORANGE=15436081;na.YELLOW=
16245355;na.DARKGREEN=3098702;na.GREEN=4491546;na.LIGHTGREEN=10735143;na.NIGHTBLUE=1779250;na.DARKBLUE=22404;na.BLUE=3252978;na.LIGHTBLUE=11721967;na.MAGENTA=16711935;na.TRANSPARENT=1;na.hslval=[0,0,0];Gb.width=0;Gb.height=0;qe.rect1=new ya;qe.rect2=new ya;J.clipboardbuffer=[""];J.keymap=new qj;J.lookup=new fc;J.current=[];J.last=[];J.keyheld=[];J.numletters=256;J.keybuffer="";aa.mousewheel=0;aa.gotosite="";L.musicchan=[];L.effectindex=new qa;L.volumelevels=[];L.reversesongindex=[];L.songindex=new qa;
L.songvolumelevels=[];L.efchannel=[];L.efchan=[];fa.seed=0;S.images=[];S.imageindex=new qa;S.usemipmaps=!1;S.fpscounter_visible=!1;S.meshlist=[];S.objectindex=new qa;S.objects=[];S.textureindex=new qa;S.textures=[];Ta.PI_M2=2*Math.PI;Ta.PI_D2=Math.PI/2;Oa.lerptimer=[];Oa.lerptimermax=[];Oa.timerindex=new qa;Oa.completelist=[];th.BYTES_PER_ELEMENT=4;uh.BYTES_PER_ELEMENT=8;vh.BYTES_PER_ELEMENT=1;Ua.activeRequests=0;Ua.requestLimit=4;Ua.requestQueue=new Bd;eb.dummyCharacter="\u007f";eb.windowID=0;db.__base64Chars=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";pr.FT_LOAD_FORCE_AUTOHINT=32;g.DEPTH_BUFFER_BIT=256;g.STENCIL_BUFFER_BIT=1024;g.COLOR_BUFFER_BIT=16384;g.POINTS=0;g.LINES=1;g.LINE_LOOP=2;g.LINE_STRIP=3;g.TRIANGLES=4;g.TRIANGLE_STRIP=5;g.TRIANGLE_FAN=6;g.ZERO=0;g.ONE=1;g.SRC_COLOR=768;g.ONE_MINUS_SRC_COLOR=769;g.SRC_ALPHA=770;g.ONE_MINUS_SRC_ALPHA=771;g.DST_ALPHA=772;g.ONE_MINUS_DST_ALPHA=773;g.DST_COLOR=774;g.ONE_MINUS_DST_COLOR=775;g.SRC_ALPHA_SATURATE=776;g.FUNC_ADD=32774;g.BLEND_EQUATION=
32777;g.BLEND_EQUATION_RGB=32777;g.BLEND_EQUATION_ALPHA=34877;g.FUNC_SUBTRACT=32778;g.FUNC_REVERSE_SUBTRACT=32779;g.BLEND_DST_RGB=32968;g.BLEND_SRC_RGB=32969;g.BLEND_DST_ALPHA=32970;g.BLEND_SRC_ALPHA=32971;g.CONSTANT_COLOR=32769;g.ONE_MINUS_CONSTANT_COLOR=32770;g.CONSTANT_ALPHA=32771;g.ONE_MINUS_CONSTANT_ALPHA=32772;g.BLEND_COLOR=32773;g.ARRAY_BUFFER=34962;g.ELEMENT_ARRAY_BUFFER=34963;g.ARRAY_BUFFER_BINDING=34964;g.ELEMENT_ARRAY_BUFFER_BINDING=34965;g.STREAM_DRAW=35040;g.STATIC_DRAW=35044;g.DYNAMIC_DRAW=
35048;g.BUFFER_SIZE=34660;g.BUFFER_USAGE=34661;g.CURRENT_VERTEX_ATTRIB=34342;g.FRONT=1028;g.BACK=1029;g.FRONT_AND_BACK=1032;g.CULL_FACE=2884;g.BLEND=3042;g.DITHER=3024;g.STENCIL_TEST=2960;g.DEPTH_TEST=2929;g.SCISSOR_TEST=3089;g.POLYGON_OFFSET_FILL=32823;g.SAMPLE_ALPHA_TO_COVERAGE=32926;g.SAMPLE_COVERAGE=32928;g.NO_ERROR=0;g.INVALID_ENUM=1280;g.INVALID_VALUE=1281;g.INVALID_OPERATION=1282;g.OUT_OF_MEMORY=1285;g.CW=2304;g.CCW=2305;g.LINE_WIDTH=2849;g.ALIASED_POINT_SIZE_RANGE=33901;g.ALIASED_LINE_WIDTH_RANGE=
33902;g.CULL_FACE_MODE=2885;g.FRONT_FACE=2886;g.DEPTH_RANGE=2928;g.DEPTH_WRITEMASK=2930;g.DEPTH_CLEAR_VALUE=2931;g.DEPTH_FUNC=2932;g.STENCIL_CLEAR_VALUE=2961;g.STENCIL_FUNC=2962;g.STENCIL_FAIL=2964;g.STENCIL_PASS_DEPTH_FAIL=2965;g.STENCIL_PASS_DEPTH_PASS=2966;g.STENCIL_REF=2967;g.STENCIL_VALUE_MASK=2963;g.STENCIL_WRITEMASK=2968;g.STENCIL_BACK_FUNC=34816;g.STENCIL_BACK_FAIL=34817;g.STENCIL_BACK_PASS_DEPTH_FAIL=34818;g.STENCIL_BACK_PASS_DEPTH_PASS=34819;g.STENCIL_BACK_REF=36003;g.STENCIL_BACK_VALUE_MASK=
36004;g.STENCIL_BACK_WRITEMASK=36005;g.VIEWPORT=2978;g.SCISSOR_BOX=3088;g.COLOR_CLEAR_VALUE=3106;g.COLOR_WRITEMASK=3107;g.UNPACK_ALIGNMENT=3317;g.PACK_ALIGNMENT=3333;g.MAX_TEXTURE_SIZE=3379;g.MAX_VIEWPORT_DIMS=3386;g.SUBPIXEL_BITS=3408;g.RED_BITS=3410;g.GREEN_BITS=3411;g.BLUE_BITS=3412;g.ALPHA_BITS=3413;g.DEPTH_BITS=3414;g.STENCIL_BITS=3415;g.POLYGON_OFFSET_UNITS=10752;g.POLYGON_OFFSET_FACTOR=32824;g.TEXTURE_BINDING_2D=32873;g.SAMPLE_BUFFERS=32936;g.SAMPLES=32937;g.SAMPLE_COVERAGE_VALUE=32938;g.SAMPLE_COVERAGE_INVERT=
32939;g.NUM_COMPRESSED_TEXTURE_FORMATS=34466;g.COMPRESSED_TEXTURE_FORMATS=34467;g.DONT_CARE=4352;g.FASTEST=4353;g.NICEST=4354;g.GENERATE_MIPMAP_HINT=33170;g.BYTE=5120;g.UNSIGNED_BYTE=5121;g.SHORT=5122;g.UNSIGNED_SHORT=5123;g.INT=5124;g.UNSIGNED_INT=5125;g.FLOAT=5126;g.DEPTH_COMPONENT=6402;g.ALPHA=6406;g.RGB=6407;g.RGBA=6408;g.LUMINANCE=6409;g.LUMINANCE_ALPHA=6410;g.UNSIGNED_SHORT_4_4_4_4=32819;g.UNSIGNED_SHORT_5_5_5_1=32820;g.UNSIGNED_SHORT_5_6_5=33635;g.FRAGMENT_SHADER=35632;g.VERTEX_SHADER=35633;
g.MAX_VERTEX_ATTRIBS=34921;g.MAX_VERTEX_UNIFORM_VECTORS=36347;g.MAX_VARYING_VECTORS=36348;g.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;g.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;g.MAX_TEXTURE_IMAGE_UNITS=34930;g.MAX_FRAGMENT_UNIFORM_VECTORS=36349;g.SHADER_TYPE=35663;g.DELETE_STATUS=35712;g.LINK_STATUS=35714;g.VALIDATE_STATUS=35715;g.ATTACHED_SHADERS=35717;g.ACTIVE_UNIFORMS=35718;g.ACTIVE_ATTRIBUTES=35721;g.SHADING_LANGUAGE_VERSION=35724;g.CURRENT_PROGRAM=35725;g.NEVER=512;g.LESS=513;g.EQUAL=514;g.LEQUAL=
515;g.GREATER=516;g.NOTEQUAL=517;g.GEQUAL=518;g.ALWAYS=519;g.KEEP=7680;g.REPLACE=7681;g.INCR=7682;g.DECR=7683;g.INVERT=5386;g.INCR_WRAP=34055;g.DECR_WRAP=34056;g.VENDOR=7936;g.RENDERER=7937;g.VERSION=7938;g.EXTENSIONS=7939;g.NEAREST=9728;g.LINEAR=9729;g.NEAREST_MIPMAP_NEAREST=9984;g.LINEAR_MIPMAP_NEAREST=9985;g.NEAREST_MIPMAP_LINEAR=9986;g.LINEAR_MIPMAP_LINEAR=9987;g.TEXTURE_MAG_FILTER=10240;g.TEXTURE_MIN_FILTER=10241;g.TEXTURE_WRAP_S=10242;g.TEXTURE_WRAP_T=10243;g.TEXTURE_2D=3553;g.TEXTURE=5890;
g.TEXTURE_CUBE_MAP=34067;g.TEXTURE_BINDING_CUBE_MAP=34068;g.TEXTURE_CUBE_MAP_POSITIVE_X=34069;g.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;g.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;g.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;g.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;g.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;g.MAX_CUBE_MAP_TEXTURE_SIZE=34076;g.TEXTURE0=33984;g.TEXTURE1=33985;g.TEXTURE2=33986;g.TEXTURE3=33987;g.TEXTURE4=33988;g.TEXTURE5=33989;g.TEXTURE6=33990;g.TEXTURE7=33991;g.TEXTURE8=33992;g.TEXTURE9=33993;g.TEXTURE10=33994;g.TEXTURE11=
33995;g.TEXTURE12=33996;g.TEXTURE13=33997;g.TEXTURE14=33998;g.TEXTURE15=33999;g.TEXTURE16=34E3;g.TEXTURE17=34001;g.TEXTURE18=34002;g.TEXTURE19=34003;g.TEXTURE20=34004;g.TEXTURE21=34005;g.TEXTURE22=34006;g.TEXTURE23=34007;g.TEXTURE24=34008;g.TEXTURE25=34009;g.TEXTURE26=34010;g.TEXTURE27=34011;g.TEXTURE28=34012;g.TEXTURE29=34013;g.TEXTURE30=34014;g.TEXTURE31=34015;g.ACTIVE_TEXTURE=34016;g.REPEAT=10497;g.CLAMP_TO_EDGE=33071;g.MIRRORED_REPEAT=33648;g.FLOAT_VEC2=35664;g.FLOAT_VEC3=35665;g.FLOAT_VEC4=35666;
g.INT_VEC2=35667;g.INT_VEC3=35668;g.INT_VEC4=35669;g.BOOL=35670;g.BOOL_VEC2=35671;g.BOOL_VEC3=35672;g.BOOL_VEC4=35673;g.FLOAT_MAT2=35674;g.FLOAT_MAT3=35675;g.FLOAT_MAT4=35676;g.SAMPLER_2D=35678;g.SAMPLER_CUBE=35680;g.VERTEX_ATTRIB_ARRAY_ENABLED=34338;g.VERTEX_ATTRIB_ARRAY_SIZE=34339;g.VERTEX_ATTRIB_ARRAY_STRIDE=34340;g.VERTEX_ATTRIB_ARRAY_TYPE=34341;g.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;g.VERTEX_ATTRIB_ARRAY_POINTER=34373;g.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;g.IMPLEMENTATION_COLOR_READ_TYPE=
35738;g.IMPLEMENTATION_COLOR_READ_FORMAT=35739;g.VERTEX_PROGRAM_POINT_SIZE=34370;g.POINT_SPRITE=34913;g.COMPILE_STATUS=35713;g.LOW_FLOAT=36336;g.MEDIUM_FLOAT=36337;g.HIGH_FLOAT=36338;g.LOW_INT=36339;g.MEDIUM_INT=36340;g.HIGH_INT=36341;g.FRAMEBUFFER=36160;g.RENDERBUFFER=36161;g.RGBA4=32854;g.RGB5_A1=32855;g.RGB565=36194;g.DEPTH_COMPONENT16=33189;g.STENCIL_INDEX=6401;g.STENCIL_INDEX8=36168;g.DEPTH_STENCIL=34041;g.RENDERBUFFER_WIDTH=36162;g.RENDERBUFFER_HEIGHT=36163;g.RENDERBUFFER_INTERNAL_FORMAT=36164;
g.RENDERBUFFER_RED_SIZE=36176;g.RENDERBUFFER_GREEN_SIZE=36177;g.RENDERBUFFER_BLUE_SIZE=36178;g.RENDERBUFFER_ALPHA_SIZE=36179;g.RENDERBUFFER_DEPTH_SIZE=36180;g.RENDERBUFFER_STENCIL_SIZE=36181;g.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;g.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;g.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;g.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;g.COLOR_ATTACHMENT0=36064;g.DEPTH_ATTACHMENT=36096;g.STENCIL_ATTACHMENT=36128;g.DEPTH_STENCIL_ATTACHMENT=33306;g.NONE=0;g.FRAMEBUFFER_COMPLETE=
36053;g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;g.FRAMEBUFFER_UNSUPPORTED=36061;g.FRAMEBUFFER_BINDING=36006;g.RENDERBUFFER_BINDING=36007;g.MAX_RENDERBUFFER_SIZE=34024;g.INVALID_FRAMEBUFFER_OPERATION=1286;g.UNPACK_FLIP_Y_WEBGL=37440;g.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;g.CONTEXT_LOST_WEBGL=37442;g.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443;g.BROWSER_DEFAULT_WEBGL=37444;g.READ_BUFFER=3074;g.UNPACK_ROW_LENGTH=
3314;g.UNPACK_SKIP_ROWS=3315;g.UNPACK_SKIP_PIXELS=3316;g.PACK_ROW_LENGTH=3330;g.PACK_SKIP_ROWS=3331;g.PACK_SKIP_PIXELS=3332;g.TEXTURE_BINDING_3D=32874;g.UNPACK_SKIP_IMAGES=32877;g.UNPACK_IMAGE_HEIGHT=32878;g.MAX_3D_TEXTURE_SIZE=32883;g.MAX_ELEMENTS_VERTICES=33E3;g.MAX_ELEMENTS_INDICES=33001;g.MAX_TEXTURE_LOD_BIAS=34045;g.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657;g.MAX_VERTEX_UNIFORM_COMPONENTS=35658;g.MAX_ARRAY_TEXTURE_LAYERS=35071;g.MIN_PROGRAM_TEXEL_OFFSET=35076;g.MAX_PROGRAM_TEXEL_OFFSET=35077;g.MAX_VARYING_COMPONENTS=
35659;g.FRAGMENT_SHADER_DERIVATIVE_HINT=35723;g.RASTERIZER_DISCARD=35977;g.VERTEX_ARRAY_BINDING=34229;g.MAX_VERTEX_OUTPUT_COMPONENTS=37154;g.MAX_FRAGMENT_INPUT_COMPONENTS=37157;g.MAX_SERVER_WAIT_TIMEOUT=37137;g.MAX_ELEMENT_INDEX=36203;g.RED=6403;g.RGB8=32849;g.RGBA8=32856;g.RGB10_A2=32857;g.TEXTURE_3D=32879;g.TEXTURE_WRAP_R=32882;g.TEXTURE_MIN_LOD=33082;g.TEXTURE_MAX_LOD=33083;g.TEXTURE_BASE_LEVEL=33084;g.TEXTURE_MAX_LEVEL=33085;g.TEXTURE_COMPARE_MODE=34892;g.TEXTURE_COMPARE_FUNC=34893;g.SRGB=35904;
g.SRGB8=35905;g.SRGB8_ALPHA8=35907;g.COMPARE_REF_TO_TEXTURE=34894;g.RGBA32F=34836;g.RGB32F=34837;g.RGBA16F=34842;g.RGB16F=34843;g.TEXTURE_2D_ARRAY=35866;g.TEXTURE_BINDING_2D_ARRAY=35869;g.R11F_G11F_B10F=35898;g.RGB9_E5=35901;g.RGBA32UI=36208;g.RGB32UI=36209;g.RGBA16UI=36214;g.RGB16UI=36215;g.RGBA8UI=36220;g.RGB8UI=36221;g.RGBA32I=36226;g.RGB32I=36227;g.RGBA16I=36232;g.RGB16I=36233;g.RGBA8I=36238;g.RGB8I=36239;g.RED_INTEGER=36244;g.RGB_INTEGER=36248;g.RGBA_INTEGER=36249;g.R8=33321;g.RG8=33323;g.R16F=
33325;g.R32F=33326;g.RG16F=33327;g.RG32F=33328;g.R8I=33329;g.R8UI=33330;g.R16I=33331;g.R16UI=33332;g.R32I=33333;g.R32UI=33334;g.RG8I=33335;g.RG8UI=33336;g.RG16I=33337;g.RG16UI=33338;g.RG32I=33339;g.RG32UI=33340;g.R8_SNORM=36756;g.RG8_SNORM=36757;g.RGB8_SNORM=36758;g.RGBA8_SNORM=36759;g.RGB10_A2UI=36975;g.TEXTURE_IMMUTABLE_FORMAT=37167;g.TEXTURE_IMMUTABLE_LEVELS=33503;g.UNSIGNED_INT_2_10_10_10_REV=33640;g.UNSIGNED_INT_10F_11F_11F_REV=35899;g.UNSIGNED_INT_5_9_9_9_REV=35902;g.FLOAT_32_UNSIGNED_INT_24_8_REV=
36269;g.UNSIGNED_INT_24_8=34042;g.HALF_FLOAT=5131;g.RG=33319;g.RG_INTEGER=33320;g.INT_2_10_10_10_REV=36255;g.CURRENT_QUERY=34917;g.QUERY_RESULT=34918;g.QUERY_RESULT_AVAILABLE=34919;g.ANY_SAMPLES_PASSED=35887;g.ANY_SAMPLES_PASSED_CONSERVATIVE=36202;g.MAX_DRAW_BUFFERS=34852;g.DRAW_BUFFER0=34853;g.DRAW_BUFFER1=34854;g.DRAW_BUFFER2=34855;g.DRAW_BUFFER3=34856;g.DRAW_BUFFER4=34857;g.DRAW_BUFFER5=34858;g.DRAW_BUFFER6=34859;g.DRAW_BUFFER7=34860;g.DRAW_BUFFER8=34861;g.DRAW_BUFFER9=34862;g.DRAW_BUFFER10=34863;
g.DRAW_BUFFER11=34864;g.DRAW_BUFFER12=34865;g.DRAW_BUFFER13=34866;g.DRAW_BUFFER14=34867;g.DRAW_BUFFER15=34868;g.MAX_COLOR_ATTACHMENTS=36063;g.COLOR_ATTACHMENT1=36065;g.COLOR_ATTACHMENT2=36066;g.COLOR_ATTACHMENT3=36067;g.COLOR_ATTACHMENT4=36068;g.COLOR_ATTACHMENT5=36069;g.COLOR_ATTACHMENT6=36070;g.COLOR_ATTACHMENT7=36071;g.COLOR_ATTACHMENT8=36072;g.COLOR_ATTACHMENT9=36073;g.COLOR_ATTACHMENT10=36074;g.COLOR_ATTACHMENT11=36075;g.COLOR_ATTACHMENT12=36076;g.COLOR_ATTACHMENT13=36077;g.COLOR_ATTACHMENT14=
36078;g.COLOR_ATTACHMENT15=36079;g.SAMPLER_3D=35679;g.SAMPLER_2D_SHADOW=35682;g.SAMPLER_2D_ARRAY=36289;g.SAMPLER_2D_ARRAY_SHADOW=36292;g.SAMPLER_CUBE_SHADOW=36293;g.INT_SAMPLER_2D=36298;g.INT_SAMPLER_3D=36299;g.INT_SAMPLER_CUBE=36300;g.INT_SAMPLER_2D_ARRAY=36303;g.UNSIGNED_INT_SAMPLER_2D=36306;g.UNSIGNED_INT_SAMPLER_3D=36307;g.UNSIGNED_INT_SAMPLER_CUBE=36308;g.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311;g.MAX_SAMPLES=36183;g.SAMPLER_BINDING=35097;g.PIXEL_PACK_BUFFER=35051;g.PIXEL_UNPACK_BUFFER=35052;g.PIXEL_PACK_BUFFER_BINDING=
35053;g.PIXEL_UNPACK_BUFFER_BINDING=35055;g.COPY_READ_BUFFER=36662;g.COPY_WRITE_BUFFER=36663;g.COPY_READ_BUFFER_BINDING=36662;g.COPY_WRITE_BUFFER_BINDING=36663;g.FLOAT_MAT2x3=35685;g.FLOAT_MAT2x4=35686;g.FLOAT_MAT3x2=35687;g.FLOAT_MAT3x4=35688;g.FLOAT_MAT4x2=35689;g.FLOAT_MAT4x3=35690;g.UNSIGNED_INT_VEC2=36294;g.UNSIGNED_INT_VEC3=36295;g.UNSIGNED_INT_VEC4=36296;g.UNSIGNED_NORMALIZED=35863;g.SIGNED_NORMALIZED=36764;g.VERTEX_ATTRIB_ARRAY_INTEGER=35069;g.VERTEX_ATTRIB_ARRAY_DIVISOR=35070;g.TRANSFORM_FEEDBACK_BUFFER_MODE=
35967;g.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968;g.TRANSFORM_FEEDBACK_VARYINGS=35971;g.TRANSFORM_FEEDBACK_BUFFER_START=35972;g.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973;g.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976;g.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978;g.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979;g.INTERLEAVED_ATTRIBS=35980;g.SEPARATE_ATTRIBS=35981;g.TRANSFORM_FEEDBACK_BUFFER=35982;g.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983;g.TRANSFORM_FEEDBACK=36386;g.TRANSFORM_FEEDBACK_PAUSED=
36387;g.TRANSFORM_FEEDBACK_ACTIVE=36388;g.TRANSFORM_FEEDBACK_BINDING=36389;g.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296;g.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297;g.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298;g.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299;g.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300;g.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301;g.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302;g.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303;g.FRAMEBUFFER_DEFAULT=33304;g.DEPTH24_STENCIL8=35056;g.DRAW_FRAMEBUFFER_BINDING=36006;
g.READ_FRAMEBUFFER=36008;g.DRAW_FRAMEBUFFER=36009;g.READ_FRAMEBUFFER_BINDING=36010;g.RENDERBUFFER_SAMPLES=36011;g.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052;g.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182;g.UNIFORM_BUFFER=35345;g.UNIFORM_BUFFER_BINDING=35368;g.UNIFORM_BUFFER_START=35369;g.UNIFORM_BUFFER_SIZE=35370;g.MAX_VERTEX_UNIFORM_BLOCKS=35371;g.MAX_FRAGMENT_UNIFORM_BLOCKS=35373;g.MAX_COMBINED_UNIFORM_BLOCKS=35374;g.MAX_UNIFORM_BUFFER_BINDINGS=35375;g.MAX_UNIFORM_BLOCK_SIZE=35376;g.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=
35377;g.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379;g.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380;g.ACTIVE_UNIFORM_BLOCKS=35382;g.UNIFORM_TYPE=35383;g.UNIFORM_SIZE=35384;g.UNIFORM_BLOCK_INDEX=35386;g.UNIFORM_OFFSET=35387;g.UNIFORM_ARRAY_STRIDE=35388;g.UNIFORM_MATRIX_STRIDE=35389;g.UNIFORM_IS_ROW_MAJOR=35390;g.UNIFORM_BLOCK_BINDING=35391;g.UNIFORM_BLOCK_DATA_SIZE=35392;g.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394;g.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395;g.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396;
g.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398;g.OBJECT_TYPE=37138;g.SYNC_CONDITION=37139;g.SYNC_STATUS=37140;g.SYNC_FLAGS=37141;g.SYNC_FENCE=37142;g.SYNC_GPU_COMMANDS_COMPLETE=37143;g.UNSIGNALED=37144;g.SIGNALED=37145;g.ALREADY_SIGNALED=37146;g.TIMEOUT_EXPIRED=37147;g.CONDITION_SATISFIED=37148;g.WAIT_FAILED=37149;g.SYNC_FLUSH_COMMANDS_BIT=1;g.COLOR=6144;g.DEPTH=6145;g.STENCIL=6146;g.MIN=32775;g.MAX=32776;g.DEPTH_COMPONENT24=33190;g.STREAM_READ=35041;g.STREAM_COPY=35042;g.STATIC_READ=35045;g.STATIC_COPY=
35046;g.DYNAMIC_READ=35049;g.DYNAMIC_COPY=35050;g.DEPTH_COMPONENT32F=36012;g.DEPTH32F_STENCIL8=36013;g.INVALID_INDEX=-1;g.TIMEOUT_IGNORED=-1;g.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447;q.__tempPointer=new kf(null,0);gb.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];ia.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];R.NONE=0;R.FALSE=0;R.TRUE=1;R.SOURCE_RELATIVE=514;R.CONE_INNER_ANGLE=4097;R.CONE_OUTER_ANGLE=4098;R.PITCH=4099;R.POSITION=4100;R.DIRECTION=4101;R.VELOCITY=4102;R.LOOPING=4103;R.BUFFER=4105;
R.GAIN=4106;R.MIN_GAIN=4109;R.MAX_GAIN=4110;R.ORIENTATION=4111;R.SOURCE_STATE=4112;R.INITIAL=4113;R.PLAYING=4114;R.PAUSED=4115;R.STOPPED=4116;R.BUFFERS_QUEUED=4117;R.BUFFERS_PROCESSED=4118;R.REFERENCE_DISTANCE=4128;R.ROLLOFF_FACTOR=4129;R.CONE_OUTER_GAIN=4130;R.MAX_DISTANCE=4131;R.SEC_OFFSET=4132;R.SAMPLE_OFFSET=4133;R.BYTE_OFFSET=4134;R.SOURCE_TYPE=4135;R.STATIC=4136;R.STREAMING=4137;R.UNDETERMINED=4144;R.FORMAT_MONO8=4352;R.FORMAT_MONO16=4353;R.FORMAT_STEREO8=4354;R.FORMAT_STEREO16=4355;R.FREQUENCY=
8193;R.BITS=8194;R.CHANNELS=8195;R.SIZE=8196;R.NO_ERROR=0;R.INVALID_NAME=40961;R.INVALID_ENUM=40962;R.INVALID_VALUE=40963;R.INVALID_OPERATION=40964;R.OUT_OF_MEMORY=40965;R.VENDOR=45057;R.VERSION=45058;R.RENDERER=45059;R.EXTENSIONS=45060;R.DOPPLER_FACTOR=49152;R.SPEED_OF_SOUND=49155;R.DOPPLER_VELOCITY=49153;R.DISTANCE_MODEL=53248;R.INVERSE_DISTANCE=53249;R.INVERSE_DISTANCE_CLAMPED=53250;R.LINEAR_DISTANCE=53251;R.LINEAR_DISTANCE_CLAMPED=53252;R.EXPONENT_DISTANCE=53253;R.EXPONENT_DISTANCE_CLAMPED=53254;
jb.FALSE=0;jb.TRUE=1;jb.FREQUENCY=4103;jb.REFRESH=4104;jb.SYNC=4105;jb.MONO_SOURCES=4112;jb.STEREO_SOURCES=4113;jb.NO_ERROR=0;jb.INVALID_DEVICE=40961;jb.INVALID_CONTEXT=40962;jb.INVALID_ENUM=40963;jb.INVALID_VALUE=40964;jb.OUT_OF_MEMORY=40965;jb.ATTRIBUTES_SIZE=4098;jb.ALL_ATTRIBUTES=4099;jb.DEFAULT_DEVICE_SPECIFIER=4100;jb.DEVICE_SPECIFIER=4101;jb.EXTENSIONS=4102;jb.ENUMERATE_ALL_EXT=1;jb.DEFAULT_ALL_DEVICES_SPECIFIER=4114;jb.ALL_DEVICES_SPECIFIER=4115;ae.onUpdate=new fd;Pd.alreadyCreated=new qa;
Pd.initialized=!1;nb.__directories=new fc;qf.INVALID=0;qf.LEFT_TO_RIGHT=4;qf.RIGHT_TO_LEFT=5;qf.TOP_TO_BOTTOM=6;qf.BOTTOM_TO_TOP=7;oa.COMMON="Zyyy";oa.INHERITED="Zinh";oa.UNKNOWN="Zzzz";oa.ARABIC="Arab";oa.ARMENIAN="Armn";oa.BENGALI="Beng";oa.CYRILLIC="Cyrl";oa.DEVANAGARI="Deva";oa.GEORGIAN="Geor";oa.GREEK="Grek";oa.GUJARATI="Gujr";oa.GURMUKHI="Guru";oa.HANGUL="Hang";oa.HAN="Hani";oa.HEBREW="Hebr";oa.HIRAGANA="Hira";oa.KANNADA="Knda";oa.KATAKANA="Kana";oa.LAO="Laoo";oa.LATIN="Latn";oa.MALAYALAM="Mlym";
oa.ORIYA="Orya";oa.TAMIL="Taml";oa.TELUGA="Telu";oa.THAI="Thai";oa.TIBETAN="Tibt";oa.BOPOMOFO="Bopo";oa.BRAILLE="Brai";oa.CANADIAN_SYLLABICS="Cans";oa.CHEROKEE="Cher";oa.ETHIOPIC="Ethi";oa.KHMER="Khmr";oa.MONGOLIAN="Mong";oa.MYANMAR="Mymr";oa.OGHAM="Ogam";oa.RUNIC="Runr";oa.SINHALA="Sinh";oa.SYRIAC="Syrc";oa.THAANA="Thaa";oa.YI="Yiii";oa.DESERET="Dsrt";oa.GOTHIC="Goth";oa.OLD_ITALIC="Ital";oa.BUHID="Buhd";oa.HANUNOO="Hano";oa.TAGALOG="Tglg";oa.TAGBANWA="Tagb";oa.CYPRIOT="Cprt";oa.LIMBU="Limb";oa.LINEAR_B=
"Linb";oa.OSMANYA="Osma";oa.SHAVIAN="Shaw";oa.TAI_LE="Tale";oa.UGARITIC="Ugar";oa.BUGINESE="Bugi";oa.COPTIC="Copt";oa.GLAGOLITIC="Glag";oa.KHAROSHTHI="Khar";oa.NEW_TAI_LUE="Talu";oa.OLD_PERSIAN="Xpeo";oa.SYLOTI_NAGRI="Sylo";oa.TIFINAGH="Tfng";oa.BALINESE="Bali";oa.CUNEIFORM="Xsux";oa.NKO="Nkoo";oa.PHAGS_PA="Phag";oa.PHOENICIAN="Phnx";oa.CARIAN="Cari";oa.CHAM="Cham";oa.KAYAH_LI="Kali";oa.LEPCHA="Lepc";oa.LYCIAN="Lyci";oa.LYDIAN="Lydi";oa.OL_CHIKI="Olck";oa.REJANG="Rjng";oa.SAURASHTRA="Saur";oa.SUNDANESE=
"Sund";oa.VAI="Vaii";oa.AVESTAN="Avst";oa.BAMUM="Bamu";oa.EGYPTIAN_HIEROGLYPHS="Egyp";oa.IMPERIAL_ARAMAIC="Armi";oa.INSCRIPTIONAL_PAHLAVI="Phli";oa.INSCRIPTIONAL_PARTHIAN="Prti";oa.JAVANESE="Java";oa.KAITHI="Kthi";oa.LISU="Lisu";oa.MEETEI_MAYEK="Mtei";oa.OLD_SOUTH_ARABIAN="Sarb";oa.OLD_TURKIC="Orkh";oa.SAMARITAN="Samr";oa.TAI_THAM="Lana";oa.TAI_VIET="Tavt";oa.BATAK="Batk";oa.BRAHMI="Brah";oa.MANDAIC="Mand";oa.CHAKMA="Cakm";oa.MEROITIC_CURSIVE="Merc";oa.MEROITIC_HIEROGLYPHS="Mero";oa.MIAO="Plrd";oa.SHARADA=
"Shrd";oa.SORA_SOMPENG="Sora";oa.TAKRI="Takr";oa.BASSA_VAH="Bass";oa.CAUCASIAN_ALBANIAN="Aghb";oa.DUPLOYAN="Dupl";oa.ELBASAN="Elba";oa.GRANTHA="Gran";oa.KHOJKI="Khoj";oa.KHUDAWADI="Sind";oa.LINEAR_A="Lina";oa.MAHAJANI="Mahj";oa.MANICHAEAN="Mani";oa.MENDE_KIKAKUI="Mend";oa.MODI="Modi";oa.MRO="Mroo";oa.NABATAEAN="Nbat";oa.OLD_NORTH_ARABIAN="Narb";oa.OLD_PERMIC="Perm";oa.PAHAWH_HMONG="Hmng";oa.PALMYRENE="Palm";oa.PAU_CIN_HAU="Pauc";oa.PSALTER_PAHLAVI="Phlp";oa.SIDDHAM="Sidd";oa.TIRHUTA="Tirh";oa.WARANG_CITI=
"Wara";rf.minCodePoint=0;rf.maxCodePoint=1114111;rf.minHighSurrogate=55296;rf.maxHighSurrogate=56319;rf.minLowSurrogate=56320;rf.maxLowSurrogate=57343;Qc.devices=new fc;Qc.onConnect=new kr;mi.LEFT_X=0;mi.LEFT_Y=1;mi.RIGHT_X=2;mi.RIGHT_Y=3;mi.TRIGGER_LEFT=4;mi.TRIGGER_RIGHT=5;Ae.A=0;Ae.B=1;Ae.X=2;Ae.Y=3;Ae.BACK=4;Ae.GUIDE=5;Ae.START=6;Ae.LEFT_STICK=7;Ae.RIGHT_STICK=8;Ae.LEFT_SHOULDER=9;Ae.RIGHT_SHOULDER=10;Ae.DPAD_UP=11;Ae.DPAD_DOWN=12;Ae.DPAD_LEFT=13;Ae.DPAD_RIGHT=14;ic.devices=new fc;ic.onConnect=
new lr;rd.CENTER=0;rd.DOWN=4;rd.LEFT=8;rd.RIGHT=2;rd.UP=1;rd.DOWN_LEFT=12;rd.DOWN_RIGHT=6;rd.UP_LEFT=9;rd.UP_RIGHT=3;P.UNKNOWN=0;P.BACKSPACE=8;P.TAB=9;P.RETURN=13;P.ESCAPE=27;P.SPACE=32;P.EXCLAMATION=33;P.QUOTE=34;P.HASH=35;P.DOLLAR=36;P.PERCENT=37;P.AMPERSAND=38;P.SINGLE_QUOTE=39;P.LEFT_PARENTHESIS=40;P.RIGHT_PARENTHESIS=41;P.ASTERISK=42;P.PLUS=43;P.COMMA=44;P.MINUS=45;P.PERIOD=46;P.SLASH=47;P.NUMBER_0=48;P.NUMBER_1=49;P.NUMBER_2=50;P.NUMBER_3=51;P.NUMBER_4=52;P.NUMBER_5=53;P.NUMBER_6=54;P.NUMBER_7=
55;P.NUMBER_8=56;P.NUMBER_9=57;P.COLON=58;P.SEMICOLON=59;P.LESS_THAN=60;P.EQUALS=61;P.GREATER_THAN=62;P.QUESTION=63;P.AT=64;P.LEFT_BRACKET=91;P.BACKSLASH=92;P.RIGHT_BRACKET=93;P.CARET=94;P.UNDERSCORE=95;P.GRAVE=96;P.A=97;P.B=98;P.C=99;P.D=100;P.E=101;P.F=102;P.G=103;P.H=104;P.I=105;P.J=106;P.K=107;P.L=108;P.M=109;P.N=110;P.O=111;P.P=112;P.Q=113;P.R=114;P.S=115;P.T=116;P.U=117;P.V=118;P.W=119;P.X=120;P.Y=121;P.Z=122;P.DELETE=127;P.CAPS_LOCK=1073741881;P.F1=1073741882;P.F2=1073741883;P.F3=1073741884;
P.F4=1073741885;P.F5=1073741886;P.F6=1073741887;P.F7=1073741888;P.F8=1073741889;P.F9=1073741890;P.F10=1073741891;P.F11=1073741892;P.F12=1073741893;P.PRINT_SCREEN=1073741894;P.SCROLL_LOCK=1073741895;P.PAUSE=1073741896;P.INSERT=1073741897;P.HOME=1073741898;P.PAGE_UP=1073741899;P.END=1073741901;P.PAGE_DOWN=1073741902;P.RIGHT=1073741903;P.LEFT=1073741904;P.DOWN=1073741905;P.UP=1073741906;P.NUM_LOCK=1073741907;P.NUMPAD_DIVIDE=1073741908;P.NUMPAD_MULTIPLY=1073741909;P.NUMPAD_MINUS=1073741910;P.NUMPAD_PLUS=
1073741911;P.NUMPAD_ENTER=1073741912;P.NUMPAD_1=1073741913;P.NUMPAD_2=1073741914;P.NUMPAD_3=1073741915;P.NUMPAD_4=1073741916;P.NUMPAD_5=1073741917;P.NUMPAD_6=1073741918;P.NUMPAD_7=1073741919;P.NUMPAD_8=1073741920;P.NUMPAD_9=1073741921;P.NUMPAD_0=1073741922;P.NUMPAD_PERIOD=1073741923;P.APPLICATION=1073741925;P.POWER=1073741926;P.NUMPAD_EQUALS=1073741927;P.F13=1073741928;P.F14=1073741929;P.F15=1073741930;P.F16=1073741931;P.F17=1073741932;P.F18=1073741933;P.F19=1073741934;P.F20=1073741935;P.F21=1073741936;
P.F22=1073741937;P.F23=1073741938;P.F24=1073741939;P.EXECUTE=1073741940;P.HELP=1073741941;P.MENU=1073741942;P.SELECT=1073741943;P.STOP=1073741944;P.AGAIN=1073741945;P.UNDO=1073741946;P.CUT=1073741947;P.COPY=1073741948;P.PASTE=1073741949;P.FIND=1073741950;P.MUTE=1073741951;P.VOLUME_UP=1073741952;P.VOLUME_DOWN=1073741953;P.NUMPAD_COMMA=1073741957;P.ALT_ERASE=1073741977;P.SYSTEM_REQUEST=1073741978;P.CANCEL=1073741979;P.CLEAR=1073741980;P.PRIOR=1073741981;P.RETURN2=1073741982;P.SEPARATOR=1073741983;P.OUT=
1073741984;P.OPER=1073741985;P.CLEAR_AGAIN=1073741986;P.CRSEL=1073741987;P.EXSEL=1073741988;P.NUMPAD_00=1073742E3;P.NUMPAD_000=1073742001;P.THOUSAND_SEPARATOR=1073742002;P.DECIMAL_SEPARATOR=1073742003;P.CURRENCY_UNIT=1073742004;P.CURRENCY_SUBUNIT=1073742005;P.NUMPAD_LEFT_PARENTHESIS=1073742006;P.NUMPAD_RIGHT_PARENTHESIS=1073742007;P.NUMPAD_LEFT_BRACE=1073742008;P.NUMPAD_RIGHT_BRACE=1073742009;P.NUMPAD_TAB=1073742010;P.NUMPAD_BACKSPACE=1073742011;P.NUMPAD_A=1073742012;P.NUMPAD_B=1073742013;P.NUMPAD_C=
1073742014;P.NUMPAD_D=1073742015;P.NUMPAD_E=1073742016;P.NUMPAD_F=1073742017;P.NUMPAD_XOR=1073742018;P.NUMPAD_POWER=1073742019;P.NUMPAD_PERCENT=1073742020;P.NUMPAD_LESS_THAN=1073742021;P.NUMPAD_GREATER_THAN=1073742022;P.NUMPAD_AMPERSAND=1073742023;P.NUMPAD_DOUBLE_AMPERSAND=1073742024;P.NUMPAD_VERTICAL_BAR=1073742025;P.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026;P.NUMPAD_COLON=1073742027;P.NUMPAD_HASH=1073742028;P.NUMPAD_SPACE=1073742029;P.NUMPAD_AT=1073742030;P.NUMPAD_EXCLAMATION=1073742031;P.NUMPAD_MEM_STORE=
1073742032;P.NUMPAD_MEM_RECALL=1073742033;P.NUMPAD_MEM_CLEAR=1073742034;P.NUMPAD_MEM_ADD=1073742035;P.NUMPAD_MEM_SUBTRACT=1073742036;P.NUMPAD_MEM_MULTIPLY=1073742037;P.NUMPAD_MEM_DIVIDE=1073742038;P.NUMPAD_PLUS_MINUS=1073742039;P.NUMPAD_CLEAR=1073742040;P.NUMPAD_CLEAR_ENTRY=1073742041;P.NUMPAD_BINARY=1073742042;P.NUMPAD_OCTAL=1073742043;P.NUMPAD_DECIMAL=1073742044;P.NUMPAD_HEXADECIMAL=1073742045;P.LEFT_CTRL=1073742048;P.LEFT_SHIFT=1073742049;P.LEFT_ALT=1073742050;P.LEFT_META=1073742051;P.RIGHT_CTRL=
1073742052;P.RIGHT_SHIFT=1073742053;P.RIGHT_ALT=1073742054;P.RIGHT_META=1073742055;P.MODE=1073742081;P.AUDIO_NEXT=1073742082;P.AUDIO_PREVIOUS=1073742083;P.AUDIO_STOP=1073742084;P.AUDIO_PLAY=1073742085;P.AUDIO_MUTE=1073742086;P.MEDIA_SELECT=1073742087;P.WWW=1073742088;P.MAIL=1073742089;P.CALCULATOR=1073742090;P.COMPUTER=1073742091;P.APP_CONTROL_SEARCH=1073742092;P.APP_CONTROL_HOME=1073742093;P.APP_CONTROL_BACK=1073742094;P.APP_CONTROL_FORWARD=1073742095;P.APP_CONTROL_STOP=1073742096;P.APP_CONTROL_REFRESH=
1073742097;P.APP_CONTROL_BOOKMARKS=1073742098;P.BRIGHTNESS_DOWN=1073742099;P.BRIGHTNESS_UP=1073742100;P.DISPLAY_SWITCH=1073742101;P.BACKLIGHT_TOGGLE=1073742102;P.BACKLIGHT_DOWN=1073742103;P.BACKLIGHT_UP=1073742104;P.EJECT=1073742105;P.SLEEP=1073742106;ib.NONE=0;ib.LEFT_SHIFT=1;ib.RIGHT_SHIFT=2;ib.LEFT_CTRL=64;ib.RIGHT_CTRL=128;ib.LEFT_ALT=256;ib.RIGHT_ALT=512;ib.LEFT_META=1024;ib.RIGHT_META=2048;ib.NUM_LOCK=4096;ib.CAPS_LOCK=8192;ib.MODE=16384;ib.CTRL=192;ib.SHIFT=3;ib.ALT=768;ib.META=3072;V.UNKNOWN=
0;V.BACKSPACE=42;V.TAB=43;V.RETURN=40;V.ESCAPE=41;V.SPACE=44;V.SINGLE_QUOTE=52;V.COMMA=54;V.MINUS=45;V.PERIOD=55;V.SLASH=56;V.NUMBER_0=39;V.NUMBER_1=30;V.NUMBER_2=31;V.NUMBER_3=32;V.NUMBER_4=33;V.NUMBER_5=34;V.NUMBER_6=35;V.NUMBER_7=36;V.NUMBER_8=37;V.NUMBER_9=38;V.SEMICOLON=51;V.EQUALS=46;V.LEFT_BRACKET=47;V.BACKSLASH=49;V.RIGHT_BRACKET=48;V.GRAVE=53;V.A=4;V.B=5;V.C=6;V.D=7;V.E=8;V.F=9;V.G=10;V.H=11;V.I=12;V.J=13;V.K=14;V.L=15;V.M=16;V.N=17;V.O=18;V.P=19;V.Q=20;V.R=21;V.S=22;V.T=23;V.U=24;V.V=25;
V.W=26;V.X=27;V.Y=28;V.Z=29;V.DELETE=76;V.CAPS_LOCK=57;V.F1=58;V.F2=59;V.F3=60;V.F4=61;V.F5=62;V.F6=63;V.F7=64;V.F8=65;V.F9=66;V.F10=67;V.F11=68;V.F12=69;V.PRINT_SCREEN=70;V.SCROLL_LOCK=71;V.PAUSE=72;V.INSERT=73;V.HOME=74;V.PAGE_UP=75;V.END=77;V.PAGE_DOWN=78;V.RIGHT=79;V.LEFT=80;V.DOWN=81;V.UP=82;V.NUM_LOCK=83;V.NUMPAD_DIVIDE=84;V.NUMPAD_MULTIPLY=85;V.NUMPAD_MINUS=86;V.NUMPAD_PLUS=87;V.NUMPAD_ENTER=88;V.NUMPAD_1=89;V.NUMPAD_2=90;V.NUMPAD_3=91;V.NUMPAD_4=92;V.NUMPAD_5=93;V.NUMPAD_6=94;V.NUMPAD_7=95;
V.NUMPAD_8=96;V.NUMPAD_9=97;V.NUMPAD_0=98;V.NUMPAD_PERIOD=99;V.APPLICATION=101;V.POWER=102;V.NUMPAD_EQUALS=103;V.F13=104;V.F14=105;V.F15=106;V.F16=107;V.F17=108;V.F18=109;V.F19=110;V.F20=111;V.F21=112;V.F22=113;V.F23=114;V.F24=115;V.EXECUTE=116;V.HELP=117;V.MENU=118;V.SELECT=119;V.STOP=120;V.AGAIN=121;V.UNDO=122;V.CUT=123;V.COPY=124;V.PASTE=125;V.FIND=126;V.MUTE=127;V.VOLUME_UP=128;V.VOLUME_DOWN=129;V.NUMPAD_COMMA=133;V.ALT_ERASE=153;V.SYSTEM_REQUEST=154;V.CANCEL=155;V.CLEAR=156;V.PRIOR=157;V.RETURN2=
158;V.SEPARATOR=159;V.OUT=160;V.OPER=161;V.CLEAR_AGAIN=162;V.CRSEL=163;V.EXSEL=164;V.NUMPAD_00=176;V.NUMPAD_000=177;V.THOUSAND_SEPARATOR=178;V.DECIMAL_SEPARATOR=179;V.CURRENCY_UNIT=180;V.CURRENCY_SUBUNIT=181;V.NUMPAD_LEFT_PARENTHESIS=182;V.NUMPAD_RIGHT_PARENTHESIS=183;V.NUMPAD_LEFT_BRACE=184;V.NUMPAD_RIGHT_BRACE=185;V.NUMPAD_TAB=186;V.NUMPAD_BACKSPACE=187;V.NUMPAD_A=188;V.NUMPAD_B=189;V.NUMPAD_C=190;V.NUMPAD_D=191;V.NUMPAD_E=192;V.NUMPAD_F=193;V.NUMPAD_XOR=194;V.NUMPAD_POWER=195;V.NUMPAD_PERCENT=
196;V.NUMPAD_LESS_THAN=197;V.NUMPAD_GREATER_THAN=198;V.NUMPAD_AMPERSAND=199;V.NUMPAD_DOUBLE_AMPERSAND=200;V.NUMPAD_VERTICAL_BAR=201;V.NUMPAD_DOUBLE_VERTICAL_BAR=202;V.NUMPAD_COLON=203;V.NUMPAD_HASH=204;V.NUMPAD_SPACE=205;V.NUMPAD_AT=206;V.NUMPAD_EXCLAMATION=207;V.NUMPAD_MEM_STORE=208;V.NUMPAD_MEM_RECALL=209;V.NUMPAD_MEM_CLEAR=210;V.NUMPAD_MEM_ADD=211;V.NUMPAD_MEM_SUBTRACT=212;V.NUMPAD_MEM_MULTIPLY=213;V.NUMPAD_MEM_DIVIDE=214;V.NUMPAD_PLUS_MINUS=215;V.NUMPAD_CLEAR=216;V.NUMPAD_CLEAR_ENTRY=217;V.NUMPAD_BINARY=
218;V.NUMPAD_OCTAL=219;V.NUMPAD_DECIMAL=220;V.NUMPAD_HEXADECIMAL=221;V.LEFT_CTRL=224;V.LEFT_SHIFT=225;V.LEFT_ALT=226;V.LEFT_META=227;V.RIGHT_CTRL=228;V.RIGHT_SHIFT=229;V.RIGHT_ALT=230;V.RIGHT_META=231;V.MODE=257;V.AUDIO_NEXT=258;V.AUDIO_PREVIOUS=259;V.AUDIO_STOP=260;V.AUDIO_PLAY=261;V.AUDIO_MUTE=262;V.MEDIA_SELECT=263;V.WWW=264;V.MAIL=265;V.CALCULATOR=266;V.COMPUTER=267;V.APP_CONTROL_SEARCH=268;V.APP_CONTROL_HOME=269;V.APP_CONTROL_BACK=270;V.APP_CONTROL_FORWARD=271;V.APP_CONTROL_STOP=272;V.APP_CONTROL_REFRESH=
273;V.APP_CONTROL_BOOKMARKS=274;V.BRIGHTNESS_DOWN=275;V.BRIGHTNESS_UP=276;V.DISPLAY_SWITCH=277;V.BACKLIGHT_TOGGLE=278;V.BACKLIGHT_DOWN=279;V.BACKLIGHT_UP=280;V.EJECT=281;V.SLEEP=282;wd.onEnd=new ll;wd.onMove=new ll;wd.onStart=new ll;ra.cache=new zr;ra.onChange=new fd;ra.libraries=new qa;ra.libraryPaths=new qa;Ao.BYTES_PER_ELEMENT=4;Bo.BYTES_PER_ELEMENT=8;Co.BYTES_PER_ELEMENT=2;Do.BYTES_PER_ELEMENT=4;Eo.BYTES_PER_ELEMENT=1;rb.throwErrors=!0;hg.NONE=0;hg.ERROR=1;hg.WARN=2;hg.INFO=3;hg.DEBUG=4;hg.VERBOSE=
5;Fo.BYTES_PER_ELEMENT=2;Go.BYTES_PER_ELEMENT=4;Ho.BYTES_PER_ELEMENT=1;pl.BYTES_PER_ELEMENT=1;oc.actuators=[];oc.actuatorsLength=0;oc.addedEvent=!1;Sa.defaultActuator=oc;Sa.defaultEase=ql.get_easeOut();Sa.targetLibraries=new Hb;xa.current=new Pe;xa.__sentWarnings=new qa;de.empty=new de;Y.SIN45=.7071067811865476;Y.TAN22=.41421356237309503;Y.fillCommands=new de;Y.strokeCommands=new de;G.SIN45=.7071067811865476;G.TAN22=.41421356237309503;G.fillCommands=new de;G.strokeCommands=new de;G.hitTestCanvas=
window.document.createElement("canvas");G.hitTestContext=G.hitTestCanvas.getContext("2d");ri.scale=1;$c.__regexColor=new Za("color=(\"#([^\"]+)\"|'#([^']+)')","i");$c.__regexFace=new Za("face=(\"([^\"]+)\"|'([^']+)')","i");$c.__regexFont=new Za("<font ([^>]+)>","gi");$c.__regexCloseFont=new Za("</font>","gi");$c.__regexSize=new Za("size=(\"([^\"]+)\"|'([^']+)')","i");oe.limitedProfile=!0;Kj.FLOATS_PER_REGISTER=4;Kj.MAX_NUM_REGISTERS=1024;Kj.disableCache=!0;va.debug=!1;ng.instances=new qa;Ya.__regexAlign=
new Za("align=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexBreakTag=new Za("<br\\s*/?>","gi");Ya.__regexBlockIndent=new Za("blockindent=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexColor=new Za("color=(\"#([^\"]+)\"|'#([^']+)')","i");Ya.__regexEntities=[new Za("&quot;","g"),new Za("&apos;","g"),new Za("&amp;","g"),new Za("&lt;","g"),new Za("&gt;","g"),new Za("&nbsp;","g")];Ya.__regexFace=new Za("face=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexHTMLTag=new Za("<.*?>","g");Ya.__regexHref=new Za("href=(\"([^\"]+)\"|'([^']+)')",
"i");Ya.__regexIndent=new Za(" indent=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexLeading=new Za("leading=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexLeftMargin=new Za("leftmargin=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexRightMargin=new Za("rightmargin=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexSize=new Za("size=(\"([^\"]+)\"|'([^']+)')","i");Ya.__regexTabStops=new Za("tabstops=(\"([^\"]+)\"|'([^']+)')","i");Ma.UTF8_TAB=9;Ma.UTF8_ENDLINE=10;Ma.UTF8_SPACE=32;Ma.UTF8_HYPHEN=45;Ma.__defaultFonts=new qa;Al.P=
[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,
212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,
10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,
153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];Ha.__bufferStride=26;Xd.ADD=0;Xd.ALPHA=1;Xd.DARKEN=2;Xd.DIFFERENCE=3;Xd.ERASE=4;Xd.HARDLIGHT=5;Xd.INVERT=6;Xd.LAYER=7;Xd.LIGHTEN=8;Xd.MULTIPLY=9;Xd.NORMAL=10;Xd.OVERLAY=11;Xd.SCREEN=
12;Xd.SHADER=13;Xd.SUBTRACT=14;Hj.NONE=0;Hj.ROUND=1;Hj.SQUARE=2;pp.LINEAR=0;pp.RADIAL=1;pg.SIN45=.7071067811865476;pg.TAN22=.41421356237309503;up.EVEN_ODD=0;up.NON_ZERO=1;vp.LINEAR_RGB=0;vp.RGB=1;Gj.BEVEL=0;Gj.MITER=1;Gj.ROUND=2;Mj.HORIZONTAL=0;Mj.NONE=1;Mj.NORMAL=2;Mj.VERTICAL=3;Yg.__rootURL=window.document.URL;Cl.ALWAYS=0;Cl.AUTO=1;Cl.NEVER=2;sd.BOOL=0;sd.BOOL2=1;sd.BOOL3=2;sd.BOOL4=3;sd.FLOAT=4;sd.FLOAT2=5;sd.FLOAT3=6;sd.FLOAT4=7;sd.INT=8;sd.INT2=9;sd.INT3=10;sd.INT4=11;sd.MATRIX2X2=12;sd.MATRIX2X3=
13;sd.MATRIX2X4=14;sd.MATRIX3X2=15;sd.MATRIX3X3=16;sd.MATRIX3X4=17;sd.MATRIX4X2=18;sd.MATRIX4X3=19;sd.MATRIX4X4=20;xp.FAST=0;xp.FULL=1;El.PAD=0;El.REFLECT=1;El.REPEAT=2;tg.BOTTOM=0;tg.BOTTOM_LEFT=1;tg.BOTTOM_RIGHT=2;tg.LEFT=3;tg.RIGHT=4;tg.TOP=5;tg.TOP_LEFT=6;tg.TOP_RIGHT=7;Gl.FULL_SCREEN=0;Gl.FULL_SCREEN_INTERACTIVE=1;Gl.NORMAL=2;Qj.BEST=0;Qj.HIGH=1;Qj.LOW=2;Qj.MEDIUM=3;Rj.EXACT_FIT=0;Rj.NO_BORDER=1;Rj.NO_SCALE=2;Rj.SHOW_ALL=3;Hl.NEGATIVE=0;Hl.NONE=1;Hl.POSITIVE=2;bc.supportsVideoTexture=!0;bc.MAX_SAMPLERS=
8;bc.MAX_ATTRIBUTES=16;bc.MAX_PROGRAM_REGISTERS=128;bc.TEXTURE_MAX_ANISOTROPY_EXT=0;bc.DEPTH_STENCIL=0;bc.__stateCache=new Kj;uf.DRAW_CALLS=0;uf.COUNT_INDEX_BUFFER=1;uf.COUNT_VERTEX_BUFFER=2;uf.COUNT_TEXTURE=3;uf.COUNT_TEXTURE_COMPRESSED=4;uf.COUNT_PROGRAM=5;uf.MEM_INDEX_BUFFER=6;uf.MEM_VERTEX_BUFFER=7;uf.MEM_TEXTURE=8;uf.MEM_TEXTURE_COMPRESSED=9;uf.MEM_PROGRAM=10;uf.$length=11;vf.DESTINATION_ALPHA=0;vf.DESTINATION_COLOR=1;vf.ONE=2;vf.ONE_MINUS_DESTINATION_ALPHA=3;vf.ONE_MINUS_DESTINATION_COLOR=4;
vf.ONE_MINUS_SOURCE_ALPHA=5;vf.ONE_MINUS_SOURCE_COLOR=6;vf.SOURCE_ALPHA=7;vf.SOURCE_COLOR=8;vf.ZERO=9;Gh.DYNAMIC_DRAW=0;Gh.STATIC_DRAW=1;ug.ALWAYS=0;ug.EQUAL=1;ug.GREATER=2;ug.GREATER_EQUAL=3;ug.LESS=4;ug.LESS_EQUAL=5;ug.NEVER=6;ug.NOT_EQUAL=7;Il.MIPLINEAR=0;Il.MIPNEAREST=1;Il.MIPNONE=2;lh.BASELINE=0;lh.BASELINE_CONSTRAINED=1;lh.BASELINE_EXTENDED=2;lh.STANDARD=3;lh.STANDARD_CONSTRAINED=4;Se.FRAGMENT=0;Se.VERTEX=1;zp.AUTO=0;zp.SOFTWARE=1;vg.DECREMENT_SATURATE=0;vg.DECREMENT_WRAP=1;vg.INCREMENT_SATURATE=
2;vg.INCREMENT_WRAP=3;vg.INVERT=4;vg.KEEP=5;vg.SET=6;vg.ZERO=7;Hh.ANISOTROPIC16X=0;Hh.ANISOTROPIC2X=1;Hh.ANISOTROPIC4X=2;Hh.ANISOTROPIC8X=3;Hh.LINEAR=4;Hh.NEAREST=5;$g.BGR_PACKED=0;$g.BGRA=1;$g.BGRA_PACKED=2;$g.COMPRESSED=3;$g.COMPRESSED_ALPHA=4;$g.RGBA_HALF_FLOAT=5;Uj.BACK=0;Uj.FRONT=1;Uj.FRONT_AND_BACK=2;Uj.NONE=3;wi.BYTES_4=0;wi.FLOAT_1=1;wi.FLOAT_2=2;wi.FLOAT_3=3;wi.FLOAT_4=4;Vj.CLAMP=0;Vj.CLAMP_U_REPEAT_V=1;Vj.REPEAT=2;Vj.REPEAT_U_CLAMP_V=3;Sj.verbose=5==rb.level;Ff.__lowMemoryMode=!1;Ih.ACTIVITY=
"activity";Lf.LINK="link";Lf.TEXT_INPUT="textInput";ge.ERROR="error";Jl.ASYNC_ERROR="asyncError";sg.FOCUS_IN="focusIn";sg.FOCUS_OUT="focusOut";sg.KEY_FOCUS_CHANGE="keyFocusChange";sg.MOUSE_FOCUS_CHANGE="mouseFocusChange";zg.FULL_SCREEN="fullScreen";zg.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted";wg.DEVICE_ADDED="deviceAdded";wg.DEVICE_REMOVED="deviceRemoved";wg.DEVICE_UNUSABLE="deviceUnusable";yi.HTTP_RESPONSE_STATUS="httpResponseStatus";yi.HTTP_STATUS="httpStatus";Kf.IO_ERROR=
"ioError";vi.KEY_DOWN="keyDown";vi.KEY_UP="keyUp";zb.CLICK="click";zb.DOUBLE_CLICK="doubleClick";zb.MIDDLE_CLICK="middleClick";zb.MIDDLE_MOUSE_DOWN="middleMouseDown";zb.MIDDLE_MOUSE_UP="middleMouseUp";zb.MOUSE_DOWN="mouseDown";zb.MOUSE_MOVE="mouseMove";zb.MOUSE_OUT="mouseOut";zb.MOUSE_OVER="mouseOver";zb.MOUSE_UP="mouseUp";zb.MOUSE_WHEEL="mouseWheel";zb.RIGHT_CLICK="rightClick";zb.RIGHT_MOUSE_DOWN="rightMouseDown";zb.RIGHT_MOUSE_UP="rightMouseUp";zb.ROLL_OUT="rollOut";zb.ROLL_OVER="rollOver";ah.NET_STATUS=
"netStatus";qg.PROGRESS="progress";qg.SOCKET_DATA="socketData";Xj.SECURITY_ERROR="securityError";bh.TIMER="timer";bh.TIMER_COMPLETE="timerComplete";gd.TOUCH_BEGIN="touchBegin";gd.TOUCH_END="touchEnd";gd.TOUCH_MOVE="touchMove";gd.TOUCH_OUT="touchOut";gd.TOUCH_OVER="touchOver";gd.TOUCH_ROLL_OUT="touchRollOut";gd.TOUCH_ROLL_OVER="touchRollOver";gd.TOUCH_TAP="touchTap";Oj.UNCAUGHT_ERROR="uncaughtError";Bp.available=!0;Bp.marshallExceptions=!1;zh.__blurShader=new Cp;Ah.__colorMatrixShader=new Dp;tf.__glowShader=
new Ep;Kl.AXIS_ANGLE=0;Kl.EULER_ANGLES=1;Kl.QUATERNION=2;Pa.__pool=new Ar(function(){return new Pa},function(a){a.setTo(0,0)});ad.MAX_ACTIVE_CHANNELS=32;ad.__soundChannels=[];ad.__soundTransform=new od;mj.__bufferStride=26;al.CONNECT_SUCCESS="NetConnection.Connect.Success";Ll.BINARY=0;Ll.TEXT=1;Ll.VARIABLES=2;Nj.currentDomain=new Nj(null);Xb.avHardwareDisable=!0;Xb.hasAccessibility=!1;Xb.hasAudio=!0;Xb.hasAudioEncoder=!1;Xb.hasEmbeddedVideo=!1;Xb.hasIME=!1;Xb.hasMP3=!1;Xb.hasPrinting=!0;Xb.hasScreenBroadcast=
!1;Xb.hasScreenPlayback=!1;Xb.hasStreamingAudio=!1;Xb.hasStreamingVideo=!1;Xb.hasTLS=!0;Xb.hasVideoEncoder=!0;Xb.isDebugger=!1;Xb.isEmbeddedInAcrobat=!1;Xb.localFileReadDisable=!0;Xb.maxLevelIDC=0;Xb.playerType="PlugIn";Xb.screenColor="color";Xb.serverString="";Xb.supports32BitProcesses=!1;Xb.supports64BitProcesses=!1;Xb.touchscreenType=0;Xb.__standardDensities=[120,160,240,320,480,640,800,960];Gp.currentDomain=new Gp;bg.useCodePage=!1;Ml.FINGER=0;Ml.NONE=1;Ml.STYLUS=2;Hp.ADVANCED=0;Hp.NORMAL=1;Yj.BOLD=
0;Yj.BOLD_ITALIC=1;Yj.ITALIC=2;Yj.REGULAR=3;Nl.DEVICE=0;Nl.EMBEDDED=1;Nl.EMBEDDED_CFF=2;Ol.NONE=0;Ol.PIXEL=1;Ol.SUBPIXEL=2;Tb.__missingFontWarning=new qa;Zj.CENTER=0;Zj.LEFT=1;Zj.NONE=2;Zj.RIGHT=3;Ip.DYNAMIC=0;Ip.INPUT=1;Wg.CENTER=0;Wg.END=1;Wg.JUSTIFY=2;Wg.LEFT=3;Wg.RIGHT=4;Wg.START=5;yb.isSupported=!0;yb.numDevices=0;yb.__deviceList=[];yb.__devices=new Hb;yb.__instances=[];Jp.MAX_BUFFER_SIZE=32E3;wa.NUMBER_0=48;wa.NUMBER_1=49;wa.NUMBER_2=50;wa.NUMBER_3=51;wa.NUMBER_4=52;wa.NUMBER_5=53;wa.NUMBER_6=
54;wa.NUMBER_7=55;wa.NUMBER_8=56;wa.NUMBER_9=57;wa.A=65;wa.B=66;wa.C=67;wa.D=68;wa.E=69;wa.F=70;wa.G=71;wa.H=72;wa.I=73;wa.J=74;wa.K=75;wa.L=76;wa.M=77;wa.N=78;wa.O=79;wa.P=80;wa.Q=81;wa.R=82;wa.S=83;wa.T=84;wa.U=85;wa.V=86;wa.W=87;wa.X=88;wa.Y=89;wa.Z=90;wa.NUMPAD_0=96;wa.NUMPAD_1=97;wa.NUMPAD_2=98;wa.NUMPAD_3=99;wa.NUMPAD_4=100;wa.NUMPAD_5=101;wa.NUMPAD_6=102;wa.NUMPAD_7=103;wa.NUMPAD_8=104;wa.NUMPAD_9=105;wa.NUMPAD_MULTIPLY=106;wa.NUMPAD_ADD=107;wa.NUMPAD_ENTER=108;wa.NUMPAD_SUBTRACT=109;wa.NUMPAD_DECIMAL=
110;wa.NUMPAD_DIVIDE=111;wa.F1=112;wa.F2=113;wa.F3=114;wa.F4=115;wa.F5=116;wa.F6=117;wa.F7=118;wa.F8=119;wa.F9=120;wa.F10=121;wa.F11=122;wa.F12=123;wa.F13=124;wa.F14=125;wa.F15=126;wa.BACKSPACE=8;wa.TAB=9;wa.ALTERNATE=18;wa.ENTER=13;wa.COMMAND=15;wa.SHIFT=16;wa.CONTROL=17;wa.BREAK=19;wa.CAPS_LOCK=20;wa.NUMPAD=21;wa.ESCAPE=27;wa.SPACE=32;wa.PAGE_UP=33;wa.PAGE_DOWN=34;wa.END=35;wa.HOME=36;wa.LEFT=37;wa.RIGHT=39;wa.UP=38;wa.DOWN=40;wa.INSERT=45;wa.DELETE=46;wa.NUMLOCK=144;wa.SEMICOLON=186;wa.EQUAL=187;
wa.COMMA=188;wa.MINUS=189;wa.PERIOD=190;wa.SLASH=191;wa.BACKQUOTE=192;wa.LEFTBRACKET=219;wa.BACKSLASH=220;wa.RIGHTBRACKET=221;wa.QUOTE=222;jf.supportsCursor=!0;jf.supportsNativeCursor=!0;jf.__cursor="auto";Oe.ARROW="arrow";Oe.AUTO="auto";Oe.BUTTON="button";Oe.HAND="hand";Oe.IBEAM="ibeam";Oe.__CROSSHAIR="crosshair";Oe.__CUSTOM="custom";Oe.__MOVE="move";Oe.__RESIZE_NESW="resize_nesw";Oe.__RESIZE_NS="resize_ns";Oe.__RESIZE_NWSE="resize_nwse";Oe.__RESIZE_WE="resize_we";Oe.__WAIT="wait";Oe.__WAIT_ARROW=
"waitarrow";W.OPMAP=new qa;W.REGMAP=new qa;W.SAMPLEMAP=new qa;W.MAX_NESTING=4;W.MAX_OPCODES=4096;W.FRAGMENT="fragment";W.VERTEX="vertex";W.SAMPLER_TYPE_SHIFT=8;W.SAMPLER_DIM_SHIFT=12;W.SAMPLER_SPECIAL_SHIFT=16;W.SAMPLER_REPEAT_SHIFT=20;W.SAMPLER_MIPMAP_SHIFT=24;W.SAMPLER_FILTER_SHIFT=28;W.REG_WRITE=1;W.REG_READ=2;W.REG_FRAG=32;W.REG_VERT=64;W.OP_SCALAR=1;W.OP_SPECIAL_TEX=8;W.OP_SPECIAL_MATRIX=16;W.OP_FRAG_ONLY=32;W.OP_VERT_ONLY=64;W.OP_NO_DEST=128;W.OP_VERSION2=256;W.OP_INCNEST=512;W.OP_DECNEST=1024;
W.MOV="mov";W.ADD="add";W.SUB="sub";W.MUL="mul";W.DIV="div";W.RCP="rcp";W.MIN="min";W.MAX="max";W.FRC="frc";W.SQT="sqt";W.RSQ="rsq";W.POW="pow";W.LOG="log";W.EXP="exp";W.NRM="nrm";W.SIN="sin";W.COS="cos";W.CRS="crs";W.DP3="dp3";W.DP4="dp4";W.ABS="abs";W.NEG="neg";W.SAT="sat";W.M33="m33";W.M44="m44";W.M34="m34";W.DDX="ddx";W.DDY="ddy";W.IFE="ife";W.INE="ine";W.IFG="ifg";W.IFL="ifl";W.IEG="ieg";W.IEL="iel";W.ELS="els";W.EIF="eif";W.TED="ted";W.KIL="kil";W.TEX="tex";W.SGE="sge";W.SLT="slt";W.SGN="sgn";
W.SEQ="seq";W.SNE="sne";W.VA="va";W.VC="vc";W.VT="vt";W.VO="vo";W.VI="vi";W.FC="fc";W.FT="ft";W.FS="fs";W.FO="fo";W.FD="fd";W.IID="iid";W.D2="2d";W.D3="3d";W.CUBE="cube";W.MIPNEAREST="mipnearest";W.MIPLINEAR="miplinear";W.MIPNONE="mipnone";W.NOMIP="nomip";W.NEAREST="nearest";W.LINEAR="linear";W.ANISOTROPIC2X="anisotropic2x";W.ANISOTROPIC4X="anisotropic4x";W.ANISOTROPIC8X="anisotropic8x";W.ANISOTROPIC16X="anisotropic16x";W.CENTROID="centroid";W.SINGLE="single";W.IGNORESAMPLER="ignoresampler";W.REPEAT=
"repeat";W.WRAP="wrap";W.CLAMP="clamp";W.REPEAT_U_CLAMP_V="repeat_u_clamp_v";W.CLAMP_U_REPEAT_V="clamp_u_repeat_v";W.RGBA="rgba";W.COMPRESSED="compressed";W.COMPRESSEDALPHA="compressedalpha";W.DXT1="dxt1";W.DXT5="dxt5";W.VIDEO="video";W.initialized=!1;ma.cache=new Kp;ma.dispatcher=new za;Na.__bytePointer=new kf(null,0);bj.DEFLATE=0;bj.LZMA=1;bj.ZLIB=2;ak.BIG_ENDIAN=0;ak.LITTLE_ENDIAN=1;Pj.__pool=new Br(function(){return new Pj},function(a){a.reset()});Ai.main()})("undefined"!=typeof exports?exports:
"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
